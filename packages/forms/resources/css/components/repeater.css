.fi-fo-repeater {
    @apply grid gap-y-4;

    & .fi-fo-repeater-actions {
        @apply flex gap-x-3;

        &.fi-hidden {
            @apply hidden;
        }
    }

    & .fi-fo-repeater-items {
        @apply items-start gap-4;
    }

    & .fi-fo-repeater-item {
        @apply divide-y divide-gray-100 rounded-xl bg-white shadow-xs ring-1 ring-gray-950/5 dark:divide-white/10 dark:bg-white/5 dark:ring-white/10;

        &.fi-collapsed {
            & .fi-fo-repeater-item-header-collapsible-actions {
                @apply -rotate-180;
            }

            & .fi-fo-repeater-item-header-collapse-action {
                @apply pointer-events-none opacity-0;
            }
        }

        &:not(.fi-collapsed) {
            & .fi-fo-repeater-item-header-expand-action {
                @apply pointer-events-none opacity-0;
            }
        }
    }

    & .fi-fo-repeater-item-header {
        @apply flex items-center gap-x-3 overflow-hidden px-4 py-3;
    }

    &.fi-collapsible {
        & .fi-fo-repeater-item-header {
            @apply cursor-pointer select-none;
        }
    }

    & .fi-fo-repeater-item-header-start-actions {
        @apply flex items-center gap-x-3;
    }

    & .fi-fo-repeater-item-header-icon {
        @apply text-gray-400 dark:text-gray-500;
    }

    & .fi-fo-repeater-item-header-label {
        @apply text-sm font-medium text-gray-950 dark:text-white;

        &.fi-truncated {
            @apply truncate;
        }
    }

    & .fi-fo-repeater-item-header-end-actions {
        @apply ms-auto flex items-center gap-x-3;
    }

    & .fi-fo-repeater-item-header-collapsible-actions {
        @apply relative transition;
    }

    & .fi-fo-repeater-item-header-collapse-action {
        @apply transition;
    }

    & .fi-fo-repeater-item-header-expand-action {
        @apply absolute inset-0 rotate-180 transition;
    }

    & .fi-fo-repeater-item-content {
        @apply p-4;
    }

    & .fi-fo-repeater-add-between-items-ctn {
        @apply flex w-full justify-center;
    }

    & .fi-fo-repeater-add-between-items {
        @apply rounded-lg bg-white dark:bg-gray-900;
    }

    & .fi-fo-repeater-label-between-items-ctn {
        @apply relative border-t border-gray-200 dark:border-white/10;
    }

    & .fi-fo-repeater-label-between-items {
        @apply absolute -top-3 left-3 px-1 text-sm font-medium;
    }

    & .fi-fo-repeater-add {
        @apply flex w-full justify-center;

        &.fi-align-start,
        &.fi-align-left {
            @apply justify-start;
        }

        &.fi-align-end,
        &.fi-align-right {
            @apply justify-end;
        }
    }
}

.fi-fo-simple-repeater {
    @apply grid gap-y-4;

    & .fi-fo-simple-repeater-items {
        @apply gap-4;
    }

    & .fi-fo-simple-repeater-item {
        @apply flex justify-start gap-x-3;
    }

    & .fi-fo-simple-repeater-item-content {
        @apply flex-1;
    }

    & .fi-fo-simple-repeater-item-actions {
        @apply flex items-center gap-x-1;
    }

    & .fi-fo-simple-repeater-add {
        @apply flex w-full justify-center;

        &.fi-align-start,
        &.fi-align-left {
            @apply justify-start;
        }

        &.fi-align-end,
        &.fi-align-right {
            @apply justify-end;
        }
    }
}

.fi-fo-table-repeater {
    & table {
        @apply whitespace-nowrap w-full divide-y divide-gray-200 rounded-xl bg-white shadow-sm ring-1 ring-gray-950/5 dark:divide-white/10 dark:bg-gray-900 dark:ring-white/10;
    }

    & thead {
        & > tr {
            @apply bg-gray-50 dark:bg-white/5;

            & > th {
                @apply px-3 py-2 text-sm font-semibold text-gray-950 dark:text-white border-gray-200 dark:border-white/5 [&:not(:first-of-type)]:border-s [&:not(:last-of-type)]:border-e first-of-type:rounded-tl-xl last-of-type:rounded-tr-xl;
            }
        }
    }

    & tbody {
        @apply divide-y divide-gray-200 dark:divide-white/5;

        & td {
            @apply px-3 pb-2;
        }
    }

    & .fi-fo-table-repeater-header-required-mark {
        @apply text-danger-600 dark:text-danger-400 font-medium;
    }

    & .fi-fo-table-repeater-actions {
        @apply flex h-full items-center gap-x-3 px-3 pt-2;
    }

    & .fi-fo-table-repeater-add {
        @apply mt-3 flex w-full justify-center;

        &.fi-align-start,
        &.fi-align-left {
            @apply justify-start;
        }

        &.fi-align-end,
        &.fi-align-right {
            @apply justify-end;
        }
    }
}
