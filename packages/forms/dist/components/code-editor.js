// node_modules/@marijn/find-cluster-break/src/index.js
var rangeFrom = [];
var rangeTo = [];
(() => {
  let numbers = "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((s) => s ? parseInt(s, 36) : 1);
  for (let i = 0, n = 0; i < numbers.length; i++)
    (i % 2 ? rangeTo : rangeFrom).push(n = n + numbers[i]);
})();
function isExtendingChar(code) {
  if (code < 768) return false;
  for (let from2 = 0, to = rangeFrom.length; ; ) {
    let mid = from2 + to >> 1;
    if (code < rangeFrom[mid]) to = mid;
    else if (code >= rangeTo[mid]) from2 = mid + 1;
    else return true;
    if (from2 == to) return false;
  }
}
function isRegionalIndicator(code) {
  return code >= 127462 && code <= 127487;
}
var ZWJ = 8205;
function findClusterBreak(str, pos, forward = true, includeExtending = true) {
  return (forward ? nextClusterBreak : prevClusterBreak)(str, pos, includeExtending);
}
function nextClusterBreak(str, pos, includeExtending) {
  if (pos == str.length) return pos;
  if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1))) pos--;
  let prev = codePointAt(str, pos);
  pos += codePointSize(prev);
  while (pos < str.length) {
    let next = codePointAt(str, pos);
    if (prev == ZWJ || next == ZWJ || includeExtending && isExtendingChar(next)) {
      pos += codePointSize(next);
      prev = next;
    } else if (isRegionalIndicator(next)) {
      let countBefore = 0, i = pos - 2;
      while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {
        countBefore++;
        i -= 2;
      }
      if (countBefore % 2 == 0) break;
      else pos += 2;
    } else {
      break;
    }
  }
  return pos;
}
function prevClusterBreak(str, pos, includeExtending) {
  while (pos > 0) {
    let found = nextClusterBreak(str, pos - 2, includeExtending);
    if (found < pos) return found;
    pos--;
  }
  return 0;
}
function codePointAt(str, pos) {
  let code0 = str.charCodeAt(pos);
  if (!surrogateHigh(code0) || pos + 1 == str.length) return code0;
  let code1 = str.charCodeAt(pos + 1);
  if (!surrogateLow(code1)) return code0;
  return (code0 - 55296 << 10) + (code1 - 56320) + 65536;
}
function surrogateLow(ch) {
  return ch >= 56320 && ch < 57344;
}
function surrogateHigh(ch) {
  return ch >= 55296 && ch < 56320;
}
function codePointSize(code) {
  return code < 65536 ? 1 : 2;
}

// node_modules/@codemirror/state/dist/index.js
var Text = class _Text {
  /**
  Get the line description around the given position.
  */
  lineAt(pos) {
    if (pos < 0 || pos > this.length)
      throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);
    return this.lineInner(pos, false, 1, 0);
  }
  /**
  Get the description for the given (1-based) line number.
  */
  line(n) {
    if (n < 1 || n > this.lines)
      throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);
    return this.lineInner(n, true, 1, 0);
  }
  /**
  Replace a range of the text with the given content.
  */
  replace(from2, to, text) {
    [from2, to] = clip(this, from2, to);
    let parts = [];
    this.decompose(
      0,
      from2,
      parts,
      2
      /* Open.To */
    );
    if (text.length)
      text.decompose(
        0,
        text.length,
        parts,
        1 | 2
        /* Open.To */
      );
    this.decompose(
      to,
      this.length,
      parts,
      1
      /* Open.From */
    );
    return TextNode.from(parts, this.length - (to - from2) + text.length);
  }
  /**
  Append another document to this one.
  */
  append(other) {
    return this.replace(this.length, this.length, other);
  }
  /**
  Retrieve the text between the given points.
  */
  slice(from2, to = this.length) {
    [from2, to] = clip(this, from2, to);
    let parts = [];
    this.decompose(from2, to, parts, 0);
    return TextNode.from(parts, to - from2);
  }
  /**
  Test whether this text is equal to another instance.
  */
  eq(other) {
    if (other == this)
      return true;
    if (other.length != this.length || other.lines != this.lines)
      return false;
    let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);
    let a = new RawTextCursor(this), b = new RawTextCursor(other);
    for (let skip = start, pos = start; ; ) {
      a.next(skip);
      b.next(skip);
      skip = 0;
      if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)
        return false;
      pos += a.value.length;
      if (a.done || pos >= end)
        return true;
    }
  }
  /**
  Iterate over the text. When `dir` is `-1`, iteration happens
  from end to start. This will return lines and the breaks between
  them as separate strings.
  */
  iter(dir = 1) {
    return new RawTextCursor(this, dir);
  }
  /**
  Iterate over a range of the text. When `from` > `to`, the
  iterator will run in reverse.
  */
  iterRange(from2, to = this.length) {
    return new PartialTextCursor(this, from2, to);
  }
  /**
  Return a cursor that iterates over the given range of lines,
  _without_ returning the line breaks between, and yielding empty
  strings for empty lines.
  
  When `from` and `to` are given, they should be 1-based line numbers.
  */
  iterLines(from2, to) {
    let inner;
    if (from2 == null) {
      inner = this.iter();
    } else {
      if (to == null)
        to = this.lines + 1;
      let start = this.line(from2).from;
      inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));
    }
    return new LineCursor(inner);
  }
  /**
  Return the document as a string, using newline characters to
  separate lines.
  */
  toString() {
    return this.sliceString(0);
  }
  /**
  Convert the document to an array of lines (which can be
  deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#state.Text^of)).
  */
  toJSON() {
    let lines = [];
    this.flatten(lines);
    return lines;
  }
  /**
  @internal
  */
  constructor() {
  }
  /**
  Create a `Text` instance for the given array of lines.
  */
  static of(text) {
    if (text.length == 0)
      throw new RangeError("A document must have at least one line");
    if (text.length == 1 && !text[0])
      return _Text.empty;
    return text.length <= 32 ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));
  }
};
var TextLeaf = class _TextLeaf extends Text {
  constructor(text, length = textLength(text)) {
    super();
    this.text = text;
    this.length = length;
  }
  get lines() {
    return this.text.length;
  }
  get children() {
    return null;
  }
  lineInner(target, isLine, line, offset) {
    for (let i = 0; ; i++) {
      let string2 = this.text[i], end = offset + string2.length;
      if ((isLine ? line : end) >= target)
        return new Line(offset, end, line, string2);
      offset = end + 1;
      line++;
    }
  }
  decompose(from2, to, target, open) {
    let text = from2 <= 0 && to >= this.length ? this : new _TextLeaf(sliceText(this.text, from2, to), Math.min(to, this.length) - Math.max(0, from2));
    if (open & 1) {
      let prev = target.pop();
      let joined = appendText(text.text, prev.text.slice(), 0, text.length);
      if (joined.length <= 32) {
        target.push(new _TextLeaf(joined, prev.length + text.length));
      } else {
        let mid = joined.length >> 1;
        target.push(new _TextLeaf(joined.slice(0, mid)), new _TextLeaf(joined.slice(mid)));
      }
    } else {
      target.push(text);
    }
  }
  replace(from2, to, text) {
    if (!(text instanceof _TextLeaf))
      return super.replace(from2, to, text);
    [from2, to] = clip(this, from2, to);
    let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from2)), to);
    let newLen = this.length + text.length - (to - from2);
    if (lines.length <= 32)
      return new _TextLeaf(lines, newLen);
    return TextNode.from(_TextLeaf.split(lines, []), newLen);
  }
  sliceString(from2, to = this.length, lineSep = "\n") {
    [from2, to] = clip(this, from2, to);
    let result = "";
    for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {
      let line = this.text[i], end = pos + line.length;
      if (pos > from2 && i)
        result += lineSep;
      if (from2 < end && to > pos)
        result += line.slice(Math.max(0, from2 - pos), to - pos);
      pos = end + 1;
    }
    return result;
  }
  flatten(target) {
    for (let line of this.text)
      target.push(line);
  }
  scanIdentical() {
    return 0;
  }
  static split(text, target) {
    let part = [], len = -1;
    for (let line of text) {
      part.push(line);
      len += line.length + 1;
      if (part.length == 32) {
        target.push(new _TextLeaf(part, len));
        part = [];
        len = -1;
      }
    }
    if (len > -1)
      target.push(new _TextLeaf(part, len));
    return target;
  }
};
var TextNode = class _TextNode extends Text {
  constructor(children, length) {
    super();
    this.children = children;
    this.length = length;
    this.lines = 0;
    for (let child of children)
      this.lines += child.lines;
  }
  lineInner(target, isLine, line, offset) {
    for (let i = 0; ; i++) {
      let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;
      if ((isLine ? endLine : end) >= target)
        return child.lineInner(target, isLine, line, offset);
      offset = end + 1;
      line = endLine + 1;
    }
  }
  decompose(from2, to, target, open) {
    for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {
      let child = this.children[i], end = pos + child.length;
      if (from2 <= end && to >= pos) {
        let childOpen = open & ((pos <= from2 ? 1 : 0) | (end >= to ? 2 : 0));
        if (pos >= from2 && end <= to && !childOpen)
          target.push(child);
        else
          child.decompose(from2 - pos, to - pos, target, childOpen);
      }
      pos = end + 1;
    }
  }
  replace(from2, to, text) {
    [from2, to] = clip(this, from2, to);
    if (text.lines < this.lines)
      for (let i = 0, pos = 0; i < this.children.length; i++) {
        let child = this.children[i], end = pos + child.length;
        if (from2 >= pos && to <= end) {
          let updated = child.replace(from2 - pos, to - pos, text);
          let totalLines = this.lines - child.lines + updated.lines;
          if (updated.lines < totalLines >> 5 - 1 && updated.lines > totalLines >> 5 + 1) {
            let copy = this.children.slice();
            copy[i] = updated;
            return new _TextNode(copy, this.length - (to - from2) + text.length);
          }
          return super.replace(pos, end, updated);
        }
        pos = end + 1;
      }
    return super.replace(from2, to, text);
  }
  sliceString(from2, to = this.length, lineSep = "\n") {
    [from2, to] = clip(this, from2, to);
    let result = "";
    for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {
      let child = this.children[i], end = pos + child.length;
      if (pos > from2 && i)
        result += lineSep;
      if (from2 < end && to > pos)
        result += child.sliceString(from2 - pos, to - pos, lineSep);
      pos = end + 1;
    }
    return result;
  }
  flatten(target) {
    for (let child of this.children)
      child.flatten(target);
  }
  scanIdentical(other, dir) {
    if (!(other instanceof _TextNode))
      return 0;
    let length = 0;
    let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length] : [this.children.length - 1, other.children.length - 1, -1, -1];
    for (; ; iA += dir, iB += dir) {
      if (iA == eA || iB == eB)
        return length;
      let chA = this.children[iA], chB = other.children[iB];
      if (chA != chB)
        return length + chA.scanIdentical(chB, dir);
      length += chA.length + 1;
    }
  }
  static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {
    let lines = 0;
    for (let ch of children)
      lines += ch.lines;
    if (lines < 32) {
      let flat = [];
      for (let ch of children)
        ch.flatten(flat);
      return new TextLeaf(flat, length);
    }
    let chunk = Math.max(
      32,
      lines >> 5
      /* Tree.BranchShift */
    ), maxChunk = chunk << 1, minChunk = chunk >> 1;
    let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];
    function add2(child) {
      let last;
      if (child.lines > maxChunk && child instanceof _TextNode) {
        for (let node of child.children)
          add2(node);
      } else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {
        flush();
        chunked.push(child);
      } else if (child instanceof TextLeaf && currentLines && (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf && child.lines + last.lines <= 32) {
        currentLines += child.lines;
        currentLen += child.length + 1;
        currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);
      } else {
        if (currentLines + child.lines > chunk)
          flush();
        currentLines += child.lines;
        currentLen += child.length + 1;
        currentChunk.push(child);
      }
    }
    function flush() {
      if (currentLines == 0)
        return;
      chunked.push(currentChunk.length == 1 ? currentChunk[0] : _TextNode.from(currentChunk, currentLen));
      currentLen = -1;
      currentLines = currentChunk.length = 0;
    }
    for (let child of children)
      add2(child);
    flush();
    return chunked.length == 1 ? chunked[0] : new _TextNode(chunked, length);
  }
};
Text.empty = /* @__PURE__ */ new TextLeaf([""], 0);
function textLength(text) {
  let length = -1;
  for (let line of text)
    length += line.length + 1;
  return length;
}
function appendText(text, target, from2 = 0, to = 1e9) {
  for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {
    let line = text[i], end = pos + line.length;
    if (end >= from2) {
      if (end > to)
        line = line.slice(0, to - pos);
      if (pos < from2)
        line = line.slice(from2 - pos);
      if (first) {
        target[target.length - 1] += line;
        first = false;
      } else
        target.push(line);
    }
    pos = end + 1;
  }
  return target;
}
function sliceText(text, from2, to) {
  return appendText(text, [""], from2, to);
}
var RawTextCursor = class {
  constructor(text, dir = 1) {
    this.dir = dir;
    this.done = false;
    this.lineBreak = false;
    this.value = "";
    this.nodes = [text];
    this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];
  }
  nextInner(skip, dir) {
    this.done = this.lineBreak = false;
    for (; ; ) {
      let last = this.nodes.length - 1;
      let top2 = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;
      let size = top2 instanceof TextLeaf ? top2.text.length : top2.children.length;
      if (offset == (dir > 0 ? size : 0)) {
        if (last == 0) {
          this.done = true;
          this.value = "";
          return this;
        }
        if (dir > 0)
          this.offsets[last - 1]++;
        this.nodes.pop();
        this.offsets.pop();
      } else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {
        this.offsets[last] += dir;
        if (skip == 0) {
          this.lineBreak = true;
          this.value = "\n";
          return this;
        }
        skip--;
      } else if (top2 instanceof TextLeaf) {
        let next = top2.text[offset + (dir < 0 ? -1 : 0)];
        this.offsets[last] += dir;
        if (next.length > Math.max(0, skip)) {
          this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);
          return this;
        }
        skip -= next.length;
      } else {
        let next = top2.children[offset + (dir < 0 ? -1 : 0)];
        if (skip > next.length) {
          skip -= next.length;
          this.offsets[last] += dir;
        } else {
          if (dir < 0)
            this.offsets[last]--;
          this.nodes.push(next);
          this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);
        }
      }
    }
  }
  next(skip = 0) {
    if (skip < 0) {
      this.nextInner(-skip, -this.dir);
      skip = this.value.length;
    }
    return this.nextInner(skip, this.dir);
  }
};
var PartialTextCursor = class {
  constructor(text, start, end) {
    this.value = "";
    this.done = false;
    this.cursor = new RawTextCursor(text, start > end ? -1 : 1);
    this.pos = start > end ? text.length : 0;
    this.from = Math.min(start, end);
    this.to = Math.max(start, end);
  }
  nextInner(skip, dir) {
    if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {
      this.value = "";
      this.done = true;
      return this;
    }
    skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);
    let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;
    if (skip > limit)
      skip = limit;
    limit -= skip;
    let { value } = this.cursor.next(skip);
    this.pos += (value.length + skip) * dir;
    this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);
    this.done = !this.value;
    return this;
  }
  next(skip = 0) {
    if (skip < 0)
      skip = Math.max(skip, this.from - this.pos);
    else if (skip > 0)
      skip = Math.min(skip, this.to - this.pos);
    return this.nextInner(skip, this.cursor.dir);
  }
  get lineBreak() {
    return this.cursor.lineBreak && this.value != "";
  }
};
var LineCursor = class {
  constructor(inner) {
    this.inner = inner;
    this.afterBreak = true;
    this.value = "";
    this.done = false;
  }
  next(skip = 0) {
    let { done, lineBreak, value } = this.inner.next(skip);
    if (done && this.afterBreak) {
      this.value = "";
      this.afterBreak = false;
    } else if (done) {
      this.done = true;
      this.value = "";
    } else if (lineBreak) {
      if (this.afterBreak) {
        this.value = "";
      } else {
        this.afterBreak = true;
        this.next();
      }
    } else {
      this.value = value;
      this.afterBreak = false;
    }
    return this;
  }
  get lineBreak() {
    return false;
  }
};
if (typeof Symbol != "undefined") {
  Text.prototype[Symbol.iterator] = function() {
    return this.iter();
  };
  RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] = LineCursor.prototype[Symbol.iterator] = function() {
    return this;
  };
}
var Line = class {
  /**
  @internal
  */
  constructor(from2, to, number2, text) {
    this.from = from2;
    this.to = to;
    this.number = number2;
    this.text = text;
  }
  /**
  The length of the line (not including any line break after it).
  */
  get length() {
    return this.to - this.from;
  }
};
function clip(text, from2, to) {
  from2 = Math.max(0, Math.min(text.length, from2));
  return [from2, Math.max(from2, Math.min(text.length, to))];
}
function findClusterBreak2(str, pos, forward = true, includeExtending = true) {
  return findClusterBreak(str, pos, forward, includeExtending);
}
function surrogateLow2(ch) {
  return ch >= 56320 && ch < 57344;
}
function surrogateHigh2(ch) {
  return ch >= 55296 && ch < 56320;
}
function codePointAt2(str, pos) {
  let code0 = str.charCodeAt(pos);
  if (!surrogateHigh2(code0) || pos + 1 == str.length)
    return code0;
  let code1 = str.charCodeAt(pos + 1);
  if (!surrogateLow2(code1))
    return code0;
  return (code0 - 55296 << 10) + (code1 - 56320) + 65536;
}
function fromCodePoint(code) {
  if (code <= 65535)
    return String.fromCharCode(code);
  code -= 65536;
  return String.fromCharCode((code >> 10) + 55296, (code & 1023) + 56320);
}
function codePointSize2(code) {
  return code < 65536 ? 1 : 2;
}
var DefaultSplit = /\r\n?|\n/;
var MapMode = /* @__PURE__ */ function(MapMode2) {
  MapMode2[MapMode2["Simple"] = 0] = "Simple";
  MapMode2[MapMode2["TrackDel"] = 1] = "TrackDel";
  MapMode2[MapMode2["TrackBefore"] = 2] = "TrackBefore";
  MapMode2[MapMode2["TrackAfter"] = 3] = "TrackAfter";
  return MapMode2;
}(MapMode || (MapMode = {}));
var ChangeDesc = class _ChangeDesc {
  // Sections are encoded as pairs of integers. The first is the
  // length in the current document, and the second is -1 for
  // unaffected sections, and the length of the replacement content
  // otherwise. So an insertion would be (0, n>0), a deletion (n>0,
  // 0), and a replacement two positive numbers.
  /**
  @internal
  */
  constructor(sections) {
    this.sections = sections;
  }
  /**
  The length of the document before the change.
  */
  get length() {
    let result = 0;
    for (let i = 0; i < this.sections.length; i += 2)
      result += this.sections[i];
    return result;
  }
  /**
  The length of the document after the change.
  */
  get newLength() {
    let result = 0;
    for (let i = 0; i < this.sections.length; i += 2) {
      let ins = this.sections[i + 1];
      result += ins < 0 ? this.sections[i] : ins;
    }
    return result;
  }
  /**
  False when there are actual changes in this set.
  */
  get empty() {
    return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0;
  }
  /**
  Iterate over the unchanged parts left by these changes. `posA`
  provides the position of the range in the old document, `posB`
  the new position in the changed document.
  */
  iterGaps(f) {
    for (let i = 0, posA = 0, posB = 0; i < this.sections.length; ) {
      let len = this.sections[i++], ins = this.sections[i++];
      if (ins < 0) {
        f(posA, posB, len);
        posB += len;
      } else {
        posB += ins;
      }
      posA += len;
    }
  }
  /**
  Iterate over the ranges changed by these changes. (See
  [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a
  variant that also provides you with the inserted text.)
  `fromA`/`toA` provides the extent of the change in the starting
  document, `fromB`/`toB` the extent of the replacement in the
  changed document.
  
  When `individual` is true, adjacent changes (which are kept
  separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are
  reported separately.
  */
  iterChangedRanges(f, individual = false) {
    iterChanges(this, f, individual);
  }
  /**
  Get a description of the inverted form of these changes.
  */
  get invertedDesc() {
    let sections = [];
    for (let i = 0; i < this.sections.length; ) {
      let len = this.sections[i++], ins = this.sections[i++];
      if (ins < 0)
        sections.push(len, ins);
      else
        sections.push(ins, len);
    }
    return new _ChangeDesc(sections);
  }
  /**
  Compute the combined effect of applying another set of changes
  after this one. The length of the document after this set should
  match the length before `other`.
  */
  composeDesc(other) {
    return this.empty ? other : other.empty ? this : composeSets(this, other);
  }
  /**
  Map this description, which should start with the same document
  as `other`, over another set of changes, so that it can be
  applied after it. When `before` is true, map as if the changes
  in `this` happened before the ones in `other`.
  */
  mapDesc(other, before = false) {
    return other.empty ? this : mapSet(this, other, before);
  }
  mapPos(pos, assoc = -1, mode = MapMode.Simple) {
    let posA = 0, posB = 0;
    for (let i = 0; i < this.sections.length; ) {
      let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;
      if (ins < 0) {
        if (endA > pos)
          return posB + (pos - posA);
        posB += len;
      } else {
        if (mode != MapMode.Simple && endA >= pos && (mode == MapMode.TrackDel && posA < pos && endA > pos || mode == MapMode.TrackBefore && posA < pos || mode == MapMode.TrackAfter && endA > pos))
          return null;
        if (endA > pos || endA == pos && assoc < 0 && !len)
          return pos == posA || assoc < 0 ? posB : posB + ins;
        posB += ins;
      }
      posA = endA;
    }
    if (pos > posA)
      throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);
    return posB;
  }
  /**
  Check whether these changes touch a given range. When one of the
  changes entirely covers the range, the string `"cover"` is
  returned.
  */
  touchesRange(from2, to = from2) {
    for (let i = 0, pos = 0; i < this.sections.length && pos <= to; ) {
      let len = this.sections[i++], ins = this.sections[i++], end = pos + len;
      if (ins >= 0 && pos <= to && end >= from2)
        return pos < from2 && end > to ? "cover" : true;
      pos = end;
    }
    return false;
  }
  /**
  @internal
  */
  toString() {
    let result = "";
    for (let i = 0; i < this.sections.length; ) {
      let len = this.sections[i++], ins = this.sections[i++];
      result += (result ? " " : "") + len + (ins >= 0 ? ":" + ins : "");
    }
    return result;
  }
  /**
  Serialize this change desc to a JSON-representable value.
  */
  toJSON() {
    return this.sections;
  }
  /**
  Create a change desc from its JSON representation (as produced
  by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).
  */
  static fromJSON(json2) {
    if (!Array.isArray(json2) || json2.length % 2 || json2.some((a) => typeof a != "number"))
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new _ChangeDesc(json2);
  }
  /**
  @internal
  */
  static create(sections) {
    return new _ChangeDesc(sections);
  }
};
var ChangeSet = class _ChangeSet extends ChangeDesc {
  constructor(sections, inserted) {
    super(sections);
    this.inserted = inserted;
  }
  /**
  Apply the changes to a document, returning the modified
  document.
  */
  apply(doc2) {
    if (this.length != doc2.length)
      throw new RangeError("Applying change set to a document with the wrong length");
    iterChanges(this, (fromA, toA, fromB, _toB, text) => doc2 = doc2.replace(fromB, fromB + (toA - fromA), text), false);
    return doc2;
  }
  mapDesc(other, before = false) {
    return mapSet(this, other, before, true);
  }
  /**
  Given the document as it existed _before_ the changes, return a
  change set that represents the inverse of this set, which could
  be used to go from the document created by the changes back to
  the document as it existed before the changes.
  */
  invert(doc2) {
    let sections = this.sections.slice(), inserted = [];
    for (let i = 0, pos = 0; i < sections.length; i += 2) {
      let len = sections[i], ins = sections[i + 1];
      if (ins >= 0) {
        sections[i] = ins;
        sections[i + 1] = len;
        let index = i >> 1;
        while (inserted.length < index)
          inserted.push(Text.empty);
        inserted.push(len ? doc2.slice(pos, pos + len) : Text.empty);
      }
      pos += len;
    }
    return new _ChangeSet(sections, inserted);
  }
  /**
  Combine two subsequent change sets into a single set. `other`
  must start in the document produced by `this`. If `this` goes
  `docA` → `docB` and `other` represents `docB` → `docC`, the
  returned value will represent the change `docA` → `docC`.
  */
  compose(other) {
    return this.empty ? other : other.empty ? this : composeSets(this, other, true);
  }
  /**
  Given another change set starting in the same document, maps this
  change set over the other, producing a new change set that can be
  applied to the document produced by applying `other`. When
  `before` is `true`, order changes as if `this` comes before
  `other`, otherwise (the default) treat `other` as coming first.
  
  Given two changes `A` and `B`, `A.compose(B.map(A))` and
  `B.compose(A.map(B, true))` will produce the same document. This
  provides a basic form of [operational
  transformation](https://en.wikipedia.org/wiki/Operational_transformation),
  and can be used for collaborative editing.
  */
  map(other, before = false) {
    return other.empty ? this : mapSet(this, other, before, true);
  }
  /**
  Iterate over the changed ranges in the document, calling `f` for
  each, with the range in the original document (`fromA`-`toA`)
  and the range that replaces it in the new document
  (`fromB`-`toB`).
  
  When `individual` is true, adjacent changes are reported
  separately.
  */
  iterChanges(f, individual = false) {
    iterChanges(this, f, individual);
  }
  /**
  Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change
  set.
  */
  get desc() {
    return ChangeDesc.create(this.sections);
  }
  /**
  @internal
  */
  filter(ranges) {
    let resultSections = [], resultInserted = [], filteredSections = [];
    let iter = new SectionIter(this);
    done: for (let i = 0, pos = 0; ; ) {
      let next = i == ranges.length ? 1e9 : ranges[i++];
      while (pos < next || pos == next && iter.len == 0) {
        if (iter.done)
          break done;
        let len = Math.min(iter.len, next - pos);
        addSection(filteredSections, len, -1);
        let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;
        addSection(resultSections, len, ins);
        if (ins > 0)
          addInsert(resultInserted, resultSections, iter.text);
        iter.forward(len);
        pos += len;
      }
      let end = ranges[i++];
      while (pos < end) {
        if (iter.done)
          break done;
        let len = Math.min(iter.len, end - pos);
        addSection(resultSections, len, -1);
        addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);
        iter.forward(len);
        pos += len;
      }
    }
    return {
      changes: new _ChangeSet(resultSections, resultInserted),
      filtered: ChangeDesc.create(filteredSections)
    };
  }
  /**
  Serialize this change set to a JSON-representable value.
  */
  toJSON() {
    let parts = [];
    for (let i = 0; i < this.sections.length; i += 2) {
      let len = this.sections[i], ins = this.sections[i + 1];
      if (ins < 0)
        parts.push(len);
      else if (ins == 0)
        parts.push([len]);
      else
        parts.push([len].concat(this.inserted[i >> 1].toJSON()));
    }
    return parts;
  }
  /**
  Create a change set for the given changes, for a document of the
  given length, using `lineSep` as line separator.
  */
  static of(changes, length, lineSep) {
    let sections = [], inserted = [], pos = 0;
    let total = null;
    function flush(force = false) {
      if (!force && !sections.length)
        return;
      if (pos < length)
        addSection(sections, length - pos, -1);
      let set = new _ChangeSet(sections, inserted);
      total = total ? total.compose(set.map(total)) : set;
      sections = [];
      inserted = [];
      pos = 0;
    }
    function process2(spec) {
      if (Array.isArray(spec)) {
        for (let sub of spec)
          process2(sub);
      } else if (spec instanceof _ChangeSet) {
        if (spec.length != length)
          throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);
        flush();
        total = total ? total.compose(spec.map(total)) : spec;
      } else {
        let { from: from2, to = from2, insert: insert2 } = spec;
        if (from2 > to || from2 < 0 || to > length)
          throw new RangeError(`Invalid change range ${from2} to ${to} (in doc of length ${length})`);
        let insText = !insert2 ? Text.empty : typeof insert2 == "string" ? Text.of(insert2.split(lineSep || DefaultSplit)) : insert2;
        let insLen = insText.length;
        if (from2 == to && insLen == 0)
          return;
        if (from2 < pos)
          flush();
        if (from2 > pos)
          addSection(sections, from2 - pos, -1);
        addSection(sections, to - from2, insLen);
        addInsert(inserted, sections, insText);
        pos = to;
      }
    }
    process2(changes);
    flush(!total);
    return total;
  }
  /**
  Create an empty changeset of the given length.
  */
  static empty(length) {
    return new _ChangeSet(length ? [length, -1] : [], []);
  }
  /**
  Create a changeset from its JSON representation (as produced by
  [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).
  */
  static fromJSON(json2) {
    if (!Array.isArray(json2))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    let sections = [], inserted = [];
    for (let i = 0; i < json2.length; i++) {
      let part = json2[i];
      if (typeof part == "number") {
        sections.push(part, -1);
      } else if (!Array.isArray(part) || typeof part[0] != "number" || part.some((e, i2) => i2 && typeof e != "string")) {
        throw new RangeError("Invalid JSON representation of ChangeSet");
      } else if (part.length == 1) {
        sections.push(part[0], 0);
      } else {
        while (inserted.length < i)
          inserted.push(Text.empty);
        inserted[i] = Text.of(part.slice(1));
        sections.push(part[0], inserted[i].length);
      }
    }
    return new _ChangeSet(sections, inserted);
  }
  /**
  @internal
  */
  static createSet(sections, inserted) {
    return new _ChangeSet(sections, inserted);
  }
};
function addSection(sections, len, ins, forceJoin = false) {
  if (len == 0 && ins <= 0)
    return;
  let last = sections.length - 2;
  if (last >= 0 && ins <= 0 && ins == sections[last + 1])
    sections[last] += len;
  else if (last >= 0 && len == 0 && sections[last] == 0)
    sections[last + 1] += ins;
  else if (forceJoin) {
    sections[last] += len;
    sections[last + 1] += ins;
  } else
    sections.push(len, ins);
}
function addInsert(values2, sections, value) {
  if (value.length == 0)
    return;
  let index = sections.length - 2 >> 1;
  if (index < values2.length) {
    values2[values2.length - 1] = values2[values2.length - 1].append(value);
  } else {
    while (values2.length < index)
      values2.push(Text.empty);
    values2.push(value);
  }
}
function iterChanges(desc, f, individual) {
  let inserted = desc.inserted;
  for (let posA = 0, posB = 0, i = 0; i < desc.sections.length; ) {
    let len = desc.sections[i++], ins = desc.sections[i++];
    if (ins < 0) {
      posA += len;
      posB += len;
    } else {
      let endA = posA, endB = posB, text = Text.empty;
      for (; ; ) {
        endA += len;
        endB += ins;
        if (ins && inserted)
          text = text.append(inserted[i - 2 >> 1]);
        if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)
          break;
        len = desc.sections[i++];
        ins = desc.sections[i++];
      }
      f(posA, endA, posB, endB, text);
      posA = endA;
      posB = endB;
    }
  }
}
function mapSet(setA, setB, before, mkSet = false) {
  let sections = [], insert2 = mkSet ? [] : null;
  let a = new SectionIter(setA), b = new SectionIter(setB);
  for (let inserted = -1; ; ) {
    if (a.done && b.len || b.done && a.len) {
      throw new Error("Mismatched change set lengths");
    } else if (a.ins == -1 && b.ins == -1) {
      let len = Math.min(a.len, b.len);
      addSection(sections, len, -1);
      a.forward(len);
      b.forward(len);
    } else if (b.ins >= 0 && (a.ins < 0 || inserted == a.i || a.off == 0 && (b.len < a.len || b.len == a.len && !before))) {
      let len = b.len;
      addSection(sections, b.ins, -1);
      while (len) {
        let piece = Math.min(a.len, len);
        if (a.ins >= 0 && inserted < a.i && a.len <= piece) {
          addSection(sections, 0, a.ins);
          if (insert2)
            addInsert(insert2, sections, a.text);
          inserted = a.i;
        }
        a.forward(piece);
        len -= piece;
      }
      b.next();
    } else if (a.ins >= 0) {
      let len = 0, left = a.len;
      while (left) {
        if (b.ins == -1) {
          let piece = Math.min(left, b.len);
          len += piece;
          left -= piece;
          b.forward(piece);
        } else if (b.ins == 0 && b.len < left) {
          left -= b.len;
          b.next();
        } else {
          break;
        }
      }
      addSection(sections, len, inserted < a.i ? a.ins : 0);
      if (insert2 && inserted < a.i)
        addInsert(insert2, sections, a.text);
      inserted = a.i;
      a.forward(a.len - left);
    } else if (a.done && b.done) {
      return insert2 ? ChangeSet.createSet(sections, insert2) : ChangeDesc.create(sections);
    } else {
      throw new Error("Mismatched change set lengths");
    }
  }
}
function composeSets(setA, setB, mkSet = false) {
  let sections = [];
  let insert2 = mkSet ? [] : null;
  let a = new SectionIter(setA), b = new SectionIter(setB);
  for (let open = false; ; ) {
    if (a.done && b.done) {
      return insert2 ? ChangeSet.createSet(sections, insert2) : ChangeDesc.create(sections);
    } else if (a.ins == 0) {
      addSection(sections, a.len, 0, open);
      a.next();
    } else if (b.len == 0 && !b.done) {
      addSection(sections, 0, b.ins, open);
      if (insert2)
        addInsert(insert2, sections, b.text);
      b.next();
    } else if (a.done || b.done) {
      throw new Error("Mismatched change set lengths");
    } else {
      let len = Math.min(a.len2, b.len), sectionLen = sections.length;
      if (a.ins == -1) {
        let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;
        addSection(sections, len, insB, open);
        if (insert2 && insB)
          addInsert(insert2, sections, b.text);
      } else if (b.ins == -1) {
        addSection(sections, a.off ? 0 : a.len, len, open);
        if (insert2)
          addInsert(insert2, sections, a.textBit(len));
      } else {
        addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);
        if (insert2 && !b.off)
          addInsert(insert2, sections, b.text);
      }
      open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);
      a.forward2(len);
      b.forward(len);
    }
  }
}
var SectionIter = class {
  constructor(set) {
    this.set = set;
    this.i = 0;
    this.next();
  }
  next() {
    let { sections } = this.set;
    if (this.i < sections.length) {
      this.len = sections[this.i++];
      this.ins = sections[this.i++];
    } else {
      this.len = 0;
      this.ins = -2;
    }
    this.off = 0;
  }
  get done() {
    return this.ins == -2;
  }
  get len2() {
    return this.ins < 0 ? this.len : this.ins;
  }
  get text() {
    let { inserted } = this.set, index = this.i - 2 >> 1;
    return index >= inserted.length ? Text.empty : inserted[index];
  }
  textBit(len) {
    let { inserted } = this.set, index = this.i - 2 >> 1;
    return index >= inserted.length && !len ? Text.empty : inserted[index].slice(this.off, len == null ? void 0 : this.off + len);
  }
  forward(len) {
    if (len == this.len)
      this.next();
    else {
      this.len -= len;
      this.off += len;
    }
  }
  forward2(len) {
    if (this.ins == -1)
      this.forward(len);
    else if (len == this.ins)
      this.next();
    else {
      this.ins -= len;
      this.off += len;
    }
  }
};
var SelectionRange = class _SelectionRange {
  constructor(from2, to, flags) {
    this.from = from2;
    this.to = to;
    this.flags = flags;
  }
  /**
  The anchor of the range—the side that doesn't move when you
  extend it.
  */
  get anchor() {
    return this.flags & 32 ? this.to : this.from;
  }
  /**
  The head of the range, which is moved when the range is
  [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).
  */
  get head() {
    return this.flags & 32 ? this.from : this.to;
  }
  /**
  True when `anchor` and `head` are at the same position.
  */
  get empty() {
    return this.from == this.to;
  }
  /**
  If this is a cursor that is explicitly associated with the
  character on one of its sides, this returns the side. -1 means
  the character before its position, 1 the character after, and 0
  means no association.
  */
  get assoc() {
    return this.flags & 8 ? -1 : this.flags & 16 ? 1 : 0;
  }
  /**
  The bidirectional text level associated with this cursor, if
  any.
  */
  get bidiLevel() {
    let level = this.flags & 7;
    return level == 7 ? null : level;
  }
  /**
  The goal column (stored vertical offset) associated with a
  cursor. This is used to preserve the vertical position when
  [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across
  lines of different length.
  */
  get goalColumn() {
    let value = this.flags >> 6;
    return value == 16777215 ? void 0 : value;
  }
  /**
  Map this range through a change, producing a valid range in the
  updated document.
  */
  map(change, assoc = -1) {
    let from2, to;
    if (this.empty) {
      from2 = to = change.mapPos(this.from, assoc);
    } else {
      from2 = change.mapPos(this.from, 1);
      to = change.mapPos(this.to, -1);
    }
    return from2 == this.from && to == this.to ? this : new _SelectionRange(from2, to, this.flags);
  }
  /**
  Extend this range to cover at least `from` to `to`.
  */
  extend(from2, to = from2) {
    if (from2 <= this.anchor && to >= this.anchor)
      return EditorSelection.range(from2, to);
    let head = Math.abs(from2 - this.anchor) > Math.abs(to - this.anchor) ? from2 : to;
    return EditorSelection.range(this.anchor, head);
  }
  /**
  Compare this range to another range.
  */
  eq(other, includeAssoc = false) {
    return this.anchor == other.anchor && this.head == other.head && (!includeAssoc || !this.empty || this.assoc == other.assoc);
  }
  /**
  Return a JSON-serializable object representing the range.
  */
  toJSON() {
    return { anchor: this.anchor, head: this.head };
  }
  /**
  Convert a JSON representation of a range to a `SelectionRange`
  instance.
  */
  static fromJSON(json2) {
    if (!json2 || typeof json2.anchor != "number" || typeof json2.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return EditorSelection.range(json2.anchor, json2.head);
  }
  /**
  @internal
  */
  static create(from2, to, flags) {
    return new _SelectionRange(from2, to, flags);
  }
};
var EditorSelection = class _EditorSelection {
  constructor(ranges, mainIndex) {
    this.ranges = ranges;
    this.mainIndex = mainIndex;
  }
  /**
  Map a selection through a change. Used to adjust the selection
  position for changes.
  */
  map(change, assoc = -1) {
    if (change.empty)
      return this;
    return _EditorSelection.create(this.ranges.map((r) => r.map(change, assoc)), this.mainIndex);
  }
  /**
  Compare this selection to another selection. By default, ranges
  are compared only by position. When `includeAssoc` is true,
  cursor ranges must also have the same
  [`assoc`](https://codemirror.net/6/docs/ref/#state.SelectionRange.assoc) value.
  */
  eq(other, includeAssoc = false) {
    if (this.ranges.length != other.ranges.length || this.mainIndex != other.mainIndex)
      return false;
    for (let i = 0; i < this.ranges.length; i++)
      if (!this.ranges[i].eq(other.ranges[i], includeAssoc))
        return false;
    return true;
  }
  /**
  Get the primary selection range. Usually, you should make sure
  your code applies to _all_ ranges, by using methods like
  [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).
  */
  get main() {
    return this.ranges[this.mainIndex];
  }
  /**
  Make sure the selection only has one range. Returns a selection
  holding only the main range from this selection.
  */
  asSingle() {
    return this.ranges.length == 1 ? this : new _EditorSelection([this.main], 0);
  }
  /**
  Extend this selection with an extra range.
  */
  addRange(range, main = true) {
    return _EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);
  }
  /**
  Replace a given range with another range, and then normalize the
  selection to merge and sort ranges if necessary.
  */
  replaceRange(range, which = this.mainIndex) {
    let ranges = this.ranges.slice();
    ranges[which] = range;
    return _EditorSelection.create(ranges, this.mainIndex);
  }
  /**
  Convert this selection to an object that can be serialized to
  JSON.
  */
  toJSON() {
    return { ranges: this.ranges.map((r) => r.toJSON()), main: this.mainIndex };
  }
  /**
  Create a selection from a JSON representation.
  */
  static fromJSON(json2) {
    if (!json2 || !Array.isArray(json2.ranges) || typeof json2.main != "number" || json2.main >= json2.ranges.length)
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new _EditorSelection(json2.ranges.map((r) => SelectionRange.fromJSON(r)), json2.main);
  }
  /**
  Create a selection holding a single range.
  */
  static single(anchor, head = anchor) {
    return new _EditorSelection([_EditorSelection.range(anchor, head)], 0);
  }
  /**
  Sort and merge the given set of ranges, creating a valid
  selection.
  */
  static create(ranges, mainIndex = 0) {
    if (ranges.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (let pos = 0, i = 0; i < ranges.length; i++) {
      let range = ranges[i];
      if (range.empty ? range.from <= pos : range.from < pos)
        return _EditorSelection.normalized(ranges.slice(), mainIndex);
      pos = range.to;
    }
    return new _EditorSelection(ranges, mainIndex);
  }
  /**
  Create a cursor selection range at the given position. You can
  safely ignore the optional arguments in most situations.
  */
  static cursor(pos, assoc = 0, bidiLevel, goalColumn) {
    return SelectionRange.create(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 8 : 16) | (bidiLevel == null ? 7 : Math.min(6, bidiLevel)) | (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 16777215) << 6);
  }
  /**
  Create a selection range.
  */
  static range(anchor, head, goalColumn, bidiLevel) {
    let flags = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 16777215) << 6 | (bidiLevel == null ? 7 : Math.min(6, bidiLevel));
    return head < anchor ? SelectionRange.create(head, anchor, 32 | 16 | flags) : SelectionRange.create(anchor, head, (head > anchor ? 8 : 0) | flags);
  }
  /**
  @internal
  */
  static normalized(ranges, mainIndex = 0) {
    let main = ranges[mainIndex];
    ranges.sort((a, b) => a.from - b.from);
    mainIndex = ranges.indexOf(main);
    for (let i = 1; i < ranges.length; i++) {
      let range = ranges[i], prev = ranges[i - 1];
      if (range.empty ? range.from <= prev.to : range.from < prev.to) {
        let from2 = prev.from, to = Math.max(range.to, prev.to);
        if (i <= mainIndex)
          mainIndex--;
        ranges.splice(--i, 2, range.anchor > range.head ? _EditorSelection.range(to, from2) : _EditorSelection.range(from2, to));
      }
    }
    return new _EditorSelection(ranges, mainIndex);
  }
};
function checkSelection(selection2, docLength) {
  for (let range of selection2.ranges)
    if (range.to > docLength)
      throw new RangeError("Selection points outside of document");
}
var nextID = 0;
var Facet = class _Facet {
  constructor(combine, compareInput, compare2, isStatic, enables) {
    this.combine = combine;
    this.compareInput = compareInput;
    this.compare = compare2;
    this.isStatic = isStatic;
    this.id = nextID++;
    this.default = combine([]);
    this.extensions = typeof enables == "function" ? enables(this) : enables;
  }
  /**
  Returns a facet reader for this facet, which can be used to
  [read](https://codemirror.net/6/docs/ref/#state.EditorState.facet) it but not to define values for it.
  */
  get reader() {
    return this;
  }
  /**
  Define a new facet.
  */
  static define(config2 = {}) {
    return new _Facet(config2.combine || ((a) => a), config2.compareInput || ((a, b) => a === b), config2.compare || (!config2.combine ? sameArray : (a, b) => a === b), !!config2.static, config2.enables);
  }
  /**
  Returns an extension that adds the given value to this facet.
  */
  of(value) {
    return new FacetProvider([], this, 0, value);
  }
  /**
  Create an extension that computes a value for the facet from a
  state. You must take care to declare the parts of the state that
  this value depends on, since your function is only called again
  for a new state when one of those parts changed.
  
  In cases where your value depends only on a single field, you'll
  want to use the [`from`](https://codemirror.net/6/docs/ref/#state.Facet.from) method instead.
  */
  compute(deps, get) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new FacetProvider(deps, this, 1, get);
  }
  /**
  Create an extension that computes zero or more values for this
  facet from a state.
  */
  computeN(deps, get) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new FacetProvider(deps, this, 2, get);
  }
  from(field, get) {
    if (!get)
      get = (x) => x;
    return this.compute([field], (state) => get(state.field(field)));
  }
};
function sameArray(a, b) {
  return a == b || a.length == b.length && a.every((e, i) => e === b[i]);
}
var FacetProvider = class {
  constructor(dependencies, facet, type, value) {
    this.dependencies = dependencies;
    this.facet = facet;
    this.type = type;
    this.value = value;
    this.id = nextID++;
  }
  dynamicSlot(addresses) {
    var _a2;
    let getter = this.value;
    let compare2 = this.facet.compareInput;
    let id2 = this.id, idx = addresses[id2] >> 1, multi = this.type == 2;
    let depDoc = false, depSel = false, depAddrs = [];
    for (let dep of this.dependencies) {
      if (dep == "doc")
        depDoc = true;
      else if (dep == "selection")
        depSel = true;
      else if ((((_a2 = addresses[dep.id]) !== null && _a2 !== void 0 ? _a2 : 1) & 1) == 0)
        depAddrs.push(addresses[dep.id]);
    }
    return {
      create(state) {
        state.values[idx] = getter(state);
        return 1;
      },
      update(state, tr) {
        if (depDoc && tr.docChanged || depSel && (tr.docChanged || tr.selection) || ensureAll(state, depAddrs)) {
          let newVal = getter(state);
          if (multi ? !compareArray(newVal, state.values[idx], compare2) : !compare2(newVal, state.values[idx])) {
            state.values[idx] = newVal;
            return 1;
          }
        }
        return 0;
      },
      reconfigure: (state, oldState) => {
        let newVal, oldAddr = oldState.config.address[id2];
        if (oldAddr != null) {
          let oldVal = getAddr(oldState, oldAddr);
          if (this.dependencies.every((dep) => {
            return dep instanceof Facet ? oldState.facet(dep) === state.facet(dep) : dep instanceof StateField ? oldState.field(dep, false) == state.field(dep, false) : true;
          }) || (multi ? compareArray(newVal = getter(state), oldVal, compare2) : compare2(newVal = getter(state), oldVal))) {
            state.values[idx] = oldVal;
            return 0;
          }
        } else {
          newVal = getter(state);
        }
        state.values[idx] = newVal;
        return 1;
      }
    };
  }
};
function compareArray(a, b, compare2) {
  if (a.length != b.length)
    return false;
  for (let i = 0; i < a.length; i++)
    if (!compare2(a[i], b[i]))
      return false;
  return true;
}
function ensureAll(state, addrs) {
  let changed = false;
  for (let addr of addrs)
    if (ensureAddr(state, addr) & 1)
      changed = true;
  return changed;
}
function dynamicFacetSlot(addresses, facet, providers) {
  let providerAddrs = providers.map((p) => addresses[p.id]);
  let providerTypes = providers.map((p) => p.type);
  let dynamic = providerAddrs.filter((p) => !(p & 1));
  let idx = addresses[facet.id] >> 1;
  function get(state) {
    let values2 = [];
    for (let i = 0; i < providerAddrs.length; i++) {
      let value = getAddr(state, providerAddrs[i]);
      if (providerTypes[i] == 2)
        for (let val of value)
          values2.push(val);
      else
        values2.push(value);
    }
    return facet.combine(values2);
  }
  return {
    create(state) {
      for (let addr of providerAddrs)
        ensureAddr(state, addr);
      state.values[idx] = get(state);
      return 1;
    },
    update(state, tr) {
      if (!ensureAll(state, dynamic))
        return 0;
      let value = get(state);
      if (facet.compare(value, state.values[idx]))
        return 0;
      state.values[idx] = value;
      return 1;
    },
    reconfigure(state, oldState) {
      let depChanged = ensureAll(state, providerAddrs);
      let oldProviders = oldState.config.facets[facet.id], oldValue = oldState.facet(facet);
      if (oldProviders && !depChanged && sameArray(providers, oldProviders)) {
        state.values[idx] = oldValue;
        return 0;
      }
      let value = get(state);
      if (facet.compare(value, oldValue)) {
        state.values[idx] = oldValue;
        return 0;
      }
      state.values[idx] = value;
      return 1;
    }
  };
}
var initField = /* @__PURE__ */ Facet.define({ static: true });
var StateField = class _StateField {
  constructor(id2, createF, updateF, compareF, spec) {
    this.id = id2;
    this.createF = createF;
    this.updateF = updateF;
    this.compareF = compareF;
    this.spec = spec;
    this.provides = void 0;
  }
  /**
  Define a state field.
  */
  static define(config2) {
    let field = new _StateField(nextID++, config2.create, config2.update, config2.compare || ((a, b) => a === b), config2);
    if (config2.provide)
      field.provides = config2.provide(field);
    return field;
  }
  create(state) {
    let init = state.facet(initField).find((i) => i.field == this);
    return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);
  }
  /**
  @internal
  */
  slot(addresses) {
    let idx = addresses[this.id] >> 1;
    return {
      create: (state) => {
        state.values[idx] = this.create(state);
        return 1;
      },
      update: (state, tr) => {
        let oldVal = state.values[idx];
        let value = this.updateF(oldVal, tr);
        if (this.compareF(oldVal, value))
          return 0;
        state.values[idx] = value;
        return 1;
      },
      reconfigure: (state, oldState) => {
        let init = state.facet(initField), oldInit = oldState.facet(initField), reInit;
        if ((reInit = init.find((i) => i.field == this)) && reInit != oldInit.find((i) => i.field == this)) {
          state.values[idx] = reInit.create(state);
          return 1;
        }
        if (oldState.config.address[this.id] != null) {
          state.values[idx] = oldState.field(this);
          return 0;
        }
        state.values[idx] = this.create(state);
        return 1;
      }
    };
  }
  /**
  Returns an extension that enables this field and overrides the
  way it is initialized. Can be useful when you need to provide a
  non-default starting value for the field.
  */
  init(create) {
    return [this, initField.of({ field: this, create })];
  }
  /**
  State field instances can be used as
  [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a
  given state.
  */
  get extension() {
    return this;
  }
};
var Prec_ = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
function prec(value) {
  return (ext) => new PrecExtension(ext, value);
}
var Prec = {
  /**
  The highest precedence level, for extensions that should end up
  near the start of the precedence ordering.
  */
  highest: /* @__PURE__ */ prec(Prec_.highest),
  /**
  A higher-than-default precedence, for extensions that should
  come before those with default precedence.
  */
  high: /* @__PURE__ */ prec(Prec_.high),
  /**
  The default precedence, which is also used for extensions
  without an explicit precedence.
  */
  default: /* @__PURE__ */ prec(Prec_.default),
  /**
  A lower-than-default precedence.
  */
  low: /* @__PURE__ */ prec(Prec_.low),
  /**
  The lowest precedence level. Meant for things that should end up
  near the end of the extension order.
  */
  lowest: /* @__PURE__ */ prec(Prec_.lowest)
};
var PrecExtension = class {
  constructor(inner, prec2) {
    this.inner = inner;
    this.prec = prec2;
  }
};
var Compartment = class _Compartment {
  /**
  Create an instance of this compartment to add to your [state
  configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).
  */
  of(ext) {
    return new CompartmentInstance(this, ext);
  }
  /**
  Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that
  reconfigures this compartment.
  */
  reconfigure(content2) {
    return _Compartment.reconfigure.of({ compartment: this, extension: content2 });
  }
  /**
  Get the current content of the compartment in the state, or
  `undefined` if it isn't present.
  */
  get(state) {
    return state.config.compartments.get(this);
  }
};
var CompartmentInstance = class {
  constructor(compartment, inner) {
    this.compartment = compartment;
    this.inner = inner;
  }
};
var Configuration = class _Configuration {
  constructor(base2, compartments, dynamicSlots, address, staticValues, facets) {
    this.base = base2;
    this.compartments = compartments;
    this.dynamicSlots = dynamicSlots;
    this.address = address;
    this.staticValues = staticValues;
    this.facets = facets;
    this.statusTemplate = [];
    while (this.statusTemplate.length < dynamicSlots.length)
      this.statusTemplate.push(
        0
        /* SlotStatus.Unresolved */
      );
  }
  staticFacet(facet) {
    let addr = this.address[facet.id];
    return addr == null ? facet.default : this.staticValues[addr >> 1];
  }
  static resolve(base2, compartments, oldState) {
    let fields = [];
    let facets = /* @__PURE__ */ Object.create(null);
    let newCompartments = /* @__PURE__ */ new Map();
    for (let ext of flatten(base2, compartments, newCompartments)) {
      if (ext instanceof StateField)
        fields.push(ext);
      else
        (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);
    }
    let address = /* @__PURE__ */ Object.create(null);
    let staticValues = [];
    let dynamicSlots = [];
    for (let field of fields) {
      address[field.id] = dynamicSlots.length << 1;
      dynamicSlots.push((a) => field.slot(a));
    }
    let oldFacets = oldState === null || oldState === void 0 ? void 0 : oldState.config.facets;
    for (let id2 in facets) {
      let providers = facets[id2], facet = providers[0].facet;
      let oldProviders = oldFacets && oldFacets[id2] || [];
      if (providers.every(
        (p) => p.type == 0
        /* Provider.Static */
      )) {
        address[facet.id] = staticValues.length << 1 | 1;
        if (sameArray(oldProviders, providers)) {
          staticValues.push(oldState.facet(facet));
        } else {
          let value = facet.combine(providers.map((p) => p.value));
          staticValues.push(oldState && facet.compare(value, oldState.facet(facet)) ? oldState.facet(facet) : value);
        }
      } else {
        for (let p of providers) {
          if (p.type == 0) {
            address[p.id] = staticValues.length << 1 | 1;
            staticValues.push(p.value);
          } else {
            address[p.id] = dynamicSlots.length << 1;
            dynamicSlots.push((a) => p.dynamicSlot(a));
          }
        }
        address[facet.id] = dynamicSlots.length << 1;
        dynamicSlots.push((a) => dynamicFacetSlot(a, facet, providers));
      }
    }
    let dynamic = dynamicSlots.map((f) => f(address));
    return new _Configuration(base2, newCompartments, dynamic, address, staticValues, facets);
  }
};
function flatten(extension, compartments, newCompartments) {
  let result = [[], [], [], [], []];
  let seen = /* @__PURE__ */ new Map();
  function inner(ext, prec2) {
    let known = seen.get(ext);
    if (known != null) {
      if (known <= prec2)
        return;
      let found = result[known].indexOf(ext);
      if (found > -1)
        result[known].splice(found, 1);
      if (ext instanceof CompartmentInstance)
        newCompartments.delete(ext.compartment);
    }
    seen.set(ext, prec2);
    if (Array.isArray(ext)) {
      for (let e of ext)
        inner(e, prec2);
    } else if (ext instanceof CompartmentInstance) {
      if (newCompartments.has(ext.compartment))
        throw new RangeError(`Duplicate use of compartment in extensions`);
      let content2 = compartments.get(ext.compartment) || ext.inner;
      newCompartments.set(ext.compartment, content2);
      inner(content2, prec2);
    } else if (ext instanceof PrecExtension) {
      inner(ext.inner, ext.prec);
    } else if (ext instanceof StateField) {
      result[prec2].push(ext);
      if (ext.provides)
        inner(ext.provides, prec2);
    } else if (ext instanceof FacetProvider) {
      result[prec2].push(ext);
      if (ext.facet.extensions)
        inner(ext.facet.extensions, Prec_.default);
    } else {
      let content2 = ext.extension;
      if (!content2)
        throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);
      inner(content2, prec2);
    }
  }
  inner(extension, Prec_.default);
  return result.reduce((a, b) => a.concat(b));
}
function ensureAddr(state, addr) {
  if (addr & 1)
    return 2;
  let idx = addr >> 1;
  let status = state.status[idx];
  if (status == 4)
    throw new Error("Cyclic dependency between fields and/or facets");
  if (status & 2)
    return status;
  state.status[idx] = 4;
  let changed = state.computeSlot(state, state.config.dynamicSlots[idx]);
  return state.status[idx] = 2 | changed;
}
function getAddr(state, addr) {
  return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];
}
var languageData = /* @__PURE__ */ Facet.define();
var allowMultipleSelections = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.some((v) => v),
  static: true
});
var lineSeparator = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.length ? values2[0] : void 0,
  static: true
});
var changeFilter = /* @__PURE__ */ Facet.define();
var transactionFilter = /* @__PURE__ */ Facet.define();
var transactionExtender = /* @__PURE__ */ Facet.define();
var readOnly = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.length ? values2[0] : false
});
var Annotation = class {
  /**
  @internal
  */
  constructor(type, value) {
    this.type = type;
    this.value = value;
  }
  /**
  Define a new type of annotation.
  */
  static define() {
    return new AnnotationType();
  }
};
var AnnotationType = class {
  /**
  Create an instance of this annotation.
  */
  of(value) {
    return new Annotation(this, value);
  }
};
var StateEffectType = class {
  /**
  @internal
  */
  constructor(map) {
    this.map = map;
  }
  /**
  Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this
  type.
  */
  of(value) {
    return new StateEffect(this, value);
  }
};
var StateEffect = class _StateEffect {
  /**
  @internal
  */
  constructor(type, value) {
    this.type = type;
    this.value = value;
  }
  /**
  Map this effect through a position mapping. Will return
  `undefined` when that ends up deleting the effect.
  */
  map(mapping) {
    let mapped = this.type.map(this.value, mapping);
    return mapped === void 0 ? void 0 : mapped == this.value ? this : new _StateEffect(this.type, mapped);
  }
  /**
  Tells you whether this effect object is of a given
  [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).
  */
  is(type) {
    return this.type == type;
  }
  /**
  Define a new effect type. The type parameter indicates the type
  of values that his effect holds. It should be a type that
  doesn't include `undefined`, since that is used in
  [mapping](https://codemirror.net/6/docs/ref/#state.StateEffect.map) to indicate that an effect is
  removed.
  */
  static define(spec = {}) {
    return new StateEffectType(spec.map || ((v) => v));
  }
  /**
  Map an array of effects through a change set.
  */
  static mapEffects(effects, mapping) {
    if (!effects.length)
      return effects;
    let result = [];
    for (let effect of effects) {
      let mapped = effect.map(mapping);
      if (mapped)
        result.push(mapped);
    }
    return result;
  }
};
StateEffect.reconfigure = /* @__PURE__ */ StateEffect.define();
StateEffect.appendConfig = /* @__PURE__ */ StateEffect.define();
var Transaction = class _Transaction {
  constructor(startState, changes, selection2, effects, annotations, scrollIntoView3) {
    this.startState = startState;
    this.changes = changes;
    this.selection = selection2;
    this.effects = effects;
    this.annotations = annotations;
    this.scrollIntoView = scrollIntoView3;
    this._doc = null;
    this._state = null;
    if (selection2)
      checkSelection(selection2, changes.newLength);
    if (!annotations.some((a) => a.type == _Transaction.time))
      this.annotations = annotations.concat(_Transaction.time.of(Date.now()));
  }
  /**
  @internal
  */
  static create(startState, changes, selection2, effects, annotations, scrollIntoView3) {
    return new _Transaction(startState, changes, selection2, effects, annotations, scrollIntoView3);
  }
  /**
  The new document produced by the transaction. Contrary to
  [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't
  force the entire new state to be computed right away, so it is
  recommended that [transaction
  filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter
  when they need to look at the new document.
  */
  get newDoc() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  }
  /**
  The new selection produced by the transaction. If
  [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,
  this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's
  current selection through the changes made by the transaction.
  */
  get newSelection() {
    return this.selection || this.startState.selection.map(this.changes);
  }
  /**
  The new state created by the transaction. Computed on demand
  (but retained for subsequent access), so it is recommended not to
  access it in [transaction
  filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.
  */
  get state() {
    if (!this._state)
      this.startState.applyTransaction(this);
    return this._state;
  }
  /**
  Get the value of the given annotation type, if any.
  */
  annotation(type) {
    for (let ann of this.annotations)
      if (ann.type == type)
        return ann.value;
    return void 0;
  }
  /**
  Indicates whether the transaction changed the document.
  */
  get docChanged() {
    return !this.changes.empty;
  }
  /**
  Indicates whether this transaction reconfigures the state
  (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or
  with a top-level configuration
  [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).
  */
  get reconfigured() {
    return this.startState.config != this.state.config;
  }
  /**
  Returns true if the transaction has a [user
  event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to
  or more specific than `event`. For example, if the transaction
  has `"select.pointer"` as user event, `"select"` and
  `"select.pointer"` will match it.
  */
  isUserEvent(event) {
    let e = this.annotation(_Transaction.userEvent);
    return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == "."));
  }
};
Transaction.time = /* @__PURE__ */ Annotation.define();
Transaction.userEvent = /* @__PURE__ */ Annotation.define();
Transaction.addToHistory = /* @__PURE__ */ Annotation.define();
Transaction.remote = /* @__PURE__ */ Annotation.define();
function joinRanges(a, b) {
  let result = [];
  for (let iA = 0, iB = 0; ; ) {
    let from2, to;
    if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {
      from2 = a[iA++];
      to = a[iA++];
    } else if (iB < b.length) {
      from2 = b[iB++];
      to = b[iB++];
    } else
      return result;
    if (!result.length || result[result.length - 1] < from2)
      result.push(from2, to);
    else if (result[result.length - 1] < to)
      result[result.length - 1] = to;
  }
}
function mergeTransaction(a, b, sequential) {
  var _a2;
  let mapForA, mapForB, changes;
  if (sequential) {
    mapForA = b.changes;
    mapForB = ChangeSet.empty(b.changes.length);
    changes = a.changes.compose(b.changes);
  } else {
    mapForA = b.changes.map(a.changes);
    mapForB = a.changes.mapDesc(b.changes, true);
    changes = a.changes.compose(mapForA);
  }
  return {
    changes,
    selection: b.selection ? b.selection.map(mapForB) : (_a2 = a.selection) === null || _a2 === void 0 ? void 0 : _a2.map(mapForA),
    effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),
    annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,
    scrollIntoView: a.scrollIntoView || b.scrollIntoView
  };
}
function resolveTransactionInner(state, spec, docSize) {
  let sel = spec.selection, annotations = asArray(spec.annotations);
  if (spec.userEvent)
    annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));
  return {
    changes: spec.changes instanceof ChangeSet ? spec.changes : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),
    selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),
    effects: asArray(spec.effects),
    annotations,
    scrollIntoView: !!spec.scrollIntoView
  };
}
function resolveTransaction(state, specs, filter) {
  let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);
  if (specs.length && specs[0].filter === false)
    filter = false;
  for (let i = 1; i < specs.length; i++) {
    if (specs[i].filter === false)
      filter = false;
    let seq = !!specs[i].sequential;
    s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);
  }
  let tr = Transaction.create(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);
  return extendTransaction(filter ? filterTransaction(tr) : tr);
}
function filterTransaction(tr) {
  let state = tr.startState;
  let result = true;
  for (let filter of state.facet(changeFilter)) {
    let value = filter(tr);
    if (value === false) {
      result = false;
      break;
    }
    if (Array.isArray(value))
      result = result === true ? value : joinRanges(result, value);
  }
  if (result !== true) {
    let changes, back;
    if (result === false) {
      back = tr.changes.invertedDesc;
      changes = ChangeSet.empty(state.doc.length);
    } else {
      let filtered = tr.changes.filter(result);
      changes = filtered.changes;
      back = filtered.filtered.mapDesc(filtered.changes).invertedDesc;
    }
    tr = Transaction.create(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);
  }
  let filters = state.facet(transactionFilter);
  for (let i = filters.length - 1; i >= 0; i--) {
    let filtered = filters[i](tr);
    if (filtered instanceof Transaction)
      tr = filtered;
    else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)
      tr = filtered[0];
    else
      tr = resolveTransaction(state, asArray(filtered), false);
  }
  return tr;
}
function extendTransaction(tr) {
  let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;
  for (let i = extenders.length - 1; i >= 0; i--) {
    let extension = extenders[i](tr);
    if (extension && Object.keys(extension).length)
      spec = mergeTransaction(spec, resolveTransactionInner(state, extension, tr.changes.newLength), true);
  }
  return spec == tr ? tr : Transaction.create(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);
}
var none = [];
function asArray(value) {
  return value == null ? none : Array.isArray(value) ? value : [value];
}
var CharCategory = /* @__PURE__ */ function(CharCategory2) {
  CharCategory2[CharCategory2["Word"] = 0] = "Word";
  CharCategory2[CharCategory2["Space"] = 1] = "Space";
  CharCategory2[CharCategory2["Other"] = 2] = "Other";
  return CharCategory2;
}(CharCategory || (CharCategory = {}));
var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
var wordChar;
try {
  wordChar = /* @__PURE__ */ new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch (_) {
}
function hasWordChar(str) {
  if (wordChar)
    return wordChar.test(str);
  for (let i = 0; i < str.length; i++) {
    let ch = str[i];
    if (/\w/.test(ch) || ch > "\x80" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))
      return true;
  }
  return false;
}
function makeCategorizer(wordChars) {
  return (char) => {
    if (!/\S/.test(char))
      return CharCategory.Space;
    if (hasWordChar(char))
      return CharCategory.Word;
    for (let i = 0; i < wordChars.length; i++)
      if (char.indexOf(wordChars[i]) > -1)
        return CharCategory.Word;
    return CharCategory.Other;
  };
}
var EditorState = class _EditorState {
  constructor(config2, doc2, selection2, values2, computeSlot, tr) {
    this.config = config2;
    this.doc = doc2;
    this.selection = selection2;
    this.values = values2;
    this.status = config2.statusTemplate.slice();
    this.computeSlot = computeSlot;
    if (tr)
      tr._state = this;
    for (let i = 0; i < this.config.dynamicSlots.length; i++)
      ensureAddr(this, i << 1);
    this.computeSlot = null;
  }
  field(field, require2 = true) {
    let addr = this.config.address[field.id];
    if (addr == null) {
      if (require2)
        throw new RangeError("Field is not present in this state");
      return void 0;
    }
    ensureAddr(this, addr);
    return getAddr(this, addr);
  }
  /**
  Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this
  state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)
  can be passed. Unless
  [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the
  [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec
  are assumed to start in the _current_ document (not the document
  produced by previous specs), and its
  [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and
  [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer
  to the document created by its _own_ changes. The resulting
  transaction contains the combined effect of all the different
  specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later
  specs take precedence over earlier ones.
  */
  update(...specs) {
    return resolveTransaction(this, specs, true);
  }
  /**
  @internal
  */
  applyTransaction(tr) {
    let conf = this.config, { base: base2, compartments } = conf;
    for (let effect of tr.effects) {
      if (effect.is(Compartment.reconfigure)) {
        if (conf) {
          compartments = /* @__PURE__ */ new Map();
          conf.compartments.forEach((val, key) => compartments.set(key, val));
          conf = null;
        }
        compartments.set(effect.value.compartment, effect.value.extension);
      } else if (effect.is(StateEffect.reconfigure)) {
        conf = null;
        base2 = effect.value;
      } else if (effect.is(StateEffect.appendConfig)) {
        conf = null;
        base2 = asArray(base2).concat(effect.value);
      }
    }
    let startValues;
    if (!conf) {
      conf = Configuration.resolve(base2, compartments, this);
      let intermediateState = new _EditorState(conf, this.doc, this.selection, conf.dynamicSlots.map(() => null), (state, slot) => slot.reconfigure(state, this), null);
      startValues = intermediateState.values;
    } else {
      startValues = tr.startState.values.slice();
    }
    let selection2 = tr.startState.facet(allowMultipleSelections) ? tr.newSelection : tr.newSelection.asSingle();
    new _EditorState(conf, tr.newDoc, selection2, startValues, (state, slot) => slot.update(state, tr), tr);
  }
  /**
  Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that
  replaces every selection range with the given content.
  */
  replaceSelection(text) {
    if (typeof text == "string")
      text = this.toText(text);
    return this.changeByRange((range) => ({
      changes: { from: range.from, to: range.to, insert: text },
      range: EditorSelection.cursor(range.from + text.length)
    }));
  }
  /**
  Create a set of changes and a new selection by running the given
  function for each range in the active selection. The function
  can return an optional set of changes (in the coordinate space
  of the start document), plus an updated range (in the coordinate
  space of the document produced by the call's own changes). This
  method will merge all the changes and ranges into a single
  changeset and selection, and return it as a [transaction
  spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to
  [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).
  */
  changeByRange(f) {
    let sel = this.selection;
    let result1 = f(sel.ranges[0]);
    let changes = this.changes(result1.changes), ranges = [result1.range];
    let effects = asArray(result1.effects);
    for (let i = 1; i < sel.ranges.length; i++) {
      let result = f(sel.ranges[i]);
      let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);
      for (let j = 0; j < i; j++)
        ranges[j] = ranges[j].map(newMapped);
      let mapBy = changes.mapDesc(newChanges, true);
      ranges.push(result.range.map(mapBy));
      changes = changes.compose(newMapped);
      effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));
    }
    return {
      changes,
      selection: EditorSelection.create(ranges, sel.mainIndex),
      effects
    };
  }
  /**
  Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change
  description, taking the state's document length and line
  separator into account.
  */
  changes(spec = []) {
    if (spec instanceof ChangeSet)
      return spec;
    return ChangeSet.of(spec, this.doc.length, this.facet(_EditorState.lineSeparator));
  }
  /**
  Using the state's [line
  separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a
  [`Text`](https://codemirror.net/6/docs/ref/#state.Text) instance from the given string.
  */
  toText(string2) {
    return Text.of(string2.split(this.facet(_EditorState.lineSeparator) || DefaultSplit));
  }
  /**
  Return the given range of the document as a string.
  */
  sliceDoc(from2 = 0, to = this.doc.length) {
    return this.doc.sliceString(from2, to, this.lineBreak);
  }
  /**
  Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).
  */
  facet(facet) {
    let addr = this.config.address[facet.id];
    if (addr == null)
      return facet.default;
    ensureAddr(this, addr);
    return getAddr(this, addr);
  }
  /**
  Convert this state to a JSON-serializable object. When custom
  fields should be serialized, you can pass them in as an object
  mapping property names (in the resulting object, which should
  not use `doc` or `selection`) to fields.
  */
  toJSON(fields) {
    let result = {
      doc: this.sliceDoc(),
      selection: this.selection.toJSON()
    };
    if (fields)
      for (let prop in fields) {
        let value = fields[prop];
        if (value instanceof StateField && this.config.address[value.id] != null)
          result[prop] = value.spec.toJSON(this.field(fields[prop]), this);
      }
    return result;
  }
  /**
  Deserialize a state from its JSON representation. When custom
  fields should be deserialized, pass the same object you passed
  to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as
  third argument.
  */
  static fromJSON(json2, config2 = {}, fields) {
    if (!json2 || typeof json2.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    let fieldInit = [];
    if (fields)
      for (let prop in fields) {
        if (Object.prototype.hasOwnProperty.call(json2, prop)) {
          let field = fields[prop], value = json2[prop];
          fieldInit.push(field.init((state) => field.spec.fromJSON(value, state)));
        }
      }
    return _EditorState.create({
      doc: json2.doc,
      selection: EditorSelection.fromJSON(json2.selection),
      extensions: config2.extensions ? fieldInit.concat([config2.extensions]) : fieldInit
    });
  }
  /**
  Create a new state. You'll usually only need this when
  initializing an editor—updated states are created by applying
  transactions.
  */
  static create(config2 = {}) {
    let configuration = Configuration.resolve(config2.extensions || [], /* @__PURE__ */ new Map());
    let doc2 = config2.doc instanceof Text ? config2.doc : Text.of((config2.doc || "").split(configuration.staticFacet(_EditorState.lineSeparator) || DefaultSplit));
    let selection2 = !config2.selection ? EditorSelection.single(0) : config2.selection instanceof EditorSelection ? config2.selection : EditorSelection.single(config2.selection.anchor, config2.selection.head);
    checkSelection(selection2, doc2.length);
    if (!configuration.staticFacet(allowMultipleSelections))
      selection2 = selection2.asSingle();
    return new _EditorState(configuration, doc2, selection2, configuration.dynamicSlots.map(() => null), (state, slot) => slot.create(state), null);
  }
  /**
  The size (in columns) of a tab in the document, determined by
  the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.
  */
  get tabSize() {
    return this.facet(_EditorState.tabSize);
  }
  /**
  Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)
  string for this state.
  */
  get lineBreak() {
    return this.facet(_EditorState.lineSeparator) || "\n";
  }
  /**
  Returns true when the editor is
  [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.
  */
  get readOnly() {
    return this.facet(readOnly);
  }
  /**
  Look up a translation for the given phrase (via the
  [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the
  original string if no translation is found.
  
  If additional arguments are passed, they will be inserted in
  place of markers like `$1` (for the first value) and `$2`, etc.
  A single `$` is equivalent to `$1`, and `$$` will produce a
  literal dollar sign.
  */
  phrase(phrase2, ...insert2) {
    for (let map of this.facet(_EditorState.phrases))
      if (Object.prototype.hasOwnProperty.call(map, phrase2)) {
        phrase2 = map[phrase2];
        break;
      }
    if (insert2.length)
      phrase2 = phrase2.replace(/\$(\$|\d*)/g, (m, i) => {
        if (i == "$")
          return "$";
        let n = +(i || 1);
        return !n || n > insert2.length ? m : insert2[n - 1];
      });
    return phrase2;
  }
  /**
  Find the values for a given language data field, provided by the
  the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.
  
  Examples of language data fields are...
  
  - [`"commentTokens"`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) for specifying
    comment syntax.
  - [`"autocomplete"`](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion^config.override)
    for providing language-specific completion sources.
  - [`"wordChars"`](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) for adding
    characters that should be considered part of words in this
    language.
  - [`"closeBrackets"`](https://codemirror.net/6/docs/ref/#autocomplete.CloseBracketConfig) controls
    bracket closing behavior.
  */
  languageDataAt(name2, pos, side = -1) {
    let values2 = [];
    for (let provider of this.facet(languageData)) {
      for (let result of provider(this, pos, side)) {
        if (Object.prototype.hasOwnProperty.call(result, name2))
          values2.push(result[name2]);
      }
    }
    return values2;
  }
  /**
  Return a function that can categorize strings (expected to
  represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak))
  into one of:
  
   - Word (contains an alphanumeric character or a character
     explicitly listed in the local language's `"wordChars"`
     language data, which should be a string)
   - Space (contains only whitespace)
   - Other (anything else)
  */
  charCategorizer(at) {
    return makeCategorizer(this.languageDataAt("wordChars", at).join(""));
  }
  /**
  Find the word at the given position, meaning the range
  containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters
  around it. If no word characters are adjacent to the position,
  this returns null.
  */
  wordAt(pos) {
    let { text, from: from2, length } = this.doc.lineAt(pos);
    let cat = this.charCategorizer(pos);
    let start = pos - from2, end = pos - from2;
    while (start > 0) {
      let prev = findClusterBreak2(text, start, false);
      if (cat(text.slice(prev, start)) != CharCategory.Word)
        break;
      start = prev;
    }
    while (end < length) {
      let next = findClusterBreak2(text, end);
      if (cat(text.slice(end, next)) != CharCategory.Word)
        break;
      end = next;
    }
    return start == end ? null : EditorSelection.range(start + from2, end + from2);
  }
};
EditorState.allowMultipleSelections = allowMultipleSelections;
EditorState.tabSize = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.length ? values2[0] : 4
});
EditorState.lineSeparator = lineSeparator;
EditorState.readOnly = readOnly;
EditorState.phrases = /* @__PURE__ */ Facet.define({
  compare(a, b) {
    let kA = Object.keys(a), kB = Object.keys(b);
    return kA.length == kB.length && kA.every((k) => a[k] == b[k]);
  }
});
EditorState.languageData = languageData;
EditorState.changeFilter = changeFilter;
EditorState.transactionFilter = transactionFilter;
EditorState.transactionExtender = transactionExtender;
Compartment.reconfigure = /* @__PURE__ */ StateEffect.define();
function combineConfig(configs, defaults3, combine = {}) {
  let result = {};
  for (let config2 of configs)
    for (let key of Object.keys(config2)) {
      let value = config2[key], current = result[key];
      if (current === void 0)
        result[key] = value;
      else if (current === value || value === void 0) ;
      else if (Object.hasOwnProperty.call(combine, key))
        result[key] = combine[key](current, value);
      else
        throw new Error("Config merge conflict for field " + key);
    }
  for (let key in defaults3)
    if (result[key] === void 0)
      result[key] = defaults3[key];
  return result;
}
var RangeValue = class {
  /**
  Compare this value with another value. Used when comparing
  rangesets. The default implementation compares by identity.
  Unless you are only creating a fixed number of unique instances
  of your value type, it is a good idea to implement this
  properly.
  */
  eq(other) {
    return this == other;
  }
  /**
  Create a [range](https://codemirror.net/6/docs/ref/#state.Range) with this value.
  */
  range(from2, to = from2) {
    return Range.create(from2, to, this);
  }
};
RangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;
RangeValue.prototype.point = false;
RangeValue.prototype.mapMode = MapMode.TrackDel;
var Range = class _Range {
  constructor(from2, to, value) {
    this.from = from2;
    this.to = to;
    this.value = value;
  }
  /**
  @internal
  */
  static create(from2, to, value) {
    return new _Range(from2, to, value);
  }
};
function cmpRange(a, b) {
  return a.from - b.from || a.value.startSide - b.value.startSide;
}
var Chunk = class _Chunk {
  constructor(from2, to, value, maxPoint) {
    this.from = from2;
    this.to = to;
    this.value = value;
    this.maxPoint = maxPoint;
  }
  get length() {
    return this.to[this.to.length - 1];
  }
  // Find the index of the given position and side. Use the ranges'
  // `from` pos when `end == false`, `to` when `end == true`.
  findIndex(pos, side, end, startAt = 0) {
    let arr = end ? this.to : this.from;
    for (let lo = startAt, hi = arr.length; ; ) {
      if (lo == hi)
        return lo;
      let mid = lo + hi >> 1;
      let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;
      if (mid == lo)
        return diff >= 0 ? lo : hi;
      if (diff >= 0)
        hi = mid;
      else
        lo = mid + 1;
    }
  }
  between(offset, from2, to, f) {
    for (let i = this.findIndex(from2, -1e9, true), e = this.findIndex(to, 1e9, false, i); i < e; i++)
      if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)
        return false;
  }
  map(offset, changes) {
    let value = [], from2 = [], to = [], newPos = -1, maxPoint = -1;
    for (let i = 0; i < this.value.length; i++) {
      let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;
      if (curFrom == curTo) {
        let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);
        if (mapped == null)
          continue;
        newFrom = newTo = mapped;
        if (val.startSide != val.endSide) {
          newTo = changes.mapPos(curFrom, val.endSide);
          if (newTo < newFrom)
            continue;
        }
      } else {
        newFrom = changes.mapPos(curFrom, val.startSide);
        newTo = changes.mapPos(curTo, val.endSide);
        if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)
          continue;
      }
      if ((newTo - newFrom || val.endSide - val.startSide) < 0)
        continue;
      if (newPos < 0)
        newPos = newFrom;
      if (val.point)
        maxPoint = Math.max(maxPoint, newTo - newFrom);
      value.push(val);
      from2.push(newFrom - newPos);
      to.push(newTo - newPos);
    }
    return { mapped: value.length ? new _Chunk(from2, to, value, maxPoint) : null, pos: newPos };
  }
};
var RangeSet = class _RangeSet {
  constructor(chunkPos, chunk, nextLayer, maxPoint) {
    this.chunkPos = chunkPos;
    this.chunk = chunk;
    this.nextLayer = nextLayer;
    this.maxPoint = maxPoint;
  }
  /**
  @internal
  */
  static create(chunkPos, chunk, nextLayer, maxPoint) {
    return new _RangeSet(chunkPos, chunk, nextLayer, maxPoint);
  }
  /**
  @internal
  */
  get length() {
    let last = this.chunk.length - 1;
    return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);
  }
  /**
  The number of ranges in the set.
  */
  get size() {
    if (this.isEmpty)
      return 0;
    let size = this.nextLayer.size;
    for (let chunk of this.chunk)
      size += chunk.value.length;
    return size;
  }
  /**
  @internal
  */
  chunkEnd(index) {
    return this.chunkPos[index] + this.chunk[index].length;
  }
  /**
  Update the range set, optionally adding new ranges or filtering
  out existing ones.
  
  (Note: The type parameter is just there as a kludge to work
  around TypeScript variance issues that prevented `RangeSet<X>`
  from being a subtype of `RangeSet<Y>` when `X` is a subtype of
  `Y`.)
  */
  update(updateSpec) {
    let { add: add2 = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;
    let filter = updateSpec.filter;
    if (add2.length == 0 && !filter)
      return this;
    if (sort)
      add2 = add2.slice().sort(cmpRange);
    if (this.isEmpty)
      return add2.length ? _RangeSet.of(add2) : this;
    let cur2 = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];
    let builder = new RangeSetBuilder();
    while (cur2.value || i < add2.length) {
      if (i < add2.length && (cur2.from - add2[i].from || cur2.startSide - add2[i].value.startSide) >= 0) {
        let range = add2[i++];
        if (!builder.addInner(range.from, range.to, range.value))
          spill.push(range);
      } else if (cur2.rangeIndex == 1 && cur2.chunkIndex < this.chunk.length && (i == add2.length || this.chunkEnd(cur2.chunkIndex) < add2[i].from) && (!filter || filterFrom > this.chunkEnd(cur2.chunkIndex) || filterTo < this.chunkPos[cur2.chunkIndex]) && builder.addChunk(this.chunkPos[cur2.chunkIndex], this.chunk[cur2.chunkIndex])) {
        cur2.nextChunk();
      } else {
        if (!filter || filterFrom > cur2.to || filterTo < cur2.from || filter(cur2.from, cur2.to, cur2.value)) {
          if (!builder.addInner(cur2.from, cur2.to, cur2.value))
            spill.push(Range.create(cur2.from, cur2.to, cur2.value));
        }
        cur2.next();
      }
    }
    return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? _RangeSet.empty : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));
  }
  /**
  Map this range set through a set of changes, return the new set.
  */
  map(changes) {
    if (changes.empty || this.isEmpty)
      return this;
    let chunks = [], chunkPos = [], maxPoint = -1;
    for (let i = 0; i < this.chunk.length; i++) {
      let start = this.chunkPos[i], chunk = this.chunk[i];
      let touch = changes.touchesRange(start, start + chunk.length);
      if (touch === false) {
        maxPoint = Math.max(maxPoint, chunk.maxPoint);
        chunks.push(chunk);
        chunkPos.push(changes.mapPos(start));
      } else if (touch === true) {
        let { mapped, pos } = chunk.map(start, changes);
        if (mapped) {
          maxPoint = Math.max(maxPoint, mapped.maxPoint);
          chunks.push(mapped);
          chunkPos.push(pos);
        }
      }
    }
    let next = this.nextLayer.map(changes);
    return chunks.length == 0 ? next : new _RangeSet(chunkPos, chunks, next || _RangeSet.empty, maxPoint);
  }
  /**
  Iterate over the ranges that touch the region `from` to `to`,
  calling `f` for each. There is no guarantee that the ranges will
  be reported in any specific order. When the callback returns
  `false`, iteration stops.
  */
  between(from2, to, f) {
    if (this.isEmpty)
      return;
    for (let i = 0; i < this.chunk.length; i++) {
      let start = this.chunkPos[i], chunk = this.chunk[i];
      if (to >= start && from2 <= start + chunk.length && chunk.between(start, from2 - start, to - start, f) === false)
        return;
    }
    this.nextLayer.between(from2, to, f);
  }
  /**
  Iterate over the ranges in this set, in order, including all
  ranges that end at or after `from`.
  */
  iter(from2 = 0) {
    return HeapCursor.from([this]).goto(from2);
  }
  /**
  @internal
  */
  get isEmpty() {
    return this.nextLayer == this;
  }
  /**
  Iterate over the ranges in a collection of sets, in order,
  starting from `from`.
  */
  static iter(sets, from2 = 0) {
    return HeapCursor.from(sets).goto(from2);
  }
  /**
  Iterate over two groups of sets, calling methods on `comparator`
  to notify it of possible differences.
  */
  static compare(oldSets, newSets, textDiff, comparator, minPointSize = -1) {
    let a = oldSets.filter((set) => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);
    let b = newSets.filter((set) => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);
    let sharedChunks = findSharedChunks(a, b, textDiff);
    let sideA = new SpanCursor(a, sharedChunks, minPointSize);
    let sideB = new SpanCursor(b, sharedChunks, minPointSize);
    textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));
    if (textDiff.empty && textDiff.length == 0)
      compare(sideA, 0, sideB, 0, 0, comparator);
  }
  /**
  Compare the contents of two groups of range sets, returning true
  if they are equivalent in the given range.
  */
  static eq(oldSets, newSets, from2 = 0, to) {
    if (to == null)
      to = 1e9 - 1;
    let a = oldSets.filter((set) => !set.isEmpty && newSets.indexOf(set) < 0);
    let b = newSets.filter((set) => !set.isEmpty && oldSets.indexOf(set) < 0);
    if (a.length != b.length)
      return false;
    if (!a.length)
      return true;
    let sharedChunks = findSharedChunks(a, b);
    let sideA = new SpanCursor(a, sharedChunks, 0).goto(from2), sideB = new SpanCursor(b, sharedChunks, 0).goto(from2);
    for (; ; ) {
      if (sideA.to != sideB.to || !sameValues(sideA.active, sideB.active) || sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))
        return false;
      if (sideA.to > to)
        return true;
      sideA.next();
      sideB.next();
    }
  }
  /**
  Iterate over a group of range sets at the same time, notifying
  the iterator about the ranges covering every given piece of
  content. Returns the open count (see
  [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#state.SpanIterator.span)) at the end
  of the iteration.
  */
  static spans(sets, from2, to, iterator, minPointSize = -1) {
    let cursor2 = new SpanCursor(sets, null, minPointSize).goto(from2), pos = from2;
    let openRanges = cursor2.openStart;
    for (; ; ) {
      let curTo = Math.min(cursor2.to, to);
      if (cursor2.point) {
        let active = cursor2.activeForPoint(cursor2.to);
        let openCount = cursor2.pointFrom < from2 ? active.length + 1 : cursor2.point.startSide < 0 ? active.length : Math.min(active.length, openRanges);
        iterator.point(pos, curTo, cursor2.point, active, openCount, cursor2.pointRank);
        openRanges = Math.min(cursor2.openEnd(curTo), active.length);
      } else if (curTo > pos) {
        iterator.span(pos, curTo, cursor2.active, openRanges);
        openRanges = cursor2.openEnd(curTo);
      }
      if (cursor2.to > to)
        return openRanges + (cursor2.point && cursor2.to > to ? 1 : 0);
      pos = cursor2.to;
      cursor2.next();
    }
  }
  /**
  Create a range set for the given range or array of ranges. By
  default, this expects the ranges to be _sorted_ (by start
  position and, if two start at the same position,
  `value.startSide`). You can pass `true` as second argument to
  cause the method to sort them.
  */
  static of(ranges, sort = false) {
    let build = new RangeSetBuilder();
    for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)
      build.add(range.from, range.to, range.value);
    return build.finish();
  }
  /**
  Join an array of range sets into a single set.
  */
  static join(sets) {
    if (!sets.length)
      return _RangeSet.empty;
    let result = sets[sets.length - 1];
    for (let i = sets.length - 2; i >= 0; i--) {
      for (let layer2 = sets[i]; layer2 != _RangeSet.empty; layer2 = layer2.nextLayer)
        result = new _RangeSet(layer2.chunkPos, layer2.chunk, result, Math.max(layer2.maxPoint, result.maxPoint));
    }
    return result;
  }
};
RangeSet.empty = /* @__PURE__ */ new RangeSet([], [], null, -1);
function lazySort(ranges) {
  if (ranges.length > 1)
    for (let prev = ranges[0], i = 1; i < ranges.length; i++) {
      let cur2 = ranges[i];
      if (cmpRange(prev, cur2) > 0)
        return ranges.slice().sort(cmpRange);
      prev = cur2;
    }
  return ranges;
}
RangeSet.empty.nextLayer = RangeSet.empty;
var RangeSetBuilder = class _RangeSetBuilder {
  finishChunk(newArrays) {
    this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));
    this.chunkPos.push(this.chunkStart);
    this.chunkStart = -1;
    this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);
    this.maxPoint = -1;
    if (newArrays) {
      this.from = [];
      this.to = [];
      this.value = [];
    }
  }
  /**
  Create an empty builder.
  */
  constructor() {
    this.chunks = [];
    this.chunkPos = [];
    this.chunkStart = -1;
    this.last = null;
    this.lastFrom = -1e9;
    this.lastTo = -1e9;
    this.from = [];
    this.to = [];
    this.value = [];
    this.maxPoint = -1;
    this.setMaxPoint = -1;
    this.nextLayer = null;
  }
  /**
  Add a range. Ranges should be added in sorted (by `from` and
  `value.startSide`) order.
  */
  add(from2, to, value) {
    if (!this.addInner(from2, to, value))
      (this.nextLayer || (this.nextLayer = new _RangeSetBuilder())).add(from2, to, value);
  }
  /**
  @internal
  */
  addInner(from2, to, value) {
    let diff = from2 - this.lastTo || value.startSide - this.last.endSide;
    if (diff <= 0 && (from2 - this.lastFrom || value.startSide - this.last.startSide) < 0)
      throw new Error("Ranges must be added sorted by `from` position and `startSide`");
    if (diff < 0)
      return false;
    if (this.from.length == 250)
      this.finishChunk(true);
    if (this.chunkStart < 0)
      this.chunkStart = from2;
    this.from.push(from2 - this.chunkStart);
    this.to.push(to - this.chunkStart);
    this.last = value;
    this.lastFrom = from2;
    this.lastTo = to;
    this.value.push(value);
    if (value.point)
      this.maxPoint = Math.max(this.maxPoint, to - from2);
    return true;
  }
  /**
  @internal
  */
  addChunk(from2, chunk) {
    if ((from2 - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)
      return false;
    if (this.from.length)
      this.finishChunk(true);
    this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);
    this.chunks.push(chunk);
    this.chunkPos.push(from2);
    let last = chunk.value.length - 1;
    this.last = chunk.value[last];
    this.lastFrom = chunk.from[last] + from2;
    this.lastTo = chunk.to[last] + from2;
    return true;
  }
  /**
  Finish the range set. Returns the new set. The builder can't be
  used anymore after this has been called.
  */
  finish() {
    return this.finishInner(RangeSet.empty);
  }
  /**
  @internal
  */
  finishInner(next) {
    if (this.from.length)
      this.finishChunk(false);
    if (this.chunks.length == 0)
      return next;
    let result = RangeSet.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);
    this.from = null;
    return result;
  }
};
function findSharedChunks(a, b, textDiff) {
  let inA = /* @__PURE__ */ new Map();
  for (let set of a)
    for (let i = 0; i < set.chunk.length; i++)
      if (set.chunk[i].maxPoint <= 0)
        inA.set(set.chunk[i], set.chunkPos[i]);
  let shared = /* @__PURE__ */ new Set();
  for (let set of b)
    for (let i = 0; i < set.chunk.length; i++) {
      let known = inA.get(set.chunk[i]);
      if (known != null && (textDiff ? textDiff.mapPos(known) : known) == set.chunkPos[i] && !(textDiff === null || textDiff === void 0 ? void 0 : textDiff.touchesRange(known, known + set.chunk[i].length)))
        shared.add(set.chunk[i]);
    }
  return shared;
}
var LayerCursor = class {
  constructor(layer2, skip, minPoint, rank = 0) {
    this.layer = layer2;
    this.skip = skip;
    this.minPoint = minPoint;
    this.rank = rank;
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  get endSide() {
    return this.value ? this.value.endSide : 0;
  }
  goto(pos, side = -1e9) {
    this.chunkIndex = this.rangeIndex = 0;
    this.gotoInner(pos, side, false);
    return this;
  }
  gotoInner(pos, side, forward) {
    while (this.chunkIndex < this.layer.chunk.length) {
      let next = this.layer.chunk[this.chunkIndex];
      if (!(this.skip && this.skip.has(next) || this.layer.chunkEnd(this.chunkIndex) < pos || next.maxPoint < this.minPoint))
        break;
      this.chunkIndex++;
      forward = false;
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);
      if (!forward || this.rangeIndex < rangeIndex)
        this.setRangeIndex(rangeIndex);
    }
    this.next();
  }
  forward(pos, side) {
    if ((this.to - pos || this.endSide - side) < 0)
      this.gotoInner(pos, side, true);
  }
  next() {
    for (; ; ) {
      if (this.chunkIndex == this.layer.chunk.length) {
        this.from = this.to = 1e9;
        this.value = null;
        break;
      } else {
        let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];
        let from2 = chunkPos + chunk.from[this.rangeIndex];
        this.from = from2;
        this.to = chunkPos + chunk.to[this.rangeIndex];
        this.value = chunk.value[this.rangeIndex];
        this.setRangeIndex(this.rangeIndex + 1);
        if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)
          break;
      }
    }
  }
  setRangeIndex(index) {
    if (index == this.layer.chunk[this.chunkIndex].value.length) {
      this.chunkIndex++;
      if (this.skip) {
        while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))
          this.chunkIndex++;
      }
      this.rangeIndex = 0;
    } else {
      this.rangeIndex = index;
    }
  }
  nextChunk() {
    this.chunkIndex++;
    this.rangeIndex = 0;
    this.next();
  }
  compare(other) {
    return this.from - other.from || this.startSide - other.startSide || this.rank - other.rank || this.to - other.to || this.endSide - other.endSide;
  }
};
var HeapCursor = class _HeapCursor {
  constructor(heap) {
    this.heap = heap;
  }
  static from(sets, skip = null, minPoint = -1) {
    let heap = [];
    for (let i = 0; i < sets.length; i++) {
      for (let cur2 = sets[i]; !cur2.isEmpty; cur2 = cur2.nextLayer) {
        if (cur2.maxPoint >= minPoint)
          heap.push(new LayerCursor(cur2, skip, minPoint, i));
      }
    }
    return heap.length == 1 ? heap[0] : new _HeapCursor(heap);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  goto(pos, side = -1e9) {
    for (let cur2 of this.heap)
      cur2.goto(pos, side);
    for (let i = this.heap.length >> 1; i >= 0; i--)
      heapBubble(this.heap, i);
    this.next();
    return this;
  }
  forward(pos, side) {
    for (let cur2 of this.heap)
      cur2.forward(pos, side);
    for (let i = this.heap.length >> 1; i >= 0; i--)
      heapBubble(this.heap, i);
    if ((this.to - pos || this.value.endSide - side) < 0)
      this.next();
  }
  next() {
    if (this.heap.length == 0) {
      this.from = this.to = 1e9;
      this.value = null;
      this.rank = -1;
    } else {
      let top2 = this.heap[0];
      this.from = top2.from;
      this.to = top2.to;
      this.value = top2.value;
      this.rank = top2.rank;
      if (top2.value)
        top2.next();
      heapBubble(this.heap, 0);
    }
  }
};
function heapBubble(heap, index) {
  for (let cur2 = heap[index]; ; ) {
    let childIndex = (index << 1) + 1;
    if (childIndex >= heap.length)
      break;
    let child = heap[childIndex];
    if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {
      child = heap[childIndex + 1];
      childIndex++;
    }
    if (cur2.compare(child) < 0)
      break;
    heap[childIndex] = cur2;
    heap[index] = child;
    index = childIndex;
  }
}
var SpanCursor = class {
  constructor(sets, skip, minPoint) {
    this.minPoint = minPoint;
    this.active = [];
    this.activeTo = [];
    this.activeRank = [];
    this.minActive = -1;
    this.point = null;
    this.pointFrom = 0;
    this.pointRank = 0;
    this.to = -1e9;
    this.endSide = 0;
    this.openStart = -1;
    this.cursor = HeapCursor.from(sets, skip, minPoint);
  }
  goto(pos, side = -1e9) {
    this.cursor.goto(pos, side);
    this.active.length = this.activeTo.length = this.activeRank.length = 0;
    this.minActive = -1;
    this.to = pos;
    this.endSide = side;
    this.openStart = -1;
    this.next();
    return this;
  }
  forward(pos, side) {
    while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)
      this.removeActive(this.minActive);
    this.cursor.forward(pos, side);
  }
  removeActive(index) {
    remove(this.active, index);
    remove(this.activeTo, index);
    remove(this.activeRank, index);
    this.minActive = findMinIndex(this.active, this.activeTo);
  }
  addActive(trackOpen) {
    let i = 0, { value, to, rank } = this.cursor;
    while (i < this.activeRank.length && (rank - this.activeRank[i] || to - this.activeTo[i]) > 0)
      i++;
    insert(this.active, i, value);
    insert(this.activeTo, i, to);
    insert(this.activeRank, i, rank);
    if (trackOpen)
      insert(trackOpen, i, this.cursor.from);
    this.minActive = findMinIndex(this.active, this.activeTo);
  }
  // After calling this, if `this.point` != null, the next range is a
  // point. Otherwise, it's a regular range, covered by `this.active`.
  next() {
    let from2 = this.to, wasPoint = this.point;
    this.point = null;
    let trackOpen = this.openStart < 0 ? [] : null;
    for (; ; ) {
      let a = this.minActive;
      if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {
        if (this.activeTo[a] > from2) {
          this.to = this.activeTo[a];
          this.endSide = this.active[a].endSide;
          break;
        }
        this.removeActive(a);
        if (trackOpen)
          remove(trackOpen, a);
      } else if (!this.cursor.value) {
        this.to = this.endSide = 1e9;
        break;
      } else if (this.cursor.from > from2) {
        this.to = this.cursor.from;
        this.endSide = this.cursor.startSide;
        break;
      } else {
        let nextVal = this.cursor.value;
        if (!nextVal.point) {
          this.addActive(trackOpen);
          this.cursor.next();
        } else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to) {
          this.cursor.next();
        } else {
          this.point = nextVal;
          this.pointFrom = this.cursor.from;
          this.pointRank = this.cursor.rank;
          this.to = this.cursor.to;
          this.endSide = nextVal.endSide;
          this.cursor.next();
          this.forward(this.to, this.endSide);
          break;
        }
      }
    }
    if (trackOpen) {
      this.openStart = 0;
      for (let i = trackOpen.length - 1; i >= 0 && trackOpen[i] < from2; i--)
        this.openStart++;
    }
  }
  activeForPoint(to) {
    if (!this.active.length)
      return this.active;
    let active = [];
    for (let i = this.active.length - 1; i >= 0; i--) {
      if (this.activeRank[i] < this.pointRank)
        break;
      if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)
        active.push(this.active[i]);
    }
    return active.reverse();
  }
  openEnd(to) {
    let open = 0;
    for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)
      open++;
    return open;
  }
};
function compare(a, startA, b, startB, length, comparator) {
  a.goto(startA);
  b.goto(startB);
  let endB = startB + length;
  let pos = startB, dPos = startB - startA;
  for (; ; ) {
    let dEnd = a.to + dPos - b.to, diff = dEnd || a.endSide - b.endSide;
    let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);
    if (a.point || b.point) {
      if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) && sameValues(a.activeForPoint(a.to), b.activeForPoint(b.to))))
        comparator.comparePoint(pos, clipEnd, a.point, b.point);
    } else {
      if (clipEnd > pos && !sameValues(a.active, b.active))
        comparator.compareRange(pos, clipEnd, a.active, b.active);
    }
    if (end > endB)
      break;
    if ((dEnd || a.openEnd != b.openEnd) && comparator.boundChange)
      comparator.boundChange(end);
    pos = end;
    if (diff <= 0)
      a.next();
    if (diff >= 0)
      b.next();
  }
}
function sameValues(a, b) {
  if (a.length != b.length)
    return false;
  for (let i = 0; i < a.length; i++)
    if (a[i] != b[i] && !a[i].eq(b[i]))
      return false;
  return true;
}
function remove(array2, index) {
  for (let i = index, e = array2.length - 1; i < e; i++)
    array2[i] = array2[i + 1];
  array2.pop();
}
function insert(array2, index, value) {
  for (let i = array2.length - 1; i >= index; i--)
    array2[i + 1] = array2[i];
  array2[index] = value;
}
function findMinIndex(value, array2) {
  let found = -1, foundPos = 1e9;
  for (let i = 0; i < array2.length; i++)
    if ((array2[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {
      found = i;
      foundPos = array2[i];
    }
  return found;
}
function countColumn(string2, tabSize, to = string2.length) {
  let n = 0;
  for (let i = 0; i < to && i < string2.length; ) {
    if (string2.charCodeAt(i) == 9) {
      n += tabSize - n % tabSize;
      i++;
    } else {
      n++;
      i = findClusterBreak2(string2, i);
    }
  }
  return n;
}
function findColumn(string2, col, tabSize, strict) {
  for (let i = 0, n = 0; ; ) {
    if (n >= col)
      return i;
    if (i == string2.length)
      break;
    n += string2.charCodeAt(i) == 9 ? tabSize - n % tabSize : 1;
    i = findClusterBreak2(string2, i);
  }
  return strict === true ? -1 : string2.length;
}

// node_modules/style-mod/src/style-mod.js
var C = "\u037C";
var COUNT = typeof Symbol == "undefined" ? "__" + C : Symbol.for(C);
var SET = typeof Symbol == "undefined" ? "__styleSet" + Math.floor(Math.random() * 1e8) : Symbol("styleSet");
var top = typeof globalThis != "undefined" ? globalThis : typeof window != "undefined" ? window : {};
var StyleModule = class {
  // :: (Object<Style>, ?{finish: ?(string) → string})
  // Create a style module from the given spec.
  //
  // When `finish` is given, it is called on regular (non-`@`)
  // selectors (after `&` expansion) to compute the final selector.
  constructor(spec, options) {
    this.rules = [];
    let { finish } = options || {};
    function splitSelector(selector) {
      return /^@/.test(selector) ? [selector] : selector.split(/,\s*/);
    }
    function render(selectors, spec2, target, isKeyframes) {
      let local = [], isAt = /^@(\w+)\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == "keyframes";
      if (isAt && spec2 == null) return target.push(selectors[0] + ";");
      for (let prop in spec2) {
        let value = spec2[prop];
        if (/&/.test(prop)) {
          render(
            prop.split(/,\s*/).map((part) => selectors.map((sel) => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),
            value,
            target
          );
        } else if (value && typeof value == "object") {
          if (!isAt) throw new RangeError("The value of a property (" + prop + ") should be a primitive value.");
          render(splitSelector(prop), value, local, keyframes);
        } else if (value != null) {
          local.push(prop.replace(/_.*/, "").replace(/[A-Z]/g, (l) => "-" + l.toLowerCase()) + ": " + value + ";");
        }
      }
      if (local.length || keyframes) {
        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(", ") + " {" + local.join(" ") + "}");
      }
    }
    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules);
  }
  // :: () → string
  // Returns a string containing the module's CSS rules.
  getRules() {
    return this.rules.join("\n");
  }
  // :: () → string
  // Generate a new unique CSS class name.
  static newName() {
    let id2 = top[COUNT] || 1;
    top[COUNT] = id2 + 1;
    return C + id2.toString(36);
  }
  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>, ?{nonce: ?string})
  //
  // Mount the given set of modules in the given DOM root, which ensures
  // that the CSS rules defined by the module are available in that
  // context.
  //
  // Rules are only added to the document once per root.
  //
  // Rule order will follow the order of the modules, so that rules from
  // modules later in the array take precedence of those from earlier
  // modules. If you call this function multiple times for the same root
  // in a way that changes the order of already mounted modules, the old
  // order will be changed.
  //
  // If a Content Security Policy nonce is provided, it is added to
  // the `<style>` tag generated by the library.
  static mount(root, modules, options) {
    let set = root[SET], nonce = options && options.nonce;
    if (!set) set = new StyleSet(root, nonce);
    else if (nonce) set.setNonce(nonce);
    set.mount(Array.isArray(modules) ? modules : [modules], root);
  }
};
var adoptedSet = /* @__PURE__ */ new Map();
var StyleSet = class {
  constructor(root, nonce) {
    let doc2 = root.ownerDocument || root, win = doc2.defaultView;
    if (!root.head && root.adoptedStyleSheets && win.CSSStyleSheet) {
      let adopted = adoptedSet.get(doc2);
      if (adopted) return root[SET] = adopted;
      this.sheet = new win.CSSStyleSheet();
      adoptedSet.set(doc2, this);
    } else {
      this.styleTag = doc2.createElement("style");
      if (nonce) this.styleTag.setAttribute("nonce", nonce);
    }
    this.modules = [];
    root[SET] = this;
  }
  mount(modules, root) {
    let sheet = this.sheet;
    let pos = 0, j = 0;
    for (let i = 0; i < modules.length; i++) {
      let mod = modules[i], index = this.modules.indexOf(mod);
      if (index < j && index > -1) {
        this.modules.splice(index, 1);
        j--;
        index = -1;
      }
      if (index == -1) {
        this.modules.splice(j++, 0, mod);
        if (sheet) for (let k = 0; k < mod.rules.length; k++)
          sheet.insertRule(mod.rules[k], pos++);
      } else {
        while (j < index) pos += this.modules[j++].rules.length;
        pos += mod.rules.length;
        j++;
      }
    }
    if (sheet) {
      if (root.adoptedStyleSheets.indexOf(this.sheet) < 0)
        root.adoptedStyleSheets = [this.sheet, ...root.adoptedStyleSheets];
    } else {
      let text = "";
      for (let i = 0; i < this.modules.length; i++)
        text += this.modules[i].getRules() + "\n";
      this.styleTag.textContent = text;
      let target = root.head || root;
      if (this.styleTag.parentNode != target)
        target.insertBefore(this.styleTag, target.firstChild);
    }
  }
  setNonce(nonce) {
    if (this.styleTag && this.styleTag.getAttribute("nonce") != nonce)
      this.styleTag.setAttribute("nonce", nonce);
  }
};

// node_modules/w3c-keyname/index.js
var base = {
  8: "Backspace",
  9: "Tab",
  10: "Enter",
  12: "NumLock",
  13: "Enter",
  16: "Shift",
  17: "Control",
  18: "Alt",
  20: "CapsLock",
  27: "Escape",
  32: " ",
  33: "PageUp",
  34: "PageDown",
  35: "End",
  36: "Home",
  37: "ArrowLeft",
  38: "ArrowUp",
  39: "ArrowRight",
  40: "ArrowDown",
  44: "PrintScreen",
  45: "Insert",
  46: "Delete",
  59: ";",
  61: "=",
  91: "Meta",
  92: "Meta",
  106: "*",
  107: "+",
  108: ",",
  109: "-",
  110: ".",
  111: "/",
  144: "NumLock",
  145: "ScrollLock",
  160: "Shift",
  161: "Shift",
  162: "Control",
  163: "Control",
  164: "Alt",
  165: "Alt",
  173: "-",
  186: ";",
  187: "=",
  188: ",",
  189: "-",
  190: ".",
  191: "/",
  192: "`",
  219: "[",
  220: "\\",
  221: "]",
  222: "'"
};
var shift = {
  48: ")",
  49: "!",
  50: "@",
  51: "#",
  52: "$",
  53: "%",
  54: "^",
  55: "&",
  56: "*",
  57: "(",
  59: ":",
  61: "+",
  173: "_",
  186: ":",
  187: "+",
  188: "<",
  189: "_",
  190: ">",
  191: "?",
  192: "~",
  219: "{",
  220: "|",
  221: "}",
  222: '"'
};
var mac = typeof navigator != "undefined" && /Mac/.test(navigator.platform);
var ie = typeof navigator != "undefined" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i);
var i;
for (i = 1; i <= 24; i++) base[i + 111] = "F" + i;
var i;
for (i = 65; i <= 90; i++) {
  base[i] = String.fromCharCode(i + 32);
  shift[i] = String.fromCharCode(i);
}
var i;
for (code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code];
var code;
function keyName(event) {
  var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey || ie && event.shiftKey && event.key && event.key.length == 1 || event.key == "Unidentified";
  var name2 = !ignoreKey && event.key || (event.shiftKey ? shift : base)[event.keyCode] || event.key || "Unidentified";
  if (name2 == "Esc") name2 = "Escape";
  if (name2 == "Del") name2 = "Delete";
  if (name2 == "Left") name2 = "ArrowLeft";
  if (name2 == "Up") name2 = "ArrowUp";
  if (name2 == "Right") name2 = "ArrowRight";
  if (name2 == "Down") name2 = "ArrowDown";
  return name2;
}

// node_modules/crelt/index.js
function crelt() {
  var elt = arguments[0];
  if (typeof elt == "string") elt = document.createElement(elt);
  var i = 1, next = arguments[1];
  if (next && typeof next == "object" && next.nodeType == null && !Array.isArray(next)) {
    for (var name2 in next) if (Object.prototype.hasOwnProperty.call(next, name2)) {
      var value = next[name2];
      if (typeof value == "string") elt.setAttribute(name2, value);
      else if (value != null) elt[name2] = value;
    }
    i++;
  }
  for (; i < arguments.length; i++) add(elt, arguments[i]);
  return elt;
}
function add(elt, child) {
  if (typeof child == "string") {
    elt.appendChild(document.createTextNode(child));
  } else if (child == null) {
  } else if (child.nodeType != null) {
    elt.appendChild(child);
  } else if (Array.isArray(child)) {
    for (var i = 0; i < child.length; i++) add(elt, child[i]);
  } else {
    throw new RangeError("Unsupported child node: " + child);
  }
}

// node_modules/@codemirror/view/dist/index.js
function getSelection(root) {
  let target;
  if (root.nodeType == 11) {
    target = root.getSelection ? root : root.ownerDocument;
  } else {
    target = root;
  }
  return target.getSelection();
}
function contains(dom, node) {
  return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;
}
function hasSelection(dom, selection2) {
  if (!selection2.anchorNode)
    return false;
  try {
    return contains(dom, selection2.anchorNode);
  } catch (_) {
    return false;
  }
}
function clientRectsFor(dom) {
  if (dom.nodeType == 3)
    return textRange(dom, 0, dom.nodeValue.length).getClientRects();
  else if (dom.nodeType == 1)
    return dom.getClientRects();
  else
    return [];
}
function isEquivalentPosition(node, off, targetNode, targetOff) {
  return targetNode ? scanFor(node, off, targetNode, targetOff, -1) || scanFor(node, off, targetNode, targetOff, 1) : false;
}
function domIndex(node) {
  for (var index = 0; ; index++) {
    node = node.previousSibling;
    if (!node)
      return index;
  }
}
function isBlockElement(node) {
  return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(node.nodeName);
}
function scanFor(node, off, targetNode, targetOff, dir) {
  for (; ; ) {
    if (node == targetNode && off == targetOff)
      return true;
    if (off == (dir < 0 ? 0 : maxOffset(node))) {
      if (node.nodeName == "DIV")
        return false;
      let parent = node.parentNode;
      if (!parent || parent.nodeType != 1)
        return false;
      off = domIndex(node) + (dir < 0 ? 0 : 1);
      node = parent;
    } else if (node.nodeType == 1) {
      node = node.childNodes[off + (dir < 0 ? -1 : 0)];
      if (node.nodeType == 1 && node.contentEditable == "false")
        return false;
      off = dir < 0 ? maxOffset(node) : 0;
    } else {
      return false;
    }
  }
}
function maxOffset(node) {
  return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;
}
function flattenRect(rect, left) {
  let x = left ? rect.left : rect.right;
  return { left: x, right: x, top: rect.top, bottom: rect.bottom };
}
function windowRect(win) {
  let vp = win.visualViewport;
  if (vp)
    return {
      left: 0,
      right: vp.width,
      top: 0,
      bottom: vp.height
    };
  return {
    left: 0,
    right: win.innerWidth,
    top: 0,
    bottom: win.innerHeight
  };
}
function getScale(elt, rect) {
  let scaleX = rect.width / elt.offsetWidth;
  let scaleY = rect.height / elt.offsetHeight;
  if (scaleX > 0.995 && scaleX < 1.005 || !isFinite(scaleX) || Math.abs(rect.width - elt.offsetWidth) < 1)
    scaleX = 1;
  if (scaleY > 0.995 && scaleY < 1.005 || !isFinite(scaleY) || Math.abs(rect.height - elt.offsetHeight) < 1)
    scaleY = 1;
  return { scaleX, scaleY };
}
function scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {
  let doc2 = dom.ownerDocument, win = doc2.defaultView || window;
  for (let cur2 = dom, stop = false; cur2 && !stop; ) {
    if (cur2.nodeType == 1) {
      let bounding, top2 = cur2 == doc2.body;
      let scaleX = 1, scaleY = 1;
      if (top2) {
        bounding = windowRect(win);
      } else {
        if (/^(fixed|sticky)$/.test(getComputedStyle(cur2).position))
          stop = true;
        if (cur2.scrollHeight <= cur2.clientHeight && cur2.scrollWidth <= cur2.clientWidth) {
          cur2 = cur2.assignedSlot || cur2.parentNode;
          continue;
        }
        let rect2 = cur2.getBoundingClientRect();
        ({ scaleX, scaleY } = getScale(cur2, rect2));
        bounding = {
          left: rect2.left,
          right: rect2.left + cur2.clientWidth * scaleX,
          top: rect2.top,
          bottom: rect2.top + cur2.clientHeight * scaleY
        };
      }
      let moveX = 0, moveY = 0;
      if (y == "nearest") {
        if (rect.top < bounding.top) {
          moveY = rect.top - (bounding.top + yMargin);
          if (side > 0 && rect.bottom > bounding.bottom + moveY)
            moveY = rect.bottom - bounding.bottom + yMargin;
        } else if (rect.bottom > bounding.bottom) {
          moveY = rect.bottom - bounding.bottom + yMargin;
          if (side < 0 && rect.top - moveY < bounding.top)
            moveY = rect.top - (bounding.top + yMargin);
        }
      } else {
        let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;
        let targetTop = y == "center" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 : y == "start" || y == "center" && side < 0 ? rect.top - yMargin : rect.bottom - boundingHeight + yMargin;
        moveY = targetTop - bounding.top;
      }
      if (x == "nearest") {
        if (rect.left < bounding.left) {
          moveX = rect.left - (bounding.left + xMargin);
          if (side > 0 && rect.right > bounding.right + moveX)
            moveX = rect.right - bounding.right + xMargin;
        } else if (rect.right > bounding.right) {
          moveX = rect.right - bounding.right + xMargin;
          if (side < 0 && rect.left < bounding.left + moveX)
            moveX = rect.left - (bounding.left + xMargin);
        }
      } else {
        let targetLeft = x == "center" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 : x == "start" == ltr ? rect.left - xMargin : rect.right - (bounding.right - bounding.left) + xMargin;
        moveX = targetLeft - bounding.left;
      }
      if (moveX || moveY) {
        if (top2) {
          win.scrollBy(moveX, moveY);
        } else {
          let movedX = 0, movedY = 0;
          if (moveY) {
            let start = cur2.scrollTop;
            cur2.scrollTop += moveY / scaleY;
            movedY = (cur2.scrollTop - start) * scaleY;
          }
          if (moveX) {
            let start = cur2.scrollLeft;
            cur2.scrollLeft += moveX / scaleX;
            movedX = (cur2.scrollLeft - start) * scaleX;
          }
          rect = {
            left: rect.left - movedX,
            top: rect.top - movedY,
            right: rect.right - movedX,
            bottom: rect.bottom - movedY
          };
          if (movedX && Math.abs(movedX - moveX) < 1)
            x = "nearest";
          if (movedY && Math.abs(movedY - moveY) < 1)
            y = "nearest";
        }
      }
      if (top2)
        break;
      if (rect.top < bounding.top || rect.bottom > bounding.bottom || rect.left < bounding.left || rect.right > bounding.right)
        rect = {
          left: Math.max(rect.left, bounding.left),
          right: Math.min(rect.right, bounding.right),
          top: Math.max(rect.top, bounding.top),
          bottom: Math.min(rect.bottom, bounding.bottom)
        };
      cur2 = cur2.assignedSlot || cur2.parentNode;
    } else if (cur2.nodeType == 11) {
      cur2 = cur2.host;
    } else {
      break;
    }
  }
}
function scrollableParents(dom) {
  let doc2 = dom.ownerDocument, x, y;
  for (let cur2 = dom.parentNode; cur2; ) {
    if (cur2 == doc2.body || x && y) {
      break;
    } else if (cur2.nodeType == 1) {
      if (!y && cur2.scrollHeight > cur2.clientHeight)
        y = cur2;
      if (!x && cur2.scrollWidth > cur2.clientWidth)
        x = cur2;
      cur2 = cur2.assignedSlot || cur2.parentNode;
    } else if (cur2.nodeType == 11) {
      cur2 = cur2.host;
    } else {
      break;
    }
  }
  return { x, y };
}
var DOMSelectionState = class {
  constructor() {
    this.anchorNode = null;
    this.anchorOffset = 0;
    this.focusNode = null;
    this.focusOffset = 0;
  }
  eq(domSel) {
    return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset && this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;
  }
  setRange(range) {
    let { anchorNode, focusNode } = range;
    this.set(anchorNode, Math.min(range.anchorOffset, anchorNode ? maxOffset(anchorNode) : 0), focusNode, Math.min(range.focusOffset, focusNode ? maxOffset(focusNode) : 0));
  }
  set(anchorNode, anchorOffset, focusNode, focusOffset) {
    this.anchorNode = anchorNode;
    this.anchorOffset = anchorOffset;
    this.focusNode = focusNode;
    this.focusOffset = focusOffset;
  }
};
var preventScrollSupported = null;
function focusPreventScroll(dom) {
  if (dom.setActive)
    return dom.setActive();
  if (preventScrollSupported)
    return dom.focus(preventScrollSupported);
  let stack = [];
  for (let cur2 = dom; cur2; cur2 = cur2.parentNode) {
    stack.push(cur2, cur2.scrollTop, cur2.scrollLeft);
    if (cur2 == cur2.ownerDocument)
      break;
  }
  dom.focus(preventScrollSupported == null ? {
    get preventScroll() {
      preventScrollSupported = { preventScroll: true };
      return true;
    }
  } : void 0);
  if (!preventScrollSupported) {
    preventScrollSupported = false;
    for (let i = 0; i < stack.length; ) {
      let elt = stack[i++], top2 = stack[i++], left = stack[i++];
      if (elt.scrollTop != top2)
        elt.scrollTop = top2;
      if (elt.scrollLeft != left)
        elt.scrollLeft = left;
    }
  }
}
var scratchRange;
function textRange(node, from2, to = from2) {
  let range = scratchRange || (scratchRange = document.createRange());
  range.setEnd(node, to);
  range.setStart(node, from2);
  return range;
}
function dispatchKey(elt, name2, code, mods) {
  let options = { key: name2, code: name2, keyCode: code, which: code, cancelable: true };
  if (mods)
    ({ altKey: options.altKey, ctrlKey: options.ctrlKey, shiftKey: options.shiftKey, metaKey: options.metaKey } = mods);
  let down = new KeyboardEvent("keydown", options);
  down.synthetic = true;
  elt.dispatchEvent(down);
  let up = new KeyboardEvent("keyup", options);
  up.synthetic = true;
  elt.dispatchEvent(up);
  return down.defaultPrevented || up.defaultPrevented;
}
function getRoot(node) {
  while (node) {
    if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))
      return node;
    node = node.assignedSlot || node.parentNode;
  }
  return null;
}
function clearAttributes(node) {
  while (node.attributes.length)
    node.removeAttributeNode(node.attributes[0]);
}
function atElementStart(doc2, selection2) {
  let node = selection2.focusNode, offset = selection2.focusOffset;
  if (!node || selection2.anchorNode != node || selection2.anchorOffset != offset)
    return false;
  offset = Math.min(offset, maxOffset(node));
  for (; ; ) {
    if (offset) {
      if (node.nodeType != 1)
        return false;
      let prev = node.childNodes[offset - 1];
      if (prev.contentEditable == "false")
        offset--;
      else {
        node = prev;
        offset = maxOffset(node);
      }
    } else if (node == doc2) {
      return true;
    } else {
      offset = domIndex(node);
      node = node.parentNode;
    }
  }
}
function isScrolledToBottom(elt) {
  return elt.scrollTop > Math.max(1, elt.scrollHeight - elt.clientHeight - 4);
}
function textNodeBefore(startNode, startOffset) {
  for (let node = startNode, offset = startOffset; ; ) {
    if (node.nodeType == 3 && offset > 0) {
      return { node, offset };
    } else if (node.nodeType == 1 && offset > 0) {
      if (node.contentEditable == "false")
        return null;
      node = node.childNodes[offset - 1];
      offset = maxOffset(node);
    } else if (node.parentNode && !isBlockElement(node)) {
      offset = domIndex(node);
      node = node.parentNode;
    } else {
      return null;
    }
  }
}
function textNodeAfter(startNode, startOffset) {
  for (let node = startNode, offset = startOffset; ; ) {
    if (node.nodeType == 3 && offset < node.nodeValue.length) {
      return { node, offset };
    } else if (node.nodeType == 1 && offset < node.childNodes.length) {
      if (node.contentEditable == "false")
        return null;
      node = node.childNodes[offset];
      offset = 0;
    } else if (node.parentNode && !isBlockElement(node)) {
      offset = domIndex(node) + 1;
      node = node.parentNode;
    } else {
      return null;
    }
  }
}
var DOMPos = class _DOMPos {
  constructor(node, offset, precise = true) {
    this.node = node;
    this.offset = offset;
    this.precise = precise;
  }
  static before(dom, precise) {
    return new _DOMPos(dom.parentNode, domIndex(dom), precise);
  }
  static after(dom, precise) {
    return new _DOMPos(dom.parentNode, domIndex(dom) + 1, precise);
  }
};
var noChildren = [];
var ContentView = class _ContentView {
  constructor() {
    this.parent = null;
    this.dom = null;
    this.flags = 2;
  }
  get overrideDOMText() {
    return null;
  }
  get posAtStart() {
    return this.parent ? this.parent.posBefore(this) : 0;
  }
  get posAtEnd() {
    return this.posAtStart + this.length;
  }
  posBefore(view) {
    let pos = this.posAtStart;
    for (let child of this.children) {
      if (child == view)
        return pos;
      pos += child.length + child.breakAfter;
    }
    throw new RangeError("Invalid child in posBefore");
  }
  posAfter(view) {
    return this.posBefore(view) + view.length;
  }
  sync(view, track) {
    if (this.flags & 2) {
      let parent = this.dom;
      let prev = null, next;
      for (let child of this.children) {
        if (child.flags & 7) {
          if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {
            let contentView = _ContentView.get(next);
            if (!contentView || !contentView.parent && contentView.canReuseDOM(child))
              child.reuseDOM(next);
          }
          child.sync(view, track);
          child.flags &= ~7;
        }
        next = prev ? prev.nextSibling : parent.firstChild;
        if (track && !track.written && track.node == parent && next != child.dom)
          track.written = true;
        if (child.dom.parentNode == parent) {
          while (next && next != child.dom)
            next = rm$1(next);
        } else {
          parent.insertBefore(child.dom, next);
        }
        prev = child.dom;
      }
      next = prev ? prev.nextSibling : parent.firstChild;
      if (next && track && track.node == parent)
        track.written = true;
      while (next)
        next = rm$1(next);
    } else if (this.flags & 1) {
      for (let child of this.children)
        if (child.flags & 7) {
          child.sync(view, track);
          child.flags &= ~7;
        }
    }
  }
  reuseDOM(_dom) {
  }
  localPosFromDOM(node, offset) {
    let after;
    if (node == this.dom) {
      after = this.dom.childNodes[offset];
    } else {
      let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;
      for (; ; ) {
        let parent = node.parentNode;
        if (parent == this.dom)
          break;
        if (bias == 0 && parent.firstChild != parent.lastChild) {
          if (node == parent.firstChild)
            bias = -1;
          else
            bias = 1;
        }
        node = parent;
      }
      if (bias < 0)
        after = node;
      else
        after = node.nextSibling;
    }
    if (after == this.dom.firstChild)
      return 0;
    while (after && !_ContentView.get(after))
      after = after.nextSibling;
    if (!after)
      return this.length;
    for (let i = 0, pos = 0; ; i++) {
      let child = this.children[i];
      if (child.dom == after)
        return pos;
      pos += child.length + child.breakAfter;
    }
  }
  domBoundsAround(from2, to, offset = 0) {
    let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;
    for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {
      let child = this.children[i], end = pos + child.length;
      if (pos < from2 && end > to)
        return child.domBoundsAround(from2, to, pos);
      if (end >= from2 && fromI == -1) {
        fromI = i;
        fromStart = pos;
      }
      if (pos > to && child.dom.parentNode == this.dom) {
        toI = i;
        toEnd = prevEnd;
        break;
      }
      prevEnd = end;
      pos = end + child.breakAfter;
    }
    return {
      from: fromStart,
      to: toEnd < 0 ? offset + this.length : toEnd,
      startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,
      endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null
    };
  }
  markDirty(andParent = false) {
    this.flags |= 2;
    this.markParentsDirty(andParent);
  }
  markParentsDirty(childList) {
    for (let parent = this.parent; parent; parent = parent.parent) {
      if (childList)
        parent.flags |= 2;
      if (parent.flags & 1)
        return;
      parent.flags |= 1;
      childList = false;
    }
  }
  setParent(parent) {
    if (this.parent != parent) {
      this.parent = parent;
      if (this.flags & 7)
        this.markParentsDirty(true);
    }
  }
  setDOM(dom) {
    if (this.dom == dom)
      return;
    if (this.dom)
      this.dom.cmView = null;
    this.dom = dom;
    dom.cmView = this;
  }
  get rootView() {
    for (let v = this; ; ) {
      let parent = v.parent;
      if (!parent)
        return v;
      v = parent;
    }
  }
  replaceChildren(from2, to, children = noChildren) {
    this.markDirty();
    for (let i = from2; i < to; i++) {
      let child = this.children[i];
      if (child.parent == this && children.indexOf(child) < 0)
        child.destroy();
    }
    if (children.length < 250)
      this.children.splice(from2, to - from2, ...children);
    else
      this.children = [].concat(this.children.slice(0, from2), children, this.children.slice(to));
    for (let i = 0; i < children.length; i++)
      children[i].setParent(this);
  }
  ignoreMutation(_rec) {
    return false;
  }
  ignoreEvent(_event) {
    return false;
  }
  childCursor(pos = this.length) {
    return new ChildCursor(this.children, pos, this.children.length);
  }
  childPos(pos, bias = 1) {
    return this.childCursor().findPos(pos, bias);
  }
  toString() {
    let name2 = this.constructor.name.replace("View", "");
    return name2 + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + (name2 == "Text" ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "");
  }
  static get(node) {
    return node.cmView;
  }
  get isEditable() {
    return true;
  }
  get isWidget() {
    return false;
  }
  get isHidden() {
    return false;
  }
  merge(from2, to, source, hasStart, openStart, openEnd) {
    return false;
  }
  become(other) {
    return false;
  }
  canReuseDOM(other) {
    return other.constructor == this.constructor && !((this.flags | other.flags) & 8);
  }
  // When this is a zero-length view with a side, this should return a
  // number <= 0 to indicate it is before its position, or a
  // number > 0 when after its position.
  getSide() {
    return 0;
  }
  destroy() {
    for (let child of this.children)
      if (child.parent == this)
        child.destroy();
    this.parent = null;
  }
};
ContentView.prototype.breakAfter = 0;
function rm$1(dom) {
  let next = dom.nextSibling;
  dom.parentNode.removeChild(dom);
  return next;
}
var ChildCursor = class {
  constructor(children, pos, i) {
    this.children = children;
    this.pos = pos;
    this.i = i;
    this.off = 0;
  }
  findPos(pos, bias = 1) {
    for (; ; ) {
      if (pos > this.pos || pos == this.pos && (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {
        this.off = pos - this.pos;
        return this;
      }
      let next = this.children[--this.i];
      this.pos -= next.length + next.breakAfter;
    }
  }
};
function replaceRange(parent, fromI, fromOff, toI, toOff, insert2, breakAtStart, openStart, openEnd) {
  let { children } = parent;
  let before = children.length ? children[fromI] : null;
  let last = insert2.length ? insert2[insert2.length - 1] : null;
  let breakAtEnd = last ? last.breakAfter : breakAtStart;
  if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert2.length < 2 && before.merge(fromOff, toOff, insert2.length ? last : null, fromOff == 0, openStart, openEnd))
    return;
  if (toI < children.length) {
    let after = children[toI];
    if (after && (toOff < after.length || after.breakAfter && (last === null || last === void 0 ? void 0 : last.breakAfter))) {
      if (fromI == toI) {
        after = after.split(toOff);
        toOff = 0;
      }
      if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {
        insert2[insert2.length - 1] = after;
      } else {
        if (toOff || after.children.length && !after.children[0].length)
          after.merge(0, toOff, null, false, 0, openEnd);
        insert2.push(after);
      }
    } else if (after === null || after === void 0 ? void 0 : after.breakAfter) {
      if (last)
        last.breakAfter = 1;
      else
        breakAtStart = 1;
    }
    toI++;
  }
  if (before) {
    before.breakAfter = breakAtStart;
    if (fromOff > 0) {
      if (!breakAtStart && insert2.length && before.merge(fromOff, before.length, insert2[0], false, openStart, 0)) {
        before.breakAfter = insert2.shift().breakAfter;
      } else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {
        before.merge(fromOff, before.length, null, false, openStart, 0);
      }
      fromI++;
    }
  }
  while (fromI < toI && insert2.length) {
    if (children[toI - 1].become(insert2[insert2.length - 1])) {
      toI--;
      insert2.pop();
      openEnd = insert2.length ? 0 : openStart;
    } else if (children[fromI].become(insert2[0])) {
      fromI++;
      insert2.shift();
      openStart = insert2.length ? 0 : openEnd;
    } else {
      break;
    }
  }
  if (!insert2.length && fromI && toI < children.length && !children[fromI - 1].breakAfter && children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))
    fromI--;
  if (fromI < toI || insert2.length)
    parent.replaceChildren(fromI, toI, insert2);
}
function mergeChildrenInto(parent, from2, to, insert2, openStart, openEnd) {
  let cur2 = parent.childCursor();
  let { i: toI, off: toOff } = cur2.findPos(to, 1);
  let { i: fromI, off: fromOff } = cur2.findPos(from2, -1);
  let dLen = from2 - to;
  for (let view of insert2)
    dLen += view.length;
  parent.length += dLen;
  replaceRange(parent, fromI, fromOff, toI, toOff, insert2, 0, openStart, openEnd);
}
var nav = typeof navigator != "undefined" ? navigator : { userAgent: "", vendor: "", platform: "" };
var doc = typeof document != "undefined" ? document : { documentElement: { style: {} } };
var ie_edge = /* @__PURE__ */ /Edge\/(\d+)/.exec(nav.userAgent);
var ie_upto10 = /* @__PURE__ */ /MSIE \d/.test(nav.userAgent);
var ie_11up = /* @__PURE__ */ /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent);
var ie2 = !!(ie_upto10 || ie_11up || ie_edge);
var gecko = !ie2 && /* @__PURE__ */ /gecko\/(\d+)/i.test(nav.userAgent);
var chrome = !ie2 && /* @__PURE__ */ /Chrome\/(\d+)/.exec(nav.userAgent);
var webkit = "webkitFontSmoothing" in doc.documentElement.style;
var safari = !ie2 && /* @__PURE__ */ /Apple Computer/.test(nav.vendor);
var ios = safari && (/* @__PURE__ */ /Mobile\/\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);
var browser = {
  mac: ios || /* @__PURE__ */ /Mac/.test(nav.platform),
  windows: /* @__PURE__ */ /Win/.test(nav.platform),
  linux: /* @__PURE__ */ /Linux|X11/.test(nav.platform),
  ie: ie2,
  ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,
  gecko,
  gecko_version: gecko ? +(/* @__PURE__ */ /Firefox\/(\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,
  chrome: !!chrome,
  chrome_version: chrome ? +chrome[1] : 0,
  ios,
  android: /* @__PURE__ */ /Android\b/.test(nav.userAgent),
  webkit,
  safari,
  webkit_version: webkit ? +(/* @__PURE__ */ /\bAppleWebKit\/(\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,
  tabSize: doc.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size"
};
var MaxJoinLen = 256;
var TextView = class _TextView extends ContentView {
  constructor(text) {
    super();
    this.text = text;
  }
  get length() {
    return this.text.length;
  }
  createDOM(textDOM) {
    this.setDOM(textDOM || document.createTextNode(this.text));
  }
  sync(view, track) {
    if (!this.dom)
      this.createDOM();
    if (this.dom.nodeValue != this.text) {
      if (track && track.node == this.dom)
        track.written = true;
      this.dom.nodeValue = this.text;
    }
  }
  reuseDOM(dom) {
    if (dom.nodeType == 3)
      this.createDOM(dom);
  }
  merge(from2, to, source) {
    if (this.flags & 8 || source && (!(source instanceof _TextView) || this.length - (to - from2) + source.length > MaxJoinLen || source.flags & 8))
      return false;
    this.text = this.text.slice(0, from2) + (source ? source.text : "") + this.text.slice(to);
    this.markDirty();
    return true;
  }
  split(from2) {
    let result = new _TextView(this.text.slice(from2));
    this.text = this.text.slice(0, from2);
    this.markDirty();
    result.flags |= this.flags & 8;
    return result;
  }
  localPosFromDOM(node, offset) {
    return node == this.dom ? offset : offset ? this.text.length : 0;
  }
  domAtPos(pos) {
    return new DOMPos(this.dom, pos);
  }
  domBoundsAround(_from, _to, offset) {
    return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };
  }
  coordsAt(pos, side) {
    return textCoords(this.dom, pos, side);
  }
};
var MarkView = class _MarkView extends ContentView {
  constructor(mark, children = [], length = 0) {
    super();
    this.mark = mark;
    this.children = children;
    this.length = length;
    for (let ch of children)
      ch.setParent(this);
  }
  setAttrs(dom) {
    clearAttributes(dom);
    if (this.mark.class)
      dom.className = this.mark.class;
    if (this.mark.attrs)
      for (let name2 in this.mark.attrs)
        dom.setAttribute(name2, this.mark.attrs[name2]);
    return dom;
  }
  canReuseDOM(other) {
    return super.canReuseDOM(other) && !((this.flags | other.flags) & 8);
  }
  reuseDOM(node) {
    if (node.nodeName == this.mark.tagName.toUpperCase()) {
      this.setDOM(node);
      this.flags |= 4 | 2;
    }
  }
  sync(view, track) {
    if (!this.dom)
      this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));
    else if (this.flags & 4)
      this.setAttrs(this.dom);
    super.sync(view, track);
  }
  merge(from2, to, source, _hasStart, openStart, openEnd) {
    if (source && (!(source instanceof _MarkView && source.mark.eq(this.mark)) || from2 && openStart <= 0 || to < this.length && openEnd <= 0))
      return false;
    mergeChildrenInto(this, from2, to, source ? source.children.slice() : [], openStart - 1, openEnd - 1);
    this.markDirty();
    return true;
  }
  split(from2) {
    let result = [], off = 0, detachFrom = -1, i = 0;
    for (let elt of this.children) {
      let end = off + elt.length;
      if (end > from2)
        result.push(off < from2 ? elt.split(from2 - off) : elt);
      if (detachFrom < 0 && off >= from2)
        detachFrom = i;
      off = end;
      i++;
    }
    let length = this.length - from2;
    this.length = from2;
    if (detachFrom > -1) {
      this.children.length = detachFrom;
      this.markDirty();
    }
    return new _MarkView(this.mark, result, length);
  }
  domAtPos(pos) {
    return inlineDOMAtPos(this, pos);
  }
  coordsAt(pos, side) {
    return coordsInChildren(this, pos, side);
  }
};
function textCoords(text, pos, side) {
  let length = text.nodeValue.length;
  if (pos > length)
    pos = length;
  let from2 = pos, to = pos, flatten2 = 0;
  if (pos == 0 && side < 0 || pos == length && side >= 0) {
    if (!(browser.chrome || browser.gecko)) {
      if (pos) {
        from2--;
        flatten2 = 1;
      } else if (to < length) {
        to++;
        flatten2 = -1;
      }
    }
  } else {
    if (side < 0)
      from2--;
    else if (to < length)
      to++;
  }
  let rects = textRange(text, from2, to).getClientRects();
  if (!rects.length)
    return null;
  let rect = rects[(flatten2 ? flatten2 < 0 : side >= 0) ? 0 : rects.length - 1];
  if (browser.safari && !flatten2 && rect.width == 0)
    rect = Array.prototype.find.call(rects, (r) => r.width) || rect;
  return flatten2 ? flattenRect(rect, flatten2 < 0) : rect || null;
}
var WidgetView = class _WidgetView extends ContentView {
  static create(widget, length, side) {
    return new _WidgetView(widget, length, side);
  }
  constructor(widget, length, side) {
    super();
    this.widget = widget;
    this.length = length;
    this.side = side;
    this.prevWidget = null;
  }
  split(from2) {
    let result = _WidgetView.create(this.widget, this.length - from2, this.side);
    this.length -= from2;
    return result;
  }
  sync(view) {
    if (!this.dom || !this.widget.updateDOM(this.dom, view)) {
      if (this.dom && this.prevWidget)
        this.prevWidget.destroy(this.dom);
      this.prevWidget = null;
      this.setDOM(this.widget.toDOM(view));
      if (!this.widget.editable)
        this.dom.contentEditable = "false";
    }
  }
  getSide() {
    return this.side;
  }
  merge(from2, to, source, hasStart, openStart, openEnd) {
    if (source && (!(source instanceof _WidgetView) || !this.widget.compare(source.widget) || from2 > 0 && openStart <= 0 || to < this.length && openEnd <= 0))
      return false;
    this.length = from2 + (source ? source.length : 0) + (this.length - to);
    return true;
  }
  become(other) {
    if (other instanceof _WidgetView && other.side == this.side && this.widget.constructor == other.widget.constructor) {
      if (!this.widget.compare(other.widget))
        this.markDirty(true);
      if (this.dom && !this.prevWidget)
        this.prevWidget = this.widget;
      this.widget = other.widget;
      this.length = other.length;
      return true;
    }
    return false;
  }
  ignoreMutation() {
    return true;
  }
  ignoreEvent(event) {
    return this.widget.ignoreEvent(event);
  }
  get overrideDOMText() {
    if (this.length == 0)
      return Text.empty;
    let top2 = this;
    while (top2.parent)
      top2 = top2.parent;
    let { view } = top2, text = view && view.state.doc, start = this.posAtStart;
    return text ? text.slice(start, start + this.length) : Text.empty;
  }
  domAtPos(pos) {
    return (this.length ? pos == 0 : this.side > 0) ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(pos, side) {
    let custom = this.widget.coordsAt(this.dom, pos, side);
    if (custom)
      return custom;
    let rects = this.dom.getClientRects(), rect = null;
    if (!rects.length)
      return null;
    let fromBack = this.side ? this.side < 0 : pos > 0;
    for (let i = fromBack ? rects.length - 1 : 0; ; i += fromBack ? -1 : 1) {
      rect = rects[i];
      if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)
        break;
    }
    return flattenRect(rect, !fromBack);
  }
  get isEditable() {
    return false;
  }
  get isWidget() {
    return true;
  }
  get isHidden() {
    return this.widget.isHidden;
  }
  destroy() {
    super.destroy();
    if (this.dom)
      this.widget.destroy(this.dom);
  }
};
var WidgetBufferView = class _WidgetBufferView extends ContentView {
  constructor(side) {
    super();
    this.side = side;
  }
  get length() {
    return 0;
  }
  merge() {
    return false;
  }
  become(other) {
    return other instanceof _WidgetBufferView && other.side == this.side;
  }
  split() {
    return new _WidgetBufferView(this.side);
  }
  sync() {
    if (!this.dom) {
      let dom = document.createElement("img");
      dom.className = "cm-widgetBuffer";
      dom.setAttribute("aria-hidden", "true");
      this.setDOM(dom);
    }
  }
  getSide() {
    return this.side;
  }
  domAtPos(pos) {
    return this.side > 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom);
  }
  localPosFromDOM() {
    return 0;
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(pos) {
    return this.dom.getBoundingClientRect();
  }
  get overrideDOMText() {
    return Text.empty;
  }
  get isHidden() {
    return true;
  }
};
TextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;
function inlineDOMAtPos(parent, pos) {
  let dom = parent.dom, { children } = parent, i = 0;
  for (let off = 0; i < children.length; i++) {
    let child = children[i], end = off + child.length;
    if (end == off && child.getSide() <= 0)
      continue;
    if (pos > off && pos < end && child.dom.parentNode == dom)
      return child.domAtPos(pos - off);
    if (pos <= off)
      break;
    off = end;
  }
  for (let j = i; j > 0; j--) {
    let prev = children[j - 1];
    if (prev.dom.parentNode == dom)
      return prev.domAtPos(prev.length);
  }
  for (let j = i; j < children.length; j++) {
    let next = children[j];
    if (next.dom.parentNode == dom)
      return next.domAtPos(0);
  }
  return new DOMPos(dom, 0);
}
function joinInlineInto(parent, view, open) {
  let last, { children } = parent;
  if (open > 0 && view instanceof MarkView && children.length && (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {
    joinInlineInto(last, view.children[0], open - 1);
  } else {
    children.push(view);
    view.setParent(parent);
  }
  parent.length += view.length;
}
function coordsInChildren(view, pos, side) {
  let before = null, beforePos = -1, after = null, afterPos = -1;
  function scan(view2, pos2) {
    for (let i = 0, off = 0; i < view2.children.length && off <= pos2; i++) {
      let child = view2.children[i], end = off + child.length;
      if (end >= pos2) {
        if (child.children.length) {
          scan(child, pos2 - off);
        } else if ((!after || after.isHidden && (side > 0 || onSameLine(after, child))) && (end > pos2 || off == end && child.getSide() > 0)) {
          after = child;
          afterPos = pos2 - off;
        } else if (off < pos2 || off == end && child.getSide() < 0 && !child.isHidden) {
          before = child;
          beforePos = pos2 - off;
        }
      }
      off = end;
    }
  }
  scan(view, pos);
  let target = (side < 0 ? before : after) || before || after;
  if (target)
    return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);
  return fallbackRect(view);
}
function fallbackRect(view) {
  let last = view.dom.lastChild;
  if (!last)
    return view.dom.getBoundingClientRect();
  let rects = clientRectsFor(last);
  return rects[rects.length - 1] || null;
}
function onSameLine(a, b) {
  let posA = a.coordsAt(0, 1), posB = b.coordsAt(0, 1);
  return posA && posB && posB.top < posA.bottom;
}
function combineAttrs(source, target) {
  for (let name2 in source) {
    if (name2 == "class" && target.class)
      target.class += " " + source.class;
    else if (name2 == "style" && target.style)
      target.style += ";" + source.style;
    else
      target[name2] = source[name2];
  }
  return target;
}
var noAttrs = /* @__PURE__ */ Object.create(null);
function attrsEq(a, b, ignore) {
  if (a == b)
    return true;
  if (!a)
    a = noAttrs;
  if (!b)
    b = noAttrs;
  let keysA = Object.keys(a), keysB = Object.keys(b);
  if (keysA.length - (ignore && keysA.indexOf(ignore) > -1 ? 1 : 0) != keysB.length - (ignore && keysB.indexOf(ignore) > -1 ? 1 : 0))
    return false;
  for (let key of keysA) {
    if (key != ignore && (keysB.indexOf(key) == -1 || a[key] !== b[key]))
      return false;
  }
  return true;
}
function updateAttrs(dom, prev, attrs) {
  let changed = false;
  if (prev) {
    for (let name2 in prev)
      if (!(attrs && name2 in attrs)) {
        changed = true;
        if (name2 == "style")
          dom.style.cssText = "";
        else
          dom.removeAttribute(name2);
      }
  }
  if (attrs) {
    for (let name2 in attrs)
      if (!(prev && prev[name2] == attrs[name2])) {
        changed = true;
        if (name2 == "style")
          dom.style.cssText = attrs[name2];
        else
          dom.setAttribute(name2, attrs[name2]);
      }
  }
  return changed;
}
function getAttrs(dom) {
  let attrs = /* @__PURE__ */ Object.create(null);
  for (let i = 0; i < dom.attributes.length; i++) {
    let attr = dom.attributes[i];
    attrs[attr.name] = attr.value;
  }
  return attrs;
}
var WidgetType = class {
  /**
  Compare this instance to another instance of the same type.
  (TypeScript can't express this, but only instances of the same
  specific class will be passed to this method.) This is used to
  avoid redrawing widgets when they are replaced by a new
  decoration of the same type. The default implementation just
  returns `false`, which will cause new instances of the widget to
  always be redrawn.
  */
  eq(widget) {
    return false;
  }
  /**
  Update a DOM element created by a widget of the same type (but
  different, non-`eq` content) to reflect this widget. May return
  true to indicate that it could update, false to indicate it
  couldn't (in which case the widget will be redrawn). The default
  implementation just returns false.
  */
  updateDOM(dom, view) {
    return false;
  }
  /**
  @internal
  */
  compare(other) {
    return this == other || this.constructor == other.constructor && this.eq(other);
  }
  /**
  The estimated height this widget will have, to be used when
  estimating the height of content that hasn't been drawn. May
  return -1 to indicate you don't know. The default implementation
  returns -1.
  */
  get estimatedHeight() {
    return -1;
  }
  /**
  For inline widgets that are displayed inline (as opposed to
  `inline-block`) and introduce line breaks (through `<br>` tags
  or textual newlines), this must indicate the amount of line
  breaks they introduce. Defaults to 0.
  */
  get lineBreaks() {
    return 0;
  }
  /**
  Can be used to configure which kinds of events inside the widget
  should be ignored by the editor. The default is to ignore all
  events.
  */
  ignoreEvent(event) {
    return true;
  }
  /**
  Override the way screen coordinates for positions at/in the
  widget are found. `pos` will be the offset into the widget, and
  `side` the side of the position that is being queried—less than
  zero for before, greater than zero for after, and zero for
  directly at that position.
  */
  coordsAt(dom, pos, side) {
    return null;
  }
  /**
  @internal
  */
  get isHidden() {
    return false;
  }
  /**
  @internal
  */
  get editable() {
    return false;
  }
  /**
  This is called when the an instance of the widget is removed
  from the editor view.
  */
  destroy(dom) {
  }
};
var BlockType = /* @__PURE__ */ function(BlockType2) {
  BlockType2[BlockType2["Text"] = 0] = "Text";
  BlockType2[BlockType2["WidgetBefore"] = 1] = "WidgetBefore";
  BlockType2[BlockType2["WidgetAfter"] = 2] = "WidgetAfter";
  BlockType2[BlockType2["WidgetRange"] = 3] = "WidgetRange";
  return BlockType2;
}(BlockType || (BlockType = {}));
var Decoration = class extends RangeValue {
  constructor(startSide, endSide, widget, spec) {
    super();
    this.startSide = startSide;
    this.endSide = endSide;
    this.widget = widget;
    this.spec = spec;
  }
  /**
  @internal
  */
  get heightRelevant() {
    return false;
  }
  /**
  Create a mark decoration, which influences the styling of the
  content in its range. Nested mark decorations will cause nested
  DOM elements to be created. Nesting order is determined by
  precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with
  the higher-precedence decorations creating the inner DOM nodes.
  Such elements are split on line boundaries and on the boundaries
  of lower-precedence decorations.
  */
  static mark(spec) {
    return new MarkDecoration(spec);
  }
  /**
  Create a widget decoration, which displays a DOM element at the
  given position.
  */
  static widget(spec) {
    let side = Math.max(-1e4, Math.min(1e4, spec.side || 0)), block = !!spec.block;
    side += block && !spec.inlineOrder ? side > 0 ? 3e8 : -4e8 : side > 0 ? 1e8 : -1e8;
    return new PointDecoration(spec, side, side, block, spec.widget || null, false);
  }
  /**
  Create a replace decoration which replaces the given range with
  a widget, or simply hides it.
  */
  static replace(spec) {
    let block = !!spec.block, startSide, endSide;
    if (spec.isBlockGap) {
      startSide = -5e8;
      endSide = 4e8;
    } else {
      let { start, end } = getInclusive(spec, block);
      startSide = (start ? block ? -3e8 : -1 : 5e8) - 1;
      endSide = (end ? block ? 2e8 : 1 : -6e8) + 1;
    }
    return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);
  }
  /**
  Create a line decoration, which can add DOM attributes to the
  line starting at the given position.
  */
  static line(spec) {
    return new LineDecoration(spec);
  }
  /**
  Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given
  decorated range or ranges. If the ranges aren't already sorted,
  pass `true` for `sort` to make the library sort them for you.
  */
  static set(of, sort = false) {
    return RangeSet.of(of, sort);
  }
  /**
  @internal
  */
  hasHeight() {
    return this.widget ? this.widget.estimatedHeight > -1 : false;
  }
};
Decoration.none = RangeSet.empty;
var MarkDecoration = class _MarkDecoration extends Decoration {
  constructor(spec) {
    let { start, end } = getInclusive(spec);
    super(start ? -1 : 5e8, end ? 1 : -6e8, null, spec);
    this.tagName = spec.tagName || "span";
    this.class = spec.class || "";
    this.attrs = spec.attributes || null;
  }
  eq(other) {
    var _a2, _b;
    return this == other || other instanceof _MarkDecoration && this.tagName == other.tagName && (this.class || ((_a2 = this.attrs) === null || _a2 === void 0 ? void 0 : _a2.class)) == (other.class || ((_b = other.attrs) === null || _b === void 0 ? void 0 : _b.class)) && attrsEq(this.attrs, other.attrs, "class");
  }
  range(from2, to = from2) {
    if (from2 >= to)
      throw new RangeError("Mark decorations may not be empty");
    return super.range(from2, to);
  }
};
MarkDecoration.prototype.point = false;
var LineDecoration = class _LineDecoration extends Decoration {
  constructor(spec) {
    super(-2e8, -2e8, null, spec);
  }
  eq(other) {
    return other instanceof _LineDecoration && this.spec.class == other.spec.class && attrsEq(this.spec.attributes, other.spec.attributes);
  }
  range(from2, to = from2) {
    if (to != from2)
      throw new RangeError("Line decoration ranges must be zero-length");
    return super.range(from2, to);
  }
};
LineDecoration.prototype.mapMode = MapMode.TrackBefore;
LineDecoration.prototype.point = true;
var PointDecoration = class _PointDecoration extends Decoration {
  constructor(spec, startSide, endSide, block, widget, isReplace) {
    super(startSide, endSide, widget, spec);
    this.block = block;
    this.isReplace = isReplace;
    this.mapMode = !block ? MapMode.TrackDel : startSide <= 0 ? MapMode.TrackBefore : MapMode.TrackAfter;
  }
  // Only relevant when this.block == true
  get type() {
    return this.startSide != this.endSide ? BlockType.WidgetRange : this.startSide <= 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;
  }
  get heightRelevant() {
    return this.block || !!this.widget && (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0);
  }
  eq(other) {
    return other instanceof _PointDecoration && widgetsEq(this.widget, other.widget) && this.block == other.block && this.startSide == other.startSide && this.endSide == other.endSide;
  }
  range(from2, to = from2) {
    if (this.isReplace && (from2 > to || from2 == to && this.startSide > 0 && this.endSide <= 0))
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && to != from2)
      throw new RangeError("Widget decorations can only have zero-length ranges");
    return super.range(from2, to);
  }
};
PointDecoration.prototype.point = true;
function getInclusive(spec, block = false) {
  let { inclusiveStart: start, inclusiveEnd: end } = spec;
  if (start == null)
    start = spec.inclusive;
  if (end == null)
    end = spec.inclusive;
  return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };
}
function widgetsEq(a, b) {
  return a == b || !!(a && b && a.compare(b));
}
function addRange(from2, to, ranges, margin = 0) {
  let last = ranges.length - 1;
  if (last >= 0 && ranges[last] + margin >= from2)
    ranges[last] = Math.max(ranges[last], to);
  else
    ranges.push(from2, to);
}
var LineView = class _LineView extends ContentView {
  constructor() {
    super(...arguments);
    this.children = [];
    this.length = 0;
    this.prevAttrs = void 0;
    this.attrs = null;
    this.breakAfter = 0;
  }
  // Consumes source
  merge(from2, to, source, hasStart, openStart, openEnd) {
    if (source) {
      if (!(source instanceof _LineView))
        return false;
      if (!this.dom)
        source.transferDOM(this);
    }
    if (hasStart)
      this.setDeco(source ? source.attrs : null);
    mergeChildrenInto(this, from2, to, source ? source.children.slice() : [], openStart, openEnd);
    return true;
  }
  split(at) {
    let end = new _LineView();
    end.breakAfter = this.breakAfter;
    if (this.length == 0)
      return end;
    let { i, off } = this.childPos(at);
    if (off) {
      end.append(this.children[i].split(off), 0);
      this.children[i].merge(off, this.children[i].length, null, false, 0, 0);
      i++;
    }
    for (let j = i; j < this.children.length; j++)
      end.append(this.children[j], 0);
    while (i > 0 && this.children[i - 1].length == 0)
      this.children[--i].destroy();
    this.children.length = i;
    this.markDirty();
    this.length = at;
    return end;
  }
  transferDOM(other) {
    if (!this.dom)
      return;
    this.markDirty();
    other.setDOM(this.dom);
    other.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs;
    this.prevAttrs = void 0;
    this.dom = null;
  }
  setDeco(attrs) {
    if (!attrsEq(this.attrs, attrs)) {
      if (this.dom) {
        this.prevAttrs = this.attrs;
        this.markDirty();
      }
      this.attrs = attrs;
    }
  }
  append(child, openStart) {
    joinInlineInto(this, child, openStart);
  }
  // Only called when building a line view in ContentBuilder
  addLineDeco(deco) {
    let attrs = deco.spec.attributes, cls = deco.spec.class;
    if (attrs)
      this.attrs = combineAttrs(attrs, this.attrs || {});
    if (cls)
      this.attrs = combineAttrs({ class: cls }, this.attrs || {});
  }
  domAtPos(pos) {
    return inlineDOMAtPos(this, pos);
  }
  reuseDOM(node) {
    if (node.nodeName == "DIV") {
      this.setDOM(node);
      this.flags |= 4 | 2;
    }
  }
  sync(view, track) {
    var _a2;
    if (!this.dom) {
      this.setDOM(document.createElement("div"));
      this.dom.className = "cm-line";
      this.prevAttrs = this.attrs ? null : void 0;
    } else if (this.flags & 4) {
      clearAttributes(this.dom);
      this.dom.className = "cm-line";
      this.prevAttrs = this.attrs ? null : void 0;
    }
    if (this.prevAttrs !== void 0) {
      updateAttrs(this.dom, this.prevAttrs, this.attrs);
      this.dom.classList.add("cm-line");
      this.prevAttrs = void 0;
    }
    super.sync(view, track);
    let last = this.dom.lastChild;
    while (last && ContentView.get(last) instanceof MarkView)
      last = last.lastChild;
    if (!last || !this.length || last.nodeName != "BR" && ((_a2 = ContentView.get(last)) === null || _a2 === void 0 ? void 0 : _a2.isEditable) == false && (!browser.ios || !this.children.some((ch) => ch instanceof TextView))) {
      let hack = document.createElement("BR");
      hack.cmIgnore = true;
      this.dom.appendChild(hack);
    }
  }
  measureTextSize() {
    if (this.children.length == 0 || this.length > 20)
      return null;
    let totalWidth = 0, textHeight;
    for (let child of this.children) {
      if (!(child instanceof TextView) || /[^ -~]/.test(child.text))
        return null;
      let rects = clientRectsFor(child.dom);
      if (rects.length != 1)
        return null;
      totalWidth += rects[0].width;
      textHeight = rects[0].height;
    }
    return !totalWidth ? null : {
      lineHeight: this.dom.getBoundingClientRect().height,
      charWidth: totalWidth / this.length,
      textHeight
    };
  }
  coordsAt(pos, side) {
    let rect = coordsInChildren(this, pos, side);
    if (!this.children.length && rect && this.parent) {
      let { heightOracle } = this.parent.view.viewState, height = rect.bottom - rect.top;
      if (Math.abs(height - heightOracle.lineHeight) < 2 && heightOracle.textHeight < height) {
        let dist2 = (height - heightOracle.textHeight) / 2;
        return { top: rect.top + dist2, bottom: rect.bottom - dist2, left: rect.left, right: rect.left };
      }
    }
    return rect;
  }
  become(other) {
    return other instanceof _LineView && this.children.length == 0 && other.children.length == 0 && attrsEq(this.attrs, other.attrs) && this.breakAfter == other.breakAfter;
  }
  covers() {
    return true;
  }
  static find(docView, pos) {
    for (let i = 0, off = 0; i < docView.children.length; i++) {
      let block = docView.children[i], end = off + block.length;
      if (end >= pos) {
        if (block instanceof _LineView)
          return block;
        if (end > pos)
          break;
      }
      off = end + block.breakAfter;
    }
    return null;
  }
};
var BlockWidgetView = class _BlockWidgetView extends ContentView {
  constructor(widget, length, deco) {
    super();
    this.widget = widget;
    this.length = length;
    this.deco = deco;
    this.breakAfter = 0;
    this.prevWidget = null;
  }
  merge(from2, to, source, _takeDeco, openStart, openEnd) {
    if (source && (!(source instanceof _BlockWidgetView) || !this.widget.compare(source.widget) || from2 > 0 && openStart <= 0 || to < this.length && openEnd <= 0))
      return false;
    this.length = from2 + (source ? source.length : 0) + (this.length - to);
    return true;
  }
  domAtPos(pos) {
    return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);
  }
  split(at) {
    let len = this.length - at;
    this.length = at;
    let end = new _BlockWidgetView(this.widget, len, this.deco);
    end.breakAfter = this.breakAfter;
    return end;
  }
  get children() {
    return noChildren;
  }
  sync(view) {
    if (!this.dom || !this.widget.updateDOM(this.dom, view)) {
      if (this.dom && this.prevWidget)
        this.prevWidget.destroy(this.dom);
      this.prevWidget = null;
      this.setDOM(this.widget.toDOM(view));
      if (!this.widget.editable)
        this.dom.contentEditable = "false";
    }
  }
  get overrideDOMText() {
    return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text.empty;
  }
  domBoundsAround() {
    return null;
  }
  become(other) {
    if (other instanceof _BlockWidgetView && other.widget.constructor == this.widget.constructor) {
      if (!other.widget.compare(this.widget))
        this.markDirty(true);
      if (this.dom && !this.prevWidget)
        this.prevWidget = this.widget;
      this.widget = other.widget;
      this.length = other.length;
      this.deco = other.deco;
      this.breakAfter = other.breakAfter;
      return true;
    }
    return false;
  }
  ignoreMutation() {
    return true;
  }
  ignoreEvent(event) {
    return this.widget.ignoreEvent(event);
  }
  get isEditable() {
    return false;
  }
  get isWidget() {
    return true;
  }
  coordsAt(pos, side) {
    let custom = this.widget.coordsAt(this.dom, pos, side);
    if (custom)
      return custom;
    if (this.widget instanceof BlockGapWidget)
      return null;
    return flattenRect(this.dom.getBoundingClientRect(), this.length ? pos == 0 : side <= 0);
  }
  destroy() {
    super.destroy();
    if (this.dom)
      this.widget.destroy(this.dom);
  }
  covers(side) {
    let { startSide, endSide } = this.deco;
    return startSide == endSide ? false : side < 0 ? startSide < 0 : endSide > 0;
  }
};
var BlockGapWidget = class extends WidgetType {
  constructor(height) {
    super();
    this.height = height;
  }
  toDOM() {
    let elt = document.createElement("div");
    elt.className = "cm-gap";
    this.updateDOM(elt);
    return elt;
  }
  eq(other) {
    return other.height == this.height;
  }
  updateDOM(elt) {
    elt.style.height = this.height + "px";
    return true;
  }
  get editable() {
    return true;
  }
  get estimatedHeight() {
    return this.height;
  }
  ignoreEvent() {
    return false;
  }
};
var ContentBuilder = class _ContentBuilder {
  constructor(doc2, pos, end, disallowBlockEffectsFor) {
    this.doc = doc2;
    this.pos = pos;
    this.end = end;
    this.disallowBlockEffectsFor = disallowBlockEffectsFor;
    this.content = [];
    this.curLine = null;
    this.breakAtStart = 0;
    this.pendingBuffer = 0;
    this.bufferMarks = [];
    this.atCursorPos = true;
    this.openStart = -1;
    this.openEnd = -1;
    this.text = "";
    this.textOff = 0;
    this.cursor = doc2.iter();
    this.skip = pos;
  }
  posCovered() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    let last = this.content[this.content.length - 1];
    return !(last.breakAfter || last instanceof BlockWidgetView && last.deco.endSide < 0);
  }
  getLine() {
    if (!this.curLine) {
      this.content.push(this.curLine = new LineView());
      this.atCursorPos = true;
    }
    return this.curLine;
  }
  flushBuffer(active = this.bufferMarks) {
    if (this.pendingBuffer) {
      this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);
      this.pendingBuffer = 0;
    }
  }
  addBlockWidget(view) {
    this.flushBuffer();
    this.curLine = null;
    this.content.push(view);
  }
  finish(openEnd) {
    if (this.pendingBuffer && openEnd <= this.bufferMarks.length)
      this.flushBuffer();
    else
      this.pendingBuffer = 0;
    if (!this.posCovered() && !(openEnd && this.content.length && this.content[this.content.length - 1] instanceof BlockWidgetView))
      this.getLine();
  }
  buildText(length, active, openStart) {
    while (length > 0) {
      if (this.textOff == this.text.length) {
        let { value, lineBreak, done } = this.cursor.next(this.skip);
        this.skip = 0;
        if (done)
          throw new Error("Ran out of text content when drawing inline views");
        if (lineBreak) {
          if (!this.posCovered())
            this.getLine();
          if (this.content.length)
            this.content[this.content.length - 1].breakAfter = 1;
          else
            this.breakAtStart = 1;
          this.flushBuffer();
          this.curLine = null;
          this.atCursorPos = true;
          length--;
          continue;
        } else {
          this.text = value;
          this.textOff = 0;
        }
      }
      let take = Math.min(
        this.text.length - this.textOff,
        length,
        512
        /* T.Chunk */
      );
      this.flushBuffer(active.slice(active.length - openStart));
      this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);
      this.atCursorPos = true;
      this.textOff += take;
      length -= take;
      openStart = 0;
    }
  }
  span(from2, to, active, openStart) {
    this.buildText(to - from2, active, openStart);
    this.pos = to;
    if (this.openStart < 0)
      this.openStart = openStart;
  }
  point(from2, to, deco, active, openStart, index) {
    if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {
      if (deco.block)
        throw new RangeError("Block decorations may not be specified via plugins");
      if (to > this.doc.lineAt(this.pos).to)
        throw new RangeError("Decorations that replace line breaks may not be specified via plugins");
    }
    let len = to - from2;
    if (deco instanceof PointDecoration) {
      if (deco.block) {
        if (deco.startSide > 0 && !this.posCovered())
          this.getLine();
        this.addBlockWidget(new BlockWidgetView(deco.widget || NullWidget.block, len, deco));
      } else {
        let view = WidgetView.create(deco.widget || NullWidget.inline, len, len ? 0 : deco.startSide);
        let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from2 < to || deco.startSide > 0);
        let cursorAfter = !view.isEditable && (from2 < to || openStart > active.length || deco.startSide <= 0);
        let line = this.getLine();
        if (this.pendingBuffer == 2 && !cursorBefore && !view.isEditable)
          this.pendingBuffer = 0;
        this.flushBuffer(active);
        if (cursorBefore) {
          line.append(wrapMarks(new WidgetBufferView(1), active), openStart);
          openStart = active.length + Math.max(0, openStart - active.length);
        }
        line.append(wrapMarks(view, active), openStart);
        this.atCursorPos = cursorAfter;
        this.pendingBuffer = !cursorAfter ? 0 : from2 < to || openStart > active.length ? 1 : 2;
        if (this.pendingBuffer)
          this.bufferMarks = active.slice();
      }
    } else if (this.doc.lineAt(this.pos).from == this.pos) {
      this.getLine().addLineDeco(deco);
    }
    if (len) {
      if (this.textOff + len <= this.text.length) {
        this.textOff += len;
      } else {
        this.skip += len - (this.text.length - this.textOff);
        this.text = "";
        this.textOff = 0;
      }
      this.pos = to;
    }
    if (this.openStart < 0)
      this.openStart = openStart;
  }
  static build(text, from2, to, decorations2, dynamicDecorationMap) {
    let builder = new _ContentBuilder(text, from2, to, dynamicDecorationMap);
    builder.openEnd = RangeSet.spans(decorations2, from2, to, builder);
    if (builder.openStart < 0)
      builder.openStart = builder.openEnd;
    builder.finish(builder.openEnd);
    return builder;
  }
};
function wrapMarks(view, active) {
  for (let mark of active)
    view = new MarkView(mark, [view], view.length);
  return view;
}
var NullWidget = class extends WidgetType {
  constructor(tag) {
    super();
    this.tag = tag;
  }
  eq(other) {
    return other.tag == this.tag;
  }
  toDOM() {
    return document.createElement(this.tag);
  }
  updateDOM(elt) {
    return elt.nodeName.toLowerCase() == this.tag;
  }
  get isHidden() {
    return true;
  }
};
NullWidget.inline = /* @__PURE__ */ new NullWidget("span");
NullWidget.block = /* @__PURE__ */ new NullWidget("div");
var Direction = /* @__PURE__ */ function(Direction2) {
  Direction2[Direction2["LTR"] = 0] = "LTR";
  Direction2[Direction2["RTL"] = 1] = "RTL";
  return Direction2;
}(Direction || (Direction = {}));
var LTR = Direction.LTR;
var RTL = Direction.RTL;
function dec(str) {
  let result = [];
  for (let i = 0; i < str.length; i++)
    result.push(1 << +str[i]);
  return result;
}
var LowTypes = /* @__PURE__ */ dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008");
var ArabicTypes = /* @__PURE__ */ dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");
var Brackets = /* @__PURE__ */ Object.create(null);
var BracketStack = [];
for (let p of ["()", "[]", "{}"]) {
  let l = /* @__PURE__ */ p.charCodeAt(0), r = /* @__PURE__ */ p.charCodeAt(1);
  Brackets[l] = r;
  Brackets[r] = -l;
}
function charType(ch) {
  return ch <= 247 ? LowTypes[ch] : 1424 <= ch && ch <= 1524 ? 2 : 1536 <= ch && ch <= 1785 ? ArabicTypes[ch - 1536] : 1774 <= ch && ch <= 2220 ? 4 : 8192 <= ch && ch <= 8204 ? 256 : 64336 <= ch && ch <= 65023 ? 4 : 1;
}
var BidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
var BidiSpan = class {
  /**
  The direction of this span.
  */
  get dir() {
    return this.level % 2 ? RTL : LTR;
  }
  /**
  @internal
  */
  constructor(from2, to, level) {
    this.from = from2;
    this.to = to;
    this.level = level;
  }
  /**
  @internal
  */
  side(end, dir) {
    return this.dir == dir == end ? this.to : this.from;
  }
  /**
  @internal
  */
  forward(forward, dir) {
    return forward == (this.dir == dir);
  }
  /**
  @internal
  */
  static find(order, index, level, assoc) {
    let maybe = -1;
    for (let i = 0; i < order.length; i++) {
      let span = order[i];
      if (span.from <= index && span.to >= index) {
        if (span.level == level)
          return i;
        if (maybe < 0 || (assoc != 0 ? assoc < 0 ? span.from < index : span.to > index : order[maybe].level > span.level))
          maybe = i;
      }
    }
    if (maybe < 0)
      throw new RangeError("Index out of range");
    return maybe;
  }
};
function isolatesEq(a, b) {
  if (a.length != b.length)
    return false;
  for (let i = 0; i < a.length; i++) {
    let iA = a[i], iB = b[i];
    if (iA.from != iB.from || iA.to != iB.to || iA.direction != iB.direction || !isolatesEq(iA.inner, iB.inner))
      return false;
  }
  return true;
}
var types = [];
function computeCharTypes(line, rFrom, rTo, isolates, outerType) {
  for (let iI = 0; iI <= isolates.length; iI++) {
    let from2 = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;
    let prevType = iI ? 256 : outerType;
    for (let i = from2, prev = prevType, prevStrong = prevType; i < to; i++) {
      let type = charType(line.charCodeAt(i));
      if (type == 512)
        type = prev;
      else if (type == 8 && prevStrong == 4)
        type = 16;
      types[i] = type == 4 ? 2 : type;
      if (type & 7)
        prevStrong = type;
      prev = type;
    }
    for (let i = from2, prev = prevType, prevStrong = prevType; i < to; i++) {
      let type = types[i];
      if (type == 128) {
        if (i < to - 1 && prev == types[i + 1] && prev & 24)
          type = types[i] = prev;
        else
          types[i] = 256;
      } else if (type == 64) {
        let end = i + 1;
        while (end < to && types[end] == 64)
          end++;
        let replace2 = i && prev == 8 || end < rTo && types[end] == 8 ? prevStrong == 1 ? 1 : 8 : 256;
        for (let j = i; j < end; j++)
          types[j] = replace2;
        i = end - 1;
      } else if (type == 8 && prevStrong == 1) {
        types[i] = 1;
      }
      prev = type;
      if (type & 7)
        prevStrong = type;
    }
  }
}
function processBracketPairs(line, rFrom, rTo, isolates, outerType) {
  let oppositeType = outerType == 1 ? 2 : 1;
  for (let iI = 0, sI = 0, context = 0; iI <= isolates.length; iI++) {
    let from2 = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;
    for (let i = from2, ch, br, type; i < to; i++) {
      if (br = Brackets[ch = line.charCodeAt(i)]) {
        if (br < 0) {
          for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {
            if (BracketStack[sJ + 1] == -br) {
              let flags = BracketStack[sJ + 2];
              let type2 = flags & 2 ? outerType : !(flags & 4) ? 0 : flags & 1 ? oppositeType : outerType;
              if (type2)
                types[i] = types[BracketStack[sJ]] = type2;
              sI = sJ;
              break;
            }
          }
        } else if (BracketStack.length == 189) {
          break;
        } else {
          BracketStack[sI++] = i;
          BracketStack[sI++] = ch;
          BracketStack[sI++] = context;
        }
      } else if ((type = types[i]) == 2 || type == 1) {
        let embed = type == outerType;
        context = embed ? 0 : 1;
        for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {
          let cur2 = BracketStack[sJ + 2];
          if (cur2 & 2)
            break;
          if (embed) {
            BracketStack[sJ + 2] |= 2;
          } else {
            if (cur2 & 4)
              break;
            BracketStack[sJ + 2] |= 4;
          }
        }
      }
    }
  }
}
function processNeutrals(rFrom, rTo, isolates, outerType) {
  for (let iI = 0, prev = outerType; iI <= isolates.length; iI++) {
    let from2 = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;
    for (let i = from2; i < to; ) {
      let type = types[i];
      if (type == 256) {
        let end = i + 1;
        for (; ; ) {
          if (end == to) {
            if (iI == isolates.length)
              break;
            end = isolates[iI++].to;
            to = iI < isolates.length ? isolates[iI].from : rTo;
          } else if (types[end] == 256) {
            end++;
          } else {
            break;
          }
        }
        let beforeL = prev == 1;
        let afterL = (end < rTo ? types[end] : outerType) == 1;
        let replace2 = beforeL == afterL ? beforeL ? 1 : 2 : outerType;
        for (let j = end, jI = iI, fromJ = jI ? isolates[jI - 1].to : rFrom; j > i; ) {
          if (j == fromJ) {
            j = isolates[--jI].from;
            fromJ = jI ? isolates[jI - 1].to : rFrom;
          }
          types[--j] = replace2;
        }
        i = end;
      } else {
        prev = type;
        i++;
      }
    }
  }
}
function emitSpans(line, from2, to, level, baseLevel, isolates, order) {
  let ourType = level % 2 ? 2 : 1;
  if (level % 2 == baseLevel % 2) {
    for (let iCh = from2, iI = 0; iCh < to; ) {
      let sameDir = true, isNum = false;
      if (iI == isolates.length || iCh < isolates[iI].from) {
        let next = types[iCh];
        if (next != ourType) {
          sameDir = false;
          isNum = next == 16;
        }
      }
      let recurse = !sameDir && ourType == 1 ? [] : null;
      let localLevel = sameDir ? level : level + 1;
      let iScan = iCh;
      run: for (; ; ) {
        if (iI < isolates.length && iScan == isolates[iI].from) {
          if (isNum)
            break run;
          let iso = isolates[iI];
          if (!sameDir)
            for (let upto = iso.to, jI = iI + 1; ; ) {
              if (upto == to)
                break run;
              if (jI < isolates.length && isolates[jI].from == upto)
                upto = isolates[jI++].to;
              else if (types[upto] == ourType)
                break run;
              else
                break;
            }
          iI++;
          if (recurse) {
            recurse.push(iso);
          } else {
            if (iso.from > iCh)
              order.push(new BidiSpan(iCh, iso.from, localLevel));
            let dirSwap = iso.direction == LTR != !(localLevel % 2);
            computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);
            iCh = iso.to;
          }
          iScan = iso.to;
        } else if (iScan == to || (sameDir ? types[iScan] != ourType : types[iScan] == ourType)) {
          break;
        } else {
          iScan++;
        }
      }
      if (recurse)
        emitSpans(line, iCh, iScan, level + 1, baseLevel, recurse, order);
      else if (iCh < iScan)
        order.push(new BidiSpan(iCh, iScan, localLevel));
      iCh = iScan;
    }
  } else {
    for (let iCh = to, iI = isolates.length; iCh > from2; ) {
      let sameDir = true, isNum = false;
      if (!iI || iCh > isolates[iI - 1].to) {
        let next = types[iCh - 1];
        if (next != ourType) {
          sameDir = false;
          isNum = next == 16;
        }
      }
      let recurse = !sameDir && ourType == 1 ? [] : null;
      let localLevel = sameDir ? level : level + 1;
      let iScan = iCh;
      run: for (; ; ) {
        if (iI && iScan == isolates[iI - 1].to) {
          if (isNum)
            break run;
          let iso = isolates[--iI];
          if (!sameDir)
            for (let upto = iso.from, jI = iI; ; ) {
              if (upto == from2)
                break run;
              if (jI && isolates[jI - 1].to == upto)
                upto = isolates[--jI].from;
              else if (types[upto - 1] == ourType)
                break run;
              else
                break;
            }
          if (recurse) {
            recurse.push(iso);
          } else {
            if (iso.to < iCh)
              order.push(new BidiSpan(iso.to, iCh, localLevel));
            let dirSwap = iso.direction == LTR != !(localLevel % 2);
            computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);
            iCh = iso.from;
          }
          iScan = iso.from;
        } else if (iScan == from2 || (sameDir ? types[iScan - 1] != ourType : types[iScan - 1] == ourType)) {
          break;
        } else {
          iScan--;
        }
      }
      if (recurse)
        emitSpans(line, iScan, iCh, level + 1, baseLevel, recurse, order);
      else if (iScan < iCh)
        order.push(new BidiSpan(iScan, iCh, localLevel));
      iCh = iScan;
    }
  }
}
function computeSectionOrder(line, level, baseLevel, isolates, from2, to, order) {
  let outerType = level % 2 ? 2 : 1;
  computeCharTypes(line, from2, to, isolates, outerType);
  processBracketPairs(line, from2, to, isolates, outerType);
  processNeutrals(from2, to, isolates, outerType);
  emitSpans(line, from2, to, level, baseLevel, isolates, order);
}
function computeOrder(line, direction, isolates) {
  if (!line)
    return [new BidiSpan(0, 0, direction == RTL ? 1 : 0)];
  if (direction == LTR && !isolates.length && !BidiRE.test(line))
    return trivialOrder(line.length);
  if (isolates.length)
    while (line.length > types.length)
      types[types.length] = 256;
  let order = [], level = direction == LTR ? 0 : 1;
  computeSectionOrder(line, level, level, isolates, 0, line.length, order);
  return order;
}
function trivialOrder(length) {
  return [new BidiSpan(0, length, 0)];
}
var movedOver = "";
function moveVisually(line, order, dir, start, forward) {
  var _a2;
  let startIndex = start.head - line.from;
  let spanI = BidiSpan.find(order, startIndex, (_a2 = start.bidiLevel) !== null && _a2 !== void 0 ? _a2 : -1, start.assoc);
  let span = order[spanI], spanEnd = span.side(forward, dir);
  if (startIndex == spanEnd) {
    let nextI = spanI += forward ? 1 : -1;
    if (nextI < 0 || nextI >= order.length)
      return null;
    span = order[spanI = nextI];
    startIndex = span.side(!forward, dir);
    spanEnd = span.side(forward, dir);
  }
  let nextIndex = findClusterBreak2(line.text, startIndex, span.forward(forward, dir));
  if (nextIndex < span.from || nextIndex > span.to)
    nextIndex = spanEnd;
  movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));
  let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];
  if (nextSpan && nextIndex == spanEnd && nextSpan.level + (forward ? 0 : 1) < span.level)
    return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, nextSpan.forward(forward, dir) ? 1 : -1, nextSpan.level);
  return EditorSelection.cursor(nextIndex + line.from, span.forward(forward, dir) ? -1 : 1, span.level);
}
function autoDirection(text, from2, to) {
  for (let i = from2; i < to; i++) {
    let type = charType(text.charCodeAt(i));
    if (type == 1)
      return LTR;
    if (type == 2 || type == 4)
      return RTL;
  }
  return LTR;
}
var clickAddsSelectionRange = /* @__PURE__ */ Facet.define();
var dragMovesSelection$1 = /* @__PURE__ */ Facet.define();
var mouseSelectionStyle = /* @__PURE__ */ Facet.define();
var exceptionSink = /* @__PURE__ */ Facet.define();
var updateListener = /* @__PURE__ */ Facet.define();
var inputHandler = /* @__PURE__ */ Facet.define();
var focusChangeEffect = /* @__PURE__ */ Facet.define();
var clipboardInputFilter = /* @__PURE__ */ Facet.define();
var clipboardOutputFilter = /* @__PURE__ */ Facet.define();
var perLineTextDirection = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.some((x) => x)
});
var nativeSelectionHidden = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.some((x) => x)
});
var scrollHandler = /* @__PURE__ */ Facet.define();
var ScrollTarget = class _ScrollTarget {
  constructor(range, y = "nearest", x = "nearest", yMargin = 5, xMargin = 5, isSnapshot = false) {
    this.range = range;
    this.y = y;
    this.x = x;
    this.yMargin = yMargin;
    this.xMargin = xMargin;
    this.isSnapshot = isSnapshot;
  }
  map(changes) {
    return changes.empty ? this : new _ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);
  }
  clip(state) {
    return this.range.to <= state.doc.length ? this : new _ScrollTarget(EditorSelection.cursor(state.doc.length), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);
  }
};
var scrollIntoView = /* @__PURE__ */ StateEffect.define({ map: (t2, ch) => t2.map(ch) });
var setEditContextFormatting = /* @__PURE__ */ StateEffect.define();
function logException(state, exception, context) {
  let handler = state.facet(exceptionSink);
  if (handler.length)
    handler[0](exception);
  else if (window.onerror && window.onerror(String(exception), context, void 0, void 0, exception)) ;
  else if (context)
    console.error(context + ":", exception);
  else
    console.error(exception);
}
var editable = /* @__PURE__ */ Facet.define({ combine: (values2) => values2.length ? values2[0] : true });
var nextPluginID = 0;
var viewPlugin = /* @__PURE__ */ Facet.define({
  combine(plugins) {
    return plugins.filter((p, i) => {
      for (let j = 0; j < i; j++)
        if (plugins[j].plugin == p.plugin)
          return false;
      return true;
    });
  }
});
var ViewPlugin = class _ViewPlugin {
  constructor(id2, create, domEventHandlers, domEventObservers, buildExtensions) {
    this.id = id2;
    this.create = create;
    this.domEventHandlers = domEventHandlers;
    this.domEventObservers = domEventObservers;
    this.baseExtensions = buildExtensions(this);
    this.extension = this.baseExtensions.concat(viewPlugin.of({ plugin: this, arg: void 0 }));
  }
  /**
  Create an extension for this plugin with the given argument.
  */
  of(arg) {
    return this.baseExtensions.concat(viewPlugin.of({ plugin: this, arg }));
  }
  /**
  Define a plugin from a constructor function that creates the
  plugin's value, given an editor view.
  */
  static define(create, spec) {
    const { eventHandlers, eventObservers, provide, decorations: deco } = spec || {};
    return new _ViewPlugin(nextPluginID++, create, eventHandlers, eventObservers, (plugin) => {
      let ext = [];
      if (deco)
        ext.push(decorations.of((view) => {
          let pluginInst = view.plugin(plugin);
          return pluginInst ? deco(pluginInst) : Decoration.none;
        }));
      if (provide)
        ext.push(provide(plugin));
      return ext;
    });
  }
  /**
  Create a plugin for a class whose constructor takes a single
  editor view as argument.
  */
  static fromClass(cls, spec) {
    return _ViewPlugin.define((view, arg) => new cls(view, arg), spec);
  }
};
var PluginInstance = class {
  constructor(spec) {
    this.spec = spec;
    this.mustUpdate = null;
    this.value = null;
  }
  get plugin() {
    return this.spec && this.spec.plugin;
  }
  update(view) {
    if (!this.value) {
      if (this.spec) {
        try {
          this.value = this.spec.plugin.create(view, this.spec.arg);
        } catch (e) {
          logException(view.state, e, "CodeMirror plugin crashed");
          this.deactivate();
        }
      }
    } else if (this.mustUpdate) {
      let update = this.mustUpdate;
      this.mustUpdate = null;
      if (this.value.update) {
        try {
          this.value.update(update);
        } catch (e) {
          logException(update.state, e, "CodeMirror plugin crashed");
          if (this.value.destroy)
            try {
              this.value.destroy();
            } catch (_) {
            }
          this.deactivate();
        }
      }
    }
    return this;
  }
  destroy(view) {
    var _a2;
    if ((_a2 = this.value) === null || _a2 === void 0 ? void 0 : _a2.destroy) {
      try {
        this.value.destroy();
      } catch (e) {
        logException(view.state, e, "CodeMirror plugin crashed");
      }
    }
  }
  deactivate() {
    this.spec = this.value = null;
  }
};
var editorAttributes = /* @__PURE__ */ Facet.define();
var contentAttributes = /* @__PURE__ */ Facet.define();
var decorations = /* @__PURE__ */ Facet.define();
var outerDecorations = /* @__PURE__ */ Facet.define();
var atomicRanges = /* @__PURE__ */ Facet.define();
var bidiIsolatedRanges = /* @__PURE__ */ Facet.define();
function getIsolatedRanges(view, line) {
  let isolates = view.state.facet(bidiIsolatedRanges);
  if (!isolates.length)
    return isolates;
  let sets = isolates.map((i) => i instanceof Function ? i(view) : i);
  let result = [];
  RangeSet.spans(sets, line.from, line.to, {
    point() {
    },
    span(fromDoc, toDoc, active, open) {
      let from2 = fromDoc - line.from, to = toDoc - line.from;
      let level = result;
      for (let i = active.length - 1; i >= 0; i--, open--) {
        let direction = active[i].spec.bidiIsolate, update;
        if (direction == null)
          direction = autoDirection(line.text, from2, to);
        if (open > 0 && level.length && (update = level[level.length - 1]).to == from2 && update.direction == direction) {
          update.to = to;
          level = update.inner;
        } else {
          let add2 = { from: from2, to, direction, inner: [] };
          level.push(add2);
          level = add2.inner;
        }
      }
    }
  });
  return result;
}
var scrollMargins = /* @__PURE__ */ Facet.define();
function getScrollMargins(view) {
  let left = 0, right = 0, top2 = 0, bottom = 0;
  for (let source of view.state.facet(scrollMargins)) {
    let m = source(view);
    if (m) {
      if (m.left != null)
        left = Math.max(left, m.left);
      if (m.right != null)
        right = Math.max(right, m.right);
      if (m.top != null)
        top2 = Math.max(top2, m.top);
      if (m.bottom != null)
        bottom = Math.max(bottom, m.bottom);
    }
  }
  return { left, right, top: top2, bottom };
}
var styleModule = /* @__PURE__ */ Facet.define();
var ChangedRange = class _ChangedRange {
  constructor(fromA, toA, fromB, toB) {
    this.fromA = fromA;
    this.toA = toA;
    this.fromB = fromB;
    this.toB = toB;
  }
  join(other) {
    return new _ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));
  }
  addToSet(set) {
    let i = set.length, me = this;
    for (; i > 0; i--) {
      let range = set[i - 1];
      if (range.fromA > me.toA)
        continue;
      if (range.toA < me.fromA)
        break;
      me = me.join(range);
      set.splice(i - 1, 1);
    }
    set.splice(i, 0, me);
    return set;
  }
  static extendWithRanges(diff, ranges) {
    if (ranges.length == 0)
      return diff;
    let result = [];
    for (let dI = 0, rI = 0, posA = 0, posB = 0; ; dI++) {
      let next = dI == diff.length ? null : diff[dI], off = posA - posB;
      let end = next ? next.fromB : 1e9;
      while (rI < ranges.length && ranges[rI] < end) {
        let from2 = ranges[rI], to = ranges[rI + 1];
        let fromB = Math.max(posB, from2), toB = Math.min(end, to);
        if (fromB <= toB)
          new _ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);
        if (to > end)
          break;
        else
          rI += 2;
      }
      if (!next)
        return result;
      new _ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);
      posA = next.toA;
      posB = next.toB;
    }
  }
};
var ViewUpdate = class _ViewUpdate {
  constructor(view, state, transactions) {
    this.view = view;
    this.state = state;
    this.transactions = transactions;
    this.flags = 0;
    this.startState = view.state;
    this.changes = ChangeSet.empty(this.startState.doc.length);
    for (let tr of transactions)
      this.changes = this.changes.compose(tr.changes);
    let changedRanges = [];
    this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));
    this.changedRanges = changedRanges;
  }
  /**
  @internal
  */
  static create(view, state, transactions) {
    return new _ViewUpdate(view, state, transactions);
  }
  /**
  Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or
  [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this
  update.
  */
  get viewportChanged() {
    return (this.flags & 4) > 0;
  }
  /**
  Returns true when
  [`viewportChanged`](https://codemirror.net/6/docs/ref/#view.ViewUpdate.viewportChanged) is true
  and the viewport change is not just the result of mapping it in
  response to document changes.
  */
  get viewportMoved() {
    return (this.flags & 8) > 0;
  }
  /**
  Indicates whether the height of a block element in the editor
  changed in this update.
  */
  get heightChanged() {
    return (this.flags & 2) > 0;
  }
  /**
  Returns true when the document was modified or the size of the
  editor, or elements within the editor, changed.
  */
  get geometryChanged() {
    return this.docChanged || (this.flags & (16 | 2)) > 0;
  }
  /**
  True when this update indicates a focus change.
  */
  get focusChanged() {
    return (this.flags & 1) > 0;
  }
  /**
  Whether the document changed in this update.
  */
  get docChanged() {
    return !this.changes.empty;
  }
  /**
  Whether the selection was explicitly set in this update.
  */
  get selectionSet() {
    return this.transactions.some((tr) => tr.selection);
  }
  /**
  @internal
  */
  get empty() {
    return this.flags == 0 && this.transactions.length == 0;
  }
};
var DocView = class extends ContentView {
  get length() {
    return this.view.state.doc.length;
  }
  constructor(view) {
    super();
    this.view = view;
    this.decorations = [];
    this.dynamicDecorationMap = [false];
    this.domChanged = null;
    this.hasComposition = null;
    this.markedForComposition = /* @__PURE__ */ new Set();
    this.editContextFormatting = Decoration.none;
    this.lastCompositionAfterCursor = false;
    this.minWidth = 0;
    this.minWidthFrom = 0;
    this.minWidthTo = 0;
    this.impreciseAnchor = null;
    this.impreciseHead = null;
    this.forceSelection = false;
    this.lastUpdate = Date.now();
    this.setDOM(view.contentDOM);
    this.children = [new LineView()];
    this.children[0].setParent(this);
    this.updateDeco();
    this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0, null);
  }
  // Update the document view to a given state.
  update(update) {
    var _a2;
    let changedRanges = update.changedRanges;
    if (this.minWidth > 0 && changedRanges.length) {
      if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {
        this.minWidth = this.minWidthFrom = this.minWidthTo = 0;
      } else {
        this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);
        this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);
      }
    }
    this.updateEditContextFormatting(update);
    let readCompositionAt = -1;
    if (this.view.inputState.composing >= 0 && !this.view.observer.editContext) {
      if ((_a2 = this.domChanged) === null || _a2 === void 0 ? void 0 : _a2.newSel)
        readCompositionAt = this.domChanged.newSel.head;
      else if (!touchesComposition(update.changes, this.hasComposition) && !update.selectionSet)
        readCompositionAt = update.state.selection.main.head;
    }
    let composition = readCompositionAt > -1 ? findCompositionRange(this.view, update.changes, readCompositionAt) : null;
    this.domChanged = null;
    if (this.hasComposition) {
      this.markedForComposition.clear();
      let { from: from2, to } = this.hasComposition;
      changedRanges = new ChangedRange(from2, to, update.changes.mapPos(from2, -1), update.changes.mapPos(to, 1)).addToSet(changedRanges.slice());
    }
    this.hasComposition = composition ? { from: composition.range.fromB, to: composition.range.toB } : null;
    if ((browser.ie || browser.chrome) && !composition && update && update.state.doc.lines != update.startState.doc.lines)
      this.forceSelection = true;
    let prevDeco = this.decorations, deco = this.updateDeco();
    let decoDiff = findChangedDeco(prevDeco, deco, update.changes);
    changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);
    if (!(this.flags & 7) && changedRanges.length == 0) {
      return false;
    } else {
      this.updateInner(changedRanges, update.startState.doc.length, composition);
      if (update.transactions.length)
        this.lastUpdate = Date.now();
      return true;
    }
  }
  // Used by update and the constructor do perform the actual DOM
  // update
  updateInner(changes, oldLength, composition) {
    this.view.viewState.mustMeasureContent = true;
    this.updateChildren(changes, oldLength, composition);
    let { observer } = this.view;
    observer.ignore(() => {
      this.dom.style.height = this.view.viewState.contentHeight / this.view.scaleY + "px";
      this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "";
      let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : void 0;
      this.sync(this.view, track);
      this.flags &= ~7;
      if (track && (track.written || observer.selectionRange.focusNode != track.node))
        this.forceSelection = true;
      this.dom.style.height = "";
    });
    this.markedForComposition.forEach(
      (cView) => cView.flags &= ~8
      /* ViewFlag.Composition */
    );
    let gaps = [];
    if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length) {
      for (let child of this.children)
        if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)
          gaps.push(child.dom);
    }
    observer.updateGaps(gaps);
  }
  updateChildren(changes, oldLength, composition) {
    let ranges = composition ? composition.range.addToSet(changes.slice()) : changes;
    let cursor2 = this.childCursor(oldLength);
    for (let i = ranges.length - 1; ; i--) {
      let next = i >= 0 ? ranges[i] : null;
      if (!next)
        break;
      let { fromA, toA, fromB, toB } = next, content2, breakAtStart, openStart, openEnd;
      if (composition && composition.range.fromB < toB && composition.range.toB > fromB) {
        let before = ContentBuilder.build(this.view.state.doc, fromB, composition.range.fromB, this.decorations, this.dynamicDecorationMap);
        let after = ContentBuilder.build(this.view.state.doc, composition.range.toB, toB, this.decorations, this.dynamicDecorationMap);
        breakAtStart = before.breakAtStart;
        openStart = before.openStart;
        openEnd = after.openEnd;
        let compLine = this.compositionView(composition);
        if (after.breakAtStart) {
          compLine.breakAfter = 1;
        } else if (after.content.length && compLine.merge(compLine.length, compLine.length, after.content[0], false, after.openStart, 0)) {
          compLine.breakAfter = after.content[0].breakAfter;
          after.content.shift();
        }
        if (before.content.length && compLine.merge(0, 0, before.content[before.content.length - 1], true, 0, before.openEnd)) {
          before.content.pop();
        }
        content2 = before.content.concat(compLine).concat(after.content);
      } else {
        ({ content: content2, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap));
      }
      let { i: toI, off: toOff } = cursor2.findPos(toA, 1);
      let { i: fromI, off: fromOff } = cursor2.findPos(fromA, -1);
      replaceRange(this, fromI, fromOff, toI, toOff, content2, breakAtStart, openStart, openEnd);
    }
    if (composition)
      this.fixCompositionDOM(composition);
  }
  updateEditContextFormatting(update) {
    this.editContextFormatting = this.editContextFormatting.map(update.changes);
    for (let tr of update.transactions)
      for (let effect of tr.effects)
        if (effect.is(setEditContextFormatting)) {
          this.editContextFormatting = effect.value;
        }
  }
  compositionView(composition) {
    let cur2 = new TextView(composition.text.nodeValue);
    cur2.flags |= 8;
    for (let { deco } of composition.marks)
      cur2 = new MarkView(deco, [cur2], cur2.length);
    let line = new LineView();
    line.append(cur2, 0);
    return line;
  }
  fixCompositionDOM(composition) {
    let fix = (dom, cView2) => {
      cView2.flags |= 8 | (cView2.children.some(
        (c) => c.flags & 7
        /* ViewFlag.Dirty */
      ) ? 1 : 0);
      this.markedForComposition.add(cView2);
      let prev = ContentView.get(dom);
      if (prev && prev != cView2)
        prev.dom = null;
      cView2.setDOM(dom);
    };
    let pos = this.childPos(composition.range.fromB, 1);
    let cView = this.children[pos.i];
    fix(composition.line, cView);
    for (let i = composition.marks.length - 1; i >= -1; i--) {
      pos = cView.childPos(pos.off, 1);
      cView = cView.children[pos.i];
      fix(i >= 0 ? composition.marks[i].node : composition.text, cView);
    }
  }
  // Sync the DOM selection to this.state.selection
  updateSelection(mustRead = false, fromPointer = false) {
    if (mustRead || !this.view.observer.selectionRange.focusNode)
      this.view.observer.readSelectionRange();
    let activeElt = this.view.root.activeElement, focused = activeElt == this.dom;
    let selectionNotFocus = !focused && !(this.view.state.facet(editable) || this.dom.tabIndex > -1) && hasSelection(this.dom, this.view.observer.selectionRange) && !(activeElt && this.dom.contains(activeElt));
    if (!(focused || fromPointer || selectionNotFocus))
      return;
    let force = this.forceSelection;
    this.forceSelection = false;
    let main = this.view.state.selection.main;
    let anchor = this.moveToLine(this.domAtPos(main.anchor));
    let head = main.empty ? anchor : this.moveToLine(this.domAtPos(main.head));
    if (browser.gecko && main.empty && !this.hasComposition && betweenUneditable(anchor)) {
      let dummy = document.createTextNode("");
      this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));
      anchor = head = new DOMPos(dummy, 0);
      force = true;
    }
    let domSel = this.view.observer.selectionRange;
    if (force || !domSel.focusNode || (!isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) || !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) && !this.suppressWidgetCursorChange(domSel, main)) {
      this.view.observer.ignore(() => {
        if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) && inUneditable(domSel.focusNode, this.dom)) {
          this.dom.blur();
          this.dom.focus({ preventScroll: true });
        }
        let rawSel = getSelection(this.view.root);
        if (!rawSel) ;
        else if (main.empty) {
          if (browser.gecko) {
            let nextTo = nextToUneditable(anchor.node, anchor.offset);
            if (nextTo && nextTo != (1 | 2)) {
              let text = (nextTo == 1 ? textNodeBefore : textNodeAfter)(anchor.node, anchor.offset);
              if (text)
                anchor = new DOMPos(text.node, text.offset);
            }
          }
          rawSel.collapse(anchor.node, anchor.offset);
          if (main.bidiLevel != null && rawSel.caretBidiLevel !== void 0)
            rawSel.caretBidiLevel = main.bidiLevel;
        } else if (rawSel.extend) {
          rawSel.collapse(anchor.node, anchor.offset);
          try {
            rawSel.extend(head.node, head.offset);
          } catch (_) {
          }
        } else {
          let range = document.createRange();
          if (main.anchor > main.head)
            [anchor, head] = [head, anchor];
          range.setEnd(head.node, head.offset);
          range.setStart(anchor.node, anchor.offset);
          rawSel.removeAllRanges();
          rawSel.addRange(range);
        }
        if (selectionNotFocus && this.view.root.activeElement == this.dom) {
          this.dom.blur();
          if (activeElt)
            activeElt.focus();
        }
      });
      this.view.observer.setSelectionRange(anchor, head);
    }
    this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);
    this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);
  }
  // If a zero-length widget is inserted next to the cursor during
  // composition, avoid moving it across it and disrupting the
  // composition.
  suppressWidgetCursorChange(sel, cursor2) {
    return this.hasComposition && cursor2.empty && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset) && this.posFromDOM(sel.focusNode, sel.focusOffset) == cursor2.head;
  }
  enforceCursorAssoc() {
    if (this.hasComposition)
      return;
    let { view } = this, cursor2 = view.state.selection.main;
    let sel = getSelection(view.root);
    let { anchorNode, anchorOffset } = view.observer.selectionRange;
    if (!sel || !cursor2.empty || !cursor2.assoc || !sel.modify)
      return;
    let line = LineView.find(this, cursor2.head);
    if (!line)
      return;
    let lineStart = line.posAtStart;
    if (cursor2.head == lineStart || cursor2.head == lineStart + line.length)
      return;
    let before = this.coordsAt(cursor2.head, -1), after = this.coordsAt(cursor2.head, 1);
    if (!before || !after || before.bottom > after.top)
      return;
    let dom = this.domAtPos(cursor2.head + cursor2.assoc);
    sel.collapse(dom.node, dom.offset);
    sel.modify("move", cursor2.assoc < 0 ? "forward" : "backward", "lineboundary");
    view.observer.readSelectionRange();
    let newRange = view.observer.selectionRange;
    if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor2.from)
      sel.collapse(anchorNode, anchorOffset);
  }
  // If a position is in/near a block widget, move it to a nearby text
  // line, since we don't want the cursor inside a block widget.
  moveToLine(pos) {
    let dom = this.dom, newPos;
    if (pos.node != dom)
      return pos;
    for (let i = pos.offset; !newPos && i < dom.childNodes.length; i++) {
      let view = ContentView.get(dom.childNodes[i]);
      if (view instanceof LineView)
        newPos = view.domAtPos(0);
    }
    for (let i = pos.offset - 1; !newPos && i >= 0; i--) {
      let view = ContentView.get(dom.childNodes[i]);
      if (view instanceof LineView)
        newPos = view.domAtPos(view.length);
    }
    return newPos ? new DOMPos(newPos.node, newPos.offset, true) : pos;
  }
  nearest(dom) {
    for (let cur2 = dom; cur2; ) {
      let domView = ContentView.get(cur2);
      if (domView && domView.rootView == this)
        return domView;
      cur2 = cur2.parentNode;
    }
    return null;
  }
  posFromDOM(node, offset) {
    let view = this.nearest(node);
    if (!view)
      throw new RangeError("Trying to find position for a DOM position outside of the document");
    return view.localPosFromDOM(node, offset) + view.posAtStart;
  }
  domAtPos(pos) {
    let { i, off } = this.childCursor().findPos(pos, -1);
    for (; i < this.children.length - 1; ) {
      let child = this.children[i];
      if (off < child.length || child instanceof LineView)
        break;
      i++;
      off = 0;
    }
    return this.children[i].domAtPos(off);
  }
  coordsAt(pos, side) {
    let best = null, bestPos = 0;
    for (let off = this.length, i = this.children.length - 1; i >= 0; i--) {
      let child = this.children[i], end = off - child.breakAfter, start = end - child.length;
      if (end < pos)
        break;
      if (start <= pos && (start < pos || child.covers(-1)) && (end > pos || child.covers(1)) && (!best || child instanceof LineView && !(best instanceof LineView && side >= 0))) {
        best = child;
        bestPos = start;
      } else if (best && start == pos && end == pos && child instanceof BlockWidgetView && Math.abs(side) < 2) {
        if (child.deco.startSide < 0)
          break;
        else if (i)
          best = null;
      }
      off = start;
    }
    return best ? best.coordsAt(pos - bestPos, side) : null;
  }
  coordsForChar(pos) {
    let { i, off } = this.childPos(pos, 1), child = this.children[i];
    if (!(child instanceof LineView))
      return null;
    while (child.children.length) {
      let { i: i2, off: childOff } = child.childPos(off, 1);
      for (; ; i2++) {
        if (i2 == child.children.length)
          return null;
        if ((child = child.children[i2]).length)
          break;
      }
      off = childOff;
    }
    if (!(child instanceof TextView))
      return null;
    let end = findClusterBreak2(child.text, off);
    if (end == off)
      return null;
    let rects = textRange(child.dom, off, end).getClientRects();
    for (let i2 = 0; i2 < rects.length; i2++) {
      let rect = rects[i2];
      if (i2 == rects.length - 1 || rect.top < rect.bottom && rect.left < rect.right)
        return rect;
    }
    return null;
  }
  measureVisibleLineHeights(viewport) {
    let result = [], { from: from2, to } = viewport;
    let contentWidth = this.view.contentDOM.clientWidth;
    let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;
    let widest = -1, ltr = this.view.textDirection == Direction.LTR;
    for (let pos = 0, i = 0; i < this.children.length; i++) {
      let child = this.children[i], end = pos + child.length;
      if (end > to)
        break;
      if (pos >= from2) {
        let childRect = child.dom.getBoundingClientRect();
        result.push(childRect.height);
        if (isWider) {
          let last = child.dom.lastChild;
          let rects = last ? clientRectsFor(last) : [];
          if (rects.length) {
            let rect = rects[rects.length - 1];
            let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;
            if (width > widest) {
              widest = width;
              this.minWidth = contentWidth;
              this.minWidthFrom = pos;
              this.minWidthTo = end;
            }
          }
        }
      }
      pos = end + child.breakAfter;
    }
    return result;
  }
  textDirectionAt(pos) {
    let { i } = this.childPos(pos, 1);
    return getComputedStyle(this.children[i].dom).direction == "rtl" ? Direction.RTL : Direction.LTR;
  }
  measureTextSize() {
    for (let child of this.children) {
      if (child instanceof LineView) {
        let measure = child.measureTextSize();
        if (measure)
          return measure;
      }
    }
    let dummy = document.createElement("div"), lineHeight, charWidth, textHeight;
    dummy.className = "cm-line";
    dummy.style.width = "99999px";
    dummy.style.position = "absolute";
    dummy.textContent = "abc def ghi jkl mno pqr stu";
    this.view.observer.ignore(() => {
      this.dom.appendChild(dummy);
      let rect = clientRectsFor(dummy.firstChild)[0];
      lineHeight = dummy.getBoundingClientRect().height;
      charWidth = rect ? rect.width / 27 : 7;
      textHeight = rect ? rect.height : lineHeight;
      dummy.remove();
    });
    return { lineHeight, charWidth, textHeight };
  }
  childCursor(pos = this.length) {
    let i = this.children.length;
    if (i)
      pos -= this.children[--i].length;
    return new ChildCursor(this.children, pos, i);
  }
  computeBlockGapDeco() {
    let deco = [], vs = this.view.viewState;
    for (let pos = 0, i = 0; ; i++) {
      let next = i == vs.viewports.length ? null : vs.viewports[i];
      let end = next ? next.from - 1 : this.length;
      if (end > pos) {
        let height = (vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top) / this.view.scaleY;
        deco.push(Decoration.replace({
          widget: new BlockGapWidget(height),
          block: true,
          inclusive: true,
          isBlockGap: true
        }).range(pos, end));
      }
      if (!next)
        break;
      pos = next.to + 1;
    }
    return Decoration.set(deco);
  }
  updateDeco() {
    let i = 1;
    let allDeco = this.view.state.facet(decorations).map((d) => {
      let dynamic = this.dynamicDecorationMap[i++] = typeof d == "function";
      return dynamic ? d(this.view) : d;
    });
    let dynamicOuter = false, outerDeco = this.view.state.facet(outerDecorations).map((d, i2) => {
      let dynamic = typeof d == "function";
      if (dynamic)
        dynamicOuter = true;
      return dynamic ? d(this.view) : d;
    });
    if (outerDeco.length) {
      this.dynamicDecorationMap[i++] = dynamicOuter;
      allDeco.push(RangeSet.join(outerDeco));
    }
    this.decorations = [
      this.editContextFormatting,
      ...allDeco,
      this.computeBlockGapDeco(),
      this.view.viewState.lineGapDeco
    ];
    while (i < this.decorations.length)
      this.dynamicDecorationMap[i++] = false;
    return this.decorations;
  }
  scrollIntoView(target) {
    if (target.isSnapshot) {
      let ref = this.view.viewState.lineBlockAt(target.range.head);
      this.view.scrollDOM.scrollTop = ref.top - target.yMargin;
      this.view.scrollDOM.scrollLeft = target.xMargin;
      return;
    }
    for (let handler of this.view.state.facet(scrollHandler)) {
      try {
        if (handler(this.view, target.range, target))
          return true;
      } catch (e) {
        logException(this.view.state, e, "scroll handler");
      }
    }
    let { range } = target;
    let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;
    if (!rect)
      return;
    if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))
      rect = {
        left: Math.min(rect.left, other.left),
        top: Math.min(rect.top, other.top),
        right: Math.max(rect.right, other.right),
        bottom: Math.max(rect.bottom, other.bottom)
      };
    let margins = getScrollMargins(this.view);
    let targetRect = {
      left: rect.left - margins.left,
      top: rect.top - margins.top,
      right: rect.right + margins.right,
      bottom: rect.bottom + margins.bottom
    };
    let { offsetWidth, offsetHeight } = this.view.scrollDOM;
    scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, Math.max(Math.min(target.xMargin, offsetWidth), -offsetWidth), Math.max(Math.min(target.yMargin, offsetHeight), -offsetHeight), this.view.textDirection == Direction.LTR);
  }
};
function betweenUneditable(pos) {
  return pos.node.nodeType == 1 && pos.node.firstChild && (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == "false") && (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == "false");
}
function findCompositionNode(view, headPos) {
  let sel = view.observer.selectionRange;
  if (!sel.focusNode)
    return null;
  let textBefore = textNodeBefore(sel.focusNode, sel.focusOffset);
  let textAfter = textNodeAfter(sel.focusNode, sel.focusOffset);
  let textNode = textBefore || textAfter;
  if (textAfter && textBefore && textAfter.node != textBefore.node) {
    let descAfter = ContentView.get(textAfter.node);
    if (!descAfter || descAfter instanceof TextView && descAfter.text != textAfter.node.nodeValue) {
      textNode = textAfter;
    } else if (view.docView.lastCompositionAfterCursor) {
      let descBefore = ContentView.get(textBefore.node);
      if (!(!descBefore || descBefore instanceof TextView && descBefore.text != textBefore.node.nodeValue))
        textNode = textAfter;
    }
  }
  view.docView.lastCompositionAfterCursor = textNode != textBefore;
  if (!textNode)
    return null;
  let from2 = headPos - textNode.offset;
  return { from: from2, to: from2 + textNode.node.nodeValue.length, node: textNode.node };
}
function findCompositionRange(view, changes, headPos) {
  let found = findCompositionNode(view, headPos);
  if (!found)
    return null;
  let { node: textNode, from: from2, to } = found, text = textNode.nodeValue;
  if (/[\n\r]/.test(text))
    return null;
  if (view.state.doc.sliceString(found.from, found.to) != text)
    return null;
  let inv = changes.invertedDesc;
  let range = new ChangedRange(inv.mapPos(from2), inv.mapPos(to), from2, to);
  let marks2 = [];
  for (let parent = textNode.parentNode; ; parent = parent.parentNode) {
    let parentView = ContentView.get(parent);
    if (parentView instanceof MarkView)
      marks2.push({ node: parent, deco: parentView.mark });
    else if (parentView instanceof LineView || parent.nodeName == "DIV" && parent.parentNode == view.contentDOM)
      return { range, text: textNode, marks: marks2, line: parent };
    else if (parent != view.contentDOM)
      marks2.push({ node: parent, deco: new MarkDecoration({
        inclusive: true,
        attributes: getAttrs(parent),
        tagName: parent.tagName.toLowerCase()
      }) });
    else
      return null;
  }
}
function nextToUneditable(node, offset) {
  if (node.nodeType != 1)
    return 0;
  return (offset && node.childNodes[offset - 1].contentEditable == "false" ? 1 : 0) | (offset < node.childNodes.length && node.childNodes[offset].contentEditable == "false" ? 2 : 0);
}
var DecorationComparator$1 = class DecorationComparator {
  constructor() {
    this.changes = [];
  }
  compareRange(from2, to) {
    addRange(from2, to, this.changes);
  }
  comparePoint(from2, to) {
    addRange(from2, to, this.changes);
  }
  boundChange(pos) {
    addRange(pos, pos, this.changes);
  }
};
function findChangedDeco(a, b, diff) {
  let comp = new DecorationComparator$1();
  RangeSet.compare(a, b, diff, comp);
  return comp.changes;
}
function inUneditable(node, inside2) {
  for (let cur2 = node; cur2 && cur2 != inside2; cur2 = cur2.assignedSlot || cur2.parentNode) {
    if (cur2.nodeType == 1 && cur2.contentEditable == "false") {
      return true;
    }
  }
  return false;
}
function touchesComposition(changes, composition) {
  let touched = false;
  if (composition)
    changes.iterChangedRanges((from2, to) => {
      if (from2 < composition.to && to > composition.from)
        touched = true;
    });
  return touched;
}
function groupAt(state, pos, bias = 1) {
  let categorize = state.charCategorizer(pos);
  let line = state.doc.lineAt(pos), linePos = pos - line.from;
  if (line.length == 0)
    return EditorSelection.cursor(pos);
  if (linePos == 0)
    bias = 1;
  else if (linePos == line.length)
    bias = -1;
  let from2 = linePos, to = linePos;
  if (bias < 0)
    from2 = findClusterBreak2(line.text, linePos, false);
  else
    to = findClusterBreak2(line.text, linePos);
  let cat = categorize(line.text.slice(from2, to));
  while (from2 > 0) {
    let prev = findClusterBreak2(line.text, from2, false);
    if (categorize(line.text.slice(prev, from2)) != cat)
      break;
    from2 = prev;
  }
  while (to < line.length) {
    let next = findClusterBreak2(line.text, to);
    if (categorize(line.text.slice(to, next)) != cat)
      break;
    to = next;
  }
  return EditorSelection.range(from2 + line.from, to + line.from);
}
function getdx(x, rect) {
  return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);
}
function getdy(y, rect) {
  return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);
}
function yOverlap(a, b) {
  return a.top < b.bottom - 1 && a.bottom > b.top + 1;
}
function upTop(rect, top2) {
  return top2 < rect.top ? { top: top2, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;
}
function upBot(rect, bottom) {
  return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;
}
function domPosAtCoords(parent, x, y) {
  let closest, closestRect, closestX, closestY, closestOverlap = false;
  let above, below, aboveRect, belowRect;
  for (let child = parent.firstChild; child; child = child.nextSibling) {
    let rects = clientRectsFor(child);
    for (let i = 0; i < rects.length; i++) {
      let rect = rects[i];
      if (closestRect && yOverlap(closestRect, rect))
        rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);
      let dx = getdx(x, rect), dy = getdy(y, rect);
      if (dx == 0 && dy == 0)
        return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);
      if (!closest || closestY > dy || closestY == dy && closestX > dx) {
        closest = child;
        closestRect = rect;
        closestX = dx;
        closestY = dy;
        closestOverlap = !dx ? true : x < rect.left ? i > 0 : i < rects.length - 1;
      }
      if (dx == 0) {
        if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {
          above = child;
          aboveRect = rect;
        } else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {
          below = child;
          belowRect = rect;
        }
      } else if (aboveRect && yOverlap(aboveRect, rect)) {
        aboveRect = upBot(aboveRect, rect.bottom);
      } else if (belowRect && yOverlap(belowRect, rect)) {
        belowRect = upTop(belowRect, rect.top);
      }
    }
  }
  if (aboveRect && aboveRect.bottom >= y) {
    closest = above;
    closestRect = aboveRect;
  } else if (belowRect && belowRect.top <= y) {
    closest = below;
    closestRect = belowRect;
  }
  if (!closest)
    return { node: parent, offset: 0 };
  let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));
  if (closest.nodeType == 3)
    return domPosInText(closest, clipX, y);
  if (closestOverlap && closest.contentEditable != "false")
    return domPosAtCoords(closest, clipX, y);
  let offset = Array.prototype.indexOf.call(parent.childNodes, closest) + (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);
  return { node: parent, offset };
}
function domPosInText(node, x, y) {
  let len = node.nodeValue.length;
  let closestOffset = -1, closestDY = 1e9, generalSide = 0;
  for (let i = 0; i < len; i++) {
    let rects = textRange(node, i, i + 1).getClientRects();
    for (let j = 0; j < rects.length; j++) {
      let rect = rects[j];
      if (rect.top == rect.bottom)
        continue;
      if (!generalSide)
        generalSide = x - rect.left;
      let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;
      if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {
        let right = x >= (rect.left + rect.right) / 2, after = right;
        if (browser.chrome || browser.gecko) {
          let rectBefore = textRange(node, i).getBoundingClientRect();
          if (rectBefore.left == rect.right)
            after = !right;
        }
        if (dy <= 0)
          return { node, offset: i + (after ? 1 : 0) };
        closestOffset = i + (after ? 1 : 0);
        closestDY = dy;
      }
    }
  }
  return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };
}
function posAtCoords(view, coords, precise, bias = -1) {
  var _a2, _b;
  let content2 = view.contentDOM.getBoundingClientRect(), docTop = content2.top + view.viewState.paddingTop;
  let block, { docHeight } = view.viewState;
  let { x, y } = coords, yOffset = y - docTop;
  if (yOffset < 0)
    return 0;
  if (yOffset > docHeight)
    return view.state.doc.length;
  for (let halfLine = view.viewState.heightOracle.textHeight / 2, bounced = false; ; ) {
    block = view.elementAtHeight(yOffset);
    if (block.type == BlockType.Text)
      break;
    for (; ; ) {
      yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;
      if (yOffset >= 0 && yOffset <= docHeight)
        break;
      if (bounced)
        return precise ? null : 0;
      bounced = true;
      bias = -bias;
    }
  }
  y = docTop + yOffset;
  let lineStart = block.from;
  if (lineStart < view.viewport.from)
    return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content2, block, x, y);
  if (lineStart > view.viewport.to)
    return view.viewport.to == view.state.doc.length ? view.state.doc.length : precise ? null : posAtCoordsImprecise(view, content2, block, x, y);
  let doc2 = view.dom.ownerDocument;
  let root = view.root.elementFromPoint ? view.root : doc2;
  let element = root.elementFromPoint(x, y);
  if (element && !view.contentDOM.contains(element))
    element = null;
  if (!element) {
    x = Math.max(content2.left + 1, Math.min(content2.right - 1, x));
    element = root.elementFromPoint(x, y);
    if (element && !view.contentDOM.contains(element))
      element = null;
  }
  let node, offset = -1;
  if (element && ((_a2 = view.docView.nearest(element)) === null || _a2 === void 0 ? void 0 : _a2.isEditable) != false) {
    if (doc2.caretPositionFromPoint) {
      let pos = doc2.caretPositionFromPoint(x, y);
      if (pos)
        ({ offsetNode: node, offset } = pos);
    } else if (doc2.caretRangeFromPoint) {
      let range = doc2.caretRangeFromPoint(x, y);
      if (range) {
        ({ startContainer: node, startOffset: offset } = range);
        if (!view.contentDOM.contains(node) || browser.safari && isSuspiciousSafariCaretResult(node, offset, x) || browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))
          node = void 0;
      }
    }
    if (node)
      offset = Math.min(maxOffset(node), offset);
  }
  if (!node || !view.docView.dom.contains(node)) {
    let line = LineView.find(view.docView, lineStart);
    if (!line)
      return yOffset > block.top + block.height / 2 ? block.to : block.from;
    ({ node, offset } = domPosAtCoords(line.dom, x, y));
  }
  let nearest = view.docView.nearest(node);
  if (!nearest)
    return null;
  if (nearest.isWidget && ((_b = nearest.dom) === null || _b === void 0 ? void 0 : _b.nodeType) == 1) {
    let rect = nearest.dom.getBoundingClientRect();
    return coords.y < rect.top || coords.y <= rect.bottom && coords.x <= (rect.left + rect.right) / 2 ? nearest.posAtStart : nearest.posAtEnd;
  } else {
    return nearest.localPosFromDOM(node, offset) + nearest.posAtStart;
  }
}
function posAtCoordsImprecise(view, contentRect, block, x, y) {
  let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);
  if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {
    let textHeight = view.viewState.heightOracle.textHeight;
    let line = Math.floor((y - block.top - (view.defaultLineHeight - textHeight) * 0.5) / textHeight);
    into += line * view.viewState.heightOracle.lineLength;
  }
  let content2 = view.state.sliceDoc(block.from, block.to);
  return block.from + findColumn(content2, into, view.state.tabSize);
}
function isSuspiciousSafariCaretResult(node, offset, x) {
  let len, scan = node;
  if (node.nodeType != 3 || offset != (len = node.nodeValue.length))
    return false;
  for (; ; ) {
    let next = scan.nextSibling;
    if (next) {
      if (next.nodeName == "BR")
        break;
      return false;
    } else {
      let parent = scan.parentNode;
      if (!parent || parent.nodeName == "DIV")
        break;
      scan = parent;
    }
  }
  return textRange(node, len - 1, len).getBoundingClientRect().right > x;
}
function isSuspiciousChromeCaretResult(node, offset, x) {
  if (offset != 0)
    return false;
  for (let cur2 = node; ; ) {
    let parent = cur2.parentNode;
    if (!parent || parent.nodeType != 1 || parent.firstChild != cur2)
      return false;
    if (parent.classList.contains("cm-line"))
      break;
    cur2 = parent;
  }
  let rect = node.nodeType == 1 ? node.getBoundingClientRect() : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();
  return x - rect.left > 5;
}
function blockAt(view, pos, side) {
  let line = view.lineBlockAt(pos);
  if (Array.isArray(line.type)) {
    let best;
    for (let l of line.type) {
      if (l.from > pos)
        break;
      if (l.to < pos)
        continue;
      if (l.from < pos && l.to > pos)
        return l;
      if (!best || l.type == BlockType.Text && (best.type != l.type || (side < 0 ? l.from < pos : l.to > pos)))
        best = l;
    }
    return best || line;
  }
  return line;
}
function moveToLineBoundary(view, start, forward, includeWrap) {
  let line = blockAt(view, start.head, start.assoc || -1);
  let coords = !includeWrap || line.type != BlockType.Text || !(view.lineWrapping || line.widgetLineBreaks) ? null : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);
  if (coords) {
    let editorRect = view.dom.getBoundingClientRect();
    let direction = view.textDirectionAt(line.from);
    let pos = view.posAtCoords({
      x: forward == (direction == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,
      y: (coords.top + coords.bottom) / 2
    });
    if (pos != null)
      return EditorSelection.cursor(pos, forward ? -1 : 1);
  }
  return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1);
}
function moveByChar(view, start, forward, by) {
  let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);
  let direction = view.textDirectionAt(line.from);
  for (let cur2 = start, check = null; ; ) {
    let next = moveVisually(line, spans, direction, cur2, forward), char = movedOver;
    if (!next) {
      if (line.number == (forward ? view.state.doc.lines : 1))
        return cur2;
      char = "\n";
      line = view.state.doc.line(line.number + (forward ? 1 : -1));
      spans = view.bidiSpans(line);
      next = view.visualLineSide(line, !forward);
    }
    if (!check) {
      if (!by)
        return next;
      check = by(char);
    } else if (!check(char)) {
      return cur2;
    }
    cur2 = next;
  }
}
function byGroup(view, pos, start) {
  let categorize = view.state.charCategorizer(pos);
  let cat = categorize(start);
  return (next) => {
    let nextCat = categorize(next);
    if (cat == CharCategory.Space)
      cat = nextCat;
    return cat == nextCat;
  };
}
function moveVertically(view, start, forward, distance) {
  let startPos = start.head, dir = forward ? 1 : -1;
  if (startPos == (forward ? view.state.doc.length : 0))
    return EditorSelection.cursor(startPos, start.assoc);
  let goal = start.goalColumn, startY;
  let rect = view.contentDOM.getBoundingClientRect();
  let startCoords = view.coordsAtPos(startPos, start.assoc || -1), docTop = view.documentTop;
  if (startCoords) {
    if (goal == null)
      goal = startCoords.left - rect.left;
    startY = dir < 0 ? startCoords.top : startCoords.bottom;
  } else {
    let line = view.viewState.lineBlockAt(startPos);
    if (goal == null)
      goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));
    startY = (dir < 0 ? line.top : line.bottom) + docTop;
  }
  let resolvedGoal = rect.left + goal;
  let dist2 = distance !== null && distance !== void 0 ? distance : view.viewState.heightOracle.textHeight >> 1;
  for (let extra = 0; ; extra += 10) {
    let curY = startY + (dist2 + extra) * dir;
    let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);
    if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos)) {
      let charRect = view.docView.coordsForChar(pos);
      let assoc = !charRect || curY < charRect.top ? -1 : 1;
      return EditorSelection.cursor(pos, assoc, void 0, goal);
    }
  }
}
function skipAtomicRanges(atoms, pos, bias) {
  for (; ; ) {
    let moved = 0;
    for (let set of atoms) {
      set.between(pos - 1, pos + 1, (from2, to, value) => {
        if (pos > from2 && pos < to) {
          let side = moved || bias || (pos - from2 < to - pos ? -1 : 1);
          pos = side < 0 ? from2 : to;
          moved = side;
        }
      });
    }
    if (!moved)
      return pos;
  }
}
function skipAtoms(view, oldPos, pos) {
  let newPos = skipAtomicRanges(view.state.facet(atomicRanges).map((f) => f(view)), pos.from, oldPos.head > pos.from ? -1 : 1);
  return newPos == pos.from ? pos : EditorSelection.cursor(newPos, newPos < pos.from ? 1 : -1);
}
var LineBreakPlaceholder = "\uFFFF";
var DOMReader = class {
  constructor(points, state) {
    this.points = points;
    this.text = "";
    this.lineSeparator = state.facet(EditorState.lineSeparator);
  }
  append(text) {
    this.text += text;
  }
  lineBreak() {
    this.text += LineBreakPlaceholder;
  }
  readRange(start, end) {
    if (!start)
      return this;
    let parent = start.parentNode;
    for (let cur2 = start; ; ) {
      this.findPointBefore(parent, cur2);
      let oldLen = this.text.length;
      this.readNode(cur2);
      let next = cur2.nextSibling;
      if (next == end)
        break;
      let view = ContentView.get(cur2), nextView = ContentView.get(next);
      if (view && nextView ? view.breakAfter : (view ? view.breakAfter : isBlockElement(cur2)) || isBlockElement(next) && (cur2.nodeName != "BR" || cur2.cmIgnore) && this.text.length > oldLen)
        this.lineBreak();
      cur2 = next;
    }
    this.findPointBefore(parent, end);
    return this;
  }
  readTextNode(node) {
    let text = node.nodeValue;
    for (let point of this.points)
      if (point.node == node)
        point.pos = this.text.length + Math.min(point.offset, text.length);
    for (let off = 0, re = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      let nextBreak = -1, breakSize = 1, m;
      if (this.lineSeparator) {
        nextBreak = text.indexOf(this.lineSeparator, off);
        breakSize = this.lineSeparator.length;
      } else if (m = re.exec(text)) {
        nextBreak = m.index;
        breakSize = m[0].length;
      }
      this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));
      if (nextBreak < 0)
        break;
      this.lineBreak();
      if (breakSize > 1) {
        for (let point of this.points)
          if (point.node == node && point.pos > this.text.length)
            point.pos -= breakSize - 1;
      }
      off = nextBreak + breakSize;
    }
  }
  readNode(node) {
    if (node.cmIgnore)
      return;
    let view = ContentView.get(node);
    let fromView = view && view.overrideDOMText;
    if (fromView != null) {
      this.findPointInside(node, fromView.length);
      for (let i = fromView.iter(); !i.next().done; ) {
        if (i.lineBreak)
          this.lineBreak();
        else
          this.append(i.value);
      }
    } else if (node.nodeType == 3) {
      this.readTextNode(node);
    } else if (node.nodeName == "BR") {
      if (node.nextSibling)
        this.lineBreak();
    } else if (node.nodeType == 1) {
      this.readRange(node.firstChild, null);
    }
  }
  findPointBefore(node, next) {
    for (let point of this.points)
      if (point.node == node && node.childNodes[point.offset] == next)
        point.pos = this.text.length;
  }
  findPointInside(node, length) {
    for (let point of this.points)
      if (node.nodeType == 3 ? point.node == node : node.contains(point.node))
        point.pos = this.text.length + (isAtEnd(node, point.node, point.offset) ? length : 0);
  }
};
function isAtEnd(parent, node, offset) {
  for (; ; ) {
    if (!node || offset < maxOffset(node))
      return false;
    if (node == parent)
      return true;
    offset = domIndex(node) + 1;
    node = node.parentNode;
  }
}
var DOMPoint = class {
  constructor(node, offset) {
    this.node = node;
    this.offset = offset;
    this.pos = -1;
  }
};
var DOMChange = class {
  constructor(view, start, end, typeOver) {
    this.typeOver = typeOver;
    this.bounds = null;
    this.text = "";
    this.domChanged = start > -1;
    let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;
    if (view.state.readOnly && start > -1) {
      this.newSel = null;
    } else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {
      let selPoints = iHead || iAnchor ? [] : selectionPoints(view);
      let reader = new DOMReader(selPoints, view.state);
      reader.readRange(this.bounds.startDOM, this.bounds.endDOM);
      this.text = reader.text;
      this.newSel = selectionFromPoints(selPoints, this.bounds.from);
    } else {
      let domSel = view.observer.selectionRange;
      let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset || !contains(view.contentDOM, domSel.focusNode) ? view.state.selection.main.head : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);
      let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset || !contains(view.contentDOM, domSel.anchorNode) ? view.state.selection.main.anchor : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);
      let vp = view.viewport;
      if ((browser.ios || browser.chrome) && view.state.selection.main.empty && head != anchor && (vp.from > 0 || vp.to < view.state.doc.length)) {
        let from2 = Math.min(head, anchor), to = Math.max(head, anchor);
        let offFrom = vp.from - from2, offTo = vp.to - to;
        if ((offFrom == 0 || offFrom == 1 || from2 == 0) && (offTo == 0 || offTo == -1 || to == view.state.doc.length)) {
          head = 0;
          anchor = view.state.doc.length;
        }
      }
      this.newSel = EditorSelection.single(anchor, head);
    }
  }
};
function applyDOMChange(view, domChange) {
  let change;
  let { newSel } = domChange, sel = view.state.selection.main;
  let lastKey = view.inputState.lastKeyTime > Date.now() - 100 ? view.inputState.lastKeyCode : -1;
  if (domChange.bounds) {
    let { from: from2, to } = domChange.bounds;
    let preferredPos = sel.from, preferredSide = null;
    if (lastKey === 8 || browser.android && domChange.text.length < to - from2) {
      preferredPos = sel.to;
      preferredSide = "end";
    }
    let diff = findDiff(view.state.doc.sliceString(from2, to, LineBreakPlaceholder), domChange.text, preferredPos - from2, preferredSide);
    if (diff) {
      if (browser.chrome && lastKey == 13 && diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)
        diff.toB--;
      change = {
        from: from2 + diff.from,
        to: from2 + diff.toA,
        insert: Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder))
      };
    }
  } else if (newSel && (!view.hasFocus && view.state.facet(editable) || newSel.main.eq(sel))) {
    newSel = null;
  }
  if (!change && !newSel)
    return false;
  if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {
    change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };
  } else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 && /^\. ?$/.test(change.insert.toString()) && view.contentDOM.getAttribute("autocorrect") == "off") {
    if (newSel && change.insert.length == 2)
      newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);
    change = { from: change.from, to: change.to, insert: Text.of([change.insert.toString().replace(".", " ")]) };
  } else if (change && change.from >= sel.from && change.to <= sel.to && (change.from != sel.from || change.to != sel.to) && sel.to - sel.from - (change.to - change.from) <= 4) {
    change = {
      from: sel.from,
      to: sel.to,
      insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))
    };
  } else if (browser.chrome && change && change.from == change.to && change.from == sel.head && change.insert.toString() == "\n " && view.lineWrapping) {
    if (newSel)
      newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);
    change = { from: sel.from, to: sel.to, insert: Text.of([" "]) };
  }
  if (change) {
    return applyDOMChangeInner(view, change, newSel, lastKey);
  } else if (newSel && !newSel.main.eq(sel)) {
    let scrollIntoView3 = false, userEvent = "select";
    if (view.inputState.lastSelectionTime > Date.now() - 50) {
      if (view.inputState.lastSelectionOrigin == "select")
        scrollIntoView3 = true;
      userEvent = view.inputState.lastSelectionOrigin;
    }
    view.dispatch({ selection: newSel, scrollIntoView: scrollIntoView3, userEvent });
    return true;
  } else {
    return false;
  }
}
function applyDOMChangeInner(view, change, newSel, lastKey = -1) {
  if (browser.ios && view.inputState.flushIOSKey(change))
    return true;
  let sel = view.state.selection.main;
  if (browser.android && (change.to == sel.to && // GBoard will sometimes remove a space it just inserted
  // after a completion when you press enter
  (change.from == sel.from || change.from == sel.from - 1 && view.state.sliceDoc(change.from, sel.from) == " ") && change.insert.length == 1 && change.insert.lines == 2 && dispatchKey(view.contentDOM, "Enter", 13) || (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 || lastKey == 8 && change.insert.length < change.to - change.from && change.to > sel.head) && dispatchKey(view.contentDOM, "Backspace", 8) || change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 && dispatchKey(view.contentDOM, "Delete", 46)))
    return true;
  let text = change.insert.toString();
  if (view.inputState.composing >= 0)
    view.inputState.composing++;
  let defaultTr;
  let defaultInsert = () => defaultTr || (defaultTr = applyDefaultInsert(view, change, newSel));
  if (!view.state.facet(inputHandler).some((h) => h(view, change.from, change.to, text, defaultInsert)))
    view.dispatch(defaultInsert());
  return true;
}
function applyDefaultInsert(view, change, newSel) {
  let tr, startState = view.state, sel = startState.selection.main;
  if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 && (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) && view.inputState.composing < 0) {
    let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : "";
    let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : "";
    tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, void 0, view.state.lineBreak) + after));
  } else {
    let changes = startState.changes(change);
    let mainSel = newSel && newSel.main.to <= changes.newLength ? newSel.main : void 0;
    if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 && change.to <= sel.to && change.to >= sel.to - 10) {
      let replaced = view.state.sliceDoc(change.from, change.to);
      let compositionRange, composition = newSel && findCompositionNode(view, newSel.main.head);
      if (composition) {
        let dLen = change.insert.length - (change.to - change.from);
        compositionRange = { from: composition.from, to: composition.to - dLen };
      } else {
        compositionRange = view.state.doc.lineAt(sel.head);
      }
      let offset = sel.to - change.to, size = sel.to - sel.from;
      tr = startState.changeByRange((range) => {
        if (range.from == sel.from && range.to == sel.to)
          return { changes, range: mainSel || range.map(changes) };
        let to = range.to - offset, from2 = to - replaced.length;
        if (range.to - range.from != size || view.state.sliceDoc(from2, to) != replaced || // Unfortunately, there's no way to make multiple
        // changes in the same node work without aborting
        // composition, so cursors in the composition range are
        // ignored.
        range.to >= compositionRange.from && range.from <= compositionRange.to)
          return { range };
        let rangeChanges = startState.changes({ from: from2, to, insert: change.insert }), selOff = range.to - sel.to;
        return {
          changes: rangeChanges,
          range: !mainSel ? range.map(rangeChanges) : EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))
        };
      });
    } else {
      tr = {
        changes,
        selection: mainSel && startState.selection.replaceRange(mainSel)
      };
    }
  }
  let userEvent = "input.type";
  if (view.composing || view.inputState.compositionPendingChange && view.inputState.compositionEndedAt > Date.now() - 50) {
    view.inputState.compositionPendingChange = false;
    userEvent += ".compose";
    if (view.inputState.compositionFirstChange) {
      userEvent += ".start";
      view.inputState.compositionFirstChange = false;
    }
  }
  return startState.update(tr, { userEvent, scrollIntoView: true });
}
function findDiff(a, b, preferredPos, preferredSide) {
  let minLen = Math.min(a.length, b.length);
  let from2 = 0;
  while (from2 < minLen && a.charCodeAt(from2) == b.charCodeAt(from2))
    from2++;
  if (from2 == minLen && a.length == b.length)
    return null;
  let toA = a.length, toB = b.length;
  while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {
    toA--;
    toB--;
  }
  if (preferredSide == "end") {
    let adjust = Math.max(0, from2 - Math.min(toA, toB));
    preferredPos -= toA + adjust - from2;
  }
  if (toA < from2 && a.length < b.length) {
    let move = preferredPos <= from2 && preferredPos >= toA ? from2 - preferredPos : 0;
    from2 -= move;
    toB = from2 + (toB - toA);
    toA = from2;
  } else if (toB < from2) {
    let move = preferredPos <= from2 && preferredPos >= toB ? from2 - preferredPos : 0;
    from2 -= move;
    toA = from2 + (toA - toB);
    toB = from2;
  }
  return { from: from2, toA, toB };
}
function selectionPoints(view) {
  let result = [];
  if (view.root.activeElement != view.contentDOM)
    return result;
  let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;
  if (anchorNode) {
    result.push(new DOMPoint(anchorNode, anchorOffset));
    if (focusNode != anchorNode || focusOffset != anchorOffset)
      result.push(new DOMPoint(focusNode, focusOffset));
  }
  return result;
}
function selectionFromPoints(points, base2) {
  if (points.length == 0)
    return null;
  let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;
  return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base2, head + base2) : null;
}
var InputState = class {
  setSelectionOrigin(origin) {
    this.lastSelectionOrigin = origin;
    this.lastSelectionTime = Date.now();
  }
  constructor(view) {
    this.view = view;
    this.lastKeyCode = 0;
    this.lastKeyTime = 0;
    this.lastTouchTime = 0;
    this.lastFocusTime = 0;
    this.lastScrollTop = 0;
    this.lastScrollLeft = 0;
    this.pendingIOSKey = void 0;
    this.tabFocusMode = -1;
    this.lastSelectionOrigin = null;
    this.lastSelectionTime = 0;
    this.lastContextMenu = 0;
    this.scrollHandlers = [];
    this.handlers = /* @__PURE__ */ Object.create(null);
    this.composing = -1;
    this.compositionFirstChange = null;
    this.compositionEndedAt = 0;
    this.compositionPendingKey = false;
    this.compositionPendingChange = false;
    this.mouseSelection = null;
    this.draggedContent = null;
    this.handleEvent = this.handleEvent.bind(this);
    this.notifiedFocused = view.hasFocus;
    if (browser.safari)
      view.contentDOM.addEventListener("input", () => null);
    if (browser.gecko)
      firefoxCopyCutHack(view.contentDOM.ownerDocument);
  }
  handleEvent(event) {
    if (!eventBelongsToEditor(this.view, event) || this.ignoreDuringComposition(event))
      return;
    if (event.type == "keydown" && this.keydown(event))
      return;
    if (this.view.updateState != 0)
      Promise.resolve().then(() => this.runHandlers(event.type, event));
    else
      this.runHandlers(event.type, event);
  }
  runHandlers(type, event) {
    let handlers2 = this.handlers[type];
    if (handlers2) {
      for (let observer of handlers2.observers)
        observer(this.view, event);
      for (let handler of handlers2.handlers) {
        if (event.defaultPrevented)
          break;
        if (handler(this.view, event)) {
          event.preventDefault();
          break;
        }
      }
    }
  }
  ensureHandlers(plugins) {
    let handlers2 = computeHandlers(plugins), prev = this.handlers, dom = this.view.contentDOM;
    for (let type in handlers2)
      if (type != "scroll") {
        let passive = !handlers2[type].handlers.length;
        let exists = prev[type];
        if (exists && passive != !exists.handlers.length) {
          dom.removeEventListener(type, this.handleEvent);
          exists = null;
        }
        if (!exists)
          dom.addEventListener(type, this.handleEvent, { passive });
      }
    for (let type in prev)
      if (type != "scroll" && !handlers2[type])
        dom.removeEventListener(type, this.handleEvent);
    this.handlers = handlers2;
  }
  keydown(event) {
    this.lastKeyCode = event.keyCode;
    this.lastKeyTime = Date.now();
    if (event.keyCode == 9 && this.tabFocusMode > -1 && (!this.tabFocusMode || Date.now() <= this.tabFocusMode))
      return true;
    if (this.tabFocusMode > 0 && event.keyCode != 27 && modifierCodes.indexOf(event.keyCode) < 0)
      this.tabFocusMode = -1;
    if (browser.android && browser.chrome && !event.synthetic && (event.keyCode == 13 || event.keyCode == 8)) {
      this.view.observer.delayAndroidKey(event.key, event.keyCode);
      return true;
    }
    let pending;
    if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey && ((pending = PendingKeys.find((key) => key.keyCode == event.keyCode)) && !event.ctrlKey || EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {
      this.pendingIOSKey = pending || event;
      setTimeout(() => this.flushIOSKey(), 250);
      return true;
    }
    if (event.keyCode != 229)
      this.view.observer.forceFlush();
    return false;
  }
  flushIOSKey(change) {
    let key = this.pendingIOSKey;
    if (!key)
      return false;
    if (key.key == "Enter" && change && change.from < change.to && /^\S+$/.test(change.insert.toString()))
      return false;
    this.pendingIOSKey = void 0;
    return dispatchKey(this.view.contentDOM, key.key, key.keyCode, key instanceof KeyboardEvent ? key : void 0);
  }
  ignoreDuringComposition(event) {
    if (!/^key/.test(event.type))
      return false;
    if (this.composing > 0)
      return true;
    if (browser.safari && !browser.ios && this.compositionPendingKey && Date.now() - this.compositionEndedAt < 100) {
      this.compositionPendingKey = false;
      return true;
    }
    return false;
  }
  startMouseSelection(mouseSelection) {
    if (this.mouseSelection)
      this.mouseSelection.destroy();
    this.mouseSelection = mouseSelection;
  }
  update(update) {
    this.view.observer.update(update);
    if (this.mouseSelection)
      this.mouseSelection.update(update);
    if (this.draggedContent && update.docChanged)
      this.draggedContent = this.draggedContent.map(update.changes);
    if (update.transactions.length)
      this.lastKeyCode = this.lastSelectionTime = 0;
  }
  destroy() {
    if (this.mouseSelection)
      this.mouseSelection.destroy();
  }
};
function bindHandler(plugin, handler) {
  return (view, event) => {
    try {
      return handler.call(plugin, event, view);
    } catch (e) {
      logException(view.state, e);
    }
  };
}
function computeHandlers(plugins) {
  let result = /* @__PURE__ */ Object.create(null);
  function record(type) {
    return result[type] || (result[type] = { observers: [], handlers: [] });
  }
  for (let plugin of plugins) {
    let spec = plugin.spec, handlers2 = spec && spec.plugin.domEventHandlers, observers2 = spec && spec.plugin.domEventObservers;
    if (handlers2)
      for (let type in handlers2) {
        let f = handlers2[type];
        if (f)
          record(type).handlers.push(bindHandler(plugin.value, f));
      }
    if (observers2)
      for (let type in observers2) {
        let f = observers2[type];
        if (f)
          record(type).observers.push(bindHandler(plugin.value, f));
      }
  }
  for (let type in handlers)
    record(type).handlers.push(handlers[type]);
  for (let type in observers)
    record(type).observers.push(observers[type]);
  return result;
}
var PendingKeys = [
  { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
  { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
  { key: "Enter", keyCode: 13, inputType: "insertLineBreak" },
  { key: "Delete", keyCode: 46, inputType: "deleteContentForward" }
];
var EmacsyPendingKeys = "dthko";
var modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];
var dragScrollMargin = 6;
function dragScrollSpeed(dist2) {
  return Math.max(0, dist2) * 0.7 + 8;
}
function dist(a, b) {
  return Math.max(Math.abs(a.clientX - b.clientX), Math.abs(a.clientY - b.clientY));
}
var MouseSelection = class {
  constructor(view, startEvent, style, mustSelect) {
    this.view = view;
    this.startEvent = startEvent;
    this.style = style;
    this.mustSelect = mustSelect;
    this.scrollSpeed = { x: 0, y: 0 };
    this.scrolling = -1;
    this.lastEvent = startEvent;
    this.scrollParents = scrollableParents(view.contentDOM);
    this.atoms = view.state.facet(atomicRanges).map((f) => f(view));
    let doc2 = view.contentDOM.ownerDocument;
    doc2.addEventListener("mousemove", this.move = this.move.bind(this));
    doc2.addEventListener("mouseup", this.up = this.up.bind(this));
    this.extend = startEvent.shiftKey;
    this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);
    this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;
  }
  start(event) {
    if (this.dragging === false)
      this.select(event);
  }
  move(event) {
    if (event.buttons == 0)
      return this.destroy();
    if (this.dragging || this.dragging == null && dist(this.startEvent, event) < 10)
      return;
    this.select(this.lastEvent = event);
    let sx = 0, sy = 0;
    let left = 0, top2 = 0, right = this.view.win.innerWidth, bottom = this.view.win.innerHeight;
    if (this.scrollParents.x)
      ({ left, right } = this.scrollParents.x.getBoundingClientRect());
    if (this.scrollParents.y)
      ({ top: top2, bottom } = this.scrollParents.y.getBoundingClientRect());
    let margins = getScrollMargins(this.view);
    if (event.clientX - margins.left <= left + dragScrollMargin)
      sx = -dragScrollSpeed(left - event.clientX);
    else if (event.clientX + margins.right >= right - dragScrollMargin)
      sx = dragScrollSpeed(event.clientX - right);
    if (event.clientY - margins.top <= top2 + dragScrollMargin)
      sy = -dragScrollSpeed(top2 - event.clientY);
    else if (event.clientY + margins.bottom >= bottom - dragScrollMargin)
      sy = dragScrollSpeed(event.clientY - bottom);
    this.setScrollSpeed(sx, sy);
  }
  up(event) {
    if (this.dragging == null)
      this.select(this.lastEvent);
    if (!this.dragging)
      event.preventDefault();
    this.destroy();
  }
  destroy() {
    this.setScrollSpeed(0, 0);
    let doc2 = this.view.contentDOM.ownerDocument;
    doc2.removeEventListener("mousemove", this.move);
    doc2.removeEventListener("mouseup", this.up);
    this.view.inputState.mouseSelection = this.view.inputState.draggedContent = null;
  }
  setScrollSpeed(sx, sy) {
    this.scrollSpeed = { x: sx, y: sy };
    if (sx || sy) {
      if (this.scrolling < 0)
        this.scrolling = setInterval(() => this.scroll(), 50);
    } else if (this.scrolling > -1) {
      clearInterval(this.scrolling);
      this.scrolling = -1;
    }
  }
  scroll() {
    let { x, y } = this.scrollSpeed;
    if (x && this.scrollParents.x) {
      this.scrollParents.x.scrollLeft += x;
      x = 0;
    }
    if (y && this.scrollParents.y) {
      this.scrollParents.y.scrollTop += y;
      y = 0;
    }
    if (x || y)
      this.view.win.scrollBy(x, y);
    if (this.dragging === false)
      this.select(this.lastEvent);
  }
  skipAtoms(sel) {
    let ranges = null;
    for (let i = 0; i < sel.ranges.length; i++) {
      let range = sel.ranges[i], updated = null;
      if (range.empty) {
        let pos = skipAtomicRanges(this.atoms, range.from, 0);
        if (pos != range.from)
          updated = EditorSelection.cursor(pos, -1);
      } else {
        let from2 = skipAtomicRanges(this.atoms, range.from, -1);
        let to = skipAtomicRanges(this.atoms, range.to, 1);
        if (from2 != range.from || to != range.to)
          updated = EditorSelection.range(range.from == range.anchor ? from2 : to, range.from == range.head ? from2 : to);
      }
      if (updated) {
        if (!ranges)
          ranges = sel.ranges.slice();
        ranges[i] = updated;
      }
    }
    return ranges ? EditorSelection.create(ranges, sel.mainIndex) : sel;
  }
  select(event) {
    let { view } = this, selection2 = this.skipAtoms(this.style.get(event, this.extend, this.multiple));
    if (this.mustSelect || !selection2.eq(view.state.selection, this.dragging === false))
      this.view.dispatch({
        selection: selection2,
        userEvent: "select.pointer"
      });
    this.mustSelect = false;
  }
  update(update) {
    if (update.transactions.some((tr) => tr.isUserEvent("input.type")))
      this.destroy();
    else if (this.style.update(update))
      setTimeout(() => this.select(this.lastEvent), 20);
  }
};
function addsSelectionRange(view, event) {
  let facet = view.state.facet(clickAddsSelectionRange);
  return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;
}
function dragMovesSelection(view, event) {
  let facet = view.state.facet(dragMovesSelection$1);
  return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;
}
function isInPrimarySelection(view, event) {
  let { main } = view.state.selection;
  if (main.empty)
    return false;
  let sel = getSelection(view.root);
  if (!sel || sel.rangeCount == 0)
    return true;
  let rects = sel.getRangeAt(0).getClientRects();
  for (let i = 0; i < rects.length; i++) {
    let rect = rects[i];
    if (rect.left <= event.clientX && rect.right >= event.clientX && rect.top <= event.clientY && rect.bottom >= event.clientY)
      return true;
  }
  return false;
}
function eventBelongsToEditor(view, event) {
  if (!event.bubbles)
    return true;
  if (event.defaultPrevented)
    return false;
  for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)
    if (!node || node.nodeType == 11 || (cView = ContentView.get(node)) && cView.ignoreEvent(event))
      return false;
  return true;
}
var handlers = /* @__PURE__ */ Object.create(null);
var observers = /* @__PURE__ */ Object.create(null);
var brokenClipboardAPI = browser.ie && browser.ie_version < 15 || browser.ios && browser.webkit_version < 604;
function capturePaste(view) {
  let parent = view.dom.parentNode;
  if (!parent)
    return;
  let target = parent.appendChild(document.createElement("textarea"));
  target.style.cssText = "position: fixed; left: -10000px; top: 10px";
  target.focus();
  setTimeout(() => {
    view.focus();
    target.remove();
    doPaste(view, target.value);
  }, 50);
}
function textFilter(state, facet, text) {
  for (let filter of state.facet(facet))
    text = filter(text, state);
  return text;
}
function doPaste(view, input) {
  input = textFilter(view.state, clipboardInputFilter, input);
  let { state } = view, changes, i = 1, text = state.toText(input);
  let byLine = text.lines == state.selection.ranges.length;
  let linewise = lastLinewiseCopy != null && state.selection.ranges.every((r) => r.empty) && lastLinewiseCopy == text.toString();
  if (linewise) {
    let lastLine = -1;
    changes = state.changeByRange((range) => {
      let line = state.doc.lineAt(range.from);
      if (line.from == lastLine)
        return { range };
      lastLine = line.from;
      let insert2 = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);
      return {
        changes: { from: line.from, insert: insert2 },
        range: EditorSelection.cursor(range.from + insert2.length)
      };
    });
  } else if (byLine) {
    changes = state.changeByRange((range) => {
      let line = text.line(i++);
      return {
        changes: { from: range.from, to: range.to, insert: line.text },
        range: EditorSelection.cursor(range.from + line.length)
      };
    });
  } else {
    changes = state.replaceSelection(text);
  }
  view.dispatch(changes, {
    userEvent: "input.paste",
    scrollIntoView: true
  });
}
observers.scroll = (view) => {
  view.inputState.lastScrollTop = view.scrollDOM.scrollTop;
  view.inputState.lastScrollLeft = view.scrollDOM.scrollLeft;
};
handlers.keydown = (view, event) => {
  view.inputState.setSelectionOrigin("select");
  if (event.keyCode == 27 && view.inputState.tabFocusMode != 0)
    view.inputState.tabFocusMode = Date.now() + 2e3;
  return false;
};
observers.touchstart = (view, e) => {
  view.inputState.lastTouchTime = Date.now();
  view.inputState.setSelectionOrigin("select.pointer");
};
observers.touchmove = (view) => {
  view.inputState.setSelectionOrigin("select.pointer");
};
handlers.mousedown = (view, event) => {
  view.observer.flush();
  if (view.inputState.lastTouchTime > Date.now() - 2e3)
    return false;
  let style = null;
  for (let makeStyle of view.state.facet(mouseSelectionStyle)) {
    style = makeStyle(view, event);
    if (style)
      break;
  }
  if (!style && event.button == 0)
    style = basicMouseSelection(view, event);
  if (style) {
    let mustFocus = !view.hasFocus;
    view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));
    if (mustFocus)
      view.observer.ignore(() => {
        focusPreventScroll(view.contentDOM);
        let active = view.root.activeElement;
        if (active && !active.contains(view.contentDOM))
          active.blur();
      });
    let mouseSel = view.inputState.mouseSelection;
    if (mouseSel) {
      mouseSel.start(event);
      return mouseSel.dragging === false;
    }
  }
  return false;
};
function rangeForClick(view, pos, bias, type) {
  if (type == 1) {
    return EditorSelection.cursor(pos, bias);
  } else if (type == 2) {
    return groupAt(view.state, pos, bias);
  } else {
    let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);
    let from2 = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;
    if (to < view.state.doc.length && to == line.to)
      to++;
    return EditorSelection.range(from2, to);
  }
}
var inside = (x, y, rect) => y >= rect.top && y <= rect.bottom && x >= rect.left && x <= rect.right;
function findPositionSide(view, pos, x, y) {
  let line = LineView.find(view.docView, pos);
  if (!line)
    return 1;
  let off = pos - line.posAtStart;
  if (off == 0)
    return 1;
  if (off == line.length)
    return -1;
  let before = line.coordsAt(off, -1);
  if (before && inside(x, y, before))
    return -1;
  let after = line.coordsAt(off, 1);
  if (after && inside(x, y, after))
    return 1;
  return before && before.bottom >= y ? -1 : 1;
}
function queryPos(view, event) {
  let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);
  return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };
}
var BadMouseDetail = browser.ie && browser.ie_version <= 11;
var lastMouseDown = null;
var lastMouseDownCount = 0;
var lastMouseDownTime = 0;
function getClickType(event) {
  if (!BadMouseDetail)
    return event.detail;
  let last = lastMouseDown, lastTime = lastMouseDownTime;
  lastMouseDown = event;
  lastMouseDownTime = Date.now();
  return lastMouseDownCount = !last || lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 && Math.abs(last.clientY - event.clientY) < 2 ? (lastMouseDownCount + 1) % 3 : 1;
}
function basicMouseSelection(view, event) {
  let start = queryPos(view, event), type = getClickType(event);
  let startSel = view.state.selection;
  return {
    update(update) {
      if (update.docChanged) {
        start.pos = update.changes.mapPos(start.pos);
        startSel = startSel.map(update.changes);
      }
    },
    get(event2, extend, multiple) {
      let cur2 = queryPos(view, event2), removed;
      let range = rangeForClick(view, cur2.pos, cur2.bias, type);
      if (start.pos != cur2.pos && !extend) {
        let startRange = rangeForClick(view, start.pos, start.bias, type);
        let from2 = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);
        range = from2 < range.from ? EditorSelection.range(from2, to) : EditorSelection.range(to, from2);
      }
      if (extend)
        return startSel.replaceRange(startSel.main.extend(range.from, range.to));
      else if (multiple && type == 1 && startSel.ranges.length > 1 && (removed = removeRangeAround(startSel, cur2.pos)))
        return removed;
      else if (multiple)
        return startSel.addRange(range);
      else
        return EditorSelection.create([range]);
    }
  };
}
function removeRangeAround(sel, pos) {
  for (let i = 0; i < sel.ranges.length; i++) {
    let { from: from2, to } = sel.ranges[i];
    if (from2 <= pos && to >= pos)
      return EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));
  }
  return null;
}
handlers.dragstart = (view, event) => {
  let { selection: { main: range } } = view.state;
  if (event.target.draggable) {
    let cView = view.docView.nearest(event.target);
    if (cView && cView.isWidget) {
      let from2 = cView.posAtStart, to = from2 + cView.length;
      if (from2 >= range.to || to <= range.from)
        range = EditorSelection.range(from2, to);
    }
  }
  let { inputState } = view;
  if (inputState.mouseSelection)
    inputState.mouseSelection.dragging = true;
  inputState.draggedContent = range;
  if (event.dataTransfer) {
    event.dataTransfer.setData("Text", textFilter(view.state, clipboardOutputFilter, view.state.sliceDoc(range.from, range.to)));
    event.dataTransfer.effectAllowed = "copyMove";
  }
  return false;
};
handlers.dragend = (view) => {
  view.inputState.draggedContent = null;
  return false;
};
function dropText(view, event, text, direct) {
  text = textFilter(view.state, clipboardInputFilter, text);
  if (!text)
    return;
  let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);
  let { draggedContent } = view.inputState;
  let del = direct && draggedContent && dragMovesSelection(view, event) ? { from: draggedContent.from, to: draggedContent.to } : null;
  let ins = { from: dropPos, insert: text };
  let changes = view.state.changes(del ? [del, ins] : ins);
  view.focus();
  view.dispatch({
    changes,
    selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },
    userEvent: del ? "move.drop" : "input.drop"
  });
  view.inputState.draggedContent = null;
}
handlers.drop = (view, event) => {
  if (!event.dataTransfer)
    return false;
  if (view.state.readOnly)
    return true;
  let files = event.dataTransfer.files;
  if (files && files.length) {
    let text = Array(files.length), read = 0;
    let finishFile = () => {
      if (++read == files.length)
        dropText(view, event, text.filter((s) => s != null).join(view.state.lineBreak), false);
    };
    for (let i = 0; i < files.length; i++) {
      let reader = new FileReader();
      reader.onerror = finishFile;
      reader.onload = () => {
        if (!/[\x00-\x08\x0e-\x1f]{2}/.test(reader.result))
          text[i] = reader.result;
        finishFile();
      };
      reader.readAsText(files[i]);
    }
    return true;
  } else {
    let text = event.dataTransfer.getData("Text");
    if (text) {
      dropText(view, event, text, true);
      return true;
    }
  }
  return false;
};
handlers.paste = (view, event) => {
  if (view.state.readOnly)
    return true;
  view.observer.flush();
  let data = brokenClipboardAPI ? null : event.clipboardData;
  if (data) {
    doPaste(view, data.getData("text/plain") || data.getData("text/uri-list"));
    return true;
  } else {
    capturePaste(view);
    return false;
  }
};
function captureCopy(view, text) {
  let parent = view.dom.parentNode;
  if (!parent)
    return;
  let target = parent.appendChild(document.createElement("textarea"));
  target.style.cssText = "position: fixed; left: -10000px; top: 10px";
  target.value = text;
  target.focus();
  target.selectionEnd = text.length;
  target.selectionStart = 0;
  setTimeout(() => {
    target.remove();
    view.focus();
  }, 50);
}
function copiedRange(state) {
  let content2 = [], ranges = [], linewise = false;
  for (let range of state.selection.ranges)
    if (!range.empty) {
      content2.push(state.sliceDoc(range.from, range.to));
      ranges.push(range);
    }
  if (!content2.length) {
    let upto = -1;
    for (let { from: from2 } of state.selection.ranges) {
      let line = state.doc.lineAt(from2);
      if (line.number > upto) {
        content2.push(line.text);
        ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });
      }
      upto = line.number;
    }
    linewise = true;
  }
  return { text: textFilter(state, clipboardOutputFilter, content2.join(state.lineBreak)), ranges, linewise };
}
var lastLinewiseCopy = null;
handlers.copy = handlers.cut = (view, event) => {
  let { text, ranges, linewise } = copiedRange(view.state);
  if (!text && !linewise)
    return false;
  lastLinewiseCopy = linewise ? text : null;
  if (event.type == "cut" && !view.state.readOnly)
    view.dispatch({
      changes: ranges,
      scrollIntoView: true,
      userEvent: "delete.cut"
    });
  let data = brokenClipboardAPI ? null : event.clipboardData;
  if (data) {
    data.clearData();
    data.setData("text/plain", text);
    return true;
  } else {
    captureCopy(view, text);
    return false;
  }
};
var isFocusChange = /* @__PURE__ */ Annotation.define();
function focusChangeTransaction(state, focus) {
  let effects = [];
  for (let getEffect of state.facet(focusChangeEffect)) {
    let effect = getEffect(state, focus);
    if (effect)
      effects.push(effect);
  }
  return effects.length ? state.update({ effects, annotations: isFocusChange.of(true) }) : null;
}
function updateForFocusChange(view) {
  setTimeout(() => {
    let focus = view.hasFocus;
    if (focus != view.inputState.notifiedFocused) {
      let tr = focusChangeTransaction(view.state, focus);
      if (tr)
        view.dispatch(tr);
      else
        view.update([]);
    }
  }, 10);
}
observers.focus = (view) => {
  view.inputState.lastFocusTime = Date.now();
  if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {
    view.scrollDOM.scrollTop = view.inputState.lastScrollTop;
    view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;
  }
  updateForFocusChange(view);
};
observers.blur = (view) => {
  view.observer.clearSelectionRange();
  updateForFocusChange(view);
};
observers.compositionstart = observers.compositionupdate = (view) => {
  if (view.observer.editContext)
    return;
  if (view.inputState.compositionFirstChange == null)
    view.inputState.compositionFirstChange = true;
  if (view.inputState.composing < 0) {
    view.inputState.composing = 0;
  }
};
observers.compositionend = (view) => {
  if (view.observer.editContext)
    return;
  view.inputState.composing = -1;
  view.inputState.compositionEndedAt = Date.now();
  view.inputState.compositionPendingKey = true;
  view.inputState.compositionPendingChange = view.observer.pendingRecords().length > 0;
  view.inputState.compositionFirstChange = null;
  if (browser.chrome && browser.android) {
    view.observer.flushSoon();
  } else if (view.inputState.compositionPendingChange) {
    Promise.resolve().then(() => view.observer.flush());
  } else {
    setTimeout(() => {
      if (view.inputState.composing < 0 && view.docView.hasComposition)
        view.update([]);
    }, 50);
  }
};
observers.contextmenu = (view) => {
  view.inputState.lastContextMenu = Date.now();
};
handlers.beforeinput = (view, event) => {
  var _a2, _b;
  if (event.inputType == "insertReplacementText" && view.observer.editContext) {
    let text = (_a2 = event.dataTransfer) === null || _a2 === void 0 ? void 0 : _a2.getData("text/plain"), ranges = event.getTargetRanges();
    if (text && ranges.length) {
      let r = ranges[0];
      let from2 = view.posAtDOM(r.startContainer, r.startOffset), to = view.posAtDOM(r.endContainer, r.endOffset);
      applyDOMChangeInner(view, { from: from2, to, insert: view.state.toText(text) }, null);
      return true;
    }
  }
  let pending;
  if (browser.chrome && browser.android && (pending = PendingKeys.find((key) => key.inputType == event.inputType))) {
    view.observer.delayAndroidKey(pending.key, pending.keyCode);
    if (pending.key == "Backspace" || pending.key == "Delete") {
      let startViewHeight = ((_b = window.visualViewport) === null || _b === void 0 ? void 0 : _b.height) || 0;
      setTimeout(() => {
        var _a3;
        if ((((_a3 = window.visualViewport) === null || _a3 === void 0 ? void 0 : _a3.height) || 0) > startViewHeight + 10 && view.hasFocus) {
          view.contentDOM.blur();
          view.focus();
        }
      }, 100);
    }
  }
  if (browser.ios && event.inputType == "deleteContentForward") {
    view.observer.flushSoon();
  }
  if (browser.safari && event.inputType == "insertText" && view.inputState.composing >= 0) {
    setTimeout(() => observers.compositionend(view, event), 20);
  }
  return false;
};
var appliedFirefoxHack = /* @__PURE__ */ new Set();
function firefoxCopyCutHack(doc2) {
  if (!appliedFirefoxHack.has(doc2)) {
    appliedFirefoxHack.add(doc2);
    doc2.addEventListener("copy", () => {
    });
    doc2.addEventListener("cut", () => {
    });
  }
}
var wrappingWhiteSpace = ["pre-wrap", "normal", "pre-line", "break-spaces"];
var heightChangeFlag = false;
function clearHeightChangeFlag() {
  heightChangeFlag = false;
}
var HeightOracle = class {
  constructor(lineWrapping) {
    this.lineWrapping = lineWrapping;
    this.doc = Text.empty;
    this.heightSamples = {};
    this.lineHeight = 14;
    this.charWidth = 7;
    this.textHeight = 14;
    this.lineLength = 30;
  }
  heightForGap(from2, to) {
    let lines = this.doc.lineAt(to).number - this.doc.lineAt(from2).number + 1;
    if (this.lineWrapping)
      lines += Math.max(0, Math.ceil((to - from2 - lines * this.lineLength * 0.5) / this.lineLength));
    return this.lineHeight * lines;
  }
  heightForLine(length) {
    if (!this.lineWrapping)
      return this.lineHeight;
    let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));
    return lines * this.lineHeight;
  }
  setDoc(doc2) {
    this.doc = doc2;
    return this;
  }
  mustRefreshForWrapping(whiteSpace) {
    return wrappingWhiteSpace.indexOf(whiteSpace) > -1 != this.lineWrapping;
  }
  mustRefreshForHeights(lineHeights) {
    let newHeight = false;
    for (let i = 0; i < lineHeights.length; i++) {
      let h = lineHeights[i];
      if (h < 0) {
        i++;
      } else if (!this.heightSamples[Math.floor(h * 10)]) {
        newHeight = true;
        this.heightSamples[Math.floor(h * 10)] = true;
      }
    }
    return newHeight;
  }
  refresh(whiteSpace, lineHeight, charWidth, textHeight, lineLength, knownHeights) {
    let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;
    let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;
    this.lineWrapping = lineWrapping;
    this.lineHeight = lineHeight;
    this.charWidth = charWidth;
    this.textHeight = textHeight;
    this.lineLength = lineLength;
    if (changed) {
      this.heightSamples = {};
      for (let i = 0; i < knownHeights.length; i++) {
        let h = knownHeights[i];
        if (h < 0)
          i++;
        else
          this.heightSamples[Math.floor(h * 10)] = true;
      }
    }
    return changed;
  }
};
var MeasuredHeights = class {
  constructor(from2, heights) {
    this.from = from2;
    this.heights = heights;
    this.index = 0;
  }
  get more() {
    return this.index < this.heights.length;
  }
};
var BlockInfo = class _BlockInfo {
  /**
  @internal
  */
  constructor(from2, length, top2, height, _content) {
    this.from = from2;
    this.length = length;
    this.top = top2;
    this.height = height;
    this._content = _content;
  }
  /**
  The type of element this is. When querying lines, this may be
  an array of all the blocks that make up the line.
  */
  get type() {
    return typeof this._content == "number" ? BlockType.Text : Array.isArray(this._content) ? this._content : this._content.type;
  }
  /**
  The end of the element as a document position.
  */
  get to() {
    return this.from + this.length;
  }
  /**
  The bottom position of the element.
  */
  get bottom() {
    return this.top + this.height;
  }
  /**
  If this is a widget block, this will return the widget
  associated with it.
  */
  get widget() {
    return this._content instanceof PointDecoration ? this._content.widget : null;
  }
  /**
  If this is a textblock, this holds the number of line breaks
  that appear in widgets inside the block.
  */
  get widgetLineBreaks() {
    return typeof this._content == "number" ? this._content : 0;
  }
  /**
  @internal
  */
  join(other) {
    let content2 = (Array.isArray(this._content) ? this._content : [this]).concat(Array.isArray(other._content) ? other._content : [other]);
    return new _BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, content2);
  }
};
var QueryType = /* @__PURE__ */ function(QueryType3) {
  QueryType3[QueryType3["ByPos"] = 0] = "ByPos";
  QueryType3[QueryType3["ByHeight"] = 1] = "ByHeight";
  QueryType3[QueryType3["ByPosNoHeight"] = 2] = "ByPosNoHeight";
  return QueryType3;
}(QueryType || (QueryType = {}));
var Epsilon = 1e-3;
var HeightMap = class _HeightMap {
  constructor(length, height, flags = 2) {
    this.length = length;
    this.height = height;
    this.flags = flags;
  }
  get outdated() {
    return (this.flags & 2) > 0;
  }
  set outdated(value) {
    this.flags = (value ? 2 : 0) | this.flags & ~2;
  }
  setHeight(height) {
    if (this.height != height) {
      if (Math.abs(this.height - height) > Epsilon)
        heightChangeFlag = true;
      this.height = height;
    }
  }
  // Base case is to replace a leaf node, which simply builds a tree
  // from the new nodes and returns that (HeightMapBranch and
  // HeightMapGap override this to actually use from/to)
  replace(_from, _to, nodes) {
    return _HeightMap.of(nodes);
  }
  // Again, these are base cases, and are overridden for branch and gap nodes.
  decomposeLeft(_to, result) {
    result.push(this);
  }
  decomposeRight(_from, result) {
    result.push(this);
  }
  applyChanges(decorations2, oldDoc, oracle, changes) {
    let me = this, doc2 = oracle.doc;
    for (let i = changes.length - 1; i >= 0; i--) {
      let { fromA, toA, fromB, toB } = changes[i];
      let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oracle.setDoc(oldDoc), 0, 0);
      let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oracle, 0, 0);
      toB += end.to - toA;
      toA = end.to;
      while (i > 0 && start.from <= changes[i - 1].toA) {
        fromA = changes[i - 1].fromA;
        fromB = changes[i - 1].fromB;
        i--;
        if (fromA < start.from)
          start = me.lineAt(fromA, QueryType.ByPosNoHeight, oracle, 0, 0);
      }
      fromB += start.from - fromA;
      fromA = start.from;
      let nodes = NodeBuilder.build(oracle.setDoc(doc2), decorations2, fromB, toB);
      me = replace(me, me.replace(fromA, toA, nodes));
    }
    return me.updateHeight(oracle, 0);
  }
  static empty() {
    return new HeightMapText(0, 0);
  }
  // nodes uses null values to indicate the position of line breaks.
  // There are never line breaks at the start or end of the array, or
  // two line breaks next to each other, and the array isn't allowed
  // to be empty (same restrictions as return value from the builder).
  static of(nodes) {
    if (nodes.length == 1)
      return nodes[0];
    let i = 0, j = nodes.length, before = 0, after = 0;
    for (; ; ) {
      if (i == j) {
        if (before > after * 2) {
          let split = nodes[i - 1];
          if (split.break)
            nodes.splice(--i, 1, split.left, null, split.right);
          else
            nodes.splice(--i, 1, split.left, split.right);
          j += 1 + split.break;
          before -= split.size;
        } else if (after > before * 2) {
          let split = nodes[j];
          if (split.break)
            nodes.splice(j, 1, split.left, null, split.right);
          else
            nodes.splice(j, 1, split.left, split.right);
          j += 2 + split.break;
          after -= split.size;
        } else {
          break;
        }
      } else if (before < after) {
        let next = nodes[i++];
        if (next)
          before += next.size;
      } else {
        let next = nodes[--j];
        if (next)
          after += next.size;
      }
    }
    let brk = 0;
    if (nodes[i - 1] == null) {
      brk = 1;
      i--;
    } else if (nodes[i] == null) {
      brk = 1;
      j++;
    }
    return new HeightMapBranch(_HeightMap.of(nodes.slice(0, i)), brk, _HeightMap.of(nodes.slice(j)));
  }
};
function replace(old, val) {
  if (old == val)
    return old;
  if (old.constructor != val.constructor)
    heightChangeFlag = true;
  return val;
}
HeightMap.prototype.size = 1;
var HeightMapBlock = class extends HeightMap {
  constructor(length, height, deco) {
    super(length, height);
    this.deco = deco;
  }
  blockAt(_height, _oracle, top2, offset) {
    return new BlockInfo(offset, this.length, top2, this.height, this.deco || 0);
  }
  lineAt(_value, _type, oracle, top2, offset) {
    return this.blockAt(0, oracle, top2, offset);
  }
  forEachLine(from2, to, oracle, top2, offset, f) {
    if (from2 <= offset + this.length && to >= offset)
      f(this.blockAt(0, oracle, top2, offset));
  }
  updateHeight(oracle, offset = 0, _force = false, measured) {
    if (measured && measured.from <= offset && measured.more)
      this.setHeight(measured.heights[measured.index++]);
    this.outdated = false;
    return this;
  }
  toString() {
    return `block(${this.length})`;
  }
};
var HeightMapText = class _HeightMapText extends HeightMapBlock {
  constructor(length, height) {
    super(length, height, null);
    this.collapsed = 0;
    this.widgetHeight = 0;
    this.breaks = 0;
  }
  blockAt(_height, _oracle, top2, offset) {
    return new BlockInfo(offset, this.length, top2, this.height, this.breaks);
  }
  replace(_from, _to, nodes) {
    let node = nodes[0];
    if (nodes.length == 1 && (node instanceof _HeightMapText || node instanceof HeightMapGap && node.flags & 4) && Math.abs(this.length - node.length) < 10) {
      if (node instanceof HeightMapGap)
        node = new _HeightMapText(node.length, this.height);
      else
        node.height = this.height;
      if (!this.outdated)
        node.outdated = false;
      return node;
    } else {
      return HeightMap.of(nodes);
    }
  }
  updateHeight(oracle, offset = 0, force = false, measured) {
    if (measured && measured.from <= offset && measured.more)
      this.setHeight(measured.heights[measured.index++]);
    else if (force || this.outdated)
      this.setHeight(Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)) + this.breaks * oracle.lineHeight);
    this.outdated = false;
    return this;
  }
  toString() {
    return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
  }
};
var HeightMapGap = class _HeightMapGap extends HeightMap {
  constructor(length) {
    super(length, 0);
  }
  heightMetrics(oracle, offset) {
    let firstLine = oracle.doc.lineAt(offset).number, lastLine = oracle.doc.lineAt(offset + this.length).number;
    let lines = lastLine - firstLine + 1;
    let perLine, perChar = 0;
    if (oracle.lineWrapping) {
      let totalPerLine = Math.min(this.height, oracle.lineHeight * lines);
      perLine = totalPerLine / lines;
      if (this.length > lines + 1)
        perChar = (this.height - totalPerLine) / (this.length - lines - 1);
    } else {
      perLine = this.height / lines;
    }
    return { firstLine, lastLine, perLine, perChar };
  }
  blockAt(height, oracle, top2, offset) {
    let { firstLine, lastLine, perLine, perChar } = this.heightMetrics(oracle, offset);
    if (oracle.lineWrapping) {
      let guess = offset + (height < oracle.lineHeight ? 0 : Math.round(Math.max(0, Math.min(1, (height - top2) / this.height)) * this.length));
      let line = oracle.doc.lineAt(guess), lineHeight = perLine + line.length * perChar;
      let lineTop = Math.max(top2, height - lineHeight / 2);
      return new BlockInfo(line.from, line.length, lineTop, lineHeight, 0);
    } else {
      let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top2) / perLine)));
      let { from: from2, length } = oracle.doc.line(firstLine + line);
      return new BlockInfo(from2, length, top2 + perLine * line, perLine, 0);
    }
  }
  lineAt(value, type, oracle, top2, offset) {
    if (type == QueryType.ByHeight)
      return this.blockAt(value, oracle, top2, offset);
    if (type == QueryType.ByPosNoHeight) {
      let { from: from2, to } = oracle.doc.lineAt(value);
      return new BlockInfo(from2, to - from2, 0, 0, 0);
    }
    let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);
    let line = oracle.doc.lineAt(value), lineHeight = perLine + line.length * perChar;
    let linesAbove = line.number - firstLine;
    let lineTop = top2 + perLine * linesAbove + perChar * (line.from - offset - linesAbove);
    return new BlockInfo(line.from, line.length, Math.max(top2, Math.min(lineTop, top2 + this.height - lineHeight)), lineHeight, 0);
  }
  forEachLine(from2, to, oracle, top2, offset, f) {
    from2 = Math.max(from2, offset);
    to = Math.min(to, offset + this.length);
    let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);
    for (let pos = from2, lineTop = top2; pos <= to; ) {
      let line = oracle.doc.lineAt(pos);
      if (pos == from2) {
        let linesAbove = line.number - firstLine;
        lineTop += perLine * linesAbove + perChar * (from2 - offset - linesAbove);
      }
      let lineHeight = perLine + perChar * line.length;
      f(new BlockInfo(line.from, line.length, lineTop, lineHeight, 0));
      lineTop += lineHeight;
      pos = line.to + 1;
    }
  }
  replace(from2, to, nodes) {
    let after = this.length - to;
    if (after > 0) {
      let last = nodes[nodes.length - 1];
      if (last instanceof _HeightMapGap)
        nodes[nodes.length - 1] = new _HeightMapGap(last.length + after);
      else
        nodes.push(null, new _HeightMapGap(after - 1));
    }
    if (from2 > 0) {
      let first = nodes[0];
      if (first instanceof _HeightMapGap)
        nodes[0] = new _HeightMapGap(from2 + first.length);
      else
        nodes.unshift(new _HeightMapGap(from2 - 1), null);
    }
    return HeightMap.of(nodes);
  }
  decomposeLeft(to, result) {
    result.push(new _HeightMapGap(to - 1), null);
  }
  decomposeRight(from2, result) {
    result.push(null, new _HeightMapGap(this.length - from2 - 1));
  }
  updateHeight(oracle, offset = 0, force = false, measured) {
    let end = offset + this.length;
    if (measured && measured.from <= offset + this.length && measured.more) {
      let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;
      if (measured.from > offset)
        nodes.push(new _HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));
      while (pos <= end && measured.more) {
        let len = oracle.doc.lineAt(pos).length;
        if (nodes.length)
          nodes.push(null);
        let height = measured.heights[measured.index++];
        if (singleHeight == -1)
          singleHeight = height;
        else if (Math.abs(height - singleHeight) >= Epsilon)
          singleHeight = -2;
        let line = new HeightMapText(len, height);
        line.outdated = false;
        nodes.push(line);
        pos += len + 1;
      }
      if (pos <= end)
        nodes.push(null, new _HeightMapGap(end - pos).updateHeight(oracle, pos));
      let result = HeightMap.of(nodes);
      if (singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon || Math.abs(singleHeight - this.heightMetrics(oracle, offset).perLine) >= Epsilon)
        heightChangeFlag = true;
      return replace(this, result);
    } else if (force || this.outdated) {
      this.setHeight(oracle.heightForGap(offset, offset + this.length));
      this.outdated = false;
    }
    return this;
  }
  toString() {
    return `gap(${this.length})`;
  }
};
var HeightMapBranch = class extends HeightMap {
  constructor(left, brk, right) {
    super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 : 0));
    this.left = left;
    this.right = right;
    this.size = left.size + right.size;
  }
  get break() {
    return this.flags & 1;
  }
  blockAt(height, oracle, top2, offset) {
    let mid = top2 + this.left.height;
    return height < mid ? this.left.blockAt(height, oracle, top2, offset) : this.right.blockAt(height, oracle, mid, offset + this.left.length + this.break);
  }
  lineAt(value, type, oracle, top2, offset) {
    let rightTop = top2 + this.left.height, rightOffset = offset + this.left.length + this.break;
    let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;
    let base2 = left ? this.left.lineAt(value, type, oracle, top2, offset) : this.right.lineAt(value, type, oracle, rightTop, rightOffset);
    if (this.break || (left ? base2.to < rightOffset : base2.from > rightOffset))
      return base2;
    let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;
    if (left)
      return base2.join(this.right.lineAt(rightOffset, subQuery, oracle, rightTop, rightOffset));
    else
      return this.left.lineAt(rightOffset, subQuery, oracle, top2, offset).join(base2);
  }
  forEachLine(from2, to, oracle, top2, offset, f) {
    let rightTop = top2 + this.left.height, rightOffset = offset + this.left.length + this.break;
    if (this.break) {
      if (from2 < rightOffset)
        this.left.forEachLine(from2, to, oracle, top2, offset, f);
      if (to >= rightOffset)
        this.right.forEachLine(from2, to, oracle, rightTop, rightOffset, f);
    } else {
      let mid = this.lineAt(rightOffset, QueryType.ByPos, oracle, top2, offset);
      if (from2 < mid.from)
        this.left.forEachLine(from2, mid.from - 1, oracle, top2, offset, f);
      if (mid.to >= from2 && mid.from <= to)
        f(mid);
      if (to > mid.to)
        this.right.forEachLine(mid.to + 1, to, oracle, rightTop, rightOffset, f);
    }
  }
  replace(from2, to, nodes) {
    let rightStart = this.left.length + this.break;
    if (to < rightStart)
      return this.balanced(this.left.replace(from2, to, nodes), this.right);
    if (from2 > this.left.length)
      return this.balanced(this.left, this.right.replace(from2 - rightStart, to - rightStart, nodes));
    let result = [];
    if (from2 > 0)
      this.decomposeLeft(from2, result);
    let left = result.length;
    for (let node of nodes)
      result.push(node);
    if (from2 > 0)
      mergeGaps(result, left - 1);
    if (to < this.length) {
      let right = result.length;
      this.decomposeRight(to, result);
      mergeGaps(result, right);
    }
    return HeightMap.of(result);
  }
  decomposeLeft(to, result) {
    let left = this.left.length;
    if (to <= left)
      return this.left.decomposeLeft(to, result);
    result.push(this.left);
    if (this.break) {
      left++;
      if (to >= left)
        result.push(null);
    }
    if (to > left)
      this.right.decomposeLeft(to - left, result);
  }
  decomposeRight(from2, result) {
    let left = this.left.length, right = left + this.break;
    if (from2 >= right)
      return this.right.decomposeRight(from2 - right, result);
    if (from2 < left)
      this.left.decomposeRight(from2, result);
    if (this.break && from2 < right)
      result.push(null);
    result.push(this.right);
  }
  balanced(left, right) {
    if (left.size > 2 * right.size || right.size > 2 * left.size)
      return HeightMap.of(this.break ? [left, null, right] : [left, right]);
    this.left = replace(this.left, left);
    this.right = replace(this.right, right);
    this.setHeight(left.height + right.height);
    this.outdated = left.outdated || right.outdated;
    this.size = left.size + right.size;
    this.length = left.length + this.break + right.length;
    return this;
  }
  updateHeight(oracle, offset = 0, force = false, measured) {
    let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;
    if (measured && measured.from <= offset + left.length && measured.more)
      rebalance = left = left.updateHeight(oracle, offset, force, measured);
    else
      left.updateHeight(oracle, offset, force);
    if (measured && measured.from <= rightStart + right.length && measured.more)
      rebalance = right = right.updateHeight(oracle, rightStart, force, measured);
    else
      right.updateHeight(oracle, rightStart, force);
    if (rebalance)
      return this.balanced(left, right);
    this.height = this.left.height + this.right.height;
    this.outdated = false;
    return this;
  }
  toString() {
    return this.left + (this.break ? " " : "-") + this.right;
  }
};
function mergeGaps(nodes, around) {
  let before, after;
  if (nodes[around] == null && (before = nodes[around - 1]) instanceof HeightMapGap && (after = nodes[around + 1]) instanceof HeightMapGap)
    nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));
}
var relevantWidgetHeight = 5;
var NodeBuilder = class _NodeBuilder {
  constructor(pos, oracle) {
    this.pos = pos;
    this.oracle = oracle;
    this.nodes = [];
    this.lineStart = -1;
    this.lineEnd = -1;
    this.covering = null;
    this.writtenTo = pos;
  }
  get isCovered() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  }
  span(_from, to) {
    if (this.lineStart > -1) {
      let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];
      if (last instanceof HeightMapText)
        last.length += end - this.pos;
      else if (end > this.pos || !this.isCovered)
        this.nodes.push(new HeightMapText(end - this.pos, -1));
      this.writtenTo = end;
      if (to > end) {
        this.nodes.push(null);
        this.writtenTo++;
        this.lineStart = -1;
      }
    }
    this.pos = to;
  }
  point(from2, to, deco) {
    if (from2 < to || deco.heightRelevant) {
      let height = deco.widget ? deco.widget.estimatedHeight : 0;
      let breaks = deco.widget ? deco.widget.lineBreaks : 0;
      if (height < 0)
        height = this.oracle.lineHeight;
      let len = to - from2;
      if (deco.block) {
        this.addBlock(new HeightMapBlock(len, height, deco));
      } else if (len || breaks || height >= relevantWidgetHeight) {
        this.addLineDeco(height, breaks, len);
      }
    } else if (to > from2) {
      this.span(from2, to);
    }
    if (this.lineEnd > -1 && this.lineEnd < this.pos)
      this.lineEnd = this.oracle.doc.lineAt(this.pos).to;
  }
  enterLine() {
    if (this.lineStart > -1)
      return;
    let { from: from2, to } = this.oracle.doc.lineAt(this.pos);
    this.lineStart = from2;
    this.lineEnd = to;
    if (this.writtenTo < from2) {
      if (this.writtenTo < from2 - 1 || this.nodes[this.nodes.length - 1] == null)
        this.nodes.push(this.blankContent(this.writtenTo, from2 - 1));
      this.nodes.push(null);
    }
    if (this.pos > from2)
      this.nodes.push(new HeightMapText(this.pos - from2, -1));
    this.writtenTo = this.pos;
  }
  blankContent(from2, to) {
    let gap = new HeightMapGap(to - from2);
    if (this.oracle.doc.lineAt(from2).to == to)
      gap.flags |= 4;
    return gap;
  }
  ensureLine() {
    this.enterLine();
    let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (last instanceof HeightMapText)
      return last;
    let line = new HeightMapText(0, -1);
    this.nodes.push(line);
    return line;
  }
  addBlock(block) {
    this.enterLine();
    let deco = block.deco;
    if (deco && deco.startSide > 0 && !this.isCovered)
      this.ensureLine();
    this.nodes.push(block);
    this.writtenTo = this.pos = this.pos + block.length;
    if (deco && deco.endSide > 0)
      this.covering = block;
  }
  addLineDeco(height, breaks, length) {
    let line = this.ensureLine();
    line.length += length;
    line.collapsed += length;
    line.widgetHeight = Math.max(line.widgetHeight, height);
    line.breaks += breaks;
    this.writtenTo = this.pos = this.pos + length;
  }
  finish(from2) {
    let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)
      this.nodes.push(new HeightMapText(0, -1));
    else if (this.writtenTo < this.pos || last == null)
      this.nodes.push(this.blankContent(this.writtenTo, this.pos));
    let pos = from2;
    for (let node of this.nodes) {
      if (node instanceof HeightMapText)
        node.updateHeight(this.oracle, pos);
      pos += node ? node.length : 1;
    }
    return this.nodes;
  }
  // Always called with a region that on both sides either stretches
  // to a line break or the end of the document.
  // The returned array uses null to indicate line breaks, but never
  // starts or ends in a line break, or has multiple line breaks next
  // to each other.
  static build(oracle, decorations2, from2, to) {
    let builder = new _NodeBuilder(from2, oracle);
    RangeSet.spans(decorations2, from2, to, builder, 0);
    return builder.finish(from2);
  }
};
function heightRelevantDecoChanges(a, b, diff) {
  let comp = new DecorationComparator2();
  RangeSet.compare(a, b, diff, comp, 0);
  return comp.changes;
}
var DecorationComparator2 = class {
  constructor() {
    this.changes = [];
  }
  compareRange() {
  }
  comparePoint(from2, to, a, b) {
    if (from2 < to || a && a.heightRelevant || b && b.heightRelevant)
      addRange(from2, to, this.changes, 5);
  }
};
function visiblePixelRange(dom, paddingTop) {
  let rect = dom.getBoundingClientRect();
  let doc2 = dom.ownerDocument, win = doc2.defaultView || window;
  let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);
  let top2 = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);
  for (let parent = dom.parentNode; parent && parent != doc2.body; ) {
    if (parent.nodeType == 1) {
      let elt = parent;
      let style = window.getComputedStyle(elt);
      if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) && style.overflow != "visible") {
        let parentRect = elt.getBoundingClientRect();
        left = Math.max(left, parentRect.left);
        right = Math.min(right, parentRect.right);
        top2 = Math.max(top2, parentRect.top);
        bottom = Math.min(parent == dom.parentNode ? win.innerHeight : bottom, parentRect.bottom);
      }
      parent = style.position == "absolute" || style.position == "fixed" ? elt.offsetParent : elt.parentNode;
    } else if (parent.nodeType == 11) {
      parent = parent.host;
    } else {
      break;
    }
  }
  return {
    left: left - rect.left,
    right: Math.max(left, right) - rect.left,
    top: top2 - (rect.top + paddingTop),
    bottom: Math.max(top2, bottom) - (rect.top + paddingTop)
  };
}
function inWindow(elt) {
  let rect = elt.getBoundingClientRect(), win = elt.ownerDocument.defaultView || window;
  return rect.left < win.innerWidth && rect.right > 0 && rect.top < win.innerHeight && rect.bottom > 0;
}
function fullPixelRange(dom, paddingTop) {
  let rect = dom.getBoundingClientRect();
  return {
    left: 0,
    right: rect.right - rect.left,
    top: paddingTop,
    bottom: rect.bottom - (rect.top + paddingTop)
  };
}
var LineGap = class {
  constructor(from2, to, size, displaySize) {
    this.from = from2;
    this.to = to;
    this.size = size;
    this.displaySize = displaySize;
  }
  static same(a, b) {
    if (a.length != b.length)
      return false;
    for (let i = 0; i < a.length; i++) {
      let gA = a[i], gB = b[i];
      if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)
        return false;
    }
    return true;
  }
  draw(viewState, wrapping) {
    return Decoration.replace({
      widget: new LineGapWidget(this.displaySize * (wrapping ? viewState.scaleY : viewState.scaleX), wrapping)
    }).range(this.from, this.to);
  }
};
var LineGapWidget = class extends WidgetType {
  constructor(size, vertical) {
    super();
    this.size = size;
    this.vertical = vertical;
  }
  eq(other) {
    return other.size == this.size && other.vertical == this.vertical;
  }
  toDOM() {
    let elt = document.createElement("div");
    if (this.vertical) {
      elt.style.height = this.size + "px";
    } else {
      elt.style.width = this.size + "px";
      elt.style.height = "2px";
      elt.style.display = "inline-block";
    }
    return elt;
  }
  get estimatedHeight() {
    return this.vertical ? this.size : -1;
  }
};
var ViewState = class {
  constructor(state) {
    this.state = state;
    this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };
    this.inView = true;
    this.paddingTop = 0;
    this.paddingBottom = 0;
    this.contentDOMWidth = 0;
    this.contentDOMHeight = 0;
    this.editorHeight = 0;
    this.editorWidth = 0;
    this.scrollTop = 0;
    this.scrolledToBottom = false;
    this.scaleX = 1;
    this.scaleY = 1;
    this.scrollAnchorPos = 0;
    this.scrollAnchorHeight = -1;
    this.scaler = IdScaler;
    this.scrollTarget = null;
    this.printing = false;
    this.mustMeasureContent = true;
    this.defaultTextDirection = Direction.LTR;
    this.visibleRanges = [];
    this.mustEnforceCursorAssoc = false;
    let guessWrapping = state.facet(contentAttributes).some((v) => typeof v != "function" && v.class == "cm-lineWrapping");
    this.heightOracle = new HeightOracle(guessWrapping);
    this.stateDeco = state.facet(decorations).filter((d) => typeof d != "function");
    this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);
    for (let i = 0; i < 2; i++) {
      this.viewport = this.getViewport(0, null);
      if (!this.updateForViewport())
        break;
    }
    this.updateViewportLines();
    this.lineGaps = this.ensureLineGaps([]);
    this.lineGapDeco = Decoration.set(this.lineGaps.map((gap) => gap.draw(this, false)));
    this.computeVisibleRanges();
  }
  updateForViewport() {
    let viewports = [this.viewport], { main } = this.state.selection;
    for (let i = 0; i <= 1; i++) {
      let pos = i ? main.head : main.anchor;
      if (!viewports.some(({ from: from2, to }) => pos >= from2 && pos <= to)) {
        let { from: from2, to } = this.lineBlockAt(pos);
        viewports.push(new Viewport(from2, to));
      }
    }
    this.viewports = viewports.sort((a, b) => a.from - b.from);
    return this.updateScaler();
  }
  updateScaler() {
    let scaler = this.scaler;
    this.scaler = this.heightMap.height <= 7e6 ? IdScaler : new BigScaler(this.heightOracle, this.heightMap, this.viewports);
    return scaler.eq(this.scaler) ? 0 : 2;
  }
  updateViewportLines() {
    this.viewportLines = [];
    this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.heightOracle.setDoc(this.state.doc), 0, 0, (block) => {
      this.viewportLines.push(scaleBlock(block, this.scaler));
    });
  }
  update(update, scrollTarget = null) {
    this.state = update.state;
    let prevDeco = this.stateDeco;
    this.stateDeco = this.state.facet(decorations).filter((d) => typeof d != "function");
    let contentChanges = update.changedRanges;
    let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));
    let prevHeight = this.heightMap.height;
    let scrollAnchor = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);
    clearHeightChangeFlag();
    this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);
    if (this.heightMap.height != prevHeight || heightChangeFlag)
      update.flags |= 2;
    if (scrollAnchor) {
      this.scrollAnchorPos = update.changes.mapPos(scrollAnchor.from, -1);
      this.scrollAnchorHeight = scrollAnchor.top;
    } else {
      this.scrollAnchorPos = -1;
      this.scrollAnchorHeight = prevHeight;
    }
    let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;
    if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) || !this.viewportIsAppropriate(viewport))
      viewport = this.getViewport(0, scrollTarget);
    let viewportChange = viewport.from != this.viewport.from || viewport.to != this.viewport.to;
    this.viewport = viewport;
    update.flags |= this.updateForViewport();
    if (viewportChange || !update.changes.empty || update.flags & 2)
      this.updateViewportLines();
    if (this.lineGaps.length || this.viewport.to - this.viewport.from > 2e3 << 1)
      this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));
    update.flags |= this.computeVisibleRanges(update.changes);
    if (scrollTarget)
      this.scrollTarget = scrollTarget;
    if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping && update.state.selection.main.empty && update.state.selection.main.assoc && !update.state.facet(nativeSelectionHidden))
      this.mustEnforceCursorAssoc = true;
  }
  measure(view) {
    let dom = view.contentDOM, style = window.getComputedStyle(dom);
    let oracle = this.heightOracle;
    let whiteSpace = style.whiteSpace;
    this.defaultTextDirection = style.direction == "rtl" ? Direction.RTL : Direction.LTR;
    let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);
    let domRect = dom.getBoundingClientRect();
    let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != domRect.height;
    this.contentDOMHeight = domRect.height;
    this.mustMeasureContent = false;
    let result = 0, bias = 0;
    if (domRect.width && domRect.height) {
      let { scaleX, scaleY } = getScale(dom, domRect);
      if (scaleX > 5e-3 && Math.abs(this.scaleX - scaleX) > 5e-3 || scaleY > 5e-3 && Math.abs(this.scaleY - scaleY) > 5e-3) {
        this.scaleX = scaleX;
        this.scaleY = scaleY;
        result |= 16;
        refresh = measureContent = true;
      }
    }
    let paddingTop = (parseInt(style.paddingTop) || 0) * this.scaleY;
    let paddingBottom = (parseInt(style.paddingBottom) || 0) * this.scaleY;
    if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {
      this.paddingTop = paddingTop;
      this.paddingBottom = paddingBottom;
      result |= 16 | 2;
    }
    if (this.editorWidth != view.scrollDOM.clientWidth) {
      if (oracle.lineWrapping)
        measureContent = true;
      this.editorWidth = view.scrollDOM.clientWidth;
      result |= 16;
    }
    let scrollTop = view.scrollDOM.scrollTop * this.scaleY;
    if (this.scrollTop != scrollTop) {
      this.scrollAnchorHeight = -1;
      this.scrollTop = scrollTop;
    }
    this.scrolledToBottom = isScrolledToBottom(view.scrollDOM);
    let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);
    let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;
    this.pixelViewport = pixelViewport;
    let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;
    if (inView != this.inView) {
      this.inView = inView;
      if (inView)
        measureContent = true;
    }
    if (!this.inView && !this.scrollTarget && !inWindow(view.dom))
      return 0;
    let contentWidth = domRect.width;
    if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {
      this.contentDOMWidth = domRect.width;
      this.editorHeight = view.scrollDOM.clientHeight;
      result |= 16;
    }
    if (measureContent) {
      let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);
      if (oracle.mustRefreshForHeights(lineHeights))
        refresh = true;
      if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {
        let { lineHeight, charWidth, textHeight } = view.docView.measureTextSize();
        refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, textHeight, contentWidth / charWidth, lineHeights);
        if (refresh) {
          view.docView.minWidth = 0;
          result |= 16;
        }
      }
      if (dTop > 0 && dBottom > 0)
        bias = Math.max(dTop, dBottom);
      else if (dTop < 0 && dBottom < 0)
        bias = Math.min(dTop, dBottom);
      clearHeightChangeFlag();
      for (let vp of this.viewports) {
        let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);
        this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));
      }
      if (heightChangeFlag)
        result |= 2;
    }
    let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) || this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);
    if (viewportChange) {
      if (result & 2)
        result |= this.updateScaler();
      this.viewport = this.getViewport(bias, this.scrollTarget);
      result |= this.updateForViewport();
    }
    if (result & 2 || viewportChange)
      this.updateViewportLines();
    if (this.lineGaps.length || this.viewport.to - this.viewport.from > 2e3 << 1)
      this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));
    result |= this.computeVisibleRanges();
    if (this.mustEnforceCursorAssoc) {
      this.mustEnforceCursorAssoc = false;
      view.docView.enforceCursorAssoc();
    }
    return result;
  }
  get visibleTop() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  }
  get visibleBottom() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  }
  getViewport(bias, scrollTarget) {
    let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1e3 / 2));
    let map = this.heightMap, oracle = this.heightOracle;
    let { visibleTop, visibleBottom } = this;
    let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1e3, QueryType.ByHeight, oracle, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1e3, QueryType.ByHeight, oracle, 0, 0).to);
    if (scrollTarget) {
      let { head } = scrollTarget.range;
      if (head < viewport.from || head > viewport.to) {
        let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);
        let block = map.lineAt(head, QueryType.ByPos, oracle, 0, 0), topPos;
        if (scrollTarget.y == "center")
          topPos = (block.top + block.bottom) / 2 - viewHeight / 2;
        else if (scrollTarget.y == "start" || scrollTarget.y == "nearest" && head < viewport.from)
          topPos = block.top;
        else
          topPos = block.bottom - viewHeight;
        viewport = new Viewport(map.lineAt(topPos - 1e3 / 2, QueryType.ByHeight, oracle, 0, 0).from, map.lineAt(topPos + viewHeight + 1e3 / 2, QueryType.ByHeight, oracle, 0, 0).to);
      }
    }
    return viewport;
  }
  mapViewport(viewport, changes) {
    let from2 = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);
    return new Viewport(this.heightMap.lineAt(from2, QueryType.ByPos, this.heightOracle, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.heightOracle, 0, 0).to);
  }
  // Checks if a given viewport covers the visible part of the
  // document and not too much beyond that.
  viewportIsAppropriate({ from: from2, to }, bias = 0) {
    if (!this.inView)
      return true;
    let { top: top2 } = this.heightMap.lineAt(from2, QueryType.ByPos, this.heightOracle, 0, 0);
    let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.heightOracle, 0, 0);
    let { visibleTop, visibleBottom } = this;
    return (from2 == 0 || top2 <= visibleTop - Math.max(10, Math.min(
      -bias,
      250
      /* VP.MaxCoverMargin */
    ))) && (to == this.state.doc.length || bottom >= visibleBottom + Math.max(10, Math.min(
      bias,
      250
      /* VP.MaxCoverMargin */
    ))) && (top2 > visibleTop - 2 * 1e3 && bottom < visibleBottom + 2 * 1e3);
  }
  mapLineGaps(gaps, changes) {
    if (!gaps.length || changes.empty)
      return gaps;
    let mapped = [];
    for (let gap of gaps)
      if (!changes.touchesRange(gap.from, gap.to))
        mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size, gap.displaySize));
    return mapped;
  }
  // Computes positions in the viewport where the start or end of a
  // line should be hidden, trying to reuse existing line gaps when
  // appropriate to avoid unneccesary redraws.
  // Uses crude character-counting for the positioning and sizing,
  // since actual DOM coordinates aren't always available and
  // predictable. Relies on generous margins (see LG.Margin) to hide
  // the artifacts this might produce from the user.
  ensureLineGaps(current, mayMeasure) {
    let wrapping = this.heightOracle.lineWrapping;
    let margin = wrapping ? 1e4 : 2e3, halfMargin = margin >> 1, doubleMargin = margin << 1;
    if (this.defaultTextDirection != Direction.LTR && !wrapping)
      return [];
    let gaps = [];
    let addGap = (from2, to, line, structure) => {
      if (to - from2 < halfMargin)
        return;
      let sel = this.state.selection.main, avoid = [sel.from];
      if (!sel.empty)
        avoid.push(sel.to);
      for (let pos of avoid) {
        if (pos > from2 && pos < to) {
          addGap(from2, pos - 10, line, structure);
          addGap(pos + 10, to, line, structure);
          return;
        }
      }
      let gap = find(current, (gap2) => gap2.from >= line.from && gap2.to <= line.to && Math.abs(gap2.from - from2) < halfMargin && Math.abs(gap2.to - to) < halfMargin && !avoid.some((pos) => gap2.from < pos && gap2.to > pos));
      if (!gap) {
        if (to < line.to && mayMeasure && wrapping && mayMeasure.visibleRanges.some((r) => r.from <= to && r.to >= to)) {
          let lineStart = mayMeasure.moveToLineBoundary(EditorSelection.cursor(to), false, true).head;
          if (lineStart > from2)
            to = lineStart;
        }
        let size = this.gapSize(line, from2, to, structure);
        let displaySize = wrapping || size < 2e6 ? size : 2e6;
        gap = new LineGap(from2, to, size, displaySize);
      }
      gaps.push(gap);
    };
    let checkLine = (line) => {
      if (line.length < doubleMargin || line.type != BlockType.Text)
        return;
      let structure = lineStructure(line.from, line.to, this.stateDeco);
      if (structure.total < doubleMargin)
        return;
      let target = this.scrollTarget ? this.scrollTarget.range.head : null;
      let viewFrom, viewTo;
      if (wrapping) {
        let marginHeight = margin / this.heightOracle.lineLength * this.heightOracle.lineHeight;
        let top2, bot;
        if (target != null) {
          let targetFrac = findFraction(structure, target);
          let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;
          top2 = targetFrac - spaceFrac;
          bot = targetFrac + spaceFrac;
        } else {
          top2 = (this.visibleTop - line.top - marginHeight) / line.height;
          bot = (this.visibleBottom - line.top + marginHeight) / line.height;
        }
        viewFrom = findPosition(structure, top2);
        viewTo = findPosition(structure, bot);
      } else {
        let totalWidth = structure.total * this.heightOracle.charWidth;
        let marginWidth = margin * this.heightOracle.charWidth;
        let horizOffset = 0;
        if (totalWidth > 2e6)
          for (let old of current) {
            if (old.from >= line.from && old.from < line.to && old.size != old.displaySize && old.from * this.heightOracle.charWidth + horizOffset < this.pixelViewport.left)
              horizOffset = old.size - old.displaySize;
          }
        let pxLeft = this.pixelViewport.left + horizOffset, pxRight = this.pixelViewport.right + horizOffset;
        let left, right;
        if (target != null) {
          let targetFrac = findFraction(structure, target);
          let spaceFrac = ((pxRight - pxLeft) / 2 + marginWidth) / totalWidth;
          left = targetFrac - spaceFrac;
          right = targetFrac + spaceFrac;
        } else {
          left = (pxLeft - marginWidth) / totalWidth;
          right = (pxRight + marginWidth) / totalWidth;
        }
        viewFrom = findPosition(structure, left);
        viewTo = findPosition(structure, right);
      }
      if (viewFrom > line.from)
        addGap(line.from, viewFrom, line, structure);
      if (viewTo < line.to)
        addGap(viewTo, line.to, line, structure);
    };
    for (let line of this.viewportLines) {
      if (Array.isArray(line.type))
        line.type.forEach(checkLine);
      else
        checkLine(line);
    }
    return gaps;
  }
  gapSize(line, from2, to, structure) {
    let fraction = findFraction(structure, to) - findFraction(structure, from2);
    if (this.heightOracle.lineWrapping) {
      return line.height * fraction;
    } else {
      return structure.total * this.heightOracle.charWidth * fraction;
    }
  }
  updateLineGaps(gaps) {
    if (!LineGap.same(gaps, this.lineGaps)) {
      this.lineGaps = gaps;
      this.lineGapDeco = Decoration.set(gaps.map((gap) => gap.draw(this, this.heightOracle.lineWrapping)));
    }
  }
  computeVisibleRanges(changes) {
    let deco = this.stateDeco;
    if (this.lineGaps.length)
      deco = deco.concat(this.lineGapDeco);
    let ranges = [];
    RangeSet.spans(deco, this.viewport.from, this.viewport.to, {
      span(from2, to) {
        ranges.push({ from: from2, to });
      },
      point() {
      }
    }, 20);
    let changed = 0;
    if (ranges.length != this.visibleRanges.length) {
      changed = 8 | 4;
    } else {
      for (let i = 0; i < ranges.length && !(changed & 8); i++) {
        let old = this.visibleRanges[i], nw = ranges[i];
        if (old.from != nw.from || old.to != nw.to) {
          changed |= 4;
          if (!(changes && changes.mapPos(old.from, -1) == nw.from && changes.mapPos(old.to, 1) == nw.to))
            changed |= 8;
        }
      }
    }
    this.visibleRanges = ranges;
    return changed;
  }
  lineBlockAt(pos) {
    return pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find((b) => b.from <= pos && b.to >= pos) || scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.heightOracle, 0, 0), this.scaler);
  }
  lineBlockAtHeight(height) {
    return height >= this.viewportLines[0].top && height <= this.viewportLines[this.viewportLines.length - 1].bottom && this.viewportLines.find((l) => l.top <= height && l.bottom >= height) || scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.heightOracle, 0, 0), this.scaler);
  }
  scrollAnchorAt(scrollTop) {
    let block = this.lineBlockAtHeight(scrollTop + 8);
    return block.from >= this.viewport.from || this.viewportLines[0].top - scrollTop > 200 ? block : this.viewportLines[0];
  }
  elementAtHeight(height) {
    return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.heightOracle, 0, 0), this.scaler);
  }
  get docHeight() {
    return this.scaler.toDOM(this.heightMap.height);
  }
  get contentHeight() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  }
};
var Viewport = class {
  constructor(from2, to) {
    this.from = from2;
    this.to = to;
  }
};
function lineStructure(from2, to, stateDeco) {
  let ranges = [], pos = from2, total = 0;
  RangeSet.spans(stateDeco, from2, to, {
    span() {
    },
    point(from3, to2) {
      if (from3 > pos) {
        ranges.push({ from: pos, to: from3 });
        total += from3 - pos;
      }
      pos = to2;
    }
  }, 20);
  if (pos < to) {
    ranges.push({ from: pos, to });
    total += to - pos;
  }
  return { total, ranges };
}
function findPosition({ total, ranges }, ratio) {
  if (ratio <= 0)
    return ranges[0].from;
  if (ratio >= 1)
    return ranges[ranges.length - 1].to;
  let dist2 = Math.floor(total * ratio);
  for (let i = 0; ; i++) {
    let { from: from2, to } = ranges[i], size = to - from2;
    if (dist2 <= size)
      return from2 + dist2;
    dist2 -= size;
  }
}
function findFraction(structure, pos) {
  let counted = 0;
  for (let { from: from2, to } of structure.ranges) {
    if (pos <= to) {
      counted += pos - from2;
      break;
    }
    counted += to - from2;
  }
  return counted / structure.total;
}
function find(array2, f) {
  for (let val of array2)
    if (f(val))
      return val;
  return void 0;
}
var IdScaler = {
  toDOM(n) {
    return n;
  },
  fromDOM(n) {
    return n;
  },
  scale: 1,
  eq(other) {
    return other == this;
  }
};
var BigScaler = class _BigScaler {
  constructor(oracle, heightMap, viewports) {
    let vpHeight = 0, base2 = 0, domBase = 0;
    this.viewports = viewports.map(({ from: from2, to }) => {
      let top2 = heightMap.lineAt(from2, QueryType.ByPos, oracle, 0, 0).top;
      let bottom = heightMap.lineAt(to, QueryType.ByPos, oracle, 0, 0).bottom;
      vpHeight += bottom - top2;
      return { from: from2, to, top: top2, bottom, domTop: 0, domBottom: 0 };
    });
    this.scale = (7e6 - vpHeight) / (heightMap.height - vpHeight);
    for (let obj of this.viewports) {
      obj.domTop = domBase + (obj.top - base2) * this.scale;
      domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);
      base2 = obj.bottom;
    }
  }
  toDOM(n) {
    for (let i = 0, base2 = 0, domBase = 0; ; i++) {
      let vp = i < this.viewports.length ? this.viewports[i] : null;
      if (!vp || n < vp.top)
        return domBase + (n - base2) * this.scale;
      if (n <= vp.bottom)
        return vp.domTop + (n - vp.top);
      base2 = vp.bottom;
      domBase = vp.domBottom;
    }
  }
  fromDOM(n) {
    for (let i = 0, base2 = 0, domBase = 0; ; i++) {
      let vp = i < this.viewports.length ? this.viewports[i] : null;
      if (!vp || n < vp.domTop)
        return base2 + (n - domBase) / this.scale;
      if (n <= vp.domBottom)
        return vp.top + (n - vp.domTop);
      base2 = vp.bottom;
      domBase = vp.domBottom;
    }
  }
  eq(other) {
    if (!(other instanceof _BigScaler))
      return false;
    return this.scale == other.scale && this.viewports.length == other.viewports.length && this.viewports.every((vp, i) => vp.from == other.viewports[i].from && vp.to == other.viewports[i].to);
  }
};
function scaleBlock(block, scaler) {
  if (scaler.scale == 1)
    return block;
  let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);
  return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block._content) ? block._content.map((b) => scaleBlock(b, scaler)) : block._content);
}
var theme = /* @__PURE__ */ Facet.define({ combine: (strs) => strs.join(" ") });
var darkTheme = /* @__PURE__ */ Facet.define({ combine: (values2) => values2.indexOf(true) > -1 });
var baseThemeID = /* @__PURE__ */ StyleModule.newName();
var baseLightID = /* @__PURE__ */ StyleModule.newName();
var baseDarkID = /* @__PURE__ */ StyleModule.newName();
var lightDarkIDs = { "&light": "." + baseLightID, "&dark": "." + baseDarkID };
function buildTheme(main, spec, scopes) {
  return new StyleModule(spec, {
    finish(sel) {
      return /&/.test(sel) ? sel.replace(/&\w*/, (m) => {
        if (m == "&")
          return main;
        if (!scopes || !scopes[m])
          throw new RangeError(`Unsupported selector: ${m}`);
        return scopes[m];
      }) : main + " " + sel;
    }
  });
}
var baseTheme$1 = /* @__PURE__ */ buildTheme("." + baseThemeID, {
  "&": {
    position: "relative !important",
    boxSizing: "border-box",
    "&.cm-focused": {
      // Provide a simple default outline to make sure a focused
      // editor is visually distinct. Can't leave the default behavior
      // because that will apply to the content element, which is
      // inside the scrollable container and doesn't include the
      // gutters. We also can't use an 'auto' outline, since those
      // are, for some reason, drawn behind the element content, which
      // will cause things like the active line background to cover
      // the outline (#297).
      outline: "1px dotted #212121"
    },
    display: "flex !important",
    flexDirection: "column"
  },
  ".cm-scroller": {
    display: "flex !important",
    alignItems: "flex-start !important",
    fontFamily: "monospace",
    lineHeight: 1.4,
    height: "100%",
    overflowX: "auto",
    position: "relative",
    zIndex: 0,
    overflowAnchor: "none"
  },
  ".cm-content": {
    margin: 0,
    flexGrow: 2,
    flexShrink: 0,
    display: "block",
    whiteSpace: "pre",
    wordWrap: "normal",
    // https://github.com/codemirror/dev/issues/456
    boxSizing: "border-box",
    minHeight: "100%",
    padding: "4px 0",
    outline: "none",
    "&[contenteditable=true]": {
      WebkitUserModify: "read-write-plaintext-only"
    }
  },
  ".cm-lineWrapping": {
    whiteSpace_fallback: "pre-wrap",
    // For IE
    whiteSpace: "break-spaces",
    wordBreak: "break-word",
    // For Safari, which doesn't support overflow-wrap: anywhere
    overflowWrap: "anywhere",
    flexShrink: 1
  },
  "&light .cm-content": { caretColor: "black" },
  "&dark .cm-content": { caretColor: "white" },
  ".cm-line": {
    display: "block",
    padding: "0 2px 0 6px"
  },
  ".cm-layer": {
    position: "absolute",
    left: 0,
    top: 0,
    contain: "size style",
    "& > *": {
      position: "absolute"
    }
  },
  "&light .cm-selectionBackground": {
    background: "#d9d9d9"
  },
  "&dark .cm-selectionBackground": {
    background: "#222"
  },
  "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": {
    background: "#d7d4f0"
  },
  "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": {
    background: "#233"
  },
  ".cm-cursorLayer": {
    pointerEvents: "none"
  },
  "&.cm-focused > .cm-scroller > .cm-cursorLayer": {
    animation: "steps(1) cm-blink 1.2s infinite"
  },
  // Two animations defined so that we can switch between them to
  // restart the animation without forcing another style
  // recomputation.
  "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
  "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
  ".cm-cursor, .cm-dropCursor": {
    borderLeft: "1.2px solid black",
    marginLeft: "-0.6px",
    pointerEvents: "none"
  },
  ".cm-cursor": {
    display: "none"
  },
  "&dark .cm-cursor": {
    borderLeftColor: "#ddd"
  },
  ".cm-dropCursor": {
    position: "absolute"
  },
  "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": {
    display: "block"
  },
  ".cm-iso": {
    unicodeBidi: "isolate"
  },
  ".cm-announced": {
    position: "fixed",
    top: "-10000px"
  },
  "@media print": {
    ".cm-announced": { display: "none" }
  },
  "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
  "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
  "&light .cm-specialChar": { color: "red" },
  "&dark .cm-specialChar": { color: "#f78" },
  ".cm-gutters": {
    flexShrink: 0,
    display: "flex",
    height: "100%",
    boxSizing: "border-box",
    insetInlineStart: 0,
    zIndex: 200
  },
  "&light .cm-gutters": {
    backgroundColor: "#f5f5f5",
    color: "#6c6c6c",
    borderRight: "1px solid #ddd"
  },
  "&dark .cm-gutters": {
    backgroundColor: "#333338",
    color: "#ccc"
  },
  ".cm-gutter": {
    display: "flex !important",
    // Necessary -- prevents margin collapsing
    flexDirection: "column",
    flexShrink: 0,
    boxSizing: "border-box",
    minHeight: "100%",
    overflow: "hidden"
  },
  ".cm-gutterElement": {
    boxSizing: "border-box"
  },
  ".cm-lineNumbers .cm-gutterElement": {
    padding: "0 3px 0 5px",
    minWidth: "20px",
    textAlign: "right",
    whiteSpace: "nowrap"
  },
  "&light .cm-activeLineGutter": {
    backgroundColor: "#e2f2ff"
  },
  "&dark .cm-activeLineGutter": {
    backgroundColor: "#222227"
  },
  ".cm-panels": {
    boxSizing: "border-box",
    position: "sticky",
    left: 0,
    right: 0,
    zIndex: 300
  },
  "&light .cm-panels": {
    backgroundColor: "#f5f5f5",
    color: "black"
  },
  "&light .cm-panels-top": {
    borderBottom: "1px solid #ddd"
  },
  "&light .cm-panels-bottom": {
    borderTop: "1px solid #ddd"
  },
  "&dark .cm-panels": {
    backgroundColor: "#333338",
    color: "white"
  },
  ".cm-dialog": {
    padding: "2px 19px 4px 6px",
    position: "relative",
    "& label": { fontSize: "80%" }
  },
  ".cm-dialog-close": {
    position: "absolute",
    top: "3px",
    right: "4px",
    backgroundColor: "inherit",
    border: "none",
    font: "inherit",
    fontSize: "14px",
    padding: "0"
  },
  ".cm-tab": {
    display: "inline-block",
    overflow: "hidden",
    verticalAlign: "bottom"
  },
  ".cm-widgetBuffer": {
    verticalAlign: "text-top",
    height: "1em",
    width: 0,
    display: "inline"
  },
  ".cm-placeholder": {
    color: "#888",
    display: "inline-block",
    verticalAlign: "top",
    userSelect: "none"
  },
  ".cm-highlightSpace": {
    backgroundImage: "radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",
    backgroundPosition: "center"
  },
  ".cm-highlightTab": {
    backgroundImage: `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,
    backgroundSize: "auto 100%",
    backgroundPosition: "right 90%",
    backgroundRepeat: "no-repeat"
  },
  ".cm-trailingSpace": {
    backgroundColor: "#ff332255"
  },
  ".cm-button": {
    verticalAlign: "middle",
    color: "inherit",
    fontSize: "70%",
    padding: ".2em 1em",
    borderRadius: "1px"
  },
  "&light .cm-button": {
    backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
    border: "1px solid #888",
    "&:active": {
      backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)"
    }
  },
  "&dark .cm-button": {
    backgroundImage: "linear-gradient(#393939, #111)",
    border: "1px solid #888",
    "&:active": {
      backgroundImage: "linear-gradient(#111, #333)"
    }
  },
  ".cm-textfield": {
    verticalAlign: "middle",
    color: "inherit",
    fontSize: "70%",
    border: "1px solid silver",
    padding: ".2em .5em"
  },
  "&light .cm-textfield": {
    backgroundColor: "white"
  },
  "&dark .cm-textfield": {
    border: "1px solid #555",
    backgroundColor: "inherit"
  }
}, lightDarkIDs);
var observeOptions = {
  childList: true,
  characterData: true,
  subtree: true,
  attributes: true,
  characterDataOldValue: true
};
var useCharData = browser.ie && browser.ie_version <= 11;
var DOMObserver = class {
  constructor(view) {
    this.view = view;
    this.active = false;
    this.editContext = null;
    this.selectionRange = new DOMSelectionState();
    this.selectionChanged = false;
    this.delayedFlush = -1;
    this.resizeTimeout = -1;
    this.queue = [];
    this.delayedAndroidKey = null;
    this.flushingAndroidKey = -1;
    this.lastChange = 0;
    this.scrollTargets = [];
    this.intersection = null;
    this.resizeScroll = null;
    this.intersecting = false;
    this.gapIntersection = null;
    this.gaps = [];
    this.printQuery = null;
    this.parentCheck = -1;
    this.dom = view.contentDOM;
    this.observer = new MutationObserver((mutations) => {
      for (let mut of mutations)
        this.queue.push(mut);
      if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) && mutations.some((m) => m.type == "childList" && m.removedNodes.length || m.type == "characterData" && m.oldValue.length > m.target.nodeValue.length))
        this.flushSoon();
      else
        this.flush();
    });
    if (window.EditContext && view.constructor.EDIT_CONTEXT !== false && // Chrome <126 doesn't support inverted selections in edit context (#1392)
    !(browser.chrome && browser.chrome_version < 126)) {
      this.editContext = new EditContextManager(view);
      if (view.state.facet(editable))
        view.contentDOM.editContext = this.editContext.editContext;
    }
    if (useCharData)
      this.onCharData = (event) => {
        this.queue.push({
          target: event.target,
          type: "characterData",
          oldValue: event.prevValue
        });
        this.flushSoon();
      };
    this.onSelectionChange = this.onSelectionChange.bind(this);
    this.onResize = this.onResize.bind(this);
    this.onPrint = this.onPrint.bind(this);
    this.onScroll = this.onScroll.bind(this);
    if (window.matchMedia)
      this.printQuery = window.matchMedia("print");
    if (typeof ResizeObserver == "function") {
      this.resizeScroll = new ResizeObserver(() => {
        var _a2;
        if (((_a2 = this.view.docView) === null || _a2 === void 0 ? void 0 : _a2.lastUpdate) < Date.now() - 75)
          this.onResize();
      });
      this.resizeScroll.observe(view.scrollDOM);
    }
    this.addWindowListeners(this.win = view.win);
    this.start();
    if (typeof IntersectionObserver == "function") {
      this.intersection = new IntersectionObserver((entries) => {
        if (this.parentCheck < 0)
          this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1e3);
        if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {
          this.intersecting = !this.intersecting;
          if (this.intersecting != this.view.inView)
            this.onScrollChanged(document.createEvent("Event"));
        }
      }, { threshold: [0, 1e-3] });
      this.intersection.observe(this.dom);
      this.gapIntersection = new IntersectionObserver((entries) => {
        if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)
          this.onScrollChanged(document.createEvent("Event"));
      }, {});
    }
    this.listenForScroll();
    this.readSelectionRange();
  }
  onScrollChanged(e) {
    this.view.inputState.runHandlers("scroll", e);
    if (this.intersecting)
      this.view.measure();
  }
  onScroll(e) {
    if (this.intersecting)
      this.flush(false);
    if (this.editContext)
      this.view.requestMeasure(this.editContext.measureReq);
    this.onScrollChanged(e);
  }
  onResize() {
    if (this.resizeTimeout < 0)
      this.resizeTimeout = setTimeout(() => {
        this.resizeTimeout = -1;
        this.view.requestMeasure();
      }, 50);
  }
  onPrint(event) {
    if ((event.type == "change" || !event.type) && !event.matches)
      return;
    this.view.viewState.printing = true;
    this.view.measure();
    setTimeout(() => {
      this.view.viewState.printing = false;
      this.view.requestMeasure();
    }, 500);
  }
  updateGaps(gaps) {
    if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {
      this.gapIntersection.disconnect();
      for (let gap of gaps)
        this.gapIntersection.observe(gap);
      this.gaps = gaps;
    }
  }
  onSelectionChange(event) {
    let wasChanged = this.selectionChanged;
    if (!this.readSelectionRange() || this.delayedAndroidKey)
      return;
    let { view } = this, sel = this.selectionRange;
    if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(this.dom, sel))
      return;
    let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);
    if (context && context.ignoreEvent(event)) {
      if (!wasChanged)
        this.selectionChanged = false;
      return;
    }
    if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty && // (Selection.isCollapsed isn't reliable on IE)
    sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))
      this.flushSoon();
    else
      this.flush(false);
  }
  readSelectionRange() {
    let { view } = this;
    let selection2 = getSelection(view.root);
    if (!selection2)
      return false;
    let range = browser.safari && view.root.nodeType == 11 && view.root.activeElement == this.dom && safariSelectionRangeHack(this.view, selection2) || selection2;
    if (!range || this.selectionRange.eq(range))
      return false;
    let local = hasSelection(this.dom, range);
    if (local && !this.selectionChanged && view.inputState.lastFocusTime > Date.now() - 200 && view.inputState.lastTouchTime < Date.now() - 300 && atElementStart(this.dom, range)) {
      this.view.inputState.lastFocusTime = 0;
      view.docView.updateSelection();
      return false;
    }
    this.selectionRange.setRange(range);
    if (local)
      this.selectionChanged = true;
    return true;
  }
  setSelectionRange(anchor, head) {
    this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);
    this.selectionChanged = false;
  }
  clearSelectionRange() {
    this.selectionRange.set(null, 0, null, 0);
  }
  listenForScroll() {
    this.parentCheck = -1;
    let i = 0, changed = null;
    for (let dom = this.dom; dom; ) {
      if (dom.nodeType == 1) {
        if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)
          i++;
        else if (!changed)
          changed = this.scrollTargets.slice(0, i);
        if (changed)
          changed.push(dom);
        dom = dom.assignedSlot || dom.parentNode;
      } else if (dom.nodeType == 11) {
        dom = dom.host;
      } else {
        break;
      }
    }
    if (i < this.scrollTargets.length && !changed)
      changed = this.scrollTargets.slice(0, i);
    if (changed) {
      for (let dom of this.scrollTargets)
        dom.removeEventListener("scroll", this.onScroll);
      for (let dom of this.scrollTargets = changed)
        dom.addEventListener("scroll", this.onScroll);
    }
  }
  ignore(f) {
    if (!this.active)
      return f();
    try {
      this.stop();
      return f();
    } finally {
      this.start();
      this.clear();
    }
  }
  start() {
    if (this.active)
      return;
    this.observer.observe(this.dom, observeOptions);
    if (useCharData)
      this.dom.addEventListener("DOMCharacterDataModified", this.onCharData);
    this.active = true;
  }
  stop() {
    if (!this.active)
      return;
    this.active = false;
    this.observer.disconnect();
    if (useCharData)
      this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData);
  }
  // Throw away any pending changes
  clear() {
    this.processRecords();
    this.queue.length = 0;
    this.selectionChanged = false;
  }
  // Chrome Android, especially in combination with GBoard, not only
  // doesn't reliably fire regular key events, but also often
  // surrounds the effect of enter or backspace with a bunch of
  // composition events that, when interrupted, cause text duplication
  // or other kinds of corruption. This hack makes the editor back off
  // from handling DOM changes for a moment when such a key is
  // detected (via beforeinput or keydown), and then tries to flush
  // them or, if that has no effect, dispatches the given key.
  delayAndroidKey(key, keyCode) {
    var _a2;
    if (!this.delayedAndroidKey) {
      let flush = () => {
        let key2 = this.delayedAndroidKey;
        if (key2) {
          this.clearDelayedAndroidKey();
          this.view.inputState.lastKeyCode = key2.keyCode;
          this.view.inputState.lastKeyTime = Date.now();
          let flushed = this.flush();
          if (!flushed && key2.force)
            dispatchKey(this.dom, key2.key, key2.keyCode);
        }
      };
      this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);
    }
    if (!this.delayedAndroidKey || key == "Enter")
      this.delayedAndroidKey = {
        key,
        keyCode,
        // Only run the key handler when no changes are detected if
        // this isn't coming right after another change, in which case
        // it is probably part of a weird chain of updates, and should
        // be ignored if it returns the DOM to its previous state.
        force: this.lastChange < Date.now() - 50 || !!((_a2 = this.delayedAndroidKey) === null || _a2 === void 0 ? void 0 : _a2.force)
      };
  }
  clearDelayedAndroidKey() {
    this.win.cancelAnimationFrame(this.flushingAndroidKey);
    this.delayedAndroidKey = null;
    this.flushingAndroidKey = -1;
  }
  flushSoon() {
    if (this.delayedFlush < 0)
      this.delayedFlush = this.view.win.requestAnimationFrame(() => {
        this.delayedFlush = -1;
        this.flush();
      });
  }
  forceFlush() {
    if (this.delayedFlush >= 0) {
      this.view.win.cancelAnimationFrame(this.delayedFlush);
      this.delayedFlush = -1;
    }
    this.flush();
  }
  pendingRecords() {
    for (let mut of this.observer.takeRecords())
      this.queue.push(mut);
    return this.queue;
  }
  processRecords() {
    let records = this.pendingRecords();
    if (records.length)
      this.queue = [];
    let from2 = -1, to = -1, typeOver = false;
    for (let record of records) {
      let range = this.readMutation(record);
      if (!range)
        continue;
      if (range.typeOver)
        typeOver = true;
      if (from2 == -1) {
        ({ from: from2, to } = range);
      } else {
        from2 = Math.min(range.from, from2);
        to = Math.max(range.to, to);
      }
    }
    return { from: from2, to, typeOver };
  }
  readChange() {
    let { from: from2, to, typeOver } = this.processRecords();
    let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);
    if (from2 < 0 && !newSel)
      return null;
    if (from2 > -1)
      this.lastChange = Date.now();
    this.view.inputState.lastFocusTime = 0;
    this.selectionChanged = false;
    let change = new DOMChange(this.view, from2, to, typeOver);
    this.view.docView.domChanged = { newSel: change.newSel ? change.newSel.main : null };
    return change;
  }
  // Apply pending changes, if any
  flush(readSelection = true) {
    if (this.delayedFlush >= 0 || this.delayedAndroidKey)
      return false;
    if (readSelection)
      this.readSelectionRange();
    let domChange = this.readChange();
    if (!domChange) {
      this.view.requestMeasure();
      return false;
    }
    let startState = this.view.state;
    let handled = applyDOMChange(this.view, domChange);
    if (this.view.state == startState && (domChange.domChanged || domChange.newSel && !domChange.newSel.main.eq(this.view.state.selection.main)))
      this.view.update([]);
    return handled;
  }
  readMutation(rec) {
    let cView = this.view.docView.nearest(rec.target);
    if (!cView || cView.ignoreMutation(rec))
      return null;
    cView.markDirty(rec.type == "attributes");
    if (rec.type == "attributes")
      cView.flags |= 4;
    if (rec.type == "childList") {
      let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);
      let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);
      return {
        from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,
        to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd,
        typeOver: false
      };
    } else if (rec.type == "characterData") {
      return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };
    } else {
      return null;
    }
  }
  setWindow(win) {
    if (win != this.win) {
      this.removeWindowListeners(this.win);
      this.win = win;
      this.addWindowListeners(this.win);
    }
  }
  addWindowListeners(win) {
    win.addEventListener("resize", this.onResize);
    if (this.printQuery) {
      if (this.printQuery.addEventListener)
        this.printQuery.addEventListener("change", this.onPrint);
      else
        this.printQuery.addListener(this.onPrint);
    } else
      win.addEventListener("beforeprint", this.onPrint);
    win.addEventListener("scroll", this.onScroll);
    win.document.addEventListener("selectionchange", this.onSelectionChange);
  }
  removeWindowListeners(win) {
    win.removeEventListener("scroll", this.onScroll);
    win.removeEventListener("resize", this.onResize);
    if (this.printQuery) {
      if (this.printQuery.removeEventListener)
        this.printQuery.removeEventListener("change", this.onPrint);
      else
        this.printQuery.removeListener(this.onPrint);
    } else
      win.removeEventListener("beforeprint", this.onPrint);
    win.document.removeEventListener("selectionchange", this.onSelectionChange);
  }
  update(update) {
    if (this.editContext) {
      this.editContext.update(update);
      if (update.startState.facet(editable) != update.state.facet(editable))
        update.view.contentDOM.editContext = update.state.facet(editable) ? this.editContext.editContext : null;
    }
  }
  destroy() {
    var _a2, _b, _c;
    this.stop();
    (_a2 = this.intersection) === null || _a2 === void 0 ? void 0 : _a2.disconnect();
    (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();
    (_c = this.resizeScroll) === null || _c === void 0 ? void 0 : _c.disconnect();
    for (let dom of this.scrollTargets)
      dom.removeEventListener("scroll", this.onScroll);
    this.removeWindowListeners(this.win);
    clearTimeout(this.parentCheck);
    clearTimeout(this.resizeTimeout);
    this.win.cancelAnimationFrame(this.delayedFlush);
    this.win.cancelAnimationFrame(this.flushingAndroidKey);
    if (this.editContext) {
      this.view.contentDOM.editContext = null;
      this.editContext.destroy();
    }
  }
};
function findChild(cView, dom, dir) {
  while (dom) {
    let curView = ContentView.get(dom);
    if (curView && curView.parent == cView)
      return curView;
    let parent = dom.parentNode;
    dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;
  }
  return null;
}
function buildSelectionRangeFromRange(view, range) {
  let anchorNode = range.startContainer, anchorOffset = range.startOffset;
  let focusNode = range.endContainer, focusOffset = range.endOffset;
  let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);
  if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))
    [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];
  return { anchorNode, anchorOffset, focusNode, focusOffset };
}
function safariSelectionRangeHack(view, selection2) {
  if (selection2.getComposedRanges) {
    let range = selection2.getComposedRanges(view.root)[0];
    if (range)
      return buildSelectionRangeFromRange(view, range);
  }
  let found = null;
  function read(event) {
    event.preventDefault();
    event.stopImmediatePropagation();
    found = event.getTargetRanges()[0];
  }
  view.contentDOM.addEventListener("beforeinput", read, true);
  view.dom.ownerDocument.execCommand("indent");
  view.contentDOM.removeEventListener("beforeinput", read, true);
  return found ? buildSelectionRangeFromRange(view, found) : null;
}
var EditContextManager = class {
  constructor(view) {
    this.from = 0;
    this.to = 0;
    this.pendingContextChange = null;
    this.handlers = /* @__PURE__ */ Object.create(null);
    this.composing = null;
    this.resetRange(view.state);
    let context = this.editContext = new window.EditContext({
      text: view.state.doc.sliceString(this.from, this.to),
      selectionStart: this.toContextPos(Math.max(this.from, Math.min(this.to, view.state.selection.main.anchor))),
      selectionEnd: this.toContextPos(view.state.selection.main.head)
    });
    this.handlers.textupdate = (e) => {
      let main = view.state.selection.main, { anchor, head } = main;
      let from2 = this.toEditorPos(e.updateRangeStart), to = this.toEditorPos(e.updateRangeEnd);
      if (view.inputState.composing >= 0 && !this.composing)
        this.composing = { contextBase: e.updateRangeStart, editorBase: from2, drifted: false };
      let change = { from: from2, to, insert: Text.of(e.text.split("\n")) };
      if (change.from == this.from && anchor < this.from)
        change.from = anchor;
      else if (change.to == this.to && anchor > this.to)
        change.to = anchor;
      if (change.from == change.to && !change.insert.length) {
        let newSel = EditorSelection.single(this.toEditorPos(e.selectionStart), this.toEditorPos(e.selectionEnd));
        if (!newSel.main.eq(main))
          view.dispatch({ selection: newSel, userEvent: "select" });
        return;
      }
      if ((browser.mac || browser.android) && change.from == head - 1 && /^\. ?$/.test(e.text) && view.contentDOM.getAttribute("autocorrect") == "off")
        change = { from: from2, to, insert: Text.of([e.text.replace(".", " ")]) };
      this.pendingContextChange = change;
      if (!view.state.readOnly) {
        let newLen = this.to - this.from + (change.to - change.from + change.insert.length);
        applyDOMChangeInner(view, change, EditorSelection.single(this.toEditorPos(e.selectionStart, newLen), this.toEditorPos(e.selectionEnd, newLen)));
      }
      if (this.pendingContextChange) {
        this.revertPending(view.state);
        this.setSelection(view.state);
      }
    };
    this.handlers.characterboundsupdate = (e) => {
      let rects = [], prev = null;
      for (let i = this.toEditorPos(e.rangeStart), end = this.toEditorPos(e.rangeEnd); i < end; i++) {
        let rect = view.coordsForChar(i);
        prev = rect && new DOMRect(rect.left, rect.top, rect.right - rect.left, rect.bottom - rect.top) || prev || new DOMRect();
        rects.push(prev);
      }
      context.updateCharacterBounds(e.rangeStart, rects);
    };
    this.handlers.textformatupdate = (e) => {
      let deco = [];
      for (let format of e.getTextFormats()) {
        let lineStyle = format.underlineStyle, thickness = format.underlineThickness;
        if (lineStyle != "None" && thickness != "None") {
          let from2 = this.toEditorPos(format.rangeStart), to = this.toEditorPos(format.rangeEnd);
          if (from2 < to) {
            let style = `text-decoration: underline ${lineStyle == "Dashed" ? "dashed " : lineStyle == "Squiggle" ? "wavy " : ""}${thickness == "Thin" ? 1 : 2}px`;
            deco.push(Decoration.mark({ attributes: { style } }).range(from2, to));
          }
        }
      }
      view.dispatch({ effects: setEditContextFormatting.of(Decoration.set(deco)) });
    };
    this.handlers.compositionstart = () => {
      if (view.inputState.composing < 0) {
        view.inputState.composing = 0;
        view.inputState.compositionFirstChange = true;
      }
    };
    this.handlers.compositionend = () => {
      view.inputState.composing = -1;
      view.inputState.compositionFirstChange = null;
      if (this.composing) {
        let { drifted } = this.composing;
        this.composing = null;
        if (drifted)
          this.reset(view.state);
      }
    };
    for (let event in this.handlers)
      context.addEventListener(event, this.handlers[event]);
    this.measureReq = { read: (view2) => {
      this.editContext.updateControlBounds(view2.contentDOM.getBoundingClientRect());
      let sel = getSelection(view2.root);
      if (sel && sel.rangeCount)
        this.editContext.updateSelectionBounds(sel.getRangeAt(0).getBoundingClientRect());
    } };
  }
  applyEdits(update) {
    let off = 0, abort = false, pending = this.pendingContextChange;
    update.changes.iterChanges((fromA, toA, _fromB, _toB, insert2) => {
      if (abort)
        return;
      let dLen = insert2.length - (toA - fromA);
      if (pending && toA >= pending.to) {
        if (pending.from == fromA && pending.to == toA && pending.insert.eq(insert2)) {
          pending = this.pendingContextChange = null;
          off += dLen;
          this.to += dLen;
          return;
        } else {
          pending = null;
          this.revertPending(update.state);
        }
      }
      fromA += off;
      toA += off;
      if (toA <= this.from) {
        this.from += dLen;
        this.to += dLen;
      } else if (fromA < this.to) {
        if (fromA < this.from || toA > this.to || this.to - this.from + insert2.length > 3e4) {
          abort = true;
          return;
        }
        this.editContext.updateText(this.toContextPos(fromA), this.toContextPos(toA), insert2.toString());
        this.to += dLen;
      }
      off += dLen;
    });
    if (pending && !abort)
      this.revertPending(update.state);
    return !abort;
  }
  update(update) {
    let reverted = this.pendingContextChange, startSel = update.startState.selection.main;
    if (this.composing && (this.composing.drifted || !update.changes.touchesRange(startSel.from, startSel.to) && update.transactions.some((tr) => !tr.isUserEvent("input.type") && tr.changes.touchesRange(this.from, this.to)))) {
      this.composing.drifted = true;
      this.composing.editorBase = update.changes.mapPos(this.composing.editorBase);
    } else if (!this.applyEdits(update) || !this.rangeIsValid(update.state)) {
      this.pendingContextChange = null;
      this.reset(update.state);
    } else if (update.docChanged || update.selectionSet || reverted) {
      this.setSelection(update.state);
    }
    if (update.geometryChanged || update.docChanged || update.selectionSet)
      update.view.requestMeasure(this.measureReq);
  }
  resetRange(state) {
    let { head } = state.selection.main;
    this.from = Math.max(
      0,
      head - 1e4
      /* CxVp.Margin */
    );
    this.to = Math.min(
      state.doc.length,
      head + 1e4
      /* CxVp.Margin */
    );
  }
  reset(state) {
    this.resetRange(state);
    this.editContext.updateText(0, this.editContext.text.length, state.doc.sliceString(this.from, this.to));
    this.setSelection(state);
  }
  revertPending(state) {
    let pending = this.pendingContextChange;
    this.pendingContextChange = null;
    this.editContext.updateText(this.toContextPos(pending.from), this.toContextPos(pending.from + pending.insert.length), state.doc.sliceString(pending.from, pending.to));
  }
  setSelection(state) {
    let { main } = state.selection;
    let start = this.toContextPos(Math.max(this.from, Math.min(this.to, main.anchor)));
    let end = this.toContextPos(main.head);
    if (this.editContext.selectionStart != start || this.editContext.selectionEnd != end)
      this.editContext.updateSelection(start, end);
  }
  rangeIsValid(state) {
    let { head } = state.selection.main;
    return !(this.from > 0 && head - this.from < 500 || this.to < state.doc.length && this.to - head < 500 || this.to - this.from > 1e4 * 3);
  }
  toEditorPos(contextPos, clipLen = this.to - this.from) {
    contextPos = Math.min(contextPos, clipLen);
    let c = this.composing;
    return c && c.drifted ? c.editorBase + (contextPos - c.contextBase) : contextPos + this.from;
  }
  toContextPos(editorPos) {
    let c = this.composing;
    return c && c.drifted ? c.contextBase + (editorPos - c.editorBase) : editorPos - this.from;
  }
  destroy() {
    for (let event in this.handlers)
      this.editContext.removeEventListener(event, this.handlers[event]);
  }
};
var EditorView = class _EditorView {
  /**
  The current editor state.
  */
  get state() {
    return this.viewState.state;
  }
  /**
  To be able to display large documents without consuming too much
  memory or overloading the browser, CodeMirror only draws the
  code that is visible (plus a margin around it) to the DOM. This
  property tells you the extent of the current drawn viewport, in
  document positions.
  */
  get viewport() {
    return this.viewState.viewport;
  }
  /**
  When there are, for example, large collapsed ranges in the
  viewport, its size can be a lot bigger than the actual visible
  content. Thus, if you are doing something like styling the
  content in the viewport, it is preferable to only do so for
  these ranges, which are the subset of the viewport that is
  actually drawn.
  */
  get visibleRanges() {
    return this.viewState.visibleRanges;
  }
  /**
  Returns false when the editor is entirely scrolled out of view
  or otherwise hidden.
  */
  get inView() {
    return this.viewState.inView;
  }
  /**
  Indicates whether the user is currently composing text via
  [IME](https://en.wikipedia.org/wiki/Input_method), and at least
  one change has been made in the current composition.
  */
  get composing() {
    return !!this.inputState && this.inputState.composing > 0;
  }
  /**
  Indicates whether the user is currently in composing state. Note
  that on some platforms, like Android, this will be the case a
  lot, since just putting the cursor on a word starts a
  composition there.
  */
  get compositionStarted() {
    return !!this.inputState && this.inputState.composing >= 0;
  }
  /**
  The document or shadow root that the view lives in.
  */
  get root() {
    return this._root;
  }
  /**
  @internal
  */
  get win() {
    return this.dom.ownerDocument.defaultView || window;
  }
  /**
  Construct a new view. You'll want to either provide a `parent`
  option, or put `view.dom` into your document after creating a
  view, so that the user can see the editor.
  */
  constructor(config2 = {}) {
    var _a2;
    this.plugins = [];
    this.pluginMap = /* @__PURE__ */ new Map();
    this.editorAttrs = {};
    this.contentAttrs = {};
    this.bidiCache = [];
    this.destroyed = false;
    this.updateState = 2;
    this.measureScheduled = -1;
    this.measureRequests = [];
    this.contentDOM = document.createElement("div");
    this.scrollDOM = document.createElement("div");
    this.scrollDOM.tabIndex = -1;
    this.scrollDOM.className = "cm-scroller";
    this.scrollDOM.appendChild(this.contentDOM);
    this.announceDOM = document.createElement("div");
    this.announceDOM.className = "cm-announced";
    this.announceDOM.setAttribute("aria-live", "polite");
    this.dom = document.createElement("div");
    this.dom.appendChild(this.announceDOM);
    this.dom.appendChild(this.scrollDOM);
    if (config2.parent)
      config2.parent.appendChild(this.dom);
    let { dispatch } = config2;
    this.dispatchTransactions = config2.dispatchTransactions || dispatch && ((trs) => trs.forEach((tr) => dispatch(tr, this))) || ((trs) => this.update(trs));
    this.dispatch = this.dispatch.bind(this);
    this._root = config2.root || getRoot(config2.parent) || document;
    this.viewState = new ViewState(config2.state || EditorState.create(config2));
    if (config2.scrollTo && config2.scrollTo.is(scrollIntoView))
      this.viewState.scrollTarget = config2.scrollTo.value.clip(this.viewState.state);
    this.plugins = this.state.facet(viewPlugin).map((spec) => new PluginInstance(spec));
    for (let plugin of this.plugins)
      plugin.update(this);
    this.observer = new DOMObserver(this);
    this.inputState = new InputState(this);
    this.inputState.ensureHandlers(this.plugins);
    this.docView = new DocView(this);
    this.mountStyles();
    this.updateAttrs();
    this.updateState = 0;
    this.requestMeasure();
    if ((_a2 = document.fonts) === null || _a2 === void 0 ? void 0 : _a2.ready)
      document.fonts.ready.then(() => this.requestMeasure());
  }
  dispatch(...input) {
    let trs = input.length == 1 && input[0] instanceof Transaction ? input : input.length == 1 && Array.isArray(input[0]) ? input[0] : [this.state.update(...input)];
    this.dispatchTransactions(trs, this);
  }
  /**
  Update the view for the given array of transactions. This will
  update the visible document and selection to match the state
  produced by the transactions, and notify view plugins of the
  change. You should usually call
  [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this
  as a primitive.
  */
  update(transactions) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
    let redrawn = false, attrsChanged = false, update;
    let state = this.state;
    for (let tr of transactions) {
      if (tr.startState != state)
        throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
      state = tr.state;
    }
    if (this.destroyed) {
      this.viewState.state = state;
      return;
    }
    let focus = this.hasFocus, focusFlag = 0, dispatchFocus = null;
    if (transactions.some((tr) => tr.annotation(isFocusChange))) {
      this.inputState.notifiedFocused = focus;
      focusFlag = 1;
    } else if (focus != this.inputState.notifiedFocused) {
      this.inputState.notifiedFocused = focus;
      dispatchFocus = focusChangeTransaction(state, focus);
      if (!dispatchFocus)
        focusFlag = 1;
    }
    let pendingKey = this.observer.delayedAndroidKey, domChange = null;
    if (pendingKey) {
      this.observer.clearDelayedAndroidKey();
      domChange = this.observer.readChange();
      if (domChange && !this.state.doc.eq(state.doc) || !this.state.selection.eq(state.selection))
        domChange = null;
    } else {
      this.observer.clear();
    }
    if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))
      return this.setState(state);
    update = ViewUpdate.create(this, state, transactions);
    update.flags |= focusFlag;
    let scrollTarget = this.viewState.scrollTarget;
    try {
      this.updateState = 2;
      for (let tr of transactions) {
        if (scrollTarget)
          scrollTarget = scrollTarget.map(tr.changes);
        if (tr.scrollIntoView) {
          let { main } = tr.state.selection;
          scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));
        }
        for (let e of tr.effects)
          if (e.is(scrollIntoView))
            scrollTarget = e.value.clip(this.state);
      }
      this.viewState.update(update, scrollTarget);
      this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);
      if (!update.empty) {
        this.updatePlugins(update);
        this.inputState.update(update);
      }
      redrawn = this.docView.update(update);
      if (this.state.facet(styleModule) != this.styleModules)
        this.mountStyles();
      attrsChanged = this.updateAttrs();
      this.showAnnouncements(transactions);
      this.docView.updateSelection(redrawn, transactions.some((tr) => tr.isUserEvent("select.pointer")));
    } finally {
      this.updateState = 0;
    }
    if (update.startState.facet(theme) != update.state.facet(theme))
      this.viewState.mustMeasureContent = true;
    if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)
      this.requestMeasure();
    if (redrawn)
      this.docViewUpdate();
    if (!update.empty)
      for (let listener of this.state.facet(updateListener)) {
        try {
          listener(update);
        } catch (e) {
          logException(this.state, e, "update listener");
        }
      }
    if (dispatchFocus || domChange)
      Promise.resolve().then(() => {
        if (dispatchFocus && this.state == dispatchFocus.startState)
          this.dispatch(dispatchFocus);
        if (domChange) {
          if (!applyDOMChange(this, domChange) && pendingKey.force)
            dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);
        }
      });
  }
  /**
  Reset the view to the given state. (This will cause the entire
  document to be redrawn and all view plugins to be reinitialized,
  so you should probably only use it when the new state isn't
  derived from the old state. Otherwise, use
  [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)
  */
  setState(newState) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
    if (this.destroyed) {
      this.viewState.state = newState;
      return;
    }
    this.updateState = 2;
    let hadFocus = this.hasFocus;
    try {
      for (let plugin of this.plugins)
        plugin.destroy(this);
      this.viewState = new ViewState(newState);
      this.plugins = newState.facet(viewPlugin).map((spec) => new PluginInstance(spec));
      this.pluginMap.clear();
      for (let plugin of this.plugins)
        plugin.update(this);
      this.docView.destroy();
      this.docView = new DocView(this);
      this.inputState.ensureHandlers(this.plugins);
      this.mountStyles();
      this.updateAttrs();
      this.bidiCache = [];
    } finally {
      this.updateState = 0;
    }
    if (hadFocus)
      this.focus();
    this.requestMeasure();
  }
  updatePlugins(update) {
    let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);
    if (prevSpecs != specs) {
      let newPlugins = [];
      for (let spec of specs) {
        let found = prevSpecs.indexOf(spec);
        if (found < 0) {
          newPlugins.push(new PluginInstance(spec));
        } else {
          let plugin = this.plugins[found];
          plugin.mustUpdate = update;
          newPlugins.push(plugin);
        }
      }
      for (let plugin of this.plugins)
        if (plugin.mustUpdate != update)
          plugin.destroy(this);
      this.plugins = newPlugins;
      this.pluginMap.clear();
    } else {
      for (let p of this.plugins)
        p.mustUpdate = update;
    }
    for (let i = 0; i < this.plugins.length; i++)
      this.plugins[i].update(this);
    if (prevSpecs != specs)
      this.inputState.ensureHandlers(this.plugins);
  }
  docViewUpdate() {
    for (let plugin of this.plugins) {
      let val = plugin.value;
      if (val && val.docViewUpdate) {
        try {
          val.docViewUpdate(this);
        } catch (e) {
          logException(this.state, e, "doc view update listener");
        }
      }
    }
  }
  /**
  @internal
  */
  measure(flush = true) {
    if (this.destroyed)
      return;
    if (this.measureScheduled > -1)
      this.win.cancelAnimationFrame(this.measureScheduled);
    if (this.observer.delayedAndroidKey) {
      this.measureScheduled = -1;
      this.requestMeasure();
      return;
    }
    this.measureScheduled = 0;
    if (flush)
      this.observer.forceFlush();
    let updated = null;
    let sDOM = this.scrollDOM, scrollTop = sDOM.scrollTop * this.scaleY;
    let { scrollAnchorPos, scrollAnchorHeight } = this.viewState;
    if (Math.abs(scrollTop - this.viewState.scrollTop) > 1)
      scrollAnchorHeight = -1;
    this.viewState.scrollAnchorHeight = -1;
    try {
      for (let i = 0; ; i++) {
        if (scrollAnchorHeight < 0) {
          if (isScrolledToBottom(sDOM)) {
            scrollAnchorPos = -1;
            scrollAnchorHeight = this.viewState.heightMap.height;
          } else {
            let block = this.viewState.scrollAnchorAt(scrollTop);
            scrollAnchorPos = block.from;
            scrollAnchorHeight = block.top;
          }
        }
        this.updateState = 1;
        let changed = this.viewState.measure(this);
        if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)
          break;
        if (i > 5) {
          console.warn(this.measureRequests.length ? "Measure loop restarted more than 5 times" : "Viewport failed to stabilize");
          break;
        }
        let measuring = [];
        if (!(changed & 4))
          [this.measureRequests, measuring] = [measuring, this.measureRequests];
        let measured = measuring.map((m) => {
          try {
            return m.read(this);
          } catch (e) {
            logException(this.state, e);
            return BadMeasure;
          }
        });
        let update = ViewUpdate.create(this, this.state, []), redrawn = false;
        update.flags |= changed;
        if (!updated)
          updated = update;
        else
          updated.flags |= changed;
        this.updateState = 2;
        if (!update.empty) {
          this.updatePlugins(update);
          this.inputState.update(update);
          this.updateAttrs();
          redrawn = this.docView.update(update);
          if (redrawn)
            this.docViewUpdate();
        }
        for (let i2 = 0; i2 < measuring.length; i2++)
          if (measured[i2] != BadMeasure) {
            try {
              let m = measuring[i2];
              if (m.write)
                m.write(measured[i2], this);
            } catch (e) {
              logException(this.state, e);
            }
          }
        if (redrawn)
          this.docView.updateSelection(true);
        if (!update.viewportChanged && this.measureRequests.length == 0) {
          if (this.viewState.editorHeight) {
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget);
              this.viewState.scrollTarget = null;
              scrollAnchorHeight = -1;
              continue;
            } else {
              let newAnchorHeight = scrollAnchorPos < 0 ? this.viewState.heightMap.height : this.viewState.lineBlockAt(scrollAnchorPos).top;
              let diff = newAnchorHeight - scrollAnchorHeight;
              if (diff > 1 || diff < -1) {
                scrollTop = scrollTop + diff;
                sDOM.scrollTop = scrollTop / this.scaleY;
                scrollAnchorHeight = -1;
                continue;
              }
            }
          }
          break;
        }
      }
    } finally {
      this.updateState = 0;
      this.measureScheduled = -1;
    }
    if (updated && !updated.empty)
      for (let listener of this.state.facet(updateListener))
        listener(updated);
  }
  /**
  Get the CSS classes for the currently active editor themes.
  */
  get themeClasses() {
    return baseThemeID + " " + (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + " " + this.state.facet(theme);
  }
  updateAttrs() {
    let editorAttrs = attrsFromFacet(this, editorAttributes, {
      class: "cm-editor" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses
    });
    let contentAttrs = {
      spellcheck: "false",
      autocorrect: "off",
      autocapitalize: "off",
      writingsuggestions: "false",
      translate: "no",
      contenteditable: !this.state.facet(editable) ? "false" : "true",
      class: "cm-content",
      style: `${browser.tabSize}: ${this.state.tabSize}`,
      role: "textbox",
      "aria-multiline": "true"
    };
    if (this.state.readOnly)
      contentAttrs["aria-readonly"] = "true";
    attrsFromFacet(this, contentAttributes, contentAttrs);
    let changed = this.observer.ignore(() => {
      let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);
      let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);
      return changedContent || changedEditor;
    });
    this.editorAttrs = editorAttrs;
    this.contentAttrs = contentAttrs;
    return changed;
  }
  showAnnouncements(trs) {
    let first = true;
    for (let tr of trs)
      for (let effect of tr.effects)
        if (effect.is(_EditorView.announce)) {
          if (first)
            this.announceDOM.textContent = "";
          first = false;
          let div = this.announceDOM.appendChild(document.createElement("div"));
          div.textContent = effect.value;
        }
  }
  mountStyles() {
    this.styleModules = this.state.facet(styleModule);
    let nonce = this.state.facet(_EditorView.cspNonce);
    StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse(), nonce ? { nonce } : void 0);
  }
  readMeasured() {
    if (this.updateState == 2)
      throw new Error("Reading the editor layout isn't allowed during an update");
    if (this.updateState == 0 && this.measureScheduled > -1)
      this.measure(false);
  }
  /**
  Schedule a layout measurement, optionally providing callbacks to
  do custom DOM measuring followed by a DOM write phase. Using
  this is preferable reading DOM layout directly from, for
  example, an event handler, because it'll make sure measuring and
  drawing done by other components is synchronized, avoiding
  unnecessary DOM layout computations.
  */
  requestMeasure(request) {
    if (this.measureScheduled < 0)
      this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());
    if (request) {
      if (this.measureRequests.indexOf(request) > -1)
        return;
      if (request.key != null)
        for (let i = 0; i < this.measureRequests.length; i++) {
          if (this.measureRequests[i].key === request.key) {
            this.measureRequests[i] = request;
            return;
          }
        }
      this.measureRequests.push(request);
    }
  }
  /**
  Get the value of a specific plugin, if present. Note that
  plugins that crash can be dropped from a view, so even when you
  know you registered a given plugin, it is recommended to check
  the return value of this method.
  */
  plugin(plugin) {
    let known = this.pluginMap.get(plugin);
    if (known === void 0 || known && known.plugin != plugin)
      this.pluginMap.set(plugin, known = this.plugins.find((p) => p.plugin == plugin) || null);
    return known && known.update(this).value;
  }
  /**
  The top position of the document, in screen coordinates. This
  may be negative when the editor is scrolled down. Points
  directly to the top of the first line, not above the padding.
  */
  get documentTop() {
    return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;
  }
  /**
  Reports the padding above and below the document.
  */
  get documentPadding() {
    return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };
  }
  /**
  If the editor is transformed with CSS, this provides the scale
  along the X axis. Otherwise, it will just be 1. Note that
  transforms other than translation and scaling are not supported.
  */
  get scaleX() {
    return this.viewState.scaleX;
  }
  /**
  Provide the CSS transformed scale along the Y axis.
  */
  get scaleY() {
    return this.viewState.scaleY;
  }
  /**
  Find the text line or block widget at the given vertical
  position (which is interpreted as relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).
  */
  elementAtHeight(height) {
    this.readMeasured();
    return this.viewState.elementAtHeight(height);
  }
  /**
  Find the line block (see
  [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given
  height, again interpreted relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).
  */
  lineBlockAtHeight(height) {
    this.readMeasured();
    return this.viewState.lineBlockAtHeight(height);
  }
  /**
  Get the extent and vertical position of all [line
  blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions
  are relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);
  */
  get viewportLineBlocks() {
    return this.viewState.viewportLines;
  }
  /**
  Find the line block around the given document position. A line
  block is a range delimited on both sides by either a
  non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line break, or the
  start/end of the document. It will usually just hold a line of
  text, but may be broken into multiple textblocks by block
  widgets.
  */
  lineBlockAt(pos) {
    return this.viewState.lineBlockAt(pos);
  }
  /**
  The editor's total content height.
  */
  get contentHeight() {
    return this.viewState.contentHeight;
  }
  /**
  Move a cursor position by [grapheme
  cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether
  the motion is away from the line start, or towards it. In
  bidirectional text, the line is traversed in visual order, using
  the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).
  When the start position was the last one on the line, the
  returned position will be across the line break. If there is no
  further line, the original position is returned.
  
  By default, this method moves over a single cluster. The
  optional `by` argument can be used to move across more. It will
  be called with the first cluster as argument, and should return
  a predicate that determines, for each subsequent cluster,
  whether it should also be moved over.
  */
  moveByChar(start, forward, by) {
    return skipAtoms(this, start, moveByChar(this, start, forward, by));
  }
  /**
  Move a cursor position across the next group of either
  [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter
  non-whitespace characters.
  */
  moveByGroup(start, forward) {
    return skipAtoms(this, start, moveByChar(this, start, forward, (initial) => byGroup(this, start.head, initial)));
  }
  /**
  Get the cursor position visually at the start or end of a line.
  Note that this may differ from the _logical_ position at its
  start or end (which is simply at `line.from`/`line.to`) if text
  at the start or end goes against the line's base text direction.
  */
  visualLineSide(line, end) {
    let order = this.bidiSpans(line), dir = this.textDirectionAt(line.from);
    let span = order[end ? order.length - 1 : 0];
    return EditorSelection.cursor(span.side(end, dir) + line.from, span.forward(!end, dir) ? 1 : -1);
  }
  /**
  Move to the next line boundary in the given direction. If
  `includeWrap` is true, line wrapping is on, and there is a
  further wrap point on the current line, the wrap point will be
  returned. Otherwise this function will return the start or end
  of the line.
  */
  moveToLineBoundary(start, forward, includeWrap = true) {
    return moveToLineBoundary(this, start, forward, includeWrap);
  }
  /**
  Move a cursor position vertically. When `distance` isn't given,
  it defaults to moving to the next line (including wrapped
  lines). Otherwise, `distance` should provide a positive distance
  in pixels.
  
  When `start` has a
  [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical
  motion will use that as a target horizontal position. Otherwise,
  the cursor's own horizontal position is used. The returned
  cursor will have its goal column set to whichever column was
  used.
  */
  moveVertically(start, forward, distance) {
    return skipAtoms(this, start, moveVertically(this, start, forward, distance));
  }
  /**
  Find the DOM parent node and offset (child offset if `node` is
  an element, character offset when it is a text node) at the
  given document position.
  
  Note that for positions that aren't currently in
  `visibleRanges`, the resulting DOM position isn't necessarily
  meaningful (it may just point before or after a placeholder
  element).
  */
  domAtPos(pos) {
    return this.docView.domAtPos(pos);
  }
  /**
  Find the document position at the given DOM node. Can be useful
  for associating positions with DOM events. Will raise an error
  when `node` isn't part of the editor content.
  */
  posAtDOM(node, offset = 0) {
    return this.docView.posFromDOM(node, offset);
  }
  posAtCoords(coords, precise = true) {
    this.readMeasured();
    return posAtCoords(this, coords, precise);
  }
  /**
  Get the screen coordinates at the given document position.
  `side` determines whether the coordinates are based on the
  element before (-1) or after (1) the position (if no element is
  available on the given side, the method will transparently use
  another strategy to get reasonable coordinates).
  */
  coordsAtPos(pos, side = 1) {
    this.readMeasured();
    let rect = this.docView.coordsAt(pos, side);
    if (!rect || rect.left == rect.right)
      return rect;
    let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);
    let span = order[BidiSpan.find(order, pos - line.from, -1, side)];
    return flattenRect(rect, span.dir == Direction.LTR == side > 0);
  }
  /**
  Return the rectangle around a given character. If `pos` does not
  point in front of a character that is in the viewport and
  rendered (i.e. not replaced, not a line break), this will return
  null. For space characters that are a line wrap point, this will
  return the position before the line break.
  */
  coordsForChar(pos) {
    this.readMeasured();
    return this.docView.coordsForChar(pos);
  }
  /**
  The default width of a character in the editor. May not
  accurately reflect the width of all characters (given variable
  width fonts or styling of invididual ranges).
  */
  get defaultCharacterWidth() {
    return this.viewState.heightOracle.charWidth;
  }
  /**
  The default height of a line in the editor. May not be accurate
  for all lines.
  */
  get defaultLineHeight() {
    return this.viewState.heightOracle.lineHeight;
  }
  /**
  The text direction
  ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)
  CSS property) of the editor's content element.
  */
  get textDirection() {
    return this.viewState.defaultTextDirection;
  }
  /**
  Find the text direction of the block at the given position, as
  assigned by CSS. If
  [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)
  isn't enabled, or the given position is outside of the viewport,
  this will always return the same as
  [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that
  this may trigger a DOM layout.
  */
  textDirectionAt(pos) {
    let perLine = this.state.facet(perLineTextDirection);
    if (!perLine || pos < this.viewport.from || pos > this.viewport.to)
      return this.textDirection;
    this.readMeasured();
    return this.docView.textDirectionAt(pos);
  }
  /**
  Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)
  (as determined by the
  [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)
  CSS property of its content element).
  */
  get lineWrapping() {
    return this.viewState.heightOracle.lineWrapping;
  }
  /**
  Returns the bidirectional text structure of the given line
  (which should be in the current document) as an array of span
  objects. The order of these spans matches the [text
  direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)—if that is
  left-to-right, the leftmost spans come first, otherwise the
  rightmost spans come first.
  */
  bidiSpans(line) {
    if (line.length > MaxBidiLine)
      return trivialOrder(line.length);
    let dir = this.textDirectionAt(line.from), isolates;
    for (let entry of this.bidiCache) {
      if (entry.from == line.from && entry.dir == dir && (entry.fresh || isolatesEq(entry.isolates, isolates = getIsolatedRanges(this, line))))
        return entry.order;
    }
    if (!isolates)
      isolates = getIsolatedRanges(this, line);
    let order = computeOrder(line.text, dir, isolates);
    this.bidiCache.push(new CachedOrder(line.from, line.to, dir, isolates, true, order));
    return order;
  }
  /**
  Check whether the editor has focus.
  */
  get hasFocus() {
    var _a2;
    return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a2 = this.inputState) === null || _a2 === void 0 ? void 0 : _a2.lastContextMenu) > Date.now() - 3e4) && this.root.activeElement == this.contentDOM;
  }
  /**
  Put focus on the editor.
  */
  focus() {
    this.observer.ignore(() => {
      focusPreventScroll(this.contentDOM);
      this.docView.updateSelection();
    });
  }
  /**
  Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only
  necessary when moving the editor's existing DOM to a new window or shadow root.
  */
  setRoot(root) {
    if (this._root != root) {
      this._root = root;
      this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);
      this.mountStyles();
    }
  }
  /**
  Clean up this editor view, removing its element from the
  document, unregistering event handlers, and notifying
  plugins. The view instance can no longer be used after
  calling this.
  */
  destroy() {
    if (this.root.activeElement == this.contentDOM)
      this.contentDOM.blur();
    for (let plugin of this.plugins)
      plugin.destroy(this);
    this.plugins = [];
    this.inputState.destroy();
    this.docView.destroy();
    this.dom.remove();
    this.observer.destroy();
    if (this.measureScheduled > -1)
      this.win.cancelAnimationFrame(this.measureScheduled);
    this.destroyed = true;
  }
  /**
  Returns an effect that can be
  [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to
  cause it to scroll the given position or range into view.
  */
  static scrollIntoView(pos, options = {}) {
    return scrollIntoView.of(new ScrollTarget(typeof pos == "number" ? EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));
  }
  /**
  Return an effect that resets the editor to its current (at the
  time this method was called) scroll position. Note that this
  only affects the editor's own scrollable element, not parents.
  See also
  [`EditorViewConfig.scrollTo`](https://codemirror.net/6/docs/ref/#view.EditorViewConfig.scrollTo).
  
  The effect should be used with a document identical to the one
  it was created for. Failing to do so is not an error, but may
  not scroll to the expected position. You can
  [map](https://codemirror.net/6/docs/ref/#state.StateEffect.map) the effect to account for changes.
  */
  scrollSnapshot() {
    let { scrollTop, scrollLeft } = this.scrollDOM;
    let ref = this.viewState.scrollAnchorAt(scrollTop);
    return scrollIntoView.of(new ScrollTarget(EditorSelection.cursor(ref.from), "start", "start", ref.top - scrollTop, scrollLeft, true));
  }
  /**
  Enable or disable tab-focus mode, which disables key bindings
  for Tab and Shift-Tab, letting the browser's default
  focus-changing behavior go through instead. This is useful to
  prevent trapping keyboard users in your editor.
  
  Without argument, this toggles the mode. With a boolean, it
  enables (true) or disables it (false). Given a number, it
  temporarily enables the mode until that number of milliseconds
  have passed or another non-Tab key is pressed.
  */
  setTabFocusMode(to) {
    if (to == null)
      this.inputState.tabFocusMode = this.inputState.tabFocusMode < 0 ? 0 : -1;
    else if (typeof to == "boolean")
      this.inputState.tabFocusMode = to ? 0 : -1;
    else if (this.inputState.tabFocusMode != 0)
      this.inputState.tabFocusMode = Date.now() + to;
  }
  /**
  Returns an extension that can be used to add DOM event handlers.
  The value should be an object mapping event names to handler
  functions. For any given event, such functions are ordered by
  extension precedence, and the first handler to return true will
  be assumed to have handled that event, and no other handlers or
  built-in behavior will be activated for it. These are registered
  on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except
  for `scroll` handlers, which will be called any time the
  editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of
  its parent nodes is scrolled.
  */
  static domEventHandlers(handlers2) {
    return ViewPlugin.define(() => ({}), { eventHandlers: handlers2 });
  }
  /**
  Create an extension that registers DOM event observers. Contrary
  to event [handlers](https://codemirror.net/6/docs/ref/#view.EditorView^domEventHandlers),
  observers can't be prevented from running by a higher-precedence
  handler returning true. They also don't prevent other handlers
  and observers from running when they return true, and should not
  call `preventDefault`.
  */
  static domEventObservers(observers2) {
    return ViewPlugin.define(() => ({}), { eventObservers: observers2 });
  }
  /**
  Create a theme extension. The first argument can be a
  [`style-mod`](https://github.com/marijnh/style-mod#documentation)
  style spec providing the styles for the theme. These will be
  prefixed with a generated class for the style.
  
  Because the selectors will be prefixed with a scope class, rule
  that directly match the editor's [wrapper
  element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)—to which the scope class will be
  added—need to be explicitly differentiated by adding an `&` to
  the selector for that element—for example
  `&.cm-focused`.
  
  When `dark` is set to true, the theme will be marked as dark,
  which will cause the `&dark` rules from [base
  themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to
  `&light` when a light theme is active).
  */
  static theme(spec, options) {
    let prefix = StyleModule.newName();
    let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];
    if (options && options.dark)
      result.push(darkTheme.of(true));
    return result;
  }
  /**
  Create an extension that adds styles to the base theme. Like
  with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the
  place of the editor wrapper element when directly targeting
  that. You can also use `&dark` or `&light` instead to only
  target editors with a dark or light theme.
  */
  static baseTheme(spec) {
    return Prec.lowest(styleModule.of(buildTheme("." + baseThemeID, spec, lightDarkIDs)));
  }
  /**
  Retrieve an editor view instance from the view's DOM
  representation.
  */
  static findFromDOM(dom) {
    var _a2;
    let content2 = dom.querySelector(".cm-content");
    let cView = content2 && ContentView.get(content2) || ContentView.get(dom);
    return ((_a2 = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a2 === void 0 ? void 0 : _a2.view) || null;
  }
};
EditorView.styleModule = styleModule;
EditorView.inputHandler = inputHandler;
EditorView.clipboardInputFilter = clipboardInputFilter;
EditorView.clipboardOutputFilter = clipboardOutputFilter;
EditorView.scrollHandler = scrollHandler;
EditorView.focusChangeEffect = focusChangeEffect;
EditorView.perLineTextDirection = perLineTextDirection;
EditorView.exceptionSink = exceptionSink;
EditorView.updateListener = updateListener;
EditorView.editable = editable;
EditorView.mouseSelectionStyle = mouseSelectionStyle;
EditorView.dragMovesSelection = dragMovesSelection$1;
EditorView.clickAddsSelectionRange = clickAddsSelectionRange;
EditorView.decorations = decorations;
EditorView.outerDecorations = outerDecorations;
EditorView.atomicRanges = atomicRanges;
EditorView.bidiIsolatedRanges = bidiIsolatedRanges;
EditorView.scrollMargins = scrollMargins;
EditorView.darkTheme = darkTheme;
EditorView.cspNonce = /* @__PURE__ */ Facet.define({ combine: (values2) => values2.length ? values2[0] : "" });
EditorView.contentAttributes = contentAttributes;
EditorView.editorAttributes = editorAttributes;
EditorView.lineWrapping = /* @__PURE__ */ EditorView.contentAttributes.of({ "class": "cm-lineWrapping" });
EditorView.announce = /* @__PURE__ */ StateEffect.define();
var MaxBidiLine = 4096;
var BadMeasure = {};
var CachedOrder = class _CachedOrder {
  constructor(from2, to, dir, isolates, fresh, order) {
    this.from = from2;
    this.to = to;
    this.dir = dir;
    this.isolates = isolates;
    this.fresh = fresh;
    this.order = order;
  }
  static update(cache2, changes) {
    if (changes.empty && !cache2.some((c) => c.fresh))
      return cache2;
    let result = [], lastDir = cache2.length ? cache2[cache2.length - 1].dir : Direction.LTR;
    for (let i = Math.max(0, cache2.length - 10); i < cache2.length; i++) {
      let entry = cache2[i];
      if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))
        result.push(new _CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.isolates, false, entry.order));
    }
    return result;
  }
};
function attrsFromFacet(view, facet, base2) {
  for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {
    let source = sources[i], value = typeof source == "function" ? source(view) : source;
    if (value)
      combineAttrs(value, base2);
  }
  return base2;
}
var currentPlatform = browser.mac ? "mac" : browser.windows ? "win" : browser.linux ? "linux" : "key";
function normalizeKeyName(name2, platform) {
  const parts = name2.split(/-(?!$)/);
  let result = parts[parts.length - 1];
  if (result == "Space")
    result = " ";
  let alt, ctrl, shift2, meta2;
  for (let i = 0; i < parts.length - 1; ++i) {
    const mod = parts[i];
    if (/^(cmd|meta|m)$/i.test(mod))
      meta2 = true;
    else if (/^a(lt)?$/i.test(mod))
      alt = true;
    else if (/^(c|ctrl|control)$/i.test(mod))
      ctrl = true;
    else if (/^s(hift)?$/i.test(mod))
      shift2 = true;
    else if (/^mod$/i.test(mod)) {
      if (platform == "mac")
        meta2 = true;
      else
        ctrl = true;
    } else
      throw new Error("Unrecognized modifier name: " + mod);
  }
  if (alt)
    result = "Alt-" + result;
  if (ctrl)
    result = "Ctrl-" + result;
  if (meta2)
    result = "Meta-" + result;
  if (shift2)
    result = "Shift-" + result;
  return result;
}
function modifiers(name2, event, shift2) {
  if (event.altKey)
    name2 = "Alt-" + name2;
  if (event.ctrlKey)
    name2 = "Ctrl-" + name2;
  if (event.metaKey)
    name2 = "Meta-" + name2;
  if (shift2 !== false && event.shiftKey)
    name2 = "Shift-" + name2;
  return name2;
}
var handleKeyEvents = /* @__PURE__ */ Prec.default(/* @__PURE__ */ EditorView.domEventHandlers({
  keydown(event, view) {
    return runHandlers(getKeymap(view.state), event, view, "editor");
  }
}));
var keymap = /* @__PURE__ */ Facet.define({ enables: handleKeyEvents });
var Keymaps = /* @__PURE__ */ new WeakMap();
function getKeymap(state) {
  let bindings = state.facet(keymap);
  let map = Keymaps.get(bindings);
  if (!map)
    Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));
  return map;
}
function runScopeHandlers(view, event, scope) {
  return runHandlers(getKeymap(view.state), event, view, scope);
}
var storedPrefix = null;
var PrefixTimeout = 4e3;
function buildKeymap(bindings, platform = currentPlatform) {
  let bound = /* @__PURE__ */ Object.create(null);
  let isPrefix = /* @__PURE__ */ Object.create(null);
  let checkPrefix = (name2, is) => {
    let current = isPrefix[name2];
    if (current == null)
      isPrefix[name2] = is;
    else if (current != is)
      throw new Error("Key binding " + name2 + " is used both as a regular binding and as a multi-stroke prefix");
  };
  let add2 = (scope, key, command2, preventDefault, stopPropagation) => {
    var _a2, _b;
    let scopeObj = bound[scope] || (bound[scope] = /* @__PURE__ */ Object.create(null));
    let parts = key.split(/ (?!$)/).map((k) => normalizeKeyName(k, platform));
    for (let i = 1; i < parts.length; i++) {
      let prefix = parts.slice(0, i).join(" ");
      checkPrefix(prefix, true);
      if (!scopeObj[prefix])
        scopeObj[prefix] = {
          preventDefault: true,
          stopPropagation: false,
          run: [(view) => {
            let ourObj = storedPrefix = { view, prefix, scope };
            setTimeout(() => {
              if (storedPrefix == ourObj)
                storedPrefix = null;
            }, PrefixTimeout);
            return true;
          }]
        };
    }
    let full = parts.join(" ");
    checkPrefix(full, false);
    let binding = scopeObj[full] || (scopeObj[full] = {
      preventDefault: false,
      stopPropagation: false,
      run: ((_b = (_a2 = scopeObj._any) === null || _a2 === void 0 ? void 0 : _a2.run) === null || _b === void 0 ? void 0 : _b.slice()) || []
    });
    if (command2)
      binding.run.push(command2);
    if (preventDefault)
      binding.preventDefault = true;
    if (stopPropagation)
      binding.stopPropagation = true;
  };
  for (let b of bindings) {
    let scopes = b.scope ? b.scope.split(" ") : ["editor"];
    if (b.any)
      for (let scope of scopes) {
        let scopeObj = bound[scope] || (bound[scope] = /* @__PURE__ */ Object.create(null));
        if (!scopeObj._any)
          scopeObj._any = { preventDefault: false, stopPropagation: false, run: [] };
        let { any } = b;
        for (let key in scopeObj)
          scopeObj[key].run.push((view) => any(view, currentKeyEvent));
      }
    let name2 = b[platform] || b.key;
    if (!name2)
      continue;
    for (let scope of scopes) {
      add2(scope, name2, b.run, b.preventDefault, b.stopPropagation);
      if (b.shift)
        add2(scope, "Shift-" + name2, b.shift, b.preventDefault, b.stopPropagation);
    }
  }
  return bound;
}
var currentKeyEvent = null;
function runHandlers(map, event, view, scope) {
  currentKeyEvent = event;
  let name2 = keyName(event);
  let charCode = codePointAt2(name2, 0), isChar = codePointSize2(charCode) == name2.length && name2 != " ";
  let prefix = "", handled = false, prevented = false, stopPropagation = false;
  if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {
    prefix = storedPrefix.prefix + " ";
    if (modifierCodes.indexOf(event.keyCode) < 0) {
      prevented = true;
      storedPrefix = null;
    }
  }
  let ran = /* @__PURE__ */ new Set();
  let runFor = (binding) => {
    if (binding) {
      for (let cmd2 of binding.run)
        if (!ran.has(cmd2)) {
          ran.add(cmd2);
          if (cmd2(view)) {
            if (binding.stopPropagation)
              stopPropagation = true;
            return true;
          }
        }
      if (binding.preventDefault) {
        if (binding.stopPropagation)
          stopPropagation = true;
        prevented = true;
      }
    }
    return false;
  };
  let scopeObj = map[scope], baseName, shiftName;
  if (scopeObj) {
    if (runFor(scopeObj[prefix + modifiers(name2, event, !isChar)])) {
      handled = true;
    } else if (isChar && (event.altKey || event.metaKey || event.ctrlKey) && // Ctrl-Alt may be used for AltGr on Windows
    !(browser.windows && event.ctrlKey && event.altKey) && (baseName = base[event.keyCode]) && baseName != name2) {
      if (runFor(scopeObj[prefix + modifiers(baseName, event, true)])) {
        handled = true;
      } else if (event.shiftKey && (shiftName = shift[event.keyCode]) != name2 && shiftName != baseName && runFor(scopeObj[prefix + modifiers(shiftName, event, false)])) {
        handled = true;
      }
    } else if (isChar && event.shiftKey && runFor(scopeObj[prefix + modifiers(name2, event, true)])) {
      handled = true;
    }
    if (!handled && runFor(scopeObj._any))
      handled = true;
  }
  if (prevented)
    handled = true;
  if (handled && stopPropagation)
    event.stopPropagation();
  currentKeyEvent = null;
  return handled;
}
var RectangleMarker = class _RectangleMarker {
  /**
  Create a marker with the given class and dimensions. If `width`
  is null, the DOM element will get no width style.
  */
  constructor(className, left, top2, width, height) {
    this.className = className;
    this.left = left;
    this.top = top2;
    this.width = width;
    this.height = height;
  }
  draw() {
    let elt = document.createElement("div");
    elt.className = this.className;
    this.adjust(elt);
    return elt;
  }
  update(elt, prev) {
    if (prev.className != this.className)
      return false;
    this.adjust(elt);
    return true;
  }
  adjust(elt) {
    elt.style.left = this.left + "px";
    elt.style.top = this.top + "px";
    if (this.width != null)
      elt.style.width = this.width + "px";
    elt.style.height = this.height + "px";
  }
  eq(p) {
    return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height && this.className == p.className;
  }
  /**
  Create a set of rectangles for the given selection range,
  assigning them theclass`className`. Will create a single
  rectangle for empty ranges, and a set of selection-style
  rectangles covering the range's content (in a bidi-aware
  way) for non-empty ones.
  */
  static forRange(view, className, range) {
    if (range.empty) {
      let pos = view.coordsAtPos(range.head, range.assoc || 1);
      if (!pos)
        return [];
      let base2 = getBase(view);
      return [new _RectangleMarker(className, pos.left - base2.left, pos.top - base2.top, null, pos.bottom - pos.top)];
    } else {
      return rectanglesForRange(view, className, range);
    }
  }
};
function getBase(view) {
  let rect = view.scrollDOM.getBoundingClientRect();
  let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth * view.scaleX;
  return { left: left - view.scrollDOM.scrollLeft * view.scaleX, top: rect.top - view.scrollDOM.scrollTop * view.scaleY };
}
function wrappedLine(view, pos, side, inside2) {
  let coords = view.coordsAtPos(pos, side * 2);
  if (!coords)
    return inside2;
  let editorRect = view.dom.getBoundingClientRect();
  let y = (coords.top + coords.bottom) / 2;
  let left = view.posAtCoords({ x: editorRect.left + 1, y });
  let right = view.posAtCoords({ x: editorRect.right - 1, y });
  if (left == null || right == null)
    return inside2;
  return { from: Math.max(inside2.from, Math.min(left, right)), to: Math.min(inside2.to, Math.max(left, right)) };
}
function rectanglesForRange(view, className, range) {
  if (range.to <= view.viewport.from || range.from >= view.viewport.to)
    return [];
  let from2 = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);
  let ltr = view.textDirection == Direction.LTR;
  let content2 = view.contentDOM, contentRect = content2.getBoundingClientRect(), base2 = getBase(view);
  let lineElt = content2.querySelector(".cm-line"), lineStyle = lineElt && window.getComputedStyle(lineElt);
  let leftSide = contentRect.left + (lineStyle ? parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent)) : 0);
  let rightSide = contentRect.right - (lineStyle ? parseInt(lineStyle.paddingRight) : 0);
  let startBlock = blockAt(view, from2, 1), endBlock = blockAt(view, to, -1);
  let visualStart = startBlock.type == BlockType.Text ? startBlock : null;
  let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;
  if (visualStart && (view.lineWrapping || startBlock.widgetLineBreaks))
    visualStart = wrappedLine(view, from2, 1, visualStart);
  if (visualEnd && (view.lineWrapping || endBlock.widgetLineBreaks))
    visualEnd = wrappedLine(view, to, -1, visualEnd);
  if (visualStart && visualEnd && visualStart.from == visualEnd.from && visualStart.to == visualEnd.to) {
    return pieces(drawForLine(range.from, range.to, visualStart));
  } else {
    let top2 = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);
    let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);
    let between = [];
    if ((visualStart || startBlock).to < (visualEnd || endBlock).from - (visualStart && visualEnd ? 1 : 0) || startBlock.widgetLineBreaks > 1 && top2.bottom + view.defaultLineHeight / 2 < bottom.top)
      between.push(piece(leftSide, top2.bottom, rightSide, bottom.top));
    else if (top2.bottom < bottom.top && view.elementAtHeight((top2.bottom + bottom.top) / 2).type == BlockType.Text)
      top2.bottom = bottom.top = (top2.bottom + bottom.top) / 2;
    return pieces(top2).concat(between).concat(pieces(bottom));
  }
  function piece(left, top2, right, bottom) {
    return new RectangleMarker(className, left - base2.left, top2 - base2.top, right - left, bottom - top2);
  }
  function pieces({ top: top2, bottom, horizontal }) {
    let pieces2 = [];
    for (let i = 0; i < horizontal.length; i += 2)
      pieces2.push(piece(horizontal[i], top2, horizontal[i + 1], bottom));
    return pieces2;
  }
  function drawForLine(from3, to2, line) {
    let top2 = 1e9, bottom = -1e9, horizontal = [];
    function addSpan(from4, fromOpen, to3, toOpen, dir) {
      let fromCoords = view.coordsAtPos(from4, from4 == line.to ? -2 : 2);
      let toCoords = view.coordsAtPos(to3, to3 == line.from ? 2 : -2);
      if (!fromCoords || !toCoords)
        return;
      top2 = Math.min(fromCoords.top, toCoords.top, top2);
      bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);
      if (dir == Direction.LTR)
        horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);
      else
        horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);
    }
    let start = from3 !== null && from3 !== void 0 ? from3 : line.from, end = to2 !== null && to2 !== void 0 ? to2 : line.to;
    for (let r of view.visibleRanges)
      if (r.to > start && r.from < end) {
        for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end); ; ) {
          let docLine = view.state.doc.lineAt(pos);
          for (let span of view.bidiSpans(docLine)) {
            let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;
            if (spanFrom >= endPos)
              break;
            if (spanTo > pos)
              addSpan(Math.max(spanFrom, pos), from3 == null && spanFrom <= start, Math.min(spanTo, endPos), to2 == null && spanTo >= end, span.dir);
          }
          pos = docLine.to + 1;
          if (pos >= endPos)
            break;
        }
      }
    if (horizontal.length == 0)
      addSpan(start, from3 == null, end, to2 == null, view.textDirection);
    return { top: top2, bottom, horizontal };
  }
  function drawForWidget(block, top2) {
    let y = contentRect.top + (top2 ? block.top : block.bottom);
    return { top: y, bottom: y, horizontal: [] };
  }
}
function sameMarker(a, b) {
  return a.constructor == b.constructor && a.eq(b);
}
var LayerView = class {
  constructor(view, layer2) {
    this.view = view;
    this.layer = layer2;
    this.drawn = [];
    this.scaleX = 1;
    this.scaleY = 1;
    this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) };
    this.dom = view.scrollDOM.appendChild(document.createElement("div"));
    this.dom.classList.add("cm-layer");
    if (layer2.above)
      this.dom.classList.add("cm-layer-above");
    if (layer2.class)
      this.dom.classList.add(layer2.class);
    this.scale();
    this.dom.setAttribute("aria-hidden", "true");
    this.setOrder(view.state);
    view.requestMeasure(this.measureReq);
    if (layer2.mount)
      layer2.mount(this.dom, view);
  }
  update(update) {
    if (update.startState.facet(layerOrder) != update.state.facet(layerOrder))
      this.setOrder(update.state);
    if (this.layer.update(update, this.dom) || update.geometryChanged) {
      this.scale();
      update.view.requestMeasure(this.measureReq);
    }
  }
  docViewUpdate(view) {
    if (this.layer.updateOnDocViewUpdate !== false)
      view.requestMeasure(this.measureReq);
  }
  setOrder(state) {
    let pos = 0, order = state.facet(layerOrder);
    while (pos < order.length && order[pos] != this.layer)
      pos++;
    this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - pos);
  }
  measure() {
    return this.layer.markers(this.view);
  }
  scale() {
    let { scaleX, scaleY } = this.view;
    if (scaleX != this.scaleX || scaleY != this.scaleY) {
      this.scaleX = scaleX;
      this.scaleY = scaleY;
      this.dom.style.transform = `scale(${1 / scaleX}, ${1 / scaleY})`;
    }
  }
  draw(markers) {
    if (markers.length != this.drawn.length || markers.some((p, i) => !sameMarker(p, this.drawn[i]))) {
      let old = this.dom.firstChild, oldI = 0;
      for (let marker of markers) {
        if (marker.update && old && marker.constructor && this.drawn[oldI].constructor && marker.update(old, this.drawn[oldI])) {
          old = old.nextSibling;
          oldI++;
        } else {
          this.dom.insertBefore(marker.draw(), old);
        }
      }
      while (old) {
        let next = old.nextSibling;
        old.remove();
        old = next;
      }
      this.drawn = markers;
    }
  }
  destroy() {
    if (this.layer.destroy)
      this.layer.destroy(this.dom, this.view);
    this.dom.remove();
  }
};
var layerOrder = /* @__PURE__ */ Facet.define();
function layer(config2) {
  return [
    ViewPlugin.define((v) => new LayerView(v, config2)),
    layerOrder.of(config2)
  ];
}
var selectionConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    return combineConfig(configs, {
      cursorBlinkRate: 1200,
      drawRangeCursor: true
    }, {
      cursorBlinkRate: (a, b) => Math.min(a, b),
      drawRangeCursor: (a, b) => a || b
    });
  }
});
function drawSelection(config2 = {}) {
  return [
    selectionConfig.of(config2),
    cursorLayer,
    selectionLayer,
    hideNativeSelection,
    nativeSelectionHidden.of(true)
  ];
}
function configChanged(update) {
  return update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);
}
var cursorLayer = /* @__PURE__ */ layer({
  above: true,
  markers(view) {
    let { state } = view, conf = state.facet(selectionConfig);
    let cursors = [];
    for (let r of state.selection.ranges) {
      let prim = r == state.selection.main;
      if (r.empty || conf.drawRangeCursor) {
        let className = prim ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary";
        let cursor2 = r.empty ? r : EditorSelection.cursor(r.head, r.head > r.anchor ? -1 : 1);
        for (let piece of RectangleMarker.forRange(view, className, cursor2))
          cursors.push(piece);
      }
    }
    return cursors;
  },
  update(update, dom) {
    if (update.transactions.some((tr) => tr.selection))
      dom.style.animationName = dom.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink";
    let confChange = configChanged(update);
    if (confChange)
      setBlinkRate(update.state, dom);
    return update.docChanged || update.selectionSet || confChange;
  },
  mount(dom, view) {
    setBlinkRate(view.state, dom);
  },
  class: "cm-cursorLayer"
});
function setBlinkRate(state, dom) {
  dom.style.animationDuration = state.facet(selectionConfig).cursorBlinkRate + "ms";
}
var selectionLayer = /* @__PURE__ */ layer({
  above: false,
  markers(view) {
    return view.state.selection.ranges.map((r) => r.empty ? [] : RectangleMarker.forRange(view, "cm-selectionBackground", r)).reduce((a, b) => a.concat(b));
  },
  update(update, dom) {
    return update.docChanged || update.selectionSet || update.viewportChanged || configChanged(update);
  },
  class: "cm-selectionLayer"
});
var hideNativeSelection = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ EditorView.theme({
  ".cm-line": {
    "& ::selection, &::selection": { backgroundColor: "transparent !important" },
    caretColor: "transparent !important"
  },
  ".cm-content": {
    caretColor: "transparent !important",
    "& :focus": {
      caretColor: "initial !important",
      "&::selection, & ::selection": {
        backgroundColor: "Highlight !important"
      }
    }
  }
}));
var setDropCursorPos = /* @__PURE__ */ StateEffect.define({
  map(pos, mapping) {
    return pos == null ? null : mapping.mapPos(pos);
  }
});
var dropCursorPos = /* @__PURE__ */ StateField.define({
  create() {
    return null;
  },
  update(pos, tr) {
    if (pos != null)
      pos = tr.changes.mapPos(pos);
    return tr.effects.reduce((pos2, e) => e.is(setDropCursorPos) ? e.value : pos2, pos);
  }
});
var drawDropCursor = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.view = view;
    this.cursor = null;
    this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };
  }
  update(update) {
    var _a2;
    let cursorPos = update.state.field(dropCursorPos);
    if (cursorPos == null) {
      if (this.cursor != null) {
        (_a2 = this.cursor) === null || _a2 === void 0 ? void 0 : _a2.remove();
        this.cursor = null;
      }
    } else {
      if (!this.cursor) {
        this.cursor = this.view.scrollDOM.appendChild(document.createElement("div"));
        this.cursor.className = "cm-dropCursor";
      }
      if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)
        this.view.requestMeasure(this.measureReq);
    }
  }
  readPos() {
    let { view } = this;
    let pos = view.state.field(dropCursorPos);
    let rect = pos != null && view.coordsAtPos(pos);
    if (!rect)
      return null;
    let outer = view.scrollDOM.getBoundingClientRect();
    return {
      left: rect.left - outer.left + view.scrollDOM.scrollLeft * view.scaleX,
      top: rect.top - outer.top + view.scrollDOM.scrollTop * view.scaleY,
      height: rect.bottom - rect.top
    };
  }
  drawCursor(pos) {
    if (this.cursor) {
      let { scaleX, scaleY } = this.view;
      if (pos) {
        this.cursor.style.left = pos.left / scaleX + "px";
        this.cursor.style.top = pos.top / scaleY + "px";
        this.cursor.style.height = pos.height / scaleY + "px";
      } else {
        this.cursor.style.left = "-100000px";
      }
    }
  }
  destroy() {
    if (this.cursor)
      this.cursor.remove();
  }
  setDropPos(pos) {
    if (this.view.state.field(dropCursorPos) != pos)
      this.view.dispatch({ effects: setDropCursorPos.of(pos) });
  }
}, {
  eventObservers: {
    dragover(event) {
      this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));
    },
    dragleave(event) {
      if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))
        this.setDropPos(null);
    },
    dragend() {
      this.setDropPos(null);
    },
    drop() {
      this.setDropPos(null);
    }
  }
});
function dropCursor() {
  return [dropCursorPos, drawDropCursor];
}
function iterMatches(doc2, re, from2, to, f) {
  re.lastIndex = 0;
  for (let cursor2 = doc2.iterRange(from2, to), pos = from2, m; !cursor2.next().done; pos += cursor2.value.length) {
    if (!cursor2.lineBreak)
      while (m = re.exec(cursor2.value))
        f(pos + m.index, m);
  }
}
function matchRanges(view, maxLength) {
  let visible = view.visibleRanges;
  if (visible.length == 1 && visible[0].from == view.viewport.from && visible[0].to == view.viewport.to)
    return visible;
  let result = [];
  for (let { from: from2, to } of visible) {
    from2 = Math.max(view.state.doc.lineAt(from2).from, from2 - maxLength);
    to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);
    if (result.length && result[result.length - 1].to >= from2)
      result[result.length - 1].to = to;
    else
      result.push({ from: from2, to });
  }
  return result;
}
var MatchDecorator = class {
  /**
  Create a decorator.
  */
  constructor(config2) {
    const { regexp, decoration, decorate, boundary, maxLength = 1e3 } = config2;
    if (!regexp.global)
      throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");
    this.regexp = regexp;
    if (decorate) {
      this.addMatch = (match2, view, from2, add2) => decorate(add2, from2, from2 + match2[0].length, match2, view);
    } else if (typeof decoration == "function") {
      this.addMatch = (match2, view, from2, add2) => {
        let deco = decoration(match2, view, from2);
        if (deco)
          add2(from2, from2 + match2[0].length, deco);
      };
    } else if (decoration) {
      this.addMatch = (match2, _view, from2, add2) => add2(from2, from2 + match2[0].length, decoration);
    } else {
      throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");
    }
    this.boundary = boundary;
    this.maxLength = maxLength;
  }
  /**
  Compute the full set of decorations for matches in the given
  view's viewport. You'll want to call this when initializing your
  plugin.
  */
  createDeco(view) {
    let build = new RangeSetBuilder(), add2 = build.add.bind(build);
    for (let { from: from2, to } of matchRanges(view, this.maxLength))
      iterMatches(view.state.doc, this.regexp, from2, to, (from3, m) => this.addMatch(m, view, from3, add2));
    return build.finish();
  }
  /**
  Update a set of decorations for a view update. `deco` _must_ be
  the set of decorations produced by _this_ `MatchDecorator` for
  the view state before the update.
  */
  updateDeco(update, deco) {
    let changeFrom = 1e9, changeTo = -1;
    if (update.docChanged)
      update.changes.iterChanges((_f, _t, from2, to) => {
        if (to >= update.view.viewport.from && from2 <= update.view.viewport.to) {
          changeFrom = Math.min(from2, changeFrom);
          changeTo = Math.max(to, changeTo);
        }
      });
    if (update.viewportMoved || changeTo - changeFrom > 1e3)
      return this.createDeco(update.view);
    if (changeTo > -1)
      return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);
    return deco;
  }
  updateRange(view, deco, updateFrom, updateTo) {
    for (let r of view.visibleRanges) {
      let from2 = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);
      if (to >= from2) {
        let fromLine = view.state.doc.lineAt(from2), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;
        let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);
        if (this.boundary) {
          for (; from2 > fromLine.from; from2--)
            if (this.boundary.test(fromLine.text[from2 - 1 - fromLine.from])) {
              start = from2;
              break;
            }
          for (; to < toLine.to; to++)
            if (this.boundary.test(toLine.text[to - toLine.from])) {
              end = to;
              break;
            }
        }
        let ranges = [], m;
        let add2 = (from3, to2, deco2) => ranges.push(deco2.range(from3, to2));
        if (fromLine == toLine) {
          this.regexp.lastIndex = start - fromLine.from;
          while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)
            this.addMatch(m, view, m.index + fromLine.from, add2);
        } else {
          iterMatches(view.state.doc, this.regexp, start, end, (from3, m2) => this.addMatch(m2, view, from3, add2));
        }
        deco = deco.update({ filterFrom: start, filterTo: end, filter: (from3, to2) => from3 < start || to2 > end, add: ranges });
      }
    }
    return deco;
  }
};
var UnicodeRegexpSupport = /x/.unicode != null ? "gu" : "g";
var Specials = /* @__PURE__ */ new RegExp("[\0-\b\n-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]", UnicodeRegexpSupport);
var Names = {
  0: "null",
  7: "bell",
  8: "backspace",
  10: "newline",
  11: "vertical tab",
  13: "carriage return",
  27: "escape",
  8203: "zero width space",
  8204: "zero width non-joiner",
  8205: "zero width joiner",
  8206: "left-to-right mark",
  8207: "right-to-left mark",
  8232: "line separator",
  8237: "left-to-right override",
  8238: "right-to-left override",
  8294: "left-to-right isolate",
  8295: "right-to-left isolate",
  8297: "pop directional isolate",
  8233: "paragraph separator",
  65279: "zero width no-break space",
  65532: "object replacement"
};
var _supportsTabSize = null;
function supportsTabSize() {
  var _a2;
  if (_supportsTabSize == null && typeof document != "undefined" && document.body) {
    let styles = document.body.style;
    _supportsTabSize = ((_a2 = styles.tabSize) !== null && _a2 !== void 0 ? _a2 : styles.MozTabSize) != null;
  }
  return _supportsTabSize || false;
}
var specialCharConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    let config2 = combineConfig(configs, {
      render: null,
      specialChars: Specials,
      addSpecialChars: null
    });
    if (config2.replaceTabs = !supportsTabSize())
      config2.specialChars = new RegExp("	|" + config2.specialChars.source, UnicodeRegexpSupport);
    if (config2.addSpecialChars)
      config2.specialChars = new RegExp(config2.specialChars.source + "|" + config2.addSpecialChars.source, UnicodeRegexpSupport);
    return config2;
  }
});
function highlightSpecialChars(config2 = {}) {
  return [specialCharConfig.of(config2), specialCharPlugin()];
}
var _plugin = null;
function specialCharPlugin() {
  return _plugin || (_plugin = ViewPlugin.fromClass(class {
    constructor(view) {
      this.view = view;
      this.decorations = Decoration.none;
      this.decorationCache = /* @__PURE__ */ Object.create(null);
      this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));
      this.decorations = this.decorator.createDeco(view);
    }
    makeDecorator(conf) {
      return new MatchDecorator({
        regexp: conf.specialChars,
        decoration: (m, view, pos) => {
          let { doc: doc2 } = view.state;
          let code = codePointAt2(m[0], 0);
          if (code == 9) {
            let line = doc2.lineAt(pos);
            let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);
            return Decoration.replace({
              widget: new TabWidget((size - col % size) * this.view.defaultCharacterWidth / this.view.scaleX)
            });
          }
          return this.decorationCache[code] || (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));
        },
        boundary: conf.replaceTabs ? void 0 : /[^]/
      });
    }
    update(update) {
      let conf = update.state.facet(specialCharConfig);
      if (update.startState.facet(specialCharConfig) != conf) {
        this.decorator = this.makeDecorator(conf);
        this.decorations = this.decorator.createDeco(update.view);
      } else {
        this.decorations = this.decorator.updateDeco(update, this.decorations);
      }
    }
  }, {
    decorations: (v) => v.decorations
  }));
}
var DefaultPlaceholder = "\u2022";
function placeholder$1(code) {
  if (code >= 32)
    return DefaultPlaceholder;
  if (code == 10)
    return "\u2424";
  return String.fromCharCode(9216 + code);
}
var SpecialCharWidget = class extends WidgetType {
  constructor(options, code) {
    super();
    this.options = options;
    this.code = code;
  }
  eq(other) {
    return other.code == this.code;
  }
  toDOM(view) {
    let ph = placeholder$1(this.code);
    let desc = view.state.phrase("Control character") + " " + (Names[this.code] || "0x" + this.code.toString(16));
    let custom = this.options.render && this.options.render(this.code, desc, ph);
    if (custom)
      return custom;
    let span = document.createElement("span");
    span.textContent = ph;
    span.title = desc;
    span.setAttribute("aria-label", desc);
    span.className = "cm-specialChar";
    return span;
  }
  ignoreEvent() {
    return false;
  }
};
var TabWidget = class extends WidgetType {
  constructor(width) {
    super();
    this.width = width;
  }
  eq(other) {
    return other.width == this.width;
  }
  toDOM() {
    let span = document.createElement("span");
    span.textContent = "	";
    span.className = "cm-tab";
    span.style.width = this.width + "px";
    return span;
  }
  ignoreEvent() {
    return false;
  }
};
function highlightActiveLine() {
  return activeLineHighlighter;
}
var lineDeco = /* @__PURE__ */ Decoration.line({ class: "cm-activeLine" });
var activeLineHighlighter = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.decorations = this.getDeco(view);
  }
  update(update) {
    if (update.docChanged || update.selectionSet)
      this.decorations = this.getDeco(update.view);
  }
  getDeco(view) {
    let lastLineStart = -1, deco = [];
    for (let r of view.state.selection.ranges) {
      let line = view.lineBlockAt(r.head);
      if (line.from > lastLineStart) {
        deco.push(lineDeco.range(line.from));
        lastLineStart = line.from;
      }
    }
    return Decoration.set(deco);
  }
}, {
  decorations: (v) => v.decorations
});
var MaxOff = 2e3;
function rectangleFor(state, a, b) {
  let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);
  let ranges = [];
  if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {
    let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);
    for (let i = startLine; i <= endLine; i++) {
      let line = state.doc.line(i);
      if (line.length <= endOff)
        ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));
    }
  } else {
    let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);
    for (let i = startLine; i <= endLine; i++) {
      let line = state.doc.line(i);
      let start = findColumn(line.text, startCol, state.tabSize, true);
      if (start < 0) {
        ranges.push(EditorSelection.cursor(line.to));
      } else {
        let end = findColumn(line.text, endCol, state.tabSize);
        ranges.push(EditorSelection.range(line.from + start, line.from + end));
      }
    }
  }
  return ranges;
}
function absoluteColumn(view, x) {
  let ref = view.coordsAtPos(view.viewport.from);
  return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;
}
function getPos(view, event) {
  let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);
  let line = view.state.doc.lineAt(offset), off = offset - line.from;
  let col = off > MaxOff ? -1 : off == line.length ? absoluteColumn(view, event.clientX) : countColumn(line.text, view.state.tabSize, offset - line.from);
  return { line: line.number, col, off };
}
function rectangleSelectionStyle(view, event) {
  let start = getPos(view, event), startSel = view.state.selection;
  if (!start)
    return null;
  return {
    update(update) {
      if (update.docChanged) {
        let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);
        let newLine = update.state.doc.lineAt(newStart);
        start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };
        startSel = startSel.map(update.changes);
      }
    },
    get(event2, _extend, multiple) {
      let cur2 = getPos(view, event2);
      if (!cur2)
        return startSel;
      let ranges = rectangleFor(view.state, start, cur2);
      if (!ranges.length)
        return startSel;
      if (multiple)
        return EditorSelection.create(ranges.concat(startSel.ranges));
      else
        return EditorSelection.create(ranges);
    }
  };
}
function rectangularSelection(options) {
  let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || ((e) => e.altKey && e.button == 0);
  return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);
}
var keys = {
  Alt: [18, (e) => !!e.altKey],
  Control: [17, (e) => !!e.ctrlKey],
  Shift: [16, (e) => !!e.shiftKey],
  Meta: [91, (e) => !!e.metaKey]
};
var showCrosshair = { style: "cursor: crosshair" };
function crosshairCursor(options = {}) {
  let [code, getter] = keys[options.key || "Alt"];
  let plugin = ViewPlugin.fromClass(class {
    constructor(view) {
      this.view = view;
      this.isDown = false;
    }
    set(isDown) {
      if (this.isDown != isDown) {
        this.isDown = isDown;
        this.view.update([]);
      }
    }
  }, {
    eventObservers: {
      keydown(e) {
        this.set(e.keyCode == code || getter(e));
      },
      keyup(e) {
        if (e.keyCode == code || !getter(e))
          this.set(false);
      },
      mousemove(e) {
        this.set(getter(e));
      }
    }
  });
  return [
    plugin,
    EditorView.contentAttributes.of((view) => {
      var _a2;
      return ((_a2 = view.plugin(plugin)) === null || _a2 === void 0 ? void 0 : _a2.isDown) ? showCrosshair : null;
    })
  ];
}
var Outside = "-10000px";
var TooltipViewManager = class {
  constructor(view, facet, createTooltipView, removeTooltipView) {
    this.facet = facet;
    this.createTooltipView = createTooltipView;
    this.removeTooltipView = removeTooltipView;
    this.input = view.state.facet(facet);
    this.tooltips = this.input.filter((t2) => t2);
    let prev = null;
    this.tooltipViews = this.tooltips.map((t2) => prev = createTooltipView(t2, prev));
  }
  update(update, above) {
    var _a2;
    let input = update.state.facet(this.facet);
    let tooltips = input.filter((x) => x);
    if (input === this.input) {
      for (let t2 of this.tooltipViews)
        if (t2.update)
          t2.update(update);
      return false;
    }
    let tooltipViews = [], newAbove = above ? [] : null;
    for (let i = 0; i < tooltips.length; i++) {
      let tip = tooltips[i], known = -1;
      if (!tip)
        continue;
      for (let i2 = 0; i2 < this.tooltips.length; i2++) {
        let other = this.tooltips[i2];
        if (other && other.create == tip.create)
          known = i2;
      }
      if (known < 0) {
        tooltipViews[i] = this.createTooltipView(tip, i ? tooltipViews[i - 1] : null);
        if (newAbove)
          newAbove[i] = !!tip.above;
      } else {
        let tooltipView = tooltipViews[i] = this.tooltipViews[known];
        if (newAbove)
          newAbove[i] = above[known];
        if (tooltipView.update)
          tooltipView.update(update);
      }
    }
    for (let t2 of this.tooltipViews)
      if (tooltipViews.indexOf(t2) < 0) {
        this.removeTooltipView(t2);
        (_a2 = t2.destroy) === null || _a2 === void 0 ? void 0 : _a2.call(t2);
      }
    if (above) {
      newAbove.forEach((val, i) => above[i] = val);
      above.length = newAbove.length;
    }
    this.input = input;
    this.tooltips = tooltips;
    this.tooltipViews = tooltipViews;
    return true;
  }
};
function windowSpace(view) {
  let docElt = view.dom.ownerDocument.documentElement;
  return { top: 0, left: 0, bottom: docElt.clientHeight, right: docElt.clientWidth };
}
var tooltipConfig = /* @__PURE__ */ Facet.define({
  combine: (values2) => {
    var _a2, _b, _c;
    return {
      position: browser.ios ? "absolute" : ((_a2 = values2.find((conf) => conf.position)) === null || _a2 === void 0 ? void 0 : _a2.position) || "fixed",
      parent: ((_b = values2.find((conf) => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,
      tooltipSpace: ((_c = values2.find((conf) => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace
    };
  }
});
var knownHeight = /* @__PURE__ */ new WeakMap();
var tooltipPlugin = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.view = view;
    this.above = [];
    this.inView = true;
    this.madeAbsolute = false;
    this.lastTransaction = 0;
    this.measureTimeout = -1;
    let config2 = view.state.facet(tooltipConfig);
    this.position = config2.position;
    this.parent = config2.parent;
    this.classes = view.themeClasses;
    this.createContainer();
    this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };
    this.resizeObserver = typeof ResizeObserver == "function" ? new ResizeObserver(() => this.measureSoon()) : null;
    this.manager = new TooltipViewManager(view, showTooltip, (t2, p) => this.createTooltip(t2, p), (t2) => {
      if (this.resizeObserver)
        this.resizeObserver.unobserve(t2.dom);
      t2.dom.remove();
    });
    this.above = this.manager.tooltips.map((t2) => !!t2.above);
    this.intersectionObserver = typeof IntersectionObserver == "function" ? new IntersectionObserver((entries) => {
      if (Date.now() > this.lastTransaction - 50 && entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)
        this.measureSoon();
    }, { threshold: [1] }) : null;
    this.observeIntersection();
    view.win.addEventListener("resize", this.measureSoon = this.measureSoon.bind(this));
    this.maybeMeasure();
  }
  createContainer() {
    if (this.parent) {
      this.container = document.createElement("div");
      this.container.style.position = "relative";
      this.container.className = this.view.themeClasses;
      this.parent.appendChild(this.container);
    } else {
      this.container = this.view.dom;
    }
  }
  observeIntersection() {
    if (this.intersectionObserver) {
      this.intersectionObserver.disconnect();
      for (let tooltip of this.manager.tooltipViews)
        this.intersectionObserver.observe(tooltip.dom);
    }
  }
  measureSoon() {
    if (this.measureTimeout < 0)
      this.measureTimeout = setTimeout(() => {
        this.measureTimeout = -1;
        this.maybeMeasure();
      }, 50);
  }
  update(update) {
    if (update.transactions.length)
      this.lastTransaction = Date.now();
    let updated = this.manager.update(update, this.above);
    if (updated)
      this.observeIntersection();
    let shouldMeasure = updated || update.geometryChanged;
    let newConfig = update.state.facet(tooltipConfig);
    if (newConfig.position != this.position && !this.madeAbsolute) {
      this.position = newConfig.position;
      for (let t2 of this.manager.tooltipViews)
        t2.dom.style.position = this.position;
      shouldMeasure = true;
    }
    if (newConfig.parent != this.parent) {
      if (this.parent)
        this.container.remove();
      this.parent = newConfig.parent;
      this.createContainer();
      for (let t2 of this.manager.tooltipViews)
        this.container.appendChild(t2.dom);
      shouldMeasure = true;
    } else if (this.parent && this.view.themeClasses != this.classes) {
      this.classes = this.container.className = this.view.themeClasses;
    }
    if (shouldMeasure)
      this.maybeMeasure();
  }
  createTooltip(tooltip, prev) {
    let tooltipView = tooltip.create(this.view);
    let before = prev ? prev.dom : null;
    tooltipView.dom.classList.add("cm-tooltip");
    if (tooltip.arrow && !tooltipView.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")) {
      let arrow = document.createElement("div");
      arrow.className = "cm-tooltip-arrow";
      tooltipView.dom.appendChild(arrow);
    }
    tooltipView.dom.style.position = this.position;
    tooltipView.dom.style.top = Outside;
    tooltipView.dom.style.left = "0px";
    this.container.insertBefore(tooltipView.dom, before);
    if (tooltipView.mount)
      tooltipView.mount(this.view);
    if (this.resizeObserver)
      this.resizeObserver.observe(tooltipView.dom);
    return tooltipView;
  }
  destroy() {
    var _a2, _b, _c;
    this.view.win.removeEventListener("resize", this.measureSoon);
    for (let tooltipView of this.manager.tooltipViews) {
      tooltipView.dom.remove();
      (_a2 = tooltipView.destroy) === null || _a2 === void 0 ? void 0 : _a2.call(tooltipView);
    }
    if (this.parent)
      this.container.remove();
    (_b = this.resizeObserver) === null || _b === void 0 ? void 0 : _b.disconnect();
    (_c = this.intersectionObserver) === null || _c === void 0 ? void 0 : _c.disconnect();
    clearTimeout(this.measureTimeout);
  }
  readMeasure() {
    let scaleX = 1, scaleY = 1, makeAbsolute = false;
    if (this.position == "fixed" && this.manager.tooltipViews.length) {
      let { dom } = this.manager.tooltipViews[0];
      if (browser.gecko) {
        makeAbsolute = dom.offsetParent != this.container.ownerDocument.body;
      } else if (dom.style.top == Outside && dom.style.left == "0px") {
        let rect = dom.getBoundingClientRect();
        makeAbsolute = Math.abs(rect.top + 1e4) > 1 || Math.abs(rect.left) > 1;
      }
    }
    if (makeAbsolute || this.position == "absolute") {
      if (this.parent) {
        let rect = this.parent.getBoundingClientRect();
        if (rect.width && rect.height) {
          scaleX = rect.width / this.parent.offsetWidth;
          scaleY = rect.height / this.parent.offsetHeight;
        }
      } else {
        ({ scaleX, scaleY } = this.view.viewState);
      }
    }
    let visible = this.view.scrollDOM.getBoundingClientRect(), margins = getScrollMargins(this.view);
    return {
      visible: {
        left: visible.left + margins.left,
        top: visible.top + margins.top,
        right: visible.right - margins.right,
        bottom: visible.bottom - margins.bottom
      },
      parent: this.parent ? this.container.getBoundingClientRect() : this.view.dom.getBoundingClientRect(),
      pos: this.manager.tooltips.map((t2, i) => {
        let tv = this.manager.tooltipViews[i];
        return tv.getCoords ? tv.getCoords(t2.pos) : this.view.coordsAtPos(t2.pos);
      }),
      size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),
      space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),
      scaleX,
      scaleY,
      makeAbsolute
    };
  }
  writeMeasure(measured) {
    var _a2;
    if (measured.makeAbsolute) {
      this.madeAbsolute = true;
      this.position = "absolute";
      for (let t2 of this.manager.tooltipViews)
        t2.dom.style.position = "absolute";
    }
    let { visible, space: space3, scaleX, scaleY } = measured;
    let others = [];
    for (let i = 0; i < this.manager.tooltips.length; i++) {
      let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;
      let pos = measured.pos[i], size = measured.size[i];
      if (!pos || tooltip.clip !== false && (pos.bottom <= Math.max(visible.top, space3.top) || pos.top >= Math.min(visible.bottom, space3.bottom) || pos.right < Math.max(visible.left, space3.left) - 0.1 || pos.left > Math.min(visible.right, space3.right) + 0.1)) {
        dom.style.top = Outside;
        continue;
      }
      let arrow = tooltip.arrow ? tView.dom.querySelector(".cm-tooltip-arrow") : null;
      let arrowHeight = arrow ? 7 : 0;
      let width = size.right - size.left, height = (_a2 = knownHeight.get(tView)) !== null && _a2 !== void 0 ? _a2 : size.bottom - size.top;
      let offset = tView.offset || noOffset, ltr = this.view.textDirection == Direction.LTR;
      let left = size.width > space3.right - space3.left ? ltr ? space3.left : space3.right - size.width : ltr ? Math.max(space3.left, Math.min(pos.left - (arrow ? 14 : 0) + offset.x, space3.right - width)) : Math.min(Math.max(space3.left, pos.left - width + (arrow ? 14 : 0) - offset.x), space3.right - width);
      let above = this.above[i];
      if (!tooltip.strictSide && (above ? pos.top - height - arrowHeight - offset.y < space3.top : pos.bottom + height + arrowHeight + offset.y > space3.bottom) && above == space3.bottom - pos.bottom > pos.top - space3.top)
        above = this.above[i] = !above;
      let spaceVert = (above ? pos.top - space3.top : space3.bottom - pos.bottom) - arrowHeight;
      if (spaceVert < height && tView.resize !== false) {
        if (spaceVert < this.view.defaultLineHeight) {
          dom.style.top = Outside;
          continue;
        }
        knownHeight.set(tView, height);
        dom.style.height = (height = spaceVert) / scaleY + "px";
      } else if (dom.style.height) {
        dom.style.height = "";
      }
      let top2 = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;
      let right = left + width;
      if (tView.overlap !== true) {
        for (let r of others)
          if (r.left < right && r.right > left && r.top < top2 + height && r.bottom > top2)
            top2 = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;
      }
      if (this.position == "absolute") {
        dom.style.top = (top2 - measured.parent.top) / scaleY + "px";
        setLeftStyle(dom, (left - measured.parent.left) / scaleX);
      } else {
        dom.style.top = top2 / scaleY + "px";
        setLeftStyle(dom, left / scaleX);
      }
      if (arrow) {
        let arrowLeft = pos.left + (ltr ? offset.x : -offset.x) - (left + 14 - 7);
        arrow.style.left = arrowLeft / scaleX + "px";
      }
      if (tView.overlap !== true)
        others.push({ left, top: top2, right, bottom: top2 + height });
      dom.classList.toggle("cm-tooltip-above", above);
      dom.classList.toggle("cm-tooltip-below", !above);
      if (tView.positioned)
        tView.positioned(measured.space);
    }
  }
  maybeMeasure() {
    if (this.manager.tooltips.length) {
      if (this.view.inView)
        this.view.requestMeasure(this.measureReq);
      if (this.inView != this.view.inView) {
        this.inView = this.view.inView;
        if (!this.inView)
          for (let tv of this.manager.tooltipViews)
            tv.dom.style.top = Outside;
      }
    }
  }
}, {
  eventObservers: {
    scroll() {
      this.maybeMeasure();
    }
  }
});
function setLeftStyle(elt, value) {
  let current = parseInt(elt.style.left, 10);
  if (isNaN(current) || Math.abs(value - current) > 1)
    elt.style.left = value + "px";
}
var baseTheme = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-tooltip": {
    zIndex: 500,
    boxSizing: "border-box"
  },
  "&light .cm-tooltip": {
    border: "1px solid #bbb",
    backgroundColor: "#f5f5f5"
  },
  "&light .cm-tooltip-section:not(:first-child)": {
    borderTop: "1px solid #bbb"
  },
  "&dark .cm-tooltip": {
    backgroundColor: "#333338",
    color: "white"
  },
  ".cm-tooltip-arrow": {
    height: `${7}px`,
    width: `${7 * 2}px`,
    position: "absolute",
    zIndex: -1,
    overflow: "hidden",
    "&:before, &:after": {
      content: "''",
      position: "absolute",
      width: 0,
      height: 0,
      borderLeft: `${7}px solid transparent`,
      borderRight: `${7}px solid transparent`
    },
    ".cm-tooltip-above &": {
      bottom: `-${7}px`,
      "&:before": {
        borderTop: `${7}px solid #bbb`
      },
      "&:after": {
        borderTop: `${7}px solid #f5f5f5`,
        bottom: "1px"
      }
    },
    ".cm-tooltip-below &": {
      top: `-${7}px`,
      "&:before": {
        borderBottom: `${7}px solid #bbb`
      },
      "&:after": {
        borderBottom: `${7}px solid #f5f5f5`,
        top: "1px"
      }
    }
  },
  "&dark .cm-tooltip .cm-tooltip-arrow": {
    "&:before": {
      borderTopColor: "#333338",
      borderBottomColor: "#333338"
    },
    "&:after": {
      borderTopColor: "transparent",
      borderBottomColor: "transparent"
    }
  }
});
var noOffset = { x: 0, y: 0 };
var showTooltip = /* @__PURE__ */ Facet.define({
  enables: [tooltipPlugin, baseTheme]
});
var showHoverTooltip = /* @__PURE__ */ Facet.define({
  combine: (inputs) => inputs.reduce((a, i) => a.concat(i), [])
});
var HoverTooltipHost = class _HoverTooltipHost {
  // Needs to be static so that host tooltip instances always match
  static create(view) {
    return new _HoverTooltipHost(view);
  }
  constructor(view) {
    this.view = view;
    this.mounted = false;
    this.dom = document.createElement("div");
    this.dom.classList.add("cm-tooltip-hover");
    this.manager = new TooltipViewManager(view, showHoverTooltip, (t2, p) => this.createHostedView(t2, p), (t2) => t2.dom.remove());
  }
  createHostedView(tooltip, prev) {
    let hostedView = tooltip.create(this.view);
    hostedView.dom.classList.add("cm-tooltip-section");
    this.dom.insertBefore(hostedView.dom, prev ? prev.dom.nextSibling : this.dom.firstChild);
    if (this.mounted && hostedView.mount)
      hostedView.mount(this.view);
    return hostedView;
  }
  mount(view) {
    for (let hostedView of this.manager.tooltipViews) {
      if (hostedView.mount)
        hostedView.mount(view);
    }
    this.mounted = true;
  }
  positioned(space3) {
    for (let hostedView of this.manager.tooltipViews) {
      if (hostedView.positioned)
        hostedView.positioned(space3);
    }
  }
  update(update) {
    this.manager.update(update);
  }
  destroy() {
    var _a2;
    for (let t2 of this.manager.tooltipViews)
      (_a2 = t2.destroy) === null || _a2 === void 0 ? void 0 : _a2.call(t2);
  }
  passProp(name2) {
    let value = void 0;
    for (let view of this.manager.tooltipViews) {
      let given = view[name2];
      if (given !== void 0) {
        if (value === void 0)
          value = given;
        else if (value !== given)
          return void 0;
      }
    }
    return value;
  }
  get offset() {
    return this.passProp("offset");
  }
  get getCoords() {
    return this.passProp("getCoords");
  }
  get overlap() {
    return this.passProp("overlap");
  }
  get resize() {
    return this.passProp("resize");
  }
};
var showHoverTooltipHost = /* @__PURE__ */ showTooltip.compute([showHoverTooltip], (state) => {
  let tooltips = state.facet(showHoverTooltip);
  if (tooltips.length === 0)
    return null;
  return {
    pos: Math.min(...tooltips.map((t2) => t2.pos)),
    end: Math.max(...tooltips.map((t2) => {
      var _a2;
      return (_a2 = t2.end) !== null && _a2 !== void 0 ? _a2 : t2.pos;
    })),
    create: HoverTooltipHost.create,
    above: tooltips[0].above,
    arrow: tooltips.some((t2) => t2.arrow)
  };
});
var HoverPlugin = class {
  constructor(view, source, field, setHover, hoverTime) {
    this.view = view;
    this.source = source;
    this.field = field;
    this.setHover = setHover;
    this.hoverTime = hoverTime;
    this.hoverTimeout = -1;
    this.restartTimeout = -1;
    this.pending = null;
    this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };
    this.checkHover = this.checkHover.bind(this);
    view.dom.addEventListener("mouseleave", this.mouseleave = this.mouseleave.bind(this));
    view.dom.addEventListener("mousemove", this.mousemove = this.mousemove.bind(this));
  }
  update() {
    if (this.pending) {
      this.pending = null;
      clearTimeout(this.restartTimeout);
      this.restartTimeout = setTimeout(() => this.startHover(), 20);
    }
  }
  get active() {
    return this.view.state.field(this.field);
  }
  checkHover() {
    this.hoverTimeout = -1;
    if (this.active.length)
      return;
    let hovered = Date.now() - this.lastMove.time;
    if (hovered < this.hoverTime)
      this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);
    else
      this.startHover();
  }
  startHover() {
    clearTimeout(this.restartTimeout);
    let { view, lastMove } = this;
    let desc = view.docView.nearest(lastMove.target);
    if (!desc)
      return;
    let pos, side = 1;
    if (desc instanceof WidgetView) {
      pos = desc.posAtStart;
    } else {
      pos = view.posAtCoords(lastMove);
      if (pos == null)
        return;
      let posCoords = view.coordsAtPos(pos);
      if (!posCoords || lastMove.y < posCoords.top || lastMove.y > posCoords.bottom || lastMove.x < posCoords.left - view.defaultCharacterWidth || lastMove.x > posCoords.right + view.defaultCharacterWidth)
        return;
      let bidi = view.bidiSpans(view.state.doc.lineAt(pos)).find((s) => s.from <= pos && s.to >= pos);
      let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;
      side = lastMove.x < posCoords.left ? -rtl : rtl;
    }
    let open = this.source(view, pos, side);
    if (open === null || open === void 0 ? void 0 : open.then) {
      let pending = this.pending = { pos };
      open.then((result) => {
        if (this.pending == pending) {
          this.pending = null;
          if (result && !(Array.isArray(result) && !result.length))
            view.dispatch({ effects: this.setHover.of(Array.isArray(result) ? result : [result]) });
        }
      }, (e) => logException(view.state, e, "hover tooltip"));
    } else if (open && !(Array.isArray(open) && !open.length)) {
      view.dispatch({ effects: this.setHover.of(Array.isArray(open) ? open : [open]) });
    }
  }
  get tooltip() {
    let plugin = this.view.plugin(tooltipPlugin);
    let index = plugin ? plugin.manager.tooltips.findIndex((t2) => t2.create == HoverTooltipHost.create) : -1;
    return index > -1 ? plugin.manager.tooltipViews[index] : null;
  }
  mousemove(event) {
    var _a2, _b;
    this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };
    if (this.hoverTimeout < 0)
      this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);
    let { active, tooltip } = this;
    if (active.length && tooltip && !isInTooltip(tooltip.dom, event) || this.pending) {
      let { pos } = active[0] || this.pending, end = (_b = (_a2 = active[0]) === null || _a2 === void 0 ? void 0 : _a2.end) !== null && _b !== void 0 ? _b : pos;
      if (pos == end ? this.view.posAtCoords(this.lastMove) != pos : !isOverRange(this.view, pos, end, event.clientX, event.clientY)) {
        this.view.dispatch({ effects: this.setHover.of([]) });
        this.pending = null;
      }
    }
  }
  mouseleave(event) {
    clearTimeout(this.hoverTimeout);
    this.hoverTimeout = -1;
    let { active } = this;
    if (active.length) {
      let { tooltip } = this;
      let inTooltip = tooltip && tooltip.dom.contains(event.relatedTarget);
      if (!inTooltip)
        this.view.dispatch({ effects: this.setHover.of([]) });
      else
        this.watchTooltipLeave(tooltip.dom);
    }
  }
  watchTooltipLeave(tooltip) {
    let watch = (event) => {
      tooltip.removeEventListener("mouseleave", watch);
      if (this.active.length && !this.view.dom.contains(event.relatedTarget))
        this.view.dispatch({ effects: this.setHover.of([]) });
    };
    tooltip.addEventListener("mouseleave", watch);
  }
  destroy() {
    clearTimeout(this.hoverTimeout);
    this.view.dom.removeEventListener("mouseleave", this.mouseleave);
    this.view.dom.removeEventListener("mousemove", this.mousemove);
  }
};
var tooltipMargin = 4;
function isInTooltip(tooltip, event) {
  let { left, right, top: top2, bottom } = tooltip.getBoundingClientRect(), arrow;
  if (arrow = tooltip.querySelector(".cm-tooltip-arrow")) {
    let arrowRect = arrow.getBoundingClientRect();
    top2 = Math.min(arrowRect.top, top2);
    bottom = Math.max(arrowRect.bottom, bottom);
  }
  return event.clientX >= left - tooltipMargin && event.clientX <= right + tooltipMargin && event.clientY >= top2 - tooltipMargin && event.clientY <= bottom + tooltipMargin;
}
function isOverRange(view, from2, to, x, y, margin) {
  let rect = view.scrollDOM.getBoundingClientRect();
  let docBottom = view.documentTop + view.documentPadding.top + view.contentHeight;
  if (rect.left > x || rect.right < x || rect.top > y || Math.min(rect.bottom, docBottom) < y)
    return false;
  let pos = view.posAtCoords({ x, y }, false);
  return pos >= from2 && pos <= to;
}
function hoverTooltip(source, options = {}) {
  let setHover = StateEffect.define();
  let hoverState = StateField.define({
    create() {
      return [];
    },
    update(value, tr) {
      if (value.length) {
        if (options.hideOnChange && (tr.docChanged || tr.selection))
          value = [];
        else if (options.hideOn)
          value = value.filter((v) => !options.hideOn(tr, v));
        if (tr.docChanged) {
          let mapped = [];
          for (let tooltip of value) {
            let newPos = tr.changes.mapPos(tooltip.pos, -1, MapMode.TrackDel);
            if (newPos != null) {
              let copy = Object.assign(/* @__PURE__ */ Object.create(null), tooltip);
              copy.pos = newPos;
              if (copy.end != null)
                copy.end = tr.changes.mapPos(copy.end);
              mapped.push(copy);
            }
          }
          value = mapped;
        }
      }
      for (let effect of tr.effects) {
        if (effect.is(setHover))
          value = effect.value;
        if (effect.is(closeHoverTooltipEffect))
          value = [];
      }
      return value;
    },
    provide: (f) => showHoverTooltip.from(f)
  });
  return {
    active: hoverState,
    extension: [
      hoverState,
      ViewPlugin.define((view) => new HoverPlugin(
        view,
        source,
        hoverState,
        setHover,
        options.hoverTime || 300
        /* Hover.Time */
      )),
      showHoverTooltipHost
    ]
  };
}
function getTooltip(view, tooltip) {
  let plugin = view.plugin(tooltipPlugin);
  if (!plugin)
    return null;
  let found = plugin.manager.tooltips.indexOf(tooltip);
  return found < 0 ? null : plugin.manager.tooltipViews[found];
}
var closeHoverTooltipEffect = /* @__PURE__ */ StateEffect.define();
var panelConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    let topContainer, bottomContainer;
    for (let c of configs) {
      topContainer = topContainer || c.topContainer;
      bottomContainer = bottomContainer || c.bottomContainer;
    }
    return { topContainer, bottomContainer };
  }
});
function getPanel(view, panel) {
  let plugin = view.plugin(panelPlugin);
  let index = plugin ? plugin.specs.indexOf(panel) : -1;
  return index > -1 ? plugin.panels[index] : null;
}
var panelPlugin = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.input = view.state.facet(showPanel);
    this.specs = this.input.filter((s) => s);
    this.panels = this.specs.map((spec) => spec(view));
    let conf = view.state.facet(panelConfig);
    this.top = new PanelGroup(view, true, conf.topContainer);
    this.bottom = new PanelGroup(view, false, conf.bottomContainer);
    this.top.sync(this.panels.filter((p) => p.top));
    this.bottom.sync(this.panels.filter((p) => !p.top));
    for (let p of this.panels) {
      p.dom.classList.add("cm-panel");
      if (p.mount)
        p.mount();
    }
  }
  update(update) {
    let conf = update.state.facet(panelConfig);
    if (this.top.container != conf.topContainer) {
      this.top.sync([]);
      this.top = new PanelGroup(update.view, true, conf.topContainer);
    }
    if (this.bottom.container != conf.bottomContainer) {
      this.bottom.sync([]);
      this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);
    }
    this.top.syncClasses();
    this.bottom.syncClasses();
    let input = update.state.facet(showPanel);
    if (input != this.input) {
      let specs = input.filter((x) => x);
      let panels = [], top2 = [], bottom = [], mount = [];
      for (let spec of specs) {
        let known = this.specs.indexOf(spec), panel;
        if (known < 0) {
          panel = spec(update.view);
          mount.push(panel);
        } else {
          panel = this.panels[known];
          if (panel.update)
            panel.update(update);
        }
        panels.push(panel);
        (panel.top ? top2 : bottom).push(panel);
      }
      this.specs = specs;
      this.panels = panels;
      this.top.sync(top2);
      this.bottom.sync(bottom);
      for (let p of mount) {
        p.dom.classList.add("cm-panel");
        if (p.mount)
          p.mount();
      }
    } else {
      for (let p of this.panels)
        if (p.update)
          p.update(update);
    }
  }
  destroy() {
    this.top.sync([]);
    this.bottom.sync([]);
  }
}, {
  provide: (plugin) => EditorView.scrollMargins.of((view) => {
    let value = view.plugin(plugin);
    return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };
  })
});
var PanelGroup = class {
  constructor(view, top2, container) {
    this.view = view;
    this.top = top2;
    this.container = container;
    this.dom = void 0;
    this.classes = "";
    this.panels = [];
    this.syncClasses();
  }
  sync(panels) {
    for (let p of this.panels)
      if (p.destroy && panels.indexOf(p) < 0)
        p.destroy();
    this.panels = panels;
    this.syncDOM();
  }
  syncDOM() {
    if (this.panels.length == 0) {
      if (this.dom) {
        this.dom.remove();
        this.dom = void 0;
      }
      return;
    }
    if (!this.dom) {
      this.dom = document.createElement("div");
      this.dom.className = this.top ? "cm-panels cm-panels-top" : "cm-panels cm-panels-bottom";
      this.dom.style[this.top ? "top" : "bottom"] = "0";
      let parent = this.container || this.view.dom;
      parent.insertBefore(this.dom, this.top ? parent.firstChild : null);
    }
    let curDOM = this.dom.firstChild;
    for (let panel of this.panels) {
      if (panel.dom.parentNode == this.dom) {
        while (curDOM != panel.dom)
          curDOM = rm(curDOM);
        curDOM = curDOM.nextSibling;
      } else {
        this.dom.insertBefore(panel.dom, curDOM);
      }
    }
    while (curDOM)
      curDOM = rm(curDOM);
  }
  scrollMargin() {
    return !this.dom || this.container ? 0 : Math.max(0, this.top ? this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) : Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);
  }
  syncClasses() {
    if (!this.container || this.classes == this.view.themeClasses)
      return;
    for (let cls of this.classes.split(" "))
      if (cls)
        this.container.classList.remove(cls);
    for (let cls of (this.classes = this.view.themeClasses).split(" "))
      if (cls)
        this.container.classList.add(cls);
  }
};
function rm(node) {
  let next = node.nextSibling;
  node.remove();
  return next;
}
var showPanel = /* @__PURE__ */ Facet.define({
  enables: panelPlugin
});
var GutterMarker = class extends RangeValue {
  /**
  @internal
  */
  compare(other) {
    return this == other || this.constructor == other.constructor && this.eq(other);
  }
  /**
  Compare this marker to another marker of the same type.
  */
  eq(other) {
    return false;
  }
  /**
  Called if the marker has a `toDOM` method and its representation
  was removed from a gutter.
  */
  destroy(dom) {
  }
};
GutterMarker.prototype.elementClass = "";
GutterMarker.prototype.toDOM = void 0;
GutterMarker.prototype.mapMode = MapMode.TrackBefore;
GutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;
GutterMarker.prototype.point = true;
var gutterLineClass = /* @__PURE__ */ Facet.define();
var gutterWidgetClass = /* @__PURE__ */ Facet.define();
var defaults = {
  class: "",
  renderEmptyElements: false,
  elementStyle: "",
  markers: () => RangeSet.empty,
  lineMarker: () => null,
  widgetMarker: () => null,
  lineMarkerChange: null,
  initialSpacer: null,
  updateSpacer: null,
  domEventHandlers: {}
};
var activeGutters = /* @__PURE__ */ Facet.define();
function gutter(config2) {
  return [gutters(), activeGutters.of({ ...defaults, ...config2 })];
}
var unfixGutters = /* @__PURE__ */ Facet.define({
  combine: (values2) => values2.some((x) => x)
});
function gutters(config2) {
  let result = [
    gutterView
  ];
  if (config2 && config2.fixed === false)
    result.push(unfixGutters.of(true));
  return result;
}
var gutterView = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.view = view;
    this.prevViewport = view.viewport;
    this.dom = document.createElement("div");
    this.dom.className = "cm-gutters";
    this.dom.setAttribute("aria-hidden", "true");
    this.dom.style.minHeight = this.view.contentHeight / this.view.scaleY + "px";
    this.gutters = view.state.facet(activeGutters).map((conf) => new SingleGutterView(view, conf));
    for (let gutter2 of this.gutters)
      this.dom.appendChild(gutter2.dom);
    this.fixed = !view.state.facet(unfixGutters);
    if (this.fixed) {
      this.dom.style.position = "sticky";
    }
    this.syncGutters(false);
    view.scrollDOM.insertBefore(this.dom, view.contentDOM);
  }
  update(update) {
    if (this.updateGutters(update)) {
      let vpA = this.prevViewport, vpB = update.view.viewport;
      let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);
      this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);
    }
    if (update.geometryChanged) {
      this.dom.style.minHeight = this.view.contentHeight / this.view.scaleY + "px";
    }
    if (this.view.state.facet(unfixGutters) != !this.fixed) {
      this.fixed = !this.fixed;
      this.dom.style.position = this.fixed ? "sticky" : "";
    }
    this.prevViewport = update.view.viewport;
  }
  syncGutters(detach) {
    let after = this.dom.nextSibling;
    if (detach)
      this.dom.remove();
    let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);
    let classSet = [];
    let contexts = this.gutters.map((gutter2) => new UpdateContext(gutter2, this.view.viewport, -this.view.documentPadding.top));
    for (let line of this.view.viewportLineBlocks) {
      if (classSet.length)
        classSet = [];
      if (Array.isArray(line.type)) {
        let first = true;
        for (let b of line.type) {
          if (b.type == BlockType.Text && first) {
            advanceCursor(lineClasses, classSet, b.from);
            for (let cx of contexts)
              cx.line(this.view, b, classSet);
            first = false;
          } else if (b.widget) {
            for (let cx of contexts)
              cx.widget(this.view, b);
          }
        }
      } else if (line.type == BlockType.Text) {
        advanceCursor(lineClasses, classSet, line.from);
        for (let cx of contexts)
          cx.line(this.view, line, classSet);
      } else if (line.widget) {
        for (let cx of contexts)
          cx.widget(this.view, line);
      }
    }
    for (let cx of contexts)
      cx.finish();
    if (detach)
      this.view.scrollDOM.insertBefore(this.dom, after);
  }
  updateGutters(update) {
    let prev = update.startState.facet(activeGutters), cur2 = update.state.facet(activeGutters);
    let change = update.docChanged || update.heightChanged || update.viewportChanged || !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);
    if (prev == cur2) {
      for (let gutter2 of this.gutters)
        if (gutter2.update(update))
          change = true;
    } else {
      change = true;
      let gutters2 = [];
      for (let conf of cur2) {
        let known = prev.indexOf(conf);
        if (known < 0) {
          gutters2.push(new SingleGutterView(this.view, conf));
        } else {
          this.gutters[known].update(update);
          gutters2.push(this.gutters[known]);
        }
      }
      for (let g of this.gutters) {
        g.dom.remove();
        if (gutters2.indexOf(g) < 0)
          g.destroy();
      }
      for (let g of gutters2)
        this.dom.appendChild(g.dom);
      this.gutters = gutters2;
    }
    return change;
  }
  destroy() {
    for (let view of this.gutters)
      view.destroy();
    this.dom.remove();
  }
}, {
  provide: (plugin) => EditorView.scrollMargins.of((view) => {
    let value = view.plugin(plugin);
    if (!value || value.gutters.length == 0 || !value.fixed)
      return null;
    return view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth * view.scaleX } : { right: value.dom.offsetWidth * view.scaleX };
  })
});
function asArray2(val) {
  return Array.isArray(val) ? val : [val];
}
function advanceCursor(cursor2, collect, pos) {
  while (cursor2.value && cursor2.from <= pos) {
    if (cursor2.from == pos)
      collect.push(cursor2.value);
    cursor2.next();
  }
}
var UpdateContext = class {
  constructor(gutter2, viewport, height) {
    this.gutter = gutter2;
    this.height = height;
    this.i = 0;
    this.cursor = RangeSet.iter(gutter2.markers, viewport.from);
  }
  addElement(view, block, markers) {
    let { gutter: gutter2 } = this, above = (block.top - this.height) / view.scaleY, height = block.height / view.scaleY;
    if (this.i == gutter2.elements.length) {
      let newElt = new GutterElement(view, height, above, markers);
      gutter2.elements.push(newElt);
      gutter2.dom.appendChild(newElt.dom);
    } else {
      gutter2.elements[this.i].update(view, height, above, markers);
    }
    this.height = block.bottom;
    this.i++;
  }
  line(view, line, extraMarkers) {
    let localMarkers = [];
    advanceCursor(this.cursor, localMarkers, line.from);
    if (extraMarkers.length)
      localMarkers = localMarkers.concat(extraMarkers);
    let forLine = this.gutter.config.lineMarker(view, line, localMarkers);
    if (forLine)
      localMarkers.unshift(forLine);
    let gutter2 = this.gutter;
    if (localMarkers.length == 0 && !gutter2.config.renderEmptyElements)
      return;
    this.addElement(view, line, localMarkers);
  }
  widget(view, block) {
    let marker = this.gutter.config.widgetMarker(view, block.widget, block), markers = marker ? [marker] : null;
    for (let cls of view.state.facet(gutterWidgetClass)) {
      let marker2 = cls(view, block.widget, block);
      if (marker2)
        (markers || (markers = [])).push(marker2);
    }
    if (markers)
      this.addElement(view, block, markers);
  }
  finish() {
    let gutter2 = this.gutter;
    while (gutter2.elements.length > this.i) {
      let last = gutter2.elements.pop();
      gutter2.dom.removeChild(last.dom);
      last.destroy();
    }
  }
};
var SingleGutterView = class {
  constructor(view, config2) {
    this.view = view;
    this.config = config2;
    this.elements = [];
    this.spacer = null;
    this.dom = document.createElement("div");
    this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : "");
    for (let prop in config2.domEventHandlers) {
      this.dom.addEventListener(prop, (event) => {
        let target = event.target, y;
        if (target != this.dom && this.dom.contains(target)) {
          while (target.parentNode != this.dom)
            target = target.parentNode;
          let rect = target.getBoundingClientRect();
          y = (rect.top + rect.bottom) / 2;
        } else {
          y = event.clientY;
        }
        let line = view.lineBlockAtHeight(y - view.documentTop);
        if (config2.domEventHandlers[prop](view, line, event))
          event.preventDefault();
      });
    }
    this.markers = asArray2(config2.markers(view));
    if (config2.initialSpacer) {
      this.spacer = new GutterElement(view, 0, 0, [config2.initialSpacer(view)]);
      this.dom.appendChild(this.spacer.dom);
      this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none";
    }
  }
  update(update) {
    let prevMarkers = this.markers;
    this.markers = asArray2(this.config.markers(update.view));
    if (this.spacer && this.config.updateSpacer) {
      let updated = this.config.updateSpacer(this.spacer.markers[0], update);
      if (updated != this.spacer.markers[0])
        this.spacer.update(update.view, 0, 0, [updated]);
    }
    let vp = update.view.viewport;
    return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) || (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);
  }
  destroy() {
    for (let elt of this.elements)
      elt.destroy();
  }
};
var GutterElement = class {
  constructor(view, height, above, markers) {
    this.height = -1;
    this.above = 0;
    this.markers = [];
    this.dom = document.createElement("div");
    this.dom.className = "cm-gutterElement";
    this.update(view, height, above, markers);
  }
  update(view, height, above, markers) {
    if (this.height != height) {
      this.height = height;
      this.dom.style.height = height + "px";
    }
    if (this.above != above)
      this.dom.style.marginTop = (this.above = above) ? above + "px" : "";
    if (!sameMarkers(this.markers, markers))
      this.setMarkers(view, markers);
  }
  setMarkers(view, markers) {
    let cls = "cm-gutterElement", domPos = this.dom.firstChild;
    for (let iNew = 0, iOld = 0; ; ) {
      let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;
      if (marker) {
        let c = marker.elementClass;
        if (c)
          cls += " " + c;
        for (let i = iOld; i < this.markers.length; i++)
          if (this.markers[i].compare(marker)) {
            skipTo = i;
            matched = true;
            break;
          }
      } else {
        skipTo = this.markers.length;
      }
      while (iOld < skipTo) {
        let next = this.markers[iOld++];
        if (next.toDOM) {
          next.destroy(domPos);
          let after = domPos.nextSibling;
          domPos.remove();
          domPos = after;
        }
      }
      if (!marker)
        break;
      if (marker.toDOM) {
        if (matched)
          domPos = domPos.nextSibling;
        else
          this.dom.insertBefore(marker.toDOM(view), domPos);
      }
      if (matched)
        iOld++;
    }
    this.dom.className = cls;
    this.markers = markers;
  }
  destroy() {
    this.setMarkers(null, []);
  }
};
function sameMarkers(a, b) {
  if (a.length != b.length)
    return false;
  for (let i = 0; i < a.length; i++)
    if (!a[i].compare(b[i]))
      return false;
  return true;
}
var lineNumberMarkers = /* @__PURE__ */ Facet.define();
var lineNumberWidgetMarker = /* @__PURE__ */ Facet.define();
var lineNumberConfig = /* @__PURE__ */ Facet.define({
  combine(values2) {
    return combineConfig(values2, { formatNumber: String, domEventHandlers: {} }, {
      domEventHandlers(a, b) {
        let result = Object.assign({}, a);
        for (let event in b) {
          let exists = result[event], add2 = b[event];
          result[event] = exists ? (view, line, event2) => exists(view, line, event2) || add2(view, line, event2) : add2;
        }
        return result;
      }
    });
  }
});
var NumberMarker = class extends GutterMarker {
  constructor(number2) {
    super();
    this.number = number2;
  }
  eq(other) {
    return this.number == other.number;
  }
  toDOM() {
    return document.createTextNode(this.number);
  }
};
function formatNumber(view, number2) {
  return view.state.facet(lineNumberConfig).formatNumber(number2, view.state);
}
var lineNumberGutter = /* @__PURE__ */ activeGutters.compute([lineNumberConfig], (state) => ({
  class: "cm-lineNumbers",
  renderEmptyElements: false,
  markers(view) {
    return view.state.facet(lineNumberMarkers);
  },
  lineMarker(view, line, others) {
    if (others.some((m) => m.toDOM))
      return null;
    return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));
  },
  widgetMarker: (view, widget, block) => {
    for (let m of view.state.facet(lineNumberWidgetMarker)) {
      let result = m(view, widget, block);
      if (result)
        return result;
    }
    return null;
  },
  lineMarkerChange: (update) => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),
  initialSpacer(view) {
    return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));
  },
  updateSpacer(spacer, update) {
    let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));
    return max == spacer.number ? spacer : new NumberMarker(max);
  },
  domEventHandlers: state.facet(lineNumberConfig).domEventHandlers
}));
function lineNumbers(config2 = {}) {
  return [
    lineNumberConfig.of(config2),
    gutters(),
    lineNumberGutter
  ];
}
function maxLineNumber(lines) {
  let last = 9;
  while (last < lines)
    last = last * 10 + 9;
  return last;
}
var activeLineGutterMarker = /* @__PURE__ */ new class extends GutterMarker {
  constructor() {
    super(...arguments);
    this.elementClass = "cm-activeLineGutter";
  }
}();
var activeLineGutterHighlighter = /* @__PURE__ */ gutterLineClass.compute(["selection"], (state) => {
  let marks2 = [], last = -1;
  for (let range of state.selection.ranges) {
    let linePos = state.doc.lineAt(range.head).from;
    if (linePos > last) {
      last = linePos;
      marks2.push(activeLineGutterMarker.range(linePos));
    }
  }
  return RangeSet.of(marks2);
});
function highlightActiveLineGutter() {
  return activeLineGutterHighlighter;
}

// node_modules/@lezer/common/dist/index.js
var DefaultBufferLength = 1024;
var nextPropID = 0;
var Range2 = class {
  constructor(from2, to) {
    this.from = from2;
    this.to = to;
  }
};
var NodeProp = class {
  /**
  Create a new node prop type.
  */
  constructor(config2 = {}) {
    this.id = nextPropID++;
    this.perNode = !!config2.perNode;
    this.deserialize = config2.deserialize || (() => {
      throw new Error("This node type doesn't define a deserialize function");
    });
  }
  /**
  This is meant to be used with
  [`NodeSet.extend`](#common.NodeSet.extend) or
  [`LRParser.configure`](#lr.ParserConfig.props) to compute
  prop values for each node type in the set. Takes a [match
  object](#common.NodeType^match) or function that returns undefined
  if the node type doesn't get this prop, and the prop's value if
  it does.
  */
  add(match2) {
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    if (typeof match2 != "function")
      match2 = NodeType.match(match2);
    return (type) => {
      let result = match2(type);
      return result === void 0 ? null : [this, result];
    };
  }
};
NodeProp.closedBy = new NodeProp({ deserialize: (str) => str.split(" ") });
NodeProp.openedBy = new NodeProp({ deserialize: (str) => str.split(" ") });
NodeProp.group = new NodeProp({ deserialize: (str) => str.split(" ") });
NodeProp.isolate = new NodeProp({ deserialize: (value) => {
  if (value && value != "rtl" && value != "ltr" && value != "auto")
    throw new RangeError("Invalid value for isolate: " + value);
  return value || "auto";
} });
NodeProp.contextHash = new NodeProp({ perNode: true });
NodeProp.lookAhead = new NodeProp({ perNode: true });
NodeProp.mounted = new NodeProp({ perNode: true });
var MountedTree = class {
  constructor(tree, overlay, parser6) {
    this.tree = tree;
    this.overlay = overlay;
    this.parser = parser6;
  }
  /**
  @internal
  */
  static get(tree) {
    return tree && tree.props && tree.props[NodeProp.mounted.id];
  }
};
var noProps = /* @__PURE__ */ Object.create(null);
var NodeType = class _NodeType {
  /**
  @internal
  */
  constructor(name2, props, id2, flags = 0) {
    this.name = name2;
    this.props = props;
    this.id = id2;
    this.flags = flags;
  }
  /**
  Define a node type.
  */
  static define(spec) {
    let props = spec.props && spec.props.length ? /* @__PURE__ */ Object.create(null) : noProps;
    let flags = (spec.top ? 1 : 0) | (spec.skipped ? 2 : 0) | (spec.error ? 4 : 0) | (spec.name == null ? 8 : 0);
    let type = new _NodeType(spec.name || "", props, spec.id, flags);
    if (spec.props)
      for (let src of spec.props) {
        if (!Array.isArray(src))
          src = src(type);
        if (src) {
          if (src[0].perNode)
            throw new RangeError("Can't store a per-node prop on a node type");
          props[src[0].id] = src[1];
        }
      }
    return type;
  }
  /**
  Retrieves a node prop for this type. Will return `undefined` if
  the prop isn't present on this node.
  */
  prop(prop) {
    return this.props[prop.id];
  }
  /**
  True when this is the top node of a grammar.
  */
  get isTop() {
    return (this.flags & 1) > 0;
  }
  /**
  True when this node is produced by a skip rule.
  */
  get isSkipped() {
    return (this.flags & 2) > 0;
  }
  /**
  Indicates whether this is an error node.
  */
  get isError() {
    return (this.flags & 4) > 0;
  }
  /**
  When true, this node type doesn't correspond to a user-declared
  named node, for example because it is used to cache repetition.
  */
  get isAnonymous() {
    return (this.flags & 8) > 0;
  }
  /**
  Returns true when this node's name or one of its
  [groups](#common.NodeProp^group) matches the given string.
  */
  is(name2) {
    if (typeof name2 == "string") {
      if (this.name == name2)
        return true;
      let group = this.prop(NodeProp.group);
      return group ? group.indexOf(name2) > -1 : false;
    }
    return this.id == name2;
  }
  /**
  Create a function from node types to arbitrary values by
  specifying an object whose property names are node or
  [group](#common.NodeProp^group) names. Often useful with
  [`NodeProp.add`](#common.NodeProp.add). You can put multiple
  names, separated by spaces, in a single property name to map
  multiple node names to a single value.
  */
  static match(map) {
    let direct = /* @__PURE__ */ Object.create(null);
    for (let prop in map)
      for (let name2 of prop.split(" "))
        direct[name2] = map[prop];
    return (node) => {
      for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {
        let found = direct[i < 0 ? node.name : groups[i]];
        if (found)
          return found;
      }
    };
  }
};
NodeType.none = new NodeType(
  "",
  /* @__PURE__ */ Object.create(null),
  0,
  8
  /* NodeFlag.Anonymous */
);
var NodeSet = class _NodeSet {
  /**
  Create a set with the given types. The `id` property of each
  type should correspond to its position within the array.
  */
  constructor(types2) {
    this.types = types2;
    for (let i = 0; i < types2.length; i++)
      if (types2[i].id != i)
        throw new RangeError("Node type ids should correspond to array positions when creating a node set");
  }
  /**
  Create a copy of this set with some node properties added. The
  arguments to this method can be created with
  [`NodeProp.add`](#common.NodeProp.add).
  */
  extend(...props) {
    let newTypes = [];
    for (let type of this.types) {
      let newProps = null;
      for (let source of props) {
        let add2 = source(type);
        if (add2) {
          if (!newProps)
            newProps = Object.assign({}, type.props);
          newProps[add2[0].id] = add2[1];
        }
      }
      newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);
    }
    return new _NodeSet(newTypes);
  }
};
var CachedNode = /* @__PURE__ */ new WeakMap();
var CachedInnerNode = /* @__PURE__ */ new WeakMap();
var IterMode;
(function(IterMode2) {
  IterMode2[IterMode2["ExcludeBuffers"] = 1] = "ExcludeBuffers";
  IterMode2[IterMode2["IncludeAnonymous"] = 2] = "IncludeAnonymous";
  IterMode2[IterMode2["IgnoreMounts"] = 4] = "IgnoreMounts";
  IterMode2[IterMode2["IgnoreOverlays"] = 8] = "IgnoreOverlays";
})(IterMode || (IterMode = {}));
var Tree = class _Tree {
  /**
  Construct a new tree. See also [`Tree.build`](#common.Tree^build).
  */
  constructor(type, children, positions, length, props) {
    this.type = type;
    this.children = children;
    this.positions = positions;
    this.length = length;
    this.props = null;
    if (props && props.length) {
      this.props = /* @__PURE__ */ Object.create(null);
      for (let [prop, value] of props)
        this.props[typeof prop == "number" ? prop : prop.id] = value;
    }
  }
  /**
  @internal
  */
  toString() {
    let mounted = MountedTree.get(this);
    if (mounted && !mounted.overlay)
      return mounted.tree.toString();
    let children = "";
    for (let ch of this.children) {
      let str = ch.toString();
      if (str) {
        if (children)
          children += ",";
        children += str;
      }
    }
    return !this.type.name ? children : (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (children.length ? "(" + children + ")" : "");
  }
  /**
  Get a [tree cursor](#common.TreeCursor) positioned at the top of
  the tree. Mode can be used to [control](#common.IterMode) which
  nodes the cursor visits.
  */
  cursor(mode = 0) {
    return new TreeCursor(this.topNode, mode);
  }
  /**
  Get a [tree cursor](#common.TreeCursor) pointing into this tree
  at the given position and side (see
  [`moveTo`](#common.TreeCursor.moveTo).
  */
  cursorAt(pos, side = 0, mode = 0) {
    let scope = CachedNode.get(this) || this.topNode;
    let cursor2 = new TreeCursor(scope);
    cursor2.moveTo(pos, side);
    CachedNode.set(this, cursor2._tree);
    return cursor2;
  }
  /**
  Get a [syntax node](#common.SyntaxNode) object for the top of the
  tree.
  */
  get topNode() {
    return new TreeNode(this, 0, 0, null);
  }
  /**
  Get the [syntax node](#common.SyntaxNode) at the given position.
  If `side` is -1, this will move into nodes that end at the
  position. If 1, it'll move into nodes that start at the
  position. With 0, it'll only enter nodes that cover the position
  from both sides.
  
  Note that this will not enter
  [overlays](#common.MountedTree.overlay), and you often want
  [`resolveInner`](#common.Tree.resolveInner) instead.
  */
  resolve(pos, side = 0) {
    let node = resolveNode(CachedNode.get(this) || this.topNode, pos, side, false);
    CachedNode.set(this, node);
    return node;
  }
  /**
  Like [`resolve`](#common.Tree.resolve), but will enter
  [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node
  pointing into the innermost overlaid tree at the given position
  (with parent links going through all parent structure, including
  the host trees).
  */
  resolveInner(pos, side = 0) {
    let node = resolveNode(CachedInnerNode.get(this) || this.topNode, pos, side, true);
    CachedInnerNode.set(this, node);
    return node;
  }
  /**
  In some situations, it can be useful to iterate through all
  nodes around a position, including those in overlays that don't
  directly cover the position. This method gives you an iterator
  that will produce all nodes, from small to big, around the given
  position.
  */
  resolveStack(pos, side = 0) {
    return stackIterator(this, pos, side);
  }
  /**
  Iterate over the tree and its children, calling `enter` for any
  node that touches the `from`/`to` region (if given) before
  running over such a node's children, and `leave` (if given) when
  leaving the node. When `enter` returns `false`, that node will
  not have its children iterated over (or `leave` called).
  */
  iterate(spec) {
    let { enter, leave, from: from2 = 0, to = this.length } = spec;
    let mode = spec.mode || 0, anon = (mode & IterMode.IncludeAnonymous) > 0;
    for (let c = this.cursor(mode | IterMode.IncludeAnonymous); ; ) {
      let entered = false;
      if (c.from <= to && c.to >= from2 && (!anon && c.type.isAnonymous || enter(c) !== false)) {
        if (c.firstChild())
          continue;
        entered = true;
      }
      for (; ; ) {
        if (entered && leave && (anon || !c.type.isAnonymous))
          leave(c);
        if (c.nextSibling())
          break;
        if (!c.parent())
          return;
        entered = true;
      }
    }
  }
  /**
  Get the value of the given [node prop](#common.NodeProp) for this
  node. Works with both per-node and per-type props.
  */
  prop(prop) {
    return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : void 0;
  }
  /**
  Returns the node's [per-node props](#common.NodeProp.perNode) in a
  format that can be passed to the [`Tree`](#common.Tree)
  constructor.
  */
  get propValues() {
    let result = [];
    if (this.props)
      for (let id2 in this.props)
        result.push([+id2, this.props[id2]]);
    return result;
  }
  /**
  Balance the direct children of this tree, producing a copy of
  which may have children grouped into subtrees with type
  [`NodeType.none`](#common.NodeType^none).
  */
  balance(config2 = {}) {
    return this.children.length <= 8 ? this : balanceRange(NodeType.none, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new _Tree(this.type, children, positions, length, this.propValues), config2.makeTree || ((children, positions, length) => new _Tree(NodeType.none, children, positions, length)));
  }
  /**
  Build a tree from a postfix-ordered buffer of node information,
  or a cursor over such a buffer.
  */
  static build(data) {
    return buildTree(data);
  }
};
Tree.empty = new Tree(NodeType.none, [], [], 0);
var FlatBufferCursor = class _FlatBufferCursor {
  constructor(buffer, index) {
    this.buffer = buffer;
    this.index = index;
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  get pos() {
    return this.index;
  }
  next() {
    this.index -= 4;
  }
  fork() {
    return new _FlatBufferCursor(this.buffer, this.index);
  }
};
var TreeBuffer = class _TreeBuffer {
  /**
  Create a tree buffer.
  */
  constructor(buffer, length, set) {
    this.buffer = buffer;
    this.length = length;
    this.set = set;
  }
  /**
  @internal
  */
  get type() {
    return NodeType.none;
  }
  /**
  @internal
  */
  toString() {
    let result = [];
    for (let index = 0; index < this.buffer.length; ) {
      result.push(this.childString(index));
      index = this.buffer[index + 3];
    }
    return result.join(",");
  }
  /**
  @internal
  */
  childString(index) {
    let id2 = this.buffer[index], endIndex = this.buffer[index + 3];
    let type = this.set.types[id2], result = type.name;
    if (/\W/.test(result) && !type.isError)
      result = JSON.stringify(result);
    index += 4;
    if (endIndex == index)
      return result;
    let children = [];
    while (index < endIndex) {
      children.push(this.childString(index));
      index = this.buffer[index + 3];
    }
    return result + "(" + children.join(",") + ")";
  }
  /**
  @internal
  */
  findChild(startIndex, endIndex, dir, pos, side) {
    let { buffer } = this, pick = -1;
    for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {
      if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {
        pick = i;
        if (dir > 0)
          break;
      }
    }
    return pick;
  }
  /**
  @internal
  */
  slice(startI, endI, from2) {
    let b = this.buffer;
    let copy = new Uint16Array(endI - startI), len = 0;
    for (let i = startI, j = 0; i < endI; ) {
      copy[j++] = b[i++];
      copy[j++] = b[i++] - from2;
      let to = copy[j++] = b[i++] - from2;
      copy[j++] = b[i++] - startI;
      len = Math.max(len, to);
    }
    return new _TreeBuffer(copy, len, this.set);
  }
};
function checkSide(side, pos, from2, to) {
  switch (side) {
    case -2:
      return from2 < pos;
    case -1:
      return to >= pos && from2 < pos;
    case 0:
      return from2 < pos && to > pos;
    case 1:
      return from2 <= pos && to > pos;
    case 2:
      return to > pos;
    case 4:
      return true;
  }
}
function resolveNode(node, pos, side, overlays) {
  var _a2;
  while (node.from == node.to || (side < 1 ? node.from >= pos : node.from > pos) || (side > -1 ? node.to <= pos : node.to < pos)) {
    let parent = !overlays && node instanceof TreeNode && node.index < 0 ? null : node.parent;
    if (!parent)
      return node;
    node = parent;
  }
  let mode = overlays ? 0 : IterMode.IgnoreOverlays;
  if (overlays)
    for (let scan = node, parent = scan.parent; parent; scan = parent, parent = scan.parent) {
      if (scan instanceof TreeNode && scan.index < 0 && ((_a2 = parent.enter(pos, side, mode)) === null || _a2 === void 0 ? void 0 : _a2.from) != scan.from)
        node = parent;
    }
  for (; ; ) {
    let inner = node.enter(pos, side, mode);
    if (!inner)
      return node;
    node = inner;
  }
}
var BaseNode = class {
  cursor(mode = 0) {
    return new TreeCursor(this, mode);
  }
  getChild(type, before = null, after = null) {
    let r = getChildren(this, type, before, after);
    return r.length ? r[0] : null;
  }
  getChildren(type, before = null, after = null) {
    return getChildren(this, type, before, after);
  }
  resolve(pos, side = 0) {
    return resolveNode(this, pos, side, false);
  }
  resolveInner(pos, side = 0) {
    return resolveNode(this, pos, side, true);
  }
  matchContext(context) {
    return matchNodeContext(this.parent, context);
  }
  enterUnfinishedNodesBefore(pos) {
    let scan = this.childBefore(pos), node = this;
    while (scan) {
      let last = scan.lastChild;
      if (!last || last.to != scan.to)
        break;
      if (last.type.isError && last.from == last.to) {
        node = scan;
        scan = last.prevSibling;
      } else {
        scan = last;
      }
    }
    return node;
  }
  get node() {
    return this;
  }
  get next() {
    return this.parent;
  }
};
var TreeNode = class _TreeNode extends BaseNode {
  constructor(_tree, from2, index, _parent) {
    super();
    this._tree = _tree;
    this.from = from2;
    this.index = index;
    this._parent = _parent;
  }
  get type() {
    return this._tree.type;
  }
  get name() {
    return this._tree.type.name;
  }
  get to() {
    return this.from + this._tree.length;
  }
  nextChild(i, dir, pos, side, mode = 0) {
    for (let parent = this; ; ) {
      for (let { children, positions } = parent._tree, e = dir > 0 ? children.length : -1; i != e; i += dir) {
        let next = children[i], start = positions[i] + parent.from;
        if (!checkSide(side, pos, start, start + next.length))
          continue;
        if (next instanceof TreeBuffer) {
          if (mode & IterMode.ExcludeBuffers)
            continue;
          let index = next.findChild(0, next.buffer.length, dir, pos - start, side);
          if (index > -1)
            return new BufferNode(new BufferContext(parent, next, i, start), null, index);
        } else if (mode & IterMode.IncludeAnonymous || (!next.type.isAnonymous || hasChild(next))) {
          let mounted;
          if (!(mode & IterMode.IgnoreMounts) && (mounted = MountedTree.get(next)) && !mounted.overlay)
            return new _TreeNode(mounted.tree, start, i, parent);
          let inner = new _TreeNode(next, start, i, parent);
          return mode & IterMode.IncludeAnonymous || !inner.type.isAnonymous ? inner : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);
        }
      }
      if (mode & IterMode.IncludeAnonymous || !parent.type.isAnonymous)
        return null;
      if (parent.index >= 0)
        i = parent.index + dir;
      else
        i = dir < 0 ? -1 : parent._parent._tree.children.length;
      parent = parent._parent;
      if (!parent)
        return null;
    }
  }
  get firstChild() {
    return this.nextChild(
      0,
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  get lastChild() {
    return this.nextChild(
      this._tree.children.length - 1,
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  childAfter(pos) {
    return this.nextChild(
      0,
      1,
      pos,
      2
      /* Side.After */
    );
  }
  childBefore(pos) {
    return this.nextChild(
      this._tree.children.length - 1,
      -1,
      pos,
      -2
      /* Side.Before */
    );
  }
  enter(pos, side, mode = 0) {
    let mounted;
    if (!(mode & IterMode.IgnoreOverlays) && (mounted = MountedTree.get(this._tree)) && mounted.overlay) {
      let rPos = pos - this.from;
      for (let { from: from2, to } of mounted.overlay) {
        if ((side > 0 ? from2 <= rPos : from2 < rPos) && (side < 0 ? to >= rPos : to > rPos))
          return new _TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);
      }
    }
    return this.nextChild(0, 1, pos, side, mode);
  }
  nextSignificantParent() {
    let val = this;
    while (val.type.isAnonymous && val._parent)
      val = val._parent;
    return val;
  }
  get parent() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  }
  get nextSibling() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(
      this.index + 1,
      1,
      0,
      4
      /* Side.DontCare */
    ) : null;
  }
  get prevSibling() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(
      this.index - 1,
      -1,
      0,
      4
      /* Side.DontCare */
    ) : null;
  }
  get tree() {
    return this._tree;
  }
  toTree() {
    return this._tree;
  }
  /**
  @internal
  */
  toString() {
    return this._tree.toString();
  }
};
function getChildren(node, type, before, after) {
  let cur2 = node.cursor(), result = [];
  if (!cur2.firstChild())
    return result;
  if (before != null)
    for (let found = false; !found; ) {
      found = cur2.type.is(before);
      if (!cur2.nextSibling())
        return result;
    }
  for (; ; ) {
    if (after != null && cur2.type.is(after))
      return result;
    if (cur2.type.is(type))
      result.push(cur2.node);
    if (!cur2.nextSibling())
      return after == null ? result : [];
  }
}
function matchNodeContext(node, context, i = context.length - 1) {
  for (let p = node; i >= 0; p = p.parent) {
    if (!p)
      return false;
    if (!p.type.isAnonymous) {
      if (context[i] && context[i] != p.name)
        return false;
      i--;
    }
  }
  return true;
}
var BufferContext = class {
  constructor(parent, buffer, index, start) {
    this.parent = parent;
    this.buffer = buffer;
    this.index = index;
    this.start = start;
  }
};
var BufferNode = class _BufferNode extends BaseNode {
  get name() {
    return this.type.name;
  }
  get from() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  }
  get to() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  }
  constructor(context, _parent, index) {
    super();
    this.context = context;
    this._parent = _parent;
    this.index = index;
    this.type = context.buffer.set.types[context.buffer.buffer[index]];
  }
  child(dir, pos, side) {
    let { buffer } = this.context;
    let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);
    return index < 0 ? null : new _BufferNode(this.context, this, index);
  }
  get firstChild() {
    return this.child(
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  get lastChild() {
    return this.child(
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  childAfter(pos) {
    return this.child(
      1,
      pos,
      2
      /* Side.After */
    );
  }
  childBefore(pos) {
    return this.child(
      -1,
      pos,
      -2
      /* Side.Before */
    );
  }
  enter(pos, side, mode = 0) {
    if (mode & IterMode.ExcludeBuffers)
      return null;
    let { buffer } = this.context;
    let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);
    return index < 0 ? null : new _BufferNode(this.context, this, index);
  }
  get parent() {
    return this._parent || this.context.parent.nextSignificantParent();
  }
  externalSibling(dir) {
    return this._parent ? null : this.context.parent.nextChild(
      this.context.index + dir,
      dir,
      0,
      4
      /* Side.DontCare */
    );
  }
  get nextSibling() {
    let { buffer } = this.context;
    let after = buffer.buffer[this.index + 3];
    if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))
      return new _BufferNode(this.context, this._parent, after);
    return this.externalSibling(1);
  }
  get prevSibling() {
    let { buffer } = this.context;
    let parentStart = this._parent ? this._parent.index + 4 : 0;
    if (this.index == parentStart)
      return this.externalSibling(-1);
    return new _BufferNode(this.context, this._parent, buffer.findChild(
      parentStart,
      this.index,
      -1,
      0,
      4
      /* Side.DontCare */
    ));
  }
  get tree() {
    return null;
  }
  toTree() {
    let children = [], positions = [];
    let { buffer } = this.context;
    let startI = this.index + 4, endI = buffer.buffer[this.index + 3];
    if (endI > startI) {
      let from2 = buffer.buffer[this.index + 1];
      children.push(buffer.slice(startI, endI, from2));
      positions.push(0);
    }
    return new Tree(this.type, children, positions, this.to - this.from);
  }
  /**
  @internal
  */
  toString() {
    return this.context.buffer.childString(this.index);
  }
};
function iterStack(heads) {
  if (!heads.length)
    return null;
  let pick = 0, picked = heads[0];
  for (let i = 1; i < heads.length; i++) {
    let node = heads[i];
    if (node.from > picked.from || node.to < picked.to) {
      picked = node;
      pick = i;
    }
  }
  let next = picked instanceof TreeNode && picked.index < 0 ? null : picked.parent;
  let newHeads = heads.slice();
  if (next)
    newHeads[pick] = next;
  else
    newHeads.splice(pick, 1);
  return new StackIterator(newHeads, picked);
}
var StackIterator = class {
  constructor(heads, node) {
    this.heads = heads;
    this.node = node;
  }
  get next() {
    return iterStack(this.heads);
  }
};
function stackIterator(tree, pos, side) {
  let inner = tree.resolveInner(pos, side), layers = null;
  for (let scan = inner instanceof TreeNode ? inner : inner.context.parent; scan; scan = scan.parent) {
    if (scan.index < 0) {
      let parent = scan.parent;
      (layers || (layers = [inner])).push(parent.resolve(pos, side));
      scan = parent;
    } else {
      let mount = MountedTree.get(scan.tree);
      if (mount && mount.overlay && mount.overlay[0].from <= pos && mount.overlay[mount.overlay.length - 1].to >= pos) {
        let root = new TreeNode(mount.tree, mount.overlay[0].from + scan.from, -1, scan);
        (layers || (layers = [inner])).push(resolveNode(root, pos, side, false));
      }
    }
  }
  return layers ? iterStack(layers) : inner;
}
var TreeCursor = class {
  /**
  Shorthand for `.type.name`.
  */
  get name() {
    return this.type.name;
  }
  /**
  @internal
  */
  constructor(node, mode = 0) {
    this.mode = mode;
    this.buffer = null;
    this.stack = [];
    this.index = 0;
    this.bufferNode = null;
    if (node instanceof TreeNode) {
      this.yieldNode(node);
    } else {
      this._tree = node.context.parent;
      this.buffer = node.context;
      for (let n = node._parent; n; n = n._parent)
        this.stack.unshift(n.index);
      this.bufferNode = node;
      this.yieldBuf(node.index);
    }
  }
  yieldNode(node) {
    if (!node)
      return false;
    this._tree = node;
    this.type = node.type;
    this.from = node.from;
    this.to = node.to;
    return true;
  }
  yieldBuf(index, type) {
    this.index = index;
    let { start, buffer } = this.buffer;
    this.type = type || buffer.set.types[buffer.buffer[index]];
    this.from = start + buffer.buffer[index + 1];
    this.to = start + buffer.buffer[index + 2];
    return true;
  }
  /**
  @internal
  */
  yield(node) {
    if (!node)
      return false;
    if (node instanceof TreeNode) {
      this.buffer = null;
      return this.yieldNode(node);
    }
    this.buffer = node.context;
    return this.yieldBuf(node.index, node.type);
  }
  /**
  @internal
  */
  toString() {
    return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();
  }
  /**
  @internal
  */
  enterChild(dir, pos, side) {
    if (!this.buffer)
      return this.yield(this._tree.nextChild(dir < 0 ? this._tree._tree.children.length - 1 : 0, dir, pos, side, this.mode));
    let { buffer } = this.buffer;
    let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);
    if (index < 0)
      return false;
    this.stack.push(this.index);
    return this.yieldBuf(index);
  }
  /**
  Move the cursor to this node's first child. When this returns
  false, the node has no child, and the cursor has not been moved.
  */
  firstChild() {
    return this.enterChild(
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  /**
  Move the cursor to this node's last child.
  */
  lastChild() {
    return this.enterChild(
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  /**
  Move the cursor to the first child that ends after `pos`.
  */
  childAfter(pos) {
    return this.enterChild(
      1,
      pos,
      2
      /* Side.After */
    );
  }
  /**
  Move to the last child that starts before `pos`.
  */
  childBefore(pos) {
    return this.enterChild(
      -1,
      pos,
      -2
      /* Side.Before */
    );
  }
  /**
  Move the cursor to the child around `pos`. If side is -1 the
  child may end at that position, when 1 it may start there. This
  will also enter [overlaid](#common.MountedTree.overlay)
  [mounted](#common.NodeProp^mounted) trees unless `overlays` is
  set to false.
  */
  enter(pos, side, mode = this.mode) {
    if (!this.buffer)
      return this.yield(this._tree.enter(pos, side, mode));
    return mode & IterMode.ExcludeBuffers ? false : this.enterChild(1, pos, side);
  }
  /**
  Move to the node's parent node, if this isn't the top node.
  */
  parent() {
    if (!this.buffer)
      return this.yieldNode(this.mode & IterMode.IncludeAnonymous ? this._tree._parent : this._tree.parent);
    if (this.stack.length)
      return this.yieldBuf(this.stack.pop());
    let parent = this.mode & IterMode.IncludeAnonymous ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
    this.buffer = null;
    return this.yieldNode(parent);
  }
  /**
  @internal
  */
  sibling(dir) {
    if (!this.buffer)
      return !this._tree._parent ? false : this.yield(this._tree.index < 0 ? null : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4, this.mode));
    let { buffer } = this.buffer, d = this.stack.length - 1;
    if (dir < 0) {
      let parentStart = d < 0 ? 0 : this.stack[d] + 4;
      if (this.index != parentStart)
        return this.yieldBuf(buffer.findChild(
          parentStart,
          this.index,
          -1,
          0,
          4
          /* Side.DontCare */
        ));
    } else {
      let after = buffer.buffer[this.index + 3];
      if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))
        return this.yieldBuf(after);
    }
    return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4, this.mode)) : false;
  }
  /**
  Move to this node's next sibling, if any.
  */
  nextSibling() {
    return this.sibling(1);
  }
  /**
  Move to this node's previous sibling, if any.
  */
  prevSibling() {
    return this.sibling(-1);
  }
  atLastNode(dir) {
    let index, parent, { buffer } = this;
    if (buffer) {
      if (dir > 0) {
        if (this.index < buffer.buffer.buffer.length)
          return false;
      } else {
        for (let i = 0; i < this.index; i++)
          if (buffer.buffer.buffer[i + 3] < this.index)
            return false;
      }
      ({ index, parent } = buffer);
    } else {
      ({ index, _parent: parent } = this._tree);
    }
    for (; parent; { index, _parent: parent } = parent) {
      if (index > -1)
        for (let i = index + dir, e = dir < 0 ? -1 : parent._tree.children.length; i != e; i += dir) {
          let child = parent._tree.children[i];
          if (this.mode & IterMode.IncludeAnonymous || child instanceof TreeBuffer || !child.type.isAnonymous || hasChild(child))
            return false;
        }
    }
    return true;
  }
  move(dir, enter) {
    if (enter && this.enterChild(
      dir,
      0,
      4
      /* Side.DontCare */
    ))
      return true;
    for (; ; ) {
      if (this.sibling(dir))
        return true;
      if (this.atLastNode(dir) || !this.parent())
        return false;
    }
  }
  /**
  Move to the next node in a
  [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR)
  traversal, going from a node to its first child or, if the
  current node is empty or `enter` is false, its next sibling or
  the next sibling of the first parent node that has one.
  */
  next(enter = true) {
    return this.move(1, enter);
  }
  /**
  Move to the next node in a last-to-first pre-order traversal. A
  node is followed by its last child or, if it has none, its
  previous sibling or the previous sibling of the first parent
  node that has one.
  */
  prev(enter = true) {
    return this.move(-1, enter);
  }
  /**
  Move the cursor to the innermost node that covers `pos`. If
  `side` is -1, it will enter nodes that end at `pos`. If it is 1,
  it will enter nodes that start at `pos`.
  */
  moveTo(pos, side = 0) {
    while (this.from == this.to || (side < 1 ? this.from >= pos : this.from > pos) || (side > -1 ? this.to <= pos : this.to < pos))
      if (!this.parent())
        break;
    while (this.enterChild(1, pos, side)) {
    }
    return this;
  }
  /**
  Get a [syntax node](#common.SyntaxNode) at the cursor's current
  position.
  */
  get node() {
    if (!this.buffer)
      return this._tree;
    let cache2 = this.bufferNode, result = null, depth = 0;
    if (cache2 && cache2.context == this.buffer) {
      scan: for (let index = this.index, d = this.stack.length; d >= 0; ) {
        for (let c = cache2; c; c = c._parent)
          if (c.index == index) {
            if (index == this.index)
              return c;
            result = c;
            depth = d + 1;
            break scan;
          }
        index = this.stack[--d];
      }
    }
    for (let i = depth; i < this.stack.length; i++)
      result = new BufferNode(this.buffer, result, this.stack[i]);
    return this.bufferNode = new BufferNode(this.buffer, result, this.index);
  }
  /**
  Get the [tree](#common.Tree) that represents the current node, if
  any. Will return null when the node is in a [tree
  buffer](#common.TreeBuffer).
  */
  get tree() {
    return this.buffer ? null : this._tree._tree;
  }
  /**
  Iterate over the current node and all its descendants, calling
  `enter` when entering a node and `leave`, if given, when leaving
  one. When `enter` returns `false`, any children of that node are
  skipped, and `leave` isn't called for it.
  */
  iterate(enter, leave) {
    for (let depth = 0; ; ) {
      let mustLeave = false;
      if (this.type.isAnonymous || enter(this) !== false) {
        if (this.firstChild()) {
          depth++;
          continue;
        }
        if (!this.type.isAnonymous)
          mustLeave = true;
      }
      for (; ; ) {
        if (mustLeave && leave)
          leave(this);
        mustLeave = this.type.isAnonymous;
        if (!depth)
          return;
        if (this.nextSibling())
          break;
        this.parent();
        depth--;
        mustLeave = true;
      }
    }
  }
  /**
  Test whether the current node matches a given context—a sequence
  of direct parent node names. Empty strings in the context array
  are treated as wildcards.
  */
  matchContext(context) {
    if (!this.buffer)
      return matchNodeContext(this.node.parent, context);
    let { buffer } = this.buffer, { types: types2 } = buffer.set;
    for (let i = context.length - 1, d = this.stack.length - 1; i >= 0; d--) {
      if (d < 0)
        return matchNodeContext(this._tree, context, i);
      let type = types2[buffer.buffer[this.stack[d]]];
      if (!type.isAnonymous) {
        if (context[i] && context[i] != type.name)
          return false;
        i--;
      }
    }
    return true;
  }
};
function hasChild(tree) {
  return tree.children.some((ch) => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));
}
function buildTree(data) {
  var _a2;
  let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;
  let cursor2 = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;
  let types2 = nodeSet.types;
  let contextHash = 0, lookAhead = 0;
  function takeNode(parentStart, minPos, children2, positions2, inRepeat, depth) {
    let { id: id2, start, end, size } = cursor2;
    let lookAheadAtStart = lookAhead, contextAtStart = contextHash;
    while (size < 0) {
      cursor2.next();
      if (size == -1) {
        let node2 = reused[id2];
        children2.push(node2);
        positions2.push(start - parentStart);
        return;
      } else if (size == -3) {
        contextHash = id2;
        return;
      } else if (size == -4) {
        lookAhead = id2;
        return;
      } else {
        throw new RangeError(`Unrecognized record size: ${size}`);
      }
    }
    let type = types2[id2], node, buffer2;
    let startPos = start - parentStart;
    if (end - start <= maxBufferLength && (buffer2 = findBufferSize(cursor2.pos - minPos, inRepeat))) {
      let data2 = new Uint16Array(buffer2.size - buffer2.skip);
      let endPos = cursor2.pos - buffer2.size, index = data2.length;
      while (cursor2.pos > endPos)
        index = copyToBuffer(buffer2.start, data2, index);
      node = new TreeBuffer(data2, end - buffer2.start, nodeSet);
      startPos = buffer2.start - parentStart;
    } else {
      let endPos = cursor2.pos - size;
      cursor2.next();
      let localChildren = [], localPositions = [];
      let localInRepeat = id2 >= minRepeatType ? id2 : -1;
      let lastGroup = 0, lastEnd = end;
      while (cursor2.pos > endPos) {
        if (localInRepeat >= 0 && cursor2.id == localInRepeat && cursor2.size >= 0) {
          if (cursor2.end <= lastEnd - maxBufferLength) {
            makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor2.end, lastEnd, localInRepeat, lookAheadAtStart, contextAtStart);
            lastGroup = localChildren.length;
            lastEnd = cursor2.end;
          }
          cursor2.next();
        } else if (depth > 2500) {
          takeFlatNode(start, endPos, localChildren, localPositions);
        } else {
          takeNode(start, endPos, localChildren, localPositions, localInRepeat, depth + 1);
        }
      }
      if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)
        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart, contextAtStart);
      localChildren.reverse();
      localPositions.reverse();
      if (localInRepeat > -1 && lastGroup > 0) {
        let make = makeBalanced(type, contextAtStart);
        node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);
      } else {
        node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end, contextAtStart);
      }
    }
    children2.push(node);
    positions2.push(startPos);
  }
  function takeFlatNode(parentStart, minPos, children2, positions2) {
    let nodes = [];
    let nodeCount = 0, stopAt = -1;
    while (cursor2.pos > minPos) {
      let { id: id2, start, end, size } = cursor2;
      if (size > 4) {
        cursor2.next();
      } else if (stopAt > -1 && start < stopAt) {
        break;
      } else {
        if (stopAt < 0)
          stopAt = end - maxBufferLength;
        nodes.push(id2, start, end);
        nodeCount++;
        cursor2.next();
      }
    }
    if (nodeCount) {
      let buffer2 = new Uint16Array(nodeCount * 4);
      let start = nodes[nodes.length - 2];
      for (let i = nodes.length - 3, j = 0; i >= 0; i -= 3) {
        buffer2[j++] = nodes[i];
        buffer2[j++] = nodes[i + 1] - start;
        buffer2[j++] = nodes[i + 2] - start;
        buffer2[j++] = j;
      }
      children2.push(new TreeBuffer(buffer2, nodes[2] - start, nodeSet));
      positions2.push(start - parentStart);
    }
  }
  function makeBalanced(type, contextHash2) {
    return (children2, positions2, length2) => {
      let lookAhead2 = 0, lastI = children2.length - 1, last, lookAheadProp;
      if (lastI >= 0 && (last = children2[lastI]) instanceof Tree) {
        if (!lastI && last.type == type && last.length == length2)
          return last;
        if (lookAheadProp = last.prop(NodeProp.lookAhead))
          lookAhead2 = positions2[lastI] + last.length + lookAheadProp;
      }
      return makeTree(type, children2, positions2, length2, lookAhead2, contextHash2);
    };
  }
  function makeRepeatLeaf(children2, positions2, base2, i, from2, to, type, lookAhead2, contextHash2) {
    let localChildren = [], localPositions = [];
    while (children2.length > i) {
      localChildren.push(children2.pop());
      localPositions.push(positions2.pop() + base2 - from2);
    }
    children2.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from2, lookAhead2 - to, contextHash2));
    positions2.push(from2 - base2);
  }
  function makeTree(type, children2, positions2, length2, lookAhead2, contextHash2, props) {
    if (contextHash2) {
      let pair2 = [NodeProp.contextHash, contextHash2];
      props = props ? [pair2].concat(props) : [pair2];
    }
    if (lookAhead2 > 25) {
      let pair2 = [NodeProp.lookAhead, lookAhead2];
      props = props ? [pair2].concat(props) : [pair2];
    }
    return new Tree(type, children2, positions2, length2, props);
  }
  function findBufferSize(maxSize, inRepeat) {
    let fork = cursor2.fork();
    let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;
    let result = { size: 0, start: 0, skip: 0 };
    scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos; ) {
      let nodeSize2 = fork.size;
      if (fork.id == inRepeat && nodeSize2 >= 0) {
        result.size = size;
        result.start = start;
        result.skip = skip;
        skip += 4;
        size += 4;
        fork.next();
        continue;
      }
      let startPos = fork.pos - nodeSize2;
      if (nodeSize2 < 0 || startPos < minPos || fork.start < minStart)
        break;
      let localSkipped = fork.id >= minRepeatType ? 4 : 0;
      let nodeStart2 = fork.start;
      fork.next();
      while (fork.pos > startPos) {
        if (fork.size < 0) {
          if (fork.size == -3)
            localSkipped += 4;
          else
            break scan;
        } else if (fork.id >= minRepeatType) {
          localSkipped += 4;
        }
        fork.next();
      }
      start = nodeStart2;
      size += nodeSize2;
      skip += localSkipped;
    }
    if (inRepeat < 0 || size == maxSize) {
      result.size = size;
      result.start = start;
      result.skip = skip;
    }
    return result.size > 4 ? result : void 0;
  }
  function copyToBuffer(bufferStart, buffer2, index) {
    let { id: id2, start, end, size } = cursor2;
    cursor2.next();
    if (size >= 0 && id2 < minRepeatType) {
      let startIndex = index;
      if (size > 4) {
        let endPos = cursor2.pos - (size - 4);
        while (cursor2.pos > endPos)
          index = copyToBuffer(bufferStart, buffer2, index);
      }
      buffer2[--index] = startIndex;
      buffer2[--index] = end - bufferStart;
      buffer2[--index] = start - bufferStart;
      buffer2[--index] = id2;
    } else if (size == -3) {
      contextHash = id2;
    } else if (size == -4) {
      lookAhead = id2;
    }
    return index;
  }
  let children = [], positions = [];
  while (cursor2.pos > 0)
    takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1, 0);
  let length = (_a2 = data.length) !== null && _a2 !== void 0 ? _a2 : children.length ? positions[0] + children[0].length : 0;
  return new Tree(types2[data.topID], children.reverse(), positions.reverse(), length);
}
var nodeSizeCache = /* @__PURE__ */ new WeakMap();
function nodeSize(balanceType, node) {
  if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)
    return 1;
  let size = nodeSizeCache.get(node);
  if (size == null) {
    size = 1;
    for (let child of node.children) {
      if (child.type != balanceType || !(child instanceof Tree)) {
        size = 1;
        break;
      }
      size += nodeSize(balanceType, child);
    }
    nodeSizeCache.set(node, size);
  }
  return size;
}
function balanceRange(balanceType, children, positions, from2, to, start, length, mkTop, mkTree) {
  let total = 0;
  for (let i = from2; i < to; i++)
    total += nodeSize(balanceType, children[i]);
  let maxChild = Math.ceil(
    total * 1.5 / 8
    /* Balance.BranchFactor */
  );
  let localChildren = [], localPositions = [];
  function divide(children2, positions2, from3, to2, offset) {
    for (let i = from3; i < to2; ) {
      let groupFrom = i, groupStart = positions2[i], groupSize = nodeSize(balanceType, children2[i]);
      i++;
      for (; i < to2; i++) {
        let nextSize = nodeSize(balanceType, children2[i]);
        if (groupSize + nextSize >= maxChild)
          break;
        groupSize += nextSize;
      }
      if (i == groupFrom + 1) {
        if (groupSize > maxChild) {
          let only = children2[groupFrom];
          divide(only.children, only.positions, 0, only.children.length, positions2[groupFrom] + offset);
          continue;
        }
        localChildren.push(children2[groupFrom]);
      } else {
        let length2 = positions2[i - 1] + children2[i - 1].length - groupStart;
        localChildren.push(balanceRange(balanceType, children2, positions2, groupFrom, i, groupStart, length2, null, mkTree));
      }
      localPositions.push(groupStart + offset - start);
    }
  }
  divide(children, positions, from2, to, 0);
  return (mkTop || mkTree)(localChildren, localPositions, length);
}
var NodeWeakMap = class {
  constructor() {
    this.map = /* @__PURE__ */ new WeakMap();
  }
  setBuffer(buffer, index, value) {
    let inner = this.map.get(buffer);
    if (!inner)
      this.map.set(buffer, inner = /* @__PURE__ */ new Map());
    inner.set(index, value);
  }
  getBuffer(buffer, index) {
    let inner = this.map.get(buffer);
    return inner && inner.get(index);
  }
  /**
  Set the value for this syntax node.
  */
  set(node, value) {
    if (node instanceof BufferNode)
      this.setBuffer(node.context.buffer, node.index, value);
    else if (node instanceof TreeNode)
      this.map.set(node.tree, value);
  }
  /**
  Retrieve value for this syntax node, if it exists in the map.
  */
  get(node) {
    return node instanceof BufferNode ? this.getBuffer(node.context.buffer, node.index) : node instanceof TreeNode ? this.map.get(node.tree) : void 0;
  }
  /**
  Set the value for the node that a cursor currently points to.
  */
  cursorSet(cursor2, value) {
    if (cursor2.buffer)
      this.setBuffer(cursor2.buffer.buffer, cursor2.index, value);
    else
      this.map.set(cursor2.tree, value);
  }
  /**
  Retrieve the value for the node that a cursor currently points
  to.
  */
  cursorGet(cursor2) {
    return cursor2.buffer ? this.getBuffer(cursor2.buffer.buffer, cursor2.index) : this.map.get(cursor2.tree);
  }
};
var TreeFragment = class _TreeFragment {
  /**
  Construct a tree fragment. You'll usually want to use
  [`addTree`](#common.TreeFragment^addTree) and
  [`applyChanges`](#common.TreeFragment^applyChanges) instead of
  calling this directly.
  */
  constructor(from2, to, tree, offset, openStart = false, openEnd = false) {
    this.from = from2;
    this.to = to;
    this.tree = tree;
    this.offset = offset;
    this.open = (openStart ? 1 : 0) | (openEnd ? 2 : 0);
  }
  /**
  Whether the start of the fragment represents the start of a
  parse, or the end of a change. (In the second case, it may not
  be safe to reuse some nodes at the start, depending on the
  parsing algorithm.)
  */
  get openStart() {
    return (this.open & 1) > 0;
  }
  /**
  Whether the end of the fragment represents the end of a
  full-document parse, or the start of a change.
  */
  get openEnd() {
    return (this.open & 2) > 0;
  }
  /**
  Create a set of fragments from a freshly parsed tree, or update
  an existing set of fragments by replacing the ones that overlap
  with a tree with content from the new tree. When `partial` is
  true, the parse is treated as incomplete, and the resulting
  fragment has [`openEnd`](#common.TreeFragment.openEnd) set to
  true.
  */
  static addTree(tree, fragments = [], partial = false) {
    let result = [new _TreeFragment(0, tree.length, tree, 0, false, partial)];
    for (let f of fragments)
      if (f.to > tree.length)
        result.push(f);
    return result;
  }
  /**
  Apply a set of edits to an array of fragments, removing or
  splitting fragments as necessary to remove edited ranges, and
  adjusting offsets for fragments that moved.
  */
  static applyChanges(fragments, changes, minGap = 128) {
    if (!changes.length)
      return fragments;
    let result = [];
    let fI = 1, nextF = fragments.length ? fragments[0] : null;
    for (let cI = 0, pos = 0, off = 0; ; cI++) {
      let nextC = cI < changes.length ? changes[cI] : null;
      let nextPos = nextC ? nextC.fromA : 1e9;
      if (nextPos - pos >= minGap)
        while (nextF && nextF.from < nextPos) {
          let cut = nextF;
          if (pos >= cut.from || nextPos <= cut.to || off) {
            let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;
            cut = fFrom >= fTo ? null : new _TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);
          }
          if (cut)
            result.push(cut);
          if (nextF.to > nextPos)
            break;
          nextF = fI < fragments.length ? fragments[fI++] : null;
        }
      if (!nextC)
        break;
      pos = nextC.toA;
      off = nextC.toA - nextC.toB;
    }
    return result;
  }
};
var Parser = class {
  /**
  Start a parse, returning a [partial parse](#common.PartialParse)
  object. [`fragments`](#common.TreeFragment) can be passed in to
  make the parse incremental.
  
  By default, the entire input is parsed. You can pass `ranges`,
  which should be a sorted array of non-empty, non-overlapping
  ranges, to parse only those ranges. The tree returned in that
  case will start at `ranges[0].from`.
  */
  startParse(input, fragments, ranges) {
    if (typeof input == "string")
      input = new StringInput(input);
    ranges = !ranges ? [new Range2(0, input.length)] : ranges.length ? ranges.map((r) => new Range2(r.from, r.to)) : [new Range2(0, 0)];
    return this.createParse(input, fragments || [], ranges);
  }
  /**
  Run a full parse, returning the resulting tree.
  */
  parse(input, fragments, ranges) {
    let parse = this.startParse(input, fragments, ranges);
    for (; ; ) {
      let done = parse.advance();
      if (done)
        return done;
    }
  }
};
var StringInput = class {
  constructor(string2) {
    this.string = string2;
  }
  get length() {
    return this.string.length;
  }
  chunk(from2) {
    return this.string.slice(from2);
  }
  get lineChunks() {
    return false;
  }
  read(from2, to) {
    return this.string.slice(from2, to);
  }
};
function parseMixed(nest) {
  return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);
}
var InnerParse = class {
  constructor(parser6, parse, overlay, target, from2) {
    this.parser = parser6;
    this.parse = parse;
    this.overlay = overlay;
    this.target = target;
    this.from = from2;
  }
};
function checkRanges(ranges) {
  if (!ranges.length || ranges.some((r) => r.from >= r.to))
    throw new RangeError("Invalid inner parse ranges given: " + JSON.stringify(ranges));
}
var ActiveOverlay = class {
  constructor(parser6, predicate, mounts, index, start, target, prev) {
    this.parser = parser6;
    this.predicate = predicate;
    this.mounts = mounts;
    this.index = index;
    this.start = start;
    this.target = target;
    this.prev = prev;
    this.depth = 0;
    this.ranges = [];
  }
};
var stoppedInner = new NodeProp({ perNode: true });
var MixedParse = class {
  constructor(base2, nest, input, fragments, ranges) {
    this.nest = nest;
    this.input = input;
    this.fragments = fragments;
    this.ranges = ranges;
    this.inner = [];
    this.innerDone = 0;
    this.baseTree = null;
    this.stoppedAt = null;
    this.baseParse = base2;
  }
  advance() {
    if (this.baseParse) {
      let done2 = this.baseParse.advance();
      if (!done2)
        return null;
      this.baseParse = null;
      this.baseTree = done2;
      this.startInner();
      if (this.stoppedAt != null)
        for (let inner2 of this.inner)
          inner2.parse.stopAt(this.stoppedAt);
    }
    if (this.innerDone == this.inner.length) {
      let result = this.baseTree;
      if (this.stoppedAt != null)
        result = new Tree(result.type, result.children, result.positions, result.length, result.propValues.concat([[stoppedInner, this.stoppedAt]]));
      return result;
    }
    let inner = this.inner[this.innerDone], done = inner.parse.advance();
    if (done) {
      this.innerDone++;
      let props = Object.assign(/* @__PURE__ */ Object.create(null), inner.target.props);
      props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);
      inner.target.props = props;
    }
    return null;
  }
  get parsedPos() {
    if (this.baseParse)
      return 0;
    let pos = this.input.length;
    for (let i = this.innerDone; i < this.inner.length; i++) {
      if (this.inner[i].from < pos)
        pos = Math.min(pos, this.inner[i].parse.parsedPos);
    }
    return pos;
  }
  stopAt(pos) {
    this.stoppedAt = pos;
    if (this.baseParse)
      this.baseParse.stopAt(pos);
    else
      for (let i = this.innerDone; i < this.inner.length; i++)
        this.inner[i].parse.stopAt(pos);
  }
  startInner() {
    let fragmentCursor = new FragmentCursor(this.fragments);
    let overlay = null;
    let covered = null;
    let cursor2 = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), IterMode.IncludeAnonymous | IterMode.IgnoreMounts);
    scan: for (let nest, isCovered; ; ) {
      let enter = true, range;
      if (this.stoppedAt != null && cursor2.from >= this.stoppedAt) {
        enter = false;
      } else if (fragmentCursor.hasNode(cursor2)) {
        if (overlay) {
          let match2 = overlay.mounts.find((m) => m.frag.from <= cursor2.from && m.frag.to >= cursor2.to && m.mount.overlay);
          if (match2)
            for (let r of match2.mount.overlay) {
              let from2 = r.from + match2.pos, to = r.to + match2.pos;
              if (from2 >= cursor2.from && to <= cursor2.to && !overlay.ranges.some((r2) => r2.from < to && r2.to > from2))
                overlay.ranges.push({ from: from2, to });
            }
        }
        enter = false;
      } else if (covered && (isCovered = checkCover(covered.ranges, cursor2.from, cursor2.to))) {
        enter = isCovered != 2;
      } else if (!cursor2.type.isAnonymous && (nest = this.nest(cursor2, this.input)) && (cursor2.from < cursor2.to || !nest.overlay)) {
        if (!cursor2.tree)
          materialize(cursor2);
        let oldMounts = fragmentCursor.findMounts(cursor2.from, nest.parser);
        if (typeof nest.overlay == "function") {
          overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor2.from, cursor2.tree, overlay);
        } else {
          let ranges = punchRanges(this.ranges, nest.overlay || (cursor2.from < cursor2.to ? [new Range2(cursor2.from, cursor2.to)] : []));
          if (ranges.length)
            checkRanges(ranges);
          if (ranges.length || !nest.overlay)
            this.inner.push(new InnerParse(nest.parser, ranges.length ? nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges) : nest.parser.startParse(""), nest.overlay ? nest.overlay.map((r) => new Range2(r.from - cursor2.from, r.to - cursor2.from)) : null, cursor2.tree, ranges.length ? ranges[0].from : cursor2.from));
          if (!nest.overlay)
            enter = false;
          else if (ranges.length)
            covered = { ranges, depth: 0, prev: covered };
        }
      } else if (overlay && (range = overlay.predicate(cursor2))) {
        if (range === true)
          range = new Range2(cursor2.from, cursor2.to);
        if (range.from < range.to) {
          let last = overlay.ranges.length - 1;
          if (last >= 0 && overlay.ranges[last].to == range.from)
            overlay.ranges[last] = { from: overlay.ranges[last].from, to: range.to };
          else
            overlay.ranges.push(range);
        }
      }
      if (enter && cursor2.firstChild()) {
        if (overlay)
          overlay.depth++;
        if (covered)
          covered.depth++;
      } else {
        for (; ; ) {
          if (cursor2.nextSibling())
            break;
          if (!cursor2.parent())
            break scan;
          if (overlay && !--overlay.depth) {
            let ranges = punchRanges(this.ranges, overlay.ranges);
            if (ranges.length) {
              checkRanges(ranges);
              this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map((r) => new Range2(r.from - overlay.start, r.to - overlay.start)), overlay.target, ranges[0].from));
            }
            overlay = overlay.prev;
          }
          if (covered && !--covered.depth)
            covered = covered.prev;
        }
      }
    }
  }
};
function checkCover(covered, from2, to) {
  for (let range of covered) {
    if (range.from >= to)
      break;
    if (range.to > from2)
      return range.from <= from2 && range.to >= to ? 2 : 1;
  }
  return 0;
}
function sliceBuf(buf, startI, endI, nodes, positions, off) {
  if (startI < endI) {
    let from2 = buf.buffer[startI + 1];
    nodes.push(buf.slice(startI, endI, from2));
    positions.push(from2 - off);
  }
}
function materialize(cursor2) {
  let { node } = cursor2, stack = [];
  let buffer = node.context.buffer;
  do {
    stack.push(cursor2.index);
    cursor2.parent();
  } while (!cursor2.tree);
  let base2 = cursor2.tree, i = base2.children.indexOf(buffer);
  let buf = base2.children[i], b = buf.buffer, newStack = [i];
  function split(startI, endI, type, innerOffset, length, stackPos) {
    let targetI = stack[stackPos];
    let children = [], positions = [];
    sliceBuf(buf, startI, targetI, children, positions, innerOffset);
    let from2 = b[targetI + 1], to = b[targetI + 2];
    newStack.push(children.length);
    let child = stackPos ? split(targetI + 4, b[targetI + 3], buf.set.types[b[targetI]], from2, to - from2, stackPos - 1) : node.toTree();
    children.push(child);
    positions.push(from2 - innerOffset);
    sliceBuf(buf, b[targetI + 3], endI, children, positions, innerOffset);
    return new Tree(type, children, positions, length);
  }
  base2.children[i] = split(0, b.length, NodeType.none, 0, buf.length, stack.length - 1);
  for (let index of newStack) {
    let tree = cursor2.tree.children[index], pos = cursor2.tree.positions[index];
    cursor2.yield(new TreeNode(tree, pos + cursor2.from, index, cursor2._tree));
  }
}
var StructureCursor = class {
  constructor(root, offset) {
    this.offset = offset;
    this.done = false;
    this.cursor = root.cursor(IterMode.IncludeAnonymous | IterMode.IgnoreMounts);
  }
  // Move to the first node (in pre-order) that starts at or after `pos`.
  moveTo(pos) {
    let { cursor: cursor2 } = this, p = pos - this.offset;
    while (!this.done && cursor2.from < p) {
      if (cursor2.to >= pos && cursor2.enter(p, 1, IterMode.IgnoreOverlays | IterMode.ExcludeBuffers)) ;
      else if (!cursor2.next(false))
        this.done = true;
    }
  }
  hasNode(cursor2) {
    this.moveTo(cursor2.from);
    if (!this.done && this.cursor.from + this.offset == cursor2.from && this.cursor.tree) {
      for (let tree = this.cursor.tree; ; ) {
        if (tree == cursor2.tree)
          return true;
        if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)
          tree = tree.children[0];
        else
          break;
      }
    }
    return false;
  }
};
var FragmentCursor = class {
  constructor(fragments) {
    var _a2;
    this.fragments = fragments;
    this.curTo = 0;
    this.fragI = 0;
    if (fragments.length) {
      let first = this.curFrag = fragments[0];
      this.curTo = (_a2 = first.tree.prop(stoppedInner)) !== null && _a2 !== void 0 ? _a2 : first.to;
      this.inner = new StructureCursor(first.tree, -first.offset);
    } else {
      this.curFrag = this.inner = null;
    }
  }
  hasNode(node) {
    while (this.curFrag && node.from >= this.curTo)
      this.nextFrag();
    return this.curFrag && this.curFrag.from <= node.from && this.curTo >= node.to && this.inner.hasNode(node);
  }
  nextFrag() {
    var _a2;
    this.fragI++;
    if (this.fragI == this.fragments.length) {
      this.curFrag = this.inner = null;
    } else {
      let frag = this.curFrag = this.fragments[this.fragI];
      this.curTo = (_a2 = frag.tree.prop(stoppedInner)) !== null && _a2 !== void 0 ? _a2 : frag.to;
      this.inner = new StructureCursor(frag.tree, -frag.offset);
    }
  }
  findMounts(pos, parser6) {
    var _a2;
    let result = [];
    if (this.inner) {
      this.inner.cursor.moveTo(pos, 1);
      for (let pos2 = this.inner.cursor.node; pos2; pos2 = pos2.parent) {
        let mount = (_a2 = pos2.tree) === null || _a2 === void 0 ? void 0 : _a2.prop(NodeProp.mounted);
        if (mount && mount.parser == parser6) {
          for (let i = this.fragI; i < this.fragments.length; i++) {
            let frag = this.fragments[i];
            if (frag.from >= pos2.to)
              break;
            if (frag.tree == this.curFrag.tree)
              result.push({
                frag,
                pos: pos2.from - frag.offset,
                mount
              });
          }
        }
      }
    }
    return result;
  }
};
function punchRanges(outer, ranges) {
  let copy = null, current = ranges;
  for (let i = 1, j = 0; i < outer.length; i++) {
    let gapFrom = outer[i - 1].to, gapTo = outer[i].from;
    for (; j < current.length; j++) {
      let r = current[j];
      if (r.from >= gapTo)
        break;
      if (r.to <= gapFrom)
        continue;
      if (!copy)
        current = copy = ranges.slice();
      if (r.from < gapFrom) {
        copy[j] = new Range2(r.from, gapFrom);
        if (r.to > gapTo)
          copy.splice(j + 1, 0, new Range2(gapTo, r.to));
      } else if (r.to > gapTo) {
        copy[j--] = new Range2(gapTo, r.to);
      } else {
        copy.splice(j--, 1);
      }
    }
  }
  return current;
}
function findCoverChanges(a, b, from2, to) {
  let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;
  let result = [];
  for (; ; ) {
    let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;
    let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;
    if (inA != inB) {
      let start = Math.max(pos, from2), end = Math.min(nextA, nextB, to);
      if (start < end)
        result.push(new Range2(start, end));
    }
    pos = Math.min(nextA, nextB);
    if (pos == 1e9)
      break;
    if (nextA == pos) {
      if (!inA)
        inA = true;
      else {
        inA = false;
        iA++;
      }
    }
    if (nextB == pos) {
      if (!inB)
        inB = true;
      else {
        inB = false;
        iB++;
      }
    }
  }
  return result;
}
function enterFragments(mounts, ranges) {
  let result = [];
  for (let { pos, mount, frag } of mounts) {
    let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;
    let from2 = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);
    if (mount.overlay) {
      let overlay = mount.overlay.map((r) => new Range2(r.from + pos, r.to + pos));
      let changes = findCoverChanges(ranges, overlay, from2, to);
      for (let i = 0, pos2 = from2; ; i++) {
        let last = i == changes.length, end = last ? to : changes[i].from;
        if (end > pos2)
          result.push(new TreeFragment(pos2, end, mount.tree, -startPos, frag.from >= pos2 || frag.openStart, frag.to <= end || frag.openEnd));
        if (last)
          break;
        pos2 = changes[i].to;
      }
    } else {
      result.push(new TreeFragment(from2, to, mount.tree, -startPos, frag.from >= startPos || frag.openStart, frag.to <= endPos || frag.openEnd));
    }
  }
  return result;
}

// node_modules/@lezer/highlight/dist/index.js
var nextTagID = 0;
var Tag = class _Tag {
  /**
  @internal
  */
  constructor(name2, set, base2, modified) {
    this.name = name2;
    this.set = set;
    this.base = base2;
    this.modified = modified;
    this.id = nextTagID++;
  }
  toString() {
    let { name: name2 } = this;
    for (let mod of this.modified)
      if (mod.name)
        name2 = `${mod.name}(${name2})`;
    return name2;
  }
  static define(nameOrParent, parent) {
    let name2 = typeof nameOrParent == "string" ? nameOrParent : "?";
    if (nameOrParent instanceof _Tag)
      parent = nameOrParent;
    if (parent === null || parent === void 0 ? void 0 : parent.base)
      throw new Error("Can not derive from a modified tag");
    let tag = new _Tag(name2, [], null, []);
    tag.set.push(tag);
    if (parent)
      for (let t2 of parent.set)
        tag.set.push(t2);
    return tag;
  }
  /**
  Define a tag _modifier_, which is a function that, given a tag,
  will return a tag that is a subtag of the original. Applying the
  same modifier to a twice tag will return the same value (`m1(t1)
  == m1(t1)`) and applying multiple modifiers will, regardless or
  order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).
  
  When multiple modifiers are applied to a given base tag, each
  smaller set of modifiers is registered as a parent, so that for
  example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,
  `m1(m3(t1)`, and so on.
  */
  static defineModifier(name2) {
    let mod = new Modifier(name2);
    return (tag) => {
      if (tag.modified.indexOf(mod) > -1)
        return tag;
      return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));
    };
  }
};
var nextModifierID = 0;
var Modifier = class _Modifier {
  constructor(name2) {
    this.name = name2;
    this.instances = [];
    this.id = nextModifierID++;
  }
  static get(base2, mods) {
    if (!mods.length)
      return base2;
    let exists = mods[0].instances.find((t2) => t2.base == base2 && sameArray2(mods, t2.modified));
    if (exists)
      return exists;
    let set = [], tag = new Tag(base2.name, set, base2, mods);
    for (let m of mods)
      m.instances.push(tag);
    let configs = powerSet(mods);
    for (let parent of base2.set)
      if (!parent.modified.length)
        for (let config2 of configs)
          set.push(_Modifier.get(parent, config2));
    return tag;
  }
};
function sameArray2(a, b) {
  return a.length == b.length && a.every((x, i) => x == b[i]);
}
function powerSet(array2) {
  let sets = [[]];
  for (let i = 0; i < array2.length; i++) {
    for (let j = 0, e = sets.length; j < e; j++) {
      sets.push(sets[j].concat(array2[i]));
    }
  }
  return sets.sort((a, b) => b.length - a.length);
}
function styleTags(spec) {
  let byName = /* @__PURE__ */ Object.create(null);
  for (let prop in spec) {
    let tags3 = spec[prop];
    if (!Array.isArray(tags3))
      tags3 = [tags3];
    for (let part of prop.split(" "))
      if (part) {
        let pieces = [], mode = 2, rest = part;
        for (let pos = 0; ; ) {
          if (rest == "..." && pos > 0 && pos + 3 == part.length) {
            mode = 1;
            break;
          }
          let m = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(rest);
          if (!m)
            throw new RangeError("Invalid path: " + part);
          pieces.push(m[0] == "*" ? "" : m[0][0] == '"' ? JSON.parse(m[0]) : m[0]);
          pos += m[0].length;
          if (pos == part.length)
            break;
          let next = part[pos++];
          if (pos == part.length && next == "!") {
            mode = 0;
            break;
          }
          if (next != "/")
            throw new RangeError("Invalid path: " + part);
          rest = part.slice(pos);
        }
        let last = pieces.length - 1, inner = pieces[last];
        if (!inner)
          throw new RangeError("Invalid path: " + part);
        let rule = new Rule(tags3, mode, last > 0 ? pieces.slice(0, last) : null);
        byName[inner] = rule.sort(byName[inner]);
      }
  }
  return ruleNodeProp.add(byName);
}
var ruleNodeProp = new NodeProp();
var Rule = class {
  constructor(tags3, mode, context, next) {
    this.tags = tags3;
    this.mode = mode;
    this.context = context;
    this.next = next;
  }
  get opaque() {
    return this.mode == 0;
  }
  get inherit() {
    return this.mode == 1;
  }
  sort(other) {
    if (!other || other.depth < this.depth) {
      this.next = other;
      return this;
    }
    other.next = this.sort(other.next);
    return other;
  }
  get depth() {
    return this.context ? this.context.length : 0;
  }
};
Rule.empty = new Rule([], 2, null);
function tagHighlighter(tags3, options) {
  let map = /* @__PURE__ */ Object.create(null);
  for (let style of tags3) {
    if (!Array.isArray(style.tag))
      map[style.tag.id] = style.class;
    else
      for (let tag of style.tag)
        map[tag.id] = style.class;
  }
  let { scope, all = null } = options || {};
  return {
    style: (tags4) => {
      let cls = all;
      for (let tag of tags4) {
        for (let sub of tag.set) {
          let tagClass = map[sub.id];
          if (tagClass) {
            cls = cls ? cls + " " + tagClass : tagClass;
            break;
          }
        }
      }
      return cls;
    },
    scope
  };
}
function highlightTags(highlighters, tags3) {
  let result = null;
  for (let highlighter of highlighters) {
    let value = highlighter.style(tags3);
    if (value)
      result = result ? result + " " + value : value;
  }
  return result;
}
function highlightTree(tree, highlighter, putStyle, from2 = 0, to = tree.length) {
  let builder = new HighlightBuilder(from2, Array.isArray(highlighter) ? highlighter : [highlighter], putStyle);
  builder.highlightRange(tree.cursor(), from2, to, "", builder.highlighters);
  builder.flush(to);
}
var HighlightBuilder = class {
  constructor(at, highlighters, span) {
    this.at = at;
    this.highlighters = highlighters;
    this.span = span;
    this.class = "";
  }
  startSpan(at, cls) {
    if (cls != this.class) {
      this.flush(at);
      if (at > this.at)
        this.at = at;
      this.class = cls;
    }
  }
  flush(to) {
    if (to > this.at && this.class)
      this.span(this.at, to, this.class);
  }
  highlightRange(cursor2, from2, to, inheritedClass, highlighters) {
    let { type, from: start, to: end } = cursor2;
    if (start >= to || end <= from2)
      return;
    if (type.isTop)
      highlighters = this.highlighters.filter((h) => !h.scope || h.scope(type));
    let cls = inheritedClass;
    let rule = getStyleTags(cursor2) || Rule.empty;
    let tagCls = highlightTags(highlighters, rule.tags);
    if (tagCls) {
      if (cls)
        cls += " ";
      cls += tagCls;
      if (rule.mode == 1)
        inheritedClass += (inheritedClass ? " " : "") + tagCls;
    }
    this.startSpan(Math.max(from2, start), cls);
    if (rule.opaque)
      return;
    let mounted = cursor2.tree && cursor2.tree.prop(NodeProp.mounted);
    if (mounted && mounted.overlay) {
      let inner = cursor2.node.enter(mounted.overlay[0].from + start, 1);
      let innerHighlighters = this.highlighters.filter((h) => !h.scope || h.scope(mounted.tree.type));
      let hasChild2 = cursor2.firstChild();
      for (let i = 0, pos = start; ; i++) {
        let next = i < mounted.overlay.length ? mounted.overlay[i] : null;
        let nextPos = next ? next.from + start : end;
        let rangeFrom2 = Math.max(from2, pos), rangeTo2 = Math.min(to, nextPos);
        if (rangeFrom2 < rangeTo2 && hasChild2) {
          while (cursor2.from < rangeTo2) {
            this.highlightRange(cursor2, rangeFrom2, rangeTo2, inheritedClass, highlighters);
            this.startSpan(Math.min(rangeTo2, cursor2.to), cls);
            if (cursor2.to >= nextPos || !cursor2.nextSibling())
              break;
          }
        }
        if (!next || nextPos > to)
          break;
        pos = next.to + start;
        if (pos > from2) {
          this.highlightRange(inner.cursor(), Math.max(from2, next.from + start), Math.min(to, pos), "", innerHighlighters);
          this.startSpan(Math.min(to, pos), cls);
        }
      }
      if (hasChild2)
        cursor2.parent();
    } else if (cursor2.firstChild()) {
      if (mounted)
        inheritedClass = "";
      do {
        if (cursor2.to <= from2)
          continue;
        if (cursor2.from >= to)
          break;
        this.highlightRange(cursor2, from2, to, inheritedClass, highlighters);
        this.startSpan(Math.min(to, cursor2.to), cls);
      } while (cursor2.nextSibling());
      cursor2.parent();
    }
  }
};
function getStyleTags(node) {
  let rule = node.type.prop(ruleNodeProp);
  while (rule && rule.context && !node.matchContext(rule.context))
    rule = rule.next;
  return rule || null;
}
var t = Tag.define;
var comment = t();
var name = t();
var typeName = t(name);
var propertyName = t(name);
var literal = t();
var string = t(literal);
var number = t(literal);
var content = t();
var heading = t(content);
var keyword = t();
var operator = t();
var punctuation = t();
var bracket = t(punctuation);
var meta = t();
var tags = {
  /**
  A comment.
  */
  comment,
  /**
  A line [comment](#highlight.tags.comment).
  */
  lineComment: t(comment),
  /**
  A block [comment](#highlight.tags.comment).
  */
  blockComment: t(comment),
  /**
  A documentation [comment](#highlight.tags.comment).
  */
  docComment: t(comment),
  /**
  Any kind of identifier.
  */
  name,
  /**
  The [name](#highlight.tags.name) of a variable.
  */
  variableName: t(name),
  /**
  A type [name](#highlight.tags.name).
  */
  typeName,
  /**
  A tag name (subtag of [`typeName`](#highlight.tags.typeName)).
  */
  tagName: t(typeName),
  /**
  A property or field [name](#highlight.tags.name).
  */
  propertyName,
  /**
  An attribute name (subtag of [`propertyName`](#highlight.tags.propertyName)).
  */
  attributeName: t(propertyName),
  /**
  The [name](#highlight.tags.name) of a class.
  */
  className: t(name),
  /**
  A label [name](#highlight.tags.name).
  */
  labelName: t(name),
  /**
  A namespace [name](#highlight.tags.name).
  */
  namespace: t(name),
  /**
  The [name](#highlight.tags.name) of a macro.
  */
  macroName: t(name),
  /**
  A literal value.
  */
  literal,
  /**
  A string [literal](#highlight.tags.literal).
  */
  string,
  /**
  A documentation [string](#highlight.tags.string).
  */
  docString: t(string),
  /**
  A character literal (subtag of [string](#highlight.tags.string)).
  */
  character: t(string),
  /**
  An attribute value (subtag of [string](#highlight.tags.string)).
  */
  attributeValue: t(string),
  /**
  A number [literal](#highlight.tags.literal).
  */
  number,
  /**
  An integer [number](#highlight.tags.number) literal.
  */
  integer: t(number),
  /**
  A floating-point [number](#highlight.tags.number) literal.
  */
  float: t(number),
  /**
  A boolean [literal](#highlight.tags.literal).
  */
  bool: t(literal),
  /**
  Regular expression [literal](#highlight.tags.literal).
  */
  regexp: t(literal),
  /**
  An escape [literal](#highlight.tags.literal), for example a
  backslash escape in a string.
  */
  escape: t(literal),
  /**
  A color [literal](#highlight.tags.literal).
  */
  color: t(literal),
  /**
  A URL [literal](#highlight.tags.literal).
  */
  url: t(literal),
  /**
  A language keyword.
  */
  keyword,
  /**
  The [keyword](#highlight.tags.keyword) for the self or this
  object.
  */
  self: t(keyword),
  /**
  The [keyword](#highlight.tags.keyword) for null.
  */
  null: t(keyword),
  /**
  A [keyword](#highlight.tags.keyword) denoting some atomic value.
  */
  atom: t(keyword),
  /**
  A [keyword](#highlight.tags.keyword) that represents a unit.
  */
  unit: t(keyword),
  /**
  A modifier [keyword](#highlight.tags.keyword).
  */
  modifier: t(keyword),
  /**
  A [keyword](#highlight.tags.keyword) that acts as an operator.
  */
  operatorKeyword: t(keyword),
  /**
  A control-flow related [keyword](#highlight.tags.keyword).
  */
  controlKeyword: t(keyword),
  /**
  A [keyword](#highlight.tags.keyword) that defines something.
  */
  definitionKeyword: t(keyword),
  /**
  A [keyword](#highlight.tags.keyword) related to defining or
  interfacing with modules.
  */
  moduleKeyword: t(keyword),
  /**
  An operator.
  */
  operator,
  /**
  An [operator](#highlight.tags.operator) that dereferences something.
  */
  derefOperator: t(operator),
  /**
  Arithmetic-related [operator](#highlight.tags.operator).
  */
  arithmeticOperator: t(operator),
  /**
  Logical [operator](#highlight.tags.operator).
  */
  logicOperator: t(operator),
  /**
  Bit [operator](#highlight.tags.operator).
  */
  bitwiseOperator: t(operator),
  /**
  Comparison [operator](#highlight.tags.operator).
  */
  compareOperator: t(operator),
  /**
  [Operator](#highlight.tags.operator) that updates its operand.
  */
  updateOperator: t(operator),
  /**
  [Operator](#highlight.tags.operator) that defines something.
  */
  definitionOperator: t(operator),
  /**
  Type-related [operator](#highlight.tags.operator).
  */
  typeOperator: t(operator),
  /**
  Control-flow [operator](#highlight.tags.operator).
  */
  controlOperator: t(operator),
  /**
  Program or markup punctuation.
  */
  punctuation,
  /**
  [Punctuation](#highlight.tags.punctuation) that separates
  things.
  */
  separator: t(punctuation),
  /**
  Bracket-style [punctuation](#highlight.tags.punctuation).
  */
  bracket,
  /**
  Angle [brackets](#highlight.tags.bracket) (usually `<` and `>`
  tokens).
  */
  angleBracket: t(bracket),
  /**
  Square [brackets](#highlight.tags.bracket) (usually `[` and `]`
  tokens).
  */
  squareBracket: t(bracket),
  /**
  Parentheses (usually `(` and `)` tokens). Subtag of
  [bracket](#highlight.tags.bracket).
  */
  paren: t(bracket),
  /**
  Braces (usually `{` and `}` tokens). Subtag of
  [bracket](#highlight.tags.bracket).
  */
  brace: t(bracket),
  /**
  Content, for example plain text in XML or markup documents.
  */
  content,
  /**
  [Content](#highlight.tags.content) that represents a heading.
  */
  heading,
  /**
  A level 1 [heading](#highlight.tags.heading).
  */
  heading1: t(heading),
  /**
  A level 2 [heading](#highlight.tags.heading).
  */
  heading2: t(heading),
  /**
  A level 3 [heading](#highlight.tags.heading).
  */
  heading3: t(heading),
  /**
  A level 4 [heading](#highlight.tags.heading).
  */
  heading4: t(heading),
  /**
  A level 5 [heading](#highlight.tags.heading).
  */
  heading5: t(heading),
  /**
  A level 6 [heading](#highlight.tags.heading).
  */
  heading6: t(heading),
  /**
  A prose [content](#highlight.tags.content) separator (such as a horizontal rule).
  */
  contentSeparator: t(content),
  /**
  [Content](#highlight.tags.content) that represents a list.
  */
  list: t(content),
  /**
  [Content](#highlight.tags.content) that represents a quote.
  */
  quote: t(content),
  /**
  [Content](#highlight.tags.content) that is emphasized.
  */
  emphasis: t(content),
  /**
  [Content](#highlight.tags.content) that is styled strong.
  */
  strong: t(content),
  /**
  [Content](#highlight.tags.content) that is part of a link.
  */
  link: t(content),
  /**
  [Content](#highlight.tags.content) that is styled as code or
  monospace.
  */
  monospace: t(content),
  /**
  [Content](#highlight.tags.content) that has a strike-through
  style.
  */
  strikethrough: t(content),
  /**
  Inserted text in a change-tracking format.
  */
  inserted: t(),
  /**
  Deleted text.
  */
  deleted: t(),
  /**
  Changed text.
  */
  changed: t(),
  /**
  An invalid or unsyntactic element.
  */
  invalid: t(),
  /**
  Metadata or meta-instruction.
  */
  meta,
  /**
  [Metadata](#highlight.tags.meta) that applies to the entire
  document.
  */
  documentMeta: t(meta),
  /**
  [Metadata](#highlight.tags.meta) that annotates or adds
  attributes to a given syntactic element.
  */
  annotation: t(meta),
  /**
  Processing instruction or preprocessor directive. Subtag of
  [meta](#highlight.tags.meta).
  */
  processingInstruction: t(meta),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates that a
  given element is being defined. Expected to be used with the
  various [name](#highlight.tags.name) tags.
  */
  definition: Tag.defineModifier("definition"),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates that
  something is constant. Mostly expected to be used with
  [variable names](#highlight.tags.variableName).
  */
  constant: Tag.defineModifier("constant"),
  /**
  [Modifier](#highlight.Tag^defineModifier) used to indicate that
  a [variable](#highlight.tags.variableName) or [property
  name](#highlight.tags.propertyName) is being called or defined
  as a function.
  */
  function: Tag.defineModifier("function"),
  /**
  [Modifier](#highlight.Tag^defineModifier) that can be applied to
  [names](#highlight.tags.name) to indicate that they belong to
  the language's standard environment.
  */
  standard: Tag.defineModifier("standard"),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates a given
  [names](#highlight.tags.name) is local to some scope.
  */
  local: Tag.defineModifier("local"),
  /**
  A generic variant [modifier](#highlight.Tag^defineModifier) that
  can be used to tag language-specific alternative variants of
  some common tag. It is recommended for themes to define special
  forms of at least the [string](#highlight.tags.string) and
  [variable name](#highlight.tags.variableName) tags, since those
  come up a lot.
  */
  special: Tag.defineModifier("special")
};
for (let name2 in tags) {
  let val = tags[name2];
  if (val instanceof Tag)
    val.name = name2;
}
var classHighlighter = tagHighlighter([
  { tag: tags.link, class: "tok-link" },
  { tag: tags.heading, class: "tok-heading" },
  { tag: tags.emphasis, class: "tok-emphasis" },
  { tag: tags.strong, class: "tok-strong" },
  { tag: tags.keyword, class: "tok-keyword" },
  { tag: tags.atom, class: "tok-atom" },
  { tag: tags.bool, class: "tok-bool" },
  { tag: tags.url, class: "tok-url" },
  { tag: tags.labelName, class: "tok-labelName" },
  { tag: tags.inserted, class: "tok-inserted" },
  { tag: tags.deleted, class: "tok-deleted" },
  { tag: tags.literal, class: "tok-literal" },
  { tag: tags.string, class: "tok-string" },
  { tag: tags.number, class: "tok-number" },
  { tag: [tags.regexp, tags.escape, tags.special(tags.string)], class: "tok-string2" },
  { tag: tags.variableName, class: "tok-variableName" },
  { tag: tags.local(tags.variableName), class: "tok-variableName tok-local" },
  { tag: tags.definition(tags.variableName), class: "tok-variableName tok-definition" },
  { tag: tags.special(tags.variableName), class: "tok-variableName2" },
  { tag: tags.definition(tags.propertyName), class: "tok-propertyName tok-definition" },
  { tag: tags.typeName, class: "tok-typeName" },
  { tag: tags.namespace, class: "tok-namespace" },
  { tag: tags.className, class: "tok-className" },
  { tag: tags.macroName, class: "tok-macroName" },
  { tag: tags.propertyName, class: "tok-propertyName" },
  { tag: tags.operator, class: "tok-operator" },
  { tag: tags.comment, class: "tok-comment" },
  { tag: tags.meta, class: "tok-meta" },
  { tag: tags.invalid, class: "tok-invalid" },
  { tag: tags.punctuation, class: "tok-punctuation" }
]);

// node_modules/@codemirror/language/dist/index.js
var _a;
var languageDataProp = /* @__PURE__ */ new NodeProp();
function defineLanguageFacet(baseData) {
  return Facet.define({
    combine: baseData ? (values2) => values2.concat(baseData) : void 0
  });
}
var sublanguageProp = /* @__PURE__ */ new NodeProp();
var Language = class {
  /**
  Construct a language object. If you need to invoke this
  directly, first define a data facet with
  [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet), and then
  configure your parser to [attach](https://codemirror.net/6/docs/ref/#language.languageDataProp) it
  to the language's outer syntax node.
  */
  constructor(data, parser6, extraExtensions = [], name2 = "") {
    this.data = data;
    this.name = name2;
    if (!EditorState.prototype.hasOwnProperty("tree"))
      Object.defineProperty(EditorState.prototype, "tree", { get() {
        return syntaxTree(this);
      } });
    this.parser = parser6;
    this.extension = [
      language.of(this),
      EditorState.languageData.of((state, pos, side) => {
        let top2 = topNodeAt(state, pos, side), data2 = top2.type.prop(languageDataProp);
        if (!data2)
          return [];
        let base2 = state.facet(data2), sub = top2.type.prop(sublanguageProp);
        if (sub) {
          let innerNode = top2.resolve(pos - top2.from, side);
          for (let sublang of sub)
            if (sublang.test(innerNode, state)) {
              let data3 = state.facet(sublang.facet);
              return sublang.type == "replace" ? data3 : data3.concat(base2);
            }
        }
        return base2;
      })
    ].concat(extraExtensions);
  }
  /**
  Query whether this language is active at the given position.
  */
  isActiveAt(state, pos, side = -1) {
    return topNodeAt(state, pos, side).type.prop(languageDataProp) == this.data;
  }
  /**
  Find the document regions that were parsed using this language.
  The returned regions will _include_ any nested languages rooted
  in this language, when those exist.
  */
  findRegions(state) {
    let lang = state.facet(language);
    if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)
      return [{ from: 0, to: state.doc.length }];
    if (!lang || !lang.allowsNesting)
      return [];
    let result = [];
    let explore = (tree, from2) => {
      if (tree.prop(languageDataProp) == this.data) {
        result.push({ from: from2, to: from2 + tree.length });
        return;
      }
      let mount = tree.prop(NodeProp.mounted);
      if (mount) {
        if (mount.tree.prop(languageDataProp) == this.data) {
          if (mount.overlay)
            for (let r of mount.overlay)
              result.push({ from: r.from + from2, to: r.to + from2 });
          else
            result.push({ from: from2, to: from2 + tree.length });
          return;
        } else if (mount.overlay) {
          let size = result.length;
          explore(mount.tree, mount.overlay[0].from + from2);
          if (result.length > size)
            return;
        }
      }
      for (let i = 0; i < tree.children.length; i++) {
        let ch = tree.children[i];
        if (ch instanceof Tree)
          explore(ch, tree.positions[i] + from2);
      }
    };
    explore(syntaxTree(state), 0);
    return result;
  }
  /**
  Indicates whether this language allows nested languages. The
  default implementation returns true.
  */
  get allowsNesting() {
    return true;
  }
};
Language.setState = /* @__PURE__ */ StateEffect.define();
function topNodeAt(state, pos, side) {
  let topLang = state.facet(language), tree = syntaxTree(state).topNode;
  if (!topLang || topLang.allowsNesting) {
    for (let node = tree; node; node = node.enter(pos, side, IterMode.ExcludeBuffers))
      if (node.type.isTop)
        tree = node;
  }
  return tree;
}
var LRLanguage = class _LRLanguage extends Language {
  constructor(data, parser6, name2) {
    super(data, parser6, [], name2);
    this.parser = parser6;
  }
  /**
  Define a language from a parser.
  */
  static define(spec) {
    let data = defineLanguageFacet(spec.languageData);
    return new _LRLanguage(data, spec.parser.configure({
      props: [languageDataProp.add((type) => type.isTop ? data : void 0)]
    }), spec.name);
  }
  /**
  Create a new instance of this language with a reconfigured
  version of its parser and optionally a new name.
  */
  configure(options, name2) {
    return new _LRLanguage(this.data, this.parser.configure(options), name2 || this.name);
  }
  get allowsNesting() {
    return this.parser.hasWrappers();
  }
};
function syntaxTree(state) {
  let field = state.field(Language.state, false);
  return field ? field.tree : Tree.empty;
}
var DocInput = class {
  /**
  Create an input object for the given document.
  */
  constructor(doc2) {
    this.doc = doc2;
    this.cursorPos = 0;
    this.string = "";
    this.cursor = doc2.iter();
  }
  get length() {
    return this.doc.length;
  }
  syncTo(pos) {
    this.string = this.cursor.next(pos - this.cursorPos).value;
    this.cursorPos = pos + this.string.length;
    return this.cursorPos - this.string.length;
  }
  chunk(pos) {
    this.syncTo(pos);
    return this.string;
  }
  get lineChunks() {
    return true;
  }
  read(from2, to) {
    let stringStart = this.cursorPos - this.string.length;
    if (from2 < stringStart || to >= this.cursorPos)
      return this.doc.sliceString(from2, to);
    else
      return this.string.slice(from2 - stringStart, to - stringStart);
  }
};
var currentContext = null;
var ParseContext = class _ParseContext {
  constructor(parser6, state, fragments = [], tree, treeLen, viewport, skipped, scheduleOn) {
    this.parser = parser6;
    this.state = state;
    this.fragments = fragments;
    this.tree = tree;
    this.treeLen = treeLen;
    this.viewport = viewport;
    this.skipped = skipped;
    this.scheduleOn = scheduleOn;
    this.parse = null;
    this.tempSkipped = [];
  }
  /**
  @internal
  */
  static create(parser6, state, viewport) {
    return new _ParseContext(parser6, state, [], Tree.empty, 0, viewport, [], null);
  }
  startParse() {
    return this.parser.startParse(new DocInput(this.state.doc), this.fragments);
  }
  /**
  @internal
  */
  work(until, upto) {
    if (upto != null && upto >= this.state.doc.length)
      upto = void 0;
    if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {
      this.takeTree();
      return true;
    }
    return this.withContext(() => {
      var _a2;
      if (typeof until == "number") {
        let endTime = Date.now() + until;
        until = () => Date.now() > endTime;
      }
      if (!this.parse)
        this.parse = this.startParse();
      if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) && upto < this.state.doc.length)
        this.parse.stopAt(upto);
      for (; ; ) {
        let done = this.parse.advance();
        if (done) {
          this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));
          this.treeLen = (_a2 = this.parse.stoppedAt) !== null && _a2 !== void 0 ? _a2 : this.state.doc.length;
          this.tree = done;
          this.parse = null;
          if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))
            this.parse = this.startParse();
          else
            return true;
        }
        if (until())
          return false;
      }
    });
  }
  /**
  @internal
  */
  takeTree() {
    let pos, tree;
    if (this.parse && (pos = this.parse.parsedPos) >= this.treeLen) {
      if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)
        this.parse.stopAt(pos);
      this.withContext(() => {
        while (!(tree = this.parse.advance())) {
        }
      });
      this.treeLen = pos;
      this.tree = tree;
      this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));
      this.parse = null;
    }
  }
  withContext(f) {
    let prev = currentContext;
    currentContext = this;
    try {
      return f();
    } finally {
      currentContext = prev;
    }
  }
  withoutTempSkipped(fragments) {
    for (let r; r = this.tempSkipped.pop(); )
      fragments = cutFragments(fragments, r.from, r.to);
    return fragments;
  }
  /**
  @internal
  */
  changes(changes, newState) {
    let { fragments, tree, treeLen, viewport, skipped } = this;
    this.takeTree();
    if (!changes.empty) {
      let ranges = [];
      changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));
      fragments = TreeFragment.applyChanges(fragments, ranges);
      tree = Tree.empty;
      treeLen = 0;
      viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };
      if (this.skipped.length) {
        skipped = [];
        for (let r of this.skipped) {
          let from2 = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);
          if (from2 < to)
            skipped.push({ from: from2, to });
        }
      }
    }
    return new _ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);
  }
  /**
  @internal
  */
  updateViewport(viewport) {
    if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)
      return false;
    this.viewport = viewport;
    let startLen = this.skipped.length;
    for (let i = 0; i < this.skipped.length; i++) {
      let { from: from2, to } = this.skipped[i];
      if (from2 < viewport.to && to > viewport.from) {
        this.fragments = cutFragments(this.fragments, from2, to);
        this.skipped.splice(i--, 1);
      }
    }
    if (this.skipped.length >= startLen)
      return false;
    this.reset();
    return true;
  }
  /**
  @internal
  */
  reset() {
    if (this.parse) {
      this.takeTree();
      this.parse = null;
    }
  }
  /**
  Notify the parse scheduler that the given region was skipped
  because it wasn't in view, and the parse should be restarted
  when it comes into view.
  */
  skipUntilInView(from2, to) {
    this.skipped.push({ from: from2, to });
  }
  /**
  Returns a parser intended to be used as placeholder when
  asynchronously loading a nested parser. It'll skip its input and
  mark it as not-really-parsed, so that the next update will parse
  it again.
  
  When `until` is given, a reparse will be scheduled when that
  promise resolves.
  */
  static getSkippingParser(until) {
    return new class extends Parser {
      createParse(input, fragments, ranges) {
        let from2 = ranges[0].from, to = ranges[ranges.length - 1].to;
        let parser6 = {
          parsedPos: from2,
          advance() {
            let cx = currentContext;
            if (cx) {
              for (let r of ranges)
                cx.tempSkipped.push(r);
              if (until)
                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;
            }
            this.parsedPos = to;
            return new Tree(NodeType.none, [], [], to - from2);
          },
          stoppedAt: null,
          stopAt() {
          }
        };
        return parser6;
      }
    }();
  }
  /**
  @internal
  */
  isDone(upto) {
    upto = Math.min(upto, this.state.doc.length);
    let frags = this.fragments;
    return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;
  }
  /**
  Get the context for the current parse, or `null` if no editor
  parse is in progress.
  */
  static get() {
    return currentContext;
  }
};
function cutFragments(fragments, from2, to) {
  return TreeFragment.applyChanges(fragments, [{ fromA: from2, toA: to, fromB: from2, toB: to }]);
}
var LanguageState = class _LanguageState {
  constructor(context) {
    this.context = context;
    this.tree = context.tree;
  }
  apply(tr) {
    if (!tr.docChanged && this.tree == this.context.tree)
      return this;
    let newCx = this.context.changes(tr.changes, tr.state);
    let upto = this.context.treeLen == tr.startState.doc.length ? void 0 : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);
    if (!newCx.work(20, upto))
      newCx.takeTree();
    return new _LanguageState(newCx);
  }
  static init(state) {
    let vpTo = Math.min(3e3, state.doc.length);
    let parseState = ParseContext.create(state.facet(language).parser, state, { from: 0, to: vpTo });
    if (!parseState.work(20, vpTo))
      parseState.takeTree();
    return new _LanguageState(parseState);
  }
};
Language.state = /* @__PURE__ */ StateField.define({
  create: LanguageState.init,
  update(value, tr) {
    for (let e of tr.effects)
      if (e.is(Language.setState))
        return e.value;
    if (tr.startState.facet(language) != tr.state.facet(language))
      return LanguageState.init(tr.state);
    return value.apply(tr);
  }
});
var requestIdle = (callback) => {
  let timeout = setTimeout(
    () => callback(),
    500
    /* Work.MaxPause */
  );
  return () => clearTimeout(timeout);
};
if (typeof requestIdleCallback != "undefined")
  requestIdle = (callback) => {
    let idle = -1, timeout = setTimeout(
      () => {
        idle = requestIdleCallback(callback, {
          timeout: 500 - 100
          /* Work.MinPause */
        });
      },
      100
      /* Work.MinPause */
    );
    return () => idle < 0 ? clearTimeout(timeout) : cancelIdleCallback(idle);
  };
var isInputPending = typeof navigator != "undefined" && ((_a = navigator.scheduling) === null || _a === void 0 ? void 0 : _a.isInputPending) ? () => navigator.scheduling.isInputPending() : null;
var parseWorker = /* @__PURE__ */ ViewPlugin.fromClass(class ParseWorker {
  constructor(view) {
    this.view = view;
    this.working = null;
    this.workScheduled = 0;
    this.chunkEnd = -1;
    this.chunkBudget = -1;
    this.work = this.work.bind(this);
    this.scheduleWork();
  }
  update(update) {
    let cx = this.view.state.field(Language.state).context;
    if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)
      this.scheduleWork();
    if (update.docChanged || update.selectionSet) {
      if (this.view.hasFocus)
        this.chunkBudget += 50;
      this.scheduleWork();
    }
    this.checkAsyncSchedule(cx);
  }
  scheduleWork() {
    if (this.working)
      return;
    let { state } = this.view, field = state.field(Language.state);
    if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))
      this.working = requestIdle(this.work);
  }
  work(deadline) {
    this.working = null;
    let now = Date.now();
    if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) {
      this.chunkEnd = now + 3e4;
      this.chunkBudget = 3e3;
    }
    if (this.chunkBudget <= 0)
      return;
    let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);
    if (field.tree == field.context.tree && field.context.isDone(
      vpTo + 1e5
      /* Work.MaxParseAhead */
    ))
      return;
    let endTime = Date.now() + Math.min(this.chunkBudget, 100, deadline && !isInputPending ? Math.max(25, deadline.timeRemaining() - 5) : 1e9);
    let viewportFirst = field.context.treeLen < vpTo && state.doc.length > vpTo + 1e3;
    let done = field.context.work(() => {
      return isInputPending && isInputPending() || Date.now() > endTime;
    }, vpTo + (viewportFirst ? 0 : 1e5));
    this.chunkBudget -= Date.now() - now;
    if (done || this.chunkBudget <= 0) {
      field.context.takeTree();
      this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });
    }
    if (this.chunkBudget > 0 && !(done && !viewportFirst))
      this.scheduleWork();
    this.checkAsyncSchedule(field.context);
  }
  checkAsyncSchedule(cx) {
    if (cx.scheduleOn) {
      this.workScheduled++;
      cx.scheduleOn.then(() => this.scheduleWork()).catch((err) => logException(this.view.state, err)).then(() => this.workScheduled--);
      cx.scheduleOn = null;
    }
  }
  destroy() {
    if (this.working)
      this.working();
  }
  isWorking() {
    return !!(this.working || this.workScheduled > 0);
  }
}, {
  eventHandlers: { focus() {
    this.scheduleWork();
  } }
});
var language = /* @__PURE__ */ Facet.define({
  combine(languages) {
    return languages.length ? languages[0] : null;
  },
  enables: (language2) => [
    Language.state,
    parseWorker,
    EditorView.contentAttributes.compute([language2], (state) => {
      let lang = state.facet(language2);
      return lang && lang.name ? { "data-language": lang.name } : {};
    })
  ]
});
var LanguageSupport = class {
  /**
  Create a language support object.
  */
  constructor(language2, support = []) {
    this.language = language2;
    this.support = support;
    this.extension = [language2, support];
  }
};
var indentService = /* @__PURE__ */ Facet.define();
var indentUnit = /* @__PURE__ */ Facet.define({
  combine: (values2) => {
    if (!values2.length)
      return "  ";
    let unit = values2[0];
    if (!unit || /\S/.test(unit) || Array.from(unit).some((e) => e != unit[0]))
      throw new Error("Invalid indent unit: " + JSON.stringify(values2[0]));
    return unit;
  }
});
function getIndentUnit(state) {
  let unit = state.facet(indentUnit);
  return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;
}
function indentString(state, cols) {
  let result = "", ts = state.tabSize, ch = state.facet(indentUnit)[0];
  if (ch == "	") {
    while (cols >= ts) {
      result += "	";
      cols -= ts;
    }
    ch = " ";
  }
  for (let i = 0; i < cols; i++)
    result += ch;
  return result;
}
function getIndentation(context, pos) {
  if (context instanceof EditorState)
    context = new IndentContext(context);
  for (let service of context.state.facet(indentService)) {
    let result = service(context, pos);
    if (result !== void 0)
      return result;
  }
  let tree = syntaxTree(context.state);
  return tree.length >= pos ? syntaxIndentation(context, tree, pos) : null;
}
var IndentContext = class {
  /**
  Create an indent context.
  */
  constructor(state, options = {}) {
    this.state = state;
    this.options = options;
    this.unit = getIndentUnit(state);
  }
  /**
  Get a description of the line at the given position, taking
  [simulated line
  breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)
  into account. If there is such a break at `pos`, the `bias`
  argument determines whether the part of the line line before or
  after the break is used.
  */
  lineAt(pos, bias = 1) {
    let line = this.state.doc.lineAt(pos);
    let { simulateBreak, simulateDoubleBreak } = this.options;
    if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {
      if (simulateDoubleBreak && simulateBreak == pos)
        return { text: "", from: pos };
      else if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)
        return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };
      else
        return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };
    }
    return line;
  }
  /**
  Get the text directly after `pos`, either the entire line
  or the next 100 characters, whichever is shorter.
  */
  textAfterPos(pos, bias = 1) {
    if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)
      return "";
    let { text, from: from2 } = this.lineAt(pos, bias);
    return text.slice(pos - from2, Math.min(text.length, pos + 100 - from2));
  }
  /**
  Find the column for the given position.
  */
  column(pos, bias = 1) {
    let { text, from: from2 } = this.lineAt(pos, bias);
    let result = this.countColumn(text, pos - from2);
    let override = this.options.overrideIndentation ? this.options.overrideIndentation(from2) : -1;
    if (override > -1)
      result += override - this.countColumn(text, text.search(/\S|$/));
    return result;
  }
  /**
  Find the column position (taking tabs into account) of the given
  position in the given string.
  */
  countColumn(line, pos = line.length) {
    return countColumn(line, this.state.tabSize, pos);
  }
  /**
  Find the indentation column of the line at the given point.
  */
  lineIndent(pos, bias = 1) {
    let { text, from: from2 } = this.lineAt(pos, bias);
    let override = this.options.overrideIndentation;
    if (override) {
      let overriden = override(from2);
      if (overriden > -1)
        return overriden;
    }
    return this.countColumn(text, text.search(/\S|$/));
  }
  /**
  Returns the [simulated line
  break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)
  for this context, if any.
  */
  get simulatedBreak() {
    return this.options.simulateBreak || null;
  }
};
var indentNodeProp = /* @__PURE__ */ new NodeProp();
function syntaxIndentation(cx, ast, pos) {
  let stack = ast.resolveStack(pos);
  let inner = ast.resolveInner(pos, -1).resolve(pos, 0).enterUnfinishedNodesBefore(pos);
  if (inner != stack.node) {
    let add2 = [];
    for (let cur2 = inner; cur2 && !(cur2.from < stack.node.from || cur2.to > stack.node.to || cur2.from == stack.node.from && cur2.type == stack.node.type); cur2 = cur2.parent)
      add2.push(cur2);
    for (let i = add2.length - 1; i >= 0; i--)
      stack = { node: add2[i], next: stack };
  }
  return indentFor(stack, cx, pos);
}
function indentFor(stack, cx, pos) {
  for (let cur2 = stack; cur2; cur2 = cur2.next) {
    let strategy = indentStrategy(cur2.node);
    if (strategy)
      return strategy(TreeIndentContext.create(cx, pos, cur2));
  }
  return 0;
}
function ignoreClosed(cx) {
  return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;
}
function indentStrategy(tree) {
  let strategy = tree.type.prop(indentNodeProp);
  if (strategy)
    return strategy;
  let first = tree.firstChild, close;
  if (first && (close = first.type.prop(NodeProp.closedBy))) {
    let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;
    return (cx) => delimitedStrategy(cx, true, 1, void 0, closed && !ignoreClosed(cx) ? last.from : void 0);
  }
  return tree.parent == null ? topIndent : null;
}
function topIndent() {
  return 0;
}
var TreeIndentContext = class _TreeIndentContext extends IndentContext {
  constructor(base2, pos, context) {
    super(base2.state, base2.options);
    this.base = base2;
    this.pos = pos;
    this.context = context;
  }
  /**
  The syntax tree node to which the indentation strategy
  applies.
  */
  get node() {
    return this.context.node;
  }
  /**
  @internal
  */
  static create(base2, pos, context) {
    return new _TreeIndentContext(base2, pos, context);
  }
  /**
  Get the text directly after `this.pos`, either the entire line
  or the next 100 characters, whichever is shorter.
  */
  get textAfter() {
    return this.textAfterPos(this.pos);
  }
  /**
  Get the indentation at the reference line for `this.node`, which
  is the line on which it starts, unless there is a node that is
  _not_ a parent of this node covering the start of that line. If
  so, the line at the start of that node is tried, again skipping
  on if it is covered by another such node.
  */
  get baseIndent() {
    return this.baseIndentFor(this.node);
  }
  /**
  Get the indentation for the reference line of the given node
  (see [`baseIndent`](https://codemirror.net/6/docs/ref/#language.TreeIndentContext.baseIndent)).
  */
  baseIndentFor(node) {
    let line = this.state.doc.lineAt(node.from);
    for (; ; ) {
      let atBreak = node.resolve(line.from);
      while (atBreak.parent && atBreak.parent.from == atBreak.from)
        atBreak = atBreak.parent;
      if (isParent(atBreak, node))
        break;
      line = this.state.doc.lineAt(atBreak.from);
    }
    return this.lineIndent(line.from);
  }
  /**
  Continue looking for indentations in the node's parent nodes,
  and return the result of that.
  */
  continue() {
    return indentFor(this.context.next, this.base, this.pos);
  }
};
function isParent(parent, of) {
  for (let cur2 = of; cur2; cur2 = cur2.parent)
    if (parent == cur2)
      return true;
  return false;
}
function bracketedAligned(context) {
  let tree = context.node;
  let openToken = tree.childAfter(tree.from), last = tree.lastChild;
  if (!openToken)
    return null;
  let sim = context.options.simulateBreak;
  let openLine = context.state.doc.lineAt(openToken.from);
  let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);
  for (let pos = openToken.to; ; ) {
    let next = tree.childAfter(pos);
    if (!next || next == last)
      return null;
    if (!next.type.isSkipped) {
      if (next.from >= lineEnd)
        return null;
      let space3 = /^ */.exec(openLine.text.slice(openToken.to - openLine.from))[0].length;
      return { from: openToken.from, to: openToken.to + space3 };
    }
    pos = next.to;
  }
}
function delimitedIndent({ closing: closing2, align = true, units = 1 }) {
  return (context) => delimitedStrategy(context, align, units, closing2);
}
function delimitedStrategy(context, align, units, closing2, closedAt) {
  let after = context.textAfter, space3 = after.match(/^\s*/)[0].length;
  let closed = closing2 && after.slice(space3, space3 + closing2.length) == closing2 || closedAt == context.pos + space3;
  let aligned = align ? bracketedAligned(context) : null;
  if (aligned)
    return closed ? context.column(aligned.from) : context.column(aligned.to);
  return context.baseIndent + (closed ? 0 : context.unit * units);
}
var flatIndent = (context) => context.baseIndent;
function continuedIndent({ except, units = 1 } = {}) {
  return (context) => {
    let matchExcept = except && except.test(context.textAfter);
    return context.baseIndent + (matchExcept ? 0 : units * context.unit);
  };
}
var DontIndentBeyond = 200;
function indentOnInput() {
  return EditorState.transactionFilter.of((tr) => {
    if (!tr.docChanged || !tr.isUserEvent("input.type") && !tr.isUserEvent("input.complete"))
      return tr;
    let rules = tr.startState.languageDataAt("indentOnInput", tr.startState.selection.main.head);
    if (!rules.length)
      return tr;
    let doc2 = tr.newDoc, { head } = tr.newSelection.main, line = doc2.lineAt(head);
    if (head > line.from + DontIndentBeyond)
      return tr;
    let lineStart = doc2.sliceString(line.from, head);
    if (!rules.some((r) => r.test(lineStart)))
      return tr;
    let { state } = tr, last = -1, changes = [];
    for (let { head: head2 } of state.selection.ranges) {
      let line2 = state.doc.lineAt(head2);
      if (line2.from == last)
        continue;
      last = line2.from;
      let indent = getIndentation(state, line2.from);
      if (indent == null)
        continue;
      let cur2 = /^\s*/.exec(line2.text)[0];
      let norm = indentString(state, indent);
      if (cur2 != norm)
        changes.push({ from: line2.from, to: line2.from + cur2.length, insert: norm });
    }
    return changes.length ? [tr, { changes, sequential: true }] : tr;
  });
}
var foldService = /* @__PURE__ */ Facet.define();
var foldNodeProp = /* @__PURE__ */ new NodeProp();
function foldInside(node) {
  let first = node.firstChild, last = node.lastChild;
  return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;
}
function syntaxFolding(state, start, end) {
  let tree = syntaxTree(state);
  if (tree.length < end)
    return null;
  let stack = tree.resolveStack(end, 1);
  let found = null;
  for (let iter = stack; iter; iter = iter.next) {
    let cur2 = iter.node;
    if (cur2.to <= end || cur2.from > end)
      continue;
    if (found && cur2.from < start)
      break;
    let prop = cur2.type.prop(foldNodeProp);
    if (prop && (cur2.to < tree.length - 50 || tree.length == state.doc.length || !isUnfinished(cur2))) {
      let value = prop(cur2, state);
      if (value && value.from <= end && value.from >= start && value.to > end)
        found = value;
    }
  }
  return found;
}
function isUnfinished(node) {
  let ch = node.lastChild;
  return ch && ch.to == node.to && ch.type.isError;
}
function foldable(state, lineStart, lineEnd) {
  for (let service of state.facet(foldService)) {
    let result = service(state, lineStart, lineEnd);
    if (result)
      return result;
  }
  return syntaxFolding(state, lineStart, lineEnd);
}
function mapRange(range, mapping) {
  let from2 = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);
  return from2 >= to ? void 0 : { from: from2, to };
}
var foldEffect = /* @__PURE__ */ StateEffect.define({ map: mapRange });
var unfoldEffect = /* @__PURE__ */ StateEffect.define({ map: mapRange });
function selectedLines(view) {
  let lines = [];
  for (let { head } of view.state.selection.ranges) {
    if (lines.some((l) => l.from <= head && l.to >= head))
      continue;
    lines.push(view.lineBlockAt(head));
  }
  return lines;
}
var foldState = /* @__PURE__ */ StateField.define({
  create() {
    return Decoration.none;
  },
  update(folded, tr) {
    folded = folded.map(tr.changes);
    for (let e of tr.effects) {
      if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to)) {
        let { preparePlaceholder } = tr.state.facet(foldConfig);
        let widget = !preparePlaceholder ? foldWidget : Decoration.replace({ widget: new PreparedFoldWidget(preparePlaceholder(tr.state, e.value)) });
        folded = folded.update({ add: [widget.range(e.value.from, e.value.to)] });
      } else if (e.is(unfoldEffect)) {
        folded = folded.update({
          filter: (from2, to) => e.value.from != from2 || e.value.to != to,
          filterFrom: e.value.from,
          filterTo: e.value.to
        });
      }
    }
    if (tr.selection) {
      let onSelection = false, { head } = tr.selection.main;
      folded.between(head, head, (a, b) => {
        if (a < head && b > head)
          onSelection = true;
      });
      if (onSelection)
        folded = folded.update({
          filterFrom: head,
          filterTo: head,
          filter: (a, b) => b <= head || a >= head
        });
    }
    return folded;
  },
  provide: (f) => EditorView.decorations.from(f),
  toJSON(folded, state) {
    let ranges = [];
    folded.between(0, state.doc.length, (from2, to) => {
      ranges.push(from2, to);
    });
    return ranges;
  },
  fromJSON(value) {
    if (!Array.isArray(value) || value.length % 2)
      throw new RangeError("Invalid JSON for fold state");
    let ranges = [];
    for (let i = 0; i < value.length; ) {
      let from2 = value[i++], to = value[i++];
      if (typeof from2 != "number" || typeof to != "number")
        throw new RangeError("Invalid JSON for fold state");
      ranges.push(foldWidget.range(from2, to));
    }
    return Decoration.set(ranges, true);
  }
});
function findFold(state, from2, to) {
  var _a2;
  let found = null;
  (_a2 = state.field(foldState, false)) === null || _a2 === void 0 ? void 0 : _a2.between(from2, to, (from3, to2) => {
    if (!found || found.from > from3)
      found = { from: from3, to: to2 };
  });
  return found;
}
function foldExists(folded, from2, to) {
  let found = false;
  folded.between(from2, from2, (a, b) => {
    if (a == from2 && b == to)
      found = true;
  });
  return found;
}
function maybeEnable(state, other) {
  return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));
}
var foldCode = (view) => {
  for (let line of selectedLines(view)) {
    let range = foldable(view.state, line.from, line.to);
    if (range) {
      view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });
      return true;
    }
  }
  return false;
};
var unfoldCode = (view) => {
  if (!view.state.field(foldState, false))
    return false;
  let effects = [];
  for (let line of selectedLines(view)) {
    let folded = findFold(view.state, line.from, line.to);
    if (folded)
      effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));
  }
  if (effects.length)
    view.dispatch({ effects });
  return effects.length > 0;
};
function announceFold(view, range, fold = true) {
  let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;
  return EditorView.announce.of(`${view.state.phrase(fold ? "Folded lines" : "Unfolded lines")} ${lineFrom} ${view.state.phrase("to")} ${lineTo}.`);
}
var foldAll = (view) => {
  let { state } = view, effects = [];
  for (let pos = 0; pos < state.doc.length; ) {
    let line = view.lineBlockAt(pos), range = foldable(state, line.from, line.to);
    if (range)
      effects.push(foldEffect.of(range));
    pos = (range ? view.lineBlockAt(range.to) : line).to + 1;
  }
  if (effects.length)
    view.dispatch({ effects: maybeEnable(view.state, effects) });
  return !!effects.length;
};
var unfoldAll = (view) => {
  let field = view.state.field(foldState, false);
  if (!field || !field.size)
    return false;
  let effects = [];
  field.between(0, view.state.doc.length, (from2, to) => {
    effects.push(unfoldEffect.of({ from: from2, to }));
  });
  view.dispatch({ effects });
  return true;
};
var foldKeymap = [
  { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: foldCode },
  { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: unfoldCode },
  { key: "Ctrl-Alt-[", run: foldAll },
  { key: "Ctrl-Alt-]", run: unfoldAll }
];
var defaultConfig = {
  placeholderDOM: null,
  preparePlaceholder: null,
  placeholderText: "\u2026"
};
var foldConfig = /* @__PURE__ */ Facet.define({
  combine(values2) {
    return combineConfig(values2, defaultConfig);
  }
});
function codeFolding(config2) {
  let result = [foldState, baseTheme$12];
  if (config2)
    result.push(foldConfig.of(config2));
  return result;
}
function widgetToDOM(view, prepared) {
  let { state } = view, conf = state.facet(foldConfig);
  let onclick = (event) => {
    let line = view.lineBlockAt(view.posAtDOM(event.target));
    let folded = findFold(view.state, line.from, line.to);
    if (folded)
      view.dispatch({ effects: unfoldEffect.of(folded) });
    event.preventDefault();
  };
  if (conf.placeholderDOM)
    return conf.placeholderDOM(view, onclick, prepared);
  let element = document.createElement("span");
  element.textContent = conf.placeholderText;
  element.setAttribute("aria-label", state.phrase("folded code"));
  element.title = state.phrase("unfold");
  element.className = "cm-foldPlaceholder";
  element.onclick = onclick;
  return element;
}
var foldWidget = /* @__PURE__ */ Decoration.replace({ widget: /* @__PURE__ */ new class extends WidgetType {
  toDOM(view) {
    return widgetToDOM(view, null);
  }
}() });
var PreparedFoldWidget = class extends WidgetType {
  constructor(value) {
    super();
    this.value = value;
  }
  eq(other) {
    return this.value == other.value;
  }
  toDOM(view) {
    return widgetToDOM(view, this.value);
  }
};
var foldGutterDefaults = {
  openText: "\u2304",
  closedText: "\u203A",
  markerDOM: null,
  domEventHandlers: {},
  foldingChanged: () => false
};
var FoldMarker = class extends GutterMarker {
  constructor(config2, open) {
    super();
    this.config = config2;
    this.open = open;
  }
  eq(other) {
    return this.config == other.config && this.open == other.open;
  }
  toDOM(view) {
    if (this.config.markerDOM)
      return this.config.markerDOM(this.open);
    let span = document.createElement("span");
    span.textContent = this.open ? this.config.openText : this.config.closedText;
    span.title = view.state.phrase(this.open ? "Fold line" : "Unfold line");
    return span;
  }
};
function foldGutter(config2 = {}) {
  let fullConfig = { ...foldGutterDefaults, ...config2 };
  let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);
  let markers = ViewPlugin.fromClass(class {
    constructor(view) {
      this.from = view.viewport.from;
      this.markers = this.buildMarkers(view);
    }
    update(update) {
      if (update.docChanged || update.viewportChanged || update.startState.facet(language) != update.state.facet(language) || update.startState.field(foldState, false) != update.state.field(foldState, false) || syntaxTree(update.startState) != syntaxTree(update.state) || fullConfig.foldingChanged(update))
        this.markers = this.buildMarkers(update.view);
    }
    buildMarkers(view) {
      let builder = new RangeSetBuilder();
      for (let line of view.viewportLineBlocks) {
        let mark = findFold(view.state, line.from, line.to) ? canUnfold : foldable(view.state, line.from, line.to) ? canFold : null;
        if (mark)
          builder.add(line.from, line.from, mark);
      }
      return builder.finish();
    }
  });
  let { domEventHandlers } = fullConfig;
  return [
    markers,
    gutter({
      class: "cm-foldGutter",
      markers(view) {
        var _a2;
        return ((_a2 = view.plugin(markers)) === null || _a2 === void 0 ? void 0 : _a2.markers) || RangeSet.empty;
      },
      initialSpacer() {
        return new FoldMarker(fullConfig, false);
      },
      domEventHandlers: {
        ...domEventHandlers,
        click: (view, line, event) => {
          if (domEventHandlers.click && domEventHandlers.click(view, line, event))
            return true;
          let folded = findFold(view.state, line.from, line.to);
          if (folded) {
            view.dispatch({ effects: unfoldEffect.of(folded) });
            return true;
          }
          let range = foldable(view.state, line.from, line.to);
          if (range) {
            view.dispatch({ effects: foldEffect.of(range) });
            return true;
          }
          return false;
        }
      }
    }),
    codeFolding()
  ];
}
var baseTheme$12 = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-foldPlaceholder": {
    backgroundColor: "#eee",
    border: "1px solid #ddd",
    color: "#888",
    borderRadius: ".2em",
    margin: "0 1px",
    padding: "0 1px",
    cursor: "pointer"
  },
  ".cm-foldGutter span": {
    padding: "0 1px",
    cursor: "pointer"
  }
});
var HighlightStyle = class _HighlightStyle {
  constructor(specs, options) {
    this.specs = specs;
    let modSpec;
    function def(spec) {
      let cls = StyleModule.newName();
      (modSpec || (modSpec = /* @__PURE__ */ Object.create(null)))["." + cls] = spec;
      return cls;
    }
    const all = typeof options.all == "string" ? options.all : options.all ? def(options.all) : void 0;
    const scopeOpt = options.scope;
    this.scope = scopeOpt instanceof Language ? (type) => type.prop(languageDataProp) == scopeOpt.data : scopeOpt ? (type) => type == scopeOpt : void 0;
    this.style = tagHighlighter(specs.map((style) => ({
      tag: style.tag,
      class: style.class || def(Object.assign({}, style, { tag: null }))
    })), {
      all
    }).style;
    this.module = modSpec ? new StyleModule(modSpec) : null;
    this.themeType = options.themeType;
  }
  /**
  Create a highlighter style that associates the given styles to
  the given tags. The specs must be objects that hold a style tag
  or array of tags in their `tag` property, and either a single
  `class` property providing a static CSS class (for highlighter
  that rely on external styling), or a
  [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style
  set of CSS properties (which define the styling for those tags).
  
  The CSS rules created for a highlighter will be emitted in the
  order of the spec's properties. That means that for elements that
  have multiple tags associated with them, styles defined further
  down in the list will have a higher CSS precedence than styles
  defined earlier.
  */
  static define(specs, options) {
    return new _HighlightStyle(specs, options || {});
  }
};
var highlighterFacet = /* @__PURE__ */ Facet.define();
var fallbackHighlighter = /* @__PURE__ */ Facet.define({
  combine(values2) {
    return values2.length ? [values2[0]] : null;
  }
});
function getHighlighters(state) {
  let main = state.facet(highlighterFacet);
  return main.length ? main : state.facet(fallbackHighlighter);
}
function syntaxHighlighting(highlighter, options) {
  let ext = [treeHighlighter], themeType;
  if (highlighter instanceof HighlightStyle) {
    if (highlighter.module)
      ext.push(EditorView.styleModule.of(highlighter.module));
    themeType = highlighter.themeType;
  }
  if (options === null || options === void 0 ? void 0 : options.fallback)
    ext.push(fallbackHighlighter.of(highlighter));
  else if (themeType)
    ext.push(highlighterFacet.computeN([EditorView.darkTheme], (state) => {
      return state.facet(EditorView.darkTheme) == (themeType == "dark") ? [highlighter] : [];
    }));
  else
    ext.push(highlighterFacet.of(highlighter));
  return ext;
}
var TreeHighlighter = class {
  constructor(view) {
    this.markCache = /* @__PURE__ */ Object.create(null);
    this.tree = syntaxTree(view.state);
    this.decorations = this.buildDeco(view, getHighlighters(view.state));
    this.decoratedTo = view.viewport.to;
  }
  update(update) {
    let tree = syntaxTree(update.state), highlighters = getHighlighters(update.state);
    let styleChange = highlighters != getHighlighters(update.startState);
    let { viewport } = update.view, decoratedToMapped = update.changes.mapPos(this.decoratedTo, 1);
    if (tree.length < viewport.to && !styleChange && tree.type == this.tree.type && decoratedToMapped >= viewport.to) {
      this.decorations = this.decorations.map(update.changes);
      this.decoratedTo = decoratedToMapped;
    } else if (tree != this.tree || update.viewportChanged || styleChange) {
      this.tree = tree;
      this.decorations = this.buildDeco(update.view, highlighters);
      this.decoratedTo = viewport.to;
    }
  }
  buildDeco(view, highlighters) {
    if (!highlighters || !this.tree.length)
      return Decoration.none;
    let builder = new RangeSetBuilder();
    for (let { from: from2, to } of view.visibleRanges) {
      highlightTree(this.tree, highlighters, (from3, to2, style) => {
        builder.add(from3, to2, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));
      }, from2, to);
    }
    return builder.finish();
  }
};
var treeHighlighter = /* @__PURE__ */ Prec.high(/* @__PURE__ */ ViewPlugin.fromClass(TreeHighlighter, {
  decorations: (v) => v.decorations
}));
var defaultHighlightStyle = /* @__PURE__ */ HighlightStyle.define([
  {
    tag: tags.meta,
    color: "#404740"
  },
  {
    tag: tags.link,
    textDecoration: "underline"
  },
  {
    tag: tags.heading,
    textDecoration: "underline",
    fontWeight: "bold"
  },
  {
    tag: tags.emphasis,
    fontStyle: "italic"
  },
  {
    tag: tags.strong,
    fontWeight: "bold"
  },
  {
    tag: tags.strikethrough,
    textDecoration: "line-through"
  },
  {
    tag: tags.keyword,
    color: "#708"
  },
  {
    tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],
    color: "#219"
  },
  {
    tag: [tags.literal, tags.inserted],
    color: "#164"
  },
  {
    tag: [tags.string, tags.deleted],
    color: "#a11"
  },
  {
    tag: [tags.regexp, tags.escape, /* @__PURE__ */ tags.special(tags.string)],
    color: "#e40"
  },
  {
    tag: /* @__PURE__ */ tags.definition(tags.variableName),
    color: "#00f"
  },
  {
    tag: /* @__PURE__ */ tags.local(tags.variableName),
    color: "#30a"
  },
  {
    tag: [tags.typeName, tags.namespace],
    color: "#085"
  },
  {
    tag: tags.className,
    color: "#167"
  },
  {
    tag: [/* @__PURE__ */ tags.special(tags.variableName), tags.macroName],
    color: "#256"
  },
  {
    tag: /* @__PURE__ */ tags.definition(tags.propertyName),
    color: "#00c"
  },
  {
    tag: tags.comment,
    color: "#940"
  },
  {
    tag: tags.invalid,
    color: "#f00"
  }
]);
var baseTheme2 = /* @__PURE__ */ EditorView.baseTheme({
  "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
  "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" }
});
var DefaultScanDist = 1e4;
var DefaultBrackets = "()[]{}";
var bracketMatchingConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    return combineConfig(configs, {
      afterCursor: true,
      brackets: DefaultBrackets,
      maxScanDistance: DefaultScanDist,
      renderMatch: defaultRenderMatch
    });
  }
});
var matchingMark = /* @__PURE__ */ Decoration.mark({ class: "cm-matchingBracket" });
var nonmatchingMark = /* @__PURE__ */ Decoration.mark({ class: "cm-nonmatchingBracket" });
function defaultRenderMatch(match2) {
  let decorations2 = [];
  let mark = match2.matched ? matchingMark : nonmatchingMark;
  decorations2.push(mark.range(match2.start.from, match2.start.to));
  if (match2.end)
    decorations2.push(mark.range(match2.end.from, match2.end.to));
  return decorations2;
}
var bracketMatchingState = /* @__PURE__ */ StateField.define({
  create() {
    return Decoration.none;
  },
  update(deco, tr) {
    if (!tr.docChanged && !tr.selection)
      return deco;
    let decorations2 = [];
    let config2 = tr.state.facet(bracketMatchingConfig);
    for (let range of tr.state.selection.ranges) {
      if (!range.empty)
        continue;
      let match2 = matchBrackets(tr.state, range.head, -1, config2) || range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config2) || config2.afterCursor && (matchBrackets(tr.state, range.head, 1, config2) || range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config2));
      if (match2)
        decorations2 = decorations2.concat(config2.renderMatch(match2, tr.state));
    }
    return Decoration.set(decorations2, true);
  },
  provide: (f) => EditorView.decorations.from(f)
});
var bracketMatchingUnique = [
  bracketMatchingState,
  baseTheme2
];
function bracketMatching(config2 = {}) {
  return [bracketMatchingConfig.of(config2), bracketMatchingUnique];
}
var bracketMatchingHandle = /* @__PURE__ */ new NodeProp();
function matchingNodes(node, dir, brackets) {
  let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);
  if (byProp)
    return byProp;
  if (node.name.length == 1) {
    let index = brackets.indexOf(node.name);
    if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))
      return [brackets[index + dir]];
  }
  return null;
}
function findHandle(node) {
  let hasHandle = node.type.prop(bracketMatchingHandle);
  return hasHandle ? hasHandle(node.node) : node;
}
function matchBrackets(state, pos, dir, config2 = {}) {
  let maxScanDistance = config2.maxScanDistance || DefaultScanDist, brackets = config2.brackets || DefaultBrackets;
  let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);
  for (let cur2 = node; cur2; cur2 = cur2.parent) {
    let matches = matchingNodes(cur2.type, dir, brackets);
    if (matches && cur2.from < cur2.to) {
      let handle = findHandle(cur2);
      if (handle && (dir > 0 ? pos >= handle.from && pos < handle.to : pos > handle.from && pos <= handle.to))
        return matchMarkedBrackets(state, pos, dir, cur2, handle, matches, brackets);
    }
  }
  return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);
}
function matchMarkedBrackets(_state, _pos, dir, token, handle, matching, brackets) {
  let parent = token.parent, firstToken = { from: handle.from, to: handle.to };
  let depth = 0, cursor2 = parent === null || parent === void 0 ? void 0 : parent.cursor();
  if (cursor2 && (dir < 0 ? cursor2.childBefore(token.from) : cursor2.childAfter(token.to)))
    do {
      if (dir < 0 ? cursor2.to <= token.from : cursor2.from >= token.to) {
        if (depth == 0 && matching.indexOf(cursor2.type.name) > -1 && cursor2.from < cursor2.to) {
          let endHandle = findHandle(cursor2);
          return { start: firstToken, end: endHandle ? { from: endHandle.from, to: endHandle.to } : void 0, matched: true };
        } else if (matchingNodes(cursor2.type, dir, brackets)) {
          depth++;
        } else if (matchingNodes(cursor2.type, -dir, brackets)) {
          if (depth == 0) {
            let endHandle = findHandle(cursor2);
            return {
              start: firstToken,
              end: endHandle && endHandle.from < endHandle.to ? { from: endHandle.from, to: endHandle.to } : void 0,
              matched: false
            };
          }
          depth--;
        }
      }
    } while (dir < 0 ? cursor2.prevSibling() : cursor2.nextSibling());
  return { start: firstToken, matched: false };
}
function matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {
  let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);
  let bracket2 = brackets.indexOf(startCh);
  if (bracket2 < 0 || bracket2 % 2 == 0 != dir > 0)
    return null;
  let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };
  let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;
  for (let distance = 0; !iter.next().done && distance <= maxScanDistance; ) {
    let text = iter.value;
    if (dir < 0)
      distance += text.length;
    let basePos = pos + distance * dir;
    for (let pos2 = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos2 != end; pos2 += dir) {
      let found = brackets.indexOf(text[pos2]);
      if (found < 0 || tree.resolveInner(basePos + pos2, 1).type != tokenType)
        continue;
      if (found % 2 == 0 == dir > 0) {
        depth++;
      } else if (depth == 1) {
        return { start: startToken, end: { from: basePos + pos2, to: basePos + pos2 + 1 }, matched: found >> 1 == bracket2 >> 1 };
      } else {
        depth--;
      }
    }
    if (dir > 0)
      distance += text.length;
  }
  return iter.done ? { start: startToken, matched: false } : null;
}
var noTokens = /* @__PURE__ */ Object.create(null);
var typeArray = [NodeType.none];
var warned = [];
var byTag = /* @__PURE__ */ Object.create(null);
var defaultTable = /* @__PURE__ */ Object.create(null);
for (let [legacyName, name2] of [
  ["variable", "variableName"],
  ["variable-2", "variableName.special"],
  ["string-2", "string.special"],
  ["def", "variableName.definition"],
  ["tag", "tagName"],
  ["attribute", "attributeName"],
  ["type", "typeName"],
  ["builtin", "variableName.standard"],
  ["qualifier", "modifier"],
  ["error", "invalid"],
  ["header", "heading"],
  ["property", "propertyName"]
])
  defaultTable[legacyName] = /* @__PURE__ */ createTokenType(noTokens, name2);
function warnForPart(part, msg) {
  if (warned.indexOf(part) > -1)
    return;
  warned.push(part);
  console.warn(msg);
}
function createTokenType(extra, tagStr) {
  let tags$1 = [];
  for (let name3 of tagStr.split(" ")) {
    let found = [];
    for (let part of name3.split(".")) {
      let value = extra[part] || tags[part];
      if (!value) {
        warnForPart(part, `Unknown highlighting tag ${part}`);
      } else if (typeof value == "function") {
        if (!found.length)
          warnForPart(part, `Modifier ${part} used at start of tag`);
        else
          found = found.map(value);
      } else {
        if (found.length)
          warnForPart(part, `Tag ${part} used as modifier`);
        else
          found = Array.isArray(value) ? value : [value];
      }
    }
    for (let tag of found)
      tags$1.push(tag);
  }
  if (!tags$1.length)
    return 0;
  let name2 = tagStr.replace(/ /g, "_"), key = name2 + " " + tags$1.map((t2) => t2.id);
  let known = byTag[key];
  if (known)
    return known.id;
  let type = byTag[key] = NodeType.define({
    id: typeArray.length,
    name: name2,
    props: [styleTags({ [name2]: tags$1 })]
  });
  typeArray.push(type);
  return type.id;
}
var marks = {
  rtl: /* @__PURE__ */ Decoration.mark({ class: "cm-iso", inclusive: true, attributes: { dir: "rtl" }, bidiIsolate: Direction.RTL }),
  ltr: /* @__PURE__ */ Decoration.mark({ class: "cm-iso", inclusive: true, attributes: { dir: "ltr" }, bidiIsolate: Direction.LTR }),
  auto: /* @__PURE__ */ Decoration.mark({ class: "cm-iso", inclusive: true, attributes: { dir: "auto" }, bidiIsolate: null })
};

// node_modules/@codemirror/commands/dist/index.js
var toggleComment = (target) => {
  let { state } = target, line = state.doc.lineAt(state.selection.main.from), config2 = getConfig(target.state, line.from);
  return config2.line ? toggleLineComment(target) : config2.block ? toggleBlockCommentByLine(target) : false;
};
function command(f, option) {
  return ({ state, dispatch }) => {
    if (state.readOnly)
      return false;
    let tr = f(option, state);
    if (!tr)
      return false;
    dispatch(state.update(tr));
    return true;
  };
}
var toggleLineComment = /* @__PURE__ */ command(
  changeLineComment,
  0
  /* CommentOption.Toggle */
);
var toggleBlockComment = /* @__PURE__ */ command(
  changeBlockComment,
  0
  /* CommentOption.Toggle */
);
var toggleBlockCommentByLine = /* @__PURE__ */ command(
  (o, s) => changeBlockComment(o, s, selectedLineRanges(s)),
  0
  /* CommentOption.Toggle */
);
function getConfig(state, pos) {
  let data = state.languageDataAt("commentTokens", pos, 1);
  return data.length ? data[0] : {};
}
var SearchMargin = 50;
function findBlockComment(state, { open, close }, from2, to) {
  let textBefore = state.sliceDoc(from2 - SearchMargin, from2);
  let textAfter = state.sliceDoc(to, to + SearchMargin);
  let spaceBefore = /\s*$/.exec(textBefore)[0].length, spaceAfter = /^\s*/.exec(textAfter)[0].length;
  let beforeOff = textBefore.length - spaceBefore;
  if (textBefore.slice(beforeOff - open.length, beforeOff) == open && textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {
    return {
      open: { pos: from2 - spaceBefore, margin: spaceBefore && 1 },
      close: { pos: to + spaceAfter, margin: spaceAfter && 1 }
    };
  }
  let startText, endText;
  if (to - from2 <= 2 * SearchMargin) {
    startText = endText = state.sliceDoc(from2, to);
  } else {
    startText = state.sliceDoc(from2, from2 + SearchMargin);
    endText = state.sliceDoc(to - SearchMargin, to);
  }
  let startSpace = /^\s*/.exec(startText)[0].length, endSpace = /\s*$/.exec(endText)[0].length;
  let endOff = endText.length - endSpace - close.length;
  if (startText.slice(startSpace, startSpace + open.length) == open && endText.slice(endOff, endOff + close.length) == close) {
    return {
      open: {
        pos: from2 + startSpace + open.length,
        margin: /\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0
      },
      close: {
        pos: to - endSpace - close.length,
        margin: /\s/.test(endText.charAt(endOff - 1)) ? 1 : 0
      }
    };
  }
  return null;
}
function selectedLineRanges(state) {
  let ranges = [];
  for (let r of state.selection.ranges) {
    let fromLine = state.doc.lineAt(r.from);
    let toLine = r.to <= fromLine.to ? fromLine : state.doc.lineAt(r.to);
    if (toLine.from > fromLine.from && toLine.from == r.to)
      toLine = r.to == fromLine.to + 1 ? fromLine : state.doc.lineAt(r.to - 1);
    let last = ranges.length - 1;
    if (last >= 0 && ranges[last].to > fromLine.from)
      ranges[last].to = toLine.to;
    else
      ranges.push({ from: fromLine.from + /^\s*/.exec(fromLine.text)[0].length, to: toLine.to });
  }
  return ranges;
}
function changeBlockComment(option, state, ranges = state.selection.ranges) {
  let tokens = ranges.map((r) => getConfig(state, r.from).block);
  if (!tokens.every((c) => c))
    return null;
  let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));
  if (option != 2 && !comments.every((c) => c)) {
    return { changes: state.changes(ranges.map((range, i) => {
      if (comments[i])
        return [];
      return [{ from: range.from, insert: tokens[i].open + " " }, { from: range.to, insert: " " + tokens[i].close }];
    })) };
  } else if (option != 1 && comments.some((c) => c)) {
    let changes = [];
    for (let i = 0, comment2; i < comments.length; i++)
      if (comment2 = comments[i]) {
        let token = tokens[i], { open, close } = comment2;
        changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });
      }
    return { changes };
  }
  return null;
}
function changeLineComment(option, state, ranges = state.selection.ranges) {
  let lines = [];
  let prevLine = -1;
  for (let { from: from2, to } of ranges) {
    let startI = lines.length, minIndent = 1e9;
    let token = getConfig(state, from2).line;
    if (!token)
      continue;
    for (let pos = from2; pos <= to; ) {
      let line = state.doc.lineAt(pos);
      if (line.from > prevLine && (from2 == to || to > line.from)) {
        prevLine = line.from;
        let indent = /^\s*/.exec(line.text)[0].length;
        let empty2 = indent == line.length;
        let comment2 = line.text.slice(indent, indent + token.length) == token ? indent : -1;
        if (indent < line.text.length && indent < minIndent)
          minIndent = indent;
        lines.push({ line, comment: comment2, token, indent, empty: empty2, single: false });
      }
      pos = line.to + 1;
    }
    if (minIndent < 1e9) {
      for (let i = startI; i < lines.length; i++)
        if (lines[i].indent < lines[i].line.text.length)
          lines[i].indent = minIndent;
    }
    if (lines.length == startI + 1)
      lines[startI].single = true;
  }
  if (option != 2 && lines.some((l) => l.comment < 0 && (!l.empty || l.single))) {
    let changes = [];
    for (let { line, token, indent, empty: empty2, single } of lines)
      if (single || !empty2)
        changes.push({ from: line.from + indent, insert: token + " " });
    let changeSet = state.changes(changes);
    return { changes: changeSet, selection: state.selection.map(changeSet, 1) };
  } else if (option != 1 && lines.some((l) => l.comment >= 0)) {
    let changes = [];
    for (let { line, comment: comment2, token } of lines)
      if (comment2 >= 0) {
        let from2 = line.from + comment2, to = from2 + token.length;
        if (line.text[to - line.from] == " ")
          to++;
        changes.push({ from: from2, to });
      }
    return { changes };
  }
  return null;
}
var fromHistory = /* @__PURE__ */ Annotation.define();
var isolateHistory = /* @__PURE__ */ Annotation.define();
var invertedEffects = /* @__PURE__ */ Facet.define();
var historyConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    return combineConfig(configs, {
      minDepth: 100,
      newGroupDelay: 500,
      joinToEvent: (_t, isAdjacent2) => isAdjacent2
    }, {
      minDepth: Math.max,
      newGroupDelay: Math.min,
      joinToEvent: (a, b) => (tr, adj) => a(tr, adj) || b(tr, adj)
    });
  }
});
var historyField_ = /* @__PURE__ */ StateField.define({
  create() {
    return HistoryState.empty;
  },
  update(state, tr) {
    let config2 = tr.state.facet(historyConfig);
    let fromHist = tr.annotation(fromHistory);
    if (fromHist) {
      let item = HistEvent.fromTransaction(tr, fromHist.selection), from2 = fromHist.side;
      let other = from2 == 0 ? state.undone : state.done;
      if (item)
        other = updateBranch(other, other.length, config2.minDepth, item);
      else
        other = addSelection(other, tr.startState.selection);
      return new HistoryState(from2 == 0 ? fromHist.rest : other, from2 == 0 ? other : fromHist.rest);
    }
    let isolate = tr.annotation(isolateHistory);
    if (isolate == "full" || isolate == "before")
      state = state.isolate();
    if (tr.annotation(Transaction.addToHistory) === false)
      return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;
    let event = HistEvent.fromTransaction(tr);
    let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);
    if (event)
      state = state.addChanges(event, time, userEvent, config2, tr);
    else if (tr.selection)
      state = state.addSelection(tr.startState.selection, time, userEvent, config2.newGroupDelay);
    if (isolate == "full" || isolate == "after")
      state = state.isolate();
    return state;
  },
  toJSON(value) {
    return { done: value.done.map((e) => e.toJSON()), undone: value.undone.map((e) => e.toJSON()) };
  },
  fromJSON(json2) {
    return new HistoryState(json2.done.map(HistEvent.fromJSON), json2.undone.map(HistEvent.fromJSON));
  }
});
function history(config2 = {}) {
  return [
    historyField_,
    historyConfig.of(config2),
    EditorView.domEventHandlers({
      beforeinput(e, view) {
        let command2 = e.inputType == "historyUndo" ? undo : e.inputType == "historyRedo" ? redo : null;
        if (!command2)
          return false;
        e.preventDefault();
        return command2(view);
      }
    })
  ];
}
function cmd(side, selection2) {
  return function({ state, dispatch }) {
    if (!selection2 && state.readOnly)
      return false;
    let historyState = state.field(historyField_, false);
    if (!historyState)
      return false;
    let tr = historyState.pop(side, state, selection2);
    if (!tr)
      return false;
    dispatch(tr);
    return true;
  };
}
var undo = /* @__PURE__ */ cmd(0, false);
var redo = /* @__PURE__ */ cmd(1, false);
var undoSelection = /* @__PURE__ */ cmd(0, true);
var redoSelection = /* @__PURE__ */ cmd(1, true);
var HistEvent = class _HistEvent {
  constructor(changes, effects, mapped, startSelection, selectionsAfter) {
    this.changes = changes;
    this.effects = effects;
    this.mapped = mapped;
    this.startSelection = startSelection;
    this.selectionsAfter = selectionsAfter;
  }
  setSelAfter(after) {
    return new _HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);
  }
  toJSON() {
    var _a2, _b, _c;
    return {
      changes: (_a2 = this.changes) === null || _a2 === void 0 ? void 0 : _a2.toJSON(),
      mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),
      startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),
      selectionsAfter: this.selectionsAfter.map((s) => s.toJSON())
    };
  }
  static fromJSON(json2) {
    return new _HistEvent(json2.changes && ChangeSet.fromJSON(json2.changes), [], json2.mapped && ChangeDesc.fromJSON(json2.mapped), json2.startSelection && EditorSelection.fromJSON(json2.startSelection), json2.selectionsAfter.map(EditorSelection.fromJSON));
  }
  // This does not check `addToHistory` and such, it assumes the
  // transaction needs to be converted to an item. Returns null when
  // there are no changes or effects in the transaction.
  static fromTransaction(tr, selection2) {
    let effects = none2;
    for (let invert of tr.startState.facet(invertedEffects)) {
      let result = invert(tr);
      if (result.length)
        effects = effects.concat(result);
    }
    if (!effects.length && tr.changes.empty)
      return null;
    return new _HistEvent(tr.changes.invert(tr.startState.doc), effects, void 0, selection2 || tr.startState.selection, none2);
  }
  static selection(selections) {
    return new _HistEvent(void 0, none2, void 0, void 0, selections);
  }
};
function updateBranch(branch, to, maxLen, newEvent) {
  let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;
  let newBranch = branch.slice(start, to);
  newBranch.push(newEvent);
  return newBranch;
}
function isAdjacent(a, b) {
  let ranges = [], isAdjacent2 = false;
  a.iterChangedRanges((f, t2) => ranges.push(f, t2));
  b.iterChangedRanges((_f, _t, f, t2) => {
    for (let i = 0; i < ranges.length; ) {
      let from2 = ranges[i++], to = ranges[i++];
      if (t2 >= from2 && f <= to)
        isAdjacent2 = true;
    }
  });
  return isAdjacent2;
}
function eqSelectionShape(a, b) {
  return a.ranges.length == b.ranges.length && a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;
}
function conc(a, b) {
  return !a.length ? b : !b.length ? a : a.concat(b);
}
var none2 = [];
var MaxSelectionsPerEvent = 200;
function addSelection(branch, selection2) {
  if (!branch.length) {
    return [HistEvent.selection([selection2])];
  } else {
    let lastEvent = branch[branch.length - 1];
    let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));
    if (sels.length && sels[sels.length - 1].eq(selection2))
      return branch;
    sels.push(selection2);
    return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));
  }
}
function popSelection(branch) {
  let last = branch[branch.length - 1];
  let newBranch = branch.slice();
  newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));
  return newBranch;
}
function addMappingToBranch(branch, mapping) {
  if (!branch.length)
    return branch;
  let length = branch.length, selections = none2;
  while (length) {
    let event = mapEvent(branch[length - 1], mapping, selections);
    if (event.changes && !event.changes.empty || event.effects.length) {
      let result = branch.slice(0, length);
      result[length - 1] = event;
      return result;
    } else {
      mapping = event.mapped;
      length--;
      selections = event.selectionsAfter;
    }
  }
  return selections.length ? [HistEvent.selection(selections)] : none2;
}
function mapEvent(event, mapping, extraSelections) {
  let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map((s) => s.map(mapping)) : none2, extraSelections);
  if (!event.changes)
    return HistEvent.selection(selections);
  let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);
  let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;
  return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);
}
var joinableUserEvent = /^(input\.type|delete)($|\.)/;
var HistoryState = class _HistoryState {
  constructor(done, undone, prevTime = 0, prevUserEvent = void 0) {
    this.done = done;
    this.undone = undone;
    this.prevTime = prevTime;
    this.prevUserEvent = prevUserEvent;
  }
  isolate() {
    return this.prevTime ? new _HistoryState(this.done, this.undone) : this;
  }
  addChanges(event, time, userEvent, config2, tr) {
    let done = this.done, lastEvent = done[done.length - 1];
    if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes && (!userEvent || joinableUserEvent.test(userEvent)) && (!lastEvent.selectionsAfter.length && time - this.prevTime < config2.newGroupDelay && config2.joinToEvent(tr, isAdjacent(lastEvent.changes, event.changes)) || // For compose (but not compose.start) events, always join with previous event
    userEvent == "input.type.compose")) {
      done = updateBranch(done, done.length - 1, config2.minDepth, new HistEvent(event.changes.compose(lastEvent.changes), conc(StateEffect.mapEffects(event.effects, lastEvent.changes), lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none2));
    } else {
      done = updateBranch(done, done.length, config2.minDepth, event);
    }
    return new _HistoryState(done, none2, time, userEvent);
  }
  addSelection(selection2, time, userEvent, newGroupDelay) {
    let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none2;
    if (last.length > 0 && time - this.prevTime < newGroupDelay && userEvent == this.prevUserEvent && userEvent && /^select($|\.)/.test(userEvent) && eqSelectionShape(last[last.length - 1], selection2))
      return this;
    return new _HistoryState(addSelection(this.done, selection2), this.undone, time, userEvent);
  }
  addMapping(mapping) {
    return new _HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);
  }
  pop(side, state, onlySelection) {
    let branch = side == 0 ? this.done : this.undone;
    if (branch.length == 0)
      return null;
    let event = branch[branch.length - 1], selection2 = event.selectionsAfter[0] || state.selection;
    if (onlySelection && event.selectionsAfter.length) {
      return state.update({
        selection: event.selectionsAfter[event.selectionsAfter.length - 1],
        annotations: fromHistory.of({ side, rest: popSelection(branch), selection: selection2 }),
        userEvent: side == 0 ? "select.undo" : "select.redo",
        scrollIntoView: true
      });
    } else if (!event.changes) {
      return null;
    } else {
      let rest = branch.length == 1 ? none2 : branch.slice(0, branch.length - 1);
      if (event.mapped)
        rest = addMappingToBranch(rest, event.mapped);
      return state.update({
        changes: event.changes,
        selection: event.startSelection,
        effects: event.effects,
        annotations: fromHistory.of({ side, rest, selection: selection2 }),
        filter: false,
        userEvent: side == 0 ? "undo" : "redo",
        scrollIntoView: true
      });
    }
  }
};
HistoryState.empty = /* @__PURE__ */ new HistoryState(none2, none2);
var historyKeymap = [
  { key: "Mod-z", run: undo, preventDefault: true },
  { key: "Mod-y", mac: "Mod-Shift-z", run: redo, preventDefault: true },
  { linux: "Ctrl-Shift-z", run: redo, preventDefault: true },
  { key: "Mod-u", run: undoSelection, preventDefault: true },
  { key: "Alt-u", mac: "Mod-Shift-u", run: redoSelection, preventDefault: true }
];
function updateSel(sel, by) {
  return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);
}
function setSel(state, selection2) {
  return state.update({ selection: selection2, scrollIntoView: true, userEvent: "select" });
}
function moveSel({ state, dispatch }, how) {
  let selection2 = updateSel(state.selection, how);
  if (selection2.eq(state.selection, true))
    return false;
  dispatch(setSel(state, selection2));
  return true;
}
function rangeEnd(range, forward) {
  return EditorSelection.cursor(forward ? range.to : range.from);
}
function cursorByChar(view, forward) {
  return moveSel(view, (range) => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));
}
function ltrAtCursor(view) {
  return view.textDirectionAt(view.state.selection.main.head) == Direction.LTR;
}
var cursorCharLeft = (view) => cursorByChar(view, !ltrAtCursor(view));
var cursorCharRight = (view) => cursorByChar(view, ltrAtCursor(view));
function cursorByGroup(view, forward) {
  return moveSel(view, (range) => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));
}
var cursorGroupLeft = (view) => cursorByGroup(view, !ltrAtCursor(view));
var cursorGroupRight = (view) => cursorByGroup(view, ltrAtCursor(view));
var segmenter = typeof Intl != "undefined" && Intl.Segmenter ? /* @__PURE__ */ new Intl.Segmenter(void 0, { granularity: "word" }) : null;
function interestingNode(state, node, bracketProp) {
  if (node.type.prop(bracketProp))
    return true;
  let len = node.to - node.from;
  return len && (len > 2 || /[^\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;
}
function moveBySyntax(state, start, forward) {
  let pos = syntaxTree(state).resolveInner(start.head);
  let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;
  for (let at = start.head; ; ) {
    let next = forward ? pos.childAfter(at) : pos.childBefore(at);
    if (!next)
      break;
    if (interestingNode(state, next, bracketProp))
      pos = next;
    else
      at = forward ? next.to : next.from;
  }
  let bracket2 = pos.type.prop(bracketProp), match2, newPos;
  if (bracket2 && (match2 = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match2.matched)
    newPos = forward ? match2.end.to : match2.end.from;
  else
    newPos = forward ? pos.to : pos.from;
  return EditorSelection.cursor(newPos, forward ? -1 : 1);
}
var cursorSyntaxLeft = (view) => moveSel(view, (range) => moveBySyntax(view.state, range, !ltrAtCursor(view)));
var cursorSyntaxRight = (view) => moveSel(view, (range) => moveBySyntax(view.state, range, ltrAtCursor(view)));
function cursorByLine(view, forward) {
  return moveSel(view, (range) => {
    if (!range.empty)
      return rangeEnd(range, forward);
    let moved = view.moveVertically(range, forward);
    return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);
  });
}
var cursorLineUp = (view) => cursorByLine(view, false);
var cursorLineDown = (view) => cursorByLine(view, true);
function pageInfo(view) {
  let selfScroll = view.scrollDOM.clientHeight < view.scrollDOM.scrollHeight - 2;
  let marginTop = 0, marginBottom = 0, height;
  if (selfScroll) {
    for (let source of view.state.facet(EditorView.scrollMargins)) {
      let margins = source(view);
      if (margins === null || margins === void 0 ? void 0 : margins.top)
        marginTop = Math.max(margins === null || margins === void 0 ? void 0 : margins.top, marginTop);
      if (margins === null || margins === void 0 ? void 0 : margins.bottom)
        marginBottom = Math.max(margins === null || margins === void 0 ? void 0 : margins.bottom, marginBottom);
    }
    height = view.scrollDOM.clientHeight - marginTop - marginBottom;
  } else {
    height = (view.dom.ownerDocument.defaultView || window).innerHeight;
  }
  return {
    marginTop,
    marginBottom,
    selfScroll,
    height: Math.max(view.defaultLineHeight, height - 5)
  };
}
function cursorByPage(view, forward) {
  let page = pageInfo(view);
  let { state } = view, selection2 = updateSel(state.selection, (range) => {
    return range.empty ? view.moveVertically(range, forward, page.height) : rangeEnd(range, forward);
  });
  if (selection2.eq(state.selection))
    return false;
  let effect;
  if (page.selfScroll) {
    let startPos = view.coordsAtPos(state.selection.main.head);
    let scrollRect = view.scrollDOM.getBoundingClientRect();
    let scrollTop = scrollRect.top + page.marginTop, scrollBottom = scrollRect.bottom - page.marginBottom;
    if (startPos && startPos.top > scrollTop && startPos.bottom < scrollBottom)
      effect = EditorView.scrollIntoView(selection2.main.head, { y: "start", yMargin: startPos.top - scrollTop });
  }
  view.dispatch(setSel(state, selection2), { effects: effect });
  return true;
}
var cursorPageUp = (view) => cursorByPage(view, false);
var cursorPageDown = (view) => cursorByPage(view, true);
function moveByLineBoundary(view, start, forward) {
  let line = view.lineBlockAt(start.head), moved = view.moveToLineBoundary(start, forward);
  if (moved.head == start.head && moved.head != (forward ? line.to : line.from))
    moved = view.moveToLineBoundary(start, forward, false);
  if (!forward && moved.head == line.from && line.length) {
    let space3 = /^\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;
    if (space3 && start.head != line.from + space3)
      moved = EditorSelection.cursor(line.from + space3);
  }
  return moved;
}
var cursorLineBoundaryForward = (view) => moveSel(view, (range) => moveByLineBoundary(view, range, true));
var cursorLineBoundaryBackward = (view) => moveSel(view, (range) => moveByLineBoundary(view, range, false));
var cursorLineBoundaryLeft = (view) => moveSel(view, (range) => moveByLineBoundary(view, range, !ltrAtCursor(view)));
var cursorLineBoundaryRight = (view) => moveSel(view, (range) => moveByLineBoundary(view, range, ltrAtCursor(view)));
var cursorLineStart = (view) => moveSel(view, (range) => EditorSelection.cursor(view.lineBlockAt(range.head).from, 1));
var cursorLineEnd = (view) => moveSel(view, (range) => EditorSelection.cursor(view.lineBlockAt(range.head).to, -1));
function toMatchingBracket(state, dispatch, extend) {
  let found = false, selection2 = updateSel(state.selection, (range) => {
    let matching = matchBrackets(state, range.head, -1) || matchBrackets(state, range.head, 1) || range.head > 0 && matchBrackets(state, range.head - 1, 1) || range.head < state.doc.length && matchBrackets(state, range.head + 1, -1);
    if (!matching || !matching.end)
      return range;
    found = true;
    let head = matching.start.from == range.head ? matching.end.to : matching.end.from;
    return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);
  });
  if (!found)
    return false;
  dispatch(setSel(state, selection2));
  return true;
}
var cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);
function extendSel(target, how) {
  let selection2 = updateSel(target.state.selection, (range) => {
    let head = how(range);
    return EditorSelection.range(range.anchor, head.head, head.goalColumn, head.bidiLevel || void 0);
  });
  if (selection2.eq(target.state.selection))
    return false;
  target.dispatch(setSel(target.state, selection2));
  return true;
}
function selectByChar(view, forward) {
  return extendSel(view, (range) => view.moveByChar(range, forward));
}
var selectCharLeft = (view) => selectByChar(view, !ltrAtCursor(view));
var selectCharRight = (view) => selectByChar(view, ltrAtCursor(view));
function selectByGroup(view, forward) {
  return extendSel(view, (range) => view.moveByGroup(range, forward));
}
var selectGroupLeft = (view) => selectByGroup(view, !ltrAtCursor(view));
var selectGroupRight = (view) => selectByGroup(view, ltrAtCursor(view));
var selectSyntaxLeft = (view) => extendSel(view, (range) => moveBySyntax(view.state, range, !ltrAtCursor(view)));
var selectSyntaxRight = (view) => extendSel(view, (range) => moveBySyntax(view.state, range, ltrAtCursor(view)));
function selectByLine(view, forward) {
  return extendSel(view, (range) => view.moveVertically(range, forward));
}
var selectLineUp = (view) => selectByLine(view, false);
var selectLineDown = (view) => selectByLine(view, true);
function selectByPage(view, forward) {
  return extendSel(view, (range) => view.moveVertically(range, forward, pageInfo(view).height));
}
var selectPageUp = (view) => selectByPage(view, false);
var selectPageDown = (view) => selectByPage(view, true);
var selectLineBoundaryForward = (view) => extendSel(view, (range) => moveByLineBoundary(view, range, true));
var selectLineBoundaryBackward = (view) => extendSel(view, (range) => moveByLineBoundary(view, range, false));
var selectLineBoundaryLeft = (view) => extendSel(view, (range) => moveByLineBoundary(view, range, !ltrAtCursor(view)));
var selectLineBoundaryRight = (view) => extendSel(view, (range) => moveByLineBoundary(view, range, ltrAtCursor(view)));
var selectLineStart = (view) => extendSel(view, (range) => EditorSelection.cursor(view.lineBlockAt(range.head).from));
var selectLineEnd = (view) => extendSel(view, (range) => EditorSelection.cursor(view.lineBlockAt(range.head).to));
var cursorDocStart = ({ state, dispatch }) => {
  dispatch(setSel(state, { anchor: 0 }));
  return true;
};
var cursorDocEnd = ({ state, dispatch }) => {
  dispatch(setSel(state, { anchor: state.doc.length }));
  return true;
};
var selectDocStart = ({ state, dispatch }) => {
  dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));
  return true;
};
var selectDocEnd = ({ state, dispatch }) => {
  dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));
  return true;
};
var selectAll = ({ state, dispatch }) => {
  dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: "select" }));
  return true;
};
var selectLine = ({ state, dispatch }) => {
  let ranges = selectedLineBlocks(state).map(({ from: from2, to }) => EditorSelection.range(from2, Math.min(to + 1, state.doc.length)));
  dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: "select" }));
  return true;
};
var selectParentSyntax = ({ state, dispatch }) => {
  let selection2 = updateSel(state.selection, (range) => {
    let tree = syntaxTree(state), stack = tree.resolveStack(range.from, 1);
    if (range.empty) {
      let stackBefore = tree.resolveStack(range.from, -1);
      if (stackBefore.node.from >= stack.node.from && stackBefore.node.to <= stack.node.to)
        stack = stackBefore;
    }
    for (let cur2 = stack; cur2; cur2 = cur2.next) {
      let { node } = cur2;
      if ((node.from < range.from && node.to >= range.to || node.to > range.to && node.from <= range.from) && cur2.next)
        return EditorSelection.range(node.to, node.from);
    }
    return range;
  });
  if (selection2.eq(state.selection))
    return false;
  dispatch(setSel(state, selection2));
  return true;
};
var simplifySelection = ({ state, dispatch }) => {
  let cur2 = state.selection, selection2 = null;
  if (cur2.ranges.length > 1)
    selection2 = EditorSelection.create([cur2.main]);
  else if (!cur2.main.empty)
    selection2 = EditorSelection.create([EditorSelection.cursor(cur2.main.head)]);
  if (!selection2)
    return false;
  dispatch(setSel(state, selection2));
  return true;
};
function deleteBy(target, by) {
  if (target.state.readOnly)
    return false;
  let event = "delete.selection", { state } = target;
  let changes = state.changeByRange((range) => {
    let { from: from2, to } = range;
    if (from2 == to) {
      let towards = by(range);
      if (towards < from2) {
        event = "delete.backward";
        towards = skipAtomic(target, towards, false);
      } else if (towards > from2) {
        event = "delete.forward";
        towards = skipAtomic(target, towards, true);
      }
      from2 = Math.min(from2, towards);
      to = Math.max(to, towards);
    } else {
      from2 = skipAtomic(target, from2, false);
      to = skipAtomic(target, to, true);
    }
    return from2 == to ? { range } : { changes: { from: from2, to }, range: EditorSelection.cursor(from2, from2 < range.head ? -1 : 1) };
  });
  if (changes.changes.empty)
    return false;
  target.dispatch(state.update(changes, {
    scrollIntoView: true,
    userEvent: event,
    effects: event == "delete.selection" ? EditorView.announce.of(state.phrase("Selection deleted")) : void 0
  }));
  return true;
}
function skipAtomic(target, pos, forward) {
  if (target instanceof EditorView)
    for (let ranges of target.state.facet(EditorView.atomicRanges).map((f) => f(target)))
      ranges.between(pos, pos, (from2, to) => {
        if (from2 < pos && to > pos)
          pos = forward ? to : from2;
      });
  return pos;
}
var deleteByChar = (target, forward, byIndentUnit) => deleteBy(target, (range) => {
  let pos = range.from, { state } = target, line = state.doc.lineAt(pos), before, targetPos;
  if (byIndentUnit && !forward && pos > line.from && pos < line.from + 200 && !/[^ \t]/.test(before = line.text.slice(0, pos - line.from))) {
    if (before[before.length - 1] == "	")
      return pos - 1;
    let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);
    for (let i = 0; i < drop && before[before.length - 1 - i] == " "; i++)
      pos--;
    targetPos = pos;
  } else {
    targetPos = findClusterBreak2(line.text, pos - line.from, forward, forward) + line.from;
    if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))
      targetPos += forward ? 1 : -1;
    else if (!forward && /[\ufe00-\ufe0f]/.test(line.text.slice(targetPos - line.from, pos - line.from)))
      targetPos = findClusterBreak2(line.text, targetPos - line.from, false, false) + line.from;
  }
  return targetPos;
});
var deleteCharBackward = (view) => deleteByChar(view, false, true);
var deleteCharForward = (view) => deleteByChar(view, true, false);
var deleteByGroup = (target, forward) => deleteBy(target, (range) => {
  let pos = range.head, { state } = target, line = state.doc.lineAt(pos);
  let categorize = state.charCategorizer(pos);
  for (let cat = null; ; ) {
    if (pos == (forward ? line.to : line.from)) {
      if (pos == range.head && line.number != (forward ? state.doc.lines : 1))
        pos += forward ? 1 : -1;
      break;
    }
    let next = findClusterBreak2(line.text, pos - line.from, forward) + line.from;
    let nextChar2 = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);
    let nextCat = categorize(nextChar2);
    if (cat != null && nextCat != cat)
      break;
    if (nextChar2 != " " || pos != range.head)
      cat = nextCat;
    pos = next;
  }
  return pos;
});
var deleteGroupBackward = (target) => deleteByGroup(target, false);
var deleteGroupForward = (target) => deleteByGroup(target, true);
var deleteToLineEnd = (view) => deleteBy(view, (range) => {
  let lineEnd = view.lineBlockAt(range.head).to;
  return range.head < lineEnd ? lineEnd : Math.min(view.state.doc.length, range.head + 1);
});
var deleteLineBoundaryBackward = (view) => deleteBy(view, (range) => {
  let lineStart = view.moveToLineBoundary(range, false).head;
  return range.head > lineStart ? lineStart : Math.max(0, range.head - 1);
});
var deleteLineBoundaryForward = (view) => deleteBy(view, (range) => {
  let lineStart = view.moveToLineBoundary(range, true).head;
  return range.head < lineStart ? lineStart : Math.min(view.state.doc.length, range.head + 1);
});
var splitLine = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  let changes = state.changeByRange((range) => {
    return {
      changes: { from: range.from, to: range.to, insert: Text.of(["", ""]) },
      range: EditorSelection.cursor(range.from)
    };
  });
  dispatch(state.update(changes, { scrollIntoView: true, userEvent: "input" }));
  return true;
};
var transposeChars = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  let changes = state.changeByRange((range) => {
    if (!range.empty || range.from == 0 || range.from == state.doc.length)
      return { range };
    let pos = range.from, line = state.doc.lineAt(pos);
    let from2 = pos == line.from ? pos - 1 : findClusterBreak2(line.text, pos - line.from, false) + line.from;
    let to = pos == line.to ? pos + 1 : findClusterBreak2(line.text, pos - line.from, true) + line.from;
    return {
      changes: { from: from2, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from2, pos)) },
      range: EditorSelection.cursor(to)
    };
  });
  if (changes.changes.empty)
    return false;
  dispatch(state.update(changes, { scrollIntoView: true, userEvent: "move.character" }));
  return true;
};
function selectedLineBlocks(state) {
  let blocks = [], upto = -1;
  for (let range of state.selection.ranges) {
    let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);
    if (!range.empty && range.to == endLine.from)
      endLine = state.doc.lineAt(range.to - 1);
    if (upto >= startLine.number) {
      let prev = blocks[blocks.length - 1];
      prev.to = endLine.to;
      prev.ranges.push(range);
    } else {
      blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });
    }
    upto = endLine.number + 1;
  }
  return blocks;
}
function moveLine(state, dispatch, forward) {
  if (state.readOnly)
    return false;
  let changes = [], ranges = [];
  for (let block of selectedLineBlocks(state)) {
    if (forward ? block.to == state.doc.length : block.from == 0)
      continue;
    let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);
    let size = nextLine.length + 1;
    if (forward) {
      changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });
      for (let r of block.ranges)
        ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));
    } else {
      changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });
      for (let r of block.ranges)
        ranges.push(EditorSelection.range(r.anchor - size, r.head - size));
    }
  }
  if (!changes.length)
    return false;
  dispatch(state.update({
    changes,
    scrollIntoView: true,
    selection: EditorSelection.create(ranges, state.selection.mainIndex),
    userEvent: "move.line"
  }));
  return true;
}
var moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);
var moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);
function copyLine(state, dispatch, forward) {
  if (state.readOnly)
    return false;
  let changes = [];
  for (let block of selectedLineBlocks(state)) {
    if (forward)
      changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });
    else
      changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });
  }
  dispatch(state.update({ changes, scrollIntoView: true, userEvent: "input.copyline" }));
  return true;
}
var copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);
var copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);
var deleteLine = (view) => {
  if (view.state.readOnly)
    return false;
  let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from: from2, to }) => {
    if (from2 > 0)
      from2--;
    else if (to < state.doc.length)
      to++;
    return { from: from2, to };
  }));
  let selection2 = updateSel(state.selection, (range) => {
    let dist2 = void 0;
    if (view.lineWrapping) {
      let block = view.lineBlockAt(range.head), pos = view.coordsAtPos(range.head, range.assoc || 1);
      if (pos)
        dist2 = block.bottom + view.documentTop - pos.bottom + view.defaultLineHeight / 2;
    }
    return view.moveVertically(range, true, dist2);
  }).map(changes);
  view.dispatch({ changes, selection: selection2, scrollIntoView: true, userEvent: "delete.line" });
  return true;
};
function isBetweenBrackets(state, pos) {
  if (/\(\)|\[\]|\{\}/.test(state.sliceDoc(pos - 1, pos + 1)))
    return { from: pos, to: pos };
  let context = syntaxTree(state).resolveInner(pos);
  let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;
  if (before && after && before.to <= pos && after.from >= pos && (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 && state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from && !/\S/.test(state.sliceDoc(before.to, after.from)))
    return { from: before.to, to: after.from };
  return null;
}
var insertNewlineAndIndent = /* @__PURE__ */ newlineAndIndent(false);
var insertBlankLine = /* @__PURE__ */ newlineAndIndent(true);
function newlineAndIndent(atEof) {
  return ({ state, dispatch }) => {
    if (state.readOnly)
      return false;
    let changes = state.changeByRange((range) => {
      let { from: from2, to } = range, line = state.doc.lineAt(from2);
      let explode = !atEof && from2 == to && isBetweenBrackets(state, from2);
      if (atEof)
        from2 = to = (to <= line.to ? line : state.doc.lineAt(to)).to;
      let cx = new IndentContext(state, { simulateBreak: from2, simulateDoubleBreak: !!explode });
      let indent = getIndentation(cx, from2);
      if (indent == null)
        indent = countColumn(/^\s*/.exec(state.doc.lineAt(from2).text)[0], state.tabSize);
      while (to < line.to && /\s/.test(line.text[to - line.from]))
        to++;
      if (explode)
        ({ from: from2, to } = explode);
      else if (from2 > line.from && from2 < line.from + 100 && !/\S/.test(line.text.slice(0, from2)))
        from2 = line.from;
      let insert2 = ["", indentString(state, indent)];
      if (explode)
        insert2.push(indentString(state, cx.lineIndent(line.from, -1)));
      return {
        changes: { from: from2, to, insert: Text.of(insert2) },
        range: EditorSelection.cursor(from2 + 1 + insert2[1].length)
      };
    });
    dispatch(state.update(changes, { scrollIntoView: true, userEvent: "input" }));
    return true;
  };
}
function changeBySelectedLine(state, f) {
  let atLine = -1;
  return state.changeByRange((range) => {
    let changes = [];
    for (let pos = range.from; pos <= range.to; ) {
      let line = state.doc.lineAt(pos);
      if (line.number > atLine && (range.empty || range.to > line.from)) {
        f(line, changes, range);
        atLine = line.number;
      }
      pos = line.to + 1;
    }
    let changeSet = state.changes(changes);
    return {
      changes,
      range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1))
    };
  });
}
var indentSelection = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  let updated = /* @__PURE__ */ Object.create(null);
  let context = new IndentContext(state, { overrideIndentation: (start) => {
    let found = updated[start];
    return found == null ? -1 : found;
  } });
  let changes = changeBySelectedLine(state, (line, changes2, range) => {
    let indent = getIndentation(context, line.from);
    if (indent == null)
      return;
    if (!/\S/.test(line.text))
      indent = 0;
    let cur2 = /^\s*/.exec(line.text)[0];
    let norm = indentString(state, indent);
    if (cur2 != norm || range.from < line.from + cur2.length) {
      updated[line.from] = indent;
      changes2.push({ from: line.from, to: line.from + cur2.length, insert: norm });
    }
  });
  if (!changes.changes.empty)
    dispatch(state.update(changes, { userEvent: "indent" }));
  return true;
};
var indentMore = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  dispatch(state.update(changeBySelectedLine(state, (line, changes) => {
    changes.push({ from: line.from, insert: state.facet(indentUnit) });
  }), { userEvent: "input.indent" }));
  return true;
};
var indentLess = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  dispatch(state.update(changeBySelectedLine(state, (line, changes) => {
    let space3 = /^\s*/.exec(line.text)[0];
    if (!space3)
      return;
    let col = countColumn(space3, state.tabSize), keep = 0;
    let insert2 = indentString(state, Math.max(0, col - getIndentUnit(state)));
    while (keep < space3.length && keep < insert2.length && space3.charCodeAt(keep) == insert2.charCodeAt(keep))
      keep++;
    changes.push({ from: line.from + keep, to: line.from + space3.length, insert: insert2.slice(keep) });
  }), { userEvent: "delete.dedent" }));
  return true;
};
var toggleTabFocusMode = (view) => {
  view.setTabFocusMode();
  return true;
};
var emacsStyleKeymap = [
  { key: "Ctrl-b", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },
  { key: "Ctrl-f", run: cursorCharRight, shift: selectCharRight },
  { key: "Ctrl-p", run: cursorLineUp, shift: selectLineUp },
  { key: "Ctrl-n", run: cursorLineDown, shift: selectLineDown },
  { key: "Ctrl-a", run: cursorLineStart, shift: selectLineStart },
  { key: "Ctrl-e", run: cursorLineEnd, shift: selectLineEnd },
  { key: "Ctrl-d", run: deleteCharForward },
  { key: "Ctrl-h", run: deleteCharBackward },
  { key: "Ctrl-k", run: deleteToLineEnd },
  { key: "Ctrl-Alt-h", run: deleteGroupBackward },
  { key: "Ctrl-o", run: splitLine },
  { key: "Ctrl-t", run: transposeChars },
  { key: "Ctrl-v", run: cursorPageDown }
];
var standardKeymap = /* @__PURE__ */ [
  { key: "ArrowLeft", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },
  { key: "Mod-ArrowLeft", mac: "Alt-ArrowLeft", run: cursorGroupLeft, shift: selectGroupLeft, preventDefault: true },
  { mac: "Cmd-ArrowLeft", run: cursorLineBoundaryLeft, shift: selectLineBoundaryLeft, preventDefault: true },
  { key: "ArrowRight", run: cursorCharRight, shift: selectCharRight, preventDefault: true },
  { key: "Mod-ArrowRight", mac: "Alt-ArrowRight", run: cursorGroupRight, shift: selectGroupRight, preventDefault: true },
  { mac: "Cmd-ArrowRight", run: cursorLineBoundaryRight, shift: selectLineBoundaryRight, preventDefault: true },
  { key: "ArrowUp", run: cursorLineUp, shift: selectLineUp, preventDefault: true },
  { mac: "Cmd-ArrowUp", run: cursorDocStart, shift: selectDocStart },
  { mac: "Ctrl-ArrowUp", run: cursorPageUp, shift: selectPageUp },
  { key: "ArrowDown", run: cursorLineDown, shift: selectLineDown, preventDefault: true },
  { mac: "Cmd-ArrowDown", run: cursorDocEnd, shift: selectDocEnd },
  { mac: "Ctrl-ArrowDown", run: cursorPageDown, shift: selectPageDown },
  { key: "PageUp", run: cursorPageUp, shift: selectPageUp },
  { key: "PageDown", run: cursorPageDown, shift: selectPageDown },
  { key: "Home", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward, preventDefault: true },
  { key: "Mod-Home", run: cursorDocStart, shift: selectDocStart },
  { key: "End", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward, preventDefault: true },
  { key: "Mod-End", run: cursorDocEnd, shift: selectDocEnd },
  { key: "Enter", run: insertNewlineAndIndent, shift: insertNewlineAndIndent },
  { key: "Mod-a", run: selectAll },
  { key: "Backspace", run: deleteCharBackward, shift: deleteCharBackward },
  { key: "Delete", run: deleteCharForward },
  { key: "Mod-Backspace", mac: "Alt-Backspace", run: deleteGroupBackward },
  { key: "Mod-Delete", mac: "Alt-Delete", run: deleteGroupForward },
  { mac: "Mod-Backspace", run: deleteLineBoundaryBackward },
  { mac: "Mod-Delete", run: deleteLineBoundaryForward }
].concat(/* @__PURE__ */ emacsStyleKeymap.map((b) => ({ mac: b.key, run: b.run, shift: b.shift })));
var defaultKeymap = /* @__PURE__ */ [
  { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: cursorSyntaxLeft, shift: selectSyntaxLeft },
  { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: cursorSyntaxRight, shift: selectSyntaxRight },
  { key: "Alt-ArrowUp", run: moveLineUp },
  { key: "Shift-Alt-ArrowUp", run: copyLineUp },
  { key: "Alt-ArrowDown", run: moveLineDown },
  { key: "Shift-Alt-ArrowDown", run: copyLineDown },
  { key: "Escape", run: simplifySelection },
  { key: "Mod-Enter", run: insertBlankLine },
  { key: "Alt-l", mac: "Ctrl-l", run: selectLine },
  { key: "Mod-i", run: selectParentSyntax, preventDefault: true },
  { key: "Mod-[", run: indentLess },
  { key: "Mod-]", run: indentMore },
  { key: "Mod-Alt-\\", run: indentSelection },
  { key: "Shift-Mod-k", run: deleteLine },
  { key: "Shift-Mod-\\", run: cursorMatchingBracket },
  { key: "Mod-/", run: toggleComment },
  { key: "Alt-A", run: toggleBlockComment },
  { key: "Ctrl-m", mac: "Shift-Alt-m", run: toggleTabFocusMode }
].concat(standardKeymap);
var indentWithTab = { key: "Tab", run: indentMore, shift: indentLess };

// node_modules/@codemirror/search/dist/index.js
var basicNormalize = typeof String.prototype.normalize == "function" ? (x) => x.normalize("NFKD") : (x) => x;
var SearchCursor = class {
  /**
  Create a text cursor. The query is the search string, `from` to
  `to` provides the region to search.
  
  When `normalize` is given, it will be called, on both the query
  string and the content it is matched against, before comparing.
  You can, for example, create a case-insensitive search by
  passing `s => s.toLowerCase()`.
  
  Text is always normalized with
  [`.normalize("NFKD")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)
  (when supported).
  */
  constructor(text, query, from2 = 0, to = text.length, normalize, test) {
    this.test = test;
    this.value = { from: 0, to: 0 };
    this.done = false;
    this.matches = [];
    this.buffer = "";
    this.bufferPos = 0;
    this.iter = text.iterRange(from2, to);
    this.bufferStart = from2;
    this.normalize = normalize ? (x) => normalize(basicNormalize(x)) : basicNormalize;
    this.query = this.normalize(query);
  }
  peek() {
    if (this.bufferPos == this.buffer.length) {
      this.bufferStart += this.buffer.length;
      this.iter.next();
      if (this.iter.done)
        return -1;
      this.bufferPos = 0;
      this.buffer = this.iter.value;
    }
    return codePointAt2(this.buffer, this.bufferPos);
  }
  /**
  Look for the next match. Updates the iterator's
  [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and
  [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called
  at least once before using the cursor.
  */
  next() {
    while (this.matches.length)
      this.matches.pop();
    return this.nextOverlapping();
  }
  /**
  The `next` method will ignore matches that partially overlap a
  previous match. This method behaves like `next`, but includes
  such matches.
  */
  nextOverlapping() {
    for (; ; ) {
      let next = this.peek();
      if (next < 0) {
        this.done = true;
        return this;
      }
      let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;
      this.bufferPos += codePointSize2(next);
      let norm = this.normalize(str);
      if (norm.length)
        for (let i = 0, pos = start; ; i++) {
          let code = norm.charCodeAt(i);
          let match2 = this.match(code, pos, this.bufferPos + this.bufferStart);
          if (i == norm.length - 1) {
            if (match2) {
              this.value = match2;
              return this;
            }
            break;
          }
          if (pos == start && i < str.length && str.charCodeAt(i) == code)
            pos++;
        }
    }
  }
  match(code, pos, end) {
    let match2 = null;
    for (let i = 0; i < this.matches.length; i += 2) {
      let index = this.matches[i], keep = false;
      if (this.query.charCodeAt(index) == code) {
        if (index == this.query.length - 1) {
          match2 = { from: this.matches[i + 1], to: end };
        } else {
          this.matches[i]++;
          keep = true;
        }
      }
      if (!keep) {
        this.matches.splice(i, 2);
        i -= 2;
      }
    }
    if (this.query.charCodeAt(0) == code) {
      if (this.query.length == 1)
        match2 = { from: pos, to: end };
      else
        this.matches.push(1, pos);
    }
    if (match2 && this.test && !this.test(match2.from, match2.to, this.buffer, this.bufferStart))
      match2 = null;
    return match2;
  }
};
if (typeof Symbol != "undefined")
  SearchCursor.prototype[Symbol.iterator] = function() {
    return this;
  };
var empty = { from: -1, to: -1, match: /* @__PURE__ */ /.*/.exec("") };
var baseFlags = "gm" + (/x/.unicode == null ? "" : "u");
var RegExpCursor = class {
  /**
  Create a cursor that will search the given range in the given
  document. `query` should be the raw pattern (as you'd pass it to
  `new RegExp`).
  */
  constructor(text, query, options, from2 = 0, to = text.length) {
    this.text = text;
    this.to = to;
    this.curLine = "";
    this.done = false;
    this.value = empty;
    if (/\\[sWDnr]|\n|\r|\[\^/.test(query))
      return new MultilineRegExpCursor(text, query, options, from2, to);
    this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? "i" : ""));
    this.test = options === null || options === void 0 ? void 0 : options.test;
    this.iter = text.iter();
    let startLine = text.lineAt(from2);
    this.curLineStart = startLine.from;
    this.matchPos = toCharEnd(text, from2);
    this.getLine(this.curLineStart);
  }
  getLine(skip) {
    this.iter.next(skip);
    if (this.iter.lineBreak) {
      this.curLine = "";
    } else {
      this.curLine = this.iter.value;
      if (this.curLineStart + this.curLine.length > this.to)
        this.curLine = this.curLine.slice(0, this.to - this.curLineStart);
      this.iter.next();
    }
  }
  nextLine() {
    this.curLineStart = this.curLineStart + this.curLine.length + 1;
    if (this.curLineStart > this.to)
      this.curLine = "";
    else
      this.getLine(0);
  }
  /**
  Move to the next match, if there is one.
  */
  next() {
    for (let off = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = off;
      let match2 = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (match2) {
        let from2 = this.curLineStart + match2.index, to = from2 + match2[0].length;
        this.matchPos = toCharEnd(this.text, to + (from2 == to ? 1 : 0));
        if (from2 == this.curLineStart + this.curLine.length)
          this.nextLine();
        if ((from2 < to || from2 > this.value.to) && (!this.test || this.test(from2, to, match2))) {
          this.value = { from: from2, to, match: match2 };
          return this;
        }
        off = this.matchPos - this.curLineStart;
      } else if (this.curLineStart + this.curLine.length < this.to) {
        this.nextLine();
        off = 0;
      } else {
        this.done = true;
        return this;
      }
    }
  }
};
var flattened = /* @__PURE__ */ new WeakMap();
var FlattenedDoc = class _FlattenedDoc {
  constructor(from2, text) {
    this.from = from2;
    this.text = text;
  }
  get to() {
    return this.from + this.text.length;
  }
  static get(doc2, from2, to) {
    let cached = flattened.get(doc2);
    if (!cached || cached.from >= to || cached.to <= from2) {
      let flat = new _FlattenedDoc(from2, doc2.sliceString(from2, to));
      flattened.set(doc2, flat);
      return flat;
    }
    if (cached.from == from2 && cached.to == to)
      return cached;
    let { text, from: cachedFrom } = cached;
    if (cachedFrom > from2) {
      text = doc2.sliceString(from2, cachedFrom) + text;
      cachedFrom = from2;
    }
    if (cached.to < to)
      text += doc2.sliceString(cached.to, to);
    flattened.set(doc2, new _FlattenedDoc(cachedFrom, text));
    return new _FlattenedDoc(from2, text.slice(from2 - cachedFrom, to - cachedFrom));
  }
};
var MultilineRegExpCursor = class {
  constructor(text, query, options, from2, to) {
    this.text = text;
    this.to = to;
    this.done = false;
    this.value = empty;
    this.matchPos = toCharEnd(text, from2);
    this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? "i" : ""));
    this.test = options === null || options === void 0 ? void 0 : options.test;
    this.flat = FlattenedDoc.get(text, from2, this.chunkEnd(
      from2 + 5e3
      /* Chunk.Base */
    ));
  }
  chunkEnd(pos) {
    return pos >= this.to ? this.to : this.text.lineAt(pos).to;
  }
  next() {
    for (; ; ) {
      let off = this.re.lastIndex = this.matchPos - this.flat.from;
      let match2 = this.re.exec(this.flat.text);
      if (match2 && !match2[0] && match2.index == off) {
        this.re.lastIndex = off + 1;
        match2 = this.re.exec(this.flat.text);
      }
      if (match2) {
        let from2 = this.flat.from + match2.index, to = from2 + match2[0].length;
        if ((this.flat.to >= this.to || match2.index + match2[0].length <= this.flat.text.length - 10) && (!this.test || this.test(from2, to, match2))) {
          this.value = { from: from2, to, match: match2 };
          this.matchPos = toCharEnd(this.text, to + (from2 == to ? 1 : 0));
          return this;
        }
      }
      if (this.flat.to == this.to) {
        this.done = true;
        return this;
      }
      this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));
    }
  }
};
if (typeof Symbol != "undefined") {
  RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] = function() {
    return this;
  };
}
function validRegExp(source) {
  try {
    new RegExp(source, baseFlags);
    return true;
  } catch (_a2) {
    return false;
  }
}
function toCharEnd(text, pos) {
  if (pos >= text.length)
    return pos;
  let line = text.lineAt(pos), next;
  while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 56320 && next < 57344)
    pos++;
  return pos;
}
function createLineDialog(view) {
  let line = String(view.state.doc.lineAt(view.state.selection.main.head).number);
  let input = crelt("input", { class: "cm-textfield", name: "line", value: line });
  let dom = crelt("form", {
    class: "cm-gotoLine",
    onkeydown: (event) => {
      if (event.keyCode == 27) {
        event.preventDefault();
        view.dispatch({ effects: dialogEffect.of(false) });
        view.focus();
      } else if (event.keyCode == 13) {
        event.preventDefault();
        go();
      }
    },
    onsubmit: (event) => {
      event.preventDefault();
      go();
    }
  }, crelt("label", view.state.phrase("Go to line"), ": ", input), " ", crelt("button", { class: "cm-button", type: "submit" }, view.state.phrase("go")), crelt("button", {
    name: "close",
    onclick: () => {
      view.dispatch({ effects: dialogEffect.of(false) });
      view.focus();
    },
    "aria-label": view.state.phrase("close"),
    type: "button"
  }, ["\xD7"]));
  function go() {
    let match2 = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(input.value);
    if (!match2)
      return;
    let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);
    let [, sign, ln, cl, percent2] = match2;
    let col = cl ? +cl.slice(1) : 0;
    let line2 = ln ? +ln : startLine.number;
    if (ln && percent2) {
      let pc = line2 / 100;
      if (sign)
        pc = pc * (sign == "-" ? -1 : 1) + startLine.number / state.doc.lines;
      line2 = Math.round(state.doc.lines * pc);
    } else if (ln && sign) {
      line2 = line2 * (sign == "-" ? -1 : 1) + startLine.number;
    }
    let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line2)));
    let selection2 = EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length)));
    view.dispatch({
      effects: [dialogEffect.of(false), EditorView.scrollIntoView(selection2.from, { y: "center" })],
      selection: selection2
    });
    view.focus();
  }
  return { dom };
}
var dialogEffect = /* @__PURE__ */ StateEffect.define();
var dialogField = /* @__PURE__ */ StateField.define({
  create() {
    return true;
  },
  update(value, tr) {
    for (let e of tr.effects)
      if (e.is(dialogEffect))
        value = e.value;
    return value;
  },
  provide: (f) => showPanel.from(f, (val) => val ? createLineDialog : null)
});
var gotoLine = (view) => {
  let panel = getPanel(view, createLineDialog);
  if (!panel) {
    let effects = [dialogEffect.of(true)];
    if (view.state.field(dialogField, false) == null)
      effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$13]));
    view.dispatch({ effects });
    panel = getPanel(view, createLineDialog);
  }
  if (panel)
    panel.dom.querySelector("input").select();
  return true;
};
var baseTheme$13 = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-panel.cm-gotoLine": {
    padding: "2px 6px 4px",
    position: "relative",
    "& label": { fontSize: "80%" },
    "& [name=close]": {
      position: "absolute",
      top: "0",
      bottom: "0",
      right: "4px",
      backgroundColor: "inherit",
      border: "none",
      font: "inherit",
      padding: "0"
    }
  }
});
var defaultHighlightOptions = {
  highlightWordAroundCursor: false,
  minSelectionLength: 1,
  maxMatches: 100,
  wholeWords: false
};
var highlightConfig = /* @__PURE__ */ Facet.define({
  combine(options) {
    return combineConfig(options, defaultHighlightOptions, {
      highlightWordAroundCursor: (a, b) => a || b,
      minSelectionLength: Math.min,
      maxMatches: Math.min
    });
  }
});
function highlightSelectionMatches(options) {
  let ext = [defaultTheme, matchHighlighter];
  if (options)
    ext.push(highlightConfig.of(options));
  return ext;
}
var matchDeco = /* @__PURE__ */ Decoration.mark({ class: "cm-selectionMatch" });
var mainMatchDeco = /* @__PURE__ */ Decoration.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function insideWordBoundaries(check, state, from2, to) {
  return (from2 == 0 || check(state.sliceDoc(from2 - 1, from2)) != CharCategory.Word) && (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);
}
function insideWord(check, state, from2, to) {
  return check(state.sliceDoc(from2, from2 + 1)) == CharCategory.Word && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;
}
var matchHighlighter = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.decorations = this.getDeco(view);
  }
  update(update) {
    if (update.selectionSet || update.docChanged || update.viewportChanged)
      this.decorations = this.getDeco(update.view);
  }
  getDeco(view) {
    let conf = view.state.facet(highlightConfig);
    let { state } = view, sel = state.selection;
    if (sel.ranges.length > 1)
      return Decoration.none;
    let range = sel.main, query, check = null;
    if (range.empty) {
      if (!conf.highlightWordAroundCursor)
        return Decoration.none;
      let word = state.wordAt(range.head);
      if (!word)
        return Decoration.none;
      check = state.charCategorizer(range.head);
      query = state.sliceDoc(word.from, word.to);
    } else {
      let len = range.to - range.from;
      if (len < conf.minSelectionLength || len > 200)
        return Decoration.none;
      if (conf.wholeWords) {
        query = state.sliceDoc(range.from, range.to);
        check = state.charCategorizer(range.head);
        if (!(insideWordBoundaries(check, state, range.from, range.to) && insideWord(check, state, range.from, range.to)))
          return Decoration.none;
      } else {
        query = state.sliceDoc(range.from, range.to);
        if (!query)
          return Decoration.none;
      }
    }
    let deco = [];
    for (let part of view.visibleRanges) {
      let cursor2 = new SearchCursor(state.doc, query, part.from, part.to);
      while (!cursor2.next().done) {
        let { from: from2, to } = cursor2.value;
        if (!check || insideWordBoundaries(check, state, from2, to)) {
          if (range.empty && from2 <= range.from && to >= range.to)
            deco.push(mainMatchDeco.range(from2, to));
          else if (from2 >= range.to || to <= range.from)
            deco.push(matchDeco.range(from2, to));
          if (deco.length > conf.maxMatches)
            return Decoration.none;
        }
      }
    }
    return Decoration.set(deco);
  }
}, {
  decorations: (v) => v.decorations
});
var defaultTheme = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
  ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" }
});
var selectWord = ({ state, dispatch }) => {
  let { selection: selection2 } = state;
  let newSel = EditorSelection.create(selection2.ranges.map((range) => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection2.mainIndex);
  if (newSel.eq(selection2))
    return false;
  dispatch(state.update({ selection: newSel }));
  return true;
};
function findNextOccurrence(state, query) {
  let { main, ranges } = state.selection;
  let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;
  for (let cycled = false, cursor2 = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to); ; ) {
    cursor2.next();
    if (cursor2.done) {
      if (cycled)
        return null;
      cursor2 = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));
      cycled = true;
    } else {
      if (cycled && ranges.some((r) => r.from == cursor2.value.from))
        continue;
      if (fullWord) {
        let word2 = state.wordAt(cursor2.value.from);
        if (!word2 || word2.from != cursor2.value.from || word2.to != cursor2.value.to)
          continue;
      }
      return cursor2.value;
    }
  }
}
var selectNextOccurrence = ({ state, dispatch }) => {
  let { ranges } = state.selection;
  if (ranges.some((sel) => sel.from === sel.to))
    return selectWord({ state, dispatch });
  let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);
  if (state.selection.ranges.some((r) => state.sliceDoc(r.from, r.to) != searchedText))
    return false;
  let range = findNextOccurrence(state, searchedText);
  if (!range)
    return false;
  dispatch(state.update({
    selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),
    effects: EditorView.scrollIntoView(range.to)
  }));
  return true;
};
var searchConfigFacet = /* @__PURE__ */ Facet.define({
  combine(configs) {
    return combineConfig(configs, {
      top: false,
      caseSensitive: false,
      literal: false,
      regexp: false,
      wholeWord: false,
      createPanel: (view) => new SearchPanel(view),
      scrollToMatch: (range) => EditorView.scrollIntoView(range)
    });
  }
});
var SearchQuery = class {
  /**
  Create a query object.
  */
  constructor(config2) {
    this.search = config2.search;
    this.caseSensitive = !!config2.caseSensitive;
    this.literal = !!config2.literal;
    this.regexp = !!config2.regexp;
    this.replace = config2.replace || "";
    this.valid = !!this.search && (!this.regexp || validRegExp(this.search));
    this.unquoted = this.unquote(this.search);
    this.wholeWord = !!config2.wholeWord;
  }
  /**
  @internal
  */
  unquote(text) {
    return this.literal ? text : text.replace(/\\([nrt\\])/g, (_, ch) => ch == "n" ? "\n" : ch == "r" ? "\r" : ch == "t" ? "	" : "\\");
  }
  /**
  Compare this query to another query.
  */
  eq(other) {
    return this.search == other.search && this.replace == other.replace && this.caseSensitive == other.caseSensitive && this.regexp == other.regexp && this.wholeWord == other.wholeWord;
  }
  /**
  @internal
  */
  create() {
    return this.regexp ? new RegExpQuery(this) : new StringQuery(this);
  }
  /**
  Get a search cursor for this query, searching through the given
  range in the given state.
  */
  getCursor(state, from2 = 0, to) {
    let st = state.doc ? state : EditorState.create({ doc: state });
    if (to == null)
      to = st.doc.length;
    return this.regexp ? regexpCursor(this, st, from2, to) : stringCursor(this, st, from2, to);
  }
};
var QueryType2 = class {
  constructor(spec) {
    this.spec = spec;
  }
};
function stringCursor(spec, state, from2, to) {
  return new SearchCursor(state.doc, spec.unquoted, from2, to, spec.caseSensitive ? void 0 : (x) => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : void 0);
}
function stringWordTest(doc2, categorizer) {
  return (from2, to, buf, bufPos) => {
    if (bufPos > from2 || bufPos + buf.length < to) {
      bufPos = Math.max(0, from2 - 2);
      buf = doc2.sliceString(bufPos, Math.min(doc2.length, to + 2));
    }
    return (categorizer(charBefore(buf, from2 - bufPos)) != CharCategory.Word || categorizer(charAfter(buf, from2 - bufPos)) != CharCategory.Word) && (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word || categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);
  };
}
var StringQuery = class extends QueryType2 {
  constructor(spec) {
    super(spec);
  }
  nextMatch(state, curFrom, curTo) {
    let cursor2 = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();
    if (cursor2.done) {
      let end = Math.min(state.doc.length, curFrom + this.spec.unquoted.length);
      cursor2 = stringCursor(this.spec, state, 0, end).nextOverlapping();
    }
    return cursor2.done || cursor2.value.from == curFrom && cursor2.value.to == curTo ? null : cursor2.value;
  }
  // Searching in reverse is, rather than implementing an inverted search
  // cursor, done by scanning chunk after chunk forward.
  prevMatchInRange(state, from2, to) {
    for (let pos = to; ; ) {
      let start = Math.max(from2, pos - 1e4 - this.spec.unquoted.length);
      let cursor2 = stringCursor(this.spec, state, start, pos), range = null;
      while (!cursor2.nextOverlapping().done)
        range = cursor2.value;
      if (range)
        return range;
      if (start == from2)
        return null;
      pos -= 1e4;
    }
  }
  prevMatch(state, curFrom, curTo) {
    let found = this.prevMatchInRange(state, 0, curFrom);
    if (!found)
      found = this.prevMatchInRange(state, Math.max(0, curTo - this.spec.unquoted.length), state.doc.length);
    return found && (found.from != curFrom || found.to != curTo) ? found : null;
  }
  getReplacement(_result) {
    return this.spec.unquote(this.spec.replace);
  }
  matchAll(state, limit) {
    let cursor2 = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];
    while (!cursor2.next().done) {
      if (ranges.length >= limit)
        return null;
      ranges.push(cursor2.value);
    }
    return ranges;
  }
  highlight(state, from2, to, add2) {
    let cursor2 = stringCursor(this.spec, state, Math.max(0, from2 - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));
    while (!cursor2.next().done)
      add2(cursor2.value.from, cursor2.value.to);
  }
};
function regexpCursor(spec, state, from2, to) {
  return new RegExpCursor(state.doc, spec.search, {
    ignoreCase: !spec.caseSensitive,
    test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : void 0
  }, from2, to);
}
function charBefore(str, index) {
  return str.slice(findClusterBreak2(str, index, false), index);
}
function charAfter(str, index) {
  return str.slice(index, findClusterBreak2(str, index));
}
function regexpWordTest(categorizer) {
  return (_from, _to, match2) => !match2[0].length || (categorizer(charBefore(match2.input, match2.index)) != CharCategory.Word || categorizer(charAfter(match2.input, match2.index)) != CharCategory.Word) && (categorizer(charAfter(match2.input, match2.index + match2[0].length)) != CharCategory.Word || categorizer(charBefore(match2.input, match2.index + match2[0].length)) != CharCategory.Word);
}
var RegExpQuery = class extends QueryType2 {
  nextMatch(state, curFrom, curTo) {
    let cursor2 = regexpCursor(this.spec, state, curTo, state.doc.length).next();
    if (cursor2.done)
      cursor2 = regexpCursor(this.spec, state, 0, curFrom).next();
    return cursor2.done ? null : cursor2.value;
  }
  prevMatchInRange(state, from2, to) {
    for (let size = 1; ; size++) {
      let start = Math.max(
        from2,
        to - size * 1e4
        /* FindPrev.ChunkSize */
      );
      let cursor2 = regexpCursor(this.spec, state, start, to), range = null;
      while (!cursor2.next().done)
        range = cursor2.value;
      if (range && (start == from2 || range.from > start + 10))
        return range;
      if (start == from2)
        return null;
    }
  }
  prevMatch(state, curFrom, curTo) {
    return this.prevMatchInRange(state, 0, curFrom) || this.prevMatchInRange(state, curTo, state.doc.length);
  }
  getReplacement(result) {
    return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g, (m, i) => {
      if (i == "&")
        return result.match[0];
      if (i == "$")
        return "$";
      for (let l = i.length; l > 0; l--) {
        let n = +i.slice(0, l);
        if (n > 0 && n < result.match.length)
          return result.match[n] + i.slice(l);
      }
      return m;
    });
  }
  matchAll(state, limit) {
    let cursor2 = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];
    while (!cursor2.next().done) {
      if (ranges.length >= limit)
        return null;
      ranges.push(cursor2.value);
    }
    return ranges;
  }
  highlight(state, from2, to, add2) {
    let cursor2 = regexpCursor(this.spec, state, Math.max(
      0,
      from2 - 250
      /* RegExp.HighlightMargin */
    ), Math.min(to + 250, state.doc.length));
    while (!cursor2.next().done)
      add2(cursor2.value.from, cursor2.value.to);
  }
};
var setSearchQuery = /* @__PURE__ */ StateEffect.define();
var togglePanel = /* @__PURE__ */ StateEffect.define();
var searchState = /* @__PURE__ */ StateField.define({
  create(state) {
    return new SearchState(defaultQuery(state).create(), null);
  },
  update(value, tr) {
    for (let effect of tr.effects) {
      if (effect.is(setSearchQuery))
        value = new SearchState(effect.value.create(), value.panel);
      else if (effect.is(togglePanel))
        value = new SearchState(value.query, effect.value ? createSearchPanel : null);
    }
    return value;
  },
  provide: (f) => showPanel.from(f, (val) => val.panel)
});
var SearchState = class {
  constructor(query, panel) {
    this.query = query;
    this.panel = panel;
  }
};
var matchMark = /* @__PURE__ */ Decoration.mark({ class: "cm-searchMatch" });
var selectedMatchMark = /* @__PURE__ */ Decoration.mark({ class: "cm-searchMatch cm-searchMatch-selected" });
var searchHighlighter = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.view = view;
    this.decorations = this.highlight(view.state.field(searchState));
  }
  update(update) {
    let state = update.state.field(searchState);
    if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)
      this.decorations = this.highlight(state);
  }
  highlight({ query, panel }) {
    if (!panel || !query.spec.valid)
      return Decoration.none;
    let { view } = this;
    let builder = new RangeSetBuilder();
    for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {
      let { from: from2, to } = ranges[i];
      while (i < l - 1 && to > ranges[i + 1].from - 2 * 250)
        to = ranges[++i].to;
      query.highlight(view.state, from2, to, (from3, to2) => {
        let selected = view.state.selection.ranges.some((r) => r.from == from3 && r.to == to2);
        builder.add(from3, to2, selected ? selectedMatchMark : matchMark);
      });
    }
    return builder.finish();
  }
}, {
  decorations: (v) => v.decorations
});
function searchCommand(f) {
  return (view) => {
    let state = view.state.field(searchState, false);
    return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);
  };
}
var findNext = /* @__PURE__ */ searchCommand((view, { query }) => {
  let { to } = view.state.selection.main;
  let next = query.nextMatch(view.state, to, to);
  if (!next)
    return false;
  let selection2 = EditorSelection.single(next.from, next.to);
  let config2 = view.state.facet(searchConfigFacet);
  view.dispatch({
    selection: selection2,
    effects: [announceMatch(view, next), config2.scrollToMatch(selection2.main, view)],
    userEvent: "select.search"
  });
  selectSearchInput(view);
  return true;
});
var findPrevious = /* @__PURE__ */ searchCommand((view, { query }) => {
  let { state } = view, { from: from2 } = state.selection.main;
  let prev = query.prevMatch(state, from2, from2);
  if (!prev)
    return false;
  let selection2 = EditorSelection.single(prev.from, prev.to);
  let config2 = view.state.facet(searchConfigFacet);
  view.dispatch({
    selection: selection2,
    effects: [announceMatch(view, prev), config2.scrollToMatch(selection2.main, view)],
    userEvent: "select.search"
  });
  selectSearchInput(view);
  return true;
});
var selectMatches = /* @__PURE__ */ searchCommand((view, { query }) => {
  let ranges = query.matchAll(view.state, 1e3);
  if (!ranges || !ranges.length)
    return false;
  view.dispatch({
    selection: EditorSelection.create(ranges.map((r) => EditorSelection.range(r.from, r.to))),
    userEvent: "select.search.matches"
  });
  return true;
});
var selectSelectionMatches = ({ state, dispatch }) => {
  let sel = state.selection;
  if (sel.ranges.length > 1 || sel.main.empty)
    return false;
  let { from: from2, to } = sel.main;
  let ranges = [], main = 0;
  for (let cur2 = new SearchCursor(state.doc, state.sliceDoc(from2, to)); !cur2.next().done; ) {
    if (ranges.length > 1e3)
      return false;
    if (cur2.value.from == from2)
      main = ranges.length;
    ranges.push(EditorSelection.range(cur2.value.from, cur2.value.to));
  }
  dispatch(state.update({
    selection: EditorSelection.create(ranges, main),
    userEvent: "select.search.matches"
  }));
  return true;
};
var replaceNext = /* @__PURE__ */ searchCommand((view, { query }) => {
  let { state } = view, { from: from2, to } = state.selection.main;
  if (state.readOnly)
    return false;
  let match2 = query.nextMatch(state, from2, from2);
  if (!match2)
    return false;
  let next = match2;
  let changes = [], selection2, replacement;
  let effects = [];
  if (next.from == from2 && next.to == to) {
    replacement = state.toText(query.getReplacement(next));
    changes.push({ from: next.from, to: next.to, insert: replacement });
    next = query.nextMatch(state, next.from, next.to);
    effects.push(EditorView.announce.of(state.phrase("replaced match on line $", state.doc.lineAt(from2).number) + "."));
  }
  let changeSet = view.state.changes(changes);
  if (next) {
    selection2 = EditorSelection.single(next.from, next.to).map(changeSet);
    effects.push(announceMatch(view, next));
    effects.push(state.facet(searchConfigFacet).scrollToMatch(selection2.main, view));
  }
  view.dispatch({
    changes: changeSet,
    selection: selection2,
    effects,
    userEvent: "input.replace"
  });
  return true;
});
var replaceAll = /* @__PURE__ */ searchCommand((view, { query }) => {
  if (view.state.readOnly)
    return false;
  let changes = query.matchAll(view.state, 1e9).map((match2) => {
    let { from: from2, to } = match2;
    return { from: from2, to, insert: query.getReplacement(match2) };
  });
  if (!changes.length)
    return false;
  let announceText = view.state.phrase("replaced $ matches", changes.length) + ".";
  view.dispatch({
    changes,
    effects: EditorView.announce.of(announceText),
    userEvent: "input.replace.all"
  });
  return true;
});
function createSearchPanel(view) {
  return view.state.facet(searchConfigFacet).createPanel(view);
}
function defaultQuery(state, fallback) {
  var _a2, _b, _c, _d, _e;
  let sel = state.selection.main;
  let selText = sel.empty || sel.to > sel.from + 100 ? "" : state.sliceDoc(sel.from, sel.to);
  if (fallback && !selText)
    return fallback;
  let config2 = state.facet(searchConfigFacet);
  return new SearchQuery({
    search: ((_a2 = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a2 !== void 0 ? _a2 : config2.literal) ? selText : selText.replace(/\n/g, "\\n"),
    caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config2.caseSensitive,
    literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config2.literal,
    regexp: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.regexp) !== null && _d !== void 0 ? _d : config2.regexp,
    wholeWord: (_e = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _e !== void 0 ? _e : config2.wholeWord
  });
}
function getSearchInput(view) {
  let panel = getPanel(view, createSearchPanel);
  return panel && panel.dom.querySelector("[main-field]");
}
function selectSearchInput(view) {
  let input = getSearchInput(view);
  if (input && input == view.root.activeElement)
    input.select();
}
var openSearchPanel = (view) => {
  let state = view.state.field(searchState, false);
  if (state && state.panel) {
    let searchInput = getSearchInput(view);
    if (searchInput && searchInput != view.root.activeElement) {
      let query = defaultQuery(view.state, state.query.spec);
      if (query.valid)
        view.dispatch({ effects: setSearchQuery.of(query) });
      searchInput.focus();
      searchInput.select();
    }
  } else {
    view.dispatch({ effects: [
      togglePanel.of(true),
      state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)
    ] });
  }
  return true;
};
var closeSearchPanel = (view) => {
  let state = view.state.field(searchState, false);
  if (!state || !state.panel)
    return false;
  let panel = getPanel(view, createSearchPanel);
  if (panel && panel.dom.contains(view.root.activeElement))
    view.focus();
  view.dispatch({ effects: togglePanel.of(false) });
  return true;
};
var searchKeymap = [
  { key: "Mod-f", run: openSearchPanel, scope: "editor search-panel" },
  { key: "F3", run: findNext, shift: findPrevious, scope: "editor search-panel", preventDefault: true },
  { key: "Mod-g", run: findNext, shift: findPrevious, scope: "editor search-panel", preventDefault: true },
  { key: "Escape", run: closeSearchPanel, scope: "editor search-panel" },
  { key: "Mod-Shift-l", run: selectSelectionMatches },
  { key: "Mod-Alt-g", run: gotoLine },
  { key: "Mod-d", run: selectNextOccurrence, preventDefault: true }
];
var SearchPanel = class {
  constructor(view) {
    this.view = view;
    let query = this.query = view.state.field(searchState).query.spec;
    this.commit = this.commit.bind(this);
    this.searchField = crelt("input", {
      value: query.search,
      placeholder: phrase(view, "Find"),
      "aria-label": phrase(view, "Find"),
      class: "cm-textfield",
      name: "search",
      form: "",
      "main-field": "true",
      onchange: this.commit,
      onkeyup: this.commit
    });
    this.replaceField = crelt("input", {
      value: query.replace,
      placeholder: phrase(view, "Replace"),
      "aria-label": phrase(view, "Replace"),
      class: "cm-textfield",
      name: "replace",
      form: "",
      onchange: this.commit,
      onkeyup: this.commit
    });
    this.caseField = crelt("input", {
      type: "checkbox",
      name: "case",
      form: "",
      checked: query.caseSensitive,
      onchange: this.commit
    });
    this.reField = crelt("input", {
      type: "checkbox",
      name: "re",
      form: "",
      checked: query.regexp,
      onchange: this.commit
    });
    this.wordField = crelt("input", {
      type: "checkbox",
      name: "word",
      form: "",
      checked: query.wholeWord,
      onchange: this.commit
    });
    function button(name2, onclick, content2) {
      return crelt("button", { class: "cm-button", name: name2, onclick, type: "button" }, content2);
    }
    this.dom = crelt("div", { onkeydown: (e) => this.keydown(e), class: "cm-search" }, [
      this.searchField,
      button("next", () => findNext(view), [phrase(view, "next")]),
      button("prev", () => findPrevious(view), [phrase(view, "previous")]),
      button("select", () => selectMatches(view), [phrase(view, "all")]),
      crelt("label", null, [this.caseField, phrase(view, "match case")]),
      crelt("label", null, [this.reField, phrase(view, "regexp")]),
      crelt("label", null, [this.wordField, phrase(view, "by word")]),
      ...view.state.readOnly ? [] : [
        crelt("br"),
        this.replaceField,
        button("replace", () => replaceNext(view), [phrase(view, "replace")]),
        button("replaceAll", () => replaceAll(view), [phrase(view, "replace all")])
      ],
      crelt("button", {
        name: "close",
        onclick: () => closeSearchPanel(view),
        "aria-label": phrase(view, "close"),
        type: "button"
      }, ["\xD7"])
    ]);
  }
  commit() {
    let query = new SearchQuery({
      search: this.searchField.value,
      caseSensitive: this.caseField.checked,
      regexp: this.reField.checked,
      wholeWord: this.wordField.checked,
      replace: this.replaceField.value
    });
    if (!query.eq(this.query)) {
      this.query = query;
      this.view.dispatch({ effects: setSearchQuery.of(query) });
    }
  }
  keydown(e) {
    if (runScopeHandlers(this.view, e, "search-panel")) {
      e.preventDefault();
    } else if (e.keyCode == 13 && e.target == this.searchField) {
      e.preventDefault();
      (e.shiftKey ? findPrevious : findNext)(this.view);
    } else if (e.keyCode == 13 && e.target == this.replaceField) {
      e.preventDefault();
      replaceNext(this.view);
    }
  }
  update(update) {
    for (let tr of update.transactions)
      for (let effect of tr.effects) {
        if (effect.is(setSearchQuery) && !effect.value.eq(this.query))
          this.setQuery(effect.value);
      }
  }
  setQuery(query) {
    this.query = query;
    this.searchField.value = query.search;
    this.replaceField.value = query.replace;
    this.caseField.checked = query.caseSensitive;
    this.reField.checked = query.regexp;
    this.wordField.checked = query.wholeWord;
  }
  mount() {
    this.searchField.select();
  }
  get pos() {
    return 80;
  }
  get top() {
    return this.view.state.facet(searchConfigFacet).top;
  }
};
function phrase(view, phrase2) {
  return view.state.phrase(phrase2);
}
var AnnounceMargin = 30;
var Break = /[\s\.,:;?!]/;
function announceMatch(view, { from: from2, to }) {
  let line = view.state.doc.lineAt(from2), lineEnd = view.state.doc.lineAt(to).to;
  let start = Math.max(line.from, from2 - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);
  let text = view.state.sliceDoc(start, end);
  if (start != line.from) {
    for (let i = 0; i < AnnounceMargin; i++)
      if (!Break.test(text[i + 1]) && Break.test(text[i])) {
        text = text.slice(i);
        break;
      }
  }
  if (end != lineEnd) {
    for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)
      if (!Break.test(text[i - 1]) && Break.test(text[i])) {
        text = text.slice(0, i);
        break;
      }
  }
  return EditorView.announce.of(`${view.state.phrase("current match")}. ${text} ${view.state.phrase("on line")} ${line.number}.`);
}
var baseTheme3 = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-panel.cm-search": {
    padding: "2px 6px 4px",
    position: "relative",
    "& [name=close]": {
      position: "absolute",
      top: "0",
      right: "4px",
      backgroundColor: "inherit",
      border: "none",
      font: "inherit",
      padding: 0,
      margin: 0
    },
    "& input, & button, & label": {
      margin: ".2em .6em .2em 0"
    },
    "& input[type=checkbox]": {
      marginRight: ".2em"
    },
    "& label": {
      fontSize: "80%",
      whiteSpace: "pre"
    }
  },
  "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
  "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
  "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
  "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" }
});
var searchExtensions = [
  searchState,
  /* @__PURE__ */ Prec.low(searchHighlighter),
  baseTheme3
];

// node_modules/@codemirror/autocomplete/dist/index.js
var CompletionContext = class {
  /**
  Create a new completion context. (Mostly useful for testing
  completion sources—in the editor, the extension will create
  these for you.)
  */
  constructor(state, pos, explicit, view) {
    this.state = state;
    this.pos = pos;
    this.explicit = explicit;
    this.view = view;
    this.abortListeners = [];
    this.abortOnDocChange = false;
  }
  /**
  Get the extent, content, and (if there is a token) type of the
  token before `this.pos`.
  */
  tokenBefore(types2) {
    let token = syntaxTree(this.state).resolveInner(this.pos, -1);
    while (token && types2.indexOf(token.name) < 0)
      token = token.parent;
    return token ? {
      from: token.from,
      to: this.pos,
      text: this.state.sliceDoc(token.from, this.pos),
      type: token.type
    } : null;
  }
  /**
  Get the match of the given expression directly before the
  cursor.
  */
  matchBefore(expr) {
    let line = this.state.doc.lineAt(this.pos);
    let start = Math.max(line.from, this.pos - 250);
    let str = line.text.slice(start - line.from, this.pos - line.from);
    let found = str.search(ensureAnchor(expr, false));
    return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };
  }
  /**
  Yields true when the query has been aborted. Can be useful in
  asynchronous queries to avoid doing work that will be ignored.
  */
  get aborted() {
    return this.abortListeners == null;
  }
  /**
  Allows you to register abort handlers, which will be called when
  the query is
  [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).
  
  By default, running queries will not be aborted for regular
  typing or backspacing, on the assumption that they are likely to
  return a result with a
  [`validFor`](https://codemirror.net/6/docs/ref/#autocomplete.CompletionResult.validFor) field that
  allows the result to be used after all. Passing `onDocChange:
  true` will cause this query to be aborted for any document
  change.
  */
  addEventListener(type, listener, options) {
    if (type == "abort" && this.abortListeners) {
      this.abortListeners.push(listener);
      if (options && options.onDocChange)
        this.abortOnDocChange = true;
    }
  }
};
function toSet(chars) {
  let flat = Object.keys(chars).join("");
  let words = /\w/.test(flat);
  if (words)
    flat = flat.replace(/\w/g, "");
  return `[${words ? "\\w" : ""}${flat.replace(/[^\w\s]/g, "\\$&")}]`;
}
function prefixMatch(options) {
  let first = /* @__PURE__ */ Object.create(null), rest = /* @__PURE__ */ Object.create(null);
  for (let { label } of options) {
    first[label[0]] = true;
    for (let i = 1; i < label.length; i++)
      rest[label[i]] = true;
  }
  let source = toSet(first) + toSet(rest) + "*$";
  return [new RegExp("^" + source), new RegExp(source)];
}
function completeFromList(list2) {
  let options = list2.map((o) => typeof o == "string" ? { label: o } : o);
  let [validFor, match2] = options.every((o) => /^\w+$/.test(o.label)) ? [/\w*$/, /\w+$/] : prefixMatch(options);
  return (context) => {
    let token = context.matchBefore(match2);
    return token || context.explicit ? { from: token ? token.from : context.pos, options, validFor } : null;
  };
}
function ifNotIn(nodes, source) {
  return (context) => {
    for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {
      if (nodes.indexOf(pos.name) > -1)
        return null;
      if (pos.type.isTop)
        break;
    }
    return source(context);
  };
}
var Option = class {
  constructor(completion, source, match2, score2) {
    this.completion = completion;
    this.source = source;
    this.match = match2;
    this.score = score2;
  }
};
function cur(state) {
  return state.selection.main.from;
}
function ensureAnchor(expr, start) {
  var _a2;
  let { source } = expr;
  let addStart = start && source[0] != "^", addEnd = source[source.length - 1] != "$";
  if (!addStart && !addEnd)
    return expr;
  return new RegExp(`${addStart ? "^" : ""}(?:${source})${addEnd ? "$" : ""}`, (_a2 = expr.flags) !== null && _a2 !== void 0 ? _a2 : expr.ignoreCase ? "i" : "");
}
var pickedCompletion = /* @__PURE__ */ Annotation.define();
function insertCompletionText(state, text, from2, to) {
  let { main } = state.selection, fromOff = from2 - main.from, toOff = to - main.from;
  return Object.assign(Object.assign({}, state.changeByRange((range) => {
    if (range != main && from2 != to && state.sliceDoc(range.from + fromOff, range.from + toOff) != state.sliceDoc(from2, to))
      return { range };
    let lines = state.toText(text);
    return {
      changes: { from: range.from + fromOff, to: to == main.from ? range.to : range.from + toOff, insert: lines },
      range: EditorSelection.cursor(range.from + fromOff + lines.length)
    };
  })), { scrollIntoView: true, userEvent: "input.complete" });
}
var SourceCache = /* @__PURE__ */ new WeakMap();
function asSource(source) {
  if (!Array.isArray(source))
    return source;
  let known = SourceCache.get(source);
  if (!known)
    SourceCache.set(source, known = completeFromList(source));
  return known;
}
var startCompletionEffect = /* @__PURE__ */ StateEffect.define();
var closeCompletionEffect = /* @__PURE__ */ StateEffect.define();
var FuzzyMatcher = class {
  constructor(pattern) {
    this.pattern = pattern;
    this.chars = [];
    this.folded = [];
    this.any = [];
    this.precise = [];
    this.byWord = [];
    this.score = 0;
    this.matched = [];
    for (let p = 0; p < pattern.length; ) {
      let char = codePointAt2(pattern, p), size = codePointSize2(char);
      this.chars.push(char);
      let part = pattern.slice(p, p + size), upper = part.toUpperCase();
      this.folded.push(codePointAt2(upper == part ? part.toLowerCase() : upper, 0));
      p += size;
    }
    this.astral = pattern.length != this.chars.length;
  }
  ret(score2, matched) {
    this.score = score2;
    this.matched = matched;
    return this;
  }
  // Matches a given word (completion) against the pattern (input).
  // Will return a boolean indicating whether there was a match and,
  // on success, set `this.score` to the score, `this.matched` to an
  // array of `from, to` pairs indicating the matched parts of `word`.
  //
  // The score is a number that is more negative the worse the match
  // is. See `Penalty` above.
  match(word) {
    if (this.pattern.length == 0)
      return this.ret(-100, []);
    if (word.length < this.pattern.length)
      return null;
    let { chars, folded, any, precise, byWord } = this;
    if (chars.length == 1) {
      let first = codePointAt2(word, 0), firstSize = codePointSize2(first);
      let score2 = firstSize == word.length ? 0 : -100;
      if (first == chars[0]) ;
      else if (first == folded[0])
        score2 += -200;
      else
        return null;
      return this.ret(score2, [0, firstSize]);
    }
    let direct = word.indexOf(this.pattern);
    if (direct == 0)
      return this.ret(word.length == this.pattern.length ? 0 : -100, [0, this.pattern.length]);
    let len = chars.length, anyTo = 0;
    if (direct < 0) {
      for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len; ) {
        let next = codePointAt2(word, i);
        if (next == chars[anyTo] || next == folded[anyTo])
          any[anyTo++] = i;
        i += codePointSize2(next);
      }
      if (anyTo < len)
        return null;
    }
    let preciseTo = 0;
    let byWordTo = 0, byWordFolded = false;
    let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;
    let hasLower = /[a-z]/.test(word), wordAdjacent = true;
    for (let i = 0, e = Math.min(word.length, 200), prevType = 0; i < e && byWordTo < len; ) {
      let next = codePointAt2(word, i);
      if (direct < 0) {
        if (preciseTo < len && next == chars[preciseTo])
          precise[preciseTo++] = i;
        if (adjacentTo < len) {
          if (next == chars[adjacentTo] || next == folded[adjacentTo]) {
            if (adjacentTo == 0)
              adjacentStart = i;
            adjacentEnd = i + 1;
            adjacentTo++;
          } else {
            adjacentTo = 0;
          }
        }
      }
      let ch, type = next < 255 ? next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 : next >= 65 && next <= 90 ? 1 : 0 : (ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 : ch != ch.toUpperCase() ? 2 : 0;
      if (!i || type == 1 && hasLower || prevType == 0 && type != 0) {
        if (chars[byWordTo] == next || folded[byWordTo] == next && (byWordFolded = true))
          byWord[byWordTo++] = i;
        else if (byWord.length)
          wordAdjacent = false;
      }
      prevType = type;
      i += codePointSize2(next);
    }
    if (byWordTo == len && byWord[0] == 0 && wordAdjacent)
      return this.result(-100 + (byWordFolded ? -200 : 0), byWord, word);
    if (adjacentTo == len && adjacentStart == 0)
      return this.ret(-200 - word.length + (adjacentEnd == word.length ? 0 : -100), [0, adjacentEnd]);
    if (direct > -1)
      return this.ret(-700 - word.length, [direct, direct + this.pattern.length]);
    if (adjacentTo == len)
      return this.ret(-200 + -700 - word.length, [adjacentStart, adjacentEnd]);
    if (byWordTo == len)
      return this.result(-100 + (byWordFolded ? -200 : 0) + -700 + (wordAdjacent ? 0 : -1100), byWord, word);
    return chars.length == 2 ? null : this.result((any[0] ? -700 : 0) + -200 + -1100, any, word);
  }
  result(score2, positions, word) {
    let result = [], i = 0;
    for (let pos of positions) {
      let to = pos + (this.astral ? codePointSize2(codePointAt2(word, pos)) : 1);
      if (i && result[i - 1] == pos)
        result[i - 1] = to;
      else {
        result[i++] = pos;
        result[i++] = to;
      }
    }
    return this.ret(score2 - word.length, result);
  }
};
var StrictMatcher = class {
  constructor(pattern) {
    this.pattern = pattern;
    this.matched = [];
    this.score = 0;
    this.folded = pattern.toLowerCase();
  }
  match(word) {
    if (word.length < this.pattern.length)
      return null;
    let start = word.slice(0, this.pattern.length);
    let match2 = start == this.pattern ? 0 : start.toLowerCase() == this.folded ? -200 : null;
    if (match2 == null)
      return null;
    this.matched = [0, start.length];
    this.score = match2 + (word.length == this.pattern.length ? 0 : -100);
    return this;
  }
};
var completionConfig = /* @__PURE__ */ Facet.define({
  combine(configs) {
    return combineConfig(configs, {
      activateOnTyping: true,
      activateOnCompletion: () => false,
      activateOnTypingDelay: 100,
      selectOnOpen: true,
      override: null,
      closeOnBlur: true,
      maxRenderedOptions: 100,
      defaultKeymap: true,
      tooltipClass: () => "",
      optionClass: () => "",
      aboveCursor: false,
      icons: true,
      addToOptions: [],
      positionInfo: defaultPositionInfo,
      filterStrict: false,
      compareCompletions: (a, b) => a.label.localeCompare(b.label),
      interactionDelay: 75,
      updateSyncTime: 100
    }, {
      defaultKeymap: (a, b) => a && b,
      closeOnBlur: (a, b) => a && b,
      icons: (a, b) => a && b,
      tooltipClass: (a, b) => (c) => joinClass(a(c), b(c)),
      optionClass: (a, b) => (c) => joinClass(a(c), b(c)),
      addToOptions: (a, b) => a.concat(b),
      filterStrict: (a, b) => a || b
    });
  }
});
function joinClass(a, b) {
  return a ? b ? a + " " + b : a : b;
}
function defaultPositionInfo(view, list2, option, info, space3, tooltip) {
  let rtl = view.textDirection == Direction.RTL, left = rtl, narrow = false;
  let side = "top", offset, maxWidth;
  let spaceLeft = list2.left - space3.left, spaceRight = space3.right - list2.right;
  let infoWidth = info.right - info.left, infoHeight = info.bottom - info.top;
  if (left && spaceLeft < Math.min(infoWidth, spaceRight))
    left = false;
  else if (!left && spaceRight < Math.min(infoWidth, spaceLeft))
    left = true;
  if (infoWidth <= (left ? spaceLeft : spaceRight)) {
    offset = Math.max(space3.top, Math.min(option.top, space3.bottom - infoHeight)) - list2.top;
    maxWidth = Math.min(400, left ? spaceLeft : spaceRight);
  } else {
    narrow = true;
    maxWidth = Math.min(
      400,
      (rtl ? list2.right : space3.right - list2.left) - 30
      /* Info.Margin */
    );
    let spaceBelow = space3.bottom - list2.bottom;
    if (spaceBelow >= infoHeight || spaceBelow > list2.top) {
      offset = option.bottom - list2.top;
    } else {
      side = "bottom";
      offset = list2.bottom - option.top;
    }
  }
  let scaleY = (list2.bottom - list2.top) / tooltip.offsetHeight;
  let scaleX = (list2.right - list2.left) / tooltip.offsetWidth;
  return {
    style: `${side}: ${offset / scaleY}px; max-width: ${maxWidth / scaleX}px`,
    class: "cm-completionInfo-" + (narrow ? rtl ? "left-narrow" : "right-narrow" : left ? "left" : "right")
  };
}
function optionContent(config2) {
  let content2 = config2.addToOptions.slice();
  if (config2.icons)
    content2.push({
      render(completion) {
        let icon = document.createElement("div");
        icon.classList.add("cm-completionIcon");
        if (completion.type)
          icon.classList.add(...completion.type.split(/\s+/g).map((cls) => "cm-completionIcon-" + cls));
        icon.setAttribute("aria-hidden", "true");
        return icon;
      },
      position: 20
    });
  content2.push({
    render(completion, _s, _v, match2) {
      let labelElt = document.createElement("span");
      labelElt.className = "cm-completionLabel";
      let label = completion.displayLabel || completion.label, off = 0;
      for (let j = 0; j < match2.length; ) {
        let from2 = match2[j++], to = match2[j++];
        if (from2 > off)
          labelElt.appendChild(document.createTextNode(label.slice(off, from2)));
        let span = labelElt.appendChild(document.createElement("span"));
        span.appendChild(document.createTextNode(label.slice(from2, to)));
        span.className = "cm-completionMatchedText";
        off = to;
      }
      if (off < label.length)
        labelElt.appendChild(document.createTextNode(label.slice(off)));
      return labelElt;
    },
    position: 50
  }, {
    render(completion) {
      if (!completion.detail)
        return null;
      let detailElt = document.createElement("span");
      detailElt.className = "cm-completionDetail";
      detailElt.textContent = completion.detail;
      return detailElt;
    },
    position: 80
  });
  return content2.sort((a, b) => a.position - b.position).map((a) => a.render);
}
function rangeAroundSelected(total, selected, max) {
  if (total <= max)
    return { from: 0, to: total };
  if (selected < 0)
    selected = 0;
  if (selected <= total >> 1) {
    let off2 = Math.floor(selected / max);
    return { from: off2 * max, to: (off2 + 1) * max };
  }
  let off = Math.floor((total - selected) / max);
  return { from: total - (off + 1) * max, to: total - off * max };
}
var CompletionTooltip = class {
  constructor(view, stateField, applyCompletion2) {
    this.view = view;
    this.stateField = stateField;
    this.applyCompletion = applyCompletion2;
    this.info = null;
    this.infoDestroy = null;
    this.placeInfoReq = {
      read: () => this.measureInfo(),
      write: (pos) => this.placeInfo(pos),
      key: this
    };
    this.space = null;
    this.currentClass = "";
    let cState = view.state.field(stateField);
    let { options, selected } = cState.open;
    let config2 = view.state.facet(completionConfig);
    this.optionContent = optionContent(config2);
    this.optionClass = config2.optionClass;
    this.tooltipClass = config2.tooltipClass;
    this.range = rangeAroundSelected(options.length, selected, config2.maxRenderedOptions);
    this.dom = document.createElement("div");
    this.dom.className = "cm-tooltip-autocomplete";
    this.updateTooltipClass(view.state);
    this.dom.addEventListener("mousedown", (e) => {
      let { options: options2 } = view.state.field(stateField).open;
      for (let dom = e.target, match2; dom && dom != this.dom; dom = dom.parentNode) {
        if (dom.nodeName == "LI" && (match2 = /-(\d+)$/.exec(dom.id)) && +match2[1] < options2.length) {
          this.applyCompletion(view, options2[+match2[1]]);
          e.preventDefault();
          return;
        }
      }
    });
    this.dom.addEventListener("focusout", (e) => {
      let state = view.state.field(this.stateField, false);
      if (state && state.tooltip && view.state.facet(completionConfig).closeOnBlur && e.relatedTarget != view.contentDOM)
        view.dispatch({ effects: closeCompletionEffect.of(null) });
    });
    this.showOptions(options, cState.id);
  }
  mount() {
    this.updateSel();
  }
  showOptions(options, id2) {
    if (this.list)
      this.list.remove();
    this.list = this.dom.appendChild(this.createListBox(options, id2, this.range));
    this.list.addEventListener("scroll", () => {
      if (this.info)
        this.view.requestMeasure(this.placeInfoReq);
    });
  }
  update(update) {
    var _a2;
    let cState = update.state.field(this.stateField);
    let prevState = update.startState.field(this.stateField);
    this.updateTooltipClass(update.state);
    if (cState != prevState) {
      let { options, selected, disabled } = cState.open;
      if (!prevState.open || prevState.open.options != options) {
        this.range = rangeAroundSelected(options.length, selected, update.state.facet(completionConfig).maxRenderedOptions);
        this.showOptions(options, cState.id);
      }
      this.updateSel();
      if (disabled != ((_a2 = prevState.open) === null || _a2 === void 0 ? void 0 : _a2.disabled))
        this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!disabled);
    }
  }
  updateTooltipClass(state) {
    let cls = this.tooltipClass(state);
    if (cls != this.currentClass) {
      for (let c of this.currentClass.split(" "))
        if (c)
          this.dom.classList.remove(c);
      for (let c of cls.split(" "))
        if (c)
          this.dom.classList.add(c);
      this.currentClass = cls;
    }
  }
  positioned(space3) {
    this.space = space3;
    if (this.info)
      this.view.requestMeasure(this.placeInfoReq);
  }
  updateSel() {
    let cState = this.view.state.field(this.stateField), open = cState.open;
    if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {
      this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);
      this.showOptions(open.options, cState.id);
    }
    if (this.updateSelectedOption(open.selected)) {
      this.destroyInfo();
      let { completion } = open.options[open.selected];
      let { info } = completion;
      if (!info)
        return;
      let infoResult = typeof info === "string" ? document.createTextNode(info) : info(completion);
      if (!infoResult)
        return;
      if ("then" in infoResult) {
        infoResult.then((obj) => {
          if (obj && this.view.state.field(this.stateField, false) == cState)
            this.addInfoPane(obj, completion);
        }).catch((e) => logException(this.view.state, e, "completion info"));
      } else {
        this.addInfoPane(infoResult, completion);
      }
    }
  }
  addInfoPane(content2, completion) {
    this.destroyInfo();
    let wrap = this.info = document.createElement("div");
    wrap.className = "cm-tooltip cm-completionInfo";
    if (content2.nodeType != null) {
      wrap.appendChild(content2);
      this.infoDestroy = null;
    } else {
      let { dom, destroy } = content2;
      wrap.appendChild(dom);
      this.infoDestroy = destroy || null;
    }
    this.dom.appendChild(wrap);
    this.view.requestMeasure(this.placeInfoReq);
  }
  updateSelectedOption(selected) {
    let set = null;
    for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {
      if (opt.nodeName != "LI" || !opt.id) {
        i--;
      } else if (i == selected) {
        if (!opt.hasAttribute("aria-selected")) {
          opt.setAttribute("aria-selected", "true");
          set = opt;
        }
      } else {
        if (opt.hasAttribute("aria-selected"))
          opt.removeAttribute("aria-selected");
      }
    }
    if (set)
      scrollIntoView2(this.list, set);
    return set;
  }
  measureInfo() {
    let sel = this.dom.querySelector("[aria-selected]");
    if (!sel || !this.info)
      return null;
    let listRect = this.dom.getBoundingClientRect();
    let infoRect = this.info.getBoundingClientRect();
    let selRect = sel.getBoundingClientRect();
    let space3 = this.space;
    if (!space3) {
      let docElt = this.dom.ownerDocument.documentElement;
      space3 = { left: 0, top: 0, right: docElt.clientWidth, bottom: docElt.clientHeight };
    }
    if (selRect.top > Math.min(space3.bottom, listRect.bottom) - 10 || selRect.bottom < Math.max(space3.top, listRect.top) + 10)
      return null;
    return this.view.state.facet(completionConfig).positionInfo(this.view, listRect, selRect, infoRect, space3, this.dom);
  }
  placeInfo(pos) {
    if (this.info) {
      if (pos) {
        if (pos.style)
          this.info.style.cssText = pos.style;
        this.info.className = "cm-tooltip cm-completionInfo " + (pos.class || "");
      } else {
        this.info.style.cssText = "top: -1e6px";
      }
    }
  }
  createListBox(options, id2, range) {
    const ul = document.createElement("ul");
    ul.id = id2;
    ul.setAttribute("role", "listbox");
    ul.setAttribute("aria-expanded", "true");
    ul.setAttribute("aria-label", this.view.state.phrase("Completions"));
    ul.addEventListener("mousedown", (e) => {
      if (e.target == ul)
        e.preventDefault();
    });
    let curSection = null;
    for (let i = range.from; i < range.to; i++) {
      let { completion, match: match2 } = options[i], { section } = completion;
      if (section) {
        let name2 = typeof section == "string" ? section : section.name;
        if (name2 != curSection && (i > range.from || range.from == 0)) {
          curSection = name2;
          if (typeof section != "string" && section.header) {
            ul.appendChild(section.header(section));
          } else {
            let header = ul.appendChild(document.createElement("completion-section"));
            header.textContent = name2;
          }
        }
      }
      const li = ul.appendChild(document.createElement("li"));
      li.id = id2 + "-" + i;
      li.setAttribute("role", "option");
      let cls = this.optionClass(completion);
      if (cls)
        li.className = cls;
      for (let source of this.optionContent) {
        let node = source(completion, this.view.state, this.view, match2);
        if (node)
          li.appendChild(node);
      }
    }
    if (range.from)
      ul.classList.add("cm-completionListIncompleteTop");
    if (range.to < options.length)
      ul.classList.add("cm-completionListIncompleteBottom");
    return ul;
  }
  destroyInfo() {
    if (this.info) {
      if (this.infoDestroy)
        this.infoDestroy();
      this.info.remove();
      this.info = null;
    }
  }
  destroy() {
    this.destroyInfo();
  }
};
function completionTooltip(stateField, applyCompletion2) {
  return (view) => new CompletionTooltip(view, stateField, applyCompletion2);
}
function scrollIntoView2(container, element) {
  let parent = container.getBoundingClientRect();
  let self = element.getBoundingClientRect();
  let scaleY = parent.height / container.offsetHeight;
  if (self.top < parent.top)
    container.scrollTop -= (parent.top - self.top) / scaleY;
  else if (self.bottom > parent.bottom)
    container.scrollTop += (self.bottom - parent.bottom) / scaleY;
}
function score(option) {
  return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) + (option.type ? 1 : 0);
}
function sortOptions(active, state) {
  let options = [];
  let sections = null;
  let addOption = (option) => {
    options.push(option);
    let { section } = option.completion;
    if (section) {
      if (!sections)
        sections = [];
      let name2 = typeof section == "string" ? section : section.name;
      if (!sections.some((s) => s.name == name2))
        sections.push(typeof section == "string" ? { name: name2 } : section);
    }
  };
  let conf = state.facet(completionConfig);
  for (let a of active)
    if (a.hasResult()) {
      let getMatch = a.result.getMatch;
      if (a.result.filter === false) {
        for (let option of a.result.options) {
          addOption(new Option(option, a.source, getMatch ? getMatch(option) : [], 1e9 - options.length));
        }
      } else {
        let pattern = state.sliceDoc(a.from, a.to), match2;
        let matcher = conf.filterStrict ? new StrictMatcher(pattern) : new FuzzyMatcher(pattern);
        for (let option of a.result.options)
          if (match2 = matcher.match(option.label)) {
            let matched = !option.displayLabel ? match2.matched : getMatch ? getMatch(option, match2.matched) : [];
            addOption(new Option(option, a.source, matched, match2.score + (option.boost || 0)));
          }
      }
    }
  if (sections) {
    let sectionOrder = /* @__PURE__ */ Object.create(null), pos = 0;
    let cmp = (a, b) => {
      var _a2, _b;
      return ((_a2 = a.rank) !== null && _a2 !== void 0 ? _a2 : 1e9) - ((_b = b.rank) !== null && _b !== void 0 ? _b : 1e9) || (a.name < b.name ? -1 : 1);
    };
    for (let s of sections.sort(cmp)) {
      pos -= 1e5;
      sectionOrder[s.name] = pos;
    }
    for (let option of options) {
      let { section } = option.completion;
      if (section)
        option.score += sectionOrder[typeof section == "string" ? section : section.name];
    }
  }
  let result = [], prev = null;
  let compare2 = conf.compareCompletions;
  for (let opt of options.sort((a, b) => b.score - a.score || compare2(a.completion, b.completion))) {
    let cur2 = opt.completion;
    if (!prev || prev.label != cur2.label || prev.detail != cur2.detail || prev.type != null && cur2.type != null && prev.type != cur2.type || prev.apply != cur2.apply || prev.boost != cur2.boost)
      result.push(opt);
    else if (score(opt.completion) > score(prev))
      result[result.length - 1] = opt;
    prev = opt.completion;
  }
  return result;
}
var CompletionDialog = class _CompletionDialog {
  constructor(options, attrs, tooltip, timestamp, selected, disabled) {
    this.options = options;
    this.attrs = attrs;
    this.tooltip = tooltip;
    this.timestamp = timestamp;
    this.selected = selected;
    this.disabled = disabled;
  }
  setSelected(selected, id2) {
    return selected == this.selected || selected >= this.options.length ? this : new _CompletionDialog(this.options, makeAttrs(id2, selected), this.tooltip, this.timestamp, selected, this.disabled);
  }
  static build(active, state, id2, prev, conf, didSetActive) {
    if (prev && !didSetActive && active.some((s) => s.isPending))
      return prev.setDisabled();
    let options = sortOptions(active, state);
    if (!options.length)
      return prev && active.some((a) => a.isPending) ? prev.setDisabled() : null;
    let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;
    if (prev && prev.selected != selected && prev.selected != -1) {
      let selectedValue = prev.options[prev.selected].completion;
      for (let i = 0; i < options.length; i++)
        if (options[i].completion == selectedValue) {
          selected = i;
          break;
        }
    }
    return new _CompletionDialog(options, makeAttrs(id2, selected), {
      pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),
      create: createTooltip,
      above: conf.aboveCursor
    }, prev ? prev.timestamp : Date.now(), selected, false);
  }
  map(changes) {
    return new _CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected, this.disabled);
  }
  setDisabled() {
    return new _CompletionDialog(this.options, this.attrs, this.tooltip, this.timestamp, this.selected, true);
  }
};
var CompletionState = class _CompletionState {
  constructor(active, id2, open) {
    this.active = active;
    this.id = id2;
    this.open = open;
  }
  static start() {
    return new _CompletionState(none3, "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36), null);
  }
  update(tr) {
    let { state } = tr, conf = state.facet(completionConfig);
    let sources = conf.override || state.languageDataAt("autocomplete", cur(state)).map(asSource);
    let active = sources.map((source) => {
      let value = this.active.find((s) => s.source == source) || new ActiveSource(
        source,
        this.active.some(
          (a) => a.state != 0
          /* State.Inactive */
        ) ? 1 : 0
        /* State.Inactive */
      );
      return value.update(tr, conf);
    });
    if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))
      active = this.active;
    let open = this.open, didSet = tr.effects.some((e) => e.is(setActiveEffect));
    if (open && tr.docChanged)
      open = open.map(tr.changes);
    if (tr.selection || active.some((a) => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) || !sameResults(active, this.active) || didSet)
      open = CompletionDialog.build(active, state, this.id, open, conf, didSet);
    else if (open && open.disabled && !active.some((a) => a.isPending))
      open = null;
    if (!open && active.every((a) => !a.isPending) && active.some((a) => a.hasResult()))
      active = active.map((a) => a.hasResult() ? new ActiveSource(
        a.source,
        0
        /* State.Inactive */
      ) : a);
    for (let effect of tr.effects)
      if (effect.is(setSelectedEffect))
        open = open && open.setSelected(effect.value, this.id);
    return active == this.active && open == this.open ? this : new _CompletionState(active, this.id, open);
  }
  get tooltip() {
    return this.open ? this.open.tooltip : null;
  }
  get attrs() {
    return this.open ? this.open.attrs : this.active.length ? baseAttrs : noAttrs2;
  }
};
function sameResults(a, b) {
  if (a == b)
    return true;
  for (let iA = 0, iB = 0; ; ) {
    while (iA < a.length && !a[iA].hasResult())
      iA++;
    while (iB < b.length && !b[iB].hasResult())
      iB++;
    let endA = iA == a.length, endB = iB == b.length;
    if (endA || endB)
      return endA == endB;
    if (a[iA++].result != b[iB++].result)
      return false;
  }
}
var baseAttrs = {
  "aria-autocomplete": "list"
};
var noAttrs2 = {};
function makeAttrs(id2, selected) {
  let result = {
    "aria-autocomplete": "list",
    "aria-haspopup": "listbox",
    "aria-controls": id2
  };
  if (selected > -1)
    result["aria-activedescendant"] = id2 + "-" + selected;
  return result;
}
var none3 = [];
function getUpdateType(tr, conf) {
  if (tr.isUserEvent("input.complete")) {
    let completion = tr.annotation(pickedCompletion);
    if (completion && conf.activateOnCompletion(completion))
      return 4 | 8;
  }
  let typing = tr.isUserEvent("input.type");
  return typing && conf.activateOnTyping ? 4 | 1 : typing ? 1 : tr.isUserEvent("delete.backward") ? 2 : tr.selection ? 8 : tr.docChanged ? 16 : 0;
}
var ActiveSource = class _ActiveSource {
  constructor(source, state, explicit = false) {
    this.source = source;
    this.state = state;
    this.explicit = explicit;
  }
  hasResult() {
    return false;
  }
  get isPending() {
    return this.state == 1;
  }
  update(tr, conf) {
    let type = getUpdateType(tr, conf), value = this;
    if (type & 8 || type & 16 && this.touches(tr))
      value = new _ActiveSource(
        value.source,
        0
        /* State.Inactive */
      );
    if (type & 4 && value.state == 0)
      value = new _ActiveSource(
        this.source,
        1
        /* State.Pending */
      );
    value = value.updateFor(tr, type);
    for (let effect of tr.effects) {
      if (effect.is(startCompletionEffect))
        value = new _ActiveSource(value.source, 1, effect.value);
      else if (effect.is(closeCompletionEffect))
        value = new _ActiveSource(
          value.source,
          0
          /* State.Inactive */
        );
      else if (effect.is(setActiveEffect)) {
        for (let active of effect.value)
          if (active.source == value.source)
            value = active;
      }
    }
    return value;
  }
  updateFor(tr, type) {
    return this.map(tr.changes);
  }
  map(changes) {
    return this;
  }
  touches(tr) {
    return tr.changes.touchesRange(cur(tr.state));
  }
};
var ActiveResult = class _ActiveResult extends ActiveSource {
  constructor(source, explicit, limit, result, from2, to) {
    super(source, 3, explicit);
    this.limit = limit;
    this.result = result;
    this.from = from2;
    this.to = to;
  }
  hasResult() {
    return true;
  }
  updateFor(tr, type) {
    var _a2;
    if (!(type & 3))
      return this.map(tr.changes);
    let result = this.result;
    if (result.map && !tr.changes.empty)
      result = result.map(result, tr.changes);
    let from2 = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);
    let pos = cur(tr.state);
    if (pos > to || !result || type & 2 && (cur(tr.startState) == this.from || pos < this.limit))
      return new ActiveSource(
        this.source,
        type & 4 ? 1 : 0
        /* State.Inactive */
      );
    let limit = tr.changes.mapPos(this.limit);
    if (checkValid(result.validFor, tr.state, from2, to))
      return new _ActiveResult(this.source, this.explicit, limit, result, from2, to);
    if (result.update && (result = result.update(result, from2, to, new CompletionContext(tr.state, pos, false))))
      return new _ActiveResult(this.source, this.explicit, limit, result, result.from, (_a2 = result.to) !== null && _a2 !== void 0 ? _a2 : cur(tr.state));
    return new ActiveSource(this.source, 1, this.explicit);
  }
  map(mapping) {
    if (mapping.empty)
      return this;
    let result = this.result.map ? this.result.map(this.result, mapping) : this.result;
    if (!result)
      return new ActiveSource(
        this.source,
        0
        /* State.Inactive */
      );
    return new _ActiveResult(this.source, this.explicit, mapping.mapPos(this.limit), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));
  }
  touches(tr) {
    return tr.changes.touchesRange(this.from, this.to);
  }
};
function checkValid(validFor, state, from2, to) {
  if (!validFor)
    return false;
  let text = state.sliceDoc(from2, to);
  return typeof validFor == "function" ? validFor(text, from2, to, state) : ensureAnchor(validFor, true).test(text);
}
var setActiveEffect = /* @__PURE__ */ StateEffect.define({
  map(sources, mapping) {
    return sources.map((s) => s.map(mapping));
  }
});
var setSelectedEffect = /* @__PURE__ */ StateEffect.define();
var completionState = /* @__PURE__ */ StateField.define({
  create() {
    return CompletionState.start();
  },
  update(value, tr) {
    return value.update(tr);
  },
  provide: (f) => [
    showTooltip.from(f, (val) => val.tooltip),
    EditorView.contentAttributes.from(f, (state) => state.attrs)
  ]
});
function applyCompletion(view, option) {
  const apply = option.completion.apply || option.completion.label;
  let result = view.state.field(completionState).active.find((a) => a.source == option.source);
  if (!(result instanceof ActiveResult))
    return false;
  if (typeof apply == "string")
    view.dispatch(Object.assign(Object.assign({}, insertCompletionText(view.state, apply, result.from, result.to)), { annotations: pickedCompletion.of(option.completion) }));
  else
    apply(view, option.completion, result.from, result.to);
  return true;
}
var createTooltip = /* @__PURE__ */ completionTooltip(completionState, applyCompletion);
function moveCompletionSelection(forward, by = "option") {
  return (view) => {
    let cState = view.state.field(completionState, false);
    if (!cState || !cState.open || cState.open.disabled || Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)
      return false;
    let step = 1, tooltip;
    if (by == "page" && (tooltip = getTooltip(view, cState.open.tooltip)))
      step = Math.max(2, Math.floor(tooltip.dom.offsetHeight / tooltip.dom.querySelector("li").offsetHeight) - 1);
    let { length } = cState.open.options;
    let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;
    if (selected < 0)
      selected = by == "page" ? 0 : length - 1;
    else if (selected >= length)
      selected = by == "page" ? length - 1 : 0;
    view.dispatch({ effects: setSelectedEffect.of(selected) });
    return true;
  };
}
var acceptCompletion = (view) => {
  let cState = view.state.field(completionState, false);
  if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 || cState.open.disabled || Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)
    return false;
  return applyCompletion(view, cState.open.options[cState.open.selected]);
};
var startCompletion = (view) => {
  let cState = view.state.field(completionState, false);
  if (!cState)
    return false;
  view.dispatch({ effects: startCompletionEffect.of(true) });
  return true;
};
var closeCompletion = (view) => {
  let cState = view.state.field(completionState, false);
  if (!cState || !cState.active.some(
    (a) => a.state != 0
    /* State.Inactive */
  ))
    return false;
  view.dispatch({ effects: closeCompletionEffect.of(null) });
  return true;
};
var RunningQuery = class {
  constructor(active, context) {
    this.active = active;
    this.context = context;
    this.time = Date.now();
    this.updates = [];
    this.done = void 0;
  }
};
var MaxUpdateCount = 50;
var MinAbortTime = 1e3;
var completionPlugin = /* @__PURE__ */ ViewPlugin.fromClass(class {
  constructor(view) {
    this.view = view;
    this.debounceUpdate = -1;
    this.running = [];
    this.debounceAccept = -1;
    this.pendingStart = false;
    this.composing = 0;
    for (let active of view.state.field(completionState).active)
      if (active.isPending)
        this.startQuery(active);
  }
  update(update) {
    let cState = update.state.field(completionState);
    let conf = update.state.facet(completionConfig);
    if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)
      return;
    let doesReset = update.transactions.some((tr) => {
      let type = getUpdateType(tr, conf);
      return type & 8 || (tr.selection || tr.docChanged) && !(type & 3);
    });
    for (let i = 0; i < this.running.length; i++) {
      let query = this.running[i];
      if (doesReset || query.context.abortOnDocChange && update.docChanged || query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {
        for (let handler of query.context.abortListeners) {
          try {
            handler();
          } catch (e) {
            logException(this.view.state, e);
          }
        }
        query.context.abortListeners = null;
        this.running.splice(i--, 1);
      } else {
        query.updates.push(...update.transactions);
      }
    }
    if (this.debounceUpdate > -1)
      clearTimeout(this.debounceUpdate);
    if (update.transactions.some((tr) => tr.effects.some((e) => e.is(startCompletionEffect))))
      this.pendingStart = true;
    let delay = this.pendingStart ? 50 : conf.activateOnTypingDelay;
    this.debounceUpdate = cState.active.some((a) => a.isPending && !this.running.some((q) => q.active.source == a.source)) ? setTimeout(() => this.startUpdate(), delay) : -1;
    if (this.composing != 0)
      for (let tr of update.transactions) {
        if (tr.isUserEvent("input.type"))
          this.composing = 2;
        else if (this.composing == 2 && tr.selection)
          this.composing = 3;
      }
  }
  startUpdate() {
    this.debounceUpdate = -1;
    this.pendingStart = false;
    let { state } = this.view, cState = state.field(completionState);
    for (let active of cState.active) {
      if (active.isPending && !this.running.some((r) => r.active.source == active.source))
        this.startQuery(active);
    }
    if (this.running.length && cState.open && cState.open.disabled)
      this.debounceAccept = setTimeout(() => this.accept(), this.view.state.facet(completionConfig).updateSyncTime);
  }
  startQuery(active) {
    let { state } = this.view, pos = cur(state);
    let context = new CompletionContext(state, pos, active.explicit, this.view);
    let pending = new RunningQuery(active, context);
    this.running.push(pending);
    Promise.resolve(active.source(context)).then((result) => {
      if (!pending.context.aborted) {
        pending.done = result || null;
        this.scheduleAccept();
      }
    }, (err) => {
      this.view.dispatch({ effects: closeCompletionEffect.of(null) });
      logException(this.view.state, err);
    });
  }
  scheduleAccept() {
    if (this.running.every((q) => q.done !== void 0))
      this.accept();
    else if (this.debounceAccept < 0)
      this.debounceAccept = setTimeout(() => this.accept(), this.view.state.facet(completionConfig).updateSyncTime);
  }
  // For each finished query in this.running, try to create a result
  // or, if appropriate, restart the query.
  accept() {
    var _a2;
    if (this.debounceAccept > -1)
      clearTimeout(this.debounceAccept);
    this.debounceAccept = -1;
    let updated = [];
    let conf = this.view.state.facet(completionConfig), cState = this.view.state.field(completionState);
    for (let i = 0; i < this.running.length; i++) {
      let query = this.running[i];
      if (query.done === void 0)
        continue;
      this.running.splice(i--, 1);
      if (query.done) {
        let pos = cur(query.updates.length ? query.updates[0].startState : this.view.state);
        let limit = Math.min(pos, query.done.from + (query.active.explicit ? 0 : 1));
        let active = new ActiveResult(query.active.source, query.active.explicit, limit, query.done, query.done.from, (_a2 = query.done.to) !== null && _a2 !== void 0 ? _a2 : pos);
        for (let tr of query.updates)
          active = active.update(tr, conf);
        if (active.hasResult()) {
          updated.push(active);
          continue;
        }
      }
      let current = cState.active.find((a) => a.source == query.active.source);
      if (current && current.isPending) {
        if (query.done == null) {
          let active = new ActiveSource(
            query.active.source,
            0
            /* State.Inactive */
          );
          for (let tr of query.updates)
            active = active.update(tr, conf);
          if (!active.isPending)
            updated.push(active);
        } else {
          this.startQuery(current);
        }
      }
    }
    if (updated.length || cState.open && cState.open.disabled)
      this.view.dispatch({ effects: setActiveEffect.of(updated) });
  }
}, {
  eventHandlers: {
    blur(event) {
      let state = this.view.state.field(completionState, false);
      if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur) {
        let dialog = state.open && getTooltip(this.view, state.open.tooltip);
        if (!dialog || !dialog.dom.contains(event.relatedTarget))
          setTimeout(() => this.view.dispatch({ effects: closeCompletionEffect.of(null) }), 10);
      }
    },
    compositionstart() {
      this.composing = 1;
    },
    compositionend() {
      if (this.composing == 3) {
        setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);
      }
      this.composing = 0;
    }
  }
});
var windows = typeof navigator == "object" && /* @__PURE__ */ /Win/.test(navigator.platform);
var commitCharacters = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ EditorView.domEventHandlers({
  keydown(event, view) {
    let field = view.state.field(completionState, false);
    if (!field || !field.open || field.open.disabled || field.open.selected < 0 || event.key.length > 1 || event.ctrlKey && !(windows && event.altKey) || event.metaKey)
      return false;
    let option = field.open.options[field.open.selected];
    let result = field.active.find((a) => a.source == option.source);
    let commitChars = option.completion.commitCharacters || result.result.commitCharacters;
    if (commitChars && commitChars.indexOf(event.key) > -1)
      applyCompletion(view, option);
    return false;
  }
}));
var baseTheme4 = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-tooltip.cm-tooltip-autocomplete": {
    "& > ul": {
      fontFamily: "monospace",
      whiteSpace: "nowrap",
      overflow: "hidden auto",
      maxWidth_fallback: "700px",
      maxWidth: "min(700px, 95vw)",
      minWidth: "250px",
      maxHeight: "10em",
      height: "100%",
      listStyle: "none",
      margin: 0,
      padding: 0,
      "& > li, & > completion-section": {
        padding: "1px 3px",
        lineHeight: 1.2
      },
      "& > li": {
        overflowX: "hidden",
        textOverflow: "ellipsis",
        cursor: "pointer"
      },
      "& > completion-section": {
        display: "list-item",
        borderBottom: "1px solid silver",
        paddingLeft: "0.5em",
        opacity: 0.7
      }
    }
  },
  "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
    background: "#17c",
    color: "white"
  },
  "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
    background: "#777"
  },
  "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
    background: "#347",
    color: "white"
  },
  "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
    background: "#444"
  },
  ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after": {
    content: '"\xB7\xB7\xB7"',
    opacity: 0.5,
    display: "block",
    textAlign: "center"
  },
  ".cm-tooltip.cm-completionInfo": {
    position: "absolute",
    padding: "3px 9px",
    width: "max-content",
    maxWidth: `${400}px`,
    boxSizing: "border-box",
    whiteSpace: "pre-line"
  },
  ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
  ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
  ".cm-completionInfo.cm-completionInfo-left-narrow": { right: `${30}px` },
  ".cm-completionInfo.cm-completionInfo-right-narrow": { left: `${30}px` },
  "&light .cm-snippetField": { backgroundColor: "#00000022" },
  "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
  ".cm-snippetFieldPosition": {
    verticalAlign: "text-top",
    width: 0,
    height: "1.15em",
    display: "inline-block",
    margin: "0 -0.7px -.7em",
    borderLeft: "1.4px dotted #888"
  },
  ".cm-completionMatchedText": {
    textDecoration: "underline"
  },
  ".cm-completionDetail": {
    marginLeft: "0.5em",
    fontStyle: "italic"
  },
  ".cm-completionIcon": {
    fontSize: "90%",
    width: ".8em",
    display: "inline-block",
    textAlign: "center",
    paddingRight: ".6em",
    opacity: "0.6",
    boxSizing: "content-box"
  },
  ".cm-completionIcon-function, .cm-completionIcon-method": {
    "&:after": { content: "'\u0192'" }
  },
  ".cm-completionIcon-class": {
    "&:after": { content: "'\u25CB'" }
  },
  ".cm-completionIcon-interface": {
    "&:after": { content: "'\u25CC'" }
  },
  ".cm-completionIcon-variable": {
    "&:after": { content: "'\u{1D465}'" }
  },
  ".cm-completionIcon-constant": {
    "&:after": { content: "'\u{1D436}'" }
  },
  ".cm-completionIcon-type": {
    "&:after": { content: "'\u{1D461}'" }
  },
  ".cm-completionIcon-enum": {
    "&:after": { content: "'\u222A'" }
  },
  ".cm-completionIcon-property": {
    "&:after": { content: "'\u25A1'" }
  },
  ".cm-completionIcon-keyword": {
    "&:after": { content: "'\u{1F511}\uFE0E'" }
    // Disable emoji rendering
  },
  ".cm-completionIcon-namespace": {
    "&:after": { content: "'\u25A2'" }
  },
  ".cm-completionIcon-text": {
    "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" }
  }
});
var FieldPos = class {
  constructor(field, line, from2, to) {
    this.field = field;
    this.line = line;
    this.from = from2;
    this.to = to;
  }
};
var FieldRange = class _FieldRange {
  constructor(field, from2, to) {
    this.field = field;
    this.from = from2;
    this.to = to;
  }
  map(changes) {
    let from2 = changes.mapPos(this.from, -1, MapMode.TrackDel);
    let to = changes.mapPos(this.to, 1, MapMode.TrackDel);
    return from2 == null || to == null ? null : new _FieldRange(this.field, from2, to);
  }
};
var Snippet = class _Snippet {
  constructor(lines, fieldPositions) {
    this.lines = lines;
    this.fieldPositions = fieldPositions;
  }
  instantiate(state, pos) {
    let text = [], lineStart = [pos];
    let lineObj = state.doc.lineAt(pos), baseIndent = /^\s*/.exec(lineObj.text)[0];
    for (let line of this.lines) {
      if (text.length) {
        let indent = baseIndent, tabs = /^\t*/.exec(line)[0].length;
        for (let i = 0; i < tabs; i++)
          indent += state.facet(indentUnit);
        lineStart.push(pos + indent.length - tabs);
        line = indent + line.slice(tabs);
      }
      text.push(line);
      pos += line.length + 1;
    }
    let ranges = this.fieldPositions.map((pos2) => new FieldRange(pos2.field, lineStart[pos2.line] + pos2.from, lineStart[pos2.line] + pos2.to));
    return { text, ranges };
  }
  static parse(template) {
    let fields = [];
    let lines = [], positions = [], m;
    for (let line of template.split(/\r\n?|\n/)) {
      while (m = /[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(line)) {
        let seq = m[1] ? +m[1] : null, rawName = m[2] || m[3] || "", found = -1;
        let name2 = rawName.replace(/\\[{}]/g, (m2) => m2[1]);
        for (let i = 0; i < fields.length; i++) {
          if (seq != null ? fields[i].seq == seq : name2 ? fields[i].name == name2 : false)
            found = i;
        }
        if (found < 0) {
          let i = 0;
          while (i < fields.length && (seq == null || fields[i].seq != null && fields[i].seq < seq))
            i++;
          fields.splice(i, 0, { seq, name: name2 });
          found = i;
          for (let pos of positions)
            if (pos.field >= found)
              pos.field++;
        }
        positions.push(new FieldPos(found, lines.length, m.index, m.index + name2.length));
        line = line.slice(0, m.index) + rawName + line.slice(m.index + m[0].length);
      }
      line = line.replace(/\\([{}])/g, (_, brace, index) => {
        for (let pos of positions)
          if (pos.line == lines.length && pos.from > index) {
            pos.from--;
            pos.to--;
          }
        return brace;
      });
      lines.push(line);
    }
    return new _Snippet(lines, positions);
  }
};
var fieldMarker = /* @__PURE__ */ Decoration.widget({ widget: /* @__PURE__ */ new class extends WidgetType {
  toDOM() {
    let span = document.createElement("span");
    span.className = "cm-snippetFieldPosition";
    return span;
  }
  ignoreEvent() {
    return false;
  }
}() });
var fieldRange = /* @__PURE__ */ Decoration.mark({ class: "cm-snippetField" });
var ActiveSnippet = class _ActiveSnippet {
  constructor(ranges, active) {
    this.ranges = ranges;
    this.active = active;
    this.deco = Decoration.set(ranges.map((r) => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));
  }
  map(changes) {
    let ranges = [];
    for (let r of this.ranges) {
      let mapped = r.map(changes);
      if (!mapped)
        return null;
      ranges.push(mapped);
    }
    return new _ActiveSnippet(ranges, this.active);
  }
  selectionInsideField(sel) {
    return sel.ranges.every((range) => this.ranges.some((r) => r.field == this.active && r.from <= range.from && r.to >= range.to));
  }
};
var setActive = /* @__PURE__ */ StateEffect.define({
  map(value, changes) {
    return value && value.map(changes);
  }
});
var moveToField = /* @__PURE__ */ StateEffect.define();
var snippetState = /* @__PURE__ */ StateField.define({
  create() {
    return null;
  },
  update(value, tr) {
    for (let effect of tr.effects) {
      if (effect.is(setActive))
        return effect.value;
      if (effect.is(moveToField) && value)
        return new ActiveSnippet(value.ranges, effect.value);
    }
    if (value && tr.docChanged)
      value = value.map(tr.changes);
    if (value && tr.selection && !value.selectionInsideField(tr.selection))
      value = null;
    return value;
  },
  provide: (f) => EditorView.decorations.from(f, (val) => val ? val.deco : Decoration.none)
});
function fieldSelection(ranges, field) {
  return EditorSelection.create(ranges.filter((r) => r.field == field).map((r) => EditorSelection.range(r.from, r.to)));
}
function snippet(template) {
  let snippet2 = Snippet.parse(template);
  return (editor, completion, from2, to) => {
    let { text, ranges } = snippet2.instantiate(editor.state, from2);
    let { main } = editor.state.selection;
    let spec = {
      changes: { from: from2, to: to == main.from ? main.to : to, insert: Text.of(text) },
      scrollIntoView: true,
      annotations: completion ? [pickedCompletion.of(completion), Transaction.userEvent.of("input.complete")] : void 0
    };
    if (ranges.length)
      spec.selection = fieldSelection(ranges, 0);
    if (ranges.some((r) => r.field > 0)) {
      let active = new ActiveSnippet(ranges, 0);
      let effects = spec.effects = [setActive.of(active)];
      if (editor.state.field(snippetState, false) === void 0)
        effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme4]));
    }
    editor.dispatch(editor.state.update(spec));
  };
}
function moveField(dir) {
  return ({ state, dispatch }) => {
    let active = state.field(snippetState, false);
    if (!active || dir < 0 && active.active == 0)
      return false;
    let next = active.active + dir, last = dir > 0 && !active.ranges.some((r) => r.field == next + dir);
    dispatch(state.update({
      selection: fieldSelection(active.ranges, next),
      effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next)),
      scrollIntoView: true
    }));
    return true;
  };
}
var clearSnippet = ({ state, dispatch }) => {
  let active = state.field(snippetState, false);
  if (!active)
    return false;
  dispatch(state.update({ effects: setActive.of(null) }));
  return true;
};
var nextSnippetField = /* @__PURE__ */ moveField(1);
var prevSnippetField = /* @__PURE__ */ moveField(-1);
var defaultSnippetKeymap = [
  { key: "Tab", run: nextSnippetField, shift: prevSnippetField },
  { key: "Escape", run: clearSnippet }
];
var snippetKeymap = /* @__PURE__ */ Facet.define({
  combine(maps) {
    return maps.length ? maps[0] : defaultSnippetKeymap;
  }
});
var addSnippetKeymap = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ keymap.compute([snippetKeymap], (state) => state.facet(snippetKeymap)));
function snippetCompletion(template, completion) {
  return Object.assign(Object.assign({}, completion), { apply: snippet(template) });
}
var snippetPointerHandler = /* @__PURE__ */ EditorView.domEventHandlers({
  mousedown(event, view) {
    let active = view.state.field(snippetState, false), pos;
    if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)
      return false;
    let match2 = active.ranges.find((r) => r.from <= pos && r.to >= pos);
    if (!match2 || match2.field == active.active)
      return false;
    view.dispatch({
      selection: fieldSelection(active.ranges, match2.field),
      effects: setActive.of(active.ranges.some((r) => r.field > match2.field) ? new ActiveSnippet(active.ranges, match2.field) : null),
      scrollIntoView: true
    });
    return true;
  }
});
var defaults2 = {
  brackets: ["(", "[", "{", "'", '"'],
  before: ")]}:;>",
  stringPrefixes: []
};
var closeBracketEffect = /* @__PURE__ */ StateEffect.define({
  map(value, mapping) {
    let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);
    return mapped == null ? void 0 : mapped;
  }
});
var closedBracket = /* @__PURE__ */ new class extends RangeValue {
}();
closedBracket.startSide = 1;
closedBracket.endSide = -1;
var bracketState = /* @__PURE__ */ StateField.define({
  create() {
    return RangeSet.empty;
  },
  update(value, tr) {
    value = value.map(tr.changes);
    if (tr.selection) {
      let line = tr.state.doc.lineAt(tr.selection.main.head);
      value = value.update({ filter: (from2) => from2 >= line.from && from2 <= line.to });
    }
    for (let effect of tr.effects)
      if (effect.is(closeBracketEffect))
        value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });
    return value;
  }
});
function closeBrackets() {
  return [inputHandler2, bracketState];
}
var definedClosing = "()[]{}<>\xAB\xBB\xBB\xAB\uFF3B\uFF3D\uFF5B\uFF5D";
function closing(ch) {
  for (let i = 0; i < definedClosing.length; i += 2)
    if (definedClosing.charCodeAt(i) == ch)
      return definedClosing.charAt(i + 1);
  return fromCodePoint(ch < 128 ? ch : ch + 1);
}
function config(state, pos) {
  return state.languageDataAt("closeBrackets", pos)[0] || defaults2;
}
var android = typeof navigator == "object" && /* @__PURE__ */ /Android\b/.test(navigator.userAgent);
var inputHandler2 = /* @__PURE__ */ EditorView.inputHandler.of((view, from2, to, insert2) => {
  if ((android ? view.composing : view.compositionStarted) || view.state.readOnly)
    return false;
  let sel = view.state.selection.main;
  if (insert2.length > 2 || insert2.length == 2 && codePointSize2(codePointAt2(insert2, 0)) == 1 || from2 != sel.from || to != sel.to)
    return false;
  let tr = insertBracket(view.state, insert2);
  if (!tr)
    return false;
  view.dispatch(tr);
  return true;
});
var deleteBracketPair = ({ state, dispatch }) => {
  if (state.readOnly)
    return false;
  let conf = config(state, state.selection.main.head);
  let tokens = conf.brackets || defaults2.brackets;
  let dont = null, changes = state.changeByRange((range) => {
    if (range.empty) {
      let before = prevChar(state.doc, range.head);
      for (let token of tokens) {
        if (token == before && nextChar(state.doc, range.head) == closing(codePointAt2(token, 0)))
          return {
            changes: { from: range.head - token.length, to: range.head + token.length },
            range: EditorSelection.cursor(range.head - token.length)
          };
      }
    }
    return { range: dont = range };
  });
  if (!dont)
    dispatch(state.update(changes, { scrollIntoView: true, userEvent: "delete.backward" }));
  return !dont;
};
var closeBracketsKeymap = [
  { key: "Backspace", run: deleteBracketPair }
];
function insertBracket(state, bracket2) {
  let conf = config(state, state.selection.main.head);
  let tokens = conf.brackets || defaults2.brackets;
  for (let tok of tokens) {
    let closed = closing(codePointAt2(tok, 0));
    if (bracket2 == tok)
      return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1, conf) : handleOpen(state, tok, closed, conf.before || defaults2.before);
    if (bracket2 == closed && closedBracketAt(state, state.selection.main.from))
      return handleClose(state, tok, closed);
  }
  return null;
}
function closedBracketAt(state, pos) {
  let found = false;
  state.field(bracketState).between(0, state.doc.length, (from2) => {
    if (from2 == pos)
      found = true;
  });
  return found;
}
function nextChar(doc2, pos) {
  let next = doc2.sliceString(pos, pos + 2);
  return next.slice(0, codePointSize2(codePointAt2(next, 0)));
}
function prevChar(doc2, pos) {
  let prev = doc2.sliceString(pos - 2, pos);
  return codePointSize2(codePointAt2(prev, 0)) == prev.length ? prev : prev.slice(1);
}
function handleOpen(state, open, close, closeBefore) {
  let dont = null, changes = state.changeByRange((range) => {
    if (!range.empty)
      return {
        changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],
        effects: closeBracketEffect.of(range.to + open.length),
        range: EditorSelection.range(range.anchor + open.length, range.head + open.length)
      };
    let next = nextChar(state.doc, range.head);
    if (!next || /\s/.test(next) || closeBefore.indexOf(next) > -1)
      return {
        changes: { insert: open + close, from: range.head },
        effects: closeBracketEffect.of(range.head + open.length),
        range: EditorSelection.cursor(range.head + open.length)
      };
    return { range: dont = range };
  });
  return dont ? null : state.update(changes, {
    scrollIntoView: true,
    userEvent: "input.type"
  });
}
function handleClose(state, _open, close) {
  let dont = null, changes = state.changeByRange((range) => {
    if (range.empty && nextChar(state.doc, range.head) == close)
      return {
        changes: { from: range.head, to: range.head + close.length, insert: close },
        range: EditorSelection.cursor(range.head + close.length)
      };
    return dont = { range };
  });
  return dont ? null : state.update(changes, {
    scrollIntoView: true,
    userEvent: "input.type"
  });
}
function handleSame(state, token, allowTriple, config2) {
  let stringPrefixes = config2.stringPrefixes || defaults2.stringPrefixes;
  let dont = null, changes = state.changeByRange((range) => {
    if (!range.empty)
      return {
        changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],
        effects: closeBracketEffect.of(range.to + token.length),
        range: EditorSelection.range(range.anchor + token.length, range.head + token.length)
      };
    let pos = range.head, next = nextChar(state.doc, pos), start;
    if (next == token) {
      if (nodeStart(state, pos)) {
        return {
          changes: { insert: token + token, from: pos },
          effects: closeBracketEffect.of(pos + token.length),
          range: EditorSelection.cursor(pos + token.length)
        };
      } else if (closedBracketAt(state, pos)) {
        let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;
        let content2 = isTriple ? token + token + token : token;
        return {
          changes: { from: pos, to: pos + content2.length, insert: content2 },
          range: EditorSelection.cursor(pos + content2.length)
        };
      }
    } else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token && (start = canStartStringAt(state, pos - 2 * token.length, stringPrefixes)) > -1 && nodeStart(state, start)) {
      return {
        changes: { insert: token + token + token + token, from: pos },
        effects: closeBracketEffect.of(pos + token.length),
        range: EditorSelection.cursor(pos + token.length)
      };
    } else if (state.charCategorizer(pos)(next) != CharCategory.Word) {
      if (canStartStringAt(state, pos, stringPrefixes) > -1 && !probablyInString(state, pos, token, stringPrefixes))
        return {
          changes: { insert: token + token, from: pos },
          effects: closeBracketEffect.of(pos + token.length),
          range: EditorSelection.cursor(pos + token.length)
        };
    }
    return { range: dont = range };
  });
  return dont ? null : state.update(changes, {
    scrollIntoView: true,
    userEvent: "input.type"
  });
}
function nodeStart(state, pos) {
  let tree = syntaxTree(state).resolveInner(pos + 1);
  return tree.parent && tree.from == pos;
}
function probablyInString(state, pos, quoteToken, prefixes) {
  let node = syntaxTree(state).resolveInner(pos, -1);
  let maxPrefix = prefixes.reduce((m, p) => Math.max(m, p.length), 0);
  for (let i = 0; i < 5; i++) {
    let start = state.sliceDoc(node.from, Math.min(node.to, node.from + quoteToken.length + maxPrefix));
    let quotePos = start.indexOf(quoteToken);
    if (!quotePos || quotePos > -1 && prefixes.indexOf(start.slice(0, quotePos)) > -1) {
      let first = node.firstChild;
      while (first && first.from == node.from && first.to - first.from > quoteToken.length + quotePos) {
        if (state.sliceDoc(first.to - quoteToken.length, first.to) == quoteToken)
          return false;
        first = first.firstChild;
      }
      return true;
    }
    let parent = node.to == pos && node.parent;
    if (!parent)
      break;
    node = parent;
  }
  return false;
}
function canStartStringAt(state, pos, prefixes) {
  let charCat = state.charCategorizer(pos);
  if (charCat(state.sliceDoc(pos - 1, pos)) != CharCategory.Word)
    return pos;
  for (let prefix of prefixes) {
    let start = pos - prefix.length;
    if (state.sliceDoc(start, pos) == prefix && charCat(state.sliceDoc(start - 1, start)) != CharCategory.Word)
      return start;
  }
  return -1;
}
function autocompletion(config2 = {}) {
  return [
    commitCharacters,
    completionState,
    completionConfig.of(config2),
    completionPlugin,
    completionKeymapExt,
    baseTheme4
  ];
}
var completionKeymap = [
  { key: "Ctrl-Space", run: startCompletion },
  { mac: "Alt-`", run: startCompletion },
  { key: "Escape", run: closeCompletion },
  { key: "ArrowDown", run: /* @__PURE__ */ moveCompletionSelection(true) },
  { key: "ArrowUp", run: /* @__PURE__ */ moveCompletionSelection(false) },
  { key: "PageDown", run: /* @__PURE__ */ moveCompletionSelection(true, "page") },
  { key: "PageUp", run: /* @__PURE__ */ moveCompletionSelection(false, "page") },
  { key: "Enter", run: acceptCompletion }
];
var completionKeymapExt = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ keymap.computeN([completionConfig], (state) => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));

// node_modules/@codemirror/lint/dist/index.js
var SelectedDiagnostic = class {
  constructor(from2, to, diagnostic) {
    this.from = from2;
    this.to = to;
    this.diagnostic = diagnostic;
  }
};
var LintState = class _LintState {
  constructor(diagnostics, panel, selected) {
    this.diagnostics = diagnostics;
    this.panel = panel;
    this.selected = selected;
  }
  static init(diagnostics, panel, state) {
    let diagnosticFilter = state.facet(lintConfig).markerFilter;
    if (diagnosticFilter)
      diagnostics = diagnosticFilter(diagnostics, state);
    let sorted = diagnostics.slice().sort((a, b) => a.from - b.from || a.to - b.to);
    let deco = new RangeSetBuilder(), active = [], pos = 0;
    for (let i = 0; ; ) {
      let next = i == sorted.length ? null : sorted[i];
      if (!next && !active.length)
        break;
      let from2, to;
      if (active.length) {
        from2 = pos;
        to = active.reduce((p, d) => Math.min(p, d.to), next && next.from > from2 ? next.from : 1e8);
      } else {
        from2 = next.from;
        to = next.to;
        active.push(next);
        i++;
      }
      while (i < sorted.length) {
        let next2 = sorted[i];
        if (next2.from == from2 && (next2.to > next2.from || next2.to == from2)) {
          active.push(next2);
          i++;
          to = Math.min(next2.to, to);
        } else {
          to = Math.min(next2.from, to);
          break;
        }
      }
      let sev = maxSeverity(active);
      if (active.some((d) => d.from == d.to || d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)) {
        deco.add(from2, from2, Decoration.widget({
          widget: new DiagnosticWidget(sev),
          diagnostics: active.slice()
        }));
      } else {
        let markClass = active.reduce((c, d) => d.markClass ? c + " " + d.markClass : c, "");
        deco.add(from2, to, Decoration.mark({
          class: "cm-lintRange cm-lintRange-" + sev + markClass,
          diagnostics: active.slice(),
          inclusiveEnd: active.some((a) => a.to > to)
        }));
      }
      pos = to;
      for (let i2 = 0; i2 < active.length; i2++)
        if (active[i2].to <= pos)
          active.splice(i2--, 1);
    }
    let set = deco.finish();
    return new _LintState(set, panel, findDiagnostic(set));
  }
};
function findDiagnostic(diagnostics, diagnostic = null, after = 0) {
  let found = null;
  diagnostics.between(after, 1e9, (from2, to, { spec }) => {
    if (diagnostic && spec.diagnostics.indexOf(diagnostic) < 0)
      return;
    if (!found)
      found = new SelectedDiagnostic(from2, to, diagnostic || spec.diagnostics[0]);
    else if (spec.diagnostics.indexOf(found.diagnostic) < 0)
      return false;
    else
      found = new SelectedDiagnostic(found.from, to, found.diagnostic);
  });
  return found;
}
function hideTooltip(tr, tooltip) {
  let from2 = tooltip.pos, to = tooltip.end || from2;
  let result = tr.state.facet(lintConfig).hideOn(tr, from2, to);
  if (result != null)
    return result;
  let line = tr.startState.doc.lineAt(tooltip.pos);
  return !!(tr.effects.some((e) => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(line.from, Math.max(line.to, to)));
}
function maybeEnableLint(state, effects) {
  return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));
}
var setDiagnosticsEffect = /* @__PURE__ */ StateEffect.define();
var togglePanel2 = /* @__PURE__ */ StateEffect.define();
var movePanelSelection = /* @__PURE__ */ StateEffect.define();
var lintState = /* @__PURE__ */ StateField.define({
  create() {
    return new LintState(Decoration.none, null, null);
  },
  update(value, tr) {
    if (tr.docChanged && value.diagnostics.size) {
      let mapped = value.diagnostics.map(tr.changes), selected = null, panel = value.panel;
      if (value.selected) {
        let selPos = tr.changes.mapPos(value.selected.from, 1);
        selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);
      }
      if (!mapped.size && panel && tr.state.facet(lintConfig).autoPanel)
        panel = null;
      value = new LintState(mapped, panel, selected);
    }
    for (let effect of tr.effects) {
      if (effect.is(setDiagnosticsEffect)) {
        let panel = !tr.state.facet(lintConfig).autoPanel ? value.panel : effect.value.length ? LintPanel.open : null;
        value = LintState.init(effect.value, panel, tr.state);
      } else if (effect.is(togglePanel2)) {
        value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);
      } else if (effect.is(movePanelSelection)) {
        value = new LintState(value.diagnostics, value.panel, effect.value);
      }
    }
    return value;
  },
  provide: (f) => [
    showPanel.from(f, (val) => val.panel),
    EditorView.decorations.from(f, (s) => s.diagnostics)
  ]
});
var activeMark = /* @__PURE__ */ Decoration.mark({ class: "cm-lintRange cm-lintRange-active" });
function lintTooltip(view, pos, side) {
  let { diagnostics } = view.state.field(lintState);
  let found, start = -1, end = -1;
  diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from2, to, { spec }) => {
    if (pos >= from2 && pos <= to && (from2 == to || (pos > from2 || side > 0) && (pos < to || side < 0))) {
      found = spec.diagnostics;
      start = from2;
      end = to;
      return false;
    }
  });
  let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;
  if (found && diagnosticFilter)
    found = diagnosticFilter(found, view.state);
  if (!found)
    return null;
  return {
    pos: start,
    end,
    above: view.state.doc.lineAt(start).to < end,
    create() {
      return { dom: diagnosticsTooltip(view, found) };
    }
  };
}
function diagnosticsTooltip(view, diagnostics) {
  return crelt("ul", { class: "cm-tooltip-lint" }, diagnostics.map((d) => renderDiagnostic(view, d, false)));
}
var openLintPanel = (view) => {
  let field = view.state.field(lintState, false);
  if (!field || !field.panel)
    view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel2.of(true)]) });
  let panel = getPanel(view, LintPanel.open);
  if (panel)
    panel.dom.querySelector(".cm-panel-lint ul").focus();
  return true;
};
var closeLintPanel = (view) => {
  let field = view.state.field(lintState, false);
  if (!field || !field.panel)
    return false;
  view.dispatch({ effects: togglePanel2.of(false) });
  return true;
};
var nextDiagnostic = (view) => {
  let field = view.state.field(lintState, false);
  if (!field)
    return false;
  let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);
  if (!next.value) {
    next = field.diagnostics.iter(0);
    if (!next.value || next.from == sel.from && next.to == sel.to)
      return false;
  }
  view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });
  return true;
};
var lintKeymap = [
  { key: "Mod-Shift-m", run: openLintPanel, preventDefault: true },
  { key: "F8", run: nextDiagnostic }
];
var lintConfig = /* @__PURE__ */ Facet.define({
  combine(input) {
    return Object.assign({ sources: input.map((i) => i.source).filter((x) => x != null) }, combineConfig(input.map((i) => i.config), {
      delay: 750,
      markerFilter: null,
      tooltipFilter: null,
      needsRefresh: null,
      hideOn: () => null
    }, {
      needsRefresh: (a, b) => !a ? b : !b ? a : (u) => a(u) || b(u)
    }));
  }
});
function assignKeys(actions) {
  let assigned = [];
  if (actions)
    actions: for (let { name: name2 } of actions) {
      for (let i = 0; i < name2.length; i++) {
        let ch = name2[i];
        if (/[a-zA-Z]/.test(ch) && !assigned.some((c) => c.toLowerCase() == ch.toLowerCase())) {
          assigned.push(ch);
          continue actions;
        }
      }
      assigned.push("");
    }
  return assigned;
}
function renderDiagnostic(view, diagnostic, inPanel) {
  var _a2;
  let keys2 = inPanel ? assignKeys(diagnostic.actions) : [];
  return crelt("li", { class: "cm-diagnostic cm-diagnostic-" + diagnostic.severity }, crelt("span", { class: "cm-diagnosticText" }, diagnostic.renderMessage ? diagnostic.renderMessage(view) : diagnostic.message), (_a2 = diagnostic.actions) === null || _a2 === void 0 ? void 0 : _a2.map((action, i) => {
    let fired = false, click = (e) => {
      e.preventDefault();
      if (fired)
        return;
      fired = true;
      let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);
      if (found)
        action.apply(view, found.from, found.to);
    };
    let { name: name2 } = action, keyIndex = keys2[i] ? name2.indexOf(keys2[i]) : -1;
    let nameElt = keyIndex < 0 ? name2 : [
      name2.slice(0, keyIndex),
      crelt("u", name2.slice(keyIndex, keyIndex + 1)),
      name2.slice(keyIndex + 1)
    ];
    return crelt("button", {
      type: "button",
      class: "cm-diagnosticAction",
      onclick: click,
      onmousedown: click,
      "aria-label": ` Action: ${name2}${keyIndex < 0 ? "" : ` (access key "${keys2[i]})"`}.`
    }, nameElt);
  }), diagnostic.source && crelt("div", { class: "cm-diagnosticSource" }, diagnostic.source));
}
var DiagnosticWidget = class extends WidgetType {
  constructor(sev) {
    super();
    this.sev = sev;
  }
  eq(other) {
    return other.sev == this.sev;
  }
  toDOM() {
    return crelt("span", { class: "cm-lintPoint cm-lintPoint-" + this.sev });
  }
};
var PanelItem = class {
  constructor(view, diagnostic) {
    this.diagnostic = diagnostic;
    this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16);
    this.dom = renderDiagnostic(view, diagnostic, true);
    this.dom.id = this.id;
    this.dom.setAttribute("role", "option");
  }
};
var LintPanel = class _LintPanel {
  constructor(view) {
    this.view = view;
    this.items = [];
    let onkeydown = (event) => {
      if (event.keyCode == 27) {
        closeLintPanel(this.view);
        this.view.focus();
      } else if (event.keyCode == 38 || event.keyCode == 33) {
        this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);
      } else if (event.keyCode == 40 || event.keyCode == 34) {
        this.moveSelection((this.selectedIndex + 1) % this.items.length);
      } else if (event.keyCode == 36) {
        this.moveSelection(0);
      } else if (event.keyCode == 35) {
        this.moveSelection(this.items.length - 1);
      } else if (event.keyCode == 13) {
        this.view.focus();
      } else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) {
        let { diagnostic } = this.items[this.selectedIndex], keys2 = assignKeys(diagnostic.actions);
        for (let i = 0; i < keys2.length; i++)
          if (keys2[i].toUpperCase().charCodeAt(0) == event.keyCode) {
            let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);
            if (found)
              diagnostic.actions[i].apply(view, found.from, found.to);
          }
      } else {
        return;
      }
      event.preventDefault();
    };
    let onclick = (event) => {
      for (let i = 0; i < this.items.length; i++) {
        if (this.items[i].dom.contains(event.target))
          this.moveSelection(i);
      }
    };
    this.list = crelt("ul", {
      tabIndex: 0,
      role: "listbox",
      "aria-label": this.view.state.phrase("Diagnostics"),
      onkeydown,
      onclick
    });
    this.dom = crelt("div", { class: "cm-panel-lint" }, this.list, crelt("button", {
      type: "button",
      name: "close",
      "aria-label": this.view.state.phrase("close"),
      onclick: () => closeLintPanel(this.view)
    }, "\xD7"));
    this.update();
  }
  get selectedIndex() {
    let selected = this.view.state.field(lintState).selected;
    if (!selected)
      return -1;
    for (let i = 0; i < this.items.length; i++)
      if (this.items[i].diagnostic == selected.diagnostic)
        return i;
    return -1;
  }
  update() {
    let { diagnostics, selected } = this.view.state.field(lintState);
    let i = 0, needsSync = false, newSelectedItem = null;
    let seen = /* @__PURE__ */ new Set();
    diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {
      for (let diagnostic of spec.diagnostics) {
        if (seen.has(diagnostic))
          continue;
        seen.add(diagnostic);
        let found = -1, item;
        for (let j = i; j < this.items.length; j++)
          if (this.items[j].diagnostic == diagnostic) {
            found = j;
            break;
          }
        if (found < 0) {
          item = new PanelItem(this.view, diagnostic);
          this.items.splice(i, 0, item);
          needsSync = true;
        } else {
          item = this.items[found];
          if (found > i) {
            this.items.splice(i, found - i);
            needsSync = true;
          }
        }
        if (selected && item.diagnostic == selected.diagnostic) {
          if (!item.dom.hasAttribute("aria-selected")) {
            item.dom.setAttribute("aria-selected", "true");
            newSelectedItem = item;
          }
        } else if (item.dom.hasAttribute("aria-selected")) {
          item.dom.removeAttribute("aria-selected");
        }
        i++;
      }
    });
    while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {
      needsSync = true;
      this.items.pop();
    }
    if (this.items.length == 0) {
      this.items.push(new PanelItem(this.view, {
        from: -1,
        to: -1,
        severity: "info",
        message: this.view.state.phrase("No diagnostics")
      }));
      needsSync = true;
    }
    if (newSelectedItem) {
      this.list.setAttribute("aria-activedescendant", newSelectedItem.id);
      this.view.requestMeasure({
        key: this,
        read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),
        write: ({ sel, panel }) => {
          let scaleY = panel.height / this.list.offsetHeight;
          if (sel.top < panel.top)
            this.list.scrollTop -= (panel.top - sel.top) / scaleY;
          else if (sel.bottom > panel.bottom)
            this.list.scrollTop += (sel.bottom - panel.bottom) / scaleY;
        }
      });
    } else if (this.selectedIndex < 0) {
      this.list.removeAttribute("aria-activedescendant");
    }
    if (needsSync)
      this.sync();
  }
  sync() {
    let domPos = this.list.firstChild;
    function rm2() {
      let prev = domPos;
      domPos = prev.nextSibling;
      prev.remove();
    }
    for (let item of this.items) {
      if (item.dom.parentNode == this.list) {
        while (domPos != item.dom)
          rm2();
        domPos = item.dom.nextSibling;
      } else {
        this.list.insertBefore(item.dom, domPos);
      }
    }
    while (domPos)
      rm2();
  }
  moveSelection(selectedIndex) {
    if (this.selectedIndex < 0)
      return;
    let field = this.view.state.field(lintState);
    let selection2 = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);
    if (!selection2)
      return;
    this.view.dispatch({
      selection: { anchor: selection2.from, head: selection2.to },
      scrollIntoView: true,
      effects: movePanelSelection.of(selection2)
    });
  }
  static open(view) {
    return new _LintPanel(view);
  }
};
function svg(content2, attrs = `viewBox="0 0 40 40"`) {
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${attrs}>${encodeURIComponent(content2)}</svg>')`;
}
function underline(color) {
  return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${color}" fill="none" stroke-width=".7"/>`, `width="6" height="3"`);
}
var baseTheme5 = /* @__PURE__ */ EditorView.baseTheme({
  ".cm-diagnostic": {
    padding: "3px 6px 3px 8px",
    marginLeft: "-1px",
    display: "block",
    whiteSpace: "pre-wrap"
  },
  ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
  ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
  ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
  ".cm-diagnostic-hint": { borderLeft: "5px solid #66d" },
  ".cm-diagnosticAction": {
    font: "inherit",
    border: "none",
    padding: "2px 4px",
    backgroundColor: "#444",
    color: "white",
    borderRadius: "3px",
    marginLeft: "8px",
    cursor: "pointer"
  },
  ".cm-diagnosticSource": {
    fontSize: "70%",
    opacity: 0.7
  },
  ".cm-lintRange": {
    backgroundPosition: "left bottom",
    backgroundRepeat: "repeat-x",
    paddingBottom: "0.7px"
  },
  ".cm-lintRange-error": { backgroundImage: /* @__PURE__ */ underline("#d11") },
  ".cm-lintRange-warning": { backgroundImage: /* @__PURE__ */ underline("orange") },
  ".cm-lintRange-info": { backgroundImage: /* @__PURE__ */ underline("#999") },
  ".cm-lintRange-hint": { backgroundImage: /* @__PURE__ */ underline("#66d") },
  ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
  ".cm-tooltip-lint": {
    padding: 0,
    margin: 0
  },
  ".cm-lintPoint": {
    position: "relative",
    "&:after": {
      content: '""',
      position: "absolute",
      bottom: 0,
      left: "-2px",
      borderLeft: "3px solid transparent",
      borderRight: "3px solid transparent",
      borderBottom: "4px solid #d11"
    }
  },
  ".cm-lintPoint-warning": {
    "&:after": { borderBottomColor: "orange" }
  },
  ".cm-lintPoint-info": {
    "&:after": { borderBottomColor: "#999" }
  },
  ".cm-lintPoint-hint": {
    "&:after": { borderBottomColor: "#66d" }
  },
  ".cm-panel.cm-panel-lint": {
    position: "relative",
    "& ul": {
      maxHeight: "100px",
      overflowY: "auto",
      "& [aria-selected]": {
        backgroundColor: "#ddd",
        "& u": { textDecoration: "underline" }
      },
      "&:focus [aria-selected]": {
        background_fallback: "#bdf",
        backgroundColor: "Highlight",
        color_fallback: "white",
        color: "HighlightText"
      },
      "& u": { textDecoration: "none" },
      padding: 0,
      margin: 0
    },
    "& [name=close]": {
      position: "absolute",
      top: "0",
      right: "2px",
      background: "inherit",
      border: "none",
      font: "inherit",
      padding: 0,
      margin: 0
    }
  }
});
function severityWeight(sev) {
  return sev == "error" ? 4 : sev == "warning" ? 3 : sev == "info" ? 2 : 1;
}
function maxSeverity(diagnostics) {
  let sev = "hint", weight = 1;
  for (let d of diagnostics) {
    let w = severityWeight(d.severity);
    if (w > weight) {
      weight = w;
      sev = d.severity;
    }
  }
  return sev;
}
var lintExtensions = [
  lintState,
  /* @__PURE__ */ EditorView.decorations.compute([lintState], (state) => {
    let { selected, panel } = state.field(lintState);
    return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([
      activeMark.range(selected.from, selected.to)
    ]);
  }),
  /* @__PURE__ */ hoverTooltip(lintTooltip, { hideOn: hideTooltip }),
  baseTheme5
];

// node_modules/codemirror-v6/dist/index.js
var basicSetup = /* @__PURE__ */ (() => [
  lineNumbers(),
  highlightActiveLineGutter(),
  highlightSpecialChars(),
  history(),
  foldGutter(),
  drawSelection(),
  dropCursor(),
  EditorState.allowMultipleSelections.of(true),
  indentOnInput(),
  syntaxHighlighting(defaultHighlightStyle, { fallback: true }),
  bracketMatching(),
  closeBrackets(),
  autocompletion(),
  rectangularSelection(),
  crosshairCursor(),
  highlightActiveLine(),
  highlightSelectionMatches(),
  keymap.of([
    ...closeBracketsKeymap,
    ...defaultKeymap,
    ...searchKeymap,
    ...historyKeymap,
    ...foldKeymap,
    ...completionKeymap,
    ...lintKeymap
  ])
])();

// node_modules/@lezer/lr/dist/index.js
var Stack = class _Stack {
  /**
  @internal
  */
  constructor(p, stack, state, reducePos, pos, score2, buffer, bufferBase, curContext, lookAhead = 0, parent) {
    this.p = p;
    this.stack = stack;
    this.state = state;
    this.reducePos = reducePos;
    this.pos = pos;
    this.score = score2;
    this.buffer = buffer;
    this.bufferBase = bufferBase;
    this.curContext = curContext;
    this.lookAhead = lookAhead;
    this.parent = parent;
  }
  /**
  @internal
  */
  toString() {
    return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? "!" + this.score : ""}`;
  }
  // Start an empty stack
  /**
  @internal
  */
  static start(p, state, pos = 0) {
    let cx = p.parser.context;
    return new _Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);
  }
  /**
  The stack's current [context](#lr.ContextTracker) value, if
  any. Its type will depend on the context tracker's type
  parameter, or it will be `null` if there is no context
  tracker.
  */
  get context() {
    return this.curContext ? this.curContext.context : null;
  }
  // Push a state onto the stack, tracking its start position as well
  // as the buffer base at that point.
  /**
  @internal
  */
  pushState(state, start) {
    this.stack.push(this.state, start, this.bufferBase + this.buffer.length);
    this.state = state;
  }
  // Apply a reduce action
  /**
  @internal
  */
  reduce(action) {
    var _a2;
    let depth = action >> 19, type = action & 65535;
    let { parser: parser6 } = this.p;
    let lookaheadRecord = this.reducePos < this.pos - 25;
    if (lookaheadRecord)
      this.setLookAhead(this.pos);
    let dPrec = parser6.dynamicPrecedence(type);
    if (dPrec)
      this.score += dPrec;
    if (depth == 0) {
      this.pushState(parser6.getGoto(this.state, type, true), this.reducePos);
      if (type < parser6.minRepeatTerm)
        this.storeNode(type, this.reducePos, this.reducePos, lookaheadRecord ? 8 : 4, true);
      this.reduceContext(type, this.reducePos);
      return;
    }
    let base2 = this.stack.length - (depth - 1) * 3 - (action & 262144 ? 6 : 0);
    let start = base2 ? this.stack[base2 - 2] : this.p.ranges[0].from, size = this.reducePos - start;
    if (size >= 2e3 && !((_a2 = this.p.parser.nodeSet.types[type]) === null || _a2 === void 0 ? void 0 : _a2.isAnonymous)) {
      if (start == this.p.lastBigReductionStart) {
        this.p.bigReductionCount++;
        this.p.lastBigReductionSize = size;
      } else if (this.p.lastBigReductionSize < size) {
        this.p.bigReductionCount = 1;
        this.p.lastBigReductionStart = start;
        this.p.lastBigReductionSize = size;
      }
    }
    let bufferBase = base2 ? this.stack[base2 - 1] : 0, count = this.bufferBase + this.buffer.length - bufferBase;
    if (type < parser6.minRepeatTerm || action & 131072) {
      let pos = parser6.stateFlag(
        this.state,
        1
        /* StateFlag.Skipped */
      ) ? this.pos : this.reducePos;
      this.storeNode(type, start, pos, count + 4, true);
    }
    if (action & 262144) {
      this.state = this.stack[base2];
    } else {
      let baseStateID = this.stack[base2 - 3];
      this.state = parser6.getGoto(baseStateID, type, true);
    }
    while (this.stack.length > base2)
      this.stack.pop();
    this.reduceContext(type, start);
  }
  // Shift a value into the buffer
  /**
  @internal
  */
  storeNode(term, start, end, size = 4, mustSink = false) {
    if (term == 0 && (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {
      let cur2 = this, top2 = this.buffer.length;
      if (top2 == 0 && cur2.parent) {
        top2 = cur2.bufferBase - cur2.parent.bufferBase;
        cur2 = cur2.parent;
      }
      if (top2 > 0 && cur2.buffer[top2 - 4] == 0 && cur2.buffer[top2 - 1] > -1) {
        if (start == end)
          return;
        if (cur2.buffer[top2 - 2] >= start) {
          cur2.buffer[top2 - 2] = end;
          return;
        }
      }
    }
    if (!mustSink || this.pos == end) {
      this.buffer.push(term, start, end, size);
    } else {
      let index = this.buffer.length;
      if (index > 0 && this.buffer[index - 4] != 0) {
        let mustMove = false;
        for (let scan = index; scan > 0 && this.buffer[scan - 2] > end; scan -= 4) {
          if (this.buffer[scan - 1] >= 0) {
            mustMove = true;
            break;
          }
        }
        if (mustMove)
          while (index > 0 && this.buffer[index - 2] > end) {
            this.buffer[index] = this.buffer[index - 4];
            this.buffer[index + 1] = this.buffer[index - 3];
            this.buffer[index + 2] = this.buffer[index - 2];
            this.buffer[index + 3] = this.buffer[index - 1];
            index -= 4;
            if (size > 4)
              size -= 4;
          }
      }
      this.buffer[index] = term;
      this.buffer[index + 1] = start;
      this.buffer[index + 2] = end;
      this.buffer[index + 3] = size;
    }
  }
  // Apply a shift action
  /**
  @internal
  */
  shift(action, type, start, end) {
    if (action & 131072) {
      this.pushState(action & 65535, this.pos);
    } else if ((action & 262144) == 0) {
      let nextState = action, { parser: parser6 } = this.p;
      if (end > this.pos || type <= parser6.maxNode) {
        this.pos = end;
        if (!parser6.stateFlag(
          nextState,
          1
          /* StateFlag.Skipped */
        ))
          this.reducePos = end;
      }
      this.pushState(nextState, start);
      this.shiftContext(type, start);
      if (type <= parser6.maxNode)
        this.buffer.push(type, start, end, 4);
    } else {
      this.pos = end;
      this.shiftContext(type, start);
      if (type <= this.p.parser.maxNode)
        this.buffer.push(type, start, end, 4);
    }
  }
  // Apply an action
  /**
  @internal
  */
  apply(action, next, nextStart, nextEnd) {
    if (action & 65536)
      this.reduce(action);
    else
      this.shift(action, next, nextStart, nextEnd);
  }
  // Add a prebuilt (reused) node into the buffer.
  /**
  @internal
  */
  useNode(value, next) {
    let index = this.p.reused.length - 1;
    if (index < 0 || this.p.reused[index] != value) {
      this.p.reused.push(value);
      index++;
    }
    let start = this.pos;
    this.reducePos = this.pos = start + value.length;
    this.pushState(next, start);
    this.buffer.push(
      index,
      start,
      this.reducePos,
      -1
      /* size == -1 means this is a reused value */
    );
    if (this.curContext)
      this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));
  }
  // Split the stack. Due to the buffer sharing and the fact
  // that `this.stack` tends to stay quite shallow, this isn't very
  // expensive.
  /**
  @internal
  */
  split() {
    let parent = this;
    let off = parent.buffer.length;
    while (off > 0 && parent.buffer[off - 2] > parent.reducePos)
      off -= 4;
    let buffer = parent.buffer.slice(off), base2 = parent.bufferBase + off;
    while (parent && base2 == parent.bufferBase)
      parent = parent.parent;
    return new _Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base2, this.curContext, this.lookAhead, parent);
  }
  // Try to recover from an error by 'deleting' (ignoring) one token.
  /**
  @internal
  */
  recoverByDelete(next, nextEnd) {
    let isNode = next <= this.p.parser.maxNode;
    if (isNode)
      this.storeNode(next, this.pos, nextEnd, 4);
    this.storeNode(0, this.pos, nextEnd, isNode ? 8 : 4);
    this.pos = this.reducePos = nextEnd;
    this.score -= 190;
  }
  /**
  Check if the given term would be able to be shifted (optionally
  after some reductions) on this stack. This can be useful for
  external tokenizers that want to make sure they only provide a
  given token when it applies.
  */
  canShift(term) {
    for (let sim = new SimulatedStack(this); ; ) {
      let action = this.p.parser.stateSlot(
        sim.state,
        4
        /* ParseState.DefaultReduce */
      ) || this.p.parser.hasAction(sim.state, term);
      if (action == 0)
        return false;
      if ((action & 65536) == 0)
        return true;
      sim.reduce(action);
    }
  }
  // Apply up to Recover.MaxNext recovery actions that conceptually
  // inserts some missing token or rule.
  /**
  @internal
  */
  recoverByInsert(next) {
    if (this.stack.length >= 300)
      return [];
    let nextStates = this.p.parser.nextStates(this.state);
    if (nextStates.length > 4 << 1 || this.stack.length >= 120) {
      let best = [];
      for (let i = 0, s; i < nextStates.length; i += 2) {
        if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))
          best.push(nextStates[i], s);
      }
      if (this.stack.length < 120)
        for (let i = 0; best.length < 4 << 1 && i < nextStates.length; i += 2) {
          let s = nextStates[i + 1];
          if (!best.some((v, i2) => i2 & 1 && v == s))
            best.push(nextStates[i], s);
        }
      nextStates = best;
    }
    let result = [];
    for (let i = 0; i < nextStates.length && result.length < 4; i += 2) {
      let s = nextStates[i + 1];
      if (s == this.state)
        continue;
      let stack = this.split();
      stack.pushState(s, this.pos);
      stack.storeNode(0, stack.pos, stack.pos, 4, true);
      stack.shiftContext(nextStates[i], this.pos);
      stack.reducePos = this.pos;
      stack.score -= 200;
      result.push(stack);
    }
    return result;
  }
  // Force a reduce, if possible. Return false if that can't
  // be done.
  /**
  @internal
  */
  forceReduce() {
    let { parser: parser6 } = this.p;
    let reduce = parser6.stateSlot(
      this.state,
      5
      /* ParseState.ForcedReduce */
    );
    if ((reduce & 65536) == 0)
      return false;
    if (!parser6.validAction(this.state, reduce)) {
      let depth = reduce >> 19, term = reduce & 65535;
      let target = this.stack.length - depth * 3;
      if (target < 0 || parser6.getGoto(this.stack[target], term, false) < 0) {
        let backup = this.findForcedReduction();
        if (backup == null)
          return false;
        reduce = backup;
      }
      this.storeNode(0, this.pos, this.pos, 4, true);
      this.score -= 100;
    }
    this.reducePos = this.pos;
    this.reduce(reduce);
    return true;
  }
  /**
  Try to scan through the automaton to find some kind of reduction
  that can be applied. Used when the regular ForcedReduce field
  isn't a valid action. @internal
  */
  findForcedReduction() {
    let { parser: parser6 } = this.p, seen = [];
    let explore = (state, depth) => {
      if (seen.includes(state))
        return;
      seen.push(state);
      return parser6.allActions(state, (action) => {
        if (action & (262144 | 131072)) ;
        else if (action & 65536) {
          let rDepth = (action >> 19) - depth;
          if (rDepth > 1) {
            let term = action & 65535, target = this.stack.length - rDepth * 3;
            if (target >= 0 && parser6.getGoto(this.stack[target], term, false) >= 0)
              return rDepth << 19 | 65536 | term;
          }
        } else {
          let found = explore(action, depth + 1);
          if (found != null)
            return found;
        }
      });
    };
    return explore(this.state, 0);
  }
  /**
  @internal
  */
  forceAll() {
    while (!this.p.parser.stateFlag(
      this.state,
      2
      /* StateFlag.Accepting */
    )) {
      if (!this.forceReduce()) {
        this.storeNode(0, this.pos, this.pos, 4, true);
        break;
      }
    }
    return this;
  }
  /**
  Check whether this state has no further actions (assumed to be a direct descendant of the
  top state, since any other states must be able to continue
  somehow). @internal
  */
  get deadEnd() {
    if (this.stack.length != 3)
      return false;
    let { parser: parser6 } = this.p;
    return parser6.data[parser6.stateSlot(
      this.state,
      1
      /* ParseState.Actions */
    )] == 65535 && !parser6.stateSlot(
      this.state,
      4
      /* ParseState.DefaultReduce */
    );
  }
  /**
  Restart the stack (put it back in its start state). Only safe
  when this.stack.length == 3 (state is directly below the top
  state). @internal
  */
  restart() {
    this.storeNode(0, this.pos, this.pos, 4, true);
    this.state = this.stack[0];
    this.stack.length = 0;
  }
  /**
  @internal
  */
  sameState(other) {
    if (this.state != other.state || this.stack.length != other.stack.length)
      return false;
    for (let i = 0; i < this.stack.length; i += 3)
      if (this.stack[i] != other.stack[i])
        return false;
    return true;
  }
  /**
  Get the parser used by this stack.
  */
  get parser() {
    return this.p.parser;
  }
  /**
  Test whether a given dialect (by numeric ID, as exported from
  the terms file) is enabled.
  */
  dialectEnabled(dialectID) {
    return this.p.parser.dialect.flags[dialectID];
  }
  shiftContext(term, start) {
    if (this.curContext)
      this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));
  }
  reduceContext(term, start) {
    if (this.curContext)
      this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));
  }
  /**
  @internal
  */
  emitContext() {
    let last = this.buffer.length - 1;
    if (last < 0 || this.buffer[last] != -3)
      this.buffer.push(this.curContext.hash, this.pos, this.pos, -3);
  }
  /**
  @internal
  */
  emitLookAhead() {
    let last = this.buffer.length - 1;
    if (last < 0 || this.buffer[last] != -4)
      this.buffer.push(this.lookAhead, this.pos, this.pos, -4);
  }
  updateContext(context) {
    if (context != this.curContext.context) {
      let newCx = new StackContext(this.curContext.tracker, context);
      if (newCx.hash != this.curContext.hash)
        this.emitContext();
      this.curContext = newCx;
    }
  }
  /**
  @internal
  */
  setLookAhead(lookAhead) {
    if (lookAhead > this.lookAhead) {
      this.emitLookAhead();
      this.lookAhead = lookAhead;
    }
  }
  /**
  @internal
  */
  close() {
    if (this.curContext && this.curContext.tracker.strict)
      this.emitContext();
    if (this.lookAhead > 0)
      this.emitLookAhead();
  }
};
var StackContext = class {
  constructor(tracker, context) {
    this.tracker = tracker;
    this.context = context;
    this.hash = tracker.strict ? tracker.hash(context) : 0;
  }
};
var SimulatedStack = class {
  constructor(start) {
    this.start = start;
    this.state = start.state;
    this.stack = start.stack;
    this.base = this.stack.length;
  }
  reduce(action) {
    let term = action & 65535, depth = action >> 19;
    if (depth == 0) {
      if (this.stack == this.start.stack)
        this.stack = this.stack.slice();
      this.stack.push(this.state, 0, 0);
      this.base += 3;
    } else {
      this.base -= (depth - 1) * 3;
    }
    let goto2 = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);
    this.state = goto2;
  }
};
var StackBufferCursor = class _StackBufferCursor {
  constructor(stack, pos, index) {
    this.stack = stack;
    this.pos = pos;
    this.index = index;
    this.buffer = stack.buffer;
    if (this.index == 0)
      this.maybeNext();
  }
  static create(stack, pos = stack.bufferBase + stack.buffer.length) {
    return new _StackBufferCursor(stack, pos, pos - stack.bufferBase);
  }
  maybeNext() {
    let next = this.stack.parent;
    if (next != null) {
      this.index = this.stack.bufferBase - next.bufferBase;
      this.stack = next;
      this.buffer = next.buffer;
    }
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  next() {
    this.index -= 4;
    this.pos -= 4;
    if (this.index == 0)
      this.maybeNext();
  }
  fork() {
    return new _StackBufferCursor(this.stack, this.pos, this.index);
  }
};
function decodeArray(input, Type = Uint16Array) {
  if (typeof input != "string")
    return input;
  let array2 = null;
  for (let pos = 0, out = 0; pos < input.length; ) {
    let value = 0;
    for (; ; ) {
      let next = input.charCodeAt(pos++), stop = false;
      if (next == 126) {
        value = 65535;
        break;
      }
      if (next >= 92)
        next--;
      if (next >= 34)
        next--;
      let digit = next - 32;
      if (digit >= 46) {
        digit -= 46;
        stop = true;
      }
      value += digit;
      if (stop)
        break;
      value *= 46;
    }
    if (array2)
      array2[out++] = value;
    else
      array2 = new Type(value);
  }
  return array2;
}
var CachedToken = class {
  constructor() {
    this.start = -1;
    this.value = -1;
    this.end = -1;
    this.extended = -1;
    this.lookAhead = 0;
    this.mask = 0;
    this.context = 0;
  }
};
var nullToken = new CachedToken();
var InputStream = class {
  /**
  @internal
  */
  constructor(input, ranges) {
    this.input = input;
    this.ranges = ranges;
    this.chunk = "";
    this.chunkOff = 0;
    this.chunk2 = "";
    this.chunk2Pos = 0;
    this.next = -1;
    this.token = nullToken;
    this.rangeIndex = 0;
    this.pos = this.chunkPos = ranges[0].from;
    this.range = ranges[0];
    this.end = ranges[ranges.length - 1].to;
    this.readNext();
  }
  /**
  @internal
  */
  resolveOffset(offset, assoc) {
    let range = this.range, index = this.rangeIndex;
    let pos = this.pos + offset;
    while (pos < range.from) {
      if (!index)
        return null;
      let next = this.ranges[--index];
      pos -= range.from - next.to;
      range = next;
    }
    while (assoc < 0 ? pos > range.to : pos >= range.to) {
      if (index == this.ranges.length - 1)
        return null;
      let next = this.ranges[++index];
      pos += next.from - range.to;
      range = next;
    }
    return pos;
  }
  /**
  @internal
  */
  clipPos(pos) {
    if (pos >= this.range.from && pos < this.range.to)
      return pos;
    for (let range of this.ranges)
      if (range.to > pos)
        return Math.max(pos, range.from);
    return this.end;
  }
  /**
  Look at a code unit near the stream position. `.peek(0)` equals
  `.next`, `.peek(-1)` gives you the previous character, and so
  on.
  
  Note that looking around during tokenizing creates dependencies
  on potentially far-away content, which may reduce the
  effectiveness incremental parsing—when looking forward—or even
  cause invalid reparses when looking backward more than 25 code
  units, since the library does not track lookbehind.
  */
  peek(offset) {
    let idx = this.chunkOff + offset, pos, result;
    if (idx >= 0 && idx < this.chunk.length) {
      pos = this.pos + offset;
      result = this.chunk.charCodeAt(idx);
    } else {
      let resolved = this.resolveOffset(offset, 1);
      if (resolved == null)
        return -1;
      pos = resolved;
      if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {
        result = this.chunk2.charCodeAt(pos - this.chunk2Pos);
      } else {
        let i = this.rangeIndex, range = this.range;
        while (range.to <= pos)
          range = this.ranges[++i];
        this.chunk2 = this.input.chunk(this.chunk2Pos = pos);
        if (pos + this.chunk2.length > range.to)
          this.chunk2 = this.chunk2.slice(0, range.to - pos);
        result = this.chunk2.charCodeAt(0);
      }
    }
    if (pos >= this.token.lookAhead)
      this.token.lookAhead = pos + 1;
    return result;
  }
  /**
  Accept a token. By default, the end of the token is set to the
  current stream position, but you can pass an offset (relative to
  the stream position) to change that.
  */
  acceptToken(token, endOffset = 0) {
    let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;
    if (end == null || end < this.token.start)
      throw new RangeError("Token end out of bounds");
    this.token.value = token;
    this.token.end = end;
  }
  /**
  Accept a token ending at a specific given position.
  */
  acceptTokenTo(token, endPos) {
    this.token.value = token;
    this.token.end = endPos;
  }
  getChunk() {
    if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {
      let { chunk, chunkPos } = this;
      this.chunk = this.chunk2;
      this.chunkPos = this.chunk2Pos;
      this.chunk2 = chunk;
      this.chunk2Pos = chunkPos;
      this.chunkOff = this.pos - this.chunkPos;
    } else {
      this.chunk2 = this.chunk;
      this.chunk2Pos = this.chunkPos;
      let nextChunk = this.input.chunk(this.pos);
      let end = this.pos + nextChunk.length;
      this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;
      this.chunkPos = this.pos;
      this.chunkOff = 0;
    }
  }
  readNext() {
    if (this.chunkOff >= this.chunk.length) {
      this.getChunk();
      if (this.chunkOff == this.chunk.length)
        return this.next = -1;
    }
    return this.next = this.chunk.charCodeAt(this.chunkOff);
  }
  /**
  Move the stream forward N (defaults to 1) code units. Returns
  the new value of [`next`](#lr.InputStream.next).
  */
  advance(n = 1) {
    this.chunkOff += n;
    while (this.pos + n >= this.range.to) {
      if (this.rangeIndex == this.ranges.length - 1)
        return this.setDone();
      n -= this.range.to - this.pos;
      this.range = this.ranges[++this.rangeIndex];
      this.pos = this.range.from;
    }
    this.pos += n;
    if (this.pos >= this.token.lookAhead)
      this.token.lookAhead = this.pos + 1;
    return this.readNext();
  }
  setDone() {
    this.pos = this.chunkPos = this.end;
    this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];
    this.chunk = "";
    return this.next = -1;
  }
  /**
  @internal
  */
  reset(pos, token) {
    if (token) {
      this.token = token;
      token.start = pos;
      token.lookAhead = pos + 1;
      token.value = token.extended = -1;
    } else {
      this.token = nullToken;
    }
    if (this.pos != pos) {
      this.pos = pos;
      if (pos == this.end) {
        this.setDone();
        return this;
      }
      while (pos < this.range.from)
        this.range = this.ranges[--this.rangeIndex];
      while (pos >= this.range.to)
        this.range = this.ranges[++this.rangeIndex];
      if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {
        this.chunkOff = pos - this.chunkPos;
      } else {
        this.chunk = "";
        this.chunkOff = 0;
      }
      this.readNext();
    }
    return this;
  }
  /**
  @internal
  */
  read(from2, to) {
    if (from2 >= this.chunkPos && to <= this.chunkPos + this.chunk.length)
      return this.chunk.slice(from2 - this.chunkPos, to - this.chunkPos);
    if (from2 >= this.chunk2Pos && to <= this.chunk2Pos + this.chunk2.length)
      return this.chunk2.slice(from2 - this.chunk2Pos, to - this.chunk2Pos);
    if (from2 >= this.range.from && to <= this.range.to)
      return this.input.read(from2, to);
    let result = "";
    for (let r of this.ranges) {
      if (r.from >= to)
        break;
      if (r.to > from2)
        result += this.input.read(Math.max(r.from, from2), Math.min(r.to, to));
    }
    return result;
  }
};
var TokenGroup = class {
  constructor(data, id2) {
    this.data = data;
    this.id = id2;
  }
  token(input, stack) {
    let { parser: parser6 } = stack.p;
    readToken(this.data, input, stack, this.id, parser6.data, parser6.tokenPrecTable);
  }
};
TokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;
var LocalTokenGroup = class {
  constructor(data, precTable, elseToken) {
    this.precTable = precTable;
    this.elseToken = elseToken;
    this.data = typeof data == "string" ? decodeArray(data) : data;
  }
  token(input, stack) {
    let start = input.pos, skipped = 0;
    for (; ; ) {
      let atEof = input.next < 0, nextPos = input.resolveOffset(1, 1);
      readToken(this.data, input, stack, 0, this.data, this.precTable);
      if (input.token.value > -1)
        break;
      if (this.elseToken == null)
        return;
      if (!atEof)
        skipped++;
      if (nextPos == null)
        break;
      input.reset(nextPos, input.token);
    }
    if (skipped) {
      input.reset(start, input.token);
      input.acceptToken(this.elseToken, skipped);
    }
  }
};
LocalTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;
var ExternalTokenizer = class {
  /**
  Create a tokenizer. The first argument is the function that,
  given an input stream, scans for the types of tokens it
  recognizes at the stream's position, and calls
  [`acceptToken`](#lr.InputStream.acceptToken) when it finds
  one.
  */
  constructor(token, options = {}) {
    this.token = token;
    this.contextual = !!options.contextual;
    this.fallback = !!options.fallback;
    this.extend = !!options.extend;
  }
};
function readToken(data, input, stack, group, precTable, precOffset) {
  let state = 0, groupMask = 1 << group, { dialect } = stack.p.parser;
  scan: for (; ; ) {
    if ((groupMask & data[state]) == 0)
      break;
    let accEnd = data[state + 1];
    for (let i = state + 3; i < accEnd; i += 2)
      if ((data[i + 1] & groupMask) > 0) {
        let term = data[i];
        if (dialect.allows(term) && (input.token.value == -1 || input.token.value == term || overrides(term, input.token.value, precTable, precOffset))) {
          input.acceptToken(term);
          break;
        }
      }
    let next = input.next, low = 0, high = data[state + 2];
    if (input.next < 0 && high > low && data[accEnd + high * 3 - 3] == 65535) {
      state = data[accEnd + high * 3 - 1];
      continue scan;
    }
    for (; low < high; ) {
      let mid = low + high >> 1;
      let index = accEnd + mid + (mid << 1);
      let from2 = data[index], to = data[index + 1] || 65536;
      if (next < from2)
        high = mid;
      else if (next >= to)
        low = mid + 1;
      else {
        state = data[index + 2];
        input.advance();
        continue scan;
      }
    }
    break;
  }
}
function findOffset(data, start, term) {
  for (let i = start, next; (next = data[i]) != 65535; i++)
    if (next == term)
      return i - start;
  return -1;
}
function overrides(token, prev, tableData, tableOffset) {
  let iPrev = findOffset(tableData, tableOffset, prev);
  return iPrev < 0 || findOffset(tableData, tableOffset, token) < iPrev;
}
var verbose = typeof process != "undefined" && process.env && /\bparse\b/.test(process.env.LOG);
var stackIDs = null;
function cutAt(tree, pos, side) {
  let cursor2 = tree.cursor(IterMode.IncludeAnonymous);
  cursor2.moveTo(pos);
  for (; ; ) {
    if (!(side < 0 ? cursor2.childBefore(pos) : cursor2.childAfter(pos)))
      for (; ; ) {
        if ((side < 0 ? cursor2.to < pos : cursor2.from > pos) && !cursor2.type.isError)
          return side < 0 ? Math.max(0, Math.min(
            cursor2.to - 1,
            pos - 25
            /* Lookahead.Margin */
          )) : Math.min(tree.length, Math.max(
            cursor2.from + 1,
            pos + 25
            /* Lookahead.Margin */
          ));
        if (side < 0 ? cursor2.prevSibling() : cursor2.nextSibling())
          break;
        if (!cursor2.parent())
          return side < 0 ? 0 : tree.length;
      }
  }
}
var FragmentCursor2 = class {
  constructor(fragments, nodeSet) {
    this.fragments = fragments;
    this.nodeSet = nodeSet;
    this.i = 0;
    this.fragment = null;
    this.safeFrom = -1;
    this.safeTo = -1;
    this.trees = [];
    this.start = [];
    this.index = [];
    this.nextFragment();
  }
  nextFragment() {
    let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];
    if (fr) {
      this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;
      this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;
      while (this.trees.length) {
        this.trees.pop();
        this.start.pop();
        this.index.pop();
      }
      this.trees.push(fr.tree);
      this.start.push(-fr.offset);
      this.index.push(0);
      this.nextStart = this.safeFrom;
    } else {
      this.nextStart = 1e9;
    }
  }
  // `pos` must be >= any previously given `pos` for this cursor
  nodeAt(pos) {
    if (pos < this.nextStart)
      return null;
    while (this.fragment && this.safeTo <= pos)
      this.nextFragment();
    if (!this.fragment)
      return null;
    for (; ; ) {
      let last = this.trees.length - 1;
      if (last < 0) {
        this.nextFragment();
        return null;
      }
      let top2 = this.trees[last], index = this.index[last];
      if (index == top2.children.length) {
        this.trees.pop();
        this.start.pop();
        this.index.pop();
        continue;
      }
      let next = top2.children[index];
      let start = this.start[last] + top2.positions[index];
      if (start > pos) {
        this.nextStart = start;
        return null;
      }
      if (next instanceof Tree) {
        if (start == pos) {
          if (start < this.safeFrom)
            return null;
          let end = start + next.length;
          if (end <= this.safeTo) {
            let lookAhead = next.prop(NodeProp.lookAhead);
            if (!lookAhead || end + lookAhead < this.fragment.to)
              return next;
          }
        }
        this.index[last]++;
        if (start + next.length >= Math.max(this.safeFrom, pos)) {
          this.trees.push(next);
          this.start.push(start);
          this.index.push(0);
        }
      } else {
        this.index[last]++;
        this.nextStart = start + next.length;
      }
    }
  }
};
var TokenCache = class {
  constructor(parser6, stream) {
    this.stream = stream;
    this.tokens = [];
    this.mainToken = null;
    this.actions = [];
    this.tokens = parser6.tokenizers.map((_) => new CachedToken());
  }
  getActions(stack) {
    let actionIndex = 0;
    let main = null;
    let { parser: parser6 } = stack.p, { tokenizers } = parser6;
    let mask = parser6.stateSlot(
      stack.state,
      3
      /* ParseState.TokenizerMask */
    );
    let context = stack.curContext ? stack.curContext.hash : 0;
    let lookAhead = 0;
    for (let i = 0; i < tokenizers.length; i++) {
      if ((1 << i & mask) == 0)
        continue;
      let tokenizer = tokenizers[i], token = this.tokens[i];
      if (main && !tokenizer.fallback)
        continue;
      if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {
        this.updateCachedToken(token, tokenizer, stack);
        token.mask = mask;
        token.context = context;
      }
      if (token.lookAhead > token.end + 25)
        lookAhead = Math.max(token.lookAhead, lookAhead);
      if (token.value != 0) {
        let startIndex = actionIndex;
        if (token.extended > -1)
          actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);
        actionIndex = this.addActions(stack, token.value, token.end, actionIndex);
        if (!tokenizer.extend) {
          main = token;
          if (actionIndex > startIndex)
            break;
        }
      }
    }
    while (this.actions.length > actionIndex)
      this.actions.pop();
    if (lookAhead)
      stack.setLookAhead(lookAhead);
    if (!main && stack.pos == this.stream.end) {
      main = new CachedToken();
      main.value = stack.p.parser.eofTerm;
      main.start = main.end = stack.pos;
      actionIndex = this.addActions(stack, main.value, main.end, actionIndex);
    }
    this.mainToken = main;
    return this.actions;
  }
  getMainToken(stack) {
    if (this.mainToken)
      return this.mainToken;
    let main = new CachedToken(), { pos, p } = stack;
    main.start = pos;
    main.end = Math.min(pos + 1, p.stream.end);
    main.value = pos == p.stream.end ? p.parser.eofTerm : 0;
    return main;
  }
  updateCachedToken(token, tokenizer, stack) {
    let start = this.stream.clipPos(stack.pos);
    tokenizer.token(this.stream.reset(start, token), stack);
    if (token.value > -1) {
      let { parser: parser6 } = stack.p;
      for (let i = 0; i < parser6.specialized.length; i++)
        if (parser6.specialized[i] == token.value) {
          let result = parser6.specializers[i](this.stream.read(token.start, token.end), stack);
          if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {
            if ((result & 1) == 0)
              token.value = result >> 1;
            else
              token.extended = result >> 1;
            break;
          }
        }
    } else {
      token.value = 0;
      token.end = this.stream.clipPos(start + 1);
    }
  }
  putAction(action, token, end, index) {
    for (let i = 0; i < index; i += 3)
      if (this.actions[i] == action)
        return index;
    this.actions[index++] = action;
    this.actions[index++] = token;
    this.actions[index++] = end;
    return index;
  }
  addActions(stack, token, end, index) {
    let { state } = stack, { parser: parser6 } = stack.p, { data } = parser6;
    for (let set = 0; set < 2; set++) {
      for (let i = parser6.stateSlot(
        state,
        set ? 2 : 1
        /* ParseState.Actions */
      ); ; i += 3) {
        if (data[i] == 65535) {
          if (data[i + 1] == 1) {
            i = pair(data, i + 2);
          } else {
            if (index == 0 && data[i + 1] == 2)
              index = this.putAction(pair(data, i + 2), token, end, index);
            break;
          }
        }
        if (data[i] == token)
          index = this.putAction(pair(data, i + 1), token, end, index);
      }
    }
    return index;
  }
};
var Parse = class {
  constructor(parser6, input, fragments, ranges) {
    this.parser = parser6;
    this.input = input;
    this.ranges = ranges;
    this.recovering = 0;
    this.nextStackID = 9812;
    this.minStackPos = 0;
    this.reused = [];
    this.stoppedAt = null;
    this.lastBigReductionStart = -1;
    this.lastBigReductionSize = 0;
    this.bigReductionCount = 0;
    this.stream = new InputStream(input, ranges);
    this.tokens = new TokenCache(parser6, this.stream);
    this.topTerm = parser6.top[1];
    let { from: from2 } = ranges[0];
    this.stacks = [Stack.start(this, parser6.top[0], from2)];
    this.fragments = fragments.length && this.stream.end - from2 > parser6.bufferLength * 4 ? new FragmentCursor2(fragments, parser6.nodeSet) : null;
  }
  get parsedPos() {
    return this.minStackPos;
  }
  // Move the parser forward. This will process all parse stacks at
  // `this.pos` and try to advance them to a further position. If no
  // stack for such a position is found, it'll start error-recovery.
  //
  // When the parse is finished, this will return a syntax tree. When
  // not, it returns `null`.
  advance() {
    let stacks = this.stacks, pos = this.minStackPos;
    let newStacks = this.stacks = [];
    let stopped, stoppedTokens;
    if (this.bigReductionCount > 300 && stacks.length == 1) {
      let [s] = stacks;
      while (s.forceReduce() && s.stack.length && s.stack[s.stack.length - 2] >= this.lastBigReductionStart) {
      }
      this.bigReductionCount = this.lastBigReductionSize = 0;
    }
    for (let i = 0; i < stacks.length; i++) {
      let stack = stacks[i];
      for (; ; ) {
        this.tokens.mainToken = null;
        if (stack.pos > pos) {
          newStacks.push(stack);
        } else if (this.advanceStack(stack, newStacks, stacks)) {
          continue;
        } else {
          if (!stopped) {
            stopped = [];
            stoppedTokens = [];
          }
          stopped.push(stack);
          let tok = this.tokens.getMainToken(stack);
          stoppedTokens.push(tok.value, tok.end);
        }
        break;
      }
    }
    if (!newStacks.length) {
      let finished = stopped && findFinished(stopped);
      if (finished) {
        if (verbose)
          console.log("Finish with " + this.stackID(finished));
        return this.stackToTree(finished);
      }
      if (this.parser.strict) {
        if (verbose && stopped)
          console.log("Stuck with token " + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : "none"));
        throw new SyntaxError("No parse at " + pos);
      }
      if (!this.recovering)
        this.recovering = 5;
    }
    if (this.recovering && stopped) {
      let finished = this.stoppedAt != null && stopped[0].pos > this.stoppedAt ? stopped[0] : this.runRecovery(stopped, stoppedTokens, newStacks);
      if (finished) {
        if (verbose)
          console.log("Force-finish " + this.stackID(finished));
        return this.stackToTree(finished.forceAll());
      }
    }
    if (this.recovering) {
      let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3;
      if (newStacks.length > maxRemaining) {
        newStacks.sort((a, b) => b.score - a.score);
        while (newStacks.length > maxRemaining)
          newStacks.pop();
      }
      if (newStacks.some((s) => s.reducePos > pos))
        this.recovering--;
    } else if (newStacks.length > 1) {
      outer: for (let i = 0; i < newStacks.length - 1; i++) {
        let stack = newStacks[i];
        for (let j = i + 1; j < newStacks.length; j++) {
          let other = newStacks[j];
          if (stack.sameState(other) || stack.buffer.length > 500 && other.buffer.length > 500) {
            if ((stack.score - other.score || stack.buffer.length - other.buffer.length) > 0) {
              newStacks.splice(j--, 1);
            } else {
              newStacks.splice(i--, 1);
              continue outer;
            }
          }
        }
      }
      if (newStacks.length > 12)
        newStacks.splice(
          12,
          newStacks.length - 12
          /* Rec.MaxStackCount */
        );
    }
    this.minStackPos = newStacks[0].pos;
    for (let i = 1; i < newStacks.length; i++)
      if (newStacks[i].pos < this.minStackPos)
        this.minStackPos = newStacks[i].pos;
    return null;
  }
  stopAt(pos) {
    if (this.stoppedAt != null && this.stoppedAt < pos)
      throw new RangeError("Can't move stoppedAt forward");
    this.stoppedAt = pos;
  }
  // Returns an updated version of the given stack, or null if the
  // stack can't advance normally. When `split` and `stacks` are
  // given, stacks split off by ambiguous operations will be pushed to
  // `split`, or added to `stacks` if they move `pos` forward.
  advanceStack(stack, stacks, split) {
    let start = stack.pos, { parser: parser6 } = this;
    let base2 = verbose ? this.stackID(stack) + " -> " : "";
    if (this.stoppedAt != null && start > this.stoppedAt)
      return stack.forceReduce() ? stack : null;
    if (this.fragments) {
      let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;
      for (let cached = this.fragments.nodeAt(start); cached; ) {
        let match2 = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser6.getGoto(stack.state, cached.type.id) : -1;
        if (match2 > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {
          stack.useNode(cached, match2);
          if (verbose)
            console.log(base2 + this.stackID(stack) + ` (via reuse of ${parser6.getName(cached.type.id)})`);
          return true;
        }
        if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)
          break;
        let inner = cached.children[0];
        if (inner instanceof Tree && cached.positions[0] == 0)
          cached = inner;
        else
          break;
      }
    }
    let defaultReduce = parser6.stateSlot(
      stack.state,
      4
      /* ParseState.DefaultReduce */
    );
    if (defaultReduce > 0) {
      stack.reduce(defaultReduce);
      if (verbose)
        console.log(base2 + this.stackID(stack) + ` (via always-reduce ${parser6.getName(
          defaultReduce & 65535
          /* Action.ValueMask */
        )})`);
      return true;
    }
    if (stack.stack.length >= 8400) {
      while (stack.stack.length > 6e3 && stack.forceReduce()) {
      }
    }
    let actions = this.tokens.getActions(stack);
    for (let i = 0; i < actions.length; ) {
      let action = actions[i++], term = actions[i++], end = actions[i++];
      let last = i == actions.length || !split;
      let localStack = last ? stack : stack.split();
      let main = this.tokens.mainToken;
      localStack.apply(action, term, main ? main.start : localStack.pos, end);
      if (verbose)
        console.log(base2 + this.stackID(localStack) + ` (via ${(action & 65536) == 0 ? "shift" : `reduce of ${parser6.getName(
          action & 65535
          /* Action.ValueMask */
        )}`} for ${parser6.getName(term)} @ ${start}${localStack == stack ? "" : ", split"})`);
      if (last)
        return true;
      else if (localStack.pos > start)
        stacks.push(localStack);
      else
        split.push(localStack);
    }
    return false;
  }
  // Advance a given stack forward as far as it will go. Returns the
  // (possibly updated) stack if it got stuck, or null if it moved
  // forward and was given to `pushStackDedup`.
  advanceFully(stack, newStacks) {
    let pos = stack.pos;
    for (; ; ) {
      if (!this.advanceStack(stack, null, null))
        return false;
      if (stack.pos > pos) {
        pushStackDedup(stack, newStacks);
        return true;
      }
    }
  }
  runRecovery(stacks, tokens, newStacks) {
    let finished = null, restarted = false;
    for (let i = 0; i < stacks.length; i++) {
      let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];
      let base2 = verbose ? this.stackID(stack) + " -> " : "";
      if (stack.deadEnd) {
        if (restarted)
          continue;
        restarted = true;
        stack.restart();
        if (verbose)
          console.log(base2 + this.stackID(stack) + " (restarted)");
        let done = this.advanceFully(stack, newStacks);
        if (done)
          continue;
      }
      let force = stack.split(), forceBase = base2;
      for (let j = 0; force.forceReduce() && j < 10; j++) {
        if (verbose)
          console.log(forceBase + this.stackID(force) + " (via force-reduce)");
        let done = this.advanceFully(force, newStacks);
        if (done)
          break;
        if (verbose)
          forceBase = this.stackID(force) + " -> ";
      }
      for (let insert2 of stack.recoverByInsert(token)) {
        if (verbose)
          console.log(base2 + this.stackID(insert2) + " (via recover-insert)");
        this.advanceFully(insert2, newStacks);
      }
      if (this.stream.end > stack.pos) {
        if (tokenEnd == stack.pos) {
          tokenEnd++;
          token = 0;
        }
        stack.recoverByDelete(token, tokenEnd);
        if (verbose)
          console.log(base2 + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);
        pushStackDedup(stack, newStacks);
      } else if (!finished || finished.score < stack.score) {
        finished = stack;
      }
    }
    return finished;
  }
  // Convert the stack's buffer to a syntax tree.
  stackToTree(stack) {
    stack.close();
    return Tree.build({
      buffer: StackBufferCursor.create(stack),
      nodeSet: this.parser.nodeSet,
      topID: this.topTerm,
      maxBufferLength: this.parser.bufferLength,
      reused: this.reused,
      start: this.ranges[0].from,
      length: stack.pos - this.ranges[0].from,
      minRepeatType: this.parser.minRepeatTerm
    });
  }
  stackID(stack) {
    let id2 = (stackIDs || (stackIDs = /* @__PURE__ */ new WeakMap())).get(stack);
    if (!id2)
      stackIDs.set(stack, id2 = String.fromCodePoint(this.nextStackID++));
    return id2 + stack;
  }
};
function pushStackDedup(stack, newStacks) {
  for (let i = 0; i < newStacks.length; i++) {
    let other = newStacks[i];
    if (other.pos == stack.pos && other.sameState(stack)) {
      if (newStacks[i].score < stack.score)
        newStacks[i] = stack;
      return;
    }
  }
  newStacks.push(stack);
}
var Dialect = class {
  constructor(source, flags, disabled) {
    this.source = source;
    this.flags = flags;
    this.disabled = disabled;
  }
  allows(term) {
    return !this.disabled || this.disabled[term] == 0;
  }
};
var id = (x) => x;
var ContextTracker = class {
  /**
  Define a context tracker.
  */
  constructor(spec) {
    this.start = spec.start;
    this.shift = spec.shift || id;
    this.reduce = spec.reduce || id;
    this.reuse = spec.reuse || id;
    this.hash = spec.hash || (() => 0);
    this.strict = spec.strict !== false;
  }
};
var LRParser = class _LRParser extends Parser {
  /**
  @internal
  */
  constructor(spec) {
    super();
    this.wrappers = [];
    if (spec.version != 14)
      throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14})`);
    let nodeNames = spec.nodeNames.split(" ");
    this.minRepeatTerm = nodeNames.length;
    for (let i = 0; i < spec.repeatNodeCount; i++)
      nodeNames.push("");
    let topTerms = Object.keys(spec.topRules).map((r) => spec.topRules[r][1]);
    let nodeProps = [];
    for (let i = 0; i < nodeNames.length; i++)
      nodeProps.push([]);
    function setProp(nodeID, prop, value) {
      nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);
    }
    if (spec.nodeProps)
      for (let propSpec of spec.nodeProps) {
        let prop = propSpec[0];
        if (typeof prop == "string")
          prop = NodeProp[prop];
        for (let i = 1; i < propSpec.length; ) {
          let next = propSpec[i++];
          if (next >= 0) {
            setProp(next, prop, propSpec[i++]);
          } else {
            let value = propSpec[i + -next];
            for (let j = -next; j > 0; j--)
              setProp(propSpec[i++], prop, value);
            i++;
          }
        }
      }
    this.nodeSet = new NodeSet(nodeNames.map((name2, i) => NodeType.define({
      name: i >= this.minRepeatTerm ? void 0 : name2,
      id: i,
      props: nodeProps[i],
      top: topTerms.indexOf(i) > -1,
      error: i == 0,
      skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1
    })));
    if (spec.propSources)
      this.nodeSet = this.nodeSet.extend(...spec.propSources);
    this.strict = false;
    this.bufferLength = DefaultBufferLength;
    let tokenArray = decodeArray(spec.tokenData);
    this.context = spec.context;
    this.specializerSpecs = spec.specialized || [];
    this.specialized = new Uint16Array(this.specializerSpecs.length);
    for (let i = 0; i < this.specializerSpecs.length; i++)
      this.specialized[i] = this.specializerSpecs[i].term;
    this.specializers = this.specializerSpecs.map(getSpecializer);
    this.states = decodeArray(spec.states, Uint32Array);
    this.data = decodeArray(spec.stateData);
    this.goto = decodeArray(spec.goto);
    this.maxTerm = spec.maxTerm;
    this.tokenizers = spec.tokenizers.map((value) => typeof value == "number" ? new TokenGroup(tokenArray, value) : value);
    this.topRules = spec.topRules;
    this.dialects = spec.dialects || {};
    this.dynamicPrecedences = spec.dynamicPrecedences || null;
    this.tokenPrecTable = spec.tokenPrec;
    this.termNames = spec.termNames || null;
    this.maxNode = this.nodeSet.types.length - 1;
    this.dialect = this.parseDialect();
    this.top = this.topRules[Object.keys(this.topRules)[0]];
  }
  createParse(input, fragments, ranges) {
    let parse = new Parse(this, input, fragments, ranges);
    for (let w of this.wrappers)
      parse = w(parse, input, fragments, ranges);
    return parse;
  }
  /**
  Get a goto table entry @internal
  */
  getGoto(state, term, loose = false) {
    let table = this.goto;
    if (term >= table[0])
      return -1;
    for (let pos = table[term + 1]; ; ) {
      let groupTag = table[pos++], last = groupTag & 1;
      let target = table[pos++];
      if (last && loose)
        return target;
      for (let end = pos + (groupTag >> 1); pos < end; pos++)
        if (table[pos] == state)
          return target;
      if (last)
        return -1;
    }
  }
  /**
  Check if this state has an action for a given terminal @internal
  */
  hasAction(state, terminal) {
    let data = this.data;
    for (let set = 0; set < 2; set++) {
      for (let i = this.stateSlot(
        state,
        set ? 2 : 1
        /* ParseState.Actions */
      ), next; ; i += 3) {
        if ((next = data[i]) == 65535) {
          if (data[i + 1] == 1)
            next = data[i = pair(data, i + 2)];
          else if (data[i + 1] == 2)
            return pair(data, i + 2);
          else
            break;
        }
        if (next == terminal || next == 0)
          return pair(data, i + 1);
      }
    }
    return 0;
  }
  /**
  @internal
  */
  stateSlot(state, slot) {
    return this.states[state * 6 + slot];
  }
  /**
  @internal
  */
  stateFlag(state, flag) {
    return (this.stateSlot(
      state,
      0
      /* ParseState.Flags */
    ) & flag) > 0;
  }
  /**
  @internal
  */
  validAction(state, action) {
    return !!this.allActions(state, (a) => a == action ? true : null);
  }
  /**
  @internal
  */
  allActions(state, action) {
    let deflt = this.stateSlot(
      state,
      4
      /* ParseState.DefaultReduce */
    );
    let result = deflt ? action(deflt) : void 0;
    for (let i = this.stateSlot(
      state,
      1
      /* ParseState.Actions */
    ); result == null; i += 3) {
      if (this.data[i] == 65535) {
        if (this.data[i + 1] == 1)
          i = pair(this.data, i + 2);
        else
          break;
      }
      result = action(pair(this.data, i + 1));
    }
    return result;
  }
  /**
  Get the states that can follow this one through shift actions or
  goto jumps. @internal
  */
  nextStates(state) {
    let result = [];
    for (let i = this.stateSlot(
      state,
      1
      /* ParseState.Actions */
    ); ; i += 3) {
      if (this.data[i] == 65535) {
        if (this.data[i + 1] == 1)
          i = pair(this.data, i + 2);
        else
          break;
      }
      if ((this.data[i + 2] & 65536 >> 16) == 0) {
        let value = this.data[i + 1];
        if (!result.some((v, i2) => i2 & 1 && v == value))
          result.push(this.data[i], value);
      }
    }
    return result;
  }
  /**
  Configure the parser. Returns a new parser instance that has the
  given settings modified. Settings not provided in `config` are
  kept from the original parser.
  */
  configure(config2) {
    let copy = Object.assign(Object.create(_LRParser.prototype), this);
    if (config2.props)
      copy.nodeSet = this.nodeSet.extend(...config2.props);
    if (config2.top) {
      let info = this.topRules[config2.top];
      if (!info)
        throw new RangeError(`Invalid top rule name ${config2.top}`);
      copy.top = info;
    }
    if (config2.tokenizers)
      copy.tokenizers = this.tokenizers.map((t2) => {
        let found = config2.tokenizers.find((r) => r.from == t2);
        return found ? found.to : t2;
      });
    if (config2.specializers) {
      copy.specializers = this.specializers.slice();
      copy.specializerSpecs = this.specializerSpecs.map((s, i) => {
        let found = config2.specializers.find((r) => r.from == s.external);
        if (!found)
          return s;
        let spec = Object.assign(Object.assign({}, s), { external: found.to });
        copy.specializers[i] = getSpecializer(spec);
        return spec;
      });
    }
    if (config2.contextTracker)
      copy.context = config2.contextTracker;
    if (config2.dialect)
      copy.dialect = this.parseDialect(config2.dialect);
    if (config2.strict != null)
      copy.strict = config2.strict;
    if (config2.wrap)
      copy.wrappers = copy.wrappers.concat(config2.wrap);
    if (config2.bufferLength != null)
      copy.bufferLength = config2.bufferLength;
    return copy;
  }
  /**
  Tells you whether any [parse wrappers](#lr.ParserConfig.wrap)
  are registered for this parser.
  */
  hasWrappers() {
    return this.wrappers.length > 0;
  }
  /**
  Returns the name associated with a given term. This will only
  work for all terms when the parser was generated with the
  `--names` option. By default, only the names of tagged terms are
  stored.
  */
  getName(term) {
    return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);
  }
  /**
  The eof term id is always allocated directly after the node
  types. @internal
  */
  get eofTerm() {
    return this.maxNode + 1;
  }
  /**
  The type of top node produced by the parser.
  */
  get topNode() {
    return this.nodeSet.types[this.top[1]];
  }
  /**
  @internal
  */
  dynamicPrecedence(term) {
    let prec2 = this.dynamicPrecedences;
    return prec2 == null ? 0 : prec2[term] || 0;
  }
  /**
  @internal
  */
  parseDialect(dialect) {
    let values2 = Object.keys(this.dialects), flags = values2.map(() => false);
    if (dialect)
      for (let part of dialect.split(" ")) {
        let id2 = values2.indexOf(part);
        if (id2 >= 0)
          flags[id2] = true;
      }
    let disabled = null;
    for (let i = 0; i < values2.length; i++)
      if (!flags[i]) {
        for (let j = this.dialects[values2[i]], id2; (id2 = this.data[j++]) != 65535; )
          (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id2] = 1;
      }
    return new Dialect(dialect, flags, disabled);
  }
  /**
  Used by the output of the parser generator. Not available to
  user code. @hide
  */
  static deserialize(spec) {
    return new _LRParser(spec);
  }
};
function pair(data, off) {
  return data[off] | data[off + 1] << 16;
}
function findFinished(stacks) {
  let best = null;
  for (let stack of stacks) {
    let stopped = stack.p.stoppedAt;
    if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) && stack.p.parser.stateFlag(
      stack.state,
      2
      /* StateFlag.Accepting */
    ) && (!best || best.score < stack.score))
      best = stack;
  }
  return best;
}
function getSpecializer(spec) {
  if (spec.external) {
    let mask = spec.extend ? 1 : 0;
    return (value, stack) => spec.external(value, stack) << 1 | mask;
  }
  return spec.get;
}

// node_modules/@lezer/css/dist/index.js
var descendantOp = 107;
var Unit = 1;
var callee = 108;
var identifier = 109;
var VariableName = 2;
var queryIdentifier = 110;
var space = [
  9,
  10,
  11,
  12,
  13,
  32,
  133,
  160,
  5760,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8199,
  8200,
  8201,
  8202,
  8232,
  8233,
  8239,
  8287,
  12288
];
var colon = 58;
var parenL = 40;
var underscore = 95;
var bracketL = 91;
var dash = 45;
var period = 46;
var hash = 35;
var percent = 37;
var ampersand = 38;
var backslash = 92;
var newline = 10;
var asterisk = 42;
function isAlpha(ch) {
  return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch >= 161;
}
function isDigit(ch) {
  return ch >= 48 && ch <= 57;
}
var identifiers = new ExternalTokenizer((input, stack) => {
  for (let inside2 = false, dashes = 0, i = 0; ; i++) {
    let { next } = input;
    if (isAlpha(next) || next == dash || next == underscore || inside2 && isDigit(next)) {
      if (!inside2 && (next != dash || i > 0)) inside2 = true;
      if (dashes === i && next == dash) dashes++;
      input.advance();
    } else if (next == backslash && input.peek(1) != newline) {
      input.advance();
      if (input.next > -1) input.advance();
      inside2 = true;
    } else {
      if (inside2) input.acceptToken(
        dashes == 2 && stack.canShift(VariableName) ? VariableName : stack.canShift(queryIdentifier) ? queryIdentifier : next == parenL ? callee : identifier
      );
      break;
    }
  }
});
var descendant = new ExternalTokenizer((input) => {
  if (space.includes(input.peek(-1))) {
    let { next } = input;
    if (isAlpha(next) || next == underscore || next == hash || next == period || next == asterisk || next == bracketL || next == colon && isAlpha(input.peek(1)) || next == dash || next == ampersand)
      input.acceptToken(descendantOp);
  }
});
var unitToken = new ExternalTokenizer((input) => {
  if (!space.includes(input.peek(-1))) {
    let { next } = input;
    if (next == percent) {
      input.advance();
      input.acceptToken(Unit);
    }
    if (isAlpha(next)) {
      do {
        input.advance();
      } while (isAlpha(input.next) || isDigit(input.next));
      input.acceptToken(Unit);
    }
  }
});
var cssHighlighting = styleTags({
  "AtKeyword import charset namespace keyframes media supports": tags.definitionKeyword,
  "from to selector": tags.keyword,
  NamespaceName: tags.namespace,
  KeyframeName: tags.labelName,
  KeyframeRangeName: tags.operatorKeyword,
  TagName: tags.tagName,
  ClassName: tags.className,
  PseudoClassName: tags.constant(tags.className),
  IdName: tags.labelName,
  "FeatureName PropertyName": tags.propertyName,
  AttributeName: tags.attributeName,
  NumberLiteral: tags.number,
  KeywordQuery: tags.keyword,
  UnaryQueryOp: tags.operatorKeyword,
  "CallTag ValueName": tags.atom,
  VariableName: tags.variableName,
  Callee: tags.operatorKeyword,
  Unit: tags.unit,
  "UniversalSelector NestingSelector": tags.definitionOperator,
  "MatchOp CompareOp": tags.compareOperator,
  "ChildOp SiblingOp, LogicOp": tags.logicOperator,
  BinOp: tags.arithmeticOperator,
  Important: tags.modifier,
  Comment: tags.blockComment,
  ColorLiteral: tags.color,
  "ParenthesizedContent StringLiteral": tags.string,
  ":": tags.punctuation,
  "PseudoOp #": tags.derefOperator,
  "; ,": tags.separator,
  "( )": tags.paren,
  "[ ]": tags.squareBracket,
  "{ }": tags.brace
});
var spec_callee = { __proto__: null, lang: 34, "nth-child": 34, "nth-last-child": 34, "nth-of-type": 34, "nth-last-of-type": 34, dir: 34, "host-context": 34, url: 62, "url-prefix": 62, domain: 62, regexp: 62 };
var spec_AtKeyword = { __proto__: null, "@import": 120, "@media": 154, "@charset": 158, "@namespace": 162, "@keyframes": 168, "@supports": 180 };
var spec_queryIdentifier = { __proto__: null, layer: 124, not: 144, only: 144, selector: 150 };
var parser = LRParser.deserialize({
  version: 14,
  states: ">`QYQ[OOO#kQ[OOP#rOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#wQ[O'#CfO$hQXO'#CaO$rQ[O'#CiO$}Q[O'#DUO%SQ[O'#DXO%XQ[O'#D[O%XQ[O'#D_OOQP'#Ev'#EvO%yQdO'#DhO&hQ[O'#DzO%yQdO'#D|O&yQ[O'#EOO'UQ[O'#ERO'^Q[O'#EXO'lQ[O'#EZOOQS'#Eu'#EuOOQS'#E^'#E^QYQ[OOO'sQXO'#CdO(hQWO'#DdO(mQWO'#E{O(xQ[O'#E{QOQWOOP)SO#tO'#C_POOO)C@e)C@eOOQP'#Ch'#ChOOQP,59Q,59QO#wQ[O,59QO)_Q[O,59TO$}Q[O,59pO%SQ[O,59sO%XQ[O,59vO%XQ[O,59xO%XQ[O,59yO%XQ[O'#EcO)jQWO,58{O)rQ[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)yQWO,59TO*OQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO*TQ`O,59sO*nQXO,59vO+UQXO,59yOOQS'#Cq'#CqO%yQdO'#CrO+lQvO'#CtO-hQtO,5:SOOQO'#Cy'#CyO*OQWO'#CxO-rQWO'#CzO-wQ[O'#DPOOQS'#Ex'#ExOOQO'#Dn'#DnO.eQdO'#DwO.uQWO'#E|O'^Q[O'#DuO/TQWO'#DxOOQO'#E}'#E}O)mQWO,5:fO/YQpO,5:hOOQS'#EQ'#EQO/bQWO,5:jO/gQ[O,5:jOOQO'#ET'#ETO/oQWO,5:mO/tQWO,5:sO/|QWO,5:uOOQS-E8[-E8[O0UQdO,5:OO0fQ[O'#EeO0sQWO,5;gO0sQWO,5;gPOOO'#E]'#E]P1OO#tO,58yPOOO,58y,58yOOQP1G.l1G.lOOQP1G.o1G.oO)yQWO1G.oO*OQWO1G.oOOQP1G/[1G/[O1ZQ`O1G/_O1cQXO1G/bO1yQXO1G/dO2aQXO1G/eO2wQXO,5:}OOQO-E8a-E8aOOQS1G.g1G.gO3RQWO,59}O3WQ[O'#DTO3_QdO'#CpOOQP1G/_1G/_O%yQdO1G/_O3fQpO,59^OOQS,59`,59`O%yQdO,59bO3nQ[O'#DkO4PQWO1G/nO-VQ[O1G/nOOQS,59d,59dO4UQ!bO,59fOOQS'#DQ'#DQOOQS'#E`'#E`O4aQ[O,59kOOQS,59k,59kO4iQpO'#DnO4wQpO,5:ZO5PQWO,5:cOOQO'#FO'#FOO4zQpO,5:_O'^Q[O,5:]O5XQ[O'#EgO5pQWO,5;hO5{QWO,5:aO%XQ[O,5:dOOQS1G0Q1G0QOOQS1G0S1G0SOOQS1G0U1G0UO6^QWO1G0UO6cQdO'#EUOOQS1G0X1G0XOOQS1G0_1G0_OOQS1G0a1G0aO6nQtO1G/jOOQO1G/j1G/jOOQO,5;P,5;PO7UQ[O,5;POOQO-E8c-E8cO7cQWO1G1RPOOO-E8Z-E8ZPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO%yQdO7+$yOOQS1G/i1G/iO7nQXO'#EzO7xQWO,59oO7}QtO'#E_O8uQdO'#EwO9PQWO,59[O9UQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|O9^Q[O,5:VOOQS7+%Y7+%YO9cQWO7+%YOOQS1G/Q1G/QO9hQWO1G/QOOQS-E8^-E8^OOQS1G/V1G/VO%yQdO1G/uO9mQdO1G/yOOQO1G/}1G/}OOQO1G/w1G/wO9tQWO,5;ROOQO-E8e-E8eO:SQXO1G0OOOQS7+%p7+%pO:ZQYO'#CtOOQO'#EW'#EWO:iQ`O'#EVOOQO'#EV'#EVO:tQWO'#EhO:|QdO,5:pOOQS,5:p,5:pO;XQtO'#EdO%yQdO'#EdO<YQdO7+%UOOQO7+%U7+%UOOQO1G0k1G0kO<mQpO<<HeO<uQ[O'#EbO=PQWO,5;fOOQP1G/Z1G/ZOOQS-E8]-E8]O=XQdO'#EaO=cQWO,5;cOOQT1G.v1G.vOOQP<<He<<HeOOQO'#Dm'#DmO=kQWO1G/qOOQS<<Ht<<HtOOQS7+$l7+$lO=sQdO7+%aOOQO'#Dp'#DpO=zQpO7+%eOOQO7+%j7+%jOOQO,5:q,5:qO6fQdO'#EiO:tQWO,5;SOOQS,5;S,5;SOOQS-E8f-E8fOOQS1G0[1G0[O>SQtO,5;OOOQS-E8b-E8bOOQO<<Hp<<HpOOQPAN>PAN>PO?TQXO,5:|OOQO-E8`-E8`O?_QdO,5:{OOQO-E8_-E8_O9^Q[O'#EfO?iQWO7+%]OOQS7+%]7+%]OOQO<<H{<<H{OOQO<<IP<<IPO?qQdO<<IPOOQO,5;T,5;TOOQO-E8g-E8gOOQS1G0n1G0nOOQO,5;Q,5;QOOQO-E8d-E8dOOQS<<Hw<<HwO@YQWOAN>kOOQOG24VG24V",
  stateData: "@g~O#dOS#eQQ~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#aRO~OQhOU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#agO~O#^#oP~P!aO#elO~O#anO~OZpO^qO_qOrsOyrO!PtO!SvO#_uO~OuwO!UyO~P#|Oa!PO#`|O#a{O~O#a!QO~O#a!SO~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO#aRO~OQ!`Oc!XOg!`Oi!`Oo!^Or!_O#`![O#a!WO#m!YO~Oc!bO!j!dO!m!eO#b!aO!U#pP~Oi!jOo!^O#a!iO~Oi!lO#a!lO~Oc!bO!j!dO!m!eO#b!aO~O!Z#pP~P&hOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#_WX~O^!qO~O!Z!rO#^#oX!T#oX~O#^#oX!T#oX~P!aO#f!uO#g!uO#h!wO~Oa!{O#`|O#a{O~OuwO!UyO~O!T#oP~P!aOc#VO~Oc#WO~Oq#XO}#YO~OZpO^qO_qOrsOyrO~Ou!Oa!P!Oa!S!Oa!U!Oa#_!Oab!Oa~P*]Ou!Ra!P!Ra!S!Ra!U!Ra#_!Rab!Ra~P*]OP#[OchXkhX!ZhX!`hX!jhX!mhX#bhXbhX!hhXQhXghXihXohXrhXuhX!YhX#^hX#`hX#ahX#mhXqhX!ThX~Oc!bO!j!dO!m!eO#b!aO!Z#pP~Ok#]O!`#^O~P-VOc#bO~Oq#fO#a#cO~OQ#jOg#jOi#jOo!^O#`![O#m!YO~Oc!bO!j!dO!m!eO#b#gO~P.POu#mO!f#lO!U#pX!Z#pX~Oc#pO~Ok#]O!Z#rO~O!Z#sO~Oi#tOo!^O~O!U#uO~O!UyO!f#lO~O!UyO!Z#xO~O!Y#zO!Z!Wa#^!Wa!T!Wa~P%yO!Z#XX#^#XX!T#XX~P!aO!Z!rO#^#oa!T#oa~O#f!uO#g!uO#h$QO~Oq$SO}$TO~Ou!Oi!P!Oi!S!Oi!U!Oi#_!Oib!Oi~P*]Ou!Qi!P!Qi!S!Qi!U!Qi#_!Qib!Qi~P*]Ou!Ri!P!Ri!S!Ri!U!Ri#_!Rib!Ri~P*]Ou#Va!U#Va~P#|O!T$UO~Ob#nP~P%XOb#kP~P%yOb$]Ok#]O~Oc$_O!Z!_X!j!_X!m!_X#b!_X~O!Z$`O~Ob$bOi$cOp$cO~Oq$eO#a#cO~O^!dXb!bX!f!bX!h!dX~O^$fO!h$gO~Ob$hO!f#lO~Oc!bO!j!dO!m!eO#b!aOu#ZX!U#ZX!Z#ZX~Ou#mO!U#pa!Z#pa~O!f#lOu!ia!U!ia!Z!iab!ia~O!Z$mO~O!T$tO#a$oO#m$nO~Ok#]Ou$vO!Y$xO!Z!Wi#^!Wi!T!Wi~P%yO!Z#Xa#^#Xa!T#Xa~P!aO!Z!rO#^#oi!T#oi~Ou${Ob#nX~P#|Ob$}O~Ok#]OQ#RXb#RXc#RXg#RXi#RXo#RXr#RXu#RX#`#RX#a#RX#m#RX~Ou%POb#kX~P%yOb%RO~Ok#]Oq%SO~O#a%TO~O!Z%VO~Ob%WO~O#b%YO~P.PO!f#lOu#Za!U#Za!Z#Za~Ob%[O~P#|OP#[OuhX!UhXbhX~O#m$nOu!yX!U!yX~Ou%^O!UyO~O!T%bO#a$oO#m$nO~Ok#]OQ#WXc#WXg#WXi#WXo#WXr#WXu#WX!Y#WX!Z#WX#^#WX#`#WX#a#WX#m#WX!T#WX~Ou$vO!Y%eO!Z!Wq#^!Wq!T!Wq~P%yOk#]Oq%fO~Ob#UXu#UX~P%XOu${Ob#na~Ob#TXu#TX~P%yOu%POb#ka~OZ%kOb%mO~Ob%nO~P%yOb%oO!h%pO~Ok#]OQ#Wac#Wag#Wai#Wao#War#Wau#Wa!Y#Wa!Z#Wa#^#Wa#`#Wa#a#Wa#m#Wa!T#Wa~Ob#Uau#Ua~P#|Ob#Tau#Ta~P%yOZ%kOb%vO~OQ#jOg#jOi#jOo!^O#`![O#b%YO#m$nO~Ob%xO~O#dp#e#mk!S#m~",
  goto: "/l#sPPP#tP#wP$Q$dP$QP$v$QPP$|PPP%S%]%]P%oP%]P&`&w'^PPPP%]'{P(P(V$QP(]$Q(cP$QP$Q$QPPP(i)O)]PP#wPP)dP)g)m)m)x)mP)mP)mP)m)mP#wP#wP#wP*R#wP*U*X*[*c#wP#wP*h*n*}+]+c+i+o+u+{,V,],c,iPPPPPPPPPPP,o,x-n-qP.g.j.p.|/cRmQ_dOPfjy!r#|q[OPYZfjtuvwy!r#V#p#|${qSOPYZfjtuvwy!r#V#p#|${QoTR!xpQ}VR!yqQ!y!PQ#a!]R$R!{q!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%ip!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iU#j!b$g%pU$q#u$s%^R%]$pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iV#j!b$g%pw!]]_!X!b!q#W#Y#]#y$T$Y$f$g$v$w%P%X%i%pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iQ!j`U#j!b$g%pR#t!kT#d!_#eQ!OVR!zqQ!y!OR$R!zQ!RWR!|rQ!TXR!}sQzUQ#TxQ#q!gQ#w!nQ#x!oQ%`$rR%s%_SiPyQ!tjQ#{!rR$y#|ZhPjy!r#|R#`!ZQ%U$_R%t%kc!f^bc!Z!b!d#`#l#mQ#h!bQ%Z$gR%w%pR!k`R!maR#v!mS$r#u$sR%q%^V$p#u$s%^Q!vlR$P!vQfOSjPyU!pfj#|R#|!rQ$Y#WU%O$Y%X%iQ%X$fR%i%PQ#e!_R$d#eQ%Q$YR%j%QQ$|$VR%h$|QxUR#SxQ$w#yR%d$wQ!siS#}!s$OR$O!tQ%l%UR%u%lQ#n!cR$k#nQ$s#uR%a$sQ%_$rR%r%__eOPfjy!r#|^UOPfjy!r#|Q!UYQ!VZQ#OtQ#PuQ#QvQ#RwQ$V#VQ$l#pR%g${R$Z#WQ!Z]Q!h_Q#Z!XQ#y!q[$X#W$Y$f%P%X%iQ$[#YQ$^#]S$u#y$wQ$z$TR%c$vR$W#VQkPR#UyQ!g^Q!ocQ#_!ZR$a#`W!c^c!Z#`Q!nbQ#i!bQ#o!dQ$i#lR$j#mQ#k!bQ%Z$gR%w%p",
  nodeNames: "\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import Layer layer LayerName KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",
  maxTerm: 126,
  nodeProps: [
    ["isolate", -2, 3, 25, ""],
    ["openedBy", 18, "(", 33, "[", 51, "{"],
    ["closedBy", 19, ")", 34, "]", 52, "}"]
  ],
  propSources: [cssHighlighting],
  skippedNodes: [0, 3, 93],
  repeatNodeCount: 13,
  tokenData: "LU~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_Cj!_!`Df!`!aDy!a!b$}!b!cEz!c!}$}!}#OHX#O#P$}#P#QHj#Q#R6d#R#T$}#T#UH{#U#c$}#c#dJ^#d#o$}#o#pJs#p#q6d#q#rKU#r#sKg#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`LO<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#d~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#d~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#m[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#m[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#e~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^jBbU^YOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^hCoU!hWOy%^z!_%^!_!`DR!`;'S%^;'S;=`%o<%lO%^hDYS!hWp`Oy%^z;'S%^;'S;=`%o<%lO%^lDmS!hW}SOy%^z;'S%^;'S;=`%o<%lO%^jEQV!PQ!hWOy%^z!_%^!_!`DR!`!aEg!a;'S%^;'S;=`%o<%lO%^bEnS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bE}YOy%^z}%^}!OFm!O!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bFrWp`Oy%^z!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bGc[!]Qp`Oy%^z}%^}!OG[!O!Q%^!Q![G[![!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^nH^Sr^Oy%^z;'S%^;'S;=`%o<%lO%^nHoSq^Oy%^z;'S%^;'S;=`%o<%lO%^jIOUOy%^z#b%^#b#cIb#c;'S%^;'S;=`%o<%lO%^jIgUp`Oy%^z#W%^#W#XIy#X;'S%^;'S;=`%o<%lO%^jJQS!fYp`Oy%^z;'S%^;'S;=`%o<%lO%^jJaUOy%^z#f%^#f#gIy#g;'S%^;'S;=`%o<%lO%^fJxS!UUOy%^z;'S%^;'S;=`%o<%lO%^nKZS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fKlU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`LRP;=`<%l$}",
  tokenizers: [descendant, unitToken, identifiers, 1, 2, 3, 4, new LocalTokenGroup("m~RRYZ[z{a~~g~aO#g~~dP!P!Qg~lO#h~~", 28, 114)],
  topRules: { "StyleSheet": [0, 4], "Styles": [1, 92] },
  specialized: [{ term: 108, get: (value) => spec_callee[value] || -1 }, { term: 59, get: (value) => spec_AtKeyword[value] || -1 }, { term: 110, get: (value) => spec_queryIdentifier[value] || -1 }],
  tokenPrec: 1441
});

// node_modules/@codemirror/lang-css/dist/index.js
var _properties = null;
function properties() {
  if (!_properties && typeof document == "object" && document.body) {
    let { style } = document.body, names = [], seen = /* @__PURE__ */ new Set();
    for (let prop in style)
      if (prop != "cssText" && prop != "cssFloat") {
        if (typeof style[prop] == "string") {
          if (/[A-Z]/.test(prop))
            prop = prop.replace(/[A-Z]/g, (ch) => "-" + ch.toLowerCase());
          if (!seen.has(prop)) {
            names.push(prop);
            seen.add(prop);
          }
        }
      }
    _properties = names.sort().map((name2) => ({ type: "property", label: name2, apply: name2 + ": " }));
  }
  return _properties || [];
}
var pseudoClasses = /* @__PURE__ */ [
  "active",
  "after",
  "any-link",
  "autofill",
  "backdrop",
  "before",
  "checked",
  "cue",
  "default",
  "defined",
  "disabled",
  "empty",
  "enabled",
  "file-selector-button",
  "first",
  "first-child",
  "first-letter",
  "first-line",
  "first-of-type",
  "focus",
  "focus-visible",
  "focus-within",
  "fullscreen",
  "has",
  "host",
  "host-context",
  "hover",
  "in-range",
  "indeterminate",
  "invalid",
  "is",
  "lang",
  "last-child",
  "last-of-type",
  "left",
  "link",
  "marker",
  "modal",
  "not",
  "nth-child",
  "nth-last-child",
  "nth-last-of-type",
  "nth-of-type",
  "only-child",
  "only-of-type",
  "optional",
  "out-of-range",
  "part",
  "placeholder",
  "placeholder-shown",
  "read-only",
  "read-write",
  "required",
  "right",
  "root",
  "scope",
  "selection",
  "slotted",
  "target",
  "target-text",
  "valid",
  "visited",
  "where"
].map((name2) => ({ type: "class", label: name2 }));
var values = /* @__PURE__ */ [
  "above",
  "absolute",
  "activeborder",
  "additive",
  "activecaption",
  "after-white-space",
  "ahead",
  "alias",
  "all",
  "all-scroll",
  "alphabetic",
  "alternate",
  "always",
  "antialiased",
  "appworkspace",
  "asterisks",
  "attr",
  "auto",
  "auto-flow",
  "avoid",
  "avoid-column",
  "avoid-page",
  "avoid-region",
  "axis-pan",
  "background",
  "backwards",
  "baseline",
  "below",
  "bidi-override",
  "blink",
  "block",
  "block-axis",
  "bold",
  "bolder",
  "border",
  "border-box",
  "both",
  "bottom",
  "break",
  "break-all",
  "break-word",
  "bullets",
  "button",
  "button-bevel",
  "buttonface",
  "buttonhighlight",
  "buttonshadow",
  "buttontext",
  "calc",
  "capitalize",
  "caps-lock-indicator",
  "caption",
  "captiontext",
  "caret",
  "cell",
  "center",
  "checkbox",
  "circle",
  "cjk-decimal",
  "clear",
  "clip",
  "close-quote",
  "col-resize",
  "collapse",
  "color",
  "color-burn",
  "color-dodge",
  "column",
  "column-reverse",
  "compact",
  "condensed",
  "contain",
  "content",
  "contents",
  "content-box",
  "context-menu",
  "continuous",
  "copy",
  "counter",
  "counters",
  "cover",
  "crop",
  "cross",
  "crosshair",
  "currentcolor",
  "cursive",
  "cyclic",
  "darken",
  "dashed",
  "decimal",
  "decimal-leading-zero",
  "default",
  "default-button",
  "dense",
  "destination-atop",
  "destination-in",
  "destination-out",
  "destination-over",
  "difference",
  "disc",
  "discard",
  "disclosure-closed",
  "disclosure-open",
  "document",
  "dot-dash",
  "dot-dot-dash",
  "dotted",
  "double",
  "down",
  "e-resize",
  "ease",
  "ease-in",
  "ease-in-out",
  "ease-out",
  "element",
  "ellipse",
  "ellipsis",
  "embed",
  "end",
  "ethiopic-abegede-gez",
  "ethiopic-halehame-aa-er",
  "ethiopic-halehame-gez",
  "ew-resize",
  "exclusion",
  "expanded",
  "extends",
  "extra-condensed",
  "extra-expanded",
  "fantasy",
  "fast",
  "fill",
  "fill-box",
  "fixed",
  "flat",
  "flex",
  "flex-end",
  "flex-start",
  "footnotes",
  "forwards",
  "from",
  "geometricPrecision",
  "graytext",
  "grid",
  "groove",
  "hand",
  "hard-light",
  "help",
  "hidden",
  "hide",
  "higher",
  "highlight",
  "highlighttext",
  "horizontal",
  "hsl",
  "hsla",
  "hue",
  "icon",
  "ignore",
  "inactiveborder",
  "inactivecaption",
  "inactivecaptiontext",
  "infinite",
  "infobackground",
  "infotext",
  "inherit",
  "initial",
  "inline",
  "inline-axis",
  "inline-block",
  "inline-flex",
  "inline-grid",
  "inline-table",
  "inset",
  "inside",
  "intrinsic",
  "invert",
  "italic",
  "justify",
  "keep-all",
  "landscape",
  "large",
  "larger",
  "left",
  "level",
  "lighter",
  "lighten",
  "line-through",
  "linear",
  "linear-gradient",
  "lines",
  "list-item",
  "listbox",
  "listitem",
  "local",
  "logical",
  "loud",
  "lower",
  "lower-hexadecimal",
  "lower-latin",
  "lower-norwegian",
  "lowercase",
  "ltr",
  "luminosity",
  "manipulation",
  "match",
  "matrix",
  "matrix3d",
  "medium",
  "menu",
  "menutext",
  "message-box",
  "middle",
  "min-intrinsic",
  "mix",
  "monospace",
  "move",
  "multiple",
  "multiple_mask_images",
  "multiply",
  "n-resize",
  "narrower",
  "ne-resize",
  "nesw-resize",
  "no-close-quote",
  "no-drop",
  "no-open-quote",
  "no-repeat",
  "none",
  "normal",
  "not-allowed",
  "nowrap",
  "ns-resize",
  "numbers",
  "numeric",
  "nw-resize",
  "nwse-resize",
  "oblique",
  "opacity",
  "open-quote",
  "optimizeLegibility",
  "optimizeSpeed",
  "outset",
  "outside",
  "outside-shape",
  "overlay",
  "overline",
  "padding",
  "padding-box",
  "painted",
  "page",
  "paused",
  "perspective",
  "pinch-zoom",
  "plus-darker",
  "plus-lighter",
  "pointer",
  "polygon",
  "portrait",
  "pre",
  "pre-line",
  "pre-wrap",
  "preserve-3d",
  "progress",
  "push-button",
  "radial-gradient",
  "radio",
  "read-only",
  "read-write",
  "read-write-plaintext-only",
  "rectangle",
  "region",
  "relative",
  "repeat",
  "repeating-linear-gradient",
  "repeating-radial-gradient",
  "repeat-x",
  "repeat-y",
  "reset",
  "reverse",
  "rgb",
  "rgba",
  "ridge",
  "right",
  "rotate",
  "rotate3d",
  "rotateX",
  "rotateY",
  "rotateZ",
  "round",
  "row",
  "row-resize",
  "row-reverse",
  "rtl",
  "run-in",
  "running",
  "s-resize",
  "sans-serif",
  "saturation",
  "scale",
  "scale3d",
  "scaleX",
  "scaleY",
  "scaleZ",
  "screen",
  "scroll",
  "scrollbar",
  "scroll-position",
  "se-resize",
  "self-start",
  "self-end",
  "semi-condensed",
  "semi-expanded",
  "separate",
  "serif",
  "show",
  "single",
  "skew",
  "skewX",
  "skewY",
  "skip-white-space",
  "slide",
  "slider-horizontal",
  "slider-vertical",
  "sliderthumb-horizontal",
  "sliderthumb-vertical",
  "slow",
  "small",
  "small-caps",
  "small-caption",
  "smaller",
  "soft-light",
  "solid",
  "source-atop",
  "source-in",
  "source-out",
  "source-over",
  "space",
  "space-around",
  "space-between",
  "space-evenly",
  "spell-out",
  "square",
  "start",
  "static",
  "status-bar",
  "stretch",
  "stroke",
  "stroke-box",
  "sub",
  "subpixel-antialiased",
  "svg_masks",
  "super",
  "sw-resize",
  "symbolic",
  "symbols",
  "system-ui",
  "table",
  "table-caption",
  "table-cell",
  "table-column",
  "table-column-group",
  "table-footer-group",
  "table-header-group",
  "table-row",
  "table-row-group",
  "text",
  "text-bottom",
  "text-top",
  "textarea",
  "textfield",
  "thick",
  "thin",
  "threeddarkshadow",
  "threedface",
  "threedhighlight",
  "threedlightshadow",
  "threedshadow",
  "to",
  "top",
  "transform",
  "translate",
  "translate3d",
  "translateX",
  "translateY",
  "translateZ",
  "transparent",
  "ultra-condensed",
  "ultra-expanded",
  "underline",
  "unidirectional-pan",
  "unset",
  "up",
  "upper-latin",
  "uppercase",
  "url",
  "var",
  "vertical",
  "vertical-text",
  "view-box",
  "visible",
  "visibleFill",
  "visiblePainted",
  "visibleStroke",
  "visual",
  "w-resize",
  "wait",
  "wave",
  "wider",
  "window",
  "windowframe",
  "windowtext",
  "words",
  "wrap",
  "wrap-reverse",
  "x-large",
  "x-small",
  "xor",
  "xx-large",
  "xx-small"
].map((name2) => ({ type: "keyword", label: name2 })).concat(/* @__PURE__ */ [
  "aliceblue",
  "antiquewhite",
  "aqua",
  "aquamarine",
  "azure",
  "beige",
  "bisque",
  "black",
  "blanchedalmond",
  "blue",
  "blueviolet",
  "brown",
  "burlywood",
  "cadetblue",
  "chartreuse",
  "chocolate",
  "coral",
  "cornflowerblue",
  "cornsilk",
  "crimson",
  "cyan",
  "darkblue",
  "darkcyan",
  "darkgoldenrod",
  "darkgray",
  "darkgreen",
  "darkkhaki",
  "darkmagenta",
  "darkolivegreen",
  "darkorange",
  "darkorchid",
  "darkred",
  "darksalmon",
  "darkseagreen",
  "darkslateblue",
  "darkslategray",
  "darkturquoise",
  "darkviolet",
  "deeppink",
  "deepskyblue",
  "dimgray",
  "dodgerblue",
  "firebrick",
  "floralwhite",
  "forestgreen",
  "fuchsia",
  "gainsboro",
  "ghostwhite",
  "gold",
  "goldenrod",
  "gray",
  "grey",
  "green",
  "greenyellow",
  "honeydew",
  "hotpink",
  "indianred",
  "indigo",
  "ivory",
  "khaki",
  "lavender",
  "lavenderblush",
  "lawngreen",
  "lemonchiffon",
  "lightblue",
  "lightcoral",
  "lightcyan",
  "lightgoldenrodyellow",
  "lightgray",
  "lightgreen",
  "lightpink",
  "lightsalmon",
  "lightseagreen",
  "lightskyblue",
  "lightslategray",
  "lightsteelblue",
  "lightyellow",
  "lime",
  "limegreen",
  "linen",
  "magenta",
  "maroon",
  "mediumaquamarine",
  "mediumblue",
  "mediumorchid",
  "mediumpurple",
  "mediumseagreen",
  "mediumslateblue",
  "mediumspringgreen",
  "mediumturquoise",
  "mediumvioletred",
  "midnightblue",
  "mintcream",
  "mistyrose",
  "moccasin",
  "navajowhite",
  "navy",
  "oldlace",
  "olive",
  "olivedrab",
  "orange",
  "orangered",
  "orchid",
  "palegoldenrod",
  "palegreen",
  "paleturquoise",
  "palevioletred",
  "papayawhip",
  "peachpuff",
  "peru",
  "pink",
  "plum",
  "powderblue",
  "purple",
  "rebeccapurple",
  "red",
  "rosybrown",
  "royalblue",
  "saddlebrown",
  "salmon",
  "sandybrown",
  "seagreen",
  "seashell",
  "sienna",
  "silver",
  "skyblue",
  "slateblue",
  "slategray",
  "snow",
  "springgreen",
  "steelblue",
  "tan",
  "teal",
  "thistle",
  "tomato",
  "turquoise",
  "violet",
  "wheat",
  "white",
  "whitesmoke",
  "yellow",
  "yellowgreen"
].map((name2) => ({ type: "constant", label: name2 })));
var tags2 = /* @__PURE__ */ [
  "a",
  "abbr",
  "address",
  "article",
  "aside",
  "b",
  "bdi",
  "bdo",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "cite",
  "code",
  "col",
  "colgroup",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "figcaption",
  "figure",
  "footer",
  "form",
  "header",
  "hgroup",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "main",
  "meter",
  "nav",
  "ol",
  "output",
  "p",
  "pre",
  "ruby",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strong",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "tr",
  "u",
  "ul"
].map((name2) => ({ type: "type", label: name2 }));
var atRules = /* @__PURE__ */ [
  "@charset",
  "@color-profile",
  "@container",
  "@counter-style",
  "@font-face",
  "@font-feature-values",
  "@font-palette-values",
  "@import",
  "@keyframes",
  "@layer",
  "@media",
  "@namespace",
  "@page",
  "@position-try",
  "@property",
  "@scope",
  "@starting-style",
  "@supports",
  "@view-transition"
].map((label) => ({ type: "keyword", label }));
var identifier2 = /^(\w[\w-]*|-\w[\w-]*|)$/;
var variable = /^-(-[\w-]*)?$/;
function isVarArg(node, doc2) {
  var _a2;
  if (node.name == "(" || node.type.isError)
    node = node.parent || node;
  if (node.name != "ArgList")
    return false;
  let callee2 = (_a2 = node.parent) === null || _a2 === void 0 ? void 0 : _a2.firstChild;
  if ((callee2 === null || callee2 === void 0 ? void 0 : callee2.name) != "Callee")
    return false;
  return doc2.sliceString(callee2.from, callee2.to) == "var";
}
var VariablesByNode = /* @__PURE__ */ new NodeWeakMap();
var declSelector = ["Declaration"];
function astTop(node) {
  for (let cur2 = node; ; ) {
    if (cur2.type.isTop)
      return cur2;
    if (!(cur2 = cur2.parent))
      return node;
  }
}
function variableNames(doc2, node, isVariable) {
  if (node.to - node.from > 4096) {
    let known = VariablesByNode.get(node);
    if (known)
      return known;
    let result = [], seen = /* @__PURE__ */ new Set(), cursor2 = node.cursor(IterMode.IncludeAnonymous);
    if (cursor2.firstChild())
      do {
        for (let option of variableNames(doc2, cursor2.node, isVariable))
          if (!seen.has(option.label)) {
            seen.add(option.label);
            result.push(option);
          }
      } while (cursor2.nextSibling());
    VariablesByNode.set(node, result);
    return result;
  } else {
    let result = [], seen = /* @__PURE__ */ new Set();
    node.cursor().iterate((node2) => {
      var _a2;
      if (isVariable(node2) && node2.matchContext(declSelector) && ((_a2 = node2.node.nextSibling) === null || _a2 === void 0 ? void 0 : _a2.name) == ":") {
        let name2 = doc2.sliceString(node2.from, node2.to);
        if (!seen.has(name2)) {
          seen.add(name2);
          result.push({ label: name2, type: "variable" });
        }
      }
    });
    return result;
  }
}
var defineCSSCompletionSource = (isVariable) => (context) => {
  let { state, pos } = context, node = syntaxTree(state).resolveInner(pos, -1);
  let isDash = node.type.isError && node.from == node.to - 1 && state.doc.sliceString(node.from, node.to) == "-";
  if (node.name == "PropertyName" || (isDash || node.name == "TagName") && /^(Block|Styles)$/.test(node.resolve(node.to).name))
    return { from: node.from, options: properties(), validFor: identifier2 };
  if (node.name == "ValueName")
    return { from: node.from, options: values, validFor: identifier2 };
  if (node.name == "PseudoClassName")
    return { from: node.from, options: pseudoClasses, validFor: identifier2 };
  if (isVariable(node) || (context.explicit || isDash) && isVarArg(node, state.doc))
    return {
      from: isVariable(node) || isDash ? node.from : pos,
      options: variableNames(state.doc, astTop(node), isVariable),
      validFor: variable
    };
  if (node.name == "TagName") {
    for (let { parent } = node; parent; parent = parent.parent)
      if (parent.name == "Block")
        return { from: node.from, options: properties(), validFor: identifier2 };
    return { from: node.from, options: tags2, validFor: identifier2 };
  }
  if (node.name == "AtKeyword")
    return { from: node.from, options: atRules, validFor: identifier2 };
  if (!context.explicit)
    return null;
  let above = node.resolve(pos), before = above.childBefore(pos);
  if (before && before.name == ":" && above.name == "PseudoClassSelector")
    return { from: pos, options: pseudoClasses, validFor: identifier2 };
  if (before && before.name == ":" && above.name == "Declaration" || above.name == "ArgList")
    return { from: pos, options: values, validFor: identifier2 };
  if (above.name == "Block" || above.name == "Styles")
    return { from: pos, options: properties(), validFor: identifier2 };
  return null;
};
var cssCompletionSource = /* @__PURE__ */ defineCSSCompletionSource((n) => n.name == "VariableName");
var cssLanguage = /* @__PURE__ */ LRLanguage.define({
  name: "css",
  parser: /* @__PURE__ */ parser.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        Declaration: /* @__PURE__ */ continuedIndent()
      }),
      /* @__PURE__ */ foldNodeProp.add({
        "Block KeyframeList": foldInside
      })
    ]
  }),
  languageData: {
    commentTokens: { block: { open: "/*", close: "*/" } },
    indentOnInput: /^\s*\}$/,
    wordChars: "-"
  }
});
function css() {
  return new LanguageSupport(cssLanguage, cssLanguage.data.of({ autocomplete: cssCompletionSource }));
}

// node_modules/@lezer/html/dist/index.js
var scriptText = 54;
var StartCloseScriptTag = 1;
var styleText = 55;
var StartCloseStyleTag = 2;
var textareaText = 56;
var StartCloseTextareaTag = 3;
var EndTag = 4;
var SelfClosingEndTag = 5;
var StartTag = 6;
var StartScriptTag = 7;
var StartStyleTag = 8;
var StartTextareaTag = 9;
var StartSelfClosingTag = 10;
var StartCloseTag = 11;
var NoMatchStartCloseTag = 12;
var MismatchedStartCloseTag = 13;
var missingCloseTag = 57;
var IncompleteCloseTag = 14;
var commentContent$1 = 58;
var Element = 20;
var TagName = 22;
var Attribute = 23;
var AttributeName = 24;
var AttributeValue = 26;
var UnquotedAttributeValue = 27;
var ScriptText = 28;
var StyleText = 31;
var TextareaText = 34;
var OpenTag = 36;
var CloseTag = 37;
var Dialect_noMatch = 0;
var Dialect_selfClosing = 1;
var selfClosers = {
  area: true,
  base: true,
  br: true,
  col: true,
  command: true,
  embed: true,
  frame: true,
  hr: true,
  img: true,
  input: true,
  keygen: true,
  link: true,
  meta: true,
  param: true,
  source: true,
  track: true,
  wbr: true,
  menuitem: true
};
var implicitlyClosed = {
  dd: true,
  li: true,
  optgroup: true,
  option: true,
  p: true,
  rp: true,
  rt: true,
  tbody: true,
  td: true,
  tfoot: true,
  th: true,
  tr: true
};
var closeOnOpen = {
  dd: { dd: true, dt: true },
  dt: { dd: true, dt: true },
  li: { li: true },
  option: { option: true, optgroup: true },
  optgroup: { optgroup: true },
  p: {
    address: true,
    article: true,
    aside: true,
    blockquote: true,
    dir: true,
    div: true,
    dl: true,
    fieldset: true,
    footer: true,
    form: true,
    h1: true,
    h2: true,
    h3: true,
    h4: true,
    h5: true,
    h6: true,
    header: true,
    hgroup: true,
    hr: true,
    menu: true,
    nav: true,
    ol: true,
    p: true,
    pre: true,
    section: true,
    table: true,
    ul: true
  },
  rp: { rp: true, rt: true },
  rt: { rp: true, rt: true },
  tbody: { tbody: true, tfoot: true },
  td: { td: true, th: true },
  tfoot: { tbody: true },
  th: { td: true, th: true },
  thead: { tbody: true, tfoot: true },
  tr: { tr: true }
};
function nameChar(ch) {
  return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161;
}
function isSpace(ch) {
  return ch == 9 || ch == 10 || ch == 13 || ch == 32;
}
var cachedName = null;
var cachedInput = null;
var cachedPos = 0;
function tagNameAfter(input, offset) {
  let pos = input.pos + offset;
  if (cachedPos == pos && cachedInput == input) return cachedName;
  let next = input.peek(offset);
  while (isSpace(next)) next = input.peek(++offset);
  let name2 = "";
  for (; ; ) {
    if (!nameChar(next)) break;
    name2 += String.fromCharCode(next);
    next = input.peek(++offset);
  }
  cachedInput = input;
  cachedPos = pos;
  return cachedName = name2 ? name2.toLowerCase() : next == question || next == bang ? void 0 : null;
}
var lessThan = 60;
var greaterThan = 62;
var slash = 47;
var question = 63;
var bang = 33;
var dash2 = 45;
function ElementContext(name2, parent) {
  this.name = name2;
  this.parent = parent;
}
var startTagTerms = [StartTag, StartSelfClosingTag, StartScriptTag, StartStyleTag, StartTextareaTag];
var elementContext = new ContextTracker({
  start: null,
  shift(context, term, stack, input) {
    return startTagTerms.indexOf(term) > -1 ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
  },
  reduce(context, term) {
    return term == Element && context ? context.parent : context;
  },
  reuse(context, node, stack, input) {
    let type = node.type.id;
    return type == StartTag || type == OpenTag ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
  },
  strict: false
});
var tagStart = new ExternalTokenizer((input, stack) => {
  if (input.next != lessThan) {
    if (input.next < 0 && stack.context) input.acceptToken(missingCloseTag);
    return;
  }
  input.advance();
  let close = input.next == slash;
  if (close) input.advance();
  let name2 = tagNameAfter(input, 0);
  if (name2 === void 0) return;
  if (!name2) return input.acceptToken(close ? IncompleteCloseTag : StartTag);
  let parent = stack.context ? stack.context.name : null;
  if (close) {
    if (name2 == parent) return input.acceptToken(StartCloseTag);
    if (parent && implicitlyClosed[parent]) return input.acceptToken(missingCloseTag, -2);
    if (stack.dialectEnabled(Dialect_noMatch)) return input.acceptToken(NoMatchStartCloseTag);
    for (let cx = stack.context; cx; cx = cx.parent) if (cx.name == name2) return;
    input.acceptToken(MismatchedStartCloseTag);
  } else {
    if (name2 == "script") return input.acceptToken(StartScriptTag);
    if (name2 == "style") return input.acceptToken(StartStyleTag);
    if (name2 == "textarea") return input.acceptToken(StartTextareaTag);
    if (selfClosers.hasOwnProperty(name2)) return input.acceptToken(StartSelfClosingTag);
    if (parent && closeOnOpen[parent] && closeOnOpen[parent][name2]) input.acceptToken(missingCloseTag, -1);
    else input.acceptToken(StartTag);
  }
}, { contextual: true });
var commentContent = new ExternalTokenizer((input) => {
  for (let dashes = 0, i = 0; ; i++) {
    if (input.next < 0) {
      if (i) input.acceptToken(commentContent$1);
      break;
    }
    if (input.next == dash2) {
      dashes++;
    } else if (input.next == greaterThan && dashes >= 2) {
      if (i >= 3) input.acceptToken(commentContent$1, -2);
      break;
    } else {
      dashes = 0;
    }
    input.advance();
  }
});
function inForeignElement(context) {
  for (; context; context = context.parent)
    if (context.name == "svg" || context.name == "math") return true;
  return false;
}
var endTag = new ExternalTokenizer((input, stack) => {
  if (input.next == slash && input.peek(1) == greaterThan) {
    let selfClosing = stack.dialectEnabled(Dialect_selfClosing) || inForeignElement(stack.context);
    input.acceptToken(selfClosing ? SelfClosingEndTag : EndTag, 2);
  } else if (input.next == greaterThan) {
    input.acceptToken(EndTag, 1);
  }
});
function contentTokenizer(tag, textToken, endToken) {
  let lastState = 2 + tag.length;
  return new ExternalTokenizer((input) => {
    for (let state = 0, matchedLen = 0, i = 0; ; i++) {
      if (input.next < 0) {
        if (i) input.acceptToken(textToken);
        break;
      }
      if (state == 0 && input.next == lessThan || state == 1 && input.next == slash || state >= 2 && state < lastState && input.next == tag.charCodeAt(state - 2)) {
        state++;
        matchedLen++;
      } else if ((state == 2 || state == lastState) && isSpace(input.next)) {
        matchedLen++;
      } else if (state == lastState && input.next == greaterThan) {
        if (i > matchedLen)
          input.acceptToken(textToken, -matchedLen);
        else
          input.acceptToken(endToken, -(matchedLen - 2));
        break;
      } else if ((input.next == 10 || input.next == 13) && i) {
        input.acceptToken(textToken, 1);
        break;
      } else {
        state = matchedLen = 0;
      }
      input.advance();
    }
  });
}
var scriptTokens = contentTokenizer("script", scriptText, StartCloseScriptTag);
var styleTokens = contentTokenizer("style", styleText, StartCloseStyleTag);
var textareaTokens = contentTokenizer("textarea", textareaText, StartCloseTextareaTag);
var htmlHighlighting = styleTags({
  "Text RawText": tags.content,
  "StartTag StartCloseTag SelfClosingEndTag EndTag": tags.angleBracket,
  TagName: tags.tagName,
  "MismatchedCloseTag/TagName": [tags.tagName, tags.invalid],
  AttributeName: tags.attributeName,
  "AttributeValue UnquotedAttributeValue": tags.attributeValue,
  Is: tags.definitionOperator,
  "EntityReference CharacterReference": tags.character,
  Comment: tags.blockComment,
  ProcessingInst: tags.processingInstruction,
  DoctypeDecl: tags.documentMeta
});
var parser2 = LRParser.deserialize({
  version: 14,
  states: ",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",
  stateData: ",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",
  goto: "%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",
  nodeNames: "\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",
  maxTerm: 67,
  context: elementContext,
  nodeProps: [
    ["closedBy", -10, 1, 2, 3, 7, 8, 9, 10, 11, 12, 13, "EndTag", 6, "EndTag SelfClosingEndTag", -4, 21, 30, 33, 36, "CloseTag"],
    ["openedBy", 4, "StartTag StartCloseTag", 5, "StartTag", -4, 29, 32, 35, 37, "OpenTag"],
    ["group", -9, 14, 17, 18, 19, 20, 39, 40, 41, 42, "Entity", 16, "Entity TextContent", -3, 28, 31, 34, "TextContent Entity"],
    ["isolate", -11, 21, 29, 30, 32, 33, 35, 36, 37, 38, 41, 42, "ltr", -3, 26, 27, 39, ""]
  ],
  propSources: [htmlHighlighting],
  skippedNodes: [0],
  repeatNodeCount: 9,
  tokenData: "!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",
  tokenizers: [scriptTokens, styleTokens, textareaTokens, endTag, tagStart, commentContent, 0, 1, 2, 3, 4, 5],
  topRules: { "Document": [0, 15] },
  dialects: { noMatch: 0, selfClosing: 509 },
  tokenPrec: 511
});
function getAttrs2(openTag, input) {
  let attrs = /* @__PURE__ */ Object.create(null);
  for (let att of openTag.getChildren(Attribute)) {
    let name2 = att.getChild(AttributeName), value = att.getChild(AttributeValue) || att.getChild(UnquotedAttributeValue);
    if (name2) attrs[input.read(name2.from, name2.to)] = !value ? "" : value.type.id == AttributeValue ? input.read(value.from + 1, value.to - 1) : input.read(value.from, value.to);
  }
  return attrs;
}
function findTagName(openTag, input) {
  let tagNameNode = openTag.getChild(TagName);
  return tagNameNode ? input.read(tagNameNode.from, tagNameNode.to) : " ";
}
function maybeNest(node, input, tags3) {
  let attrs;
  for (let tag of tags3) {
    if (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs2(node.node.parent.firstChild, input))))
      return { parser: tag.parser };
  }
  return null;
}
function configureNesting(tags3 = [], attributes = []) {
  let script = [], style = [], textarea = [], other = [];
  for (let tag of tags3) {
    let array2 = tag.tag == "script" ? script : tag.tag == "style" ? style : tag.tag == "textarea" ? textarea : other;
    array2.push(tag);
  }
  let attrs = attributes.length ? /* @__PURE__ */ Object.create(null) : null;
  for (let attr of attributes) (attrs[attr.name] || (attrs[attr.name] = [])).push(attr);
  return parseMixed((node, input) => {
    let id2 = node.type.id;
    if (id2 == ScriptText) return maybeNest(node, input, script);
    if (id2 == StyleText) return maybeNest(node, input, style);
    if (id2 == TextareaText) return maybeNest(node, input, textarea);
    if (id2 == Element && other.length) {
      let n = node.node, open = n.firstChild, tagName = open && findTagName(open, input), attrs2;
      if (tagName) for (let tag of other) {
        if (tag.tag == tagName && (!tag.attrs || tag.attrs(attrs2 || (attrs2 = getAttrs2(open, input))))) {
          let close = n.lastChild;
          let to = close.type.id == CloseTag ? close.from : n.to;
          if (to > open.to)
            return { parser: tag.parser, overlay: [{ from: open.to, to }] };
        }
      }
    }
    if (attrs && id2 == Attribute) {
      let n = node.node, nameNode;
      if (nameNode = n.firstChild) {
        let matches = attrs[input.read(nameNode.from, nameNode.to)];
        if (matches) for (let attr of matches) {
          if (attr.tagName && attr.tagName != findTagName(n.parent, input)) continue;
          let value = n.lastChild;
          if (value.type.id == AttributeValue) {
            let from2 = value.from + 1;
            let last = value.lastChild, to = value.to - (last && last.isError ? 0 : 1);
            if (to > from2) return { parser: attr.parser, overlay: [{ from: from2, to }] };
          } else if (value.type.id == UnquotedAttributeValue) {
            return { parser: attr.parser, overlay: [{ from: value.from, to: value.to }] };
          }
        }
      }
    }
    return null;
  });
}

// node_modules/@lezer/javascript/dist/index.js
var noSemi = 315;
var noSemiType = 316;
var incdec = 1;
var incdecPrefix = 2;
var questionDot = 3;
var JSXStartTag = 4;
var insertSemi = 317;
var spaces = 319;
var newline2 = 320;
var LineComment = 5;
var BlockComment = 6;
var Dialect_jsx = 0;
var space2 = [
  9,
  10,
  11,
  12,
  13,
  32,
  133,
  160,
  5760,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8199,
  8200,
  8201,
  8202,
  8232,
  8233,
  8239,
  8287,
  12288
];
var braceR = 125;
var semicolon = 59;
var slash2 = 47;
var star = 42;
var plus = 43;
var minus = 45;
var lt = 60;
var comma = 44;
var question2 = 63;
var dot = 46;
var bracketL2 = 91;
var trackNewline = new ContextTracker({
  start: false,
  shift(context, term) {
    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline2;
  },
  strict: false
});
var insertSemicolon = new ExternalTokenizer((input, stack) => {
  let { next } = input;
  if (next == braceR || next == -1 || stack.context)
    input.acceptToken(insertSemi);
}, { contextual: true, fallback: true });
var noSemicolon = new ExternalTokenizer((input, stack) => {
  let { next } = input, after;
  if (space2.indexOf(next) > -1) return;
  if (next == slash2 && ((after = input.peek(1)) == slash2 || after == star)) return;
  if (next != braceR && next != semicolon && next != -1 && !stack.context)
    input.acceptToken(noSemi);
}, { contextual: true });
var noSemicolonType = new ExternalTokenizer((input, stack) => {
  if (input.next == bracketL2 && !stack.context) input.acceptToken(noSemiType);
}, { contextual: true });
var operatorToken = new ExternalTokenizer((input, stack) => {
  let { next } = input;
  if (next == plus || next == minus) {
    input.advance();
    if (next == input.next) {
      input.advance();
      let mayPostfix = !stack.context && stack.canShift(incdec);
      input.acceptToken(mayPostfix ? incdec : incdecPrefix);
    }
  } else if (next == question2 && input.peek(1) == dot) {
    input.advance();
    input.advance();
    if (input.next < 48 || input.next > 57)
      input.acceptToken(questionDot);
  }
}, { contextual: true });
function identifierChar(ch, start) {
  return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch == 95 || ch >= 192 || !start && ch >= 48 && ch <= 57;
}
var jsx = new ExternalTokenizer((input, stack) => {
  if (input.next != lt || !stack.dialectEnabled(Dialect_jsx)) return;
  input.advance();
  if (input.next == slash2) return;
  let back = 0;
  while (space2.indexOf(input.next) > -1) {
    input.advance();
    back++;
  }
  if (identifierChar(input.next, true)) {
    input.advance();
    back++;
    while (identifierChar(input.next, false)) {
      input.advance();
      back++;
    }
    while (space2.indexOf(input.next) > -1) {
      input.advance();
      back++;
    }
    if (input.next == comma) return;
    for (let i = 0; ; i++) {
      if (i == 7) {
        if (!identifierChar(input.next, true)) return;
        break;
      }
      if (input.next != "extends".charCodeAt(i)) break;
      input.advance();
      back++;
    }
  }
  input.acceptToken(JSXStartTag, -back);
});
var jsHighlight = styleTags({
  "get set async static": tags.modifier,
  "for while do if else switch try catch finally return throw break continue default case": tags.controlKeyword,
  "in of await yield void typeof delete instanceof as satisfies": tags.operatorKeyword,
  "let var const using function class extends": tags.definitionKeyword,
  "import export from": tags.moduleKeyword,
  "with debugger new": tags.keyword,
  TemplateString: tags.special(tags.string),
  super: tags.atom,
  BooleanLiteral: tags.bool,
  this: tags.self,
  null: tags.null,
  Star: tags.modifier,
  VariableName: tags.variableName,
  "CallExpression/VariableName TaggedTemplateExpression/VariableName": tags.function(tags.variableName),
  VariableDefinition: tags.definition(tags.variableName),
  Label: tags.labelName,
  PropertyName: tags.propertyName,
  PrivatePropertyName: tags.special(tags.propertyName),
  "CallExpression/MemberExpression/PropertyName": tags.function(tags.propertyName),
  "FunctionDeclaration/VariableDefinition": tags.function(tags.definition(tags.variableName)),
  "ClassDeclaration/VariableDefinition": tags.definition(tags.className),
  "NewExpression/VariableName": tags.className,
  PropertyDefinition: tags.definition(tags.propertyName),
  PrivatePropertyDefinition: tags.definition(tags.special(tags.propertyName)),
  UpdateOp: tags.updateOperator,
  "LineComment Hashbang": tags.lineComment,
  BlockComment: tags.blockComment,
  Number: tags.number,
  String: tags.string,
  Escape: tags.escape,
  ArithOp: tags.arithmeticOperator,
  LogicOp: tags.logicOperator,
  BitOp: tags.bitwiseOperator,
  CompareOp: tags.compareOperator,
  RegExp: tags.regexp,
  Equals: tags.definitionOperator,
  Arrow: tags.function(tags.punctuation),
  ": Spread": tags.punctuation,
  "( )": tags.paren,
  "[ ]": tags.squareBracket,
  "{ }": tags.brace,
  "InterpolationStart InterpolationEnd": tags.special(tags.brace),
  ".": tags.derefOperator,
  ", ;": tags.separator,
  "@": tags.meta,
  TypeName: tags.typeName,
  TypeDefinition: tags.definition(tags.typeName),
  "type enum interface implements namespace module declare": tags.definitionKeyword,
  "abstract global Privacy readonly override": tags.modifier,
  "is keyof unique infer asserts": tags.operatorKeyword,
  JSXAttributeValue: tags.attributeValue,
  JSXText: tags.content,
  "JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag": tags.angleBracket,
  "JSXIdentifier JSXNameSpacedName": tags.tagName,
  "JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName": tags.attributeName,
  "JSXBuiltin/JSXIdentifier": tags.standard(tags.tagName)
});
var spec_identifier = { __proto__: null, export: 20, as: 25, from: 33, default: 36, async: 41, function: 42, in: 52, out: 55, const: 56, extends: 60, this: 64, true: 72, false: 72, null: 84, void: 88, typeof: 92, super: 108, new: 142, delete: 154, yield: 163, await: 167, class: 172, public: 235, private: 235, protected: 235, readonly: 237, instanceof: 256, satisfies: 259, import: 292, keyof: 349, unique: 353, infer: 359, asserts: 395, is: 397, abstract: 417, implements: 419, type: 421, let: 424, var: 426, using: 429, interface: 435, enum: 439, namespace: 445, module: 447, declare: 451, global: 455, for: 474, of: 483, while: 486, with: 490, do: 494, if: 498, else: 500, switch: 504, case: 510, try: 516, catch: 520, finally: 524, return: 528, throw: 532, break: 536, continue: 540, debugger: 544 };
var spec_word = { __proto__: null, async: 129, get: 131, set: 133, declare: 195, public: 197, private: 197, protected: 197, static: 199, abstract: 201, override: 203, readonly: 209, accessor: 211, new: 401 };
var spec_LessThan = { __proto__: null, "<": 193 };
var parser3 = LRParser.deserialize({
  version: 14,
  states: "$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",
  stateData: "((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",
  goto: "$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",
  nodeNames: "\u26A0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",
  maxTerm: 379,
  context: trackNewline,
  nodeProps: [
    ["isolate", -8, 5, 6, 14, 37, 39, 51, 53, 55, ""],
    ["group", -26, 9, 17, 19, 68, 207, 211, 215, 216, 218, 221, 224, 234, 236, 242, 244, 246, 248, 251, 257, 263, 265, 267, 269, 271, 273, 274, "Statement", -34, 13, 14, 32, 35, 36, 42, 51, 54, 55, 57, 62, 70, 72, 76, 80, 82, 84, 85, 110, 111, 120, 121, 136, 139, 141, 142, 143, 144, 145, 147, 148, 167, 169, 171, "Expression", -23, 31, 33, 37, 41, 43, 45, 173, 175, 177, 178, 180, 181, 182, 184, 185, 186, 188, 189, 190, 201, 203, 205, 206, "Type", -3, 88, 103, 109, "ClassItem"],
    ["openedBy", 23, "<", 38, "InterpolationStart", 56, "[", 60, "{", 73, "(", 160, "JSXStartCloseTag"],
    ["closedBy", -2, 24, 168, ">", 40, "InterpolationEnd", 50, "]", 61, "}", 74, ")", 165, "JSXEndTag"]
  ],
  propSources: [jsHighlight],
  skippedNodes: [0, 5, 6, 277],
  repeatNodeCount: 37,
  tokenData: "$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",
  tokenizers: [noSemicolon, noSemicolonType, operatorToken, jsx, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, insertSemicolon, new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~", 141, 339), new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~", 25, 322)],
  topRules: { "Script": [0, 7], "SingleExpression": [1, 275], "SingleClassItem": [2, 276] },
  dialects: { jsx: 0, ts: 15098 },
  dynamicPrecedences: { "80": 1, "82": 1, "94": 1, "169": 1, "199": 1 },
  specialized: [{ term: 326, get: (value) => spec_identifier[value] || -1 }, { term: 342, get: (value) => spec_word[value] || -1 }, { term: 95, get: (value) => spec_LessThan[value] || -1 }],
  tokenPrec: 15124
});

// node_modules/@codemirror/lang-javascript/dist/index.js
var snippets = [
  /* @__PURE__ */ snippetCompletion("function ${name}(${params}) {\n	${}\n}", {
    label: "function",
    detail: "definition",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}", {
    label: "for",
    detail: "loop",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}", {
    label: "for",
    detail: "of loop",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("do {\n	${}\n} while (${})", {
    label: "do",
    detail: "loop",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("while (${}) {\n	${}\n}", {
    label: "while",
    detail: "loop",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("try {\n	${}\n} catch (${error}) {\n	${}\n}", {
    label: "try",
    detail: "/ catch block",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("if (${}) {\n	${}\n}", {
    label: "if",
    detail: "block",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("if (${}) {\n	${}\n} else {\n	${}\n}", {
    label: "if",
    detail: "/ else block",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("class ${name} {\n	constructor(${params}) {\n		${}\n	}\n}", {
    label: "class",
    detail: "definition",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion('import {${names}} from "${module}"\n${}', {
    label: "import",
    detail: "named",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion('import ${name} from "${module}"\n${}', {
    label: "import",
    detail: "default",
    type: "keyword"
  })
];
var typescriptSnippets = /* @__PURE__ */ snippets.concat([
  /* @__PURE__ */ snippetCompletion("interface ${name} {\n	${}\n}", {
    label: "interface",
    detail: "definition",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("type ${name} = ${type}", {
    label: "type",
    detail: "definition",
    type: "keyword"
  }),
  /* @__PURE__ */ snippetCompletion("enum ${name} {\n	${}\n}", {
    label: "enum",
    detail: "definition",
    type: "keyword"
  })
]);
var cache = /* @__PURE__ */ new NodeWeakMap();
var ScopeNodes = /* @__PURE__ */ new Set([
  "Script",
  "Block",
  "FunctionExpression",
  "FunctionDeclaration",
  "ArrowFunction",
  "MethodDeclaration",
  "ForStatement"
]);
function defID(type) {
  return (node, def) => {
    let id2 = node.node.getChild("VariableDefinition");
    if (id2)
      def(id2, type);
    return true;
  };
}
var functionContext = ["FunctionDeclaration"];
var gatherCompletions = {
  FunctionDeclaration: /* @__PURE__ */ defID("function"),
  ClassDeclaration: /* @__PURE__ */ defID("class"),
  ClassExpression: () => true,
  EnumDeclaration: /* @__PURE__ */ defID("constant"),
  TypeAliasDeclaration: /* @__PURE__ */ defID("type"),
  NamespaceDeclaration: /* @__PURE__ */ defID("namespace"),
  VariableDefinition(node, def) {
    if (!node.matchContext(functionContext))
      def(node, "variable");
  },
  TypeDefinition(node, def) {
    def(node, "type");
  },
  __proto__: null
};
function getScope(doc2, node) {
  let cached = cache.get(node);
  if (cached)
    return cached;
  let completions = [], top2 = true;
  function def(node2, type) {
    let name2 = doc2.sliceString(node2.from, node2.to);
    completions.push({ label: name2, type });
  }
  node.cursor(IterMode.IncludeAnonymous).iterate((node2) => {
    if (top2) {
      top2 = false;
    } else if (node2.name) {
      let gather = gatherCompletions[node2.name];
      if (gather && gather(node2, def) || ScopeNodes.has(node2.name))
        return false;
    } else if (node2.to - node2.from > 8192) {
      for (let c of getScope(doc2, node2.node))
        completions.push(c);
      return false;
    }
  });
  cache.set(node, completions);
  return completions;
}
var Identifier = /^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/;
var dontComplete = [
  "TemplateString",
  "String",
  "RegExp",
  "LineComment",
  "BlockComment",
  "VariableDefinition",
  "TypeDefinition",
  "Label",
  "PropertyDefinition",
  "PropertyName",
  "PrivatePropertyDefinition",
  "PrivatePropertyName",
  "JSXText",
  "JSXAttributeValue",
  "JSXOpenTag",
  "JSXCloseTag",
  "JSXSelfClosingTag",
  ".",
  "?."
];
function localCompletionSource(context) {
  let inner = syntaxTree(context.state).resolveInner(context.pos, -1);
  if (dontComplete.indexOf(inner.name) > -1)
    return null;
  let isWord = inner.name == "VariableName" || inner.to - inner.from < 20 && Identifier.test(context.state.sliceDoc(inner.from, inner.to));
  if (!isWord && !context.explicit)
    return null;
  let options = [];
  for (let pos = inner; pos; pos = pos.parent) {
    if (ScopeNodes.has(pos.name))
      options = options.concat(getScope(context.state.doc, pos));
  }
  return {
    options,
    from: isWord ? inner.from : context.pos,
    validFor: Identifier
  };
}
var javascriptLanguage = /* @__PURE__ */ LRLanguage.define({
  name: "javascript",
  parser: /* @__PURE__ */ parser3.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        IfStatement: /* @__PURE__ */ continuedIndent({ except: /^\s*({|else\b)/ }),
        TryStatement: /* @__PURE__ */ continuedIndent({ except: /^\s*({|catch\b|finally\b)/ }),
        LabeledStatement: flatIndent,
        SwitchBody: (context) => {
          let after = context.textAfter, closed = /^\s*\}/.test(after), isCase = /^\s*(case|default)\b/.test(after);
          return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;
        },
        Block: /* @__PURE__ */ delimitedIndent({ closing: "}" }),
        ArrowFunction: (cx) => cx.baseIndent + cx.unit,
        "TemplateString BlockComment": () => null,
        "Statement Property": /* @__PURE__ */ continuedIndent({ except: /^\s*{/ }),
        JSXElement(context) {
          let closed = /^\s*<\//.test(context.textAfter);
          return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);
        },
        JSXEscape(context) {
          let closed = /\s*\}/.test(context.textAfter);
          return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);
        },
        "JSXOpenTag JSXSelfClosingTag"(context) {
          return context.column(context.node.from) + context.unit;
        }
      }),
      /* @__PURE__ */ foldNodeProp.add({
        "Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType": foldInside,
        BlockComment(tree) {
          return { from: tree.from + 2, to: tree.to - 2 };
        }
      })
    ]
  }),
  languageData: {
    closeBrackets: { brackets: ["(", "[", "{", "'", '"', "`"] },
    commentTokens: { line: "//", block: { open: "/*", close: "*/" } },
    indentOnInput: /^\s*(?:case |default:|\{|\}|<\/)$/,
    wordChars: "$"
  }
});
var jsxSublanguage = {
  test: (node) => /^JSX/.test(node.name),
  facet: /* @__PURE__ */ defineLanguageFacet({ commentTokens: { block: { open: "{/*", close: "*/}" } } })
};
var typescriptLanguage = /* @__PURE__ */ javascriptLanguage.configure({ dialect: "ts" }, "typescript");
var jsxLanguage = /* @__PURE__ */ javascriptLanguage.configure({
  dialect: "jsx",
  props: [/* @__PURE__ */ sublanguageProp.add((n) => n.isTop ? [jsxSublanguage] : void 0)]
});
var tsxLanguage = /* @__PURE__ */ javascriptLanguage.configure({
  dialect: "jsx ts",
  props: [/* @__PURE__ */ sublanguageProp.add((n) => n.isTop ? [jsxSublanguage] : void 0)]
}, "typescript");
var kwCompletion = (name2) => ({ label: name2, type: "keyword" });
var keywords = /* @__PURE__ */ "break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion);
var typescriptKeywords = /* @__PURE__ */ keywords.concat(/* @__PURE__ */ ["declare", "implements", "private", "protected", "public"].map(kwCompletion));
function javascript(config2 = {}) {
  let lang = config2.jsx ? config2.typescript ? tsxLanguage : jsxLanguage : config2.typescript ? typescriptLanguage : javascriptLanguage;
  let completions = config2.typescript ? typescriptSnippets.concat(typescriptKeywords) : snippets.concat(keywords);
  return new LanguageSupport(lang, [
    javascriptLanguage.data.of({
      autocomplete: ifNotIn(dontComplete, completeFromList(completions))
    }),
    javascriptLanguage.data.of({
      autocomplete: localCompletionSource
    }),
    config2.jsx ? autoCloseTags : []
  ]);
}
function findOpenTag(node) {
  for (; ; ) {
    if (node.name == "JSXOpenTag" || node.name == "JSXSelfClosingTag" || node.name == "JSXFragmentTag")
      return node;
    if (node.name == "JSXEscape" || !node.parent)
      return null;
    node = node.parent;
  }
}
function elementName(doc2, tree, max = doc2.length) {
  for (let ch = tree === null || tree === void 0 ? void 0 : tree.firstChild; ch; ch = ch.nextSibling) {
    if (ch.name == "JSXIdentifier" || ch.name == "JSXBuiltin" || ch.name == "JSXNamespacedName" || ch.name == "JSXMemberExpression")
      return doc2.sliceString(ch.from, Math.min(ch.to, max));
  }
  return "";
}
var android2 = typeof navigator == "object" && /* @__PURE__ */ /Android\b/.test(navigator.userAgent);
var autoCloseTags = /* @__PURE__ */ EditorView.inputHandler.of((view, from2, to, text, defaultInsert) => {
  if ((android2 ? view.composing : view.compositionStarted) || view.state.readOnly || from2 != to || text != ">" && text != "/" || !javascriptLanguage.isActiveAt(view.state, from2, -1))
    return false;
  let base2 = defaultInsert(), { state } = base2;
  let closeTags = state.changeByRange((range) => {
    var _a2;
    let { head } = range, around = syntaxTree(state).resolveInner(head - 1, -1), name2;
    if (around.name == "JSXStartTag")
      around = around.parent;
    if (state.doc.sliceString(head - 1, head) != text || around.name == "JSXAttributeValue" && around.to > head) ;
    else if (text == ">" && around.name == "JSXFragmentTag") {
      return { range, changes: { from: head, insert: `</>` } };
    } else if (text == "/" && around.name == "JSXStartCloseTag") {
      let empty2 = around.parent, base3 = empty2.parent;
      if (base3 && empty2.from == head - 2 && ((name2 = elementName(state.doc, base3.firstChild, head)) || ((_a2 = base3.firstChild) === null || _a2 === void 0 ? void 0 : _a2.name) == "JSXFragmentTag")) {
        let insert2 = `${name2}>`;
        return { range: EditorSelection.cursor(head + insert2.length, -1), changes: { from: head, insert: insert2 } };
      }
    } else if (text == ">") {
      let openTag = findOpenTag(around);
      if (openTag && openTag.name == "JSXOpenTag" && !/^\/?>|^<\//.test(state.doc.sliceString(head, head + 2)) && (name2 = elementName(state.doc, openTag, head)))
        return { range, changes: { from: head, insert: `</${name2}>` } };
    }
    return { range };
  });
  if (closeTags.changes.empty)
    return false;
  view.dispatch([
    base2,
    state.update(closeTags, { userEvent: "input.complete", scrollIntoView: true })
  ]);
  return true;
});

// node_modules/@codemirror/lang-html/dist/index.js
var Targets = ["_blank", "_self", "_top", "_parent"];
var Charsets = ["ascii", "utf-8", "utf-16", "latin1", "latin1"];
var Methods = ["get", "post", "put", "delete"];
var Encs = ["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"];
var Bool = ["true", "false"];
var S = {};
var Tags = {
  a: {
    attrs: {
      href: null,
      ping: null,
      type: null,
      media: null,
      target: Targets,
      hreflang: null
    }
  },
  abbr: S,
  address: S,
  area: {
    attrs: {
      alt: null,
      coords: null,
      href: null,
      target: null,
      ping: null,
      media: null,
      hreflang: null,
      type: null,
      shape: ["default", "rect", "circle", "poly"]
    }
  },
  article: S,
  aside: S,
  audio: {
    attrs: {
      src: null,
      mediagroup: null,
      crossorigin: ["anonymous", "use-credentials"],
      preload: ["none", "metadata", "auto"],
      autoplay: ["autoplay"],
      loop: ["loop"],
      controls: ["controls"]
    }
  },
  b: S,
  base: { attrs: { href: null, target: Targets } },
  bdi: S,
  bdo: S,
  blockquote: { attrs: { cite: null } },
  body: S,
  br: S,
  button: {
    attrs: {
      form: null,
      formaction: null,
      name: null,
      value: null,
      autofocus: ["autofocus"],
      disabled: ["autofocus"],
      formenctype: Encs,
      formmethod: Methods,
      formnovalidate: ["novalidate"],
      formtarget: Targets,
      type: ["submit", "reset", "button"]
    }
  },
  canvas: { attrs: { width: null, height: null } },
  caption: S,
  center: S,
  cite: S,
  code: S,
  col: { attrs: { span: null } },
  colgroup: { attrs: { span: null } },
  command: {
    attrs: {
      type: ["command", "checkbox", "radio"],
      label: null,
      icon: null,
      radiogroup: null,
      command: null,
      title: null,
      disabled: ["disabled"],
      checked: ["checked"]
    }
  },
  data: { attrs: { value: null } },
  datagrid: { attrs: { disabled: ["disabled"], multiple: ["multiple"] } },
  datalist: { attrs: { data: null } },
  dd: S,
  del: { attrs: { cite: null, datetime: null } },
  details: { attrs: { open: ["open"] } },
  dfn: S,
  div: S,
  dl: S,
  dt: S,
  em: S,
  embed: { attrs: { src: null, type: null, width: null, height: null } },
  eventsource: { attrs: { src: null } },
  fieldset: { attrs: { disabled: ["disabled"], form: null, name: null } },
  figcaption: S,
  figure: S,
  footer: S,
  form: {
    attrs: {
      action: null,
      name: null,
      "accept-charset": Charsets,
      autocomplete: ["on", "off"],
      enctype: Encs,
      method: Methods,
      novalidate: ["novalidate"],
      target: Targets
    }
  },
  h1: S,
  h2: S,
  h3: S,
  h4: S,
  h5: S,
  h6: S,
  head: {
    children: ["title", "base", "link", "style", "meta", "script", "noscript", "command"]
  },
  header: S,
  hgroup: S,
  hr: S,
  html: {
    attrs: { manifest: null }
  },
  i: S,
  iframe: {
    attrs: {
      src: null,
      srcdoc: null,
      name: null,
      width: null,
      height: null,
      sandbox: ["allow-top-navigation", "allow-same-origin", "allow-forms", "allow-scripts"],
      seamless: ["seamless"]
    }
  },
  img: {
    attrs: {
      alt: null,
      src: null,
      ismap: null,
      usemap: null,
      width: null,
      height: null,
      crossorigin: ["anonymous", "use-credentials"]
    }
  },
  input: {
    attrs: {
      alt: null,
      dirname: null,
      form: null,
      formaction: null,
      height: null,
      list: null,
      max: null,
      maxlength: null,
      min: null,
      name: null,
      pattern: null,
      placeholder: null,
      size: null,
      src: null,
      step: null,
      value: null,
      width: null,
      accept: ["audio/*", "video/*", "image/*"],
      autocomplete: ["on", "off"],
      autofocus: ["autofocus"],
      checked: ["checked"],
      disabled: ["disabled"],
      formenctype: Encs,
      formmethod: Methods,
      formnovalidate: ["novalidate"],
      formtarget: Targets,
      multiple: ["multiple"],
      readonly: ["readonly"],
      required: ["required"],
      type: [
        "hidden",
        "text",
        "search",
        "tel",
        "url",
        "email",
        "password",
        "datetime",
        "date",
        "month",
        "week",
        "time",
        "datetime-local",
        "number",
        "range",
        "color",
        "checkbox",
        "radio",
        "file",
        "submit",
        "image",
        "reset",
        "button"
      ]
    }
  },
  ins: { attrs: { cite: null, datetime: null } },
  kbd: S,
  keygen: {
    attrs: {
      challenge: null,
      form: null,
      name: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      keytype: ["RSA"]
    }
  },
  label: { attrs: { for: null, form: null } },
  legend: S,
  li: { attrs: { value: null } },
  link: {
    attrs: {
      href: null,
      type: null,
      hreflang: null,
      media: null,
      sizes: ["all", "16x16", "16x16 32x32", "16x16 32x32 64x64"]
    }
  },
  map: { attrs: { name: null } },
  mark: S,
  menu: { attrs: { label: null, type: ["list", "context", "toolbar"] } },
  meta: {
    attrs: {
      content: null,
      charset: Charsets,
      name: ["viewport", "application-name", "author", "description", "generator", "keywords"],
      "http-equiv": ["content-language", "content-type", "default-style", "refresh"]
    }
  },
  meter: { attrs: { value: null, min: null, low: null, high: null, max: null, optimum: null } },
  nav: S,
  noscript: S,
  object: {
    attrs: {
      data: null,
      type: null,
      name: null,
      usemap: null,
      form: null,
      width: null,
      height: null,
      typemustmatch: ["typemustmatch"]
    }
  },
  ol: {
    attrs: { reversed: ["reversed"], start: null, type: ["1", "a", "A", "i", "I"] },
    children: ["li", "script", "template", "ul", "ol"]
  },
  optgroup: { attrs: { disabled: ["disabled"], label: null } },
  option: { attrs: { disabled: ["disabled"], label: null, selected: ["selected"], value: null } },
  output: { attrs: { for: null, form: null, name: null } },
  p: S,
  param: { attrs: { name: null, value: null } },
  pre: S,
  progress: { attrs: { value: null, max: null } },
  q: { attrs: { cite: null } },
  rp: S,
  rt: S,
  ruby: S,
  samp: S,
  script: {
    attrs: {
      type: ["text/javascript"],
      src: null,
      async: ["async"],
      defer: ["defer"],
      charset: Charsets
    }
  },
  section: S,
  select: {
    attrs: {
      form: null,
      name: null,
      size: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      multiple: ["multiple"]
    }
  },
  slot: { attrs: { name: null } },
  small: S,
  source: { attrs: { src: null, type: null, media: null } },
  span: S,
  strong: S,
  style: {
    attrs: {
      type: ["text/css"],
      media: null,
      scoped: null
    }
  },
  sub: S,
  summary: S,
  sup: S,
  table: S,
  tbody: S,
  td: { attrs: { colspan: null, rowspan: null, headers: null } },
  template: S,
  textarea: {
    attrs: {
      dirname: null,
      form: null,
      maxlength: null,
      name: null,
      placeholder: null,
      rows: null,
      cols: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      readonly: ["readonly"],
      required: ["required"],
      wrap: ["soft", "hard"]
    }
  },
  tfoot: S,
  th: { attrs: { colspan: null, rowspan: null, headers: null, scope: ["row", "col", "rowgroup", "colgroup"] } },
  thead: S,
  time: { attrs: { datetime: null } },
  title: S,
  tr: S,
  track: {
    attrs: {
      src: null,
      label: null,
      default: null,
      kind: ["subtitles", "captions", "descriptions", "chapters", "metadata"],
      srclang: null
    }
  },
  ul: { children: ["li", "script", "template", "ul", "ol"] },
  var: S,
  video: {
    attrs: {
      src: null,
      poster: null,
      width: null,
      height: null,
      crossorigin: ["anonymous", "use-credentials"],
      preload: ["auto", "metadata", "none"],
      autoplay: ["autoplay"],
      mediagroup: ["movie"],
      muted: ["muted"],
      controls: ["controls"]
    }
  },
  wbr: S
};
var GlobalAttrs = {
  accesskey: null,
  class: null,
  contenteditable: Bool,
  contextmenu: null,
  dir: ["ltr", "rtl", "auto"],
  draggable: ["true", "false", "auto"],
  dropzone: ["copy", "move", "link", "string:", "file:"],
  hidden: ["hidden"],
  id: null,
  inert: ["inert"],
  itemid: null,
  itemprop: null,
  itemref: null,
  itemscope: ["itemscope"],
  itemtype: null,
  lang: ["ar", "bn", "de", "en-GB", "en-US", "es", "fr", "hi", "id", "ja", "pa", "pt", "ru", "tr", "zh"],
  spellcheck: Bool,
  autocorrect: Bool,
  autocapitalize: Bool,
  style: null,
  tabindex: null,
  title: null,
  translate: ["yes", "no"],
  rel: ["stylesheet", "alternate", "author", "bookmark", "help", "license", "next", "nofollow", "noreferrer", "prefetch", "prev", "search", "tag"],
  role: /* @__PURE__ */ "alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),
  "aria-activedescendant": null,
  "aria-atomic": Bool,
  "aria-autocomplete": ["inline", "list", "both", "none"],
  "aria-busy": Bool,
  "aria-checked": ["true", "false", "mixed", "undefined"],
  "aria-controls": null,
  "aria-describedby": null,
  "aria-disabled": Bool,
  "aria-dropeffect": null,
  "aria-expanded": ["true", "false", "undefined"],
  "aria-flowto": null,
  "aria-grabbed": ["true", "false", "undefined"],
  "aria-haspopup": Bool,
  "aria-hidden": Bool,
  "aria-invalid": ["true", "false", "grammar", "spelling"],
  "aria-label": null,
  "aria-labelledby": null,
  "aria-level": null,
  "aria-live": ["off", "polite", "assertive"],
  "aria-multiline": Bool,
  "aria-multiselectable": Bool,
  "aria-owns": null,
  "aria-posinset": null,
  "aria-pressed": ["true", "false", "mixed", "undefined"],
  "aria-readonly": Bool,
  "aria-relevant": null,
  "aria-required": Bool,
  "aria-selected": ["true", "false", "undefined"],
  "aria-setsize": null,
  "aria-sort": ["ascending", "descending", "none", "other"],
  "aria-valuemax": null,
  "aria-valuemin": null,
  "aria-valuenow": null,
  "aria-valuetext": null
};
var eventAttributes = /* @__PURE__ */ "beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map((n) => "on" + n);
for (let a of eventAttributes)
  GlobalAttrs[a] = null;
var Schema = class {
  constructor(extraTags, extraAttrs) {
    this.tags = Object.assign(Object.assign({}, Tags), extraTags);
    this.globalAttrs = Object.assign(Object.assign({}, GlobalAttrs), extraAttrs);
    this.allTags = Object.keys(this.tags);
    this.globalAttrNames = Object.keys(this.globalAttrs);
  }
};
Schema.default = /* @__PURE__ */ new Schema();
function elementName2(doc2, tree, max = doc2.length) {
  if (!tree)
    return "";
  let tag = tree.firstChild;
  let name2 = tag && tag.getChild("TagName");
  return name2 ? doc2.sliceString(name2.from, Math.min(name2.to, max)) : "";
}
function findParentElement(tree, skip = false) {
  for (; tree; tree = tree.parent)
    if (tree.name == "Element") {
      if (skip)
        skip = false;
      else
        return tree;
    }
  return null;
}
function allowedChildren(doc2, tree, schema) {
  let parentInfo = schema.tags[elementName2(doc2, findParentElement(tree))];
  return (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.children) || schema.allTags;
}
function openTags(doc2, tree) {
  let open = [];
  for (let parent = findParentElement(tree); parent && !parent.type.isTop; parent = findParentElement(parent.parent)) {
    let tagName = elementName2(doc2, parent);
    if (tagName && parent.lastChild.name == "CloseTag")
      break;
    if (tagName && open.indexOf(tagName) < 0 && (tree.name == "EndTag" || tree.from >= parent.firstChild.to))
      open.push(tagName);
  }
  return open;
}
var identifier3 = /^[:\-\.\w\u00b7-\uffff]*$/;
function completeTag(state, schema, tree, from2, to) {
  let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
  let parent = findParentElement(tree, true);
  return {
    from: from2,
    to,
    options: allowedChildren(state.doc, parent, schema).map((tagName) => ({ label: tagName, type: "type" })).concat(openTags(state.doc, tree).map((tag, i) => ({
      label: "/" + tag,
      apply: "/" + tag + end,
      type: "type",
      boost: 99 - i
    }))),
    validFor: /^\/?[:\-\.\w\u00b7-\uffff]*$/
  };
}
function completeCloseTag(state, tree, from2, to) {
  let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
  return {
    from: from2,
    to,
    options: openTags(state.doc, tree).map((tag, i) => ({ label: tag, apply: tag + end, type: "type", boost: 99 - i })),
    validFor: identifier3
  };
}
function completeStartTag(state, schema, tree, pos) {
  let options = [], level = 0;
  for (let tagName of allowedChildren(state.doc, tree, schema))
    options.push({ label: "<" + tagName, type: "type" });
  for (let open of openTags(state.doc, tree))
    options.push({ label: "</" + open + ">", type: "type", boost: 99 - level++ });
  return { from: pos, to: pos, options, validFor: /^<\/?[:\-\.\w\u00b7-\uffff]*$/ };
}
function completeAttrName(state, schema, tree, from2, to) {
  let elt = findParentElement(tree), info = elt ? schema.tags[elementName2(state.doc, elt)] : null;
  let localAttrs = info && info.attrs ? Object.keys(info.attrs) : [];
  let names = info && info.globalAttrs === false ? localAttrs : localAttrs.length ? localAttrs.concat(schema.globalAttrNames) : schema.globalAttrNames;
  return {
    from: from2,
    to,
    options: names.map((attrName) => ({ label: attrName, type: "property" })),
    validFor: identifier3
  };
}
function completeAttrValue(state, schema, tree, from2, to) {
  var _a2;
  let nameNode = (_a2 = tree.parent) === null || _a2 === void 0 ? void 0 : _a2.getChild("AttributeName");
  let options = [], token = void 0;
  if (nameNode) {
    let attrName = state.sliceDoc(nameNode.from, nameNode.to);
    let attrs = schema.globalAttrs[attrName];
    if (!attrs) {
      let elt = findParentElement(tree), info = elt ? schema.tags[elementName2(state.doc, elt)] : null;
      attrs = (info === null || info === void 0 ? void 0 : info.attrs) && info.attrs[attrName];
    }
    if (attrs) {
      let base2 = state.sliceDoc(from2, to).toLowerCase(), quoteStart = '"', quoteEnd = '"';
      if (/^['"]/.test(base2)) {
        token = base2[0] == '"' ? /^[^"]*$/ : /^[^']*$/;
        quoteStart = "";
        quoteEnd = state.sliceDoc(to, to + 1) == base2[0] ? "" : base2[0];
        base2 = base2.slice(1);
        from2++;
      } else {
        token = /^[^\s<>='"]*$/;
      }
      for (let value of attrs)
        options.push({ label: value, apply: quoteStart + value + quoteEnd, type: "constant" });
    }
  }
  return { from: from2, to, options, validFor: token };
}
function htmlCompletionFor(schema, context) {
  let { state, pos } = context, tree = syntaxTree(state).resolveInner(pos, -1), around = tree.resolve(pos);
  for (let scan = pos, before; around == tree && (before = tree.childBefore(scan)); ) {
    let last = before.lastChild;
    if (!last || !last.type.isError || last.from < last.to)
      break;
    around = tree = before;
    scan = last.from;
  }
  if (tree.name == "TagName") {
    return tree.parent && /CloseTag$/.test(tree.parent.name) ? completeCloseTag(state, tree, tree.from, pos) : completeTag(state, schema, tree, tree.from, pos);
  } else if (tree.name == "StartTag") {
    return completeTag(state, schema, tree, pos, pos);
  } else if (tree.name == "StartCloseTag" || tree.name == "IncompleteCloseTag") {
    return completeCloseTag(state, tree, pos, pos);
  } else if (tree.name == "OpenTag" || tree.name == "SelfClosingTag" || tree.name == "AttributeName") {
    return completeAttrName(state, schema, tree, tree.name == "AttributeName" ? tree.from : pos, pos);
  } else if (tree.name == "Is" || tree.name == "AttributeValue" || tree.name == "UnquotedAttributeValue") {
    return completeAttrValue(state, schema, tree, tree.name == "Is" ? pos : tree.from, pos);
  } else if (context.explicit && (around.name == "Element" || around.name == "Text" || around.name == "Document")) {
    return completeStartTag(state, schema, tree, pos);
  } else {
    return null;
  }
}
function htmlCompletionSourceWith(config2) {
  let { extraTags, extraGlobalAttributes: extraAttrs } = config2;
  let schema = extraAttrs || extraTags ? new Schema(extraTags, extraAttrs) : Schema.default;
  return (context) => htmlCompletionFor(schema, context);
}
var jsonParser = /* @__PURE__ */ javascriptLanguage.parser.configure({ top: "SingleExpression" });
var defaultNesting = [
  {
    tag: "script",
    attrs: (attrs) => attrs.type == "text/typescript" || attrs.lang == "ts",
    parser: typescriptLanguage.parser
  },
  {
    tag: "script",
    attrs: (attrs) => attrs.type == "text/babel" || attrs.type == "text/jsx",
    parser: jsxLanguage.parser
  },
  {
    tag: "script",
    attrs: (attrs) => attrs.type == "text/typescript-jsx",
    parser: tsxLanguage.parser
  },
  {
    tag: "script",
    attrs(attrs) {
      return /^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(attrs.type);
    },
    parser: jsonParser
  },
  {
    tag: "script",
    attrs(attrs) {
      return !attrs.type || /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(attrs.type);
    },
    parser: javascriptLanguage.parser
  },
  {
    tag: "style",
    attrs(attrs) {
      return (!attrs.lang || attrs.lang == "css") && (!attrs.type || /^(text\/)?(x-)?(stylesheet|css)$/i.test(attrs.type));
    },
    parser: cssLanguage.parser
  }
];
var defaultAttrs = /* @__PURE__ */ [
  {
    name: "style",
    parser: /* @__PURE__ */ cssLanguage.parser.configure({ top: "Styles" })
  }
].concat(/* @__PURE__ */ eventAttributes.map((name2) => ({ name: name2, parser: javascriptLanguage.parser })));
var htmlPlain = /* @__PURE__ */ LRLanguage.define({
  name: "html",
  parser: /* @__PURE__ */ parser2.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        Element(context) {
          let after = /^(\s*)(<\/)?/.exec(context.textAfter);
          if (context.node.to <= context.pos + after[0].length)
            return context.continue();
          return context.lineIndent(context.node.from) + (after[2] ? 0 : context.unit);
        },
        "OpenTag CloseTag SelfClosingTag"(context) {
          return context.column(context.node.from) + context.unit;
        },
        Document(context) {
          if (context.pos + /\s*/.exec(context.textAfter)[0].length < context.node.to)
            return context.continue();
          let endElt = null, close;
          for (let cur2 = context.node; ; ) {
            let last = cur2.lastChild;
            if (!last || last.name != "Element" || last.to != cur2.to)
              break;
            endElt = cur2 = last;
          }
          if (endElt && !((close = endElt.lastChild) && (close.name == "CloseTag" || close.name == "SelfClosingTag")))
            return context.lineIndent(endElt.from) + context.unit;
          return null;
        }
      }),
      /* @__PURE__ */ foldNodeProp.add({
        Element(node) {
          let first = node.firstChild, last = node.lastChild;
          if (!first || first.name != "OpenTag")
            return null;
          return { from: first.to, to: last.name == "CloseTag" ? last.from : node.to };
        }
      }),
      /* @__PURE__ */ bracketMatchingHandle.add({
        "OpenTag CloseTag": (node) => node.getChild("TagName")
      })
    ]
  }),
  languageData: {
    commentTokens: { block: { open: "<!--", close: "-->" } },
    indentOnInput: /^\s*<\/\w+\W$/,
    wordChars: "-._"
  }
});
var htmlLanguage = /* @__PURE__ */ htmlPlain.configure({
  wrap: /* @__PURE__ */ configureNesting(defaultNesting, defaultAttrs)
});
function html(config2 = {}) {
  let dialect = "", wrap;
  if (config2.matchClosingTags === false)
    dialect = "noMatch";
  if (config2.selfClosingTags === true)
    dialect = (dialect ? dialect + " " : "") + "selfClosing";
  if (config2.nestedLanguages && config2.nestedLanguages.length || config2.nestedAttributes && config2.nestedAttributes.length)
    wrap = configureNesting((config2.nestedLanguages || []).concat(defaultNesting), (config2.nestedAttributes || []).concat(defaultAttrs));
  let lang = wrap ? htmlPlain.configure({ wrap, dialect }) : dialect ? htmlLanguage.configure({ dialect }) : htmlLanguage;
  return new LanguageSupport(lang, [
    htmlLanguage.data.of({ autocomplete: htmlCompletionSourceWith(config2) }),
    config2.autoCloseTags !== false ? autoCloseTags2 : [],
    javascript().support,
    css().support
  ]);
}
var selfClosers2 = /* @__PURE__ */ new Set(/* @__PURE__ */ "area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" "));
var autoCloseTags2 = /* @__PURE__ */ EditorView.inputHandler.of((view, from2, to, text, insertTransaction) => {
  if (view.composing || view.state.readOnly || from2 != to || text != ">" && text != "/" || !htmlLanguage.isActiveAt(view.state, from2, -1))
    return false;
  let base2 = insertTransaction(), { state } = base2;
  let closeTags = state.changeByRange((range) => {
    var _a2, _b, _c;
    let didType = state.doc.sliceString(range.from - 1, range.to) == text;
    let { head } = range, after = syntaxTree(state).resolveInner(head, -1), name2;
    if (didType && text == ">" && after.name == "EndTag") {
      let tag = after.parent;
      if (((_b = (_a2 = tag.parent) === null || _a2 === void 0 ? void 0 : _a2.lastChild) === null || _b === void 0 ? void 0 : _b.name) != "CloseTag" && (name2 = elementName2(state.doc, tag.parent, head)) && !selfClosers2.has(name2)) {
        let to2 = head + (state.doc.sliceString(head, head + 1) === ">" ? 1 : 0);
        let insert2 = `</${name2}>`;
        return { range, changes: { from: head, to: to2, insert: insert2 } };
      }
    } else if (didType && text == "/" && after.name == "IncompleteCloseTag") {
      let tag = after.parent;
      if (after.from == head - 2 && ((_c = tag.lastChild) === null || _c === void 0 ? void 0 : _c.name) != "CloseTag" && (name2 = elementName2(state.doc, tag, head)) && !selfClosers2.has(name2)) {
        let to2 = head + (state.doc.sliceString(head, head + 1) === ">" ? 1 : 0);
        let insert2 = `${name2}>`;
        return {
          range: EditorSelection.cursor(head + insert2.length, -1),
          changes: { from: head, to: to2, insert: insert2 }
        };
      }
    }
    return { range };
  });
  if (closeTags.changes.empty)
    return false;
  view.dispatch([
    base2,
    state.update(closeTags, {
      userEvent: "input.complete",
      scrollIntoView: true
    })
  ]);
  return true;
});

// node_modules/@lezer/json/dist/index.js
var jsonHighlighting = styleTags({
  String: tags.string,
  Number: tags.number,
  "True False": tags.bool,
  PropertyName: tags.propertyName,
  Null: tags.null,
  ", :": tags.separator,
  "[ ]": tags.squareBracket,
  "{ }": tags.brace
});
var parser4 = LRParser.deserialize({
  version: 14,
  states: "$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",
  stateData: "#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",
  goto: "!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",
  nodeNames: "\u26A0 JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",
  maxTerm: 25,
  nodeProps: [
    ["isolate", -2, 6, 11, ""],
    ["openedBy", 7, "{", 14, "["],
    ["closedBy", 8, "}", 15, "]"]
  ],
  propSources: [jsonHighlighting],
  skippedNodes: [0],
  repeatNodeCount: 2,
  tokenData: "(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",
  tokenizers: [0],
  topRules: { "JsonText": [0, 1] },
  tokenPrec: 0
});

// node_modules/@codemirror/lang-json/dist/index.js
var jsonLanguage = /* @__PURE__ */ LRLanguage.define({
  name: "json",
  parser: /* @__PURE__ */ parser4.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        Object: /* @__PURE__ */ continuedIndent({ except: /^\s*\}/ }),
        Array: /* @__PURE__ */ continuedIndent({ except: /^\s*\]/ })
      }),
      /* @__PURE__ */ foldNodeProp.add({
        "Object Array": foldInside
      })
    ]
  }),
  languageData: {
    closeBrackets: { brackets: ["[", "{", '"'] },
    indentOnInput: /^\s*[\}\]]$/
  }
});
function json() {
  return new LanguageSupport(jsonLanguage);
}

// node_modules/@lezer/php/dist/index.es.js
var castOpen = 1;
var HeredocString = 2;
var interpolatedStringContent = 263;
var EscapeSequence = 3;
var afterInterpolation = 264;
var automaticSemicolon = 265;
var eof = 266;
var abstract = 4;
var and = 5;
var array = 6;
var as = 7;
var Boolean = 8;
var _break = 9;
var _case = 10;
var _catch = 11;
var clone = 12;
var _const = 13;
var _continue = 14;
var _default = 15;
var declare = 16;
var _do = 17;
var echo = 18;
var _else = 19;
var elseif = 20;
var enddeclare = 21;
var endfor = 22;
var endforeach = 23;
var endif = 24;
var endswitch = 25;
var endwhile = 26;
var _enum = 27;
var _extends = 28;
var final = 29;
var _finally = 30;
var fn = 31;
var _for = 32;
var foreach = 33;
var from = 34;
var _function = 35;
var global = 36;
var goto = 37;
var _if = 38;
var _implements = 39;
var include = 40;
var include_once = 41;
var _instanceof = 42;
var insteadof = 43;
var _interface = 44;
var list = 45;
var match = 46;
var namespace = 47;
var _new = 48;
var _null = 49;
var or = 50;
var print = 51;
var _require = 52;
var require_once = 53;
var _return = 54;
var _switch = 55;
var _throw = 56;
var trait = 57;
var _try = 58;
var unset = 59;
var use = 60;
var _var = 61;
var Visibility = 62;
var _while = 63;
var xor = 64;
var _yield = 65;
var keywordMap = {
  abstract,
  and,
  array,
  as,
  true: Boolean,
  false: Boolean,
  break: _break,
  case: _case,
  catch: _catch,
  clone,
  const: _const,
  continue: _continue,
  declare,
  default: _default,
  do: _do,
  echo,
  else: _else,
  elseif,
  enddeclare,
  endfor,
  endforeach,
  endif,
  endswitch,
  endwhile,
  enum: _enum,
  extends: _extends,
  final,
  finally: _finally,
  fn,
  for: _for,
  foreach,
  from,
  function: _function,
  global,
  goto,
  if: _if,
  implements: _implements,
  include,
  include_once,
  instanceof: _instanceof,
  insteadof,
  interface: _interface,
  list,
  match,
  namespace,
  new: _new,
  null: _null,
  or,
  print,
  require: _require,
  require_once,
  return: _return,
  switch: _switch,
  throw: _throw,
  trait,
  try: _try,
  unset,
  use,
  var: _var,
  public: Visibility,
  private: Visibility,
  protected: Visibility,
  while: _while,
  xor,
  yield: _yield,
  __proto__: null
};
function keywords2(name2) {
  let found = keywordMap[name2.toLowerCase()];
  return found == null ? -1 : found;
}
function isSpace2(ch) {
  return ch == 9 || ch == 10 || ch == 13 || ch == 32;
}
function isASCIILetter(ch) {
  return ch >= 97 && ch <= 122 || ch >= 65 && ch <= 90;
}
function isIdentifierStart(ch) {
  return ch == 95 || ch >= 128 || isASCIILetter(ch);
}
function isHex(ch) {
  return ch >= 48 && ch <= 55 || ch >= 97 && ch <= 102 || ch >= 65 && ch <= 70;
}
var castTypes = {
  int: true,
  integer: true,
  bool: true,
  boolean: true,
  float: true,
  double: true,
  real: true,
  string: true,
  array: true,
  object: true,
  unset: true,
  __proto__: null
};
var expression = new ExternalTokenizer((input) => {
  if (input.next == 40) {
    input.advance();
    let peek = 0;
    while (isSpace2(input.peek(peek))) peek++;
    let name2 = "", next;
    while (isASCIILetter(next = input.peek(peek))) {
      name2 += String.fromCharCode(next);
      peek++;
    }
    while (isSpace2(input.peek(peek))) peek++;
    if (input.peek(peek) == 41 && castTypes[name2.toLowerCase()])
      input.acceptToken(castOpen);
  } else if (input.next == 60 && input.peek(1) == 60 && input.peek(2) == 60) {
    for (let i = 0; i < 3; i++) input.advance();
    while (input.next == 32 || input.next == 9) input.advance();
    let quoted = input.next == 39;
    if (quoted) input.advance();
    if (!isIdentifierStart(input.next)) return;
    let tag = String.fromCharCode(input.next);
    for (; ; ) {
      input.advance();
      if (!isIdentifierStart(input.next) && !(input.next >= 48 && input.next <= 55)) break;
      tag += String.fromCharCode(input.next);
    }
    if (quoted) {
      if (input.next != 39) return;
      input.advance();
    }
    if (input.next != 10 && input.next != 13) return;
    for (; ; ) {
      let lineStart = input.next == 10 || input.next == 13;
      input.advance();
      if (input.next < 0) return;
      if (lineStart) {
        while (input.next == 32 || input.next == 9) input.advance();
        let match2 = true;
        for (let i = 0; i < tag.length; i++) {
          if (input.next != tag.charCodeAt(i)) {
            match2 = false;
            break;
          }
          input.advance();
        }
        if (match2) return input.acceptToken(HeredocString);
      }
    }
  }
});
var eofToken = new ExternalTokenizer((input) => {
  if (input.next < 0) input.acceptToken(eof);
});
var semicolon2 = new ExternalTokenizer((input, stack) => {
  if (input.next == 63 && stack.canShift(automaticSemicolon) && input.peek(1) == 62)
    input.acceptToken(automaticSemicolon);
});
function scanEscape(input) {
  let after = input.peek(1);
  if (after == 110 || after == 114 || after == 116 || after == 118 || after == 101 || after == 102 || after == 92 || after == 36 || after == 34 || after == 123)
    return 2;
  if (after >= 48 && after <= 55) {
    let size = 2, next;
    while (size < 5 && (next = input.peek(size)) >= 48 && next <= 55) size++;
    return size;
  }
  if (after == 120 && isHex(input.peek(2))) {
    return isHex(input.peek(3)) ? 4 : 3;
  }
  if (after == 117 && input.peek(2) == 123) {
    for (let size = 3; ; size++) {
      let next = input.peek(size);
      if (next == 125) return size == 2 ? 0 : size + 1;
      if (!isHex(next)) break;
    }
  }
  return 0;
}
var interpolated = new ExternalTokenizer((input, stack) => {
  let content2 = false;
  for (; ; content2 = true) {
    if (input.next == 34 || input.next < 0 || input.next == 36 && (isIdentifierStart(input.peek(1)) || input.peek(1) == 123) || input.next == 123 && input.peek(1) == 36) {
      break;
    } else if (input.next == 92) {
      let escaped = scanEscape(input);
      if (escaped) {
        if (content2) break;
        else return input.acceptToken(EscapeSequence, escaped);
      }
    } else if (!content2 && (input.next == 91 || input.next == 45 && input.peek(1) == 62 && isIdentifierStart(input.peek(2)) || input.next == 63 && input.peek(1) == 45 && input.peek(2) == 62 && isIdentifierStart(input.peek(3))) && stack.canShift(afterInterpolation)) {
      break;
    }
    input.advance();
  }
  if (content2) input.acceptToken(interpolatedStringContent);
});
var phpHighlighting = styleTags({
  "Visibility abstract final static": tags.modifier,
  "for foreach while do if else elseif switch try catch finally return throw break continue default case": tags.controlKeyword,
  "endif endfor endforeach endswitch endwhile declare enddeclare goto match": tags.controlKeyword,
  "and or xor yield unset clone instanceof insteadof": tags.operatorKeyword,
  "function fn class trait implements extends const enum global interface use var": tags.definitionKeyword,
  "include include_once require require_once namespace": tags.moduleKeyword,
  "new from echo print array list as": tags.keyword,
  null: tags.null,
  Boolean: tags.bool,
  VariableName: tags.variableName,
  "NamespaceName/...": tags.namespace,
  "NamedType/...": tags.typeName,
  Name: tags.name,
  "CallExpression/Name": tags.function(tags.variableName),
  "LabelStatement/Name": tags.labelName,
  "MemberExpression/Name": tags.propertyName,
  "MemberExpression/VariableName": tags.special(tags.propertyName),
  "ScopedExpression/ClassMemberName/Name": tags.propertyName,
  "ScopedExpression/ClassMemberName/VariableName": tags.special(tags.propertyName),
  "CallExpression/MemberExpression/Name": tags.function(tags.propertyName),
  "CallExpression/ScopedExpression/ClassMemberName/Name": tags.function(tags.propertyName),
  "MethodDeclaration/Name": tags.function(tags.definition(tags.variableName)),
  "FunctionDefinition/Name": tags.function(tags.definition(tags.variableName)),
  "ClassDeclaration/Name": tags.definition(tags.className),
  UpdateOp: tags.updateOperator,
  ArithOp: tags.arithmeticOperator,
  LogicOp: tags.logicOperator,
  BitOp: tags.bitwiseOperator,
  CompareOp: tags.compareOperator,
  ControlOp: tags.controlOperator,
  AssignOp: tags.definitionOperator,
  "$ ConcatOp": tags.operator,
  LineComment: tags.lineComment,
  BlockComment: tags.blockComment,
  Integer: tags.integer,
  Float: tags.float,
  String: tags.string,
  ShellExpression: tags.special(tags.string),
  "=> ->": tags.punctuation,
  "( )": tags.paren,
  "#[ [ ]": tags.squareBracket,
  "${ { }": tags.brace,
  "-> ?->": tags.derefOperator,
  ", ; :: : \\": tags.separator,
  "PhpOpen PhpClose": tags.processingInstruction
});
var spec_Name = { __proto__: null, static: 311, STATIC: 311, class: 333, CLASS: 333 };
var parser5 = LRParser.deserialize({
  version: 14,
  states: "$GSQ`OWOOQhQaOOP%oO`OOOOO#t'#H_'#H_O%tO#|O'#DtOOO#u'#Dw'#DwQ&SOWO'#DwO&XO$VOOOOQ#u'#Dx'#DxO&lQaO'#D|O(mQdO'#E}O(tQdO'#EQO*kQaO'#EWO,zQ`O'#ETO-PQ`O'#E^O/nQaO'#E^O/uQ`O'#EfO/zQ`O'#EoO*kQaO'#EoO0VQ`O'#HhO0[Q`O'#E{O0[Q`O'#E{OOQS'#Ic'#IcO0aQ`O'#EvOOQS'#IZ'#IZO2oQdO'#IWO6tQeO'#FUO*kQaO'#FeO*kQaO'#FfO*kQaO'#FgO*kQaO'#FhO*kQaO'#FhO*kQaO'#FkOOQO'#Id'#IdO7RQ`O'#FqOOQO'#Hi'#HiO7ZQ`O'#HOO7uQ`O'#FlO8QQ`O'#H]O8]Q`O'#FvO8eQaO'#FwO*kQaO'#GVO*kQaO'#GYO8}OrO'#G]OOQS'#Iq'#IqOOQS'#Ip'#IpOOQS'#IW'#IWO,zQ`O'#GdO,zQ`O'#GfO,zQ`O'#GkOhQaO'#GmO9UQ`O'#GnO9ZQ`O'#GqO9`Q`O'#GtO9eQeO'#GuO9eQeO'#GvO9eQeO'#GwO9oQ`O'#GxO9tQ`O'#GzO9yQaO'#G{O<YQ`O'#G|O<_Q`O'#G}O<dQ`O'#G}O9oQ`O'#HOO<iQ`O'#HQO<nQ`O'#HRO<sQ`O'#HSO<xQ`O'#HVO=TQ`O'#HWO9yQaO'#H[OOQ#u'#IV'#IVOOQ#u'#Ha'#HaQhQaOOO=fQ`O'#HPO7pQ`O'#HPO=kO#|O'#DrPOOO)CCw)CCwOOO#t-E;]-E;]OOO#u,5:c,5:cOOO#u'#H`'#H`O&XO$VOOO=vQ$VO'#IUOOOO'#IU'#IUQOOOOOOOQ#y,5:h,5:hO=}QaO,5:hOOQ#u,5:j,5:jO@eQaO,5:mO@lQaO,5;UO*kQaO,5;UO@sQ`O,5;VOCbQaO'#EsOOQS,5;^,5;^OCiQ`O,5;jOOQP'#F]'#F]O*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qOOQ#u'#Im'#ImOOQS,5<q,5<qOOQ#u,5:l,5:lOEbQ`O,5:rOEiQdO'#E}OF]Q`O'#FlOFeQ`O'#FlOFmQ`O,5:oOFrQaO'#E_OOQS,5:x,5:xOHyQ`O'#I]O9yQaO'#EaO9yQaO'#I]OOQS'#I]'#I]OIQQ`O'#I[OIYQ`O,5:xO-UQaO,5:xOI_QaO'#EgOOQS,5;Q,5;QOOQS,5;Z,5;ZOIiQ`O,5;ZOOQO,5>S,5>SOJ[QdO,5;gOOQO-E;f-E;fOL^Q`O,5;gOLcQpO,5;bO0aQ`O'#EyOLkQtO'#E}OOQS'#Ez'#EzOOQS'#Ib'#IbOM`QaO,5:wO*kQaO,5;nOOQS,5;p,5;pO*kQaO,5;pOMgQdO,5<POMwQdO,5<QONXQdO,5<RONiQdO,5<SO!!sQdO,5<SO!!zQdO,5<VO!#[Q`O'#FrO!#gQ`O'#IgO!#oQ`O,5<]OOQO-E;g-E;gO!#tQ`O'#IoO<_Q`O,5=iO!#|Q`O,5=iO9oQ`O,5=jO!$RQ`O,5=nO!$WQ`O,5=kO!$]Q`O,5=kO!$bQ`O'#FnO!$xQ`O,5<WO!%TQ`O,5<WO!%WQ`O,5?ZO!%]Q`O,5<WO!%eQ`O,5<bO!%mQdO'#GPO!%{QdO'#InO!&WQdO,5=wO!&`Q`O,5<bO!%WQ`O,5<bO!&hQdO,5<cO!&xQ`O,5<cO!'lQdO,5<qO!)nQdO,5<tO!*OOrO'#HsOOOQ'#It'#ItO*kQaO'#GbOOOQ'#Hs'#HsO!*pOrO,5<wOOQS,5<w,5<wO!*wQaO,5=OO!+OQ`O,5=QO!+WQeO,5=VO!+bQ`O,5=XO!+gQaO'#GoO!+WQeO,5=YO9yQaO'#GrO!+WQeO,5=]O!&WQdO,5=`O(tQdO,5=aOOQ#u,5=a,5=aO(tQdO,5=bOOQ#u,5=b,5=bO(tQdO,5=cOOQ#u,5=c,5=cO!+nQ`O,5=dO!+vQ`O,5=fO!+{QdO'#IvOOQS'#Iv'#IvO!&WQdO,5=gO>UQaO,5=hO!-eQ`O'#F}O!-jQdO'#IlO!&WQdO,5=iOOQ#u,5=j,5=jO!-uQ`O,5=lO!-xQ`O,5=mO!-}Q`O,5=nO!.YQdO,5=qOOQ#u,5=q,5=qO!.eQ`O,5=rO!.eQ`O,5=rO!.mQdO'#IwO!.{Q`O'#HXO!&WQdO,5=rO!/ZQ`O,5=rO!/fQdO'#IYO!&WQdO,5=vOOQ#u-E;_-E;_O!1RQ`O,5=kOOO#u,5:^,5:^O!1^O#|O,5:^OOO#u-E;^-E;^OOOO,5>p,5>pOOQ#y1G0S1G0SO!1fQ`O1G0XO*kQaO1G0XO!2xQ`O1G0pOOQS1G0p1G0pO!4[Q`O1G0pOOQS'#I_'#I_O*kQaO'#I_OOQS1G0q1G0qO!4cQ`O'#IaO!7lQ`O'#E}O!7yQaO'#EuOOQO'#Ia'#IaO!8TQ`O'#I`O!8]Q`O,5;_OOQS'#FQ'#FQOOQS1G1U1G1UO!8bQdO1G1]O!:dQdO1G1]O!<PQdO1G1]O!=lQdO1G1]O!?XQdO1G1]O!@tQdO1G1]O!BaQdO1G1]O!C|QdO1G1]O!EiQdO1G1]O!GUQdO1G1]O!HqQdO1G1]O!J^QdO1G1]O!KyQdO1G1]O!MfQdO1G1]O# RQdO1G1]O#!nQdO1G1]OOQT1G0^1G0^O!%WQ`O,5<WO#$ZQaO'#EXOOQS1G0Z1G0ZO#$bQ`O,5:yOFuQaO,5:yO#$gQaO,5:}O#$nQdO,5:{O#&jQdO,5>wO#(fQaO'#HdO#(vQ`O,5>vOOQS1G0d1G0dO#)OQ`O1G0dO#)TQ`O'#I^O#*mQ`O'#I^O#*uQ`O,5;ROIbQaO,5;ROOQS1G0u1G0uPOQO'#E}'#E}O#+fQdO1G1RO0aQ`O'#HgO#-hQtO,5;cO#.YQaO1G0|OOQS,5;e,5;eO#0iQtO,5;gO#0vQdO1G0cO*kQaO1G0cO#2cQdO1G1YO#4OQdO1G1[OOQO,5<^,5<^O#4`Q`O'#HjO#4nQ`O,5?ROOQO1G1w1G1wO#4vQ`O,5?ZO!&WQdO1G3TO<_Q`O1G3TOOQ#u1G3U1G3UO#4{Q`O1G3YO!1RQ`O1G3VO#5WQ`O1G3VO#5]QpO'#FoO#5kQ`O'#FoO#5{Q`O'#FoO#6WQ`O'#FoO#6`Q`O'#FsO#6eQ`O'#FtOOQO'#If'#IfO#6lQ`O'#IeO#6tQ`O,5<YOOQS1G1r1G1rO0aQ`O1G1rO#6yQ`O1G1rO#7OQ`O1G1rO!%WQ`O1G4uO#7ZQdO1G4uO!%WQ`O1G1rO#7iQ`O1G1|O!%WQ`O1G1|O9yQaO,5<kO#7qQdO'#HqO#8PQdO,5?YOOQ#u1G3c1G3cO*kQaO1G1|O0aQ`O1G1|O#8[QdO1G1}O7RQ`O'#FyO7RQ`O'#FzO#:nQ`O'#F{OOQS1G1}1G1}O!-xQ`O1G1}O!1UQ`O1G1}O!1RQ`O1G1}O#;eO`O,5<xO#;jO`O,5<xO#;uO!bO,5<yO#<TQ`O,5<|OOOQ-E;q-E;qOOQS1G2c1G2cO#<[QaO'#GeO#<uQ$VO1G2jO#AuQ`O1G2jO#BQQ`O'#GgO#B]Q`O'#GjOOQ#u1G2l1G2lO#BhQ`O1G2lOOQ#u'#Gl'#GlOOQ#u'#Iu'#IuOOQ#u1G2q1G2qO#BmQ`O1G2qO,zQ`O1G2sO#BrQaO,5=ZO#ByQ`O,5=ZOOQ#u1G2t1G2tO#COQ`O1G2tO#CTQ`O,5=^OOQ#u1G2w1G2wO#DgQ`O1G2wOOQ#u1G2z1G2zOOQ#u1G2{1G2{OOQ#u1G2|1G2|OOQ#u1G2}1G2}O#DlQ`O'#HxO9oQ`O'#HxO#DqQ$VO1G3OO#IwQ`O1G3QO9yQaO'#HwO#I|QdO,5=[OOQ#u1G3R1G3RO#JXQ`O1G3SO9yQaO,5<iO#J^QdO'#HpO#JlQdO,5?WOOQ#u1G3T1G3TOOQ#u1G3W1G3WO!-xQ`O1G3WOOQ#u1G3X1G3XO#KfQ`O'#HTOOQ#u1G3Y1G3YO#KmQ`O1G3YO0aQ`O1G3YOOQ#u1G3]1G3]O!&WQdO1G3^O#KrQ`O1G3^O#KzQdO'#HzO#L]QdO,5?cO#LhQ`O,5?cO#LmQ`O'#HYO7RQ`O'#HYO#LxQ`O'#IxO#MQQ`O,5=sOOQ#u1G3^1G3^O!.eQ`O1G3^O!.eQ`O1G3^O#MVQeO'#HbO#MgQdO,5>tOOQ#u1G3b1G3bOOQ#u1G3V1G3VO!-xQ`O1G3VO!1UQ`O1G3VOOO#u1G/x1G/xO*kQaO7+%sO#MuQdO7+%sOOQS7+&[7+&[O$ bQ`O,5>yO>UQaO,5;`O$ iQ`O,5;aO$#OQaO'#HfO$#YQ`O,5>zOOQS1G0y1G0yO$#bQ`O'#EYO$#gQ`O'#IXO$#oQ`O,5:sOOQS1G0e1G0eO$#tQ`O1G0eO$#yQ`O1G0iO9yQaO1G0iOOQO,5>O,5>OOOQO-E;b-E;bOOQS7+&O7+&OO>UQaO,5;SO$%`QaO'#HeO$%jQ`O,5>xOOQS1G0m1G0mO$%rQ`O1G0mOOQS,5>R,5>ROOQS-E;e-E;eO$%wQdO7+&hO$'yQtO1G1RO$(WQdO7+%}OOQS1G0i1G0iOOQO,5>U,5>UOOQO-E;h-E;hOOQ#u7+(o7+(oO!&WQdO7+(oOOQ#u7+(t7+(tO#KmQ`O7+(tO0aQ`O7+(tOOQ#u7+(q7+(qO!-xQ`O7+(qO!1UQ`O7+(qO!1RQ`O7+(qO$)sQ`O,5<ZO$*OQ`O,5<ZO$*WQ`O,5<_O$*]QpO,5<ZO>UQaO,5<ZOOQO,5<_,5<_O$*kQpO,5<`O$*sQ`O,5<`O$+OQ`O'#HkO$+iQ`O,5?POOQS1G1t1G1tO$+qQpO7+'^O$+yQ`O'#FuO$,UQ`O7+'^OOQS7+'^7+'^O0aQ`O7+'^O#6yQ`O7+'^O$,^QdO7+*aO0aQ`O7+*aO$,lQ`O7+'^O*kQaO7+'hO0aQ`O7+'hO$,wQ`O7+'hO$-PQdO1G2VOOQS,5>],5>]OOQS-E;o-E;oO$.iQdO7+'hO$.yQpO7+'hO$/RQdO'#IiOOQO,5<e,5<eOOQO,5<f,5<fO$/dQpO'#GOO$/lQ`O'#GOOOQO'#Ik'#IkOOQO'#Ho'#HoO$0]Q`O'#GOO<_Q`O'#F|O!&WQdO'#GOO!.YQdO'#GQO7RQ`O'#GROOQO'#Ij'#IjOOQO'#Hn'#HnO$0yQ`O,5<gOOQ#y,5<g,5<gOOQS7+'i7+'iO!-xQ`O7+'iO!1UQ`O7+'iOOOQ1G2d1G2dO$1pO`O1G2dO$1uO!bO1G2eO$2TO`O'#G`O$2YO`O1G2eOOOQ1G2h1G2hO$2_QaO,5=PO,zQ`O'#HtO$2xQ$VO7+(UOhQaO7+(UO,zQ`O'#HuO$7xQ`O7+(UO!&WQdO7+(UO$8TQ`O7+(UO$8YQaO'#GhO$:iQ`O'#GiOOQO'#Hv'#HvO$:qQ`O,5=ROOQ#u,5=R,5=RO$:|Q`O,5=UO!&WQdO7+(WO!&WQdO7+(]O!&WQdO7+(_O$;XQaO1G2uO$;`Q`O1G2uO$;eQaO1G2uO!&WQdO7+(`O9yQaO1G2xO!&WQdO7+(cO0aQ`O'#GyO9oQ`O,5>dOOQ#u,5>d,5>dOOQ#u-E;v-E;vO$;lQaO7+(lO$<TQdO,5>cOOQS-E;u-E;uO!&WQdO7+(nO$=mQdO1G2TOOQS,5>[,5>[OOQS-E;n-E;nOOQ#u7+(r7+(rO$?nQ`O'#GQO$?uQ`O'#GQO$@ZQ`O'#HUOOQO'#Hy'#HyO$@`Q`O,5=oOOQ#u,5=o,5=oO$@gQpO7+(tOOQ#u7+(x7+(xO!&WQdO7+(xO$@rQdO,5>fOOQS-E;x-E;xO$AQQdO1G4}O$A]Q`O,5=tO$AbQ`O,5=tO$AmQ`O'#H{O$BRQ`O,5?dOOQS1G3_1G3_O#KrQ`O7+(xO$BZQdO,5=|OOQS-E;`-E;`O$CvQdO<<I_OOQS1G4e1G4eO$EcQ`O1G0zOOQO,5>Q,5>QOOQO-E;d-E;dO$8YQaO,5:tO$FxQaO'#HcO$GVQ`O,5>sOOQS1G0_1G0_OOQS7+&P7+&PO$G_Q`O7+&TO$HtQ`O1G0nO$JZQ`O,5>POOQO,5>P,5>POOQO-E;c-E;cOOQS7+&X7+&XOOQS7+&T7+&TOOQ#u<<LZ<<LZOOQ#u<<L`<<L`O$@gQpO<<L`OOQ#u<<L]<<L]O!-xQ`O<<L]O!1UQ`O<<L]O>UQaO1G1uO$KsQ`O1G1uO$LOQ`O1G1yOOQO1G1y1G1yO$LTQ`O1G1uO$L]Q`O1G1uO$MrQ`O1G1zO>UQaO1G1zOOQO,5>V,5>VOOQO-E;i-E;iOOQS<<Jx<<JxO$M}Q`O'#IhO$NVQ`O'#IhO$N[Q`O,5<aO0aQ`O<<JxO$+qQpO<<JxO$NaQ`O<<JxO0aQ`O<<M{O$NiQtO<<M{O#6yQ`O<<JxO$NwQdO<<KSO% XQpO<<KSO*kQaO<<KSO0aQ`O<<KSO% aQdO'#HmO% xQdO,5?TO!&WQdO,5<jO$/dQpO,5<jO%!ZQ`O,5<jO<_Q`O,5<hO!.YQdO,5<lOOQO-E;m-E;mO!&WQdO,5<hOOQO,5<j,5<jOOQO,5<l,5<lO%!tQdO,5<mOOQO-E;l-E;lOOQ#y1G2R1G2ROOQS<<KT<<KTO!-xQ`O<<KTOOOQ7+(O7+(OO%#PO`O7+(POOOO,5<z,5<zOOOQ7+(P7+(POhQaO,5>`OOQ#u-E;r-E;rOhQaO<<KpOOQ#u<<Kp<<KpO$8TQ`O,5>aOOQO-E;s-E;sO!&WQdO<<KpO$8TQ`O<<KpO%#UQ`O<<KpO%#ZQ`O,5=SO%$pQaO,5=TOOQO-E;t-E;tOOQ#u1G2m1G2mOOQ#u<<Kr<<KrOOQ#u<<Kw<<KwOOQ#u<<Ky<<KyOOQT7+(a7+(aO%%QQ`O7+(aO%%VQaO7+(aO%%^Q`O7+(aOOQ#u<<Kz<<KzO%%cQ`O7+(dO%&xQ`O7+(dOOQ#u<<K}<<K}O%&}QpO,5=eOOQ#u1G4O1G4OO%'YQ`O<<LWOOQ#u<<LY<<LYO$?uQ`O,5<lO%'_Q`O,5=pO%'dQdO,5=pOOQO-E;w-E;wOOQ#u1G3Z1G3ZO#KmQ`O<<L`OOQ#u<<Ld<<LdO%'oQ`O1G4QO%'tQdO7+*iOOQO1G3`1G3`O%(PQ`O1G3`O%(UQ`O'#HZO7RQ`O'#HZOOQO,5>g,5>gOOQO-E;y-E;yO!&WQdO<<LdO%(aQ`O1G0`OOQO,5=},5=}OOQO-E;a-E;aO>UQaO,5;TOOQ#uANAzANAzO#KmQ`OANAzOOQ#uANAwANAwO!-xQ`OANAwO%)vQ`O7+'aO>UQaO7+'aOOQO7+'e7+'eO%+]Q`O7+'aO%+hQ`O7+'eO>UQaO7+'fO%+mQ`O7+'fO%-SQ`O'#HlO%-bQ`O,5?SO%-bQ`O,5?SOOQO1G1{1G1{O$+qQpOAN@dOOQSAN@dAN@dO0aQ`OAN@dO%-jQtOANCgO%-xQ`OAN@dO*kQaOAN@nO%.QQdOAN@nO%.bQpOAN@nOOQS,5>X,5>XOOQS-E;k-E;kOOQO1G2U1G2UO!&WQdO1G2UO$/dQpO1G2UO<_Q`O1G2SO!.YQdO1G2WO!&WQdO1G2SOOQO1G2W1G2WOOQO1G2S1G2SO%.jQaO'#GSOOQO1G2X1G2XOOQSAN@oAN@oOOOQ<<Kk<<KkOOQ#u1G3z1G3zOOQ#uANA[ANA[OOQO1G3{1G3{O%0iQ`OANA[O!&WQdOANA[O%0nQaO1G2nO%1OQaO1G2oOOQT<<K{<<K{O%1`Q`O<<K{O%1eQaO<<K{O*kQaO,5=_OOQT<<LO<<LOOOQO1G3P1G3PO%1lQ`O1G3PO!+WQeOANArO%1qQdO1G3[OOQO1G3[1G3[O%1|Q`O1G3[OOQS7+)l7+)lOOQO7+(z7+(zO%2UQ`O,5=uO%2ZQ`O,5=uOOQ#uANBOANBOO%2fQ`O1G0oOOQ#uG27fG27fOOQ#uG27cG27cO%3{Q`O<<J{O>UQaO<<J{OOQO<<KP<<KPO%5bQ`O<<KQOOQO,5>W,5>WO%6wQ`O,5>WOOQO-E;j-E;jO%6|Q`O1G4nOOQSG26OG26OO$+qQpOG26OO0aQ`OG26OO%7UQdOG26YO*kQaOG26YOOQO7+'p7+'pO!&WQdO7+'pO!&WQdO7+'nOOQO7+'r7+'rOOQO7+'n7+'nO%7fQ`OLD+tO%8uQ`O'#E}O%9PQ`O'#IZO!&WQdO'#HrO%:|QaO,5<nOOQO,5<n,5<nO!&WQdOG26vOOQ#uG26vG26vO%<{QaO7+(YOOQTANAgANAgO%=]Q`OANAgO%=bQ`O1G2yOOQO7+(k7+(kOOQ#uG27^G27^O%=iQ`OG27^OOQO7+(v7+(vO%=nQ`O7+(vO!&WQdO7+(vOOQO1G3a1G3aO%=vQ`O1G3aO%={Q`OAN@gOOQO1G3r1G3rOOQSLD+jLD+jO$+qQpOLD+jO%?bQdOLD+tOOQO<<K[<<K[OOQO<<KY<<KYO%?rQ`O,5<oO%?wQ`O,5<pOOQP,5>^,5>^OOQP-E;p-E;pOOQO1G2Y1G2YOOQ#uLD,bLD,bOOQTG27RG27RO!&WQdOLD,xO!&WQdO<<LbOOQO<<Lb<<LbOOQO7+({7+({OOQS!$( U!$( UOOQS1G2Z1G2ZOOQS1G2[1G2[O%@PQdO1G2[OOQ#u!$(!d!$(!dOOQOANA|ANA|OOQS7+'v7+'vO%@[Q`O'#E{O%@[Q`O'#E{O%@aQ`O,5;gO%@fQdO,5<cO%BbQaO,5:}O*kQaO1G0iO%BiQaO'#FwO#.YQaO'#GVO#.YQaO'#GYO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO%BpQdO'#I]O%D`QdO'#I]O#.YQaO'#EaO#.YQaO'#I]O%FbQaO,5:wO#.YQaO,5;nO#.YQaO,5;pO%FiQdO,5<PO%HeQdO,5<QO%JaQdO,5<RO%L]QdO,5<SO%NXQdO,5<SO%NoQdO,5<VO&!kQdO,5<tO#.YQaO1G0XO&$gQdO1G1]O&&cQdO1G1]O&(_QdO1G1]O&*ZQdO1G1]O&,VQdO1G1]O&.RQdO1G1]O&/}QdO1G1]O&1yQdO1G1]O&3uQdO1G1]O&5qQdO1G1]O&7mQdO1G1]O&9iQdO1G1]O&;eQdO1G1]O&=aQdO1G1]O&?]QdO1G1]O&AXQdO,5:{O&CTQdO,5>wO&EPQdO1G0cO#.YQaO1G0cO&F{QdO1G1YO&HwQdO1G1[O#.YQaO1G1|O#.YQaO7+%sO&JsQdO7+%sO&LoQdO7+%}O#.YQaO7+'hO&NkQdO7+'hO'!gQdO<<I_O'$cQdO<<KSO#.YQaO<<KSO#.YQaOAN@nO'&_QdOAN@nO'(ZQdOG26YO#.YQaOG26YO'*VQdOLD+tO',RQaO,5:}O'.QQaO1G0iO'/|QdO'#IWO'0aQeO'#FUO'4aQeO'#FUO#.YQaO'#FeO'.QQaO'#FeO#.YQaO'#FfO'.QQaO'#FfO#.YQaO'#FgO'.QQaO'#FgO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FkO'.QQaO'#FkO'8gQaO,5:mO'8nQ`O,5<bO'8vQ`O1G0XO'.QQaO1G0|O':YQ`O1G1|O':bQ`O7+'hO':jQpO7+'hO':rQpO<<KSO':zQpOAN@nO';SQaO'#FwO'.QQaO'#GVO'.QQaO'#GYO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO'#EaO'.QQaO'#I]O'=RQaO,5:wO'.QQaO,5;nO'.QQaO,5;pO'?QQdO,5<PO'ASQdO,5<QO'CUQdO,5<RO'EWQdO,5<SO'GYQdO,5<SO'GvQdO,5<VO'IxQdO,5<tO'.QQaO1G0XO'KzQdO1G1]O'M|QdO1G1]O(!OQdO1G1]O($QQdO1G1]O(&SQdO1G1]O((UQdO1G1]O(*WQdO1G1]O(,YQdO1G1]O(.[QdO1G1]O(0^QdO1G1]O(2`QdO1G1]O(4bQdO1G1]O(6dQdO1G1]O(8fQdO1G1]O(:hQdO1G1]O(<jQdO,5:{O(>lQdO,5>wO(@nQdO1G0cO'.QQaO1G0cO(BpQdO1G1YO(DrQdO1G1[O'.QQaO1G1|O'.QQaO7+%sO(FtQdO7+%sO(HvQdO7+%}O'.QQaO7+'hO(JxQdO7+'hO(LzQdO<<I_O(N|QdO<<KSO'.QQaO<<KSO'.QQaOAN@nO)#OQdOAN@nO)%QQdOG26YO'.QQaOG26YO)'SQdOLD+tO))UQaO,5:}O#.YQaO1G0iO))]Q`O'#FvO))eQpO,5;bO))mQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO))uQdO,5<cO)+wQdO'#I]O)-vQdO'#IWO).aQaO,5:mO).hQ`O,5<bO).pQ`O1G0XO)0SQ`O1G1|O)0[Q`O7+'hO)0dQpO7+'hO)0lQpO<<KSO)0tQpOAN@nO0aQ`O'#EvO9yQaO'#FeO9yQaO'#FfO9yQaO'#FgO9yQaO'#FhO9yQaO'#FhO9yQaO'#FkO)0|QaO'#FwO9yQaO'#GVO9yQaO'#GYO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO)1TQ`O'#FlO*kQaO'#EaO*kQaO'#I]O)1]QaO,5:wO9yQaO,5;nO9yQaO,5;pO)1dQdO,5<PO)3`QdO,5<QO)5[QdO,5<RO)7WQdO,5<SO)9SQdO,5<SO)9jQdO,5<VO);fQdO,5<cO)=bQdO,5<tO)?^Q`O'#IvO)@sQ`O'#IYO9yQaO1G0XO)BYQdO1G1]O)DUQdO1G1]O)FQQdO1G1]O)G|QdO1G1]O)IxQdO1G1]O)KtQdO1G1]O)MpQdO1G1]O* lQdO1G1]O*#hQdO1G1]O*%dQdO1G1]O*'`QdO1G1]O*)[QdO1G1]O*+WQdO1G1]O*-SQdO1G1]O*/OQdO1G1]O*0zQaO,5:}O*1RQdO,5:{O*1cQdO,5>wO*1sQaO'#HdO*2TQ`O,5>vO*2]QdO1G0cO9yQaO1G0cO*4XQdO1G1YO*6TQdO1G1[O9yQaO1G1|O>UQaO'#HwO*8PQ`O,5=[O*8XQaO'#HbO*8cQ`O,5>tO9yQaO7+%sO*8kQdO7+%sO*:gQ`O1G0iO>UQaO1G0iO*;|QdO7+%}O9yQaO7+'hO*=xQdO7+'hO*?tQ`O,5>cO*AZQ`O,5=|O*BpQdO<<I_O*DlQ`O7+&TO*FRQdO<<KSO9yQaO<<KSO9yQaOAN@nO*G}QdOAN@nO*IyQdOG26YO9yQaOG26YO*KuQdOLD+tO*MqQaO,5:}O9yQaO1G0iO*MxQdO'#I]O*NcQ`O'#FvO*NkQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO*NsQdO'#IWO+ ^QeO'#FUO+ zQaO'#FUO+#sQaO'#FUO+%`QaO'#FUO>UQaO'#FeO>UQaO'#FfO>UQaO'#FgO>UQaO'#FhO>UQaO'#FhO>UQaO'#FkO+'XQaO'#FwO>UQaO'#GVO>UQaO'#GYO+'`QaO,5:mO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO+'gQ`O'#I]O$8YQaO'#EaO+)PQaOG26YO$8YQaO'#I]O+*{Q`O'#I[O++TQaO,5:wO>UQaO,5;nO>UQaO,5;pO++[Q`O,5<PO+,wQ`O,5<QO+.dQ`O,5<RO+0PQ`O,5<SO+1lQ`O,5<SO+3XQ`O,5<VO+4tQ`O,5<bO+4|Q`O,5<cO+6iQ`O,5<tO+8UQ`O1G0XO>UQaO1G0XO+9hQ`O1G1]O+;TQ`O1G1]O+<pQ`O1G1]O+>]Q`O1G1]O+?xQ`O1G1]O+AeQ`O1G1]O+CQQ`O1G1]O+DmQ`O1G1]O+FYQ`O1G1]O+GuQ`O1G1]O+IbQ`O1G1]O+J}Q`O1G1]O+LjQ`O1G1]O+NVQ`O1G1]O, rQ`O1G1]O,#_Q`O1G0cO>UQaO1G0cO,$zQ`O1G1YO,&gQ`O1G1[O,(SQ`O1G1|O>UQaO1G1|O>UQaO7+%sO,([Q`O7+%sO,)wQ`O7+%}O>UQaO7+'hO,+dQ`O7+'hO,+lQ`O7+'hO,-XQpO7+'hO,-aQ`O<<I_O,.|Q`O<<KSO,0iQpO<<KSO>UQaO<<KSO>UQaOAN@nO,0qQ`OAN@nO,2^QpOAN@nO,2fQ`OG26YO>UQaOG26YO,4RQ`OLD+tO,5nQaO,5:}O>UQaO1G0iO,5uQ`O'#I]O$8YQaO'#FeO$8YQaO'#FfO$8YQaO'#FgO$8YQaO'#FhO$8YQaO'#FhO+)PQaO'#FhO$8YQaO'#FkO,6SQaO'#FwO,6ZQaO'#FwO$8YQaO'#GVO+)PQaO'#GVO$8YQaO'#GYO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO,8YQ`O'#FlO>UQaO'#EaO>UQaO'#I]O,8bQaO,5:wO,8iQaO,5:wO$8YQaO,5;nO+)PQaO,5;nO$8YQaO,5;pO,:hQ`O,5<PO,<TQ`O,5<QO,=pQ`O,5<RO,?]Q`O,5<SO,@xQ`O,5<SO,BeQ`O,5<SO,CtQ`O,5<VO,EaQ`O,5<cO%7fQ`O,5<cO,F|Q`O,5<tO$8YQaO1G0XO+)PQaO1G0XO,HiQ`O1G1]O,JUQ`O1G1]O,KeQ`O1G1]O,MQQ`O1G1]O,NaQ`O1G1]O- |Q`O1G1]O-#]Q`O1G1]O-$xQ`O1G1]O-&XQ`O1G1]O-'tQ`O1G1]O-)TQ`O1G1]O-*pQ`O1G1]O-,PQ`O1G1]O--lQ`O1G1]O-.{Q`O1G1]O-0hQ`O1G1]O-1wQ`O1G1]O-3dQ`O1G1]O-4sQ`O1G1]O-6`Q`O1G1]O-7oQ`O1G1]O-9[Q`O1G1]O-:kQ`O1G1]O-<WQ`O1G1]O-=gQ`O1G1]O-?SQ`O1G1]O-@cQ`O1G1]O-BOQ`O1G1]O-C_Q`O1G1]O-DzQ`O1G1]O-FZQ`O,5:{O-GvQ`O,5>wO-IcQ`O1G0cO-KOQ`O1G0cO$8YQaO1G0cO+)PQaO1G0cO-L_Q`O1G1YO-MzQ`O1G1YO. ZQ`O1G1[O$8YQaO1G1|O$8YQaO7+%sO+)PQaO7+%sO.!vQ`O7+%sO.$cQ`O7+%sO.%rQ`O7+%}O.'_Q`O7+%}O$8YQaO7+'hO.(nQ`O7+'hO.*ZQ`O<<I_O.+vQ`O<<I_O.-VQ`O<<KSO$8YQaO<<KSO$8YQaOAN@nO..rQ`OAN@nO.0_Q`OG26YO$8YQaOG26YO.1zQ`OLD+tO.3gQaO,5:}O.3nQaO,5:}O$8YQaO1G0iO+)PQaO1G0iO.5mQ`O'#I]O.7PQ`O'#I]O.:fQ`O'#IWO.:vQ`O'#FvO.;OQaO,5:mO.;VQ`O,5<bO.;_Q`O,5<bO!%WQ`O,5<bO.;gQ`O1G0XO.<yQ`O,5:{O.>fQ`O,5>wO.@RQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO.@ZQ`O7+'hO.@cQpO7+'hO.@kQpO<<KSO0aQ`O<<KSO.@sQpOAN@nO.@{Q`O'#IWO.A]Q`O'#IWO.CSQaO,5:mO.CZQaO,5:mO.CbQ`O,5<bO.CjQ`O7+'hO.CrQ`O1G0XO.EUQ`O1G0XO.FhQ`O1G1|O.FpQ`O7+'hO.FxQpO7+'hO.GQQpOAN@nO.GYQpO<<KSO.GbQpOAN@nO.GjQ`O'#FvO.GrQ`O'#FlO.GzQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO.HSQ`O'#FvO.H[Q`O,5<bO.HdQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O<<KSO0aQ`O7+'hO0aQ`O<<KSO.HlQ`O'#FlO.HtQ`O'#FlO.H|Q`O'#Fl",
  stateData: ".Ic~O!dOS!eOS&vOS!gQQ~O!iTO&wRO~OPgOQ|OS!lOU^OW}OX!XO[mO]!_O^!WO`![Oa!SOb!]Ok!dOm!lOowOp!TOq!UOsuOt!gOu!VOv!POxkOykO|!bO}`O!O]O!P!eO!QxO!R}O!TpO!UlO!VlO!W!YO!X!QO!YzO!Z!cO![!ZO!]!^O!^!fO!`!`O!a!RO!cjO!mWO!oXO!sYO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$drO$l!kO$zyO${!OO$}}O%O}O%V|O'g{O~O!g!mO~O&wRO!i!hX&p!hX&t!hX~O!i!pO~O!d!qO!e!qO!g!mO&t!tO&v!qO~PhO!n!vO~PhOT'VXz'VX!S'VX!b'VX!m'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX&s'VX~O!q!xO~P&sOT#TOz#RO!S#UO!b#VO!m#cO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO&s#cO~OPgOQ|OU^OW}O[mOowOs#hOxkOykO}`O!O]O!QxO!R}O!TpO!UlO!VlO!YzO!cjO!s#gO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$zyO${!OO$}}O%O}O%V|O'g{O~O!y[O~O!y#kO~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#S#oO#U#nO#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O#X'OP~O!}#sO~P-UO!y#tO~O#b#vO#daO#ebO~O#p#xO~O!s#yO~OU$PO!R$PO!s$OO!v#}O#p2XO~OT&zXz&zX!S&zX!b&zX!m&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX&s&zX!x&zX!n&zX~O#u$RO#w$SO~P0rOP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{OT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX~Or$UO#S6yO#U6xO~P2yO!s#gO#peO~OS$gO]$bOk$eOm$gOs$aO!`$cO$drO$l$fO~O!s$kO!y$hO#S$jO~Oo$mOs$lO#b$nO~O!y$hO#S$rO~O$l$tO~P*kOR$zO!o$yO#b$xO#e$yO&q$zO~O'f$|O~P8lO!y%RO~O!y%TO~O!s%VO~O!m#cO&s#cO~P*kO!oXO~O!y%_O~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O~O!y%cO~O!s%dO~O]$bO~O!s%hO~O!s%iO~O!s%jO~O!oXO!s#gO#peO~O]%rOs%rO!o%pO!s#gO#p%nO~O!s%vO~O!i%wO&t%wO&wRO~O&t%zO~PhO!n%{O~PhOPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!q%}O~P>UO#X&PO~P>UO!o&SO!s&RO#b&RO~OPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s&VO!y[O#U&WO#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!x'SP~PAOO!s&[O#b&[O~OT#TOz#RO!S#UO!b#VO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO~O!x&nO~PCqO!x'VX!}'VX#O'VX#X'VX!n'VXV'VX!q'VX#u'VX#w'VXw'VX~P&sO!y$hO#S&oO~Oo$mOs$lO~O!o&pO~O!}&sO#S;dO#U;cO!x'OP~P9yOT6iOz6gO!S6jO!b6kO!o!{O!v8sO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'PX#X'PX~O#O&tO~PGSO!}&wO#X'OX~O#X&yO~O!}'OO!x'QP~P9yO!n'PO~PCqO!m#oa!o#oa#S#oa#p#qX&s#oa!x#oa#O#oaw#oa~OT#oaz#oa!S#oa!b#oa!v#oa!y#oa#W#oa#`#oa#a#oa#s#oa#z#oa#{#oa#|#oa#}#oa$O#oa$Q#oa$R#oa$S#oa$T#oa$U#oa$V#oa$W#oa$z#oa!}#oa#X#oa!n#oaV#oa!q#oa#u#oa#w#oa~PIpO!s'RO~O!x'UO#l'SO~O!x'VX#l'VX#p#qX#S'VX#U'VX#b'VX!o'VX#O'VXw'VX!m'VX&s'VX~O#S'YO~P*kO!m$Xa&s$Xa!x$Xa!n$Xa~PCqO!m$Ya&s$Ya!x$Ya!n$Ya~PCqO!m$Za&s$Za!x$Za!n$Za~PCqO!m$[a&s$[a!x$[a!n$[a~PCqO!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO$z#dOT$[a!S$[a!b$[a!m$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a&s$[a!x$[a!n$[a~Oz#RO~PNyO!m$_a&s$_a!x$_a!n$_a~PCqO!y!}O!}$fX#X$fX~O!}'^O#X'ZX~O#X'`O~O!s$kO#S'aO~O]'cO~O!s'eO~O!s'fO~O$l'gO~O!`'mO#S'kO#U'lO#b'jO$drO!x'XP~P0aO!^'sO!oXO!q'rO~O!s'uO!y$hO~O!y$hO#S'wO~O!y$hO#S'yO~O#u'zO!m$sX!}$sX&s$sX~O!}'{O!m'bX&s'bX~O!m#cO&s#cO~O!q(PO#O(OO~O!m$ka&s$ka!x$ka!n$ka~PCqOl(ROw(SO!o(TO!y!}O~O!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO~OT$yaz$ya!S$ya!b$ya!m$ya!v$ya#S$ya#z$ya#{$ya#|$ya#}$ya$O$ya$Q$ya$R$ya$S$ya$T$ya$U$ya$V$ya$W$ya$z$ya&s$ya!x$ya!}$ya#O$ya#X$ya!n$ya!q$yaV$ya#u$ya#w$ya~P!'WO!m$|a&s$|a!x$|a!n$|a~PCqO#W([O#`(YO#a(YO&r(ZOR&gX!o&gX#b&gX#e&gX&q&gX'f&gX~O'f(_O~P8lO!q(`O~PhO!o(cO!q(dO~O!q(`O&s(gO~PhO!a(kO~O!m(lO~P9yOZ(wOn(xO~O!s(zO~OT6iOz6gO!S6jO!b6kO!v8sO!}({O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'jX&s'jX~P!'WO#u)PO~O!})QO!m'`X&s'`X~Ol(RO!o(TO~Ow(SO!o)WO!q)ZO~O!m#cO!oXO&s#cO~O!o%pO!s#yO~OV)aO!})_O!m'kX&s'kX~O])cOs)cO!s#gO#peO~O!o%pO!s#gO#p)hO~OT6iOz6gO!S6jO!b6kO!v8sO!})iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&|X&s&|X#O&|X~P!'WOl(ROw(SO!o(TO~O!i)oO&t)oO~OT8vOz8tO!S8wO!b8xO!q)pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#X)rO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!n)rO~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'TX!}'TX~P!'WOT'VXz'VX!S'VX!b'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX~O!q)tO!x'VX!}'VX~P!5xO!x#iX!}#iX~P>UO!})vO!x'SX~O!x)xO~O$z#dOT#yiz#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi$W#yi&s#yi!x#yi!}#yi#O#yi#X#yi!n#yi!q#yiV#yi#u#yi#w#yi~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi&s#yi!x#yi!n#yi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!b#VO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi~P!'WOz#RO$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi~P!'WO_)yO~P9yO!x)|O~O#S*PO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Ta#X#Ta#O#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'Pa#X'Pa#O'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WO#S#oO#U#nO!}&WX#X&WX~P9yO!}&wO#X'Oa~O#X*SO~OT6iOz6gO!S6jO!b6kO!v8sO!}*UO#O*TO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'QX~P!'WO!}*UO!x'QX~O!x*WO~O!m#oi!o#oi#S#oi#p#qX&s#oi!x#oi#O#oiw#oi~OT#oiz#oi!S#oi!b#oi!v#oi!y#oi#W#oi#`#oi#a#oi#s#oi#z#oi#{#oi#|#oi#}#oi$O#oi$Q#oi$R#oi$S#oi$T#oi$U#oi$V#oi$W#oi$z#oi!}#oi#X#oi!n#oiV#oi!q#oi#u#oi#w#oi~P#*zO#l'SO!x#ka#S#ka#U#ka#b#ka!o#ka#O#kaw#ka!m#ka&s#ka~OPgOQ|OU^OW}O[4OOo5xOs#hOx3zOy3zO}`O!O]O!Q2^O!R}O!T4UO!U3|O!V3|O!Y2`O!c3xO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4SO$]4QO$^4SO$aqO$z2_O${!OO$}}O%O}O%V|O'g{O~O#l#oa#U#oa#b#oa~PIpOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pi!S#Pi!b#Pi!m#Pi&s#Pi!x#Pi!n#Pi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#vi!S#vi!b#vi!m#vi&s#vi!x#vi!n#vi~P!'WO!m#xi&s#xi!x#xi!n#xi~PCqO!s#gO#peO!}&^X#X&^X~O!}'^O#X'Za~O!s'uO~Ow(SO!o)WO!q*fO~O!s*jO~O#S*lO#U*mO#b*kO#l'SO~O#S*lO#U*mO#b*kO$drO~P0aO#u*oO!x$cX!}$cX~O#U*mO#b*kO~O#b*pO~O#b*rO~P0aO!}*sO!x'XX~O!x*uO~O!y*wO~O!^*{O!oXO!q*zO~O!q*}O!o'ci!m'ci&s'ci~O!q+QO#O+PO~O#b$nO!m&eX!}&eX&s&eX~O!}'{O!m'ba&s'ba~OT$kiz$ki!S$ki!b$ki!m$ki!o$ki!v$ki!y$ki#S$ki#W$ki#`$ki#a$ki#s$ki#u#fa#w#fa#z$ki#{$ki#|$ki#}$ki$O$ki$Q$ki$R$ki$S$ki$T$ki$U$ki$V$ki$W$ki$z$ki&s$ki!x$ki!}$ki#O$ki#X$ki!n$ki!q$kiV$ki~OS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n+hO#b$nO$aqO$drO~P0aO!s+lO~O#W+nO#`+mO#a+mO~O!s+pO#b+pO$}+pO%T+oO~O!n+qO~PCqOc%XXd%XXh%XXj%XXf%XXg%XXe%XX~PhOc+uOd+sOP%WiQ%WiS%WiU%WiW%WiX%Wi[%Wi]%Wi^%Wi`%Wia%Wib%Wik%Wim%Wio%Wip%Wiq%Wis%Wit%Wiu%Wiv%Wix%Wiy%Wi|%Wi}%Wi!O%Wi!P%Wi!Q%Wi!R%Wi!T%Wi!U%Wi!V%Wi!W%Wi!X%Wi!Y%Wi!Z%Wi![%Wi!]%Wi!^%Wi!`%Wi!a%Wi!c%Wi!m%Wi!o%Wi!s%Wi!y%Wi#W%Wi#b%Wi#d%Wi#e%Wi#p%Wi$T%Wi$]%Wi$^%Wi$a%Wi$d%Wi$l%Wi$z%Wi${%Wi$}%Wi%O%Wi%V%Wi&p%Wi'g%Wi&t%Wi!n%Wih%Wij%Wif%Wig%WiY%Wi_%Wii%Wie%Wi~Oc+yOd+vOh+xO~OY+zO_+{O!n,OO~OY+zO_+{Oi%^X~Oi,QO~Oj,RO~O!m,TO~P9yO!m,VO~Of,WO~OT6iOV,XOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOg,YO~O!y,ZO~OZ(wOn(xOP%liQ%liS%liU%liW%liX%li[%li]%li^%li`%lia%lib%lik%lim%lio%lip%liq%lis%lit%liu%liv%lix%liy%li|%li}%li!O%li!P%li!Q%li!R%li!T%li!U%li!V%li!W%li!X%li!Y%li!Z%li![%li!]%li!^%li!`%li!a%li!c%li!m%li!o%li!s%li!y%li#W%li#b%li#d%li#e%li#p%li$T%li$]%li$^%li$a%li$d%li$l%li$z%li${%li$}%li%O%li%V%li&p%li'g%li&t%li!n%lic%lid%lih%lij%lif%lig%liY%li_%lii%lie%li~O#u,_O~O!}({O!m%da&s%da~O!x,bO~O!s%dO!m&dX!}&dX&s&dX~O!})QO!m'`a&s'`a~OS+^OY,iOm+^Os$aO!^+dO!_+^O!`+^O$aqO$drO~O!n,lO~P#JwO!o)WO~O!o%pO!s'RO~O!s#gO#peO!m&nX!}&nX&s&nX~O!})_O!m'ka&s'ka~O!s,rO~OV,sO!n%|X!}%|X~O!},uO!n'lX~O!n,wO~O!m&UX!}&UX&s&UX#O&UX~P9yO!})iO!m&|a&s&|a#O&|a~Oz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq&s!uq!x!uq!n!uq~P!'WO!n,|O~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#ia!}#ia~P!'WO!x&YX!}&YX~PAOO!})vO!x'Sa~O#O-QO~O!}-RO!n&{X~O!n-TO~O!x-UO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vi#X#Vi~P!'WO!x&XX!}&XX~P9yO!}*UO!x'Qa~O!x-[O~OT#jqz#jq!S#jq!b#jq!m#jq!v#jq#S#jq#u#jq#w#jq#z#jq#{#jq#|#jq#}#jq$O#jq$Q#jq$R#jq$S#jq$T#jq$U#jq$V#jq$W#jq$z#jq&s#jq!x#jq!}#jq#O#jq#X#jq!n#jq!q#jqV#jq~P!'WO#l#oi#U#oi#b#oi~P#*zOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pq!S#Pq!b#Pq!m#Pq&s#Pq!x#Pq!n#Pq~P!'WO#u-dO!x$ca!}$ca~O#U-fO#b-eO~O#b-gO~O#S-hO#U-fO#b-eO#l'SO~O#b-jO#l'SO~O#u-kO!x$ha!}$ha~O!`'mO#S'kO#U'lO#b'jO$drO!x&_X!}&_X~P0aO!}*sO!x'Xa~O!oXO#l'SO~O#S-pO#b-oO!x'[P~O!oXO!q-rO~O!q-uO!o'cq!m'cq&s'cq~O!^-wO!oXO!q-rO~O!q-{O#O-zO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$si!}$si&s$si~P!'WO!m$jq&s$jq!x$jq!n$jq~PCqO#O-zO#l'SO~O!}-|Ow']X!o']X!m']X&s']X~O#b$nO#l'SO~OS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO$drO~P0aOS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO~P0aOS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n.ZO#b$nO$aqO$drO~P0aO!s.^O~O!s._O#b._O$}._O%T+oO~O$}.`O~O#X.aO~Oc%Xad%Xah%Xaj%Xaf%Xag%Xae%Xa~PhOc.dOd+sOP%WqQ%WqS%WqU%WqW%WqX%Wq[%Wq]%Wq^%Wq`%Wqa%Wqb%Wqk%Wqm%Wqo%Wqp%Wqq%Wqs%Wqt%Wqu%Wqv%Wqx%Wqy%Wq|%Wq}%Wq!O%Wq!P%Wq!Q%Wq!R%Wq!T%Wq!U%Wq!V%Wq!W%Wq!X%Wq!Y%Wq!Z%Wq![%Wq!]%Wq!^%Wq!`%Wq!a%Wq!c%Wq!m%Wq!o%Wq!s%Wq!y%Wq#W%Wq#b%Wq#d%Wq#e%Wq#p%Wq$T%Wq$]%Wq$^%Wq$a%Wq$d%Wq$l%Wq$z%Wq${%Wq$}%Wq%O%Wq%V%Wq&p%Wq'g%Wq&t%Wq!n%Wqh%Wqj%Wqf%Wqg%WqY%Wq_%Wqi%Wqe%Wq~Oc.iOd+vOh.hO~O!q(`O~OP6]OQ|OU^OW}O[:fOo>ROs#hOx:dOy:dO}`O!O]O!Q:kO!R}O!T:jO!U:eO!V:eO!Y:oO!c8gO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:hO$]:gO$^:hO$aqO$z:mO${!OO$}}O%O}O%V|O'g{O~O!m.lO!q.lO~OY+zO_+{O!n.nO~OY+zO_+{Oi%^a~O!x.rO~P>UO!m.tO~O!m.tO~P9yOQ|OW}O!R}O$}}O%O}O%V|O'g{O~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&ka!}&ka&s&ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$qi!}$qi&s$qi~P!'WOS+^Om+^Os$aO!_+^O!`+^O$aqO$drO~OY/PO~P$?VOS+^Om+^Os$aO!_+^O!`+^O$aqO~O!s/QO~O!n/SO~P#JwOw(SO!o)WO#l'SO~OV/VO!m&na!}&na&s&na~O!})_O!m'ki&s'ki~O!s/XO~OV/YO!n%|a!}%|a~O]/[Os/[O!s#gO#peO!n&oX!}&oX~O!},uO!n'la~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&Ua!}&Ua&s&Ua#O&Ua~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy&s!uy!x!uy!n!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#hi!}#hi~P!'WO_)yO!n&VX!}&VX~P9yO!}-RO!n&{a~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vq#X#Vq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#[i!}#[i~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O/cO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x&Xa!}&Xa~P!'WO#u/iO!x$ci!}$ci~O#b/jO~O#U/lO#b/kO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$ci!}$ci~P!'WO#u/mO!x$hi!}$hi~O!}/oO!x'[X~O#b/qO~O!x/rO~O!oXO!q/uO~O#l'SO!o'cy!m'cy&s'cy~O!m$jy&s$jy!x$jy!n$jy~PCqO#O/xO#l'SO~O!s#gO#peOw&aX!o&aX!}&aX!m&aX&s&aX~O!}-|Ow']a!o']a!m']a&s']a~OU$PO]0QO!R$PO!s$OO!v#}O#b$nO#p2XO~P$?uO!m#cO!o0VO&s#cO~O#X0YO~Oh0_O~OT:tOz:pO!S:vO!b:xO!m0`O!q0`O!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO~P!'WOY%]a_%]a!n%]ai%]a~PhO!x0bO~O!x0bO~P>UO!m0dO~OT6iOz6gO!S6jO!b6kO!v8sO!x0fO#O0eO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WO!x0fO~O!x0gO#b0hO#l'SO~O!x0iO~O!s0jO~O!m#cO#u0lO&s#cO~O!s0mO~O!})_O!m'kq&s'kq~O!s0nO~OV0oO!n%}X!}%}X~OT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!n!|i!}!|i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cq!}$cq~P!'WO#u0vO!x$cq!}$cq~O#b0wO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hq!}$hq~P!'WO#S0zO#b0yO!x&`X!}&`X~O!}/oO!x'[a~O#l'SO!o'c!R!m'c!R&s'c!R~O!oXO!q1PO~O!m$j!R&s$j!R!x$j!R!n$j!R~PCqO#O1RO#l'SO~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1^O!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOh1_O~OY%[i_%[i!n%[ii%[i~PhOY%]i_%]i!n%]ii%]i~PhO!x1bO~O!x1bO~P>UO!x1eO~O!m#cO#u1iO&s#cO~O$}1jO%V1jO~O!s1kO~OV1lO!n%}a!}%}a~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#]i!}#]i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cy!}$cy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hy!}$hy~P!'WO#b1nO~O!}/oO!x'[i~O!m$j!Z&s$j!Z!x$j!Z!n$j!Z~PCqOT:uOz:qO!S:wO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO~P!'WOV1uO{1tO~P!5xOV1uO{1tOT&}Xz&}X!S&}X!b&}X!o&}X!v&}X!y&}X#S&}X#W&}X#`&}X#a&}X#s&}X#u&}X#w&}X#z&}X#{&}X#|&}X#}&}X$O&}X$Q&}X$R&}X$S&}X$T&}X$U&}X$V&}X$W&}X$z&}X~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1xO!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOY%[q_%[q!n%[qi%[q~PhO!x1zO~O!x%gi~PCqOe1{O~O$}1|O%V1|O~O!s2OO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$c!R!}$c!R~P!'WO!m$j!c&s$j!c!x$j!c!n$j!c~PCqO!s2QO~O!`2SO!s2RO~O!s2VO!m$xi&s$xi~O!s'WO~O!s*]O~OT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$ka#u$ka#w$ka&s$ka!x$ka!n$ka!q$ka#X$ka!}$ka~P!'WO#S2]O~P*kO$l$tO~P#.YOT6iOz6gO!S6jO!b6kO!v8sO#O2[O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX&s'PX!x'PX!n'PX~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O3uO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'PX#X'PX#u'PX#w'PX!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~P!'WO#S3dO~P#.YOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Xa#u$Xa#w$Xa&s$Xa!x$Xa!n$Xa!q$Xa#X$Xa!}$Xa~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Ya#u$Ya#w$Ya&s$Ya!x$Ya!n$Ya!q$Ya#X$Ya!}$Ya~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Za#u$Za#w$Za&s$Za!x$Za!n$Za!q$Za#X$Za!}$Za~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$[a#u$[a#w$[a&s$[a!x$[a!n$[a!q$[a#X$[a!}$[a~P!'WOz2aO#u$[a#w$[a!q$[a#X$[a!}$[a~PNyOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$_a#u$_a#w$_a&s$_a!x$_a!n$_a!q$_a#X$_a!}$_a~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$|a#u$|a#w$|a&s$|a!x$|a!n$|a!q$|a#X$|a!}$|a~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#Ta#u#Ta#w#Ta&s#Ta!x#Ta!n#Ta!q#Ta#X#Ta!}#Ta~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m'Pa#u'Pa#w'Pa&s'Pa!x'Pa!n'Pa!q'Pa#X'Pa!}'Pa~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pi!S#Pi!b#Pi!m#Pi#u#Pi#w#Pi&s#Pi!x#Pi!n#Pi!q#Pi#X#Pi!}#Pi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#vi!S#vi!b#vi!m#vi#u#vi#w#vi&s#vi!x#vi!n#vi!q#vi#X#vi!}#vi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#xi#u#xi#w#xi&s#xi!x#xi!n#xi!q#xi#X#xi!}#xi~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq#u!uq#w!uq&s!uq!x!uq!n!uq!q!uq#X!uq!}!uq~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pq!S#Pq!b#Pq!m#Pq#u#Pq#w#Pq&s#Pq!x#Pq!n#Pq!q#Pq#X#Pq!}#Pq~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jq#u$jq#w$jq&s$jq!x$jq!n$jq!q$jq#X$jq!}$jq~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy#u!uy#w!uy&s!uy!x!uy!n!uy!q!uy#X!uy!}!uy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jy#u$jy#w$jy&s$jy!x$jy!n$jy!q$jy#X$jy!}$jy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!R#u$j!R#w$j!R&s$j!R!x$j!R!n$j!R!q$j!R#X$j!R!}$j!R~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!Z#u$j!Z#w$j!Z&s$j!Z!x$j!Z!n$j!Z!q$j!Z#X$j!Z!}$j!Z~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!c#u$j!c#w$j!c&s$j!c!x$j!c!n$j!c!q$j!c#X$j!c!}$j!c~P!'WOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S3vO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lO#u2uO#w2vO!q&zX#X&zX!}&zX~P0rOP6]OU^O[4POo8^Or2wOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S2tO#U2sO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX!q#xX#X#xX!}#xX~P$;lOP6]OU^O[4POo8^Or4xOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S4uO#U4tO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!o#xX!v#xX!}#xX#O#xX#X#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!m#xX&s#xX!x#xX!n#xXV#xX!q#xX~P$;lO!q3PO~P>UO!q5}O#O3gO~OT8vOz8tO!S8wO!b8xO!q3hO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q6OO#O3kO~O!q6PO#O3oO~O#O3oO#l'SO~O#O3pO#l'SO~O#O3sO#l'SO~OP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$l$tO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S5eO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Xa#O$Xa#X$Xa#u$Xa#w$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Ya#O$Ya#X$Ya#u$Ya#w$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Za#O$Za#X$Za#u$Za#w$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$[a#O$[a#X$[a#u$[a#w$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz4dO!}$[a#O$[a#X$[a#u$[a#w$[aV$[a!q$[a~PNyOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$_a#O$_a#X$_a#u$_a#w$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$|a#O$|a#X$|a#u$|a#w$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#Ta#O#Ta#X#Ta#u#Ta#w#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'Pa#O'Pa#X'Pa#u'Pa#w'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi#u#Pi#w#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi#u#vi#w#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#xi#O#xi#X#xi#u#xi#w#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq#u!uq#w!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq#u#Pq#w#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jq#O$jq#X$jq#u$jq#w$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy#u!uy#w!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jy#O$jy#X$jy#u$jy#w$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!R#O$j!R#X$j!R#u$j!R#w$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!Z#O$j!Z#X$j!Z#u$j!Z#w$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!c#O$j!c#X$j!c#u$j!c#w$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S5wO~P#.YO!y$hO#S5{O~O!x4ZO#l'SO~O!y$hO#S5|O~OT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$ka#O$ka#X$ka#u$ka#w$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O5vO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!m'PX#u'PX#w'PX&s'PX!x'PX!n'PX!q'PX#X'PX!}'PX~P!'WO#u4vO#w4wO!}&zX#O&zX#X&zXV&zX!q&zX~P0rO!q5QO~P>UO!q8bO#O5hO~OT8vOz8tO!S8wO!b8xO!q5iO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q8cO#O5lO~O!q8dO#O5pO~O#O5pO#l'SO~O#O5qO#l'SO~O#O5tO#l'SO~O$l$tO~P9yOo5zOs$lO~O#S7oO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Xa#O$Xa#X$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Ya#O$Ya#X$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Za#O$Za#X$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$[a#O$[a#X$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz6gO!}$[a#O$[a#X$[aV$[a!q$[a~PNyOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$_a#O$_a#X$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$ka#O$ka#X$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$|a#O$|a#X$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7sO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'jX~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7uO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&|X~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WO#S7zO~P>UO!m#Ta&s#Ta!x#Ta!n#Ta~PCqO!m'Pa&s'Pa!x'Pa!n'Pa~PCqO#S;dO#U;cO!x&WX!}&WX~P9yO!}7lO!x'Oa~Oz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#xi#O#xi#X#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WO!}7sO!x%da~O!x&UX!}&UX~P>UO!}7uO!x&|a~Oz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vi!}#Vi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jq#O$jq#X$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&ka!}&ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&Ua!}&Ua~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vq!}#Vq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jy#O$jy#X$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!R#O$j!R#X$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!Z#O$j!Z#X$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!c#O$j!c#X$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S8[O~P9yO#O8ZO!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~PGSO!y$hO#S8`O~O!y$hO#S8aO~O#u6zO#w6{O!}&zX#O&zX#X&zXV&zX!q&zX~P0rOr6|O#S#oO#U#nO!}#xX#O#xX#X#xXV#xX!q#xX~P2yOr;iO#S9XO#U9VOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!n#xX!}#xX~P9yOr9WO#S9WO#U9WOT#xXz#xX!S#xX!b#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX~P9yOr9]O#S;dO#U;cOT#xXz#xX!S#xX!b#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX#X#xX!x#xX!}#xX~P9yO$l$tO~P>UO!q7XO~P>UOT6iOz6gO!S6jO!b6kO!v8sO#O7iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'PX!}'PX~P!'WOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lO!}7lO!x'OX~O#S9yO~P>UOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Xa#X$Xa!x$Xa!}$Xa~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Ya#X$Ya!x$Ya!}$Ya~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Za#X$Za!x$Za!}$Za~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$[a#X$[a!x$[a!}$[a~P!'WOz8tO$z#dOT$[a!S$[a!b$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a#X$[a!x$[a!}$[a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$_a#X$_a!x$_a!}$_a~P!'WO!q=dO#O7rO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$ka#X$ka!x$ka!}$ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$|a#X$|a!x$|a!}$|a~P!'WOT8vOz8tO!S8wO!b8xO!q7wO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi#X#yi!x#yi!}#yi~P!'WOz8tO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pi!S#Pi!b#Pi!q#Pi#X#Pi!x#Pi!}#Pi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#vi!S#vi!b#vi!q#vi#X#vi!x#vi!}#vi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q#xi#X#xi!x#xi!}#xi~P!'WO!q=eO#O7|O~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uq!S!uq!b!uq!q!uq!v!uq#X!uq!x!uq!}!uq~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pq!S#Pq!b#Pq!q#Pq#X#Pq!x#Pq!}#Pq~P!'WO!q=iO#O8TO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jq#X$jq!x$jq!}$jq~P!'WO#O8TO#l'SO~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uy!S!uy!b!uy!q!uy!v!uy#X!uy!x!uy!}!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jy#X$jy!x$jy!}$jy~P!'WO#O8UO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!R#X$j!R!x$j!R!}$j!R~P!'WO#O8XO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!Z#X$j!Z!x$j!Z!}$j!Z~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!c#X$j!c!x$j!c!}$j!c~P!'WO#S:bO~P>UO#O:aO!q'PX!x'PX~PGSO$l$tO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$l$tO$z:nO${!OO~P$;lOo8_Os$lO~O#S<jO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S<kO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Xa!q$Xa!n$Xa!}$Xa~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Ya!q$Ya!n$Ya!}$Ya~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Za!q$Za!n$Za!}$Za~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$[a!q$[a!n$[a!}$[a~P!'WOz:pO$z#dOT$[a!S$[a!b$[a!m$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a!n$[a!}$[a~P!'WOz:qO$z#dOT$[a!S$[a!b$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$_a!q$_a!n$_a!}$_a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$ka!q$ka!n$ka!}$ka~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$|a!q$|a!n$|a!}$|a~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi!n#yi!}#yi~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi~P!'WOT:tOz:pO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi~P!'WOT:tOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi!b#yi~P!'WOz:pO#S#QO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi!n#yi!}#yi~P!'WOz:qO#S#QO#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi~P!'WOz:pO#S#QO#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi!n#yi!}#yi~P!'WOz:qO#S#QO#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi~P!'WOz:pO#S#QO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi!n#yi!}#yi~P!'WOz:qO#S#QO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi~P!'WOz:pO#S#QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO#S#QO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!n#yi!}#yi~P!'WOz:qO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi~P!'WOz:pO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi~P!'WOz:pO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!n#yi!}#yi~P!'WOz:qO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi~P!'WOz:pO$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!n#yi!}#yi~P!'WOz:qO$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi~P!'WOz:pO$S;YO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi~P!'WOz:pO$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!n#yi!}#yi~P!'WOz:qO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Ta!}#Ta!q#Ta#X#Ta~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'Pa!}'Pa!q'Pa#X'Pa~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pi!S#Pi!b#Pi!m#Pi!q#Pi!n#Pi!}#Pi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pi!S#Pi!b#Pi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#vi!S#vi!b#vi!m#vi!q#vi!n#vi!}#vi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#vi!S#vi!b#vi~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#xi!q#xi!n#xi!}#xi~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uq!S!uq!b!uq!m!uq!q!uq!v!uq!n!uq!}!uq~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uq!S!uq!b!uq!v!uq~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pq!S#Pq!b#Pq!m#Pq!q#Pq!n#Pq!}#Pq~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pq!S#Pq!b#Pq~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jq!q$jq!n$jq!}$jq~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uy!S!uy!b!uy!m!uy!q!uy!v!uy!n!uy!}!uy~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uy!S!uy!b!uy!v!uy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jy!q$jy!n$jy!}$jy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!R!q$j!R!n$j!R!}$j!R~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!Z!q$j!Z!n$j!Z!}$j!Z~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!c!q$j!c!n$j!c!}$j!c~P!'WO#S=TO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S=UO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT6iOz6gO!S6jO!b6kO!v8sO#O=SO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O=RO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX!q'PX!n'PX!}'PX~P!'WOT&zXz&zX!S&zX!b&zX!o&zX!q&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX!}&zX~O#u9ZO#w9[O#X&zX!x&zX~P.8oO!y$hO#S=^O~O!q9hO~P>UO!y$hO#S=cO~O!q>OO#O9}O~OT8vOz8tO!S8wO!b8xO!q:OO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#Ta!q#Ta!n#Ta!}#Ta~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m'Pa!q'Pa!n'Pa!}'Pa~P!'WO!q>PO#O:RO~O!q>QO#O:YO~O#O:YO#l'SO~O#O:ZO#l'SO~O#O:_O#l'SO~O#u;eO#w;gO!m&zX!n&zX~P.8oO#u;fO#w;hOT&zXz&zX!S&zX!b&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX~O!q;tO~P>UO!q;uO~P>UO!q>XO#O<oO~O!q>YO#O9WO~OT8vOz8tO!S8wO!b8xO!q<pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!q<qO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q>ZO#O<vO~O!q>[O#O<{O~O#O<{O#l'SO~O#O9WO#l'SO~O#O<|O#l'SO~O#O=PO#l'SO~O!y$hO#S=|O~Oo=[Os$lO~O!y$hO#S=}O~O!y$hO#S>UO~O!y$hO#S>VO~O!y$hO#S>WO~Oo={Os$lO~Oo>TOs$lO~Oo>SOs$lO~O%O$U$}$d!d$V#b%V#e'g!s#d~",
  goto: "%&y'mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP'nP'uPP'{(OPPP(hP(OP(O*ZP*ZPP2W:j:mPP*Z:sBpPBsPBsPP:sCSCVCZ:s:sPPPC^PP:sK^!$S!$S:s!$WP!$W!$W!%UP!.]!7pP!?oP*ZP*Z*ZPPPPP!?rPPPPPPP*Z*Z*Z*ZPP*Z*ZP!E]!GRP!GV!Gy!GR!GR!HP*Z*ZP!HY!Hl!Ib!J`!Jd!J`!Jo!J}!J}!KV!KY!KY*ZPP*ZPP!K^#%[#%[#%`P#%fP(O#%j(O#&S#&V#&V#&](O#&`(O(O#&f#&i(O#&r#&u(O(O(O(O(O#&x(O(O(O(O(O(O(O(O(O#&{!KR(O(O#'_#'o#'r(O(OP#'u#'|#(S#(o#(y#)P#)Z#)b#)h#*d#4X#5T#5Z#5a#5k#5q#5w#6]#6c#6i#6o#6u#6{#7R#7]#7g#7m#7s#7}PPPPPPPP#8T#8X#8}#NO#NR#N]$(f$(r$)X$)_$)b$)e$)k$,X$5v$>_$>b$>h$>k$>n$>w$>{$?X$?k$Bk$CO$C{$K{PP%%y%%}%&Z%&p%&vQ!nQT!qV!rQUOR%x!mRVO}!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a|!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ%^!ZQ%g!aQ%l!eQ'd$dQ'q$iQ)[%kQ*y'tQ,](xU-n*v*x+OQ.W+cQ.{,[S/t-s-tQ0T.SS0}/s/wQ1V0RQ1o1OR2P1p0u!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nQ#j]Q$}!PQ%O!QQ%P!RQ,S(kQ.b+sR.f+vR&q#jQ)z&pR/a-R0uhPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#l^k#p_j#k#s&s&w3x3y7l8f8g8h8iR#u`T&|#t'OR-Y*U0thPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#va-r#OZ#f#m#w$V$W$X$Y$Z$[$u$v%W%Y%[%`%s%|&O&Q&U&^&_&`&a&b&c&d&e&f&g&h&i&j&k&l&m&u&v&{'X'Z'[(](p)q)s)u*O*[*^+S+V,`,c,y,{,}-V-W-X-i-x.k.w/`/h/n/y0r0u0x1Q1X1d1m1q2q2r2x2y2z2{2|2}3O3Q3R3S3T3U3V3W3X3Y3Z3[3]3^3_3`3a3b3c3e3f3i3j3l3m3n3q3r3t4Y4y4z4{4|4}5O5P5R5S5T5U5V5W5X5Y5Z5[5]5^5_5`5a5b5c5d5f5g5j5k5m5n5o5r5s5u6R6V6}7O7P7Q7R7S7U7V7W7Y7Z7[7]7^7_7`7a7b7c7d7e7f7g7h7j7k7n7p7q7x7y7{7}8O8P8Q8R8S8V8W8Y8]9U9^9_9`9a9b9c9f9g9i9j9k9l9m9n9o9p9q9r9s9t9u9v9w9x9z9{:P:Q:T:V:W:[:^:`:c;j;k;l;m;n;o;p;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<[<]<^<_<`<a<b<c<d<e<f<g<h<i<l<m<n<r<s<t<u<w<x<y<z<}=O=Q=V=W=_=`=a=q=rQ']$]Y(Q$s7T9e;q;rS(U2Z6QR(X$tT&X!})v!w$Qg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[3ZfPVX[_bgjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#}$R$S$U$h$y$}%P%R%S%T%U%c%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)_)c)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[3scPVX[_bdegjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#{#}$R$S$U$h$y$}%P%R%S%T%U%c%m%n%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)^)_)c)g)h)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u,x-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2W2X2Y2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[0phPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0`0a0d0e0i0v1R1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT1Z0V1]R&]#P!n#[Z#f#w$V$W$X$Y$[$s$v%W%Y%[&Q&_&`&a&b&c&d&e&f'X'Z'[(])q)s*^+V,{-x/y1Q1d1q7j7k!Y2j2Z2x2y2z2{2}3O3Q3R3S3T3U3V3W3X3a3b3c3e3f3i3j3l3m3n3q3r3t!^4m2r4y4z4{4|5O5P5R5S5T5U5V5W5X5Y5b5c5d5f5g5j5k5m5n5o5r5s5u6Q6R#Q6p#m%`%s&u&v&{(p*O+S,`,c,y-V-X.w2q6}7O7P7Q7S7T7U7Y7Z7[7]7^7_7`7a7n7p7q7x7{7}8Q8S8V8W8Y8]9U:c=V=W#^8}%|&O&U)u,}-W-i/h/n0r0u0x1m4Y6V7V7W7y8O8P8R9^9_9`9a9c9e9f9g9i9j9k9l9m9n9o9p9x9z9{:P:Q:T:V:W:[:^:`<f<g=_=q=r!^;S.k/`;j;k;l;m;p;q;s;v;x;z;|<O<Q<S<U<h<l<n<r<t<w<x<z<}=O=Q=`=ao;T1X;r;w;y;{;}<P<R<T<V<i<m<s<u<yS$iu#hQ$qwU't$j$l&oQ'v$kS'x$m$rQ*|'uQ+O'wQ+R'yQ4X5xS4[5z5{Q4]5|Q6U8^S6W8_8`Q6X8aQ9d=YS9|=[=^Q:S=cQ=]=yS=b={=|Q=f=}Q=o>RS=p>S>VS=s>T>UR=t>WT'n$h*s!csPVXt!S!j!r!s!w$h$}%P%S%U'i(T(`)W*s+]+g+r+u,g,k.b.d.l0`0a0i1aQ$^rR*`'^Q*x'sQ-t*{R/w-wQ(W$tQ)U%hQ)n%vQ*i'fQ+k(XR-c*jQ(V$tQ)Y%jQ)m%vQ*e'eS*h'f)nS+j(W(XS-b*i*jQ.]+kQ/T,mQ/e-`R/g-cQ(U$tQ)T%hQ)V%iQ)l%vU*g'f)m)nU+i(V(W(XQ,f)UU-a*h*i*jS.[+j+kS/f-b-cQ0X.]R0t/gT+e(T+g[%e!_$b'c+a.R0QR,d)Qb$ov(T+[+]+`+g.P.Q0PR+T'{S+e(T+gT,j)W,kR0W.XT1[0V1]0w|PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$x{${Q+p([R._+nT$z{${Q(b$}Q(j%PQ(o%SQ(r%UQ.j+yQ0].fQ0^.iR1g0iR(e%OX+|(c(d+},PR(f%OX(h%P%S%U0iR%S!T_%a!]%R(l,T,V.t0dR%U!UR.x,XR,[(wQ)X%jS*d'e)YS-_*e,mS/d-`/TR0s/eQ%q!fU)]%m%n%rU,o)^)g)hR/_,xR)d%pR/],uSSO!mR!oSQ!rVR%y!rQ!jPS!sV!rQ!wX[%u!j!s!w+r0a1aQ+r(`Q0a.lR1a0`Q)j%sS,z)j7vR7v7WQ-S)zR/b-SQ&x#qS*R&x7mR7m9YS*V&{&|R-Z*VQ)w&YR-P)w!l'T#|'h*n*q*v+W+[,m-`-s-v-y.P.z/s/v/z0P1O1p4^4_4`5y6Y6Z6[:U:X:]=g=h=j=u=v=w=xR*Z'T1^dPVX[_bjklmnoprxyz!S!W!X!Y!]!e!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%p%}&S&W&p&s&t&w'O'U'Y'^'z(O(R(S(`(l({)P)_)c)i)p)t)v*P*T*U*o+P+d+r+u+z,T,V,X,u-Q-R-d-k-z-|.b.d.l.t/[/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n`#zd#{%m)^)g,x2W2YQ#{eQ%m!fQ)^%nQ)g%rQ,x)h!v2Wg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[R2Y2X|tPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aW$`t'i+],gS'i$h*sS+](T+gT,g)W,kQ'_$^R*a'_Q*t'oR-m*tQ/p-oS0{/p0|R0|/qQ-}+XR/|-}Q+g(TR.Y+gS+`(T+gS,h)W,kQ.Q+]W.T+`,h.Q/OR/O,gQ)R%eR,e)RQ'|$oR+U'|Q1]0VR1w1]Q${{R(^${Q+t(aR.c+tQ+w(bR.g+wQ+}(cQ,P(dT.m+},PQ(|%`S,a(|7tR7t7VQ(y%^R,^(yQ,k)WR/R,kQ)`%oS,q)`/WR/W,rQ,v)dR/^,vT!uV!rj!iPVX!j!r!s!w(`+r.l0`0a1aQ%Q!SQ(a$}W(h%P%S%U0iQ.e+uQ0Z.bR0[.d|ZPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ#f[U#m_#s&wQ#wbQ$VkQ$WlQ$XmQ$YnQ$ZoQ$[pQ$sx^$uy2_4b6e8q:m:nQ$vzQ%W!WQ%Y!XQ%[!YW%`!]%R(l,VU%s!g&p-RQ%|!yQ&O!zQ&Q!{S&U!})v^&^#R2a4d6g8t:p:qQ&_#SQ&`#TQ&a#UQ&b#VQ&c#WQ&d#XQ&e#YQ&f#ZQ&g#[Q&h#]Q&i#^Q&j#_Q&k#`Q&l#aQ&m#bQ&u#nQ&v#oS&{#t'OQ'X$RQ'Z$SQ'[$UQ(]$yQ(p%TQ)q%}Q)s&SQ)u&WQ*O&tS*['U4ZQ*^'Y^*_2[3u5v8Z:a=R=SQ+S'zQ+V(OQ,`({Q,c)PQ,y)iQ,{)pQ,})tQ-V*PQ-W*TQ-X*U^-]2]3v5w8[:b=T=UQ-i*oQ-x+PQ.k+zQ.w,XQ/`-QQ/h-dQ/n-kQ/y-zQ0r/cQ0u/iQ0x/mQ1Q/xU1X0V1]9WQ1d0eQ1m0vQ1q1RQ2Z2^Q2qjQ2r3yQ2x3zQ2y3|Q2z4OQ2{4QQ2|4SQ2}4UQ3O2`Q3Q2bQ3R2cQ3S2dQ3T2eQ3U2fQ3V2gQ3W2hQ3X2iQ3Y2jQ3Z2kQ3[2lQ3]2mQ3^2nQ3_2oQ3`2pQ3a2sQ3b2tQ3c2uQ3e2vQ3f2wQ3i3PQ3j3dQ3l3gQ3m3hQ3n3kQ3q3oQ3r3pQ3t3sQ4Y4WQ4y3{Q4z3}Q4{4PQ4|4RQ4}4TQ5O4VQ5P4cQ5R4eQ5S4fQ5T4gQ5U4hQ5V4iQ5W4jQ5X4kQ5Y4lQ5Z4mQ5[4nQ5]4oQ5^4pQ5_4qQ5`4rQ5a4sQ5b4tQ5c4uQ5d4vQ5f4wQ5g4xQ5j5QQ5k5eQ5m5hQ5n5iQ5o5lQ5r5pQ5s5qQ5u5tQ6Q4aQ6R3xQ6V6TQ6}6^Q7O6_Q7P6`Q7Q6aQ7R6bQ7S6cQ7T6dQ7U6fU7V,T.t0dQ7W%cQ7Y6hQ7Z6iQ7[6jQ7]6kQ7^6lQ7_6mQ7`6nQ7a6oQ7b6pQ7c6qQ7d6rQ7e6sQ7f6tQ7g6uQ7h6vQ7j6xQ7k6yQ7n6zQ7p6{Q7q6|Q7x7XQ7y7iQ7{7oQ7}7rQ8O7sQ8P7uQ8Q7wQ8R7zQ8S7|Q8V8TQ8W8UQ8Y8XQ8]8fU9U#k&s7lQ9^8jQ9_8kQ9`8lQ9a8mQ9b8nQ9c8oQ9e8pQ9f8rQ9g8sQ9i8uQ9j8vQ9k8wQ9l8xQ9m8yQ9n8zQ9o8{Q9p8|Q9q8}Q9r9OQ9s9PQ9t9QQ9u9RQ9v9SQ9w9TQ9x9ZQ9z9[Q9{9]Q:P9hQ:Q9yQ:T9}Q:V:OQ:W:RQ:[:YQ:^:ZQ:`:_Q:c8iQ;j:dQ;k:eQ;l:fQ;m:gQ;n:hQ;o:iQ;p:jQ;q:kQ;r:lQ;s:oQ;v:rQ;w:sQ;x:tQ;y:uQ;z:vQ;{:wQ;|:xQ;}:yQ<O:zQ<P:{Q<Q:|Q<R:}Q<S;OQ<T;PQ<U;QQ<V;RQ<W;SQ<X;TQ<Y;UQ<Z;VQ<[;WQ<];XQ<^;YQ<_;ZQ<`;[Q<a;]Q<b;^Q<c;_Q<d;`Q<e;aQ<f;cQ<g;dQ<h;eQ<i;fQ<l;gQ<m;hQ<n;iQ<r;tQ<s;uQ<t<jQ<u<kQ<w<oQ<x<pQ<y<qQ<z<vQ<}<{Q=O<|Q=Q=PQ=V8hQ=W8gQ=_=ZQ=`9VQ=a9XQ=q=mR=r=nR){&pQ%t!gQ)O%cT)y&p-R$SiPVX[bklmnopxyz!S!W!X!Y!j!r!s!w!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y$}%P%S%U%}&S'Y(O(`)p+P+r+u-z.b.d.l/x0`0a0e0i1R1a2[2]6x6y!t3w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x6S3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O8e_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|=X!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v=k+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]=l0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UQ#r_Q&r#kQ&z#sR)}&sS#q_#s^$Tj3x3y8f8g8h8iS*Q&w7lT9Y#k&sQ&}#tR*X'OR&T!|R&Z!}Q&Y!}R-O)vQ#|gQ'V#}S'h$h*sQ*Y'SQ*n'iQ*q'mQ*v'rQ+W(PS+[(T+gQ,m)ZQ-`*fQ-s*zQ-v*}Q-y+QS.P+]+`Q.z,ZQ/s-rQ/v-uQ/z-{Q0P.QQ1O/uQ1p1PQ4^5}Q4_6OQ4`6PQ5y6]Q6Y8bQ6Z8cQ6[8dQ:U=dQ:X=eQ:]=iQ=g>OQ=h>PQ=j>QQ=u>XQ=v>YQ=w>ZR=x>[0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n!v$Pg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[S$]r'^Q%k!eS%o!f%rQ)b%pU+X(R(S+dQ,p)_Q,t)cQ/Z,uQ/{-|R0p/[|vPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a#U#i[bklmnopxyz!W!X!Y!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y%}&S'Y(O)p+P-z/x0e1R2[2]6x6yd+^(T)W+]+`+g,g,h,k.Q/O!t6w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x;b3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O=z_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|>]!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v>^+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]>_0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UR'p$hQ'o$hR-l*sR$_rR-q*wQ+Y(RQ+Z(SR.X+dT+f(T+ge+_(T)W+]+`+g,g,h,k.Q/OQ%f!_Q'b$bQ*c'cQ.U+aQ0S.RR1U0QQ#eZQ%X!WQ%Z!XQ%]!YQ'}$pQ(s%VQ(t%WQ(u%YQ(v%[Q(}%bQ)S%fQ)[%kQ)f%qQ)k%tQ*b'bQ,n)]Q-^*cQ.V+bQ.W+cQ.e+xQ.o,QQ.p,RQ.q,SQ.v,WQ.y,YQ.},bQ/U,oQ/}.OQ0T.SQ0U.UQ0W.XQ0[.hQ0k/QQ0q/_Q1S0OQ1V0RQ1W0SQ1`0_Q1h0jQ1r1TQ1s1UQ1v1[Q1y1_Q1}1jQ2T1{R2U1|Q$pvS+b(T+gU.O+[+]+`S0O.P.QR1T0P|!aPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ$dtW+c(T)W+g,kW.S+]+`,g,hT0R.Q/O0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR.|,_0w}PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$w{${Q(i%PQ(n%SQ(q%UR1f0iQ%b!]Q(m%RQ,U(lQ.s,TQ.u,VQ0c.tR1c0dQ%q!fR)]%rR)e%p",
  nodeNames: "\u26A0 ( HeredocString EscapeSequence abstract LogicOp array as Boolean break case catch clone const continue default declare do echo else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final finally fn for foreach from function global goto if implements include include_once LogicOp insteadof interface list match namespace new null LogicOp print require require_once return switch throw trait try unset use var Visibility while LogicOp yield LineComment BlockComment TextInterpolation PhpClose Text PhpOpen Template TextInterpolation EmptyStatement ; } { Block : LabelStatement Name ExpressionStatement ConditionalExpression LogicOp MatchExpression ) ( ParenthesizedExpression MatchBlock MatchArm , => AssignmentExpression ArrayExpression ValueList & VariadicUnpacking ... Pair [ ] ListExpression ValueList Pair Pair SubscriptExpression MemberExpression -> ?-> VariableName DynamicVariable $ ${ CallExpression ArgList NamedArgument SpreadArgument CastExpression UnionType LogicOp OptionalType NamedType QualifiedName \\ NamespaceName ScopedExpression :: ClassMemberName AssignOp UpdateExpression UpdateOp YieldExpression BinaryExpression LogicOp LogicOp LogicOp BitOp BitOp BitOp CompareOp CompareOp BitOp ArithOp ConcatOp ArithOp ArithOp IncludeExpression RequireExpression CloneExpression UnaryExpression ControlOp LogicOp PrintIntrinsic FunctionExpression static ParamList Parameter #[ Attributes Attribute VariadicParameter PropertyParameter UseList ArrowFunction NewExpression class BaseClause ClassInterfaceClause DeclarationList ConstDeclaration VariableDeclarator PropertyDeclaration VariableDeclarator MethodDeclaration UseDeclaration UseList UseInsteadOfClause UseAsClause UpdateExpression ArithOp ShellExpression ThrowExpression Integer Float String MemberExpression SubscriptExpression UnaryExpression ArithOp Interpolation String IfStatement ColonBlock SwitchStatement Block CaseStatement DefaultStatement ColonBlock WhileStatement EmptyStatement DoStatement ForStatement ForSpec SequenceExpression ForeachStatement ForSpec Pair GotoStatement ContinueStatement BreakStatement ReturnStatement TryStatement CatchDeclarator DeclareStatement EchoStatement UnsetStatement ConstDeclaration FunctionDefinition ClassDeclaration InterfaceDeclaration TraitDeclaration EnumDeclaration EnumBody EnumCase NamespaceDefinition NamespaceUseDeclaration UseGroup UseClause UseClause GlobalDeclaration FunctionStaticDeclaration Program",
  maxTerm: 304,
  nodeProps: [
    ["group", -36, 2, 8, 49, 81, 83, 85, 88, 93, 94, 102, 106, 107, 110, 111, 114, 118, 123, 126, 130, 132, 133, 147, 148, 149, 150, 153, 154, 164, 165, 179, 181, 182, 183, 184, 185, 191, "Expression", -28, 74, 78, 80, 82, 192, 194, 199, 201, 202, 205, 208, 209, 210, 211, 212, 214, 215, 216, 217, 218, 219, 220, 221, 222, 225, 226, 230, 231, "Statement", -3, 119, 121, 122, "Type"],
    ["isolate", -4, 66, 67, 70, 191, ""],
    ["openedBy", 69, "phpOpen", 76, "{", 86, "(", 101, "#["],
    ["closedBy", 71, "phpClose", 77, "}", 87, ")", 158, "]"]
  ],
  propSources: [phpHighlighting],
  skippedNodes: [0],
  repeatNodeCount: 29,
  tokenData: "!F|_R!]OX$zXY&^YZ'sZ]$z]^&^^p$zpq&^qr)Rrs+Pst+otu2buv5evw6rwx8Vxy>]yz>yz{?g{|@}|}Bb}!OCO!O!PDh!P!QKT!Q!R!!o!R![!$q![!]!,P!]!^!-a!^!_!-}!_!`!1S!`!a!2d!a!b!3t!b!c!7^!c!d!7z!d!e!9W!e!}!7z!}#O!;^#O#P!;z#P#Q!<h#Q#R!=U#R#S!7z#S#T!=u#T#U!7z#U#V!9W#V#o!7z#o#p!Co#p#q!D]#q#r!Er#r#s!F`#s$f$z$f$g&^$g&j!7z&j$I_$z$I_$I`&^$I`$KW$z$KW$KX&^$KX;'S$z;'S;=`&W<%l?HT$z?HT?HU&^?HUO$zP%PV&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zP%kO&wPP%nWOY$zYZ%fZ!a$z!b;'S$z;'S;=`&W<%l~$z~O$z~~%fP&ZP;=`<%l$zV&ed&wP&vUOX$zXY&^YZ'sZ]$z]^&^^p$zpq&^q!^$z!^!_%k!_$f$z$f$g&^$g$I_$z$I_$I`&^$I`$KW$z$KW$KX&^$KX;'S$z;'S;=`&W<%l?HT$z?HT?HU&^?HUO$zV'zW&wP&vUXY(dYZ(d]^(dpq(d$f$g(d$I_$I`(d$KW$KX(d?HT?HU(dU(iW&vUXY(dYZ(d]^(dpq(d$f$g(d$I_$I`(d$KW$KX(d?HT?HU(dR)YW$^Q&wPOY$zYZ%fZ!^$z!^!_%k!_!`)r!`;'S$z;'S;=`&W<%lO$zR)yW$QQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`*c!`;'S$z;'S;=`&W<%lO$zR*jV$QQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV+YV'fS&wP'gQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV+v]&wP!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b!},o!}#O1f#O;'S,o;'S;=`/s<%lO,oV,vZ&wP!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b;'S,o;'S;=`/s<%lO,oV-nZ!dUOY,oYZ%fZ],o]^$z^!a,o!a!b.a!b;'S,o;'S;=`/s<%l~,o~O,o~~%fU.dWOY.|YZ/nZ].|]^/n^!`.|!a;'S.|;'S;=`/h<%lO.|U/RV!dUOY.|Z].|^!a.|!a!b.a!b;'S.|;'S;=`/h<%lO.|U/kP;=`<%l.|U/sO!dUV/vP;=`<%l,oV0OZ&wPOY,oYZ0qZ],o]^0x^!^,o!^!_-i!_!`,o!`!a$z!a;'S,o;'S;=`/s<%lO,oV0xO&wP!dUV1PV&wP!dUOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV1oZ&wP$dQ!dUOY,oYZ%fZ],o]^$z^!^,o!^!_-i!_!a,o!a!b/y!b;'S,o;'S;=`/s<%lO,o_2i`&wP#dQOY$zYZ%fZ!^$z!^!_%k!_!c$z!c!}3k!}#R$z#R#S3k#S#T$z#T#o3k#o#p4w#p$g$z$g&j3k&j;'S$z;'S;=`&W<%lO$z_3ra&wP#b^OY$zYZ%fZ!Q$z!Q![3k![!^$z!^!_%k!_!c$z!c!}3k!}#R$z#R#S3k#S#T$z#T#o3k#o$g$z$g&j3k&j;'S$z;'S;=`&W<%lO$zV5OV&wP#eUOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR5lW&wP$VQOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR6]V#wQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV6yY#SU&wPOY$zYZ%fZv$zvw7iw!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR7pV#|Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR8^Z&wP%VQOY8VYZ9PZw8Vwx;_x!^8V!^!_;{!_#O8V#O#P<y#P;'S8V;'S;=`>V<%lO8VR9WV&wP%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X<%lO9mQ9rV%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X<%lO9mQ:^O%VQQ:aRO;'S9m;'S;=`:j;=`O9mQ:oW%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X;=`<%l9m<%lO9mQ;[P;=`<%l9mR;fV&wP%VQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR<Q]%VQOY8VYZ9PZw8Vwx;_x!a8V!a!b9m!b#O8V#O#P<y#P;'S8V;'S;=`>V<%l~8V~O8V~~%fR=OW&wPOY8VYZ9PZ!^8V!^!_;{!_;'S8V;'S;=`=h;=`<%l9m<%lO8VR=mW%VQOw9mwx:Xx#O9m#O#P:^#P;'S9m;'S;=`;X;=`<%l8V<%lO9mR>YP;=`<%l8VR>dV!yQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV?QV!xU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR?nY&wP$VQOY$zYZ%fZz$zz{@^{!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR@eW$WQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zRAUY$TQ&wPOY$zYZ%fZ{$z{|At|!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zRA{V$zQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRBiV!}Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z_CXZ$TQ%TW&wPOY$zYZ%fZ}$z}!OAt!O!^$z!^!_%k!_!`6U!`!aCz!a;'S$z;'S;=`&W<%lO$zVDRV#`U&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVDo[&wP$UQOY$zYZ%fZ!O$z!O!PEe!P!Q$z!Q![Fs![!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zVEjX&wPOY$zYZ%fZ!O$z!O!PFV!P!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVF^V#UU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRFz_&wP%OQOY$zYZ%fZ!Q$z!Q![Fs![!^$z!^!_%k!_!g$z!g!hGy!h#R$z#R#SJc#S#X$z#X#YGy#Y;'S$z;'S;=`&W<%lO$zRHO]&wPOY$zYZ%fZ{$z{|Hw|}$z}!OHw!O!Q$z!Q![Ii![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRH|X&wPOY$zYZ%fZ!Q$z!Q![Ii![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zRIpZ&wP%OQOY$zYZ%fZ!Q$z!Q![Ii![!^$z!^!_%k!_#R$z#R#SHw#S;'S$z;'S;=`&W<%lO$zRJhX&wPOY$zYZ%fZ!Q$z!Q![Fs![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zVK[[&wP$VQOY$zYZ%fZz$zz{LQ{!P$z!P!Q,o!Q!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zVLVX&wPOYLQYZLrZzLQz{N_{!^LQ!^!_! s!_;'SLQ;'S;=`!!i<%lOLQVLwT&wPOzMWz{Mj{;'SMW;'S;=`NX<%lOMWUMZTOzMWz{Mj{;'SMW;'S;=`NX<%lOMWUMmVOzMWz{Mj{!PMW!P!QNS!Q;'SMW;'S;=`NX<%lOMWUNXO!eUUN[P;=`<%lMWVNdZ&wPOYLQYZLrZzLQz{N_{!PLQ!P!Q! V!Q!^LQ!^!_! s!_;'SLQ;'S;=`!!i<%lOLQV! ^V!eU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV! vZOYLQYZLrZzLQz{N_{!aLQ!a!bMW!b;'SLQ;'S;=`!!i<%l~LQ~OLQ~~%fV!!lP;=`<%lLQZ!!vm&wP$}YOY$zYZ%fZ!O$z!O!PFs!P!Q$z!Q![!$q![!^$z!^!_%k!_!d$z!d!e!&o!e!g$z!g!hGy!h!q$z!q!r!(a!r!z$z!z!{!){!{#R$z#R#S!%}#S#U$z#U#V!&o#V#X$z#X#YGy#Y#c$z#c#d!(a#d#l$z#l#m!){#m;'S$z;'S;=`&W<%lO$zZ!$xa&wP$}YOY$zYZ%fZ!O$z!O!PFs!P!Q$z!Q![!$q![!^$z!^!_%k!_!g$z!g!hGy!h#R$z#R#S!%}#S#X$z#X#YGy#Y;'S$z;'S;=`&W<%lO$zZ!&SX&wPOY$zYZ%fZ!Q$z!Q![!$q![!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!&tY&wPOY$zYZ%fZ!Q$z!Q!R!'d!R!S!'d!S!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!'k[&wP$}YOY$zYZ%fZ!Q$z!Q!R!'d!R!S!'d!S!^$z!^!_%k!_#R$z#R#S!&o#S;'S$z;'S;=`&W<%lO$zZ!(fX&wPOY$zYZ%fZ!Q$z!Q!Y!)R!Y!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zZ!)YZ&wP$}YOY$zYZ%fZ!Q$z!Q!Y!)R!Y!^$z!^!_%k!_#R$z#R#S!(a#S;'S$z;'S;=`&W<%lO$zZ!*Q]&wPOY$zYZ%fZ!Q$z!Q![!*y![!^$z!^!_%k!_!c$z!c!i!*y!i#T$z#T#Z!*y#Z;'S$z;'S;=`&W<%lO$zZ!+Q_&wP$}YOY$zYZ%fZ!Q$z!Q![!*y![!^$z!^!_%k!_!c$z!c!i!*y!i#R$z#R#S!){#S#T$z#T#Z!*y#Z;'S$z;'S;=`&W<%lO$zR!,WX!qQ&wPOY$zYZ%fZ![$z![!]!,s!]!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!,zV#sQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!-hV!mU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!.S[$RQOY$zYZ%fZ!^$z!^!_!.x!_!`!/i!`!a*c!a!b!0]!b;'S$z;'S;=`&W<%l~$z~O$z~~%fR!/PW$SQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!/pX$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`$z!`!a*c!a;'S$z;'S;=`&W<%lO$zP!0bR!iP!_!`!0k!r!s!0p#d#e!0pP!0pO!iPP!0sQ!j!k!0y#[#]!0yP!0|Q!r!s!0k#d#e!0kV!1ZX#uQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`)r!`!a!1v!a;'S$z;'S;=`&W<%lO$zV!1}V#OU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!2kX$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`!3W!`!a!.x!a;'S$z;'S;=`&W<%lO$zR!3_V$RQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!3{[!vQ&wPOY$zYZ%fZ}$z}!O!4q!O!^$z!^!_%k!_!`$z!`!a!6P!a!b!6m!b;'S$z;'S;=`&W<%lO$zV!4vX&wPOY$zYZ%fZ!^$z!^!_%k!_!`$z!`!a!5c!a;'S$z;'S;=`&W<%lO$zV!5jV#aU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!6WV!gU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!6tW#zQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!7eV$]Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z_!8Ra&wP!s^OY$zYZ%fZ!Q$z!Q![!7z![!^$z!^!_%k!_!c$z!c!}!7z!}#R$z#R#S!7z#S#T$z#T#o!7z#o$g$z$g&j!7z&j;'S$z;'S;=`&W<%lO$z_!9_e&wP!s^OY$zYZ%fZr$zrs!:psw$zwx8Vx!Q$z!Q![!7z![!^$z!^!_%k!_!c$z!c!}!7z!}#R$z#R#S!7z#S#T$z#T#o!7z#o$g$z$g&j!7z&j;'S$z;'S;=`&W<%lO$zR!:wV&wP'gQOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!;eV#WU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!<RV#pU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!<oV#XQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!=]W$OQ&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`;'S$z;'S;=`&W<%lO$zR!=zZ&wPOY!=uYZ!>mZ!^!=u!^!_!@u!_#O!=u#O#P!Aq#P#S!=u#S#T!B{#T;'S!=u;'S;=`!Ci<%lO!=uR!>rV&wPO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o<%lO!?XQ!?[VO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o<%lO!?XQ!?tRO;'S!?X;'S;=`!?};=`O!?XQ!@QWO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o;=`<%l!?X<%lO!?XQ!@oO${QQ!@rP;=`<%l!?XR!@x]OY!=uYZ!>mZ!a!=u!a!b!?X!b#O!=u#O#P!Aq#P#S!=u#S#T!B{#T;'S!=u;'S;=`!Ci<%l~!=u~O!=u~~%fR!AvW&wPOY!=uYZ!>mZ!^!=u!^!_!@u!_;'S!=u;'S;=`!B`;=`<%l!?X<%lO!=uR!BcWO#O!?X#O#P!?q#P#S!?X#S#T!@j#T;'S!?X;'S;=`!@o;=`<%l!=u<%lO!?XR!CSV${Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!ClP;=`<%l!=uV!CvV!oU&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zV!DfY#}Q#lS&wPOY$zYZ%fZ!^$z!^!_%k!_!`6U!`#p$z#p#q!EU#q;'S$z;'S;=`&W<%lO$zR!E]V#{Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!EyV!nQ&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$zR!FgV$^Q&wPOY$zYZ%fZ!^$z!^!_%k!_;'S$z;'S;=`&W<%lO$z",
  tokenizers: [expression, interpolated, semicolon2, 0, 1, 2, 3, eofToken],
  topRules: { "Template": [0, 72], "Program": [1, 232] },
  dynamicPrecedences: { "284": 1 },
  specialized: [{ term: 81, get: (value, stack) => keywords2(value) << 1, external: keywords2 }, { term: 81, get: (value) => spec_Name[value] || -1 }],
  tokenPrec: 29354
});

// node_modules/@codemirror/lang-php/dist/index.js
var phpLanguage = /* @__PURE__ */ LRLanguage.define({
  name: "php",
  parser: /* @__PURE__ */ parser5.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        IfStatement: /* @__PURE__ */ continuedIndent({ except: /^\s*({|else\b|elseif\b|endif\b)/ }),
        TryStatement: /* @__PURE__ */ continuedIndent({ except: /^\s*({|catch\b|finally\b)/ }),
        SwitchBody: (context) => {
          let after = context.textAfter, closed = /^\s*\}/.test(after), isCase = /^\s*(case|default)\b/.test(after);
          return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;
        },
        ColonBlock: (cx) => cx.baseIndent + cx.unit,
        "Block EnumBody DeclarationList": /* @__PURE__ */ delimitedIndent({ closing: "}" }),
        ArrowFunction: (cx) => cx.baseIndent + cx.unit,
        "String BlockComment": () => null,
        Statement: /* @__PURE__ */ continuedIndent({ except: /^({|end(for|foreach|switch|while)\b)/ })
      }),
      /* @__PURE__ */ foldNodeProp.add({
        "Block EnumBody DeclarationList SwitchBody ArrayExpression ValueList": foldInside,
        ColonBlock(tree) {
          return { from: tree.from + 1, to: tree.to };
        },
        BlockComment(tree) {
          return { from: tree.from + 2, to: tree.to - 2 };
        }
      })
    ]
  }),
  languageData: {
    commentTokens: { block: { open: "/*", close: "*/" }, line: "//" },
    indentOnInput: /^\s*(?:case |default:|end(?:if|for(?:each)?|switch|while)|else(?:if)?|\{|\})$/,
    wordChars: "$",
    closeBrackets: { stringPrefixes: ["b", "B"] }
  }
});
function php(config2 = {}) {
  let support = [], base2;
  if (config2.baseLanguage === null) ;
  else if (config2.baseLanguage) {
    base2 = config2.baseLanguage;
  } else {
    let htmlSupport = html({ matchClosingTags: false });
    support.push(htmlSupport.support);
    base2 = htmlSupport.language;
  }
  return new LanguageSupport(phpLanguage.configure({
    wrap: base2 && parseMixed((node) => {
      if (!node.type.isTop)
        return null;
      return {
        parser: base2.parser,
        overlay: (node2) => node2.name == "Text"
      };
    }),
    top: config2.plain ? "Program" : "Template"
  }), support);
}

// node_modules/@codemirror/theme-one-dark/dist/index.js
var chalky = "#e5c07b";
var coral = "#e06c75";
var cyan = "#56b6c2";
var invalid = "#ffffff";
var ivory = "#abb2bf";
var stone = "#7d8799";
var malibu = "#61afef";
var sage = "#98c379";
var whiskey = "#d19a66";
var violet = "#c678dd";
var darkBackground = "#21252b";
var highlightBackground = "#2c313a";
var background = "#282c34";
var tooltipBackground = "#353a42";
var selection = "#3E4451";
var cursor = "#528bff";
var oneDarkTheme = /* @__PURE__ */ EditorView.theme({
  "&": {
    color: ivory,
    backgroundColor: background
  },
  ".cm-content": {
    caretColor: cursor
  },
  ".cm-cursor, .cm-dropCursor": { borderLeftColor: cursor },
  "&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection": { backgroundColor: selection },
  ".cm-panels": { backgroundColor: darkBackground, color: ivory },
  ".cm-panels.cm-panels-top": { borderBottom: "2px solid black" },
  ".cm-panels.cm-panels-bottom": { borderTop: "2px solid black" },
  ".cm-searchMatch": {
    backgroundColor: "#72a1ff59",
    outline: "1px solid #457dff"
  },
  ".cm-searchMatch.cm-searchMatch-selected": {
    backgroundColor: "#6199ff2f"
  },
  ".cm-activeLine": { backgroundColor: "#6699ff0b" },
  ".cm-selectionMatch": { backgroundColor: "#aafe661a" },
  "&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket": {
    backgroundColor: "#bad0f847"
  },
  ".cm-gutters": {
    backgroundColor: background,
    color: stone,
    border: "none"
  },
  ".cm-activeLineGutter": {
    backgroundColor: highlightBackground
  },
  ".cm-foldPlaceholder": {
    backgroundColor: "transparent",
    border: "none",
    color: "#ddd"
  },
  ".cm-tooltip": {
    border: "none",
    backgroundColor: tooltipBackground
  },
  ".cm-tooltip .cm-tooltip-arrow:before": {
    borderTopColor: "transparent",
    borderBottomColor: "transparent"
  },
  ".cm-tooltip .cm-tooltip-arrow:after": {
    borderTopColor: tooltipBackground,
    borderBottomColor: tooltipBackground
  },
  ".cm-tooltip-autocomplete": {
    "& > ul > li[aria-selected]": {
      backgroundColor: highlightBackground,
      color: ivory
    }
  }
}, { dark: true });
var oneDarkHighlightStyle = /* @__PURE__ */ HighlightStyle.define([
  {
    tag: tags.keyword,
    color: violet
  },
  {
    tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],
    color: coral
  },
  {
    tag: [/* @__PURE__ */ tags.function(tags.variableName), tags.labelName],
    color: malibu
  },
  {
    tag: [tags.color, /* @__PURE__ */ tags.constant(tags.name), /* @__PURE__ */ tags.standard(tags.name)],
    color: whiskey
  },
  {
    tag: [/* @__PURE__ */ tags.definition(tags.name), tags.separator],
    color: ivory
  },
  {
    tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],
    color: chalky
  },
  {
    tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /* @__PURE__ */ tags.special(tags.string)],
    color: cyan
  },
  {
    tag: [tags.meta, tags.comment],
    color: stone
  },
  {
    tag: tags.strong,
    fontWeight: "bold"
  },
  {
    tag: tags.emphasis,
    fontStyle: "italic"
  },
  {
    tag: tags.strikethrough,
    textDecoration: "line-through"
  },
  {
    tag: tags.link,
    color: stone,
    textDecoration: "underline"
  },
  {
    tag: tags.heading,
    fontWeight: "bold",
    color: coral
  },
  {
    tag: [tags.atom, tags.bool, /* @__PURE__ */ tags.special(tags.variableName)],
    color: whiskey
  },
  {
    tag: [tags.processingInstruction, tags.string, tags.inserted],
    color: sage
  },
  {
    tag: tags.invalid,
    color: invalid
  }
]);
var oneDark = [oneDarkTheme, /* @__PURE__ */ syntaxHighlighting(oneDarkHighlightStyle)];

// packages/forms/resources/js/components/code-editor.js
function codeEditorFormComponent({
  isDisabled,
  language: language2,
  state
}) {
  return {
    editor: null,
    themeCompartment: new Compartment(),
    state,
    init() {
      const languageExtension = this.getLanguageExtension();
      this.editor = new EditorView({
        parent: this.$refs.editor,
        state: EditorState.create({
          doc: this.state,
          extensions: [
            basicSetup,
            keymap.of([indentWithTab]),
            EditorState.readOnly.of(isDisabled),
            EditorView.editable.of(!isDisabled),
            EditorView.updateListener.of((viewUpdate) => {
              if (!viewUpdate.docChanged) {
                return;
              }
              this.state = viewUpdate.state.doc.toString();
            }),
            ...languageExtension ? [languageExtension] : [],
            this.themeCompartment.of(this.getThemeExtensions())
          ]
        })
      });
      this.$watch("state", () => {
        if (this.editor.state.doc.toString() === this.state) {
          return;
        }
        this.editor.dispatch({
          changes: {
            from: 0,
            to: this.editor.state.doc.length,
            insert: this.state
          }
        });
      });
      this.themeObserver = new MutationObserver(() => {
        this.editor.dispatch({
          effects: this.themeCompartment.reconfigure(
            this.getThemeExtensions()
          )
        });
      });
      this.themeObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ["class"]
      });
    },
    isDarkMode() {
      return document.documentElement.classList.contains("dark");
    },
    getThemeExtensions() {
      return this.isDarkMode() ? [oneDark] : [];
    },
    getLanguageExtension() {
      if (!language2) {
        return null;
      }
      const extensions = {
        css,
        html,
        javascript,
        json,
        php
      };
      return extensions[language2]?.() || null;
    },
    destroy() {
      if (this.themeObserver) {
        this.themeObserver.disconnect();
        this.themeObserver = null;
      }
      if (this.editor) {
        this.editor.destroy();
        this.editor = null;
      }
    }
  };
}
export {
  codeEditorFormComponent as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXJpam4vZmluZC1jbHVzdGVyLWJyZWFrL3NyYy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivc3RhdGUvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbW9kL3NyYy9zdHlsZS1tb2QuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3czYy1rZXluYW1lL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jcmVsdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivdmlldy9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvY29tbW9uL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9oaWdobGlnaHQvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZ3VhZ2UvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvY29tbWFuZHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivc2VhcmNoL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2F1dG9jb21wbGV0ZS9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9saW50L2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NvZGVtaXJyb3ItdjYvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL2xyL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9jc3MvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZy1jc3MvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL2h0bWwvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL2phdmFzY3JpcHQvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZy1qYXZhc2NyaXB0L2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xhbmctaHRtbC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvanNvbi9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLWpzb24vZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL3BocC9kaXN0L2luZGV4LmVzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLXBocC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci90aGVtZS1vbmUtZGFyay9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL2NvZGUtZWRpdG9yLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBUaGVzZSBhcmUgZmlsbGVkIHdpdGggcmFuZ2VzIChyYW5nZUZyb21baV0gdXAgdG8gYnV0IG5vdCBpbmNsdWRpbmdcbi8vIHJhbmdlVG9baV0pIG9mIGNvZGUgcG9pbnRzIHRoYXQgY291bnQgYXMgZXh0ZW5kaW5nIGNoYXJhY3RlcnMuXG5sZXQgcmFuZ2VGcm9tID0gW10sIHJhbmdlVG8gPSBbXVxuXG47KCgpID0+IHtcbiAgLy8gQ29tcHJlc3NlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgR3JhcGhlbWVfQ2x1c3Rlcl9CcmVhaz1FeHRlbmRcbiAgLy8gaW5mb3JtYXRpb24gZnJvbVxuICAvLyBodHRwOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy8xNi4wLjAvdWNkL2F1eGlsaWFyeS9HcmFwaGVtZUJyZWFrUHJvcGVydHkudHh0LlxuICAvLyBFYWNoIHBhaXIgb2YgZWxlbWVudHMgcmVwcmVzZW50cyBhIHJhbmdlLCBhcyBhbiBvZmZldCBmcm9tIHRoZVxuICAvLyBwcmV2aW91cyByYW5nZSBhbmQgYSBsZW5ndGguIE51bWJlcnMgYXJlIGluIGJhc2UtMzYsIHdpdGggdGhlIGVtcHR5XG4gIC8vIHN0cmluZyBiZWluZyBhIHNob3J0aGFuZCBmb3IgMS5cbiAgbGV0IG51bWJlcnMgPSBcImxjLDM0LDduLDcsN2IsMTksLCwsMiwsMiwsLDIwLGIsMWMsbCxnLCwydCw3LDIsNiwyLDIsLDQseiwsdSxyLDJqLGIsMW0sOSw5LCxvLDQsLDksLDMsLDUsMTcsMywzYixmLCx3LDFqLCwsLDQsOCw0LCwzLDcsYSwyLHQsLDFtLCwsLDIsNCw4LCw5LCxhLDIscSwsMiwyLDFsLCw0LDIsNCwyLDIsMywzLCx1LDIsMywsYiwyLDFsLCw0LDUsLDIsNCwsaywyLG0sNiwsLDFtLCwsMiwsNCw4LCw3LDMsYSwyLHUsLDFuLCwsLGMsLDksLDE0LCwzLCwxbCwzLDUsMywsNCw3LDIsYiwyLHQsLDFtLCwyLCwyLCwzLCw1LDIsNywyLGIsMixzLDIsMWwsMiwsLDIsNCw4LCw5LCxhLDIsdCwsMjAsLDQsLDIsMywsLDgsLDI5LCwyLDcsYyw4LDJxLCwyLDksYiw2LDIyLDIsciwsLCwsLDFqLGUsLDUsLDIsNSxiLCwxMCw5LCwydSw0LCw2LCwyLDIsMixwLDIsNCwzLGcsNCxkLCwyLDIsNiwsZiwsamosMyxxYSwzLHQsMyx0LDIsdSwyLDFzLDIsLDcsOCwsMixiLDksLDE5LDMsM2IsMix5LCwzYSwzLDQsMiw5LCw2LDMsNjMsMiwyLCwxbSwsLDcsLCwsLDIsOCw2LGEsMiwsMWMsaCwxciw0LDFjLDcsLCw1LCwxNCw5LGMsMix3LDQsMiwyLCwzLDFrLCwsMiwzLCwsMywxbSw4LDIsMiw0OCwzLCxkLCw3LDQsLDYsLDMsMiw1aSwxbSwsNSxlaywsNWYseCwyZGEsMywzeCwsMm8sdyxmZSw2LDJ4LDIsbjl3LDQsLGEsdywyLDI4LDIsN2ssLDMsLDQsLHAsMiw1LCw0NywyLHEsaSxkLCwxMiw4LHAsYiwxYSwzLDFjLCwyLDQsMiwyLDEzLCwxdiw2LDIsMiwyLDIsYywsOCwsMWIsLDFmLCwsMywyLDIsNSwyLCwsMTYsMiw4LCw2bSwsMiwsNCwsZm40LCxraCxnLGcsZyxhNiwyLGd0LCw2YSwsNDUsNSwxYWUsMywsMiw1LDQsMTQsMyw0LCw0bCwyLGZ4LDQsYXIsMiw0OSxiLDR3LCwxaSxmLDFrLDMsMWQsNCwyLDIsMXgsMywxMCw1LCw4LDFxLCxjLDIsMWcsOSxhLDQsMiwsMm4sMywyLCwsMiw2LCw0ZywsMyw4LGwsMiwxbCwyLCwsLCxtLCxlLDcsMyw1LDVmLDgsMiwzLCwsbiwsMjksLDIsNiwsLDIsLCwyLCwyLDZqLCwyLDQsNiwyLCwyLHIsMiwyZCw4LDIsLCwyLDJ5LCwsLDIsNiwsLDJ0LDMsMiw0LCw1LDc3LDksLDIsNnQsLGEsMiwsLDQsLDQwLDQsMiwyLDQsLHcsYSwxNCw2LDIsNCw4LCw5LDYsMiwzLDFhLGQsLDIsYmEsNywsNiwsLDJhLG0sMiw3LCwyLCwyLDNlLDYsMywsLDIsLDcsLCwyMCwyLDMsLCwsOW4sMixmMGIsNSwxbiw3LHQ0LCwxciw0LDI5LCxmNWssMiw0M3EsLCwzLDQsNSw4LDgsMiw3LHUsNCw0NCwzLDFpeiwxaiw0LDFlLDgsLGUsLG0sNSwsZiwxMXMsNywsaCwyLDcsLDIsLDUsNzksNyxjNSw0LDE1cyw3LDMxLDcsMjQwLDUsZ3g3aywybywzayw2b1wiLnNwbGl0KFwiLFwiKS5tYXAocyA9PiBzID8gcGFyc2VJbnQocywgMzYpIDogMSlcbiAgZm9yIChsZXQgaSA9IDAsIG4gPSAwOyBpIDwgbnVtYmVycy5sZW5ndGg7IGkrKylcbiAgICAoaSAlIDIgPyByYW5nZVRvIDogcmFuZ2VGcm9tKS5wdXNoKG4gPSBuICsgbnVtYmVyc1tpXSlcbn0pKClcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZW5kaW5nQ2hhcihjb2RlKSB7XG4gIGlmIChjb2RlIDwgNzY4KSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgZnJvbSA9IDAsIHRvID0gcmFuZ2VGcm9tLmxlbmd0aDs7KSB7XG4gICAgbGV0IG1pZCA9IChmcm9tICsgdG8pID4+IDFcbiAgICBpZiAoY29kZSA8IHJhbmdlRnJvbVttaWRdKSB0byA9IG1pZFxuICAgIGVsc2UgaWYgKGNvZGUgPj0gcmFuZ2VUb1ttaWRdKSBmcm9tID0gbWlkICsgMVxuICAgIGVsc2UgcmV0dXJuIHRydWVcbiAgICBpZiAoZnJvbSA9PSB0bykgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNSZWdpb25hbEluZGljYXRvcihjb2RlKSB7XG4gIHJldHVybiBjb2RlID49IDB4MUYxRTYgJiYgY29kZSA8PSAweDFGMUZGXG59XG5cbmZ1bmN0aW9uIGNoZWNrKGNvZGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZUZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocmFuZ2VUb1tpXSA+IGNvZGUpIHJldHVybiByYW5nZUZyb21baV0gPD0gY29kZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5jb25zdCBaV0ogPSAweDIwMGRcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDbHVzdGVyQnJlYWsoc3RyLCBwb3MsIGZvcndhcmQgPSB0cnVlLCBpbmNsdWRlRXh0ZW5kaW5nID0gdHJ1ZSkge1xuICByZXR1cm4gKGZvcndhcmQgPyBuZXh0Q2x1c3RlckJyZWFrIDogcHJldkNsdXN0ZXJCcmVhaykoc3RyLCBwb3MsIGluY2x1ZGVFeHRlbmRpbmcpXG59XG5cbmZ1bmN0aW9uIG5leHRDbHVzdGVyQnJlYWsoc3RyLCBwb3MsIGluY2x1ZGVFeHRlbmRpbmcpIHtcbiAgaWYgKHBvcyA9PSBzdHIubGVuZ3RoKSByZXR1cm4gcG9zXG4gIC8vIElmIHBvcyBpcyBpbiB0aGUgbWlkZGxlIG9mIGEgc3Vycm9nYXRlIHBhaXIsIG1vdmUgdG8gaXRzIHN0YXJ0XG4gIGlmIChwb3MgJiYgc3Vycm9nYXRlTG93KHN0ci5jaGFyQ29kZUF0KHBvcykpICYmIHN1cnJvZ2F0ZUhpZ2goc3RyLmNoYXJDb2RlQXQocG9zIC0gMSkpKSBwb3MtLVxuICBsZXQgcHJldiA9IGNvZGVQb2ludEF0KHN0ciwgcG9zKVxuICBwb3MgKz0gY29kZVBvaW50U2l6ZShwcmV2KVxuICB3aGlsZSAocG9zIDwgc3RyLmxlbmd0aCkge1xuICAgIGxldCBuZXh0ID0gY29kZVBvaW50QXQoc3RyLCBwb3MpXG4gICAgaWYgKHByZXYgPT0gWldKIHx8IG5leHQgPT0gWldKIHx8IGluY2x1ZGVFeHRlbmRpbmcgJiYgaXNFeHRlbmRpbmdDaGFyKG5leHQpKSB7XG4gICAgICBwb3MgKz0gY29kZVBvaW50U2l6ZShuZXh0KVxuICAgICAgcHJldiA9IG5leHRcbiAgICB9IGVsc2UgaWYgKGlzUmVnaW9uYWxJbmRpY2F0b3IobmV4dCkpIHtcbiAgICAgIGxldCBjb3VudEJlZm9yZSA9IDAsIGkgPSBwb3MgLSAyXG4gICAgICB3aGlsZSAoaSA+PSAwICYmIGlzUmVnaW9uYWxJbmRpY2F0b3IoY29kZVBvaW50QXQoc3RyLCBpKSkpIHsgY291bnRCZWZvcmUrKzsgaSAtPSAyIH1cbiAgICAgIGlmIChjb3VudEJlZm9yZSAlIDIgPT0gMCkgYnJlYWtcbiAgICAgIGVsc2UgcG9zICs9IDJcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvc1xufVxuXG5mdW5jdGlvbiBwcmV2Q2x1c3RlckJyZWFrKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKSB7XG4gIHdoaWxlIChwb3MgPiAwKSB7XG4gICAgbGV0IGZvdW5kID0gbmV4dENsdXN0ZXJCcmVhayhzdHIsIHBvcyAtIDIsIGluY2x1ZGVFeHRlbmRpbmcpXG4gICAgaWYgKGZvdW5kIDwgcG9zKSByZXR1cm4gZm91bmRcbiAgICBwb3MtLVxuICB9XG4gIHJldHVybiAwXG59XG5cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0ciwgcG9zKSB7XG4gIGxldCBjb2RlMCA9IHN0ci5jaGFyQ29kZUF0KHBvcylcbiAgaWYgKCFzdXJyb2dhdGVIaWdoKGNvZGUwKSB8fCBwb3MgKyAxID09IHN0ci5sZW5ndGgpIHJldHVybiBjb2RlMFxuICBsZXQgY29kZTEgPSBzdHIuY2hhckNvZGVBdChwb3MgKyAxKVxuICBpZiAoIXN1cnJvZ2F0ZUxvdyhjb2RlMSkpIHJldHVybiBjb2RlMFxuICByZXR1cm4gKChjb2RlMCAtIDB4ZDgwMCkgPDwgMTApICsgKGNvZGUxIC0gMHhkYzAwKSArIDB4MTAwMDBcbn1cblxuZnVuY3Rpb24gc3Vycm9nYXRlTG93KGNoKSB7IHJldHVybiBjaCA+PSAweERDMDAgJiYgY2ggPCAweEUwMDAgfVxuZnVuY3Rpb24gc3Vycm9nYXRlSGlnaChjaCkgeyByZXR1cm4gY2ggPj0gMHhEODAwICYmIGNoIDwgMHhEQzAwIH1cbmZ1bmN0aW9uIGNvZGVQb2ludFNpemUoY29kZSkgeyByZXR1cm4gY29kZSA8IDB4MTAwMDAgPyAxIDogMiB9XG4iLCAiaW1wb3J0IHsgZmluZENsdXN0ZXJCcmVhayBhcyBmaW5kQ2x1c3RlckJyZWFrJDEgfSBmcm9tICdAbWFyaWpuL2ZpbmQtY2x1c3Rlci1icmVhayc7XG5cbi8qKlxuVGhlIGRhdGEgc3RydWN0dXJlIGZvciBkb2N1bWVudHMuIEBub25hYnN0cmFjdFxuKi9cbmNsYXNzIFRleHQge1xuICAgIC8qKlxuICAgIEdldCB0aGUgbGluZSBkZXNjcmlwdGlvbiBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgbGluZUF0KHBvcykge1xuICAgICAgICBpZiAocG9zIDwgMCB8fCBwb3MgPiB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIHBvc2l0aW9uICR7cG9zfSBpbiBkb2N1bWVudCBvZiBsZW5ndGggJHt0aGlzLmxlbmd0aH1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUlubmVyKHBvcywgZmFsc2UsIDEsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGRlc2NyaXB0aW9uIGZvciB0aGUgZ2l2ZW4gKDEtYmFzZWQpIGxpbmUgbnVtYmVyLlxuICAgICovXG4gICAgbGluZShuKSB7XG4gICAgICAgIGlmIChuIDwgMSB8fCBuID4gdGhpcy5saW5lcylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGxpbmUgbnVtYmVyICR7bn0gaW4gJHt0aGlzLmxpbmVzfS1saW5lIGRvY3VtZW50YCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVJbm5lcihuLCB0cnVlLCAxLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIHJhbmdlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZGVjb21wb3NlKDAsIGZyb20sIHBhcnRzLCAyIC8qIE9wZW4uVG8gKi8pO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGgpXG4gICAgICAgICAgICB0ZXh0LmRlY29tcG9zZSgwLCB0ZXh0Lmxlbmd0aCwgcGFydHMsIDEgLyogT3Blbi5Gcm9tICovIHwgMiAvKiBPcGVuLlRvICovKTtcbiAgICAgICAgdGhpcy5kZWNvbXBvc2UodG8sIHRoaXMubGVuZ3RoLCBwYXJ0cywgMSAvKiBPcGVuLkZyb20gKi8pO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwZW5kIGFub3RoZXIgZG9jdW1lbnQgdG8gdGhpcyBvbmUuXG4gICAgKi9cbiAgICBhcHBlbmQob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSh0aGlzLmxlbmd0aCwgdGhpcy5sZW5ndGgsIG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHRleHQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICovXG4gICAgc2xpY2UoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICBbZnJvbSwgdG9dID0gY2xpcCh0aGlzLCBmcm9tLCB0byk7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29tcG9zZShmcm9tLCB0bywgcGFydHMsIDApO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdG8gLSBmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVzdCB3aGV0aGVyIHRoaXMgdGV4dCBpcyBlcXVhbCB0byBhbm90aGVyIGluc3RhbmNlLlxuICAgICovXG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG90aGVyLmxlbmd0aCAhPSB0aGlzLmxlbmd0aCB8fCBvdGhlci5saW5lcyAhPSB0aGlzLmxpbmVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnNjYW5JZGVudGljYWwob3RoZXIsIDEpLCBlbmQgPSB0aGlzLmxlbmd0aCAtIHRoaXMuc2NhbklkZW50aWNhbChvdGhlciwgLTEpO1xuICAgICAgICBsZXQgYSA9IG5ldyBSYXdUZXh0Q3Vyc29yKHRoaXMpLCBiID0gbmV3IFJhd1RleHRDdXJzb3Iob3RoZXIpO1xuICAgICAgICBmb3IgKGxldCBza2lwID0gc3RhcnQsIHBvcyA9IHN0YXJ0OzspIHtcbiAgICAgICAgICAgIGEubmV4dChza2lwKTtcbiAgICAgICAgICAgIGIubmV4dChza2lwKTtcbiAgICAgICAgICAgIHNraXAgPSAwO1xuICAgICAgICAgICAgaWYgKGEubGluZUJyZWFrICE9IGIubGluZUJyZWFrIHx8IGEuZG9uZSAhPSBiLmRvbmUgfHwgYS52YWx1ZSAhPSBiLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSBhLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhLmRvbmUgfHwgcG9zID49IGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHRleHQuIFdoZW4gYGRpcmAgaXMgYC0xYCwgaXRlcmF0aW9uIGhhcHBlbnNcbiAgICBmcm9tIGVuZCB0byBzdGFydC4gVGhpcyB3aWxsIHJldHVybiBsaW5lcyBhbmQgdGhlIGJyZWFrcyBiZXR3ZWVuXG4gICAgdGhlbSBhcyBzZXBhcmF0ZSBzdHJpbmdzLlxuICAgICovXG4gICAgaXRlcihkaXIgPSAxKSB7IHJldHVybiBuZXcgUmF3VGV4dEN1cnNvcih0aGlzLCBkaXIpOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgcmFuZ2Ugb2YgdGhlIHRleHQuIFdoZW4gYGZyb21gID4gYHRvYCwgdGhlXG4gICAgaXRlcmF0b3Igd2lsbCBydW4gaW4gcmV2ZXJzZS5cbiAgICAqL1xuICAgIGl0ZXJSYW5nZShmcm9tLCB0byA9IHRoaXMubGVuZ3RoKSB7IHJldHVybiBuZXcgUGFydGlhbFRleHRDdXJzb3IodGhpcywgZnJvbSwgdG8pOyB9XG4gICAgLyoqXG4gICAgUmV0dXJuIGEgY3Vyc29yIHRoYXQgaXRlcmF0ZXMgb3ZlciB0aGUgZ2l2ZW4gcmFuZ2Ugb2YgbGluZXMsXG4gICAgX3dpdGhvdXRfIHJldHVybmluZyB0aGUgbGluZSBicmVha3MgYmV0d2VlbiwgYW5kIHlpZWxkaW5nIGVtcHR5XG4gICAgc3RyaW5ncyBmb3IgZW1wdHkgbGluZXMuXG4gICAgXG4gICAgV2hlbiBgZnJvbWAgYW5kIGB0b2AgYXJlIGdpdmVuLCB0aGV5IHNob3VsZCBiZSAxLWJhc2VkIGxpbmUgbnVtYmVycy5cbiAgICAqL1xuICAgIGl0ZXJMaW5lcyhmcm9tLCB0bykge1xuICAgICAgICBsZXQgaW5uZXI7XG4gICAgICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgICAgICAgIGlubmVyID0gdGhpcy5pdGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodG8gPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0byA9IHRoaXMubGluZXMgKyAxO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5saW5lKGZyb20pLmZyb207XG4gICAgICAgICAgICBpbm5lciA9IHRoaXMuaXRlclJhbmdlKHN0YXJ0LCBNYXRoLm1heChzdGFydCwgdG8gPT0gdGhpcy5saW5lcyArIDEgPyB0aGlzLmxlbmd0aCA6IHRvIDw9IDEgPyAwIDogdGhpcy5saW5lKHRvIC0gMSkudG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVDdXJzb3IoaW5uZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGRvY3VtZW50IGFzIGEgc3RyaW5nLCB1c2luZyBuZXdsaW5lIGNoYXJhY3RlcnMgdG9cbiAgICBzZXBhcmF0ZSBsaW5lcy5cbiAgICAqL1xuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5zbGljZVN0cmluZygwKTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgdGhlIGRvY3VtZW50IHRvIGFuIGFycmF5IG9mIGxpbmVzICh3aGljaCBjYW4gYmVcbiAgICBkZXNlcmlhbGl6ZWQgYWdhaW4gdmlhIFtgVGV4dC5vZmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dF5vZikpLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mbGF0dGVuKGxpbmVzKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgYFRleHRgIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgb2YodGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQSBkb2N1bWVudCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxpbmVcIik7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAxICYmICF0ZXh0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIFRleHQuZW1wdHk7XG4gICAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLyA/IG5ldyBUZXh0TGVhZih0ZXh0KSA6IFRleHROb2RlLmZyb20oVGV4dExlYWYuc3BsaXQodGV4dCwgW10pKTtcbiAgICB9XG59XG4vLyBMZWF2ZXMgc3RvcmUgYW4gYXJyYXkgb2YgbGluZSBzdHJpbmdzLiBUaGVyZSBhcmUgYWx3YXlzIGxpbmUgYnJlYWtzXG4vLyBiZXR3ZWVuIHRoZXNlIHN0cmluZ3MuIExlYXZlcyBhcmUgbGltaXRlZCBpbiBzaXplIGFuZCBoYXZlIHRvIGJlXG4vLyBjb250YWluZWQgaW4gVGV4dE5vZGUgaW5zdGFuY2VzIGZvciBiaWdnZXIgZG9jdW1lbnRzLlxuY2xhc3MgVGV4dExlYWYgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBsZW5ndGggPSB0ZXh0TGVuZ3RoKHRleHQpKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoOyB9XG4gICAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy50ZXh0W2ldLCBlbmQgPSBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBsaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lKG9mZnNldCwgZW5kLCBsaW5lLCBzdHJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvbXBvc2UoZnJvbSwgdG8sIHRhcmdldCwgb3Blbikge1xuICAgICAgICBsZXQgdGV4dCA9IGZyb20gPD0gMCAmJiB0byA+PSB0aGlzLmxlbmd0aCA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IFRleHRMZWFmKHNsaWNlVGV4dCh0aGlzLnRleHQsIGZyb20sIHRvKSwgTWF0aC5taW4odG8sIHRoaXMubGVuZ3RoKSAtIE1hdGgubWF4KDAsIGZyb20pKTtcbiAgICAgICAgaWYgKG9wZW4gJiAxIC8qIE9wZW4uRnJvbSAqLykge1xuICAgICAgICAgICAgbGV0IHByZXYgPSB0YXJnZXQucG9wKCk7XG4gICAgICAgICAgICBsZXQgam9pbmVkID0gYXBwZW5kVGV4dCh0ZXh0LnRleHQsIHByZXYudGV4dC5zbGljZSgpLCAwLCB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoam9pbmVkLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG5ldyBUZXh0TGVhZihqb2luZWQsIHByZXYubGVuZ3RoICsgdGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtaWQgPSBqb2luZWQubGVuZ3RoID4+IDE7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZSgwLCBtaWQpKSwgbmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZShtaWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIGlmICghKHRleHQgaW5zdGFuY2VvZiBUZXh0TGVhZikpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShmcm9tLCB0bywgdGV4dCk7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IGxpbmVzID0gYXBwZW5kVGV4dCh0aGlzLnRleHQsIGFwcGVuZFRleHQodGV4dC50ZXh0LCBzbGljZVRleHQodGhpcy50ZXh0LCAwLCBmcm9tKSksIHRvKTtcbiAgICAgICAgbGV0IG5ld0xlbiA9IHRoaXMubGVuZ3RoICsgdGV4dC5sZW5ndGggLSAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLylcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYobGluZXMsIG5ld0xlbik7XG4gICAgICAgIHJldHVybiBUZXh0Tm9kZS5mcm9tKFRleHRMZWFmLnNwbGl0KGxpbmVzLCBbXSksIG5ld0xlbik7XG4gICAgfVxuICAgIHNsaWNlU3RyaW5nKGZyb20sIHRvID0gdGhpcy5sZW5ndGgsIGxpbmVTZXAgPSBcIlxcblwiKSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOyBwb3MgPD0gdG8gJiYgaSA8IHRoaXMudGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnRleHRbaV0sIGVuZCA9IHBvcyArIGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKE1hdGgubWF4KDAsIGZyb20gLSBwb3MpLCB0byAtIHBvcyk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy50ZXh0KVxuICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwoKSB7IHJldHVybiAwOyB9XG4gICAgc3RhdGljIHNwbGl0KHRleHQsIHRhcmdldCkge1xuICAgICAgICBsZXQgcGFydCA9IFtdLCBsZW4gPSAtMTtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KSB7XG4gICAgICAgICAgICBwYXJ0LnB1c2gobGluZSk7XG4gICAgICAgICAgICBsZW4gKz0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgaWYgKHBhcnQubGVuZ3RoID09IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKHBhcnQsIGxlbikpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBbXTtcbiAgICAgICAgICAgICAgICBsZW4gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID4gLTEpXG4gICAgICAgICAgICB0YXJnZXQucHVzaChuZXcgVGV4dExlYWYocGFydCwgbGVuKSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxufVxuLy8gTm9kZXMgcHJvdmlkZSB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIGBUZXh0YCB0eXBlLiBUaGV5IHN0b3JlIGFcbi8vIG51bWJlciBvZiBvdGhlciBub2RlcyBvciBsZWF2ZXMsIHRha2luZyBjYXJlIHRvIGJhbGFuY2UgdGhlbXNlbHZlc1xuLy8gb24gY2hhbmdlcy4gVGhlcmUgYXJlIGltcGxpZWQgbGluZSBicmVha3MgX2JldHdlZW5fIHRoZSBjaGlsZHJlbiBvZlxuLy8gYSBub2RlIChidXQgbm90IGJlZm9yZSB0aGUgZmlyc3Qgb3IgYWZ0ZXIgdGhlIGxhc3QgY2hpbGQpLlxuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMubGluZXMgPSAwO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIHRoaXMubGluZXMgKz0gY2hpbGQubGluZXM7XG4gICAgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5sZW5ndGgsIGVuZExpbmUgPSBsaW5lICsgY2hpbGQubGluZXMgLSAxO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBlbmRMaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZCArIDE7XG4gICAgICAgICAgICBsaW5lID0gZW5kTGluZSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVjb21wb3NlKGZyb20sIHRvLCB0YXJnZXQsIG9wZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IHBvcyA8PSB0byAmJiBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZyb20gPD0gZW5kICYmIHRvID49IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZE9wZW4gPSBvcGVuICYgKChwb3MgPD0gZnJvbSA/IDEgLyogT3Blbi5Gcm9tICovIDogMCkgfCAoZW5kID49IHRvID8gMiAvKiBPcGVuLlRvICovIDogMCkpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gZnJvbSAmJiBlbmQgPD0gdG8gJiYgIWNoaWxkT3BlbilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuZGVjb21wb3NlKGZyb20gLSBwb3MsIHRvIC0gcG9zLCB0YXJnZXQsIGNoaWxkT3Blbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIHRleHQpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBpZiAodGV4dC5saW5lcyA8IHRoaXMubGluZXMpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoOiBpZiB0aGUgY2hhbmdlIG9ubHkgYWZmZWN0cyBvbmUgY2hpbGQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoaWxkJ3Mgc2l6ZSByZW1haW5zIGluIHRoZSBhY2NlcHRhYmxlIHJhbmdlLCBvbmx5IHVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY2hpbGRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+PSBwb3MgJiYgdG8gPD0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkID0gY2hpbGQucmVwbGFjZShmcm9tIC0gcG9zLCB0byAtIHBvcywgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExpbmVzID0gdGhpcy5saW5lcyAtIGNoaWxkLmxpbmVzICsgdXBkYXRlZC5saW5lcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWQubGluZXMgPCAodG90YWxMaW5lcyA+PiAoNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovIC0gMSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmxpbmVzID4gKHRvdGFsTGluZXMgPj4gKDUgLyogVHJlZS5CcmFuY2hTaGlmdCAqLyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvcHkgPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5W2ldID0gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoY29weSwgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShwb3MsIGVuZCwgdXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5yZXBsYWNlKGZyb20sIHRvLCB0ZXh0KTtcbiAgICB9XG4gICAgc2xpY2VTdHJpbmcoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCwgbGluZVNlcCA9IFwiXFxuXCIpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiBwb3MgPD0gdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5zbGljZVN0cmluZyhmcm9tIC0gcG9zLCB0byAtIHBvcywgbGluZVNlcCk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICBjaGlsZC5mbGF0dGVuKHRhcmdldCk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwob3RoZXIsIGRpcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFRleHROb2RlKSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgbGV0IFtpQSwgaUIsIGVBLCBlQl0gPSBkaXIgPiAwID8gWzAsIDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoLCBvdGhlci5jaGlsZHJlbi5sZW5ndGhdXG4gICAgICAgICAgICA6IFt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEsIG90aGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCAtMV07XG4gICAgICAgIGZvciAoOzsgaUEgKz0gZGlyLCBpQiArPSBkaXIpIHtcbiAgICAgICAgICAgIGlmIChpQSA9PSBlQSB8fCBpQiA9PSBlQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGNoQSA9IHRoaXMuY2hpbGRyZW5baUFdLCBjaEIgPSBvdGhlci5jaGlsZHJlbltpQl07XG4gICAgICAgICAgICBpZiAoY2hBICE9IGNoQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoICsgY2hBLnNjYW5JZGVudGljYWwoY2hCLCBkaXIpO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGNoQS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKGNoaWxkcmVuLCBsZW5ndGggPSBjaGlsZHJlbi5yZWR1Y2UoKGwsIGNoKSA9PiBsICsgY2gubGVuZ3RoICsgMSwgLTEpKSB7XG4gICAgICAgIGxldCBsaW5lcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgbGluZXMgKz0gY2gubGluZXM7XG4gICAgICAgIGlmIChsaW5lcyA8IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICBsZXQgZmxhdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgY2ggb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgY2guZmxhdHRlbihmbGF0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYoZmxhdCwgbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2h1bmsgPSBNYXRoLm1heCgzMiAvKiBUcmVlLkJyYW5jaCAqLywgbGluZXMgPj4gNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovKSwgbWF4Q2h1bmsgPSBjaHVuayA8PCAxLCBtaW5DaHVuayA9IGNodW5rID4+IDE7XG4gICAgICAgIGxldCBjaHVua2VkID0gW10sIGN1cnJlbnRMaW5lcyA9IDAsIGN1cnJlbnRMZW4gPSAtMSwgY3VycmVudENodW5rID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGFkZChjaGlsZCkge1xuICAgICAgICAgICAgbGV0IGxhc3Q7XG4gICAgICAgICAgICBpZiAoY2hpbGQubGluZXMgPiBtYXhDaHVuayAmJiBjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBjaGlsZC5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgYWRkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQubGluZXMgPiBtaW5DaHVuayAmJiAoY3VycmVudExpbmVzID4gbWluQ2h1bmsgfHwgIWN1cnJlbnRMaW5lcykpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIGNodW5rZWQucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHRMZWFmICYmIGN1cnJlbnRMaW5lcyAmJlxuICAgICAgICAgICAgICAgIChsYXN0ID0gY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSkgaW5zdGFuY2VvZiBUZXh0TGVhZiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmxpbmVzICsgbGFzdC5saW5lcyA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lcyArPSBjaGlsZC5saW5lcztcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVuICs9IGNoaWxkLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSA9IG5ldyBUZXh0TGVhZihsYXN0LnRleHQuY29uY2F0KGNoaWxkLnRleHQpLCBsYXN0Lmxlbmd0aCArIDEgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lcyArIGNoaWxkLmxpbmVzID4gY2h1bmspXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmVzICs9IGNoaWxkLmxpbmVzO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMZW4gKz0gY2hpbGQubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpbmVzID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2h1bmtlZC5wdXNoKGN1cnJlbnRDaHVuay5sZW5ndGggPT0gMSA/IGN1cnJlbnRDaHVua1swXSA6IFRleHROb2RlLmZyb20oY3VycmVudENodW5rLCBjdXJyZW50TGVuKSk7XG4gICAgICAgICAgICBjdXJyZW50TGVuID0gLTE7XG4gICAgICAgICAgICBjdXJyZW50TGluZXMgPSBjdXJyZW50Q2h1bmsubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIGFkZChjaGlsZCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgICAgIHJldHVybiBjaHVua2VkLmxlbmd0aCA9PSAxID8gY2h1bmtlZFswXSA6IG5ldyBUZXh0Tm9kZShjaHVua2VkLCBsZW5ndGgpO1xuICAgIH1cbn1cblRleHQuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IFRleHRMZWFmKFtcIlwiXSwgMCk7XG5mdW5jdGlvbiB0ZXh0TGVuZ3RoKHRleHQpIHtcbiAgICBsZXQgbGVuZ3RoID0gLTE7XG4gICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KVxuICAgICAgICBsZW5ndGggKz0gbGluZS5sZW5ndGggKyAxO1xuICAgIHJldHVybiBsZW5ndGg7XG59XG5mdW5jdGlvbiBhcHBlbmRUZXh0KHRleHQsIHRhcmdldCwgZnJvbSA9IDAsIHRvID0gMWU5KSB7XG4gICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDAsIGZpcnN0ID0gdHJ1ZTsgaSA8IHRleHQubGVuZ3RoICYmIHBvcyA8PSB0bzsgaSsrKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGV4dFtpXSwgZW5kID0gcG9zICsgbGluZS5sZW5ndGg7XG4gICAgICAgIGlmIChlbmQgPj0gZnJvbSkge1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIHRvIC0gcG9zKTtcbiAgICAgICAgICAgIGlmIChwb3MgPCBmcm9tKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGZyb20gLSBwb3MpO1xuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXSArPSBsaW5lO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gZW5kICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHNsaWNlVGV4dCh0ZXh0LCBmcm9tLCB0bykge1xuICAgIHJldHVybiBhcHBlbmRUZXh0KHRleHQsIFtcIlwiXSwgZnJvbSwgdG8pO1xufVxuY2xhc3MgUmF3VGV4dEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgZGlyID0gMSkge1xuICAgICAgICB0aGlzLmRpciA9IGRpcjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGluZUJyZWFrID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLm5vZGVzID0gW3RleHRdO1xuICAgICAgICB0aGlzLm9mZnNldHMgPSBbZGlyID4gMCA/IDEgOiAodGV4dCBpbnN0YW5jZW9mIFRleHRMZWFmID8gdGV4dC50ZXh0Lmxlbmd0aCA6IHRleHQuY2hpbGRyZW4ubGVuZ3RoKSA8PCAxXTtcbiAgICB9XG4gICAgbmV4dElubmVyKHNraXAsIGRpcikge1xuICAgICAgICB0aGlzLmRvbmUgPSB0aGlzLmxpbmVCcmVhayA9IGZhbHNlO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLm5vZGVzW2xhc3RdLCBvZmZzZXRWYWx1ZSA9IHRoaXMub2Zmc2V0c1tsYXN0XSwgb2Zmc2V0ID0gb2Zmc2V0VmFsdWUgPj4gMTtcbiAgICAgICAgICAgIGxldCBzaXplID0gdG9wIGluc3RhbmNlb2YgVGV4dExlYWYgPyB0b3AudGV4dC5sZW5ndGggOiB0b3AuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAoZGlyID4gMCA/IHNpemUgOiAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3QgLSAxXSsrO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKG9mZnNldFZhbHVlICYgMSkgPT0gKGRpciA+IDAgPyAwIDogMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIGlmIChza2lwID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXAtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvcCBpbnN0YW5jZW9mIFRleHRMZWFmKSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBzdHJpbmdcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC50ZXh0W29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdICs9IGRpcjtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5sZW5ndGggPiBNYXRoLm1heCgwLCBza2lwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gc2tpcCA9PSAwID8gbmV4dCA6IGRpciA+IDAgPyBuZXh0LnNsaWNlKHNraXApIDogbmV4dC5zbGljZSgwLCBuZXh0Lmxlbmd0aCAtIHNraXApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcCAtPSBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdG9wLmNoaWxkcmVuW29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgaWYgKHNraXAgPiBuZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBza2lwIC09IG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpciA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0tLTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHMucHVzaChkaXIgPiAwID8gMSA6IChuZXh0IGluc3RhbmNlb2YgVGV4dExlYWYgPyBuZXh0LnRleHQubGVuZ3RoIDogbmV4dC5jaGlsZHJlbi5sZW5ndGgpIDw8IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0SW5uZXIoLXNraXAsICgtdGhpcy5kaXIpKTtcbiAgICAgICAgICAgIHNraXAgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0SW5uZXIoc2tpcCwgdGhpcy5kaXIpO1xuICAgIH1cbn1cbmNsYXNzIFBhcnRpYWxUZXh0Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBuZXcgUmF3VGV4dEN1cnNvcih0ZXh0LCBzdGFydCA+IGVuZCA/IC0xIDogMSk7XG4gICAgICAgIHRoaXMucG9zID0gc3RhcnQgPiBlbmQgPyB0ZXh0Lmxlbmd0aCA6IDA7XG4gICAgICAgIHRoaXMuZnJvbSA9IE1hdGgubWluKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLnRvID0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIG5leHRJbm5lcihza2lwLCBkaXIpIHtcbiAgICAgICAgaWYgKGRpciA8IDAgPyB0aGlzLnBvcyA8PSB0aGlzLmZyb20gOiB0aGlzLnBvcyA+PSB0aGlzLnRvKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBza2lwICs9IE1hdGgubWF4KDAsIGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMudG8gOiB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGxldCBsaW1pdCA9IGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMuZnJvbSA6IHRoaXMudG8gLSB0aGlzLnBvcztcbiAgICAgICAgaWYgKHNraXAgPiBsaW1pdClcbiAgICAgICAgICAgIHNraXAgPSBsaW1pdDtcbiAgICAgICAgbGltaXQgLT0gc2tpcDtcbiAgICAgICAgbGV0IHsgdmFsdWUgfSA9IHRoaXMuY3Vyc29yLm5leHQoc2tpcCk7XG4gICAgICAgIHRoaXMucG9zICs9ICh2YWx1ZS5sZW5ndGggKyBza2lwKSAqIGRpcjtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLmxlbmd0aCA8PSBsaW1pdCA/IHZhbHVlIDogZGlyIDwgMCA/IHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIGxpbWl0KSA6IHZhbHVlLnNsaWNlKDAsIGxpbWl0KTtcbiAgICAgICAgdGhpcy5kb25lID0gIXRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMClcbiAgICAgICAgICAgIHNraXAgPSBNYXRoLm1heChza2lwLCB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGVsc2UgaWYgKHNraXAgPiAwKVxuICAgICAgICAgICAgc2tpcCA9IE1hdGgubWluKHNraXAsIHRoaXMudG8gLSB0aGlzLnBvcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRJbm5lcihza2lwLCB0aGlzLmN1cnNvci5kaXIpO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gdGhpcy5jdXJzb3IubGluZUJyZWFrICYmIHRoaXMudmFsdWUgIT0gXCJcIjsgfVxufVxuY2xhc3MgTGluZUN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoaW5uZXIpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICAgICAgICB0aGlzLmFmdGVyQnJlYWsgPSB0cnVlO1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgfVxuICAgIG5leHQoc2tpcCA9IDApIHtcbiAgICAgICAgbGV0IHsgZG9uZSwgbGluZUJyZWFrLCB2YWx1ZSB9ID0gdGhpcy5pbm5lci5uZXh0KHNraXApO1xuICAgICAgICBpZiAoZG9uZSAmJiB0aGlzLmFmdGVyQnJlYWspIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVCcmVhaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWZ0ZXJCcmVhaykge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCcmVhayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmlmICh0eXBlb2YgU3ltYm9sICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBUZXh0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5pdGVyKCk7IH07XG4gICAgUmF3VGV4dEN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IFBhcnRpYWxUZXh0Q3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID1cbiAgICAgICAgTGluZUN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG59XG4vKipcblRoaXMgdHlwZSBkZXNjcmliZXMgYSBsaW5lIGluIHRoZSBkb2N1bWVudC4gSXQgaXMgY3JlYXRlZFxub24tZGVtYW5kIHdoZW4gbGluZXMgYXJlIFtxdWVyaWVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRleHQubGluZUF0KS5cbiovXG5jbGFzcyBMaW5lIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGluZSAoX2JlZm9yZV8gdGhlIGxpbmUgYnJlYWssXG4gICAgb3IgYXQgdGhlIGVuZCBvZiBkb2N1bWVudCBmb3IgdGhlIGxhc3QgbGluZSkuXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhpcyBsaW5lJ3MgbGluZSBudW1iZXIgKDEtYmFzZWQpLlxuICAgICovXG4gICAgbnVtYmVyLCBcbiAgICAvKipcbiAgICBUaGUgbGluZSdzIGNvbnRlbnQuXG4gICAgKi9cbiAgICB0ZXh0KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGxpbmUgKG5vdCBpbmNsdWRpbmcgYW55IGxpbmUgYnJlYWsgYWZ0ZXIgaXQpLlxuICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudG8gLSB0aGlzLmZyb207IH1cbn1cbmZ1bmN0aW9uIGNsaXAodGV4dCwgZnJvbSwgdG8pIHtcbiAgICBmcm9tID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGV4dC5sZW5ndGgsIGZyb20pKTtcbiAgICByZXR1cm4gW2Zyb20sIE1hdGgubWF4KGZyb20sIE1hdGgubWluKHRleHQubGVuZ3RoLCB0bykpXTtcbn1cblxuLyoqXG5SZXR1cm5zIGEgbmV4dCBncmFwaGVtZSBjbHVzdGVyIGJyZWFrIF9hZnRlcl8gKG5vdCBlcXVhbCB0bylcbmBwb3NgLCBpZiBgZm9yd2FyZGAgaXMgdHJ1ZSwgb3IgYmVmb3JlIG90aGVyd2lzZS4gUmV0dXJucyBgcG9zYFxuaXRzZWxmIGlmIG5vIGZ1cnRoZXIgY2x1c3RlciBicmVhayBpcyBhdmFpbGFibGUgaW4gdGhlIHN0cmluZy5cbk1vdmVzIGFjcm9zcyBzdXJyb2dhdGUgcGFpcnMsIGV4dGVuZGluZyBjaGFyYWN0ZXJzICh3aGVuXG5gaW5jbHVkZUV4dGVuZGluZ2AgaXMgdHJ1ZSksIGNoYXJhY3RlcnMgam9pbmVkIHdpdGggemVyby13aWR0aFxuam9pbmVycywgYW5kIGZsYWcgZW1vamkuXG4qL1xuZnVuY3Rpb24gZmluZENsdXN0ZXJCcmVhayhzdHIsIHBvcywgZm9yd2FyZCA9IHRydWUsIGluY2x1ZGVFeHRlbmRpbmcgPSB0cnVlKSB7XG4gICAgcmV0dXJuIGZpbmRDbHVzdGVyQnJlYWskMShzdHIsIHBvcywgZm9yd2FyZCwgaW5jbHVkZUV4dGVuZGluZyk7XG59XG5mdW5jdGlvbiBzdXJyb2dhdGVMb3coY2gpIHsgcmV0dXJuIGNoID49IDB4REMwMCAmJiBjaCA8IDB4RTAwMDsgfVxuZnVuY3Rpb24gc3Vycm9nYXRlSGlnaChjaCkgeyByZXR1cm4gY2ggPj0gMHhEODAwICYmIGNoIDwgMHhEQzAwOyB9XG4vKipcbkZpbmQgdGhlIGNvZGUgcG9pbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGluIGEgc3RyaW5nIChsaWtlIHRoZVxuW2Bjb2RlUG9pbnRBdGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jb2RlUG9pbnRBdClcbnN0cmluZyBtZXRob2QpLlxuKi9cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0ciwgcG9zKSB7XG4gICAgbGV0IGNvZGUwID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICBpZiAoIXN1cnJvZ2F0ZUhpZ2goY29kZTApIHx8IHBvcyArIDEgPT0gc3RyLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGNvZGUwO1xuICAgIGxldCBjb2RlMSA9IHN0ci5jaGFyQ29kZUF0KHBvcyArIDEpO1xuICAgIGlmICghc3Vycm9nYXRlTG93KGNvZGUxKSlcbiAgICAgICAgcmV0dXJuIGNvZGUwO1xuICAgIHJldHVybiAoKGNvZGUwIC0gMHhkODAwKSA8PCAxMCkgKyAoY29kZTEgLSAweGRjMDApICsgMHgxMDAwMDtcbn1cbi8qKlxuR2l2ZW4gYSBVbmljb2RlIGNvZGVwb2ludCwgcmV0dXJuIHRoZSBKYXZhU2NyaXB0IHN0cmluZyB0aGF0XG5yZXNwcmVzZW50cyBpdCAobGlrZVxuW2BTdHJpbmcuZnJvbUNvZGVQb2ludGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9mcm9tQ29kZVBvaW50KSkuXG4qL1xuZnVuY3Rpb24gZnJvbUNvZGVQb2ludChjb2RlKSB7XG4gICAgaWYgKGNvZGUgPD0gMHhmZmZmKVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICBjb2RlIC09IDB4MTAwMDA7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKGNvZGUgPj4gMTApICsgMHhkODAwLCAoY29kZSAmIDEwMjMpICsgMHhkYzAwKTtcbn1cbi8qKlxuVGhlIGFtb3VudCBvZiBwb3NpdGlvbnMgYSBjaGFyYWN0ZXIgdGFrZXMgdXAgaW4gYSBKYXZhU2NyaXB0IHN0cmluZy5cbiovXG5mdW5jdGlvbiBjb2RlUG9pbnRTaXplKGNvZGUpIHsgcmV0dXJuIGNvZGUgPCAweDEwMDAwID8gMSA6IDI7IH1cblxuY29uc3QgRGVmYXVsdFNwbGl0ID0gL1xcclxcbj98XFxuLztcbi8qKlxuRGlzdGluZ3Vpc2hlcyBkaWZmZXJlbnQgd2F5cyBpbiB3aGljaCBwb3NpdGlvbnMgY2FuIGJlIG1hcHBlZC5cbiovXG52YXIgTWFwTW9kZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1hcE1vZGUpIHtcbiAgICAvKipcbiAgICBNYXAgYSBwb3NpdGlvbiB0byBhIHZhbGlkIG5ldyBwb3NpdGlvbiwgZXZlbiB3aGVuIGl0cyBjb250ZXh0XG4gICAgd2FzIGRlbGV0ZWQuXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJTaW1wbGVcIl0gPSAwXSA9IFwiU2ltcGxlXCI7XG4gICAgLyoqXG4gICAgUmV0dXJuIG51bGwgaWYgZGVsZXRpb24gaGFwcGVucyBhY3Jvc3MgdGhlIHBvc2l0aW9uLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiVHJhY2tEZWxcIl0gPSAxXSA9IFwiVHJhY2tEZWxcIjtcbiAgICAvKipcbiAgICBSZXR1cm4gbnVsbCBpZiB0aGUgY2hhcmFjdGVyIF9iZWZvcmVfIHRoZSBwb3NpdGlvbiBpcyBkZWxldGVkLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiVHJhY2tCZWZvcmVcIl0gPSAyXSA9IFwiVHJhY2tCZWZvcmVcIjtcbiAgICAvKipcbiAgICBSZXR1cm4gbnVsbCBpZiB0aGUgY2hhcmFjdGVyIF9hZnRlcl8gdGhlIHBvc2l0aW9uIGlzIGRlbGV0ZWQuXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJUcmFja0FmdGVyXCJdID0gM10gPSBcIlRyYWNrQWZ0ZXJcIjtcbnJldHVybiBNYXBNb2RlfSkoTWFwTW9kZSB8fCAoTWFwTW9kZSA9IHt9KSk7XG4vKipcbkEgY2hhbmdlIGRlc2NyaXB0aW9uIGlzIGEgdmFyaWFudCBvZiBbY2hhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQpXG50aGF0IGRvZXNuJ3Qgc3RvcmUgdGhlIGluc2VydGVkIHRleHQuIEFzIHN1Y2gsIGl0IGNhbid0IGJlXG5hcHBsaWVkLCBidXQgaXMgY2hlYXBlciB0byBzdG9yZSBhbmQgbWFuaXB1bGF0ZS5cbiovXG5jbGFzcyBDaGFuZ2VEZXNjIHtcbiAgICAvLyBTZWN0aW9ucyBhcmUgZW5jb2RlZCBhcyBwYWlycyBvZiBpbnRlZ2Vycy4gVGhlIGZpcnN0IGlzIHRoZVxuICAgIC8vIGxlbmd0aCBpbiB0aGUgY3VycmVudCBkb2N1bWVudCwgYW5kIHRoZSBzZWNvbmQgaXMgLTEgZm9yXG4gICAgLy8gdW5hZmZlY3RlZCBzZWN0aW9ucywgYW5kIHRoZSBsZW5ndGggb2YgdGhlIHJlcGxhY2VtZW50IGNvbnRlbnRcbiAgICAvLyBvdGhlcndpc2UuIFNvIGFuIGluc2VydGlvbiB3b3VsZCBiZSAoMCwgbj4wKSwgYSBkZWxldGlvbiAobj4wLFxuICAgIC8vIDApLCBhbmQgYSByZXBsYWNlbWVudCB0d28gcG9zaXRpdmUgbnVtYmVycy5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2VjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IHNlY3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbGVuZ3RoIG9mIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5zZWN0aW9uc1tpXTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgdGhlIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBuZXdMZW5ndGgoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBpbnMgPSB0aGlzLnNlY3Rpb25zW2kgKyAxXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBpbnMgPCAwID8gdGhpcy5zZWN0aW9uc1tpXSA6IGlucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBGYWxzZSB3aGVuIHRoZXJlIGFyZSBhY3R1YWwgY2hhbmdlcyBpbiB0aGlzIHNldC5cbiAgICAqL1xuICAgIGdldCBlbXB0eSgpIHsgcmV0dXJuIHRoaXMuc2VjdGlvbnMubGVuZ3RoID09IDAgfHwgdGhpcy5zZWN0aW9ucy5sZW5ndGggPT0gMiAmJiB0aGlzLnNlY3Rpb25zWzFdIDwgMDsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgdW5jaGFuZ2VkIHBhcnRzIGxlZnQgYnkgdGhlc2UgY2hhbmdlcy4gYHBvc0FgXG4gICAgcHJvdmlkZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSByYW5nZSBpbiB0aGUgb2xkIGRvY3VtZW50LCBgcG9zQmBcbiAgICB0aGUgbmV3IHBvc2l0aW9uIGluIHRoZSBjaGFuZ2VkIGRvY3VtZW50LlxuICAgICovXG4gICAgaXRlckdhcHMoZikge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zQSA9IDAsIHBvc0IgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICBpZiAoaW5zIDwgMCkge1xuICAgICAgICAgICAgICAgIGYocG9zQSwgcG9zQiwgbGVuKTtcbiAgICAgICAgICAgICAgICBwb3NCICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gaW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zQSArPSBsZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSByYW5nZXMgY2hhbmdlZCBieSB0aGVzZSBjaGFuZ2VzLiAoU2VlXG4gICAgW2BDaGFuZ2VTZXQuaXRlckNoYW5nZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZVNldC5pdGVyQ2hhbmdlcykgZm9yIGFcbiAgICB2YXJpYW50IHRoYXQgYWxzbyBwcm92aWRlcyB5b3Ugd2l0aCB0aGUgaW5zZXJ0ZWQgdGV4dC4pXG4gICAgYGZyb21BYC9gdG9BYCBwcm92aWRlcyB0aGUgZXh0ZW50IG9mIHRoZSBjaGFuZ2UgaW4gdGhlIHN0YXJ0aW5nXG4gICAgZG9jdW1lbnQsIGBmcm9tQmAvYHRvQmAgdGhlIGV4dGVudCBvZiB0aGUgcmVwbGFjZW1lbnQgaW4gdGhlXG4gICAgY2hhbmdlZCBkb2N1bWVudC5cbiAgICBcbiAgICBXaGVuIGBpbmRpdmlkdWFsYCBpcyB0cnVlLCBhZGphY2VudCBjaGFuZ2VzICh3aGljaCBhcmUga2VwdFxuICAgIHNlcGFyYXRlIGZvciBbcG9zaXRpb24gbWFwcGluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VEZXNjLm1hcFBvcykpIGFyZVxuICAgIHJlcG9ydGVkIHNlcGFyYXRlbHkuXG4gICAgKi9cbiAgICBpdGVyQ2hhbmdlZFJhbmdlcyhmLCBpbmRpdmlkdWFsID0gZmFsc2UpIHtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgZiwgaW5kaXZpZHVhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpbnZlcnRlZCBmb3JtIG9mIHRoZXNlIGNoYW5nZXMuXG4gICAgKi9cbiAgICBnZXQgaW52ZXJ0ZWREZXNjKCkge1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKVxuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gobGVuLCBpbnMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2goaW5zLCBsZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGVzYyhzZWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbXB1dGUgdGhlIGNvbWJpbmVkIGVmZmVjdCBvZiBhcHBseWluZyBhbm90aGVyIHNldCBvZiBjaGFuZ2VzXG4gICAgYWZ0ZXIgdGhpcyBvbmUuIFRoZSBsZW5ndGggb2YgdGhlIGRvY3VtZW50IGFmdGVyIHRoaXMgc2V0IHNob3VsZFxuICAgIG1hdGNoIHRoZSBsZW5ndGggYmVmb3JlIGBvdGhlcmAuXG4gICAgKi9cbiAgICBjb21wb3NlRGVzYyhvdGhlcikgeyByZXR1cm4gdGhpcy5lbXB0eSA/IG90aGVyIDogb3RoZXIuZW1wdHkgPyB0aGlzIDogY29tcG9zZVNldHModGhpcywgb3RoZXIpOyB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgZGVzY3JpcHRpb24sIHdoaWNoIHNob3VsZCBzdGFydCB3aXRoIHRoZSBzYW1lIGRvY3VtZW50XG4gICAgYXMgYG90aGVyYCwgb3ZlciBhbm90aGVyIHNldCBvZiBjaGFuZ2VzLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAgIGFwcGxpZWQgYWZ0ZXIgaXQuIFdoZW4gYGJlZm9yZWAgaXMgdHJ1ZSwgbWFwIGFzIGlmIHRoZSBjaGFuZ2VzXG4gICAgaW4gYHRoaXNgIGhhcHBlbmVkIGJlZm9yZSB0aGUgb25lcyBpbiBgb3RoZXJgLlxuICAgICovXG4gICAgbWFwRGVzYyhvdGhlciwgYmVmb3JlID0gZmFsc2UpIHsgcmV0dXJuIG90aGVyLmVtcHR5ID8gdGhpcyA6IG1hcFNldCh0aGlzLCBvdGhlciwgYmVmb3JlKTsgfVxuICAgIG1hcFBvcyhwb3MsIGFzc29jID0gLTEsIG1vZGUgPSBNYXBNb2RlLlNpbXBsZSkge1xuICAgICAgICBsZXQgcG9zQSA9IDAsIHBvc0IgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdLCBlbmRBID0gcG9zQSArIGxlbjtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVuZEEgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NCICsgKHBvcyAtIHBvc0EpO1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgIT0gTWFwTW9kZS5TaW1wbGUgJiYgZW5kQSA+PSBwb3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKG1vZGUgPT0gTWFwTW9kZS5UcmFja0RlbCAmJiBwb3NBIDwgcG9zICYmIGVuZEEgPiBwb3MgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPT0gTWFwTW9kZS5UcmFja0JlZm9yZSAmJiBwb3NBIDwgcG9zIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09IE1hcE1vZGUuVHJhY2tBZnRlciAmJiBlbmRBID4gcG9zKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGVuZEEgPiBwb3MgfHwgZW5kQSA9PSBwb3MgJiYgYXNzb2MgPCAwICYmICFsZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3MgPT0gcG9zQSB8fCBhc3NvYyA8IDAgPyBwb3NCIDogcG9zQiArIGlucztcbiAgICAgICAgICAgICAgICBwb3NCICs9IGlucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc0EgPSBlbmRBO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgPiBwb3NBKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFBvc2l0aW9uICR7cG9zfSBpcyBvdXQgb2YgcmFuZ2UgZm9yIGNoYW5nZXNldCBvZiBsZW5ndGggJHtwb3NBfWApO1xuICAgICAgICByZXR1cm4gcG9zQjtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgd2hldGhlciB0aGVzZSBjaGFuZ2VzIHRvdWNoIGEgZ2l2ZW4gcmFuZ2UuIFdoZW4gb25lIG9mIHRoZVxuICAgIGNoYW5nZXMgZW50aXJlbHkgY292ZXJzIHRoZSByYW5nZSwgdGhlIHN0cmluZyBgXCJjb3ZlclwiYCBpc1xuICAgIHJldHVybmVkLlxuICAgICovXG4gICAgdG91Y2hlc1JhbmdlKGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoICYmIHBvcyA8PSB0bzspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgZW5kID0gcG9zICsgbGVuO1xuICAgICAgICAgICAgaWYgKGlucyA+PSAwICYmIHBvcyA8PSB0byAmJiBlbmQgPj0gZnJvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zIDwgZnJvbSAmJiBlbmQgPiB0byA/IFwiY292ZXJcIiA6IHRydWU7XG4gICAgICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSAocmVzdWx0ID8gXCIgXCIgOiBcIlwiKSArIGxlbiArIChpbnMgPj0gMCA/IFwiOlwiICsgaW5zIDogXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2VyaWFsaXplIHRoaXMgY2hhbmdlIGRlc2MgdG8gYSBKU09OLXJlcHJlc2VudGFibGUgdmFsdWUuXG4gICAgKi9cbiAgICB0b0pTT04oKSB7IHJldHVybiB0aGlzLnNlY3Rpb25zOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY2hhbmdlIGRlc2MgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbiAoYXMgcHJvZHVjZWRcbiAgICBieSBbYHRvSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlRGVzYy50b0pTT04pLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pIHx8IGpzb24ubGVuZ3RoICUgMiB8fCBqc29uLnNvbWUoYSA9PiB0eXBlb2YgYSAhPSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIENoYW5nZURlc2NcIik7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGVzYyhqc29uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKHNlY3Rpb25zKSB7IHJldHVybiBuZXcgQ2hhbmdlRGVzYyhzZWN0aW9ucyk7IH1cbn1cbi8qKlxuQSBjaGFuZ2Ugc2V0IHJlcHJlc2VudHMgYSBncm91cCBvZiBtb2RpZmljYXRpb25zIHRvIGEgZG9jdW1lbnQuIEl0XG5zdG9yZXMgdGhlIGRvY3VtZW50IGxlbmd0aCwgYW5kIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gZG9jdW1lbnRzXG53aXRoIGV4YWN0bHkgdGhhdCBsZW5ndGguXG4qL1xuY2xhc3MgQ2hhbmdlU2V0IGV4dGVuZHMgQ2hhbmdlRGVzYyB7XG4gICAgY29uc3RydWN0b3Ioc2VjdGlvbnMsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaW5zZXJ0ZWQpIHtcbiAgICAgICAgc3VwZXIoc2VjdGlvbnMpO1xuICAgICAgICB0aGlzLmluc2VydGVkID0gaW5zZXJ0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEFwcGx5IHRoZSBjaGFuZ2VzIHRvIGEgZG9jdW1lbnQsIHJldHVybmluZyB0aGUgbW9kaWZpZWRcbiAgICBkb2N1bWVudC5cbiAgICAqL1xuICAgIGFwcGx5KGRvYykge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT0gZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQXBwbHlpbmcgY2hhbmdlIHNldCB0byBhIGRvY3VtZW50IHdpdGggdGhlIHdyb25nIGxlbmd0aFwiKTtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgKGZyb21BLCB0b0EsIGZyb21CLCBfdG9CLCB0ZXh0KSA9PiBkb2MgPSBkb2MucmVwbGFjZShmcm9tQiwgZnJvbUIgKyAodG9BIC0gZnJvbUEpLCB0ZXh0KSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICBtYXBEZXNjKG90aGVyLCBiZWZvcmUgPSBmYWxzZSkgeyByZXR1cm4gbWFwU2V0KHRoaXMsIG90aGVyLCBiZWZvcmUsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgR2l2ZW4gdGhlIGRvY3VtZW50IGFzIGl0IGV4aXN0ZWQgX2JlZm9yZV8gdGhlIGNoYW5nZXMsIHJldHVybiBhXG4gICAgY2hhbmdlIHNldCB0aGF0IHJlcHJlc2VudHMgdGhlIGludmVyc2Ugb2YgdGhpcyBzZXQsIHdoaWNoIGNvdWxkXG4gICAgYmUgdXNlZCB0byBnbyBmcm9tIHRoZSBkb2N1bWVudCBjcmVhdGVkIGJ5IHRoZSBjaGFuZ2VzIGJhY2sgdG9cbiAgICB0aGUgZG9jdW1lbnQgYXMgaXQgZXhpc3RlZCBiZWZvcmUgdGhlIGNoYW5nZXMuXG4gICAgKi9cbiAgICBpbnZlcnQoZG9jKSB7XG4gICAgICAgIGxldCBzZWN0aW9ucyA9IHRoaXMuc2VjdGlvbnMuc2xpY2UoKSwgaW5zZXJ0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHNlY3Rpb25zW2ldLCBpbnMgPSBzZWN0aW9uc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoaW5zID49IDApIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uc1tpXSA9IGlucztcbiAgICAgICAgICAgICAgICBzZWN0aW9uc1tpICsgMV0gPSBsZW47XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gaSA+PiAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnNlcnRlZC5sZW5ndGggPCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWQucHVzaChUZXh0LmVtcHR5KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRlZC5wdXNoKGxlbiA/IGRvYy5zbGljZShwb3MsIHBvcyArIGxlbikgOiBUZXh0LmVtcHR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyArPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tYmluZSB0d28gc3Vic2VxdWVudCBjaGFuZ2Ugc2V0cyBpbnRvIGEgc2luZ2xlIHNldC4gYG90aGVyYFxuICAgIG11c3Qgc3RhcnQgaW4gdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IGB0aGlzYC4gSWYgYHRoaXNgIGdvZXNcbiAgICBgZG9jQWAgXHUyMTkyIGBkb2NCYCBhbmQgYG90aGVyYCByZXByZXNlbnRzIGBkb2NCYCBcdTIxOTIgYGRvY0NgLCB0aGVcbiAgICByZXR1cm5lZCB2YWx1ZSB3aWxsIHJlcHJlc2VudCB0aGUgY2hhbmdlIGBkb2NBYCBcdTIxOTIgYGRvY0NgLlxuICAgICovXG4gICAgY29tcG9zZShvdGhlcikgeyByZXR1cm4gdGhpcy5lbXB0eSA/IG90aGVyIDogb3RoZXIuZW1wdHkgPyB0aGlzIDogY29tcG9zZVNldHModGhpcywgb3RoZXIsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgR2l2ZW4gYW5vdGhlciBjaGFuZ2Ugc2V0IHN0YXJ0aW5nIGluIHRoZSBzYW1lIGRvY3VtZW50LCBtYXBzIHRoaXNcbiAgICBjaGFuZ2Ugc2V0IG92ZXIgdGhlIG90aGVyLCBwcm9kdWNpbmcgYSBuZXcgY2hhbmdlIHNldCB0aGF0IGNhbiBiZVxuICAgIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IGFwcGx5aW5nIGBvdGhlcmAuIFdoZW5cbiAgICBgYmVmb3JlYCBpcyBgdHJ1ZWAsIG9yZGVyIGNoYW5nZXMgYXMgaWYgYHRoaXNgIGNvbWVzIGJlZm9yZVxuICAgIGBvdGhlcmAsIG90aGVyd2lzZSAodGhlIGRlZmF1bHQpIHRyZWF0IGBvdGhlcmAgYXMgY29taW5nIGZpcnN0LlxuICAgIFxuICAgIEdpdmVuIHR3byBjaGFuZ2VzIGBBYCBhbmQgYEJgLCBgQS5jb21wb3NlKEIubWFwKEEpKWAgYW5kXG4gICAgYEIuY29tcG9zZShBLm1hcChCLCB0cnVlKSlgIHdpbGwgcHJvZHVjZSB0aGUgc2FtZSBkb2N1bWVudC4gVGhpc1xuICAgIHByb3ZpZGVzIGEgYmFzaWMgZm9ybSBvZiBbb3BlcmF0aW9uYWxcbiAgICB0cmFuc2Zvcm1hdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3BlcmF0aW9uYWxfdHJhbnNmb3JtYXRpb24pLFxuICAgIGFuZCBjYW4gYmUgdXNlZCBmb3IgY29sbGFib3JhdGl2ZSBlZGl0aW5nLlxuICAgICovXG4gICAgbWFwKG90aGVyLCBiZWZvcmUgPSBmYWxzZSkgeyByZXR1cm4gb3RoZXIuZW1wdHkgPyB0aGlzIDogbWFwU2V0KHRoaXMsIG90aGVyLCBiZWZvcmUsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSBjaGFuZ2VkIHJhbmdlcyBpbiB0aGUgZG9jdW1lbnQsIGNhbGxpbmcgYGZgIGZvclxuICAgIGVhY2gsIHdpdGggdGhlIHJhbmdlIGluIHRoZSBvcmlnaW5hbCBkb2N1bWVudCAoYGZyb21BYC1gdG9BYClcbiAgICBhbmQgdGhlIHJhbmdlIHRoYXQgcmVwbGFjZXMgaXQgaW4gdGhlIG5ldyBkb2N1bWVudFxuICAgIChgZnJvbUJgLWB0b0JgKS5cbiAgICBcbiAgICBXaGVuIGBpbmRpdmlkdWFsYCBpcyB0cnVlLCBhZGphY2VudCBjaGFuZ2VzIGFyZSByZXBvcnRlZFxuICAgIHNlcGFyYXRlbHkuXG4gICAgKi9cbiAgICBpdGVyQ2hhbmdlcyhmLCBpbmRpdmlkdWFsID0gZmFsc2UpIHtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgZiwgaW5kaXZpZHVhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFtjaGFuZ2UgZGVzY3JpcHRpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlRGVzYykgZm9yIHRoaXMgY2hhbmdlXG4gICAgc2V0LlxuICAgICovXG4gICAgZ2V0IGRlc2MoKSB7IHJldHVybiBDaGFuZ2VEZXNjLmNyZWF0ZSh0aGlzLnNlY3Rpb25zKTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmlsdGVyKHJhbmdlcykge1xuICAgICAgICBsZXQgcmVzdWx0U2VjdGlvbnMgPSBbXSwgcmVzdWx0SW5zZXJ0ZWQgPSBbXSwgZmlsdGVyZWRTZWN0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgaXRlciA9IG5ldyBTZWN0aW9uSXRlcih0aGlzKTtcbiAgICAgICAgZG9uZTogZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7Oykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID09IHJhbmdlcy5sZW5ndGggPyAxZTkgOiByYW5nZXNbaSsrXTtcbiAgICAgICAgICAgIHdoaWxlIChwb3MgPCBuZXh0IHx8IHBvcyA9PSBuZXh0ICYmIGl0ZXIubGVuID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlci5kb25lKVxuICAgICAgICAgICAgICAgICAgICBicmVhayBkb25lO1xuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihpdGVyLmxlbiwgbmV4dCAtIHBvcyk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihmaWx0ZXJlZFNlY3Rpb25zLCBsZW4sIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5zID0gaXRlci5pbnMgPT0gLTEgPyAtMSA6IGl0ZXIub2ZmID09IDAgPyBpdGVyLmlucyA6IDA7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihyZXN1bHRTZWN0aW9ucywgbGVuLCBpbnMpO1xuICAgICAgICAgICAgICAgIGlmIChpbnMgPiAwKVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQocmVzdWx0SW5zZXJ0ZWQsIHJlc3VsdFNlY3Rpb25zLCBpdGVyLnRleHQpO1xuICAgICAgICAgICAgICAgIGl0ZXIuZm9yd2FyZChsZW4pO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZW5kID0gcmFuZ2VzW2krK107XG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXIuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZG9uZTtcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oaXRlci5sZW4sIGVuZCAtIHBvcyk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihyZXN1bHRTZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihmaWx0ZXJlZFNlY3Rpb25zLCBsZW4sIGl0ZXIuaW5zID09IC0xID8gLTEgOiBpdGVyLm9mZiA9PSAwID8gaXRlci5pbnMgOiAwKTtcbiAgICAgICAgICAgICAgICBpdGVyLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IG5ldyBDaGFuZ2VTZXQocmVzdWx0U2VjdGlvbnMsIHJlc3VsdEluc2VydGVkKSxcbiAgICAgICAgICAgIGZpbHRlcmVkOiBDaGFuZ2VEZXNjLmNyZWF0ZShmaWx0ZXJlZFNlY3Rpb25zKSB9O1xuICAgIH1cbiAgICAvKipcbiAgICBTZXJpYWxpemUgdGhpcyBjaGFuZ2Ugc2V0IHRvIGEgSlNPTi1yZXByZXNlbnRhYmxlIHZhbHVlLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoaW5zIDwgMClcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGxlbik7XG4gICAgICAgICAgICBlbHNlIGlmIChpbnMgPT0gMClcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKFtsZW5dKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKFtsZW5dLmNvbmNhdCh0aGlzLmluc2VydGVkW2kgPj4gMV0udG9KU09OKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGNoYW5nZSBzZXQgZm9yIHRoZSBnaXZlbiBjaGFuZ2VzLCBmb3IgYSBkb2N1bWVudCBvZiB0aGVcbiAgICBnaXZlbiBsZW5ndGgsIHVzaW5nIGBsaW5lU2VwYCBhcyBsaW5lIHNlcGFyYXRvci5cbiAgICAqL1xuICAgIHN0YXRpYyBvZihjaGFuZ2VzLCBsZW5ndGgsIGxpbmVTZXApIHtcbiAgICAgICAgbGV0IHNlY3Rpb25zID0gW10sIGluc2VydGVkID0gW10sIHBvcyA9IDA7XG4gICAgICAgIGxldCB0b3RhbCA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uIGZsdXNoKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghZm9yY2UgJiYgIXNlY3Rpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocG9zIDwgbGVuZ3RoKVxuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbmd0aCAtIHBvcywgLTEpO1xuICAgICAgICAgICAgbGV0IHNldCA9IG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICAgICAgICAgIHRvdGFsID0gdG90YWwgPyB0b3RhbC5jb21wb3NlKHNldC5tYXAodG90YWwpKSA6IHNldDtcbiAgICAgICAgICAgIHNlY3Rpb25zID0gW107XG4gICAgICAgICAgICBpbnNlcnRlZCA9IFtdO1xuICAgICAgICAgICAgcG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzKHNwZWMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNwZWMpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc3ViIG9mIHNwZWMpXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Moc3ViKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNwZWMgaW5zdGFuY2VvZiBDaGFuZ2VTZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3BlYy5sZW5ndGggIT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aCAoZ290ICR7c3BlYy5sZW5ndGh9LCBleHBlY3RlZCAke2xlbmd0aH0pYCk7XG4gICAgICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsID8gdG90YWwuY29tcG9zZShzcGVjLm1hcCh0b3RhbCkpIDogc3BlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB7IGZyb20sIHRvID0gZnJvbSwgaW5zZXJ0IH0gPSBzcGVjO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID4gdG8gfHwgZnJvbSA8IDAgfHwgdG8gPiBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGNoYW5nZSByYW5nZSAke2Zyb219IHRvICR7dG99IChpbiBkb2Mgb2YgbGVuZ3RoICR7bGVuZ3RofSlgKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5zVGV4dCA9ICFpbnNlcnQgPyBUZXh0LmVtcHR5IDogdHlwZW9mIGluc2VydCA9PSBcInN0cmluZ1wiID8gVGV4dC5vZihpbnNlcnQuc3BsaXQobGluZVNlcCB8fCBEZWZhdWx0U3BsaXQpKSA6IGluc2VydDtcbiAgICAgICAgICAgICAgICBsZXQgaW5zTGVuID0gaW5zVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPT0gdG8gJiYgaW5zTGVuID09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgZnJvbSAtIHBvcywgLTEpO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIHRvIC0gZnJvbSwgaW5zTGVuKTtcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0ZWQsIHNlY3Rpb25zLCBpbnNUZXh0KTtcbiAgICAgICAgICAgICAgICBwb3MgPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzKGNoYW5nZXMpO1xuICAgICAgICBmbHVzaCghdG90YWwpO1xuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBlbXB0eSBjaGFuZ2VzZXQgb2YgdGhlIGdpdmVuIGxlbmd0aC5cbiAgICAqL1xuICAgIHN0YXRpYyBlbXB0eShsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQobGVuZ3RoID8gW2xlbmd0aCwgLTFdIDogW10sIFtdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY2hhbmdlc2V0IGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gKGFzIHByb2R1Y2VkIGJ5XG4gICAgW2B0b0pTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZVNldC50b0pTT04pLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gb2YgQ2hhbmdlU2V0XCIpO1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGFydCA9IGpzb25baV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gocGFydCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocGFydCkgfHwgdHlwZW9mIHBhcnRbMF0gIT0gXCJudW1iZXJcIiB8fCBwYXJ0LnNvbWUoKGUsIGkpID0+IGkgJiYgdHlwZW9mIGUgIT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBDaGFuZ2VTZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChwYXJ0WzBdLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnNlcnRlZC5sZW5ndGggPCBpKVxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZC5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICAgICAgICAgIGluc2VydGVkW2ldID0gVGV4dC5vZihwYXJ0LnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHBhcnRbMF0sIGluc2VydGVkW2ldLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCkge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgaW5zLCBmb3JjZUpvaW4gPSBmYWxzZSkge1xuICAgIGlmIChsZW4gPT0gMCAmJiBpbnMgPD0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBsYXN0ID0gc2VjdGlvbnMubGVuZ3RoIC0gMjtcbiAgICBpZiAobGFzdCA+PSAwICYmIGlucyA8PSAwICYmIGlucyA9PSBzZWN0aW9uc1tsYXN0ICsgMV0pXG4gICAgICAgIHNlY3Rpb25zW2xhc3RdICs9IGxlbjtcbiAgICBlbHNlIGlmIChsYXN0ID49IDAgJiYgbGVuID09IDAgJiYgc2VjdGlvbnNbbGFzdF0gPT0gMClcbiAgICAgICAgc2VjdGlvbnNbbGFzdCArIDFdICs9IGlucztcbiAgICBlbHNlIGlmIChmb3JjZUpvaW4pIHtcbiAgICAgICAgc2VjdGlvbnNbbGFzdF0gKz0gbGVuO1xuICAgICAgICBzZWN0aW9uc1tsYXN0ICsgMV0gKz0gaW5zO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHNlY3Rpb25zLnB1c2gobGVuLCBpbnMpO1xufVxuZnVuY3Rpb24gYWRkSW5zZXJ0KHZhbHVlcywgc2VjdGlvbnMsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGluZGV4ID0gKHNlY3Rpb25zLmxlbmd0aCAtIDIpID4+IDE7XG4gICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdID0gdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXS5hcHBlbmQodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPCBpbmRleClcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlckNoYW5nZXMoZGVzYywgZiwgaW5kaXZpZHVhbCkge1xuICAgIGxldCBpbnNlcnRlZCA9IGRlc2MuaW5zZXJ0ZWQ7XG4gICAgZm9yIChsZXQgcG9zQSA9IDAsIHBvc0IgPSAwLCBpID0gMDsgaSA8IGRlc2Muc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICBsZXQgbGVuID0gZGVzYy5zZWN0aW9uc1tpKytdLCBpbnMgPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICBwb3NBICs9IGxlbjtcbiAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVuZEEgPSBwb3NBLCBlbmRCID0gcG9zQiwgdGV4dCA9IFRleHQuZW1wdHk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgZW5kQSArPSBsZW47XG4gICAgICAgICAgICAgICAgZW5kQiArPSBpbnM7XG4gICAgICAgICAgICAgICAgaWYgKGlucyAmJiBpbnNlcnRlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuYXBwZW5kKGluc2VydGVkWyhpIC0gMikgPj4gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRpdmlkdWFsIHx8IGkgPT0gZGVzYy5zZWN0aW9ucy5sZW5ndGggfHwgZGVzYy5zZWN0aW9uc1tpICsgMV0gPCAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBsZW4gPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICAgICAgaW5zID0gZGVzYy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZihwb3NBLCBlbmRBLCBwb3NCLCBlbmRCLCB0ZXh0KTtcbiAgICAgICAgICAgIHBvc0EgPSBlbmRBO1xuICAgICAgICAgICAgcG9zQiA9IGVuZEI7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBtYXBTZXQoc2V0QSwgc2V0QiwgYmVmb3JlLCBta1NldCA9IGZhbHNlKSB7XG4gICAgLy8gUHJvZHVjZSBhIGNvcHkgb2Ygc2V0QSB0aGF0IGFwcGxpZXMgdG8gdGhlIGRvY3VtZW50IGFmdGVyIHNldEJcbiAgICAvLyBoYXMgYmVlbiBhcHBsaWVkIChhc3N1bWluZyBib3RoIHN0YXJ0IGF0IHRoZSBzYW1lIGRvY3VtZW50KS5cbiAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGJvdGggc2V0cyBpbiBwYXJhbGxlbC4gaW5zZXJ0ZWQgdHJhY2tzLCBmb3IgY2hhbmdlc1xuICAgIC8vIGluIEEgdGhhdCBoYXZlIHRvIGJlIHByb2Nlc3NlZCBwaWVjZS1ieS1waWVjZSwgd2hldGhlciB0aGVpclxuICAgIC8vIGNvbnRlbnQgaGFzIGJlZW4gaW5zZXJ0ZWQgYWxyZWFkeSwgYW5kIHJlZmVycyB0byB0aGUgc2VjdGlvblxuICAgIC8vIGluZGV4LlxuICAgIGZvciAobGV0IGluc2VydGVkID0gLTE7Oykge1xuICAgICAgICBpZiAoYS5kb25lICYmIGIubGVuIHx8IGIuZG9uZSAmJiBhLmxlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5pbnMgPT0gLTEgJiYgYi5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIE1vdmUgYWNyb3NzIHJhbmdlcyBza2lwcGVkIGJ5IGJvdGggc2V0cy5cbiAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihhLmxlbiwgYi5sZW4pO1xuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICBhLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgIGIuZm9yd2FyZChsZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIuaW5zID49IDAgJiYgKGEuaW5zIDwgMCB8fCBpbnNlcnRlZCA9PSBhLmkgfHwgYS5vZmYgPT0gMCAmJiAoYi5sZW4gPCBhLmxlbiB8fCBiLmxlbiA9PSBhLmxlbiAmJiAhYmVmb3JlKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBjaGFuZ2UgaW4gQiB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgbmV4dCBjaGFuZ2UgaW5cbiAgICAgICAgICAgIC8vIEEgKG9yZGVyZWQgYnkgc3RhcnQgcG9zLCB0aGVuIGxlbiwgdGhlbiBiZWZvcmUgZmxhZyksIHNraXBcbiAgICAgICAgICAgIC8vIHRoYXQgKGFuZCBwcm9jZXNzIGFueSBjaGFuZ2VzIGluIEEgaXQgY292ZXJzKS5cbiAgICAgICAgICAgIGxldCBsZW4gPSBiLmxlbjtcbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGIuaW5zLCAtMSk7XG4gICAgICAgICAgICB3aGlsZSAobGVuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gTWF0aC5taW4oYS5sZW4sIGxlbik7XG4gICAgICAgICAgICAgICAgaWYgKGEuaW5zID49IDAgJiYgaW5zZXJ0ZWQgPCBhLmkgJiYgYS5sZW4gPD0gcGllY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgMCwgYS5pbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGEudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIGxlbiAtPSBwaWVjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID49IDApIHtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHBhcnQgb2YgYSBjaGFuZ2UgaW4gQSB1cCB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIG5vbi1kZWxldGlvbiBjaGFuZ2UgaW4gQiAoaWYgb3ZlcmxhcHBpbmcpLlxuICAgICAgICAgICAgbGV0IGxlbiA9IDAsIGxlZnQgPSBhLmxlbjtcbiAgICAgICAgICAgIHdoaWxlIChsZWZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGIuaW5zID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaWVjZSA9IE1hdGgubWluKGxlZnQsIGIubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBiLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAwICYmIGIubGVuIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IGIubGVuO1xuICAgICAgICAgICAgICAgICAgICBiLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgaW5zZXJ0ZWQgPCBhLmkgPyBhLmlucyA6IDApO1xuICAgICAgICAgICAgaWYgKGluc2VydCAmJiBpbnNlcnRlZCA8IGEuaSlcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYS50ZXh0KTtcbiAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgYS5mb3J3YXJkKGEubGVuIC0gbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lICYmIGIuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc2VydCA/IENoYW5nZVNldC5jcmVhdGVTZXQoc2VjdGlvbnMsIGluc2VydCkgOiBDaGFuZ2VEZXNjLmNyZWF0ZShzZWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaGVkIGNoYW5nZSBzZXQgbGVuZ3Roc1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBvc2VTZXRzKHNldEEsIHNldEIsIG1rU2V0ID0gZmFsc2UpIHtcbiAgICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgICBsZXQgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgZm9yIChsZXQgb3BlbiA9IGZhbHNlOzspIHtcbiAgICAgICAgaWYgKGEuZG9uZSAmJiBiLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnNlcnQgPyBDaGFuZ2VTZXQuY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnQpIDogQ2hhbmdlRGVzYy5jcmVhdGUoc2VjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID09IDApIHsgLy8gRGVsZXRpb24gaW4gQVxuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgYS5sZW4sIDAsIG9wZW4pO1xuICAgICAgICAgICAgYS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYi5sZW4gPT0gMCAmJiAhYi5kb25lKSB7IC8vIEluc2VydGlvbiBpbiBCXG4gICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCAwLCBiLmlucywgb3Blbik7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBiLnRleHQpO1xuICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lIHx8IGIuZG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oYS5sZW4yLCBiLmxlbiksIHNlY3Rpb25MZW4gPSBzZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYS5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5zQiA9IGIuaW5zID09IC0xID8gLTEgOiBiLm9mZiA/IDAgOiBiLmlucztcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW4sIGluc0IsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgaW5zQilcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGIudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGEub2ZmID8gMCA6IGEubGVuLCBsZW4sIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQpXG4gICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBhLnRleHRCaXQobGVuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBhLm9mZiA/IDAgOiBhLmxlbiwgYi5vZmYgPyAwIDogYi5pbnMsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgIWIub2ZmKVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYi50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wZW4gPSAoYS5pbnMgPiBsZW4gfHwgYi5pbnMgPj0gMCAmJiBiLmxlbiA+IGxlbikgJiYgKG9wZW4gfHwgc2VjdGlvbnMubGVuZ3RoID4gc2VjdGlvbkxlbik7XG4gICAgICAgICAgICBhLmZvcndhcmQyKGxlbik7XG4gICAgICAgICAgICBiLmZvcndhcmQobGVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNlY3Rpb25JdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXQpIHtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBsZXQgeyBzZWN0aW9ucyB9ID0gdGhpcy5zZXQ7XG4gICAgICAgIGlmICh0aGlzLmkgPCBzZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubGVuID0gc2VjdGlvbnNbdGhpcy5pKytdO1xuICAgICAgICAgICAgdGhpcy5pbnMgPSBzZWN0aW9uc1t0aGlzLmkrK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxlbiA9IDA7XG4gICAgICAgICAgICB0aGlzLmlucyA9IC0yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2ZmID0gMDtcbiAgICB9XG4gICAgZ2V0IGRvbmUoKSB7IHJldHVybiB0aGlzLmlucyA9PSAtMjsgfVxuICAgIGdldCBsZW4yKCkgeyByZXR1cm4gdGhpcy5pbnMgPCAwID8gdGhpcy5sZW4gOiB0aGlzLmluczsgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggPyBUZXh0LmVtcHR5IDogaW5zZXJ0ZWRbaW5kZXhdO1xuICAgIH1cbiAgICB0ZXh0Qml0KGxlbikge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggJiYgIWxlbiA/IFRleHQuZW1wdHlcbiAgICAgICAgICAgIDogaW5zZXJ0ZWRbaW5kZXhdLnNsaWNlKHRoaXMub2ZmLCBsZW4gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRoaXMub2ZmICsgbGVuKTtcbiAgICB9XG4gICAgZm9yd2FyZChsZW4pIHtcbiAgICAgICAgaWYgKGxlbiA9PSB0aGlzLmxlbilcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGVuIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3J3YXJkMihsZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5zID09IC0xKVxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkKGxlbik7XG4gICAgICAgIGVsc2UgaWYgKGxlbiA9PSB0aGlzLmlucylcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5zIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG5BIHNpbmdsZSBzZWxlY3Rpb24gcmFuZ2UuIFdoZW5cbltgYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKVxuaXMgZW5hYmxlZCwgYSBbc2VsZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclNlbGVjdGlvbikgbWF5IGhvbGRcbm11bHRpcGxlIHJhbmdlcy4gQnkgZGVmYXVsdCwgc2VsZWN0aW9ucyBob2xkIGV4YWN0bHkgb25lIHJhbmdlLlxuKi9cbmNsYXNzIFNlbGVjdGlvblJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbG93ZXIgYm91bmRhcnkgb2YgdGhlIHJhbmdlLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSByYW5nZS5cbiAgICAqL1xuICAgIHRvLCBmbGFncykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGFuY2hvciBvZiB0aGUgcmFuZ2VcdTIwMTR0aGUgc2lkZSB0aGF0IGRvZXNuJ3QgbW92ZSB3aGVuIHlvdVxuICAgIGV4dGVuZCBpdC5cbiAgICAqL1xuICAgIGdldCBhbmNob3IoKSB7IHJldHVybiB0aGlzLmZsYWdzICYgMzIgLyogUmFuZ2VGbGFnLkludmVydGVkICovID8gdGhpcy50byA6IHRoaXMuZnJvbTsgfVxuICAgIC8qKlxuICAgIFRoZSBoZWFkIG9mIHRoZSByYW5nZSwgd2hpY2ggaXMgbW92ZWQgd2hlbiB0aGUgcmFuZ2UgaXNcbiAgICBbZXh0ZW5kZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU2VsZWN0aW9uUmFuZ2UuZXh0ZW5kKS5cbiAgICAqL1xuICAgIGdldCBoZWFkKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDMyIC8qIFJhbmdlRmxhZy5JbnZlcnRlZCAqLyA/IHRoaXMuZnJvbSA6IHRoaXMudG87IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gYGFuY2hvcmAgYW5kIGBoZWFkYCBhcmUgYXQgdGhlIHNhbWUgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7IHJldHVybiB0aGlzLmZyb20gPT0gdGhpcy50bzsgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSBjdXJzb3IgdGhhdCBpcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICBjaGFyYWN0ZXIgb24gb25lIG9mIGl0cyBzaWRlcywgdGhpcyByZXR1cm5zIHRoZSBzaWRlLiAtMSBtZWFuc1xuICAgIHRoZSBjaGFyYWN0ZXIgYmVmb3JlIGl0cyBwb3NpdGlvbiwgMSB0aGUgY2hhcmFjdGVyIGFmdGVyLCBhbmQgMFxuICAgIG1lYW5zIG5vIGFzc29jaWF0aW9uLlxuICAgICovXG4gICAgZ2V0IGFzc29jKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovID8gLTEgOiB0aGlzLmZsYWdzICYgMTYgLyogUmFuZ2VGbGFnLkFzc29jQWZ0ZXIgKi8gPyAxIDogMDsgfVxuICAgIC8qKlxuICAgIFRoZSBiaWRpcmVjdGlvbmFsIHRleHQgbGV2ZWwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY3Vyc29yLCBpZlxuICAgIGFueS5cbiAgICAqL1xuICAgIGdldCBiaWRpTGV2ZWwoKSB7XG4gICAgICAgIGxldCBsZXZlbCA9IHRoaXMuZmxhZ3MgJiA3IC8qIFJhbmdlRmxhZy5CaWRpTGV2ZWxNYXNrICovO1xuICAgICAgICByZXR1cm4gbGV2ZWwgPT0gNyA/IG51bGwgOiBsZXZlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGdvYWwgY29sdW1uIChzdG9yZWQgdmVydGljYWwgb2Zmc2V0KSBhc3NvY2lhdGVkIHdpdGggYVxuICAgIGN1cnNvci4gVGhpcyBpcyB1c2VkIHRvIHByZXNlcnZlIHRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB3aGVuXG4gICAgW21vdmluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIGFjcm9zc1xuICAgIGxpbmVzIG9mIGRpZmZlcmVudCBsZW5ndGguXG4gICAgKi9cbiAgICBnZXQgZ29hbENvbHVtbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5mbGFncyA+PiA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gMTY3NzcyMTUgLyogUmFuZ2VGbGFnLk5vR29hbENvbHVtbiAqLyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyByYW5nZSB0aHJvdWdoIGEgY2hhbmdlLCBwcm9kdWNpbmcgYSB2YWxpZCByYW5nZSBpbiB0aGVcbiAgICB1cGRhdGVkIGRvY3VtZW50LlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBsZXQgZnJvbSwgdG87XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICBmcm9tID0gdG8gPSBjaGFuZ2UubWFwUG9zKHRoaXMuZnJvbSwgYXNzb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IGNoYW5nZS5tYXBQb3ModGhpcy5mcm9tLCAxKTtcbiAgICAgICAgICAgIHRvID0gY2hhbmdlLm1hcFBvcyh0aGlzLnRvLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdGhpcy5mcm9tICYmIHRvID09IHRoaXMudG8gPyB0aGlzIDogbmV3IFNlbGVjdGlvblJhbmdlKGZyb20sIHRvLCB0aGlzLmZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXh0ZW5kIHRoaXMgcmFuZ2UgdG8gY292ZXIgYXQgbGVhc3QgYGZyb21gIHRvIGB0b2AuXG4gICAgKi9cbiAgICBleHRlbmQoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tIDw9IHRoaXMuYW5jaG9yICYmIHRvID49IHRoaXMuYW5jaG9yKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIGxldCBoZWFkID0gTWF0aC5hYnMoZnJvbSAtIHRoaXMuYW5jaG9yKSA+IE1hdGguYWJzKHRvIC0gdGhpcy5hbmNob3IpID8gZnJvbSA6IHRvO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRoaXMuYW5jaG9yLCBoZWFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHJhbmdlIHRvIGFub3RoZXIgcmFuZ2UuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5jaG9yID09IG90aGVyLmFuY2hvciAmJiB0aGlzLmhlYWQgPT0gb3RoZXIuaGVhZCAmJlxuICAgICAgICAgICAgKCFpbmNsdWRlQXNzb2MgfHwgIXRoaXMuZW1wdHkgfHwgdGhpcy5hc3NvYyA9PSBvdGhlci5hc3NvYyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJhbmdlLlxuICAgICovXG4gICAgdG9KU09OKCkgeyByZXR1cm4geyBhbmNob3I6IHRoaXMuYW5jaG9yLCBoZWFkOiB0aGlzLmhlYWQgfTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgcmFuZ2UgdG8gYSBgU2VsZWN0aW9uUmFuZ2VgXG4gICAgaW5zdGFuY2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIWpzb24gfHwgdHlwZW9mIGpzb24uYW5jaG9yICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uaGVhZCAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIFNlbGVjdGlvblJhbmdlXCIpO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGpzb24uYW5jaG9yLCBqc29uLmhlYWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZnJvbSwgdG8sIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uUmFuZ2UoZnJvbSwgdG8sIGZsYWdzKTtcbiAgICB9XG59XG4vKipcbkFuIGVkaXRvciBzZWxlY3Rpb24gaG9sZHMgb25lIG9yIG1vcmUgc2VsZWN0aW9uIHJhbmdlcy5cbiovXG5jbGFzcyBFZGl0b3JTZWxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSByYW5nZXMgaW4gdGhlIHNlbGVjdGlvbiwgc29ydGVkIGJ5IHBvc2l0aW9uLiBSYW5nZXMgY2Fubm90XG4gICAgb3ZlcmxhcCAoYnV0IHRoZXkgbWF5IHRvdWNoLCBpZiB0aGV5IGFyZW4ndCBlbXB0eSkuXG4gICAgKi9cbiAgICByYW5nZXMsIFxuICAgIC8qKlxuICAgIFRoZSBpbmRleCBvZiB0aGUgX21haW5fIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24gKHdoaWNoIGlzXG4gICAgdXN1YWxseSB0aGUgcmFuZ2UgdGhhdCB3YXMgYWRkZWQgbGFzdCkuXG4gICAgKi9cbiAgICBtYWluSW5kZXgpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMubWFpbkluZGV4ID0gbWFpbkluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgYSBzZWxlY3Rpb24gdGhyb3VnaCBhIGNoYW5nZS4gVXNlZCB0byBhZGp1c3QgdGhlIHNlbGVjdGlvblxuICAgIHBvc2l0aW9uIGZvciBjaGFuZ2VzLlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBpZiAoY2hhbmdlLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHRoaXMucmFuZ2VzLm1hcChyID0+IHIubWFwKGNoYW5nZSwgYXNzb2MpKSwgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgc2VsZWN0aW9uIHRvIGFub3RoZXIgc2VsZWN0aW9uLiBCeSBkZWZhdWx0LCByYW5nZXNcbiAgICBhcmUgY29tcGFyZWQgb25seSBieSBwb3NpdGlvbi4gV2hlbiBgaW5jbHVkZUFzc29jYCBpcyB0cnVlLFxuICAgIGN1cnNvciByYW5nZXMgbXVzdCBhbHNvIGhhdmUgdGhlIHNhbWVcbiAgICBbYGFzc29jYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZS5hc3NvYykgdmFsdWUuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCAhPSBvdGhlci5yYW5nZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLm1haW5JbmRleCAhPSBvdGhlci5tYWluSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZ2VzW2ldLmVxKG90aGVyLnJhbmdlc1tpXSwgaW5jbHVkZUFzc29jKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHByaW1hcnkgc2VsZWN0aW9uIHJhbmdlLiBVc3VhbGx5LCB5b3Ugc2hvdWxkIG1ha2Ugc3VyZVxuICAgIHlvdXIgY29kZSBhcHBsaWVzIHRvIF9hbGxfIHJhbmdlcywgYnkgdXNpbmcgbWV0aG9kcyBsaWtlXG4gICAgW2BjaGFuZ2VCeVJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFuZ2VCeVJhbmdlKS5cbiAgICAqL1xuICAgIGdldCBtYWluKCkgeyByZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5tYWluSW5kZXhdOyB9XG4gICAgLyoqXG4gICAgTWFrZSBzdXJlIHRoZSBzZWxlY3Rpb24gb25seSBoYXMgb25lIHJhbmdlLiBSZXR1cm5zIGEgc2VsZWN0aW9uXG4gICAgaG9sZGluZyBvbmx5IHRoZSBtYWluIHJhbmdlIGZyb20gdGhpcyBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBhc1NpbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLmxlbmd0aCA9PSAxID8gdGhpcyA6IG5ldyBFZGl0b3JTZWxlY3Rpb24oW3RoaXMubWFpbl0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBFeHRlbmQgdGhpcyBzZWxlY3Rpb24gd2l0aCBhbiBleHRyYSByYW5nZS5cbiAgICAqL1xuICAgIGFkZFJhbmdlKHJhbmdlLCBtYWluID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbcmFuZ2VdLmNvbmNhdCh0aGlzLnJhbmdlcyksIG1haW4gPyAwIDogdGhpcy5tYWluSW5kZXggKyAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIGdpdmVuIHJhbmdlIHdpdGggYW5vdGhlciByYW5nZSwgYW5kIHRoZW4gbm9ybWFsaXplIHRoZVxuICAgIHNlbGVjdGlvbiB0byBtZXJnZSBhbmQgc29ydCByYW5nZXMgaWYgbmVjZXNzYXJ5LlxuICAgICovXG4gICAgcmVwbGFjZVJhbmdlKHJhbmdlLCB3aGljaCA9IHRoaXMubWFpbkluZGV4KSB7XG4gICAgICAgIGxldCByYW5nZXMgPSB0aGlzLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICByYW5nZXNbd2hpY2hdID0gcmFuZ2U7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc2VsZWN0aW9uIHRvIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBzZXJpYWxpemVkIHRvXG4gICAgSlNPTi5cbiAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2VzOiB0aGlzLnJhbmdlcy5tYXAociA9PiByLnRvSlNPTigpKSwgbWFpbjogdGhpcy5tYWluSW5kZXggfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2VsZWN0aW9uIGZyb20gYSBKU09OIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFqc29uIHx8ICFBcnJheS5pc0FycmF5KGpzb24ucmFuZ2VzKSB8fCB0eXBlb2YganNvbi5tYWluICE9IFwibnVtYmVyXCIgfHwganNvbi5tYWluID49IGpzb24ucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTZWxlY3Rpb25cIik7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKGpzb24ucmFuZ2VzLm1hcCgocikgPT4gU2VsZWN0aW9uUmFuZ2UuZnJvbUpTT04ocikpLCBqc29uLm1haW4pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZWxlY3Rpb24gaG9sZGluZyBhIHNpbmdsZSByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyBzaW5nbGUoYW5jaG9yLCBoZWFkID0gYW5jaG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKFtFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoYW5jaG9yLCBoZWFkKV0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBTb3J0IGFuZCBtZXJnZSB0aGUgZ2l2ZW4gc2V0IG9mIHJhbmdlcywgY3JlYXRpbmcgYSB2YWxpZFxuICAgIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkEgc2VsZWN0aW9uIG5lZWRzIGF0IGxlYXN0IG9uZSByYW5nZVwiKTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbXB0eSA/IHJhbmdlLmZyb20gPD0gcG9zIDogcmFuZ2UuZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLm5vcm1hbGl6ZWQocmFuZ2VzLnNsaWNlKCksIG1haW5JbmRleCk7XG4gICAgICAgICAgICBwb3MgPSByYW5nZS50bztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVkaXRvclNlbGVjdGlvbihyYW5nZXMsIG1haW5JbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGN1cnNvciBzZWxlY3Rpb24gcmFuZ2UgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBZb3UgY2FuXG4gICAgc2FmZWx5IGlnbm9yZSB0aGUgb3B0aW9uYWwgYXJndW1lbnRzIGluIG1vc3Qgc2l0dWF0aW9ucy5cbiAgICAqL1xuICAgIHN0YXRpYyBjdXJzb3IocG9zLCBhc3NvYyA9IDAsIGJpZGlMZXZlbCwgZ29hbENvbHVtbikge1xuICAgICAgICByZXR1cm4gU2VsZWN0aW9uUmFuZ2UuY3JlYXRlKHBvcywgcG9zLCAoYXNzb2MgPT0gMCA/IDAgOiBhc3NvYyA8IDAgPyA4IC8qIFJhbmdlRmxhZy5Bc3NvY0JlZm9yZSAqLyA6IDE2IC8qIFJhbmdlRmxhZy5Bc3NvY0FmdGVyICovKSB8XG4gICAgICAgICAgICAoYmlkaUxldmVsID09IG51bGwgPyA3IDogTWF0aC5taW4oNiwgYmlkaUxldmVsKSkgfFxuICAgICAgICAgICAgKChnb2FsQ29sdW1uICE9PSBudWxsICYmIGdvYWxDb2x1bW4gIT09IHZvaWQgMCA/IGdvYWxDb2x1bW4gOiAxNjc3NzIxNSAvKiBSYW5nZUZsYWcuTm9Hb2FsQ29sdW1uICovKSA8PCA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNlbGVjdGlvbiByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyByYW5nZShhbmNob3IsIGhlYWQsIGdvYWxDb2x1bW4sIGJpZGlMZXZlbCkge1xuICAgICAgICBsZXQgZmxhZ3MgPSAoKGdvYWxDb2x1bW4gIT09IG51bGwgJiYgZ29hbENvbHVtbiAhPT0gdm9pZCAwID8gZ29hbENvbHVtbiA6IDE2Nzc3MjE1IC8qIFJhbmdlRmxhZy5Ob0dvYWxDb2x1bW4gKi8pIDw8IDYgLyogUmFuZ2VGbGFnLkdvYWxDb2x1bW5PZmZzZXQgKi8pIHxcbiAgICAgICAgICAgIChiaWRpTGV2ZWwgPT0gbnVsbCA/IDcgOiBNYXRoLm1pbig2LCBiaWRpTGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIGhlYWQgPCBhbmNob3IgPyBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoaGVhZCwgYW5jaG9yLCAzMiAvKiBSYW5nZUZsYWcuSW52ZXJ0ZWQgKi8gfCAxNiAvKiBSYW5nZUZsYWcuQXNzb2NBZnRlciAqLyB8IGZsYWdzKVxuICAgICAgICAgICAgOiBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoYW5jaG9yLCBoZWFkLCAoaGVhZCA+IGFuY2hvciA/IDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovIDogMCkgfCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIG5vcm1hbGl6ZWQocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGxldCBtYWluID0gcmFuZ2VzW21haW5JbmRleF07XG4gICAgICAgIHJhbmdlcy5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICBtYWluSW5kZXggPSByYW5nZXMuaW5kZXhPZihtYWluKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXSwgcHJldiA9IHJhbmdlc1tpIC0gMV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkgPyByYW5nZS5mcm9tIDw9IHByZXYudG8gOiByYW5nZS5mcm9tIDwgcHJldi50bykge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gcHJldi5mcm9tLCB0byA9IE1hdGgubWF4KHJhbmdlLnRvLCBwcmV2LnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8PSBtYWluSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG1haW5JbmRleC0tO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCByYW5nZS5hbmNob3IgPiByYW5nZS5oZWFkID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRvLCBmcm9tKSA6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKHJhbmdlcywgbWFpbkluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGRvY0xlbmd0aCkge1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHNlbGVjdGlvbi5yYW5nZXMpXG4gICAgICAgIGlmIChyYW5nZS50byA+IGRvY0xlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2VsZWN0aW9uIHBvaW50cyBvdXRzaWRlIG9mIGRvY3VtZW50XCIpO1xufVxuXG5sZXQgbmV4dElEID0gMDtcbi8qKlxuQSBmYWNldCBpcyBhIGxhYmVsZWQgdmFsdWUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggYW4gZWRpdG9yXG5zdGF0ZS4gSXQgdGFrZXMgaW5wdXRzIGZyb20gYW55IG51bWJlciBvZiBleHRlbnNpb25zLCBhbmQgY29tYmluZXNcbnRob3NlIGludG8gYSBzaW5nbGUgb3V0cHV0IHZhbHVlLlxuXG5FeGFtcGxlcyBvZiB1c2VzIG9mIGZhY2V0cyBhcmUgdGhlIFt0YWJcbnNpemVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSksIFtlZGl0b3JcbmF0dHJpYnV0ZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRvckF0dHJpYnV0ZXMpLCBhbmQgW3VwZGF0ZVxubGlzdGVuZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld151cGRhdGVMaXN0ZW5lcikuXG5cbk5vdGUgdGhhdCBgRmFjZXRgIGluc3RhbmNlcyBjYW4gYmUgdXNlZCBhbnl3aGVyZSB3aGVyZVxuW2BGYWNldFJlYWRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRmFjZXRSZWFkZXIpIGlzIGV4cGVjdGVkLlxuKi9cbmNsYXNzIEZhY2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbWJpbmUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZUlucHV0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUsIGlzU3RhdGljLCBlbmFibGVzKSB7XG4gICAgICAgIHRoaXMuY29tYmluZSA9IGNvbWJpbmU7XG4gICAgICAgIHRoaXMuY29tcGFyZUlucHV0ID0gY29tcGFyZUlucHV0O1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gaXNTdGF0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBjb21iaW5lKFtdKTtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gdHlwZW9mIGVuYWJsZXMgPT0gXCJmdW5jdGlvblwiID8gZW5hYmxlcyh0aGlzKSA6IGVuYWJsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYSBmYWNldCByZWFkZXIgZm9yIHRoaXMgZmFjZXQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgW3JlYWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuZmFjZXQpIGl0IGJ1dCBub3QgdG8gZGVmaW5lIHZhbHVlcyBmb3IgaXQuXG4gICAgKi9cbiAgICBnZXQgcmVhZGVyKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBmYWNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldChjb25maWcuY29tYmluZSB8fCAoKGEpID0+IGEpLCBjb25maWcuY29tcGFyZUlucHV0IHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZy5jb21wYXJlIHx8ICghY29uZmlnLmNvbWJpbmUgPyBzYW1lQXJyYXkgOiAoYSwgYikgPT4gYSA9PT0gYiksICEhY29uZmlnLnN0YXRpYywgY29uZmlnLmVuYWJsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoaXMgZmFjZXQuXG4gICAgKi9cbiAgICBvZih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZhY2V0UHJvdmlkZXIoW10sIHRoaXMsIDAgLyogUHJvdmlkZXIuU3RhdGljICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBjb21wdXRlcyBhIHZhbHVlIGZvciB0aGUgZmFjZXQgZnJvbSBhXG4gICAgc3RhdGUuIFlvdSBtdXN0IHRha2UgY2FyZSB0byBkZWNsYXJlIHRoZSBwYXJ0cyBvZiB0aGUgc3RhdGUgdGhhdFxuICAgIHRoaXMgdmFsdWUgZGVwZW5kcyBvbiwgc2luY2UgeW91ciBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBhZ2FpblxuICAgIGZvciBhIG5ldyBzdGF0ZSB3aGVuIG9uZSBvZiB0aG9zZSBwYXJ0cyBjaGFuZ2VkLlxuICAgIFxuICAgIEluIGNhc2VzIHdoZXJlIHlvdXIgdmFsdWUgZGVwZW5kcyBvbmx5IG9uIGEgc2luZ2xlIGZpZWxkLCB5b3UnbGxcbiAgICB3YW50IHRvIHVzZSB0aGUgW2Bmcm9tYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldC5mcm9tKSBtZXRob2QgaW5zdGVhZC5cbiAgICAqL1xuICAgIGNvbXB1dGUoZGVwcywgZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGljKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29tcHV0ZSBhIHN0YXRpYyBmYWNldFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldFByb3ZpZGVyKGRlcHMsIHRoaXMsIDEgLyogUHJvdmlkZXIuU2luZ2xlICovLCBnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgY29tcHV0ZXMgemVybyBvciBtb3JlIHZhbHVlcyBmb3IgdGhpc1xuICAgIGZhY2V0IGZyb20gYSBzdGF0ZS5cbiAgICAqL1xuICAgIGNvbXB1dGVOKGRlcHMsIGdldCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXRpYylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbXB1dGUgYSBzdGF0aWMgZmFjZXRcIik7XG4gICAgICAgIHJldHVybiBuZXcgRmFjZXRQcm92aWRlcihkZXBzLCB0aGlzLCAyIC8qIFByb3ZpZGVyLk11bHRpICovLCBnZXQpO1xuICAgIH1cbiAgICBmcm9tKGZpZWxkLCBnZXQpIHtcbiAgICAgICAgaWYgKCFnZXQpXG4gICAgICAgICAgICBnZXQgPSB4ID0+IHg7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGUoW2ZpZWxkXSwgc3RhdGUgPT4gZ2V0KHN0YXRlLmZpZWxkKGZpZWxkKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KChlLCBpKSA9PiBlID09PSBiW2ldKTtcbn1cbmNsYXNzIEZhY2V0UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlcGVuZGVuY2llcywgZmFjZXQsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgIH1cbiAgICBkeW5hbWljU2xvdChhZGRyZXNzZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgZ2V0dGVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IGNvbXBhcmUgPSB0aGlzLmZhY2V0LmNvbXBhcmVJbnB1dDtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5pZCwgaWR4ID0gYWRkcmVzc2VzW2lkXSA+PiAxLCBtdWx0aSA9IHRoaXMudHlwZSA9PSAyIC8qIFByb3ZpZGVyLk11bHRpICovO1xuICAgICAgICBsZXQgZGVwRG9jID0gZmFsc2UsIGRlcFNlbCA9IGZhbHNlLCBkZXBBZGRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkZXAgb2YgdGhpcy5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmIChkZXAgPT0gXCJkb2NcIilcbiAgICAgICAgICAgICAgICBkZXBEb2MgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVwID09IFwic2VsZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgZGVwU2VsID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCgoKF9hID0gYWRkcmVzc2VzW2RlcC5pZF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEpICYgMSkgPT0gMClcbiAgICAgICAgICAgICAgICBkZXBBZGRycy5wdXNoKGFkZHJlc3Nlc1tkZXAuaWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGUoc3RhdGUsIHRyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChkZXBEb2MgJiYgdHIuZG9jQ2hhbmdlZCkgfHwgKGRlcFNlbCAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pKSB8fCBlbnN1cmVBbGwoc3RhdGUsIGRlcEFkZHJzKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsID0gZ2V0dGVyKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpID8gIWNvbXBhcmVBcnJheShuZXdWYWwsIHN0YXRlLnZhbHVlc1tpZHhdLCBjb21wYXJlKSA6ICFjb21wYXJlKG5ld1ZhbCwgc3RhdGUudmFsdWVzW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNvbmZpZ3VyZTogKHN0YXRlLCBvbGRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWwsIG9sZEFkZHIgPSBvbGRTdGF0ZS5jb25maWcuYWRkcmVzc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKG9sZEFkZHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkVmFsID0gZ2V0QWRkcihvbGRTdGF0ZSwgb2xkQWRkcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llcy5ldmVyeShkZXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcCBpbnN0YW5jZW9mIEZhY2V0ID8gb2xkU3RhdGUuZmFjZXQoZGVwKSA9PT0gc3RhdGUuZmFjZXQoZGVwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwIGluc3RhbmNlb2YgU3RhdGVGaWVsZCA/IG9sZFN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpID09IHN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHwgKG11bHRpID8gY29tcGFyZUFycmF5KG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCwgY29tcGFyZSkgOiBjb21wYXJlKG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWwgPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBTbG90U3RhdHVzLkNoYW5nZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZUFycmF5KGEsIGIsIGNvbXBhcmUpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghY29tcGFyZShhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFsbChzdGF0ZSwgYWRkcnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGFkZHIgb2YgYWRkcnMpXG4gICAgICAgIGlmIChlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKSAmIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBkeW5hbWljRmFjZXRTbG90KGFkZHJlc3NlcywgZmFjZXQsIHByb3ZpZGVycykge1xuICAgIGxldCBwcm92aWRlckFkZHJzID0gcHJvdmlkZXJzLm1hcChwID0+IGFkZHJlc3Nlc1twLmlkXSk7XG4gICAgbGV0IHByb3ZpZGVyVHlwZXMgPSBwcm92aWRlcnMubWFwKHAgPT4gcC50eXBlKTtcbiAgICBsZXQgZHluYW1pYyA9IHByb3ZpZGVyQWRkcnMuZmlsdGVyKHAgPT4gIShwICYgMSkpO1xuICAgIGxldCBpZHggPSBhZGRyZXNzZXNbZmFjZXQuaWRdID4+IDE7XG4gICAgZnVuY3Rpb24gZ2V0KHN0YXRlKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlckFkZHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRBZGRyKHN0YXRlLCBwcm92aWRlckFkZHJzW2ldKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlclR5cGVzW2ldID09IDIgLyogUHJvdmlkZXIuTXVsdGkgKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsIG9mIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZXQuY29tYmluZSh2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGFkZHIgb2YgcHJvdmlkZXJBZGRycylcbiAgICAgICAgICAgICAgICBlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKTtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlKHN0YXRlLCB0cikge1xuICAgICAgICAgICAgaWYgKCFlbnN1cmVBbGwoc3RhdGUsIGR5bmFtaWMpKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBzdGF0ZS52YWx1ZXNbaWR4XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICB9LFxuICAgICAgICByZWNvbmZpZ3VyZShzdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBkZXBDaGFuZ2VkID0gZW5zdXJlQWxsKHN0YXRlLCBwcm92aWRlckFkZHJzKTtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRTdGF0ZS5jb25maWcuZmFjZXRzW2ZhY2V0LmlkXSwgb2xkVmFsdWUgPSBvbGRTdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgICAgICBpZiAob2xkUHJvdmlkZXJzICYmICFkZXBDaGFuZ2VkICYmIHNhbWVBcnJheShwcm92aWRlcnMsIG9sZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBpbml0RmllbGQgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgc3RhdGljOiB0cnVlIH0pO1xuLyoqXG5GaWVsZHMgY2FuIHN0b3JlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gaW4gYW4gZWRpdG9yIHN0YXRlLCBhbmRcbmtlZXAgaXQgaW4gc3luYyB3aXRoIHRoZSByZXN0IG9mIHRoZSBzdGF0ZS5cbiovXG5jbGFzcyBTdGF0ZUZpZWxkIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBjcmVhdGVGLCB1cGRhdGVGLCBjb21wYXJlRiwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzcGVjKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jcmVhdGVGID0gY3JlYXRlRjtcbiAgICAgICAgdGhpcy51cGRhdGVGID0gdXBkYXRlRjtcbiAgICAgICAgdGhpcy5jb21wYXJlRiA9IGNvbXBhcmVGO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucHJvdmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHN0YXRlIGZpZWxkLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjb25maWcpIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IFN0YXRlRmllbGQobmV4dElEKyssIGNvbmZpZy5jcmVhdGUsIGNvbmZpZy51cGRhdGUsIGNvbmZpZy5jb21wYXJlIHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcucHJvdmlkZSlcbiAgICAgICAgICAgIGZpZWxkLnByb3ZpZGVzID0gY29uZmlnLnByb3ZpZGUoZmllbGQpO1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuICAgIGNyZWF0ZShzdGF0ZSkge1xuICAgICAgICBsZXQgaW5pdCA9IHN0YXRlLmZhY2V0KGluaXRGaWVsZCkuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcyk7XG4gICAgICAgIHJldHVybiAoKGluaXQgPT09IG51bGwgfHwgaW5pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdC5jcmVhdGUpIHx8IHRoaXMuY3JlYXRlRikoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNsb3QoYWRkcmVzc2VzKSB7XG4gICAgICAgIGxldCBpZHggPSBhZGRyZXNzZXNbdGhpcy5pZF0gPj4gMTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0ZTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogKHN0YXRlLCB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWwgPSBzdGF0ZS52YWx1ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnVwZGF0ZUYob2xkVmFsLCB0cik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZUYob2xkVmFsLCB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY29uZmlndXJlOiAoc3RhdGUsIG9sZFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGluaXQgPSBzdGF0ZS5mYWNldChpbml0RmllbGQpLCBvbGRJbml0ID0gb2xkU3RhdGUuZmFjZXQoaW5pdEZpZWxkKSwgcmVJbml0O1xuICAgICAgICAgICAgICAgIGlmICgocmVJbml0ID0gaW5pdC5maW5kKGkgPT4gaS5maWVsZCA9PSB0aGlzKSkgJiYgcmVJbml0ICE9IG9sZEluaXQuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSByZUluaXQuY3JlYXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob2xkU3RhdGUuY29uZmlnLmFkZHJlc3NbdGhpcy5pZF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFN0YXRlLmZpZWxkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgdGhpcyBmaWVsZCBhbmQgb3ZlcnJpZGVzIHRoZVxuICAgIHdheSBpdCBpcyBpbml0aWFsaXplZC4gQ2FuIGJlIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIHRvIHByb3ZpZGUgYVxuICAgIG5vbi1kZWZhdWx0IHN0YXJ0aW5nIHZhbHVlIGZvciB0aGUgZmllbGQuXG4gICAgKi9cbiAgICBpbml0KGNyZWF0ZSkge1xuICAgICAgICByZXR1cm4gW3RoaXMsIGluaXRGaWVsZC5vZih7IGZpZWxkOiB0aGlzLCBjcmVhdGUgfSldO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGF0ZSBmaWVsZCBpbnN0YW5jZXMgY2FuIGJlIHVzZWQgYXNcbiAgICBbYEV4dGVuc2lvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRXh0ZW5zaW9uKSB2YWx1ZXMgdG8gZW5hYmxlIHRoZSBmaWVsZCBpbiBhXG4gICAgZ2l2ZW4gc3RhdGUuXG4gICAgKi9cbiAgICBnZXQgZXh0ZW5zaW9uKCkgeyByZXR1cm4gdGhpczsgfVxufVxuY29uc3QgUHJlY18gPSB7IGxvd2VzdDogNCwgbG93OiAzLCBkZWZhdWx0OiAyLCBoaWdoOiAxLCBoaWdoZXN0OiAwIH07XG5mdW5jdGlvbiBwcmVjKHZhbHVlKSB7XG4gICAgcmV0dXJuIChleHQpID0+IG5ldyBQcmVjRXh0ZW5zaW9uKGV4dCwgdmFsdWUpO1xufVxuLyoqXG5CeSBkZWZhdWx0IGV4dGVuc2lvbnMgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGZvdW5kXG5pbiB0aGUgZmxhdHRlbmVkIGZvcm0gb2YgbmVzdGVkIGFycmF5IHRoYXQgd2FzIHByb3ZpZGVkLlxuSW5kaXZpZHVhbCBleHRlbnNpb24gdmFsdWVzIGNhbiBiZSBhc3NpZ25lZCBhIHByZWNlZGVuY2UgdG9cbm92ZXJyaWRlIHRoaXMuIEV4dGVuc2lvbnMgdGhhdCBkbyBub3QgaGF2ZSBhIHByZWNlZGVuY2Ugc2V0IGdldFxudGhlIHByZWNlZGVuY2Ugb2YgdGhlIG5lYXJlc3QgcGFyZW50IHdpdGggYSBwcmVjZWRlbmNlLCBvclxuW2BkZWZhdWx0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5QcmVjLmRlZmF1bHQpIGlmIHRoZXJlIGlzIG5vIHN1Y2ggcGFyZW50LiBUaGVcbmZpbmFsIG9yZGVyaW5nIG9mIGV4dGVuc2lvbnMgaXMgZGV0ZXJtaW5lZCBieSBmaXJzdCBzb3J0aW5nIGJ5XG5wcmVjZWRlbmNlIGFuZCB0aGVuIGJ5IG9yZGVyIHdpdGhpbiBlYWNoIHByZWNlZGVuY2UuXG4qL1xuY29uc3QgUHJlYyA9IHtcbiAgICAvKipcbiAgICBUaGUgaGlnaGVzdCBwcmVjZWRlbmNlIGxldmVsLCBmb3IgZXh0ZW5zaW9ucyB0aGF0IHNob3VsZCBlbmQgdXBcbiAgICBuZWFyIHRoZSBzdGFydCBvZiB0aGUgcHJlY2VkZW5jZSBvcmRlcmluZy5cbiAgICAqL1xuICAgIGhpZ2hlc3Q6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmhpZ2hlc3QpLFxuICAgIC8qKlxuICAgIEEgaGlnaGVyLXRoYW4tZGVmYXVsdCBwcmVjZWRlbmNlLCBmb3IgZXh0ZW5zaW9ucyB0aGF0IHNob3VsZFxuICAgIGNvbWUgYmVmb3JlIHRob3NlIHdpdGggZGVmYXVsdCBwcmVjZWRlbmNlLlxuICAgICovXG4gICAgaGlnaDogLypAX19QVVJFX18qL3ByZWMoUHJlY18uaGlnaCksXG4gICAgLyoqXG4gICAgVGhlIGRlZmF1bHQgcHJlY2VkZW5jZSwgd2hpY2ggaXMgYWxzbyB1c2VkIGZvciBleHRlbnNpb25zXG4gICAgd2l0aG91dCBhbiBleHBsaWNpdCBwcmVjZWRlbmNlLlxuICAgICovXG4gICAgZGVmYXVsdDogLypAX19QVVJFX18qL3ByZWMoUHJlY18uZGVmYXVsdCksXG4gICAgLyoqXG4gICAgQSBsb3dlci10aGFuLWRlZmF1bHQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGxvdzogLypAX19QVVJFX18qL3ByZWMoUHJlY18ubG93KSxcbiAgICAvKipcbiAgICBUaGUgbG93ZXN0IHByZWNlZGVuY2UgbGV2ZWwuIE1lYW50IGZvciB0aGluZ3MgdGhhdCBzaG91bGQgZW5kIHVwXG4gICAgbmVhciB0aGUgZW5kIG9mIHRoZSBleHRlbnNpb24gb3JkZXIuXG4gICAgKi9cbiAgICBsb3dlc3Q6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmxvd2VzdClcbn07XG5jbGFzcyBQcmVjRXh0ZW5zaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihpbm5lciwgcHJlYykge1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgICAgIHRoaXMucHJlYyA9IHByZWM7XG4gICAgfVxufVxuLyoqXG5FeHRlbnNpb24gY29tcGFydG1lbnRzIGNhbiBiZSB1c2VkIHRvIG1ha2UgYSBjb25maWd1cmF0aW9uXG5keW5hbWljLiBCeSBbd3JhcHBpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQub2YpIHBhcnQgb2YgeW91clxuY29uZmlndXJhdGlvbiBpbiBhIGNvbXBhcnRtZW50LCB5b3UgY2FuIGxhdGVyXG5bcmVwbGFjZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSkgdGhhdCBwYXJ0IHRocm91Z2ggYVxudHJhbnNhY3Rpb24uXG4qL1xuY2xhc3MgQ29tcGFydG1lbnQge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNvbXBhcnRtZW50IHRvIGFkZCB0byB5b3VyIFtzdGF0ZVxuICAgIGNvbmZpZ3VyYXRpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVDb25maWcuZXh0ZW5zaW9ucykuXG4gICAgKi9cbiAgICBvZihleHQpIHsgcmV0dXJuIG5ldyBDb21wYXJ0bWVudEluc3RhbmNlKHRoaXMsIGV4dCk7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gW2VmZmVjdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgdGhhdFxuICAgIHJlY29uZmlndXJlcyB0aGlzIGNvbXBhcnRtZW50LlxuICAgICovXG4gICAgcmVjb25maWd1cmUoY29udGVudCkge1xuICAgICAgICByZXR1cm4gQ29tcGFydG1lbnQucmVjb25maWd1cmUub2YoeyBjb21wYXJ0bWVudDogdGhpcywgZXh0ZW5zaW9uOiBjb250ZW50IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGN1cnJlbnQgY29udGVudCBvZiB0aGUgY29tcGFydG1lbnQgaW4gdGhlIHN0YXRlLCBvclxuICAgIGB1bmRlZmluZWRgIGlmIGl0IGlzbid0IHByZXNlbnQuXG4gICAgKi9cbiAgICBnZXQoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmNvbmZpZy5jb21wYXJ0bWVudHMuZ2V0KHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIENvbXBhcnRtZW50SW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBhcnRtZW50LCBpbm5lcikge1xuICAgICAgICB0aGlzLmNvbXBhcnRtZW50ID0gY29tcGFydG1lbnQ7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBjb21wYXJ0bWVudHMsIGR5bmFtaWNTbG90cywgYWRkcmVzcywgc3RhdGljVmFsdWVzLCBmYWNldHMpIHtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgICAgdGhpcy5jb21wYXJ0bWVudHMgPSBjb21wYXJ0bWVudHM7XG4gICAgICAgIHRoaXMuZHluYW1pY1Nsb3RzID0gZHluYW1pY1Nsb3RzO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnN0YXRpY1ZhbHVlcyA9IHN0YXRpY1ZhbHVlcztcbiAgICAgICAgdGhpcy5mYWNldHMgPSBmYWNldHM7XG4gICAgICAgIHRoaXMuc3RhdHVzVGVtcGxhdGUgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhdHVzVGVtcGxhdGUubGVuZ3RoIDwgZHluYW1pY1Nsb3RzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzVGVtcGxhdGUucHVzaCgwIC8qIFNsb3RTdGF0dXMuVW5yZXNvbHZlZCAqLyk7XG4gICAgfVxuICAgIHN0YXRpY0ZhY2V0KGZhY2V0KSB7XG4gICAgICAgIGxldCBhZGRyID0gdGhpcy5hZGRyZXNzW2ZhY2V0LmlkXTtcbiAgICAgICAgcmV0dXJuIGFkZHIgPT0gbnVsbCA/IGZhY2V0LmRlZmF1bHQgOiB0aGlzLnN0YXRpY1ZhbHVlc1thZGRyID4+IDFdO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZShiYXNlLCBjb21wYXJ0bWVudHMsIG9sZFN0YXRlKSB7XG4gICAgICAgIGxldCBmaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IGZhY2V0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxldCBuZXdDb21wYXJ0bWVudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGV4dCBvZiBmbGF0dGVuKGJhc2UsIGNvbXBhcnRtZW50cywgbmV3Q29tcGFydG1lbnRzKSkge1xuICAgICAgICAgICAgaWYgKGV4dCBpbnN0YW5jZW9mIFN0YXRlRmllbGQpXG4gICAgICAgICAgICAgICAgZmllbGRzLnB1c2goZXh0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAoZmFjZXRzW2V4dC5mYWNldC5pZF0gfHwgKGZhY2V0c1tleHQuZmFjZXQuaWRdID0gW10pKS5wdXNoKGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFkZHJlc3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgc3RhdGljVmFsdWVzID0gW107XG4gICAgICAgIGxldCBkeW5hbWljU2xvdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2ZpZWxkLmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGEgPT4gZmllbGQuc2xvdChhKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9sZEZhY2V0cyA9IG9sZFN0YXRlID09PSBudWxsIHx8IG9sZFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbGRTdGF0ZS5jb25maWcuZmFjZXRzO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBmYWNldHMpIHtcbiAgICAgICAgICAgIGxldCBwcm92aWRlcnMgPSBmYWNldHNbaWRdLCBmYWNldCA9IHByb3ZpZGVyc1swXS5mYWNldDtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRGYWNldHMgJiYgb2xkRmFjZXRzW2lkXSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlcnMuZXZlcnkocCA9PiBwLnR5cGUgPT0gMCAvKiBQcm92aWRlci5TdGF0aWMgKi8pKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzc1tmYWNldC5pZF0gPSAoc3RhdGljVmFsdWVzLmxlbmd0aCA8PCAxKSB8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHNhbWVBcnJheShvbGRQcm92aWRlcnMsIHByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gob2xkU3RhdGUuZmFjZXQoZmFjZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZhY2V0LmNvbWJpbmUocHJvdmlkZXJzLm1hcChwID0+IHAudmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gob2xkU3RhdGUgJiYgZmFjZXQuY29tcGFyZSh2YWx1ZSwgb2xkU3RhdGUuZmFjZXQoZmFjZXQpKSA/IG9sZFN0YXRlLmZhY2V0KGZhY2V0KSA6IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwIG9mIHByb3ZpZGVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09IDAgLyogUHJvdmlkZXIuU3RhdGljICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzW3AuaWRdID0gKHN0YXRpY1ZhbHVlcy5sZW5ndGggPDwgMSkgfCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gocC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzW3AuaWRdID0gZHluYW1pY1Nsb3RzLmxlbmd0aCA8PCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1Nsb3RzLnB1c2goYSA9PiBwLmR5bmFtaWNTbG90KGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRyZXNzW2ZhY2V0LmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgICAgICBkeW5hbWljU2xvdHMucHVzaChhID0+IGR5bmFtaWNGYWNldFNsb3QoYSwgZmFjZXQsIHByb3ZpZGVycykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkeW5hbWljID0gZHluYW1pY1Nsb3RzLm1hcChmID0+IGYoYWRkcmVzcykpO1xuICAgICAgICByZXR1cm4gbmV3IENvbmZpZ3VyYXRpb24oYmFzZSwgbmV3Q29tcGFydG1lbnRzLCBkeW5hbWljLCBhZGRyZXNzLCBzdGF0aWNWYWx1ZXMsIGZhY2V0cyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmxhdHRlbihleHRlbnNpb24sIGNvbXBhcnRtZW50cywgbmV3Q29tcGFydG1lbnRzKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtbXSwgW10sIFtdLCBbXSwgW11dO1xuICAgIGxldCBzZWVuID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGlubmVyKGV4dCwgcHJlYykge1xuICAgICAgICBsZXQga25vd24gPSBzZWVuLmdldChleHQpO1xuICAgICAgICBpZiAoa25vd24gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGtub3duIDw9IHByZWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gcmVzdWx0W2tub3duXS5pbmRleE9mKGV4dCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPiAtMSlcbiAgICAgICAgICAgICAgICByZXN1bHRba25vd25dLnNwbGljZShmb3VuZCwgMSk7XG4gICAgICAgICAgICBpZiAoZXh0IGluc3RhbmNlb2YgQ29tcGFydG1lbnRJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBuZXdDb21wYXJ0bWVudHMuZGVsZXRlKGV4dC5jb21wYXJ0bWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc2Vlbi5zZXQoZXh0LCBwcmVjKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXh0KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBleHQpXG4gICAgICAgICAgICAgICAgaW5uZXIoZSwgcHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgQ29tcGFydG1lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKG5ld0NvbXBhcnRtZW50cy5oYXMoZXh0LmNvbXBhcnRtZW50KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgRHVwbGljYXRlIHVzZSBvZiBjb21wYXJ0bWVudCBpbiBleHRlbnNpb25zYCk7XG4gICAgICAgICAgICBsZXQgY29udGVudCA9IGNvbXBhcnRtZW50cy5nZXQoZXh0LmNvbXBhcnRtZW50KSB8fCBleHQuaW5uZXI7XG4gICAgICAgICAgICBuZXdDb21wYXJ0bWVudHMuc2V0KGV4dC5jb21wYXJ0bWVudCwgY29udGVudCk7XG4gICAgICAgICAgICBpbm5lcihjb250ZW50LCBwcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBQcmVjRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBpbm5lcihleHQuaW5uZXIsIGV4dC5wcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkKSB7XG4gICAgICAgICAgICByZXN1bHRbcHJlY10ucHVzaChleHQpO1xuICAgICAgICAgICAgaWYgKGV4dC5wcm92aWRlcylcbiAgICAgICAgICAgICAgICBpbm5lcihleHQucHJvdmlkZXMsIHByZWMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4dCBpbnN0YW5jZW9mIEZhY2V0UHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdFtwcmVjXS5wdXNoKGV4dCk7XG4gICAgICAgICAgICBpZiAoZXh0LmZhY2V0LmV4dGVuc2lvbnMpXG4gICAgICAgICAgICAgICAgaW5uZXIoZXh0LmZhY2V0LmV4dGVuc2lvbnMsIFByZWNfLmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBleHQuZXh0ZW5zaW9uO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGV4dGVuc2lvbiB2YWx1ZSBpbiBleHRlbnNpb24gc2V0ICgke2V4dH0pLiBUaGlzIHNvbWV0aW1lcyBoYXBwZW5zIGJlY2F1c2UgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEBjb2RlbWlycm9yL3N0YXRlIGFyZSBsb2FkZWQsIGJyZWFraW5nIGluc3RhbmNlb2YgY2hlY2tzLmApO1xuICAgICAgICAgICAgaW5uZXIoY29udGVudCwgcHJlYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5uZXIoZXh0ZW5zaW9uLCBQcmVjXy5kZWZhdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoYikpO1xufVxuZnVuY3Rpb24gZW5zdXJlQWRkcihzdGF0ZSwgYWRkcikge1xuICAgIGlmIChhZGRyICYgMSlcbiAgICAgICAgcmV0dXJuIDIgLyogU2xvdFN0YXR1cy5Db21wdXRlZCAqLztcbiAgICBsZXQgaWR4ID0gYWRkciA+PiAxO1xuICAgIGxldCBzdGF0dXMgPSBzdGF0ZS5zdGF0dXNbaWR4XTtcbiAgICBpZiAoc3RhdHVzID09IDQgLyogU2xvdFN0YXR1cy5Db21wdXRpbmcgKi8pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN5Y2xpYyBkZXBlbmRlbmN5IGJldHdlZW4gZmllbGRzIGFuZC9vciBmYWNldHNcIik7XG4gICAgaWYgKHN0YXR1cyAmIDIgLyogU2xvdFN0YXR1cy5Db21wdXRlZCAqLylcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICBzdGF0ZS5zdGF0dXNbaWR4XSA9IDQgLyogU2xvdFN0YXR1cy5Db21wdXRpbmcgKi87XG4gICAgbGV0IGNoYW5nZWQgPSBzdGF0ZS5jb21wdXRlU2xvdChzdGF0ZSwgc3RhdGUuY29uZmlnLmR5bmFtaWNTbG90c1tpZHhdKTtcbiAgICByZXR1cm4gc3RhdGUuc3RhdHVzW2lkeF0gPSAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi8gfCBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gZ2V0QWRkcihzdGF0ZSwgYWRkcikge1xuICAgIHJldHVybiBhZGRyICYgMSA/IHN0YXRlLmNvbmZpZy5zdGF0aWNWYWx1ZXNbYWRkciA+PiAxXSA6IHN0YXRlLnZhbHVlc1thZGRyID4+IDFdO1xufVxuXG5jb25zdCBsYW5ndWFnZURhdGEgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBhbGxvd011bHRpcGxlU2VsZWN0aW9ucyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh2ID0+IHYpLFxuICAgIHN0YXRpYzogdHJ1ZVxufSk7XG5jb25zdCBsaW5lU2VwYXJhdG9yID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiB1bmRlZmluZWQsXG4gICAgc3RhdGljOiB0cnVlXG59KTtcbmNvbnN0IGNoYW5nZUZpbHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdHJhbnNhY3Rpb25FeHRlbmRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHJlYWRPbmx5ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiBmYWxzZVxufSk7XG5cbi8qKlxuQW5ub3RhdGlvbnMgYXJlIHRhZ2dlZCB2YWx1ZXMgdGhhdCBhcmUgdXNlZCB0byBhZGQgbWV0YWRhdGEgdG9cbnRyYW5zYWN0aW9ucyBpbiBhbiBleHRlbnNpYmxlIHdheS4gVGhleSBzaG91bGQgYmUgdXNlZCB0byBtb2RlbFxudGhpbmdzIHRoYXQgZWZmZWN0IHRoZSBlbnRpcmUgdHJhbnNhY3Rpb24gKHN1Y2ggYXMgaXRzIFt0aW1lXG5zdGFtcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbl50aW1lKSBvciBpbmZvcm1hdGlvbiBhYm91dCBpdHNcbltvcmlnaW5dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edXNlckV2ZW50KSkuIEZvciBlZmZlY3RzIHRoYXQgaGFwcGVuXG5fYWxvbmdzaWRlXyB0aGUgb3RoZXIgY2hhbmdlcyBtYWRlIGJ5IHRoZSB0cmFuc2FjdGlvbiwgW3N0YXRlXG5lZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0KSBhcmUgbW9yZSBhcHByb3ByaWF0ZS5cbiovXG5jbGFzcyBBbm5vdGF0aW9uIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBhbm5vdGF0aW9uIHR5cGUuXG4gICAgKi9cbiAgICB0eXBlLCBcbiAgICAvKipcbiAgICBUaGUgdmFsdWUgb2YgdGhpcyBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgdHlwZSBvZiBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZSgpIHsgcmV0dXJuIG5ldyBBbm5vdGF0aW9uVHlwZSgpOyB9XG59XG4vKipcbk1hcmtlciB0aGF0IGlkZW50aWZpZXMgYSB0eXBlIG9mIFthbm5vdGF0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkFubm90YXRpb24pLlxuKi9cbmNsYXNzIEFubm90YXRpb25UeXBlIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgb2YodmFsdWUpIHsgcmV0dXJuIG5ldyBBbm5vdGF0aW9uKHRoaXMsIHZhbHVlKTsgfVxufVxuLyoqXG5SZXByZXNlbnRhdGlvbiBvZiBhIHR5cGUgb2Ygc3RhdGUgZWZmZWN0LiBEZWZpbmVkIHdpdGhcbltgU3RhdGVFZmZlY3QuZGVmaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdF5kZWZpbmUpLlxuKi9cbmNsYXNzIFN0YXRlRWZmZWN0VHlwZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgYGFueWAgdHlwZXMgaW4gdGhlc2UgZnVuY3Rpb24gdHlwZXMgYXJlIHRoZXJlIHRvIHdvcmtcbiAgICAvLyBhcm91bmQgVHlwZVNjcmlwdCBpc3N1ZSAjMzc2MzEsIHdoZXJlIHRoZSB0eXBlIGd1YXJkIG9uXG4gICAgLy8gYFN0YXRlRWZmZWN0LmlzYCBteXN0ZXJpb3VzbHkgc3RvcHMgd29ya2luZyB3aGVuIHRoZXNlIHByb3Blcmx5XG4gICAgLy8gaGF2ZSB0eXBlIGBWYWx1ZWAuXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBtYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFtzdGF0ZSBlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QpIGluc3RhbmNlIG9mIHRoaXNcbiAgICB0eXBlLlxuICAgICovXG4gICAgb2YodmFsdWUpIHsgcmV0dXJuIG5ldyBTdGF0ZUVmZmVjdCh0aGlzLCB2YWx1ZSk7IH1cbn1cbi8qKlxuU3RhdGUgZWZmZWN0cyBjYW4gYmUgdXNlZCB0byByZXByZXNlbnQgYWRkaXRpb25hbCBlZmZlY3RzXG5hc3NvY2lhdGVkIHdpdGggYSBbdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uZWZmZWN0cykuIFRoZXlcbmFyZSBvZnRlbiB1c2VmdWwgdG8gbW9kZWwgY2hhbmdlcyB0byBjdXN0b20gW3N0YXRlXG5maWVsZHNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVGaWVsZCksIHdoZW4gdGhvc2UgY2hhbmdlcyBhcmVuJ3QgaW1wbGljaXQgaW5cbmRvY3VtZW50IG9yIHNlbGVjdGlvbiBjaGFuZ2VzLlxuKi9cbmNsYXNzIFN0YXRlRWZmZWN0IHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdHlwZSwgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIG9mIHRoaXMgZWZmZWN0LlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyBlZmZlY3QgdGhyb3VnaCBhIHBvc2l0aW9uIG1hcHBpbmcuIFdpbGwgcmV0dXJuXG4gICAgYHVuZGVmaW5lZGAgd2hlbiB0aGF0IGVuZHMgdXAgZGVsZXRpbmcgdGhlIGVmZmVjdC5cbiAgICAqL1xuICAgIG1hcChtYXBwaW5nKSB7XG4gICAgICAgIGxldCBtYXBwZWQgPSB0aGlzLnR5cGUubWFwKHRoaXMudmFsdWUsIG1hcHBpbmcpO1xuICAgICAgICByZXR1cm4gbWFwcGVkID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBtYXBwZWQgPT0gdGhpcy52YWx1ZSA/IHRoaXMgOiBuZXcgU3RhdGVFZmZlY3QodGhpcy50eXBlLCBtYXBwZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciB0aGlzIGVmZmVjdCBvYmplY3QgaXMgb2YgYSBnaXZlblxuICAgIFt0eXBlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0VHlwZSkuXG4gICAgKi9cbiAgICBpcyh0eXBlKSB7IHJldHVybiB0aGlzLnR5cGUgPT0gdHlwZTsgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBlZmZlY3QgdHlwZS4gVGhlIHR5cGUgcGFyYW1ldGVyIGluZGljYXRlcyB0aGUgdHlwZVxuICAgIG9mIHZhbHVlcyB0aGF0IGhpcyBlZmZlY3QgaG9sZHMuIEl0IHNob3VsZCBiZSBhIHR5cGUgdGhhdFxuICAgIGRvZXNuJ3QgaW5jbHVkZSBgdW5kZWZpbmVkYCwgc2luY2UgdGhhdCBpcyB1c2VkIGluXG4gICAgW21hcHBpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QubWFwKSB0byBpbmRpY2F0ZSB0aGF0IGFuIGVmZmVjdCBpc1xuICAgIHJlbW92ZWQuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKHNwZWMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRlRWZmZWN0VHlwZShzcGVjLm1hcCB8fCAodiA9PiB2KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hcCBhbiBhcnJheSBvZiBlZmZlY3RzIHRocm91Z2ggYSBjaGFuZ2Ugc2V0LlxuICAgICovXG4gICAgc3RhdGljIG1hcEVmZmVjdHMoZWZmZWN0cywgbWFwcGluZykge1xuICAgICAgICBpZiAoIWVmZmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGVmZmVjdHM7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBtYXBwZWQgPSBlZmZlY3QubWFwKG1hcHBpbmcpO1xuICAgICAgICAgICAgaWYgKG1hcHBlZClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtYXBwZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5UaGlzIGVmZmVjdCBjYW4gYmUgdXNlZCB0byByZWNvbmZpZ3VyZSB0aGUgcm9vdCBleHRlbnNpb25zIG9mXG50aGUgZWRpdG9yLiBEb2luZyB0aGlzIHdpbGwgZGlzY2FyZCBhbnkgZXh0ZW5zaW9uc1xuW2FwcGVuZGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0XmFwcGVuZENvbmZpZyksIGJ1dCBkb2VzIG5vdCByZXNldFxudGhlIGNvbnRlbnQgb2YgW3JlY29uZmlndXJlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSlcbmNvbXBhcnRtZW50cy5cbiovXG5TdGF0ZUVmZmVjdC5yZWNvbmZpZ3VyZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8qKlxuQXBwZW5kIGV4dGVuc2lvbnMgdG8gdGhlIHRvcC1sZXZlbCBjb25maWd1cmF0aW9uIG9mIHRoZSBlZGl0b3IuXG4qL1xuU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5DaGFuZ2VzIHRvIHRoZSBlZGl0b3Igc3RhdGUgYXJlIGdyb3VwZWQgaW50byB0cmFuc2FjdGlvbnMuXG5UeXBpY2FsbHksIGEgdXNlciBhY3Rpb24gY3JlYXRlcyBhIHNpbmdsZSB0cmFuc2FjdGlvbiwgd2hpY2ggbWF5XG5jb250YWluIGFueSBudW1iZXIgb2YgZG9jdW1lbnQgY2hhbmdlcywgbWF5IGNoYW5nZSB0aGUgc2VsZWN0aW9uLFxub3IgaGF2ZSBvdGhlciBlZmZlY3RzLiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBieSBjYWxsaW5nXG5bYEVkaXRvclN0YXRlLnVwZGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSwgb3IgaW1tZWRpYXRlbHlcbmRpc3BhdGNoIG9uZSBieSBjYWxsaW5nXG5bYEVkaXRvclZpZXcuZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkuXG4qL1xuY2xhc3MgVHJhbnNhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGF0ZSBmcm9tIHdoaWNoIHRoZSB0cmFuc2FjdGlvbiBzdGFydHMuXG4gICAgKi9cbiAgICBzdGFydFN0YXRlLCBcbiAgICAvKipcbiAgICBUaGUgZG9jdW1lbnQgY2hhbmdlcyBtYWRlIGJ5IHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBjaGFuZ2VzLCBcbiAgICAvKipcbiAgICBUaGUgc2VsZWN0aW9uIHNldCBieSB0aGlzIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgaXRcbiAgICBkb2Vzbid0IGV4cGxpY2l0bHkgc2V0IGEgc2VsZWN0aW9uLlxuICAgICovXG4gICAgc2VsZWN0aW9uLCBcbiAgICAvKipcbiAgICBUaGUgZWZmZWN0cyBhZGRlZCB0byB0aGUgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBlZmZlY3RzLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFubm90YXRpb25zLCBcbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIHNjcm9sbGVkIGludG8gdmlldyBhZnRlciB0aGlzXG4gICAgdHJhbnNhY3Rpb24gaXMgZGlzcGF0Y2hlZC5cbiAgICAqL1xuICAgIHNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgIHRoaXMuc3RhcnRTdGF0ZSA9IHN0YXJ0U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLmVmZmVjdHMgPSBlZmZlY3RzO1xuICAgICAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcgPSBzY3JvbGxJbnRvVmlldztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kb2MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKHNlbGVjdGlvbilcbiAgICAgICAgICAgIGNoZWNrU2VsZWN0aW9uKHNlbGVjdGlvbiwgY2hhbmdlcy5uZXdMZW5ndGgpO1xuICAgICAgICBpZiAoIWFubm90YXRpb25zLnNvbWUoKGEpID0+IGEudHlwZSA9PSBUcmFuc2FjdGlvbi50aW1lKSlcbiAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5jb25jYXQoVHJhbnNhY3Rpb24udGltZS5vZihEYXRlLm5vdygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShzdGFydFN0YXRlLCBjaGFuZ2VzLCBzZWxlY3Rpb24sIGVmZmVjdHMsIGFubm90YXRpb25zLCBzY3JvbGxJbnRvVmlldykge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHN0YXJ0U3RhdGUsIGNoYW5nZXMsIHNlbGVjdGlvbiwgZWZmZWN0cywgYW5ub3RhdGlvbnMsIHNjcm9sbEludG9WaWV3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBkb2N1bWVudCBwcm9kdWNlZCBieSB0aGUgdHJhbnNhY3Rpb24uIENvbnRyYXJ5IHRvXG4gICAgW2Auc3RhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLnN0YXRlKWAuZG9jYCwgYWNjZXNzaW5nIHRoaXMgd29uJ3RcbiAgICBmb3JjZSB0aGUgZW50aXJlIG5ldyBzdGF0ZSB0byBiZSBjb21wdXRlZCByaWdodCBhd2F5LCBzbyBpdCBpc1xuICAgIHJlY29tbWVuZGVkIHRoYXQgW3RyYW5zYWN0aW9uXG4gICAgZmlsdGVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50cmFuc2FjdGlvbkZpbHRlcikgdXNlIHRoaXMgZ2V0dGVyXG4gICAgd2hlbiB0aGV5IG5lZWQgdG8gbG9vayBhdCB0aGUgbmV3IGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IG5ld0RvYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvYyB8fCAodGhpcy5fZG9jID0gdGhpcy5jaGFuZ2VzLmFwcGx5KHRoaXMuc3RhcnRTdGF0ZS5kb2MpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBzZWxlY3Rpb24gcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBJZlxuICAgIFtgdGhpcy5zZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLnNlbGVjdGlvbikgaXMgdW5kZWZpbmVkLFxuICAgIHRoaXMgd2lsbCBbbWFwXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclNlbGVjdGlvbi5tYXApIHRoZSBzdGFydCBzdGF0ZSdzXG4gICAgY3VycmVudCBzZWxlY3Rpb24gdGhyb3VnaCB0aGUgY2hhbmdlcyBtYWRlIGJ5IHRoZSB0cmFuc2FjdGlvbi5cbiAgICAqL1xuICAgIGdldCBuZXdTZWxlY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbiB8fCB0aGlzLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLm1hcCh0aGlzLmNoYW5nZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbmV3IHN0YXRlIGNyZWF0ZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBDb21wdXRlZCBvbiBkZW1hbmRcbiAgICAoYnV0IHJldGFpbmVkIGZvciBzdWJzZXF1ZW50IGFjY2VzcyksIHNvIGl0IGlzIHJlY29tbWVuZGVkIG5vdCB0b1xuICAgIGFjY2VzcyBpdCBpbiBbdHJhbnNhY3Rpb25cbiAgICBmaWx0ZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRyYW5zYWN0aW9uRmlsdGVyKSB3aGVuIHBvc3NpYmxlLlxuICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXRlKVxuICAgICAgICAgICAgdGhpcy5zdGFydFN0YXRlLmFwcGx5VHJhbnNhY3Rpb24odGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gYW5ub3RhdGlvbiB0eXBlLCBpZiBhbnkuXG4gICAgKi9cbiAgICBhbm5vdGF0aW9uKHR5cGUpIHtcbiAgICAgICAgZm9yIChsZXQgYW5uIG9mIHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgICAgICAgICBpZiAoYW5uLnR5cGUgPT0gdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5uLnZhbHVlO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdHJhbnNhY3Rpb24gY2hhbmdlZCB0aGUgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBnZXQgZG9jQ2hhbmdlZCgpIHsgcmV0dXJuICF0aGlzLmNoYW5nZXMuZW1wdHk7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIHRyYW5zYWN0aW9uIHJlY29uZmlndXJlcyB0aGUgc3RhdGVcbiAgICAodGhyb3VnaCBhIFtjb25maWd1cmF0aW9uIGNvbXBhcnRtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNvbXBhcnRtZW50KSBvclxuICAgIHdpdGggYSB0b3AtbGV2ZWwgY29uZmlndXJhdGlvblxuICAgIFtlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3RecmVjb25maWd1cmUpLlxuICAgICovXG4gICAgZ2V0IHJlY29uZmlndXJlZCgpIHsgcmV0dXJuIHRoaXMuc3RhcnRTdGF0ZS5jb25maWcgIT0gdGhpcy5zdGF0ZS5jb25maWc7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGhhcyBhIFt1c2VyXG4gICAgZXZlbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edXNlckV2ZW50KSBhbm5vdGF0aW9uIHRoYXQgaXMgZXF1YWwgdG9cbiAgICBvciBtb3JlIHNwZWNpZmljIHRoYW4gYGV2ZW50YC4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0cmFuc2FjdGlvblxuICAgIGhhcyBgXCJzZWxlY3QucG9pbnRlclwiYCBhcyB1c2VyIGV2ZW50LCBgXCJzZWxlY3RcImAgYW5kXG4gICAgYFwic2VsZWN0LnBvaW50ZXJcImAgd2lsbCBtYXRjaCBpdC5cbiAgICAqL1xuICAgIGlzVXNlckV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5hbm5vdGF0aW9uKFRyYW5zYWN0aW9uLnVzZXJFdmVudCk7XG4gICAgICAgIHJldHVybiAhIShlICYmIChlID09IGV2ZW50IHx8IGUubGVuZ3RoID4gZXZlbnQubGVuZ3RoICYmIGUuc2xpY2UoMCwgZXZlbnQubGVuZ3RoKSA9PSBldmVudCAmJiBlW2V2ZW50Lmxlbmd0aF0gPT0gXCIuXCIpKTtcbiAgICB9XG59XG4vKipcbkFubm90YXRpb24gdXNlZCB0byBzdG9yZSB0cmFuc2FjdGlvbiB0aW1lc3RhbXBzLiBBdXRvbWF0aWNhbGx5XG5hZGRlZCB0byBldmVyeSB0cmFuc2FjdGlvbiwgaG9sZGluZyBgRGF0ZS5ub3coKWAuXG4qL1xuVHJhbnNhY3Rpb24udGltZSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIHVzZWQgdG8gYXNzb2NpYXRlIGEgdHJhbnNhY3Rpb24gd2l0aCBhIHVzZXIgaW50ZXJmYWNlXG5ldmVudC4gSG9sZHMgYSBzdHJpbmcgaWRlbnRpZnlpbmcgdGhlIGV2ZW50LCB1c2luZyBhXG5kb3Qtc2VwYXJhdGVkIGZvcm1hdCB0byBzdXBwb3J0IGF0dGFjaGluZyBtb3JlIHNwZWNpZmljXG5pbmZvcm1hdGlvbi4gVGhlIGV2ZW50cyB1c2VkIGJ5IHRoZSBjb3JlIGxpYnJhcmllcyBhcmU6XG5cbiAtIGBcImlucHV0XCJgIHdoZW4gY29udGVudCBpcyBlbnRlcmVkXG4gICAtIGBcImlucHV0LnR5cGVcImAgZm9yIHR5cGVkIGlucHV0XG4gICAgIC0gYFwiaW5wdXQudHlwZS5jb21wb3NlXCJgIGZvciBjb21wb3NpdGlvblxuICAgLSBgXCJpbnB1dC5wYXN0ZVwiYCBmb3IgcGFzdGVkIGlucHV0XG4gICAtIGBcImlucHV0LmRyb3BcImAgd2hlbiBhZGRpbmcgY29udGVudCB3aXRoIGRyYWctYW5kLWRyb3BcbiAgIC0gYFwiaW5wdXQuY29tcGxldGVcImAgd2hlbiBhdXRvY29tcGxldGluZ1xuIC0gYFwiZGVsZXRlXCJgIHdoZW4gdGhlIHVzZXIgZGVsZXRlcyBjb250ZW50XG4gICAtIGBcImRlbGV0ZS5zZWxlY3Rpb25cImAgd2hlbiBkZWxldGluZyB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5mb3J3YXJkXCJgIHdoZW4gZGVsZXRpbmcgZm9yd2FyZCBmcm9tIHRoZSBzZWxlY3Rpb25cbiAgIC0gYFwiZGVsZXRlLmJhY2t3YXJkXCJgIHdoZW4gZGVsZXRpbmcgYmFja3dhcmQgZnJvbSB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5jdXRcImAgd2hlbiBjdXR0aW5nIHRvIHRoZSBjbGlwYm9hcmRcbiAtIGBcIm1vdmVcImAgd2hlbiBjb250ZW50IGlzIG1vdmVkXG4gICAtIGBcIm1vdmUuZHJvcFwiYCB3aGVuIGNvbnRlbnQgaXMgbW92ZWQgd2l0aGluIHRoZSBlZGl0b3IgdGhyb3VnaCBkcmFnLWFuZC1kcm9wXG4gLSBgXCJzZWxlY3RcImAgd2hlbiBleHBsaWNpdGx5IGNoYW5naW5nIHRoZSBzZWxlY3Rpb25cbiAgIC0gYFwic2VsZWN0LnBvaW50ZXJcImAgd2hlbiBzZWxlY3Rpbmcgd2l0aCBhIG1vdXNlIG9yIG90aGVyIHBvaW50aW5nIGRldmljZVxuIC0gYFwidW5kb1wiYCBhbmQgYFwicmVkb1wiYCBmb3IgaGlzdG9yeSBhY3Rpb25zXG5cblVzZSBbYGlzVXNlckV2ZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5pc1VzZXJFdmVudCkgdG8gY2hlY2tcbndoZXRoZXIgdGhlIGFubm90YXRpb24gbWF0Y2hlcyBhIGdpdmVuIGV2ZW50LlxuKi9cblRyYW5zYWN0aW9uLnVzZXJFdmVudCA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIGluZGljYXRpbmcgd2hldGhlciBhIHRyYW5zYWN0aW9uIHNob3VsZCBiZSBhZGRlZCB0b1xudGhlIHVuZG8gaGlzdG9yeSBvciBub3QuXG4qL1xuVHJhbnNhY3Rpb24uYWRkVG9IaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcbkFubm90YXRpb24gaW5kaWNhdGluZyAod2hlbiBwcmVzZW50IGFuZCB0cnVlKSB0aGF0IGEgdHJhbnNhY3Rpb25cbnJlcHJlc2VudHMgYSBjaGFuZ2UgbWFkZSBieSBzb21lIG90aGVyIGFjdG9yLCBub3QgdGhlIHVzZXIuIFRoaXNcbmlzIHVzZWQsIGZvciBleGFtcGxlLCB0byB0YWcgb3RoZXIgcGVvcGxlJ3MgY2hhbmdlcyBpblxuY29sbGFib3JhdGl2ZSBlZGl0aW5nLlxuKi9cblRyYW5zYWN0aW9uLnJlbW90ZSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuZnVuY3Rpb24gam9pblJhbmdlcyhhLCBiKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGlBID0gMCwgaUIgPSAwOzspIHtcbiAgICAgICAgbGV0IGZyb20sIHRvO1xuICAgICAgICBpZiAoaUEgPCBhLmxlbmd0aCAmJiAoaUIgPT0gYi5sZW5ndGggfHwgYltpQl0gPj0gYVtpQV0pKSB7XG4gICAgICAgICAgICBmcm9tID0gYVtpQSsrXTtcbiAgICAgICAgICAgIHRvID0gYVtpQSsrXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpQiA8IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBmcm9tID0gYltpQisrXTtcbiAgICAgICAgICAgIHRvID0gYltpQisrXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBpZiAoIXJlc3VsdC5sZW5ndGggfHwgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA8IGZyb20pXG4gICAgICAgICAgICByZXN1bHQucHVzaChmcm9tLCB0byk7XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPCB0bylcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSB0bztcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVRyYW5zYWN0aW9uKGEsIGIsIHNlcXVlbnRpYWwpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG1hcEZvckEsIG1hcEZvckIsIGNoYW5nZXM7XG4gICAgaWYgKHNlcXVlbnRpYWwpIHtcbiAgICAgICAgbWFwRm9yQSA9IGIuY2hhbmdlcztcbiAgICAgICAgbWFwRm9yQiA9IENoYW5nZVNldC5lbXB0eShiLmNoYW5nZXMubGVuZ3RoKTtcbiAgICAgICAgY2hhbmdlcyA9IGEuY2hhbmdlcy5jb21wb3NlKGIuY2hhbmdlcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXBGb3JBID0gYi5jaGFuZ2VzLm1hcChhLmNoYW5nZXMpO1xuICAgICAgICBtYXBGb3JCID0gYS5jaGFuZ2VzLm1hcERlc2MoYi5jaGFuZ2VzLCB0cnVlKTtcbiAgICAgICAgY2hhbmdlcyA9IGEuY2hhbmdlcy5jb21wb3NlKG1hcEZvckEpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IGIuc2VsZWN0aW9uID8gYi5zZWxlY3Rpb24ubWFwKG1hcEZvckIpIDogKF9hID0gYS5zZWxlY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAobWFwRm9yQSksXG4gICAgICAgIGVmZmVjdHM6IFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoYS5lZmZlY3RzLCBtYXBGb3JBKS5jb25jYXQoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhiLmVmZmVjdHMsIG1hcEZvckIpKSxcbiAgICAgICAgYW5ub3RhdGlvbnM6IGEuYW5ub3RhdGlvbnMubGVuZ3RoID8gYS5hbm5vdGF0aW9ucy5jb25jYXQoYi5hbm5vdGF0aW9ucykgOiBiLmFubm90YXRpb25zLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogYS5zY3JvbGxJbnRvVmlldyB8fCBiLnNjcm9sbEludG9WaWV3XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBzcGVjLCBkb2NTaXplKSB7XG4gICAgbGV0IHNlbCA9IHNwZWMuc2VsZWN0aW9uLCBhbm5vdGF0aW9ucyA9IGFzQXJyYXkoc3BlYy5hbm5vdGF0aW9ucyk7XG4gICAgaWYgKHNwZWMudXNlckV2ZW50KVxuICAgICAgICBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmNvbmNhdChUcmFuc2FjdGlvbi51c2VyRXZlbnQub2Yoc3BlYy51c2VyRXZlbnQpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFuZ2VzOiBzcGVjLmNoYW5nZXMgaW5zdGFuY2VvZiBDaGFuZ2VTZXQgPyBzcGVjLmNoYW5nZXNcbiAgICAgICAgICAgIDogQ2hhbmdlU2V0Lm9mKHNwZWMuY2hhbmdlcyB8fCBbXSwgZG9jU2l6ZSwgc3RhdGUuZmFjZXQobGluZVNlcGFyYXRvcikpLFxuICAgICAgICBzZWxlY3Rpb246IHNlbCAmJiAoc2VsIGluc3RhbmNlb2YgRWRpdG9yU2VsZWN0aW9uID8gc2VsIDogRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShzZWwuYW5jaG9yLCBzZWwuaGVhZCkpLFxuICAgICAgICBlZmZlY3RzOiBhc0FycmF5KHNwZWMuZWZmZWN0cyksXG4gICAgICAgIGFubm90YXRpb25zLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogISFzcGVjLnNjcm9sbEludG9WaWV3XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2FjdGlvbihzdGF0ZSwgc3BlY3MsIGZpbHRlcikge1xuICAgIGxldCBzID0gcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIHNwZWNzLmxlbmd0aCA/IHNwZWNzWzBdIDoge30sIHN0YXRlLmRvYy5sZW5ndGgpO1xuICAgIGlmIChzcGVjcy5sZW5ndGggJiYgc3BlY3NbMF0uZmlsdGVyID09PSBmYWxzZSlcbiAgICAgICAgZmlsdGVyID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3BlY3NbaV0uZmlsdGVyID09PSBmYWxzZSlcbiAgICAgICAgICAgIGZpbHRlciA9IGZhbHNlO1xuICAgICAgICBsZXQgc2VxID0gISFzcGVjc1tpXS5zZXF1ZW50aWFsO1xuICAgICAgICBzID0gbWVyZ2VUcmFuc2FjdGlvbihzLCByZXNvbHZlVHJhbnNhY3Rpb25Jbm5lcihzdGF0ZSwgc3BlY3NbaV0sIHNlcSA/IHMuY2hhbmdlcy5uZXdMZW5ndGggOiBzdGF0ZS5kb2MubGVuZ3RoKSwgc2VxKTtcbiAgICB9XG4gICAgbGV0IHRyID0gVHJhbnNhY3Rpb24uY3JlYXRlKHN0YXRlLCBzLmNoYW5nZXMsIHMuc2VsZWN0aW9uLCBzLmVmZmVjdHMsIHMuYW5ub3RhdGlvbnMsIHMuc2Nyb2xsSW50b1ZpZXcpO1xuICAgIHJldHVybiBleHRlbmRUcmFuc2FjdGlvbihmaWx0ZXIgPyBmaWx0ZXJUcmFuc2FjdGlvbih0cikgOiB0cik7XG59XG4vLyBGaW5pc2ggYSB0cmFuc2FjdGlvbiBieSBhcHBseWluZyBmaWx0ZXJzIGlmIG5lY2Vzc2FyeS5cbmZ1bmN0aW9uIGZpbHRlclRyYW5zYWN0aW9uKHRyKSB7XG4gICAgbGV0IHN0YXRlID0gdHIuc3RhcnRTdGF0ZTtcbiAgICAvLyBDaGFuZ2UgZmlsdGVyc1xuICAgIGxldCByZXN1bHQgPSB0cnVlO1xuICAgIGZvciAobGV0IGZpbHRlciBvZiBzdGF0ZS5mYWNldChjaGFuZ2VGaWx0ZXIpKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGZpbHRlcih0cik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB0cnVlID8gdmFsdWUgOiBqb2luUmFuZ2VzKHJlc3VsdCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzLCBiYWNrO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYmFjayA9IHRyLmNoYW5nZXMuaW52ZXJ0ZWREZXNjO1xuICAgICAgICAgICAgY2hhbmdlcyA9IENoYW5nZVNldC5lbXB0eShzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJlZCA9IHRyLmNoYW5nZXMuZmlsdGVyKHJlc3VsdCk7XG4gICAgICAgICAgICBjaGFuZ2VzID0gZmlsdGVyZWQuY2hhbmdlcztcbiAgICAgICAgICAgIGJhY2sgPSBmaWx0ZXJlZC5maWx0ZXJlZC5tYXBEZXNjKGZpbHRlcmVkLmNoYW5nZXMpLmludmVydGVkRGVzYztcbiAgICAgICAgfVxuICAgICAgICB0ciA9IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgY2hhbmdlcywgdHIuc2VsZWN0aW9uICYmIHRyLnNlbGVjdGlvbi5tYXAoYmFjayksIFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHModHIuZWZmZWN0cywgYmFjayksIHRyLmFubm90YXRpb25zLCB0ci5zY3JvbGxJbnRvVmlldyk7XG4gICAgfVxuICAgIC8vIFRyYW5zYWN0aW9uIGZpbHRlcnNcbiAgICBsZXQgZmlsdGVycyA9IHN0YXRlLmZhY2V0KHRyYW5zYWN0aW9uRmlsdGVyKTtcbiAgICBmb3IgKGxldCBpID0gZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZmlsdGVyZWQgPSBmaWx0ZXJzW2ldKHRyKTtcbiAgICAgICAgaWYgKGZpbHRlcmVkIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24pXG4gICAgICAgICAgICB0ciA9IGZpbHRlcmVkO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcmVkKSAmJiBmaWx0ZXJlZC5sZW5ndGggPT0gMSAmJiBmaWx0ZXJlZFswXSBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgdHIgPSBmaWx0ZXJlZFswXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdHIgPSByZXNvbHZlVHJhbnNhY3Rpb24oc3RhdGUsIGFzQXJyYXkoZmlsdGVyZWQpLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB0cjtcbn1cbmZ1bmN0aW9uIGV4dGVuZFRyYW5zYWN0aW9uKHRyKSB7XG4gICAgbGV0IHN0YXRlID0gdHIuc3RhcnRTdGF0ZSwgZXh0ZW5kZXJzID0gc3RhdGUuZmFjZXQodHJhbnNhY3Rpb25FeHRlbmRlciksIHNwZWMgPSB0cjtcbiAgICBmb3IgKGxldCBpID0gZXh0ZW5kZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBleHRlbnNpb24gPSBleHRlbmRlcnNbaV0odHIpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uICYmIE9iamVjdC5rZXlzKGV4dGVuc2lvbikubGVuZ3RoKVxuICAgICAgICAgICAgc3BlYyA9IG1lcmdlVHJhbnNhY3Rpb24oc3BlYywgcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIGV4dGVuc2lvbiwgdHIuY2hhbmdlcy5uZXdMZW5ndGgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwZWMgPT0gdHIgPyB0ciA6IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgdHIuY2hhbmdlcywgdHIuc2VsZWN0aW9uLCBzcGVjLmVmZmVjdHMsIHNwZWMuYW5ub3RhdGlvbnMsIHNwZWMuc2Nyb2xsSW50b1ZpZXcpO1xufVxuY29uc3Qgbm9uZSA9IFtdO1xuZnVuY3Rpb24gYXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gbm9uZSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuXG4vKipcblRoZSBjYXRlZ29yaWVzIHByb2R1Y2VkIGJ5IGEgW2NoYXJhY3RlclxuY2F0ZWdvcml6ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKS4gVGhlc2UgYXJlIHVzZWRcbmRvIHRoaW5ncyBsaWtlIHNlbGVjdGluZyBieSB3b3JkLlxuKi9cbnZhciBDaGFyQ2F0ZWdvcnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDaGFyQ2F0ZWdvcnkpIHtcbiAgICAvKipcbiAgICBXb3JkIGNoYXJhY3RlcnMuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiV29yZFwiXSA9IDBdID0gXCJXb3JkXCI7XG4gICAgLyoqXG4gICAgV2hpdGVzcGFjZS5cbiAgICAqL1xuICAgIENoYXJDYXRlZ29yeVtDaGFyQ2F0ZWdvcnlbXCJTcGFjZVwiXSA9IDFdID0gXCJTcGFjZVwiO1xuICAgIC8qKlxuICAgIEFueXRoaW5nIGVsc2UuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiT3RoZXJcIl0gPSAyXSA9IFwiT3RoZXJcIjtcbnJldHVybiBDaGFyQ2F0ZWdvcnl9KShDaGFyQ2F0ZWdvcnkgfHwgKENoYXJDYXRlZ29yeSA9IHt9KSk7XG5jb25zdCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciA9IC9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztcbmxldCB3b3JkQ2hhcjtcbnRyeSB7XG4gICAgd29yZENoYXIgPSAvKkBfX1BVUkVfXyovbmV3IFJlZ0V4cChcIltcXFxccHtBbHBoYWJldGljfVxcXFxwe051bWJlcn1fXVwiLCBcInVcIik7XG59XG5jYXRjaCAoXykgeyB9XG5mdW5jdGlvbiBoYXNXb3JkQ2hhcihzdHIpIHtcbiAgICBpZiAod29yZENoYXIpXG4gICAgICAgIHJldHVybiB3b3JkQ2hhci50ZXN0KHN0cik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoID0gc3RyW2ldO1xuICAgICAgICBpZiAoL1xcdy8udGVzdChjaCkgfHwgY2ggPiBcIlxceDgwXCIgJiYgKGNoLnRvVXBwZXJDYXNlKCkgIT0gY2gudG9Mb3dlckNhc2UoKSB8fCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhci50ZXN0KGNoKSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gbWFrZUNhdGVnb3JpemVyKHdvcmRDaGFycykge1xuICAgIHJldHVybiAoY2hhcikgPT4ge1xuICAgICAgICBpZiAoIS9cXFMvLnRlc3QoY2hhcikpXG4gICAgICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5LlNwYWNlO1xuICAgICAgICBpZiAoaGFzV29yZENoYXIoY2hhcikpXG4gICAgICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5LldvcmQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZENoYXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKGNoYXIuaW5kZXhPZih3b3JkQ2hhcnNbaV0pID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5Xb3JkO1xuICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5Lk90aGVyO1xuICAgIH07XG59XG5cbi8qKlxuVGhlIGVkaXRvciBzdGF0ZSBjbGFzcyBpcyBhIHBlcnNpc3RlbnQgKGltbXV0YWJsZSkgZGF0YSBzdHJ1Y3R1cmUuXG5UbyB1cGRhdGUgYSBzdGF0ZSwgeW91IFtjcmVhdGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSBhXG5bdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24pLCB3aGljaCBwcm9kdWNlcyBhIF9uZXdfIHN0YXRlXG5pbnN0YW5jZSwgd2l0aG91dCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIG9iamVjdC5cblxuQXMgc3VjaCwgX25ldmVyXyBtdXRhdGUgcHJvcGVydGllcyBvZiBhIHN0YXRlIGRpcmVjdGx5LiBUaGF0J2xsXG5qdXN0IGJyZWFrIHRoaW5ncy5cbiovXG5jbGFzcyBFZGl0b3JTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25maWcsIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgICovXG4gICAgZG9jLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBzZWxlY3Rpb24sIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdmFsdWVzLCBjb21wdXRlU2xvdCwgdHIpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gY29uZmlnLnN0YXR1c1RlbXBsYXRlLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuY29tcHV0ZVNsb3QgPSBjb21wdXRlU2xvdDtcbiAgICAgICAgLy8gRmlsbCBpbiB0aGUgY29tcHV0ZWQgc3RhdGUgaW1tZWRpYXRlbHksIHNvIHRoYXQgZnVydGhlciBxdWVyaWVzXG4gICAgICAgIC8vIGZvciBpdCBtYWRlIGR1cmluZyB0aGUgdXBkYXRlIHJldHVybiB0aGlzIHN0YXRlXG4gICAgICAgIGlmICh0cilcbiAgICAgICAgICAgIHRyLl9zdGF0ZSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWcuZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgZW5zdXJlQWRkcih0aGlzLCBpIDw8IDEpO1xuICAgICAgICB0aGlzLmNvbXB1dGVTbG90ID0gbnVsbDtcbiAgICB9XG4gICAgZmllbGQoZmllbGQsIHJlcXVpcmUgPSB0cnVlKSB7XG4gICAgICAgIGxldCBhZGRyID0gdGhpcy5jb25maWcuYWRkcmVzc1tmaWVsZC5pZF07XG4gICAgICAgIGlmIChhZGRyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZXF1aXJlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRmllbGQgaXMgbm90IHByZXNlbnQgaW4gdGhpcyBzdGF0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlQWRkcih0aGlzLCBhZGRyKTtcbiAgICAgICAgcmV0dXJuIGdldEFkZHIodGhpcywgYWRkcik7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFt0cmFuc2FjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbikgdGhhdCB1cGRhdGVzIHRoaXNcbiAgICBzdGF0ZS4gQW55IG51bWJlciBvZiBbdHJhbnNhY3Rpb24gc3BlY3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKVxuICAgIGNhbiBiZSBwYXNzZWQuIFVubGVzc1xuICAgIFtgc2VxdWVudGlhbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlcXVlbnRpYWwpIGlzIHNldCwgdGhlXG4gICAgW2NoYW5nZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmNoYW5nZXMpIChpZiBhbnkpIG9mIGVhY2ggc3BlY1xuICAgIGFyZSBhc3N1bWVkIHRvIHN0YXJ0IGluIHRoZSBfY3VycmVudF8gZG9jdW1lbnQgKG5vdCB0aGUgZG9jdW1lbnRcbiAgICBwcm9kdWNlZCBieSBwcmV2aW91cyBzcGVjcyksIGFuZCBpdHNcbiAgICBbc2VsZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZWxlY3Rpb24pIGFuZFxuICAgIFtlZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKSBhcmUgYXNzdW1lZCB0byByZWZlclxuICAgIHRvIHRoZSBkb2N1bWVudCBjcmVhdGVkIGJ5IGl0cyBfb3duXyBjaGFuZ2VzLiBUaGUgcmVzdWx0aW5nXG4gICAgdHJhbnNhY3Rpb24gY29udGFpbnMgdGhlIGNvbWJpbmVkIGVmZmVjdCBvZiBhbGwgdGhlIGRpZmZlcmVudFxuICAgIHNwZWNzLiBGb3IgW3NlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuc2VsZWN0aW9uKSwgbGF0ZXJcbiAgICBzcGVjcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBlYXJsaWVyIG9uZXMuXG4gICAgKi9cbiAgICB1cGRhdGUoLi4uc3BlY3MpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVUcmFuc2FjdGlvbih0aGlzLCBzcGVjcywgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYXBwbHlUcmFuc2FjdGlvbih0cikge1xuICAgICAgICBsZXQgY29uZiA9IHRoaXMuY29uZmlnLCB7IGJhc2UsIGNvbXBhcnRtZW50cyB9ID0gY29uZjtcbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoQ29tcGFydG1lbnQucmVjb25maWd1cmUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFydG1lbnRzID0gbmV3IE1hcDtcbiAgICAgICAgICAgICAgICAgICAgY29uZi5jb21wYXJ0bWVudHMuZm9yRWFjaCgodmFsLCBrZXkpID0+IGNvbXBhcnRtZW50cy5zZXQoa2V5LCB2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBhcnRtZW50cy5zZXQoZWZmZWN0LnZhbHVlLmNvbXBhcnRtZW50LCBlZmZlY3QudmFsdWUuZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyhTdGF0ZUVmZmVjdC5yZWNvbmZpZ3VyZSkpIHtcbiAgICAgICAgICAgICAgICBjb25mID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlID0gZWZmZWN0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBjb25mID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlID0gYXNBcnJheShiYXNlKS5jb25jYXQoZWZmZWN0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnRWYWx1ZXM7XG4gICAgICAgIGlmICghY29uZikge1xuICAgICAgICAgICAgY29uZiA9IENvbmZpZ3VyYXRpb24ucmVzb2x2ZShiYXNlLCBjb21wYXJ0bWVudHMsIHRoaXMpO1xuICAgICAgICAgICAgbGV0IGludGVybWVkaWF0ZVN0YXRlID0gbmV3IEVkaXRvclN0YXRlKGNvbmYsIHRoaXMuZG9jLCB0aGlzLnNlbGVjdGlvbiwgY29uZi5keW5hbWljU2xvdHMubWFwKCgpID0+IG51bGwpLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QucmVjb25maWd1cmUoc3RhdGUsIHRoaXMpLCBudWxsKTtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWVzID0gaW50ZXJtZWRpYXRlU3RhdGUudmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRWYWx1ZXMgPSB0ci5zdGFydFN0YXRlLnZhbHVlcy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB0ci5zdGFydFN0YXRlLmZhY2V0KGFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKSA/IHRyLm5ld1NlbGVjdGlvbiA6IHRyLm5ld1NlbGVjdGlvbi5hc1NpbmdsZSgpO1xuICAgICAgICBuZXcgRWRpdG9yU3RhdGUoY29uZiwgdHIubmV3RG9jLCBzZWxlY3Rpb24sIHN0YXJ0VmFsdWVzLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QudXBkYXRlKHN0YXRlLCB0ciksIHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3RyYW5zYWN0aW9uIHNwZWNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKSB0aGF0XG4gICAgcmVwbGFjZXMgZXZlcnkgc2VsZWN0aW9uIHJhbmdlIHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlU2VsZWN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy50b1RleHQodGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4gKHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogdGV4dCB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIHRleHQubGVuZ3RoKSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiBjaGFuZ2VzIGFuZCBhIG5ldyBzZWxlY3Rpb24gYnkgcnVubmluZyB0aGUgZ2l2ZW5cbiAgICBmdW5jdGlvbiBmb3IgZWFjaCByYW5nZSBpbiB0aGUgYWN0aXZlIHNlbGVjdGlvbi4gVGhlIGZ1bmN0aW9uXG4gICAgY2FuIHJldHVybiBhbiBvcHRpb25hbCBzZXQgb2YgY2hhbmdlcyAoaW4gdGhlIGNvb3JkaW5hdGUgc3BhY2VcbiAgICBvZiB0aGUgc3RhcnQgZG9jdW1lbnQpLCBwbHVzIGFuIHVwZGF0ZWQgcmFuZ2UgKGluIHRoZSBjb29yZGluYXRlXG4gICAgc3BhY2Ugb2YgdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IHRoZSBjYWxsJ3Mgb3duIGNoYW5nZXMpLiBUaGlzXG4gICAgbWV0aG9kIHdpbGwgbWVyZ2UgYWxsIHRoZSBjaGFuZ2VzIGFuZCByYW5nZXMgaW50byBhIHNpbmdsZVxuICAgIGNoYW5nZXNldCBhbmQgc2VsZWN0aW9uLCBhbmQgcmV0dXJuIGl0IGFzIGEgW3RyYW5zYWN0aW9uXG4gICAgc3BlY10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMpLCB3aGljaCBjYW4gYmUgcGFzc2VkIHRvXG4gICAgW2B1cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkuXG4gICAgKi9cbiAgICBjaGFuZ2VCeVJhbmdlKGYpIHtcbiAgICAgICAgbGV0IHNlbCA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgcmVzdWx0MSA9IGYoc2VsLnJhbmdlc1swXSk7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gdGhpcy5jaGFuZ2VzKHJlc3VsdDEuY2hhbmdlcyksIHJhbmdlcyA9IFtyZXN1bHQxLnJhbmdlXTtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSBhc0FycmF5KHJlc3VsdDEuZWZmZWN0cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGYoc2VsLnJhbmdlc1tpXSk7XG4gICAgICAgICAgICBsZXQgbmV3Q2hhbmdlcyA9IHRoaXMuY2hhbmdlcyhyZXN1bHQuY2hhbmdlcyksIG5ld01hcHBlZCA9IG5ld0NoYW5nZXMubWFwKGNoYW5nZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspXG4gICAgICAgICAgICAgICAgcmFuZ2VzW2pdID0gcmFuZ2VzW2pdLm1hcChuZXdNYXBwZWQpO1xuICAgICAgICAgICAgbGV0IG1hcEJ5ID0gY2hhbmdlcy5tYXBEZXNjKG5ld0NoYW5nZXMsIHRydWUpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmVzdWx0LnJhbmdlLm1hcChtYXBCeSkpO1xuICAgICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMuY29tcG9zZShuZXdNYXBwZWQpO1xuICAgICAgICAgICAgZWZmZWN0cyA9IFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoZWZmZWN0cywgbmV3TWFwcGVkKS5jb25jYXQoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhhc0FycmF5KHJlc3VsdC5lZmZlY3RzKSwgbWFwQnkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMsIHNlbC5tYWluSW5kZXgpLFxuICAgICAgICAgICAgZWZmZWN0c1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbY2hhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQpIGZyb20gdGhlIGdpdmVuIGNoYW5nZVxuICAgIGRlc2NyaXB0aW9uLCB0YWtpbmcgdGhlIHN0YXRlJ3MgZG9jdW1lbnQgbGVuZ3RoIGFuZCBsaW5lXG4gICAgc2VwYXJhdG9yIGludG8gYWNjb3VudC5cbiAgICAqL1xuICAgIGNoYW5nZXMoc3BlYyA9IFtdKSB7XG4gICAgICAgIGlmIChzcGVjIGluc3RhbmNlb2YgQ2hhbmdlU2V0KVxuICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgIHJldHVybiBDaGFuZ2VTZXQub2Yoc3BlYywgdGhpcy5kb2MubGVuZ3RoLCB0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXNpbmcgdGhlIHN0YXRlJ3MgW2xpbmVcbiAgICBzZXBhcmF0b3JdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVebGluZVNlcGFyYXRvciksIGNyZWF0ZSBhXG4gICAgW2BUZXh0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UZXh0KSBpbnN0YW5jZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICB0b1RleHQoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBUZXh0Lm9mKHN0cmluZy5zcGxpdCh0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpIHx8IERlZmF1bHRTcGxpdCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGdpdmVuIHJhbmdlIG9mIHRoZSBkb2N1bWVudCBhcyBhIHN0cmluZy5cbiAgICAqL1xuICAgIHNsaWNlRG9jKGZyb20gPSAwLCB0byA9IHRoaXMuZG9jLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8sIHRoaXMubGluZUJyZWFrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiBhIHN0YXRlIFtmYWNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldCkuXG4gICAgKi9cbiAgICBmYWNldChmYWNldCkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuY29uZmlnLmFkZHJlc3NbZmFjZXQuaWRdO1xuICAgICAgICBpZiAoYWRkciA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhY2V0LmRlZmF1bHQ7XG4gICAgICAgIGVuc3VyZUFkZHIodGhpcywgYWRkcik7XG4gICAgICAgIHJldHVybiBnZXRBZGRyKHRoaXMsIGFkZHIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc3RhdGUgdG8gYSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QuIFdoZW4gY3VzdG9tXG4gICAgZmllbGRzIHNob3VsZCBiZSBzZXJpYWxpemVkLCB5b3UgY2FuIHBhc3MgdGhlbSBpbiBhcyBhbiBvYmplY3RcbiAgICBtYXBwaW5nIHByb3BlcnR5IG5hbWVzIChpbiB0aGUgcmVzdWx0aW5nIG9iamVjdCwgd2hpY2ggc2hvdWxkXG4gICAgbm90IHVzZSBgZG9jYCBvciBgc2VsZWN0aW9uYCkgdG8gZmllbGRzLlxuICAgICovXG4gICAgdG9KU09OKGZpZWxkcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZG9jOiB0aGlzLnNsaWNlRG9jKCksXG4gICAgICAgICAgICBzZWxlY3Rpb246IHRoaXMuc2VsZWN0aW9uLnRvSlNPTigpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmaWVsZHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZpZWxkc1twcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkICYmIHRoaXMuY29uZmlnLmFkZHJlc3NbdmFsdWUuaWRdICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IHZhbHVlLnNwZWMudG9KU09OKHRoaXMuZmllbGQoZmllbGRzW3Byb3BdKSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlc2VyaWFsaXplIGEgc3RhdGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gV2hlbiBjdXN0b21cbiAgICBmaWVsZHMgc2hvdWxkIGJlIGRlc2VyaWFsaXplZCwgcGFzcyB0aGUgc2FtZSBvYmplY3QgeW91IHBhc3NlZFxuICAgIHRvIFtgdG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS50b0pTT04pIHdoZW4gc2VyaWFsaXppbmcgYXNcbiAgICB0aGlyZCBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uLCBjb25maWcgPSB7fSwgZmllbGRzKSB7XG4gICAgICAgIGlmICghanNvbiB8fCB0eXBlb2YganNvbi5kb2MgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTdGF0ZVwiKTtcbiAgICAgICAgbGV0IGZpZWxkSW5pdCA9IFtdO1xuICAgICAgICBpZiAoZmllbGRzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IGZpZWxkc1twcm9wXSwgdmFsdWUgPSBqc29uW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEluaXQucHVzaChmaWVsZC5pbml0KHN0YXRlID0+IGZpZWxkLnNwZWMuZnJvbUpTT04odmFsdWUsIHN0YXRlKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgICAgICBkb2M6IGpzb24uZG9jLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04oanNvbi5zZWxlY3Rpb24pLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnLmV4dGVuc2lvbnMgPyBmaWVsZEluaXQuY29uY2F0KFtjb25maWcuZXh0ZW5zaW9uc10pIDogZmllbGRJbml0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgc3RhdGUuIFlvdSdsbCB1c3VhbGx5IG9ubHkgbmVlZCB0aGlzIHdoZW5cbiAgICBpbml0aWFsaXppbmcgYW4gZWRpdG9yXHUyMDE0dXBkYXRlZCBzdGF0ZXMgYXJlIGNyZWF0ZWQgYnkgYXBwbHlpbmdcbiAgICB0cmFuc2FjdGlvbnMuXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIGxldCBjb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbi5yZXNvbHZlKGNvbmZpZy5leHRlbnNpb25zIHx8IFtdLCBuZXcgTWFwKTtcbiAgICAgICAgbGV0IGRvYyA9IGNvbmZpZy5kb2MgaW5zdGFuY2VvZiBUZXh0ID8gY29uZmlnLmRvY1xuICAgICAgICAgICAgOiBUZXh0Lm9mKChjb25maWcuZG9jIHx8IFwiXCIpLnNwbGl0KGNvbmZpZ3VyYXRpb24uc3RhdGljRmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgRGVmYXVsdFNwbGl0KSk7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSAhY29uZmlnLnNlbGVjdGlvbiA/IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoMClcbiAgICAgICAgICAgIDogY29uZmlnLnNlbGVjdGlvbiBpbnN0YW5jZW9mIEVkaXRvclNlbGVjdGlvbiA/IGNvbmZpZy5zZWxlY3Rpb25cbiAgICAgICAgICAgICAgICA6IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoY29uZmlnLnNlbGVjdGlvbi5hbmNob3IsIGNvbmZpZy5zZWxlY3Rpb24uaGVhZCk7XG4gICAgICAgIGNoZWNrU2VsZWN0aW9uKHNlbGVjdGlvbiwgZG9jLmxlbmd0aCk7XG4gICAgICAgIGlmICghY29uZmlndXJhdGlvbi5zdGF0aWNGYWNldChhbGxvd011bHRpcGxlU2VsZWN0aW9ucykpXG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uYXNTaW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0b3JTdGF0ZShjb25maWd1cmF0aW9uLCBkb2MsIHNlbGVjdGlvbiwgY29uZmlndXJhdGlvbi5keW5hbWljU2xvdHMubWFwKCgpID0+IG51bGwpLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QuY3JlYXRlKHN0YXRlKSwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzaXplIChpbiBjb2x1bW5zKSBvZiBhIHRhYiBpbiB0aGUgZG9jdW1lbnQsIGRldGVybWluZWQgYnlcbiAgICB0aGUgW2B0YWJTaXplYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50YWJTaXplKSBmYWNldC5cbiAgICAqL1xuICAgIGdldCB0YWJTaXplKCkgeyByZXR1cm4gdGhpcy5mYWNldChFZGl0b3JTdGF0ZS50YWJTaXplKTsgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcHJvcGVyIFtsaW5lLWJyZWFrXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmxpbmVTZXBhcmF0b3IpXG4gICAgc3RyaW5nIGZvciB0aGlzIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IGxpbmVCcmVhaygpIHsgcmV0dXJuIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgXCJcXG5cIjsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICBbY29uZmlndXJlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5yZWFkT25seSkgdG8gYmUgcmVhZC1vbmx5LlxuICAgICovXG4gICAgZ2V0IHJlYWRPbmx5KCkgeyByZXR1cm4gdGhpcy5mYWNldChyZWFkT25seSk7IH1cbiAgICAvKipcbiAgICBMb29rIHVwIGEgdHJhbnNsYXRpb24gZm9yIHRoZSBnaXZlbiBwaHJhc2UgKHZpYSB0aGVcbiAgICBbYHBocmFzZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnBocmFzZXMpIGZhY2V0KSwgb3IgcmV0dXJuIHRoZVxuICAgIG9yaWdpbmFsIHN0cmluZyBpZiBubyB0cmFuc2xhdGlvbiBpcyBmb3VuZC5cbiAgICBcbiAgICBJZiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCB0aGV5IHdpbGwgYmUgaW5zZXJ0ZWQgaW5cbiAgICBwbGFjZSBvZiBtYXJrZXJzIGxpa2UgYCQxYCAoZm9yIHRoZSBmaXJzdCB2YWx1ZSkgYW5kIGAkMmAsIGV0Yy5cbiAgICBBIHNpbmdsZSBgJGAgaXMgZXF1aXZhbGVudCB0byBgJDFgLCBhbmQgYCQkYCB3aWxsIHByb2R1Y2UgYVxuICAgIGxpdGVyYWwgZG9sbGFyIHNpZ24uXG4gICAgKi9cbiAgICBwaHJhc2UocGhyYXNlLCAuLi5pbnNlcnQpIHtcbiAgICAgICAgZm9yIChsZXQgbWFwIG9mIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwgcGhyYXNlKSkge1xuICAgICAgICAgICAgICAgIHBocmFzZSA9IG1hcFtwaHJhc2VdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBpZiAoaW5zZXJ0Lmxlbmd0aClcbiAgICAgICAgICAgIHBocmFzZSA9IHBocmFzZS5yZXBsYWNlKC9cXCQoXFwkfFxcZCopL2csIChtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gXCIkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiRcIjtcbiAgICAgICAgICAgICAgICBsZXQgbiA9ICsoaSB8fCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIW4gfHwgbiA+IGluc2VydC5sZW5ndGggPyBtIDogaW5zZXJ0W24gLSAxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGhyYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gbGFuZ3VhZ2UgZGF0YSBmaWVsZCwgcHJvdmlkZWQgYnkgdGhlXG4gICAgdGhlIFtgbGFuZ3VhZ2VEYXRhYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5sYW5ndWFnZURhdGEpIGZhY2V0LlxuICAgIFxuICAgIEV4YW1wbGVzIG9mIGxhbmd1YWdlIGRhdGEgZmllbGRzIGFyZS4uLlxuICAgIFxuICAgIC0gW2BcImNvbW1lbnRUb2tlbnNcImBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuQ29tbWVudFRva2VucykgZm9yIHNwZWNpZnlpbmdcbiAgICAgIGNvbW1lbnQgc3ludGF4LlxuICAgIC0gW2BcImF1dG9jb21wbGV0ZVwiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuYXV0b2NvbXBsZXRpb25eY29uZmlnLm92ZXJyaWRlKVxuICAgICAgZm9yIHByb3ZpZGluZyBsYW5ndWFnZS1zcGVjaWZpYyBjb21wbGV0aW9uIHNvdXJjZXMuXG4gICAgLSBbYFwid29yZENoYXJzXCJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikgZm9yIGFkZGluZ1xuICAgICAgY2hhcmFjdGVycyB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2Ygd29yZHMgaW4gdGhpc1xuICAgICAgbGFuZ3VhZ2UuXG4gICAgLSBbYFwiY2xvc2VCcmFja2V0c1wiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ2xvc2VCcmFja2V0Q29uZmlnKSBjb250cm9sc1xuICAgICAgYnJhY2tldCBjbG9zaW5nIGJlaGF2aW9yLlxuICAgICovXG4gICAgbGFuZ3VhZ2VEYXRhQXQobmFtZSwgcG9zLCBzaWRlID0gLTEpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcm92aWRlciBvZiB0aGlzLmZhY2V0KGxhbmd1YWdlRGF0YSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3VsdCBvZiBwcm92aWRlcih0aGlzLCBwb3MsIHNpZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIG5hbWUpKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHRbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY2FuIGNhdGVnb3JpemUgc3RyaW5ncyAoZXhwZWN0ZWQgdG9cbiAgICByZXByZXNlbnQgYSBzaW5nbGUgW2dyYXBoZW1lIGNsdXN0ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuZmluZENsdXN0ZXJCcmVhaykpXG4gICAgaW50byBvbmUgb2Y6XG4gICAgXG4gICAgIC0gV29yZCAoY29udGFpbnMgYW4gYWxwaGFudW1lcmljIGNoYXJhY3RlciBvciBhIGNoYXJhY3RlclxuICAgICAgIGV4cGxpY2l0bHkgbGlzdGVkIGluIHRoZSBsb2NhbCBsYW5ndWFnZSdzIGBcIndvcmRDaGFyc1wiYFxuICAgICAgIGxhbmd1YWdlIGRhdGEsIHdoaWNoIHNob3VsZCBiZSBhIHN0cmluZylcbiAgICAgLSBTcGFjZSAoY29udGFpbnMgb25seSB3aGl0ZXNwYWNlKVxuICAgICAtIE90aGVyIChhbnl0aGluZyBlbHNlKVxuICAgICovXG4gICAgY2hhckNhdGVnb3JpemVyKGF0KSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2F0ZWdvcml6ZXIodGhpcy5sYW5ndWFnZURhdGFBdChcIndvcmRDaGFyc1wiLCBhdCkuam9pbihcIlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIHdvcmQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBtZWFuaW5nIHRoZSByYW5nZVxuICAgIGNvbnRhaW5pbmcgYWxsIFt3b3JkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYXJDYXRlZ29yeS5Xb3JkKSBjaGFyYWN0ZXJzXG4gICAgYXJvdW5kIGl0LiBJZiBubyB3b3JkIGNoYXJhY3RlcnMgYXJlIGFkamFjZW50IHRvIHRoZSBwb3NpdGlvbixcbiAgICB0aGlzIHJldHVybnMgbnVsbC5cbiAgICAqL1xuICAgIHdvcmRBdChwb3MpIHtcbiAgICAgICAgbGV0IHsgdGV4dCwgZnJvbSwgbGVuZ3RoIH0gPSB0aGlzLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IGNhdCA9IHRoaXMuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgICAgIGxldCBzdGFydCA9IHBvcyAtIGZyb20sIGVuZCA9IHBvcyAtIGZyb207XG4gICAgICAgIHdoaWxlIChzdGFydCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gZmluZENsdXN0ZXJCcmVhayh0ZXh0LCBzdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGNhdCh0ZXh0LnNsaWNlKHByZXYsIHN0YXJ0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzdGFydCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGVuZCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKHRleHQsIGVuZCk7XG4gICAgICAgICAgICBpZiAoY2F0KHRleHQuc2xpY2UoZW5kLCBuZXh0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbmQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydCA9PSBlbmQgPyBudWxsIDogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHN0YXJ0ICsgZnJvbSwgZW5kICsgZnJvbSk7XG4gICAgfVxufVxuLyoqXG5BIGZhY2V0IHRoYXQsIHdoZW4gZW5hYmxlZCwgY2F1c2VzIHRoZSBlZGl0b3IgdG8gYWxsb3cgbXVsdGlwbGVcbnJhbmdlcyB0byBiZSBzZWxlY3RlZC4gQmUgY2FyZWZ1bCB0aG91Z2gsIGJlY2F1c2UgYnkgZGVmYXVsdCB0aGVcbmVkaXRvciByZWxpZXMgb24gdGhlIG5hdGl2ZSBET00gc2VsZWN0aW9uLCB3aGljaCBjYW5ub3QgaGFuZGxlXG5tdWx0aXBsZSBzZWxlY3Rpb25zLiBBbiBleHRlbnNpb24gbGlrZVxuW2BkcmF3U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmRyYXdTZWxlY3Rpb24pIGNhbiBiZSB1c2VkIHRvIG1ha2VcbnNlY29uZGFyeSBzZWxlY3Rpb25zIHZpc2libGUgdG8gdGhlIHVzZXIuXG4qL1xuRWRpdG9yU3RhdGUuYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMgPSBhbGxvd011bHRpcGxlU2VsZWN0aW9ucztcbi8qKlxuQ29uZmlndXJlcyB0aGUgdGFiIHNpemUgdG8gdXNlIGluIHRoaXMgc3RhdGUuIFRoZSBmaXJzdFxuKGhpZ2hlc3QtcHJlY2VkZW5jZSkgdmFsdWUgb2YgdGhlIGZhY2V0IGlzIHVzZWQuIElmIG5vIHZhbHVlIGlzXG5naXZlbiwgdGhpcyBkZWZhdWx0cyB0byA0LlxuKi9cbkVkaXRvclN0YXRlLnRhYlNpemUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IDRcbn0pO1xuLyoqXG5UaGUgbGluZSBzZXBhcmF0b3IgdG8gdXNlLiBCeSBkZWZhdWx0LCBhbnkgb2YgYFwiXFxuXCJgLCBgXCJcXHJcXG5cImBcbmFuZCBgXCJcXHJcImAgaXMgdHJlYXRlZCBhcyBhIHNlcGFyYXRvciB3aGVuIHNwbGl0dGluZyBsaW5lcywgYW5kXG5saW5lcyBhcmUgam9pbmVkIHdpdGggYFwiXFxuXCJgLlxuXG5XaGVuIHlvdSBjb25maWd1cmUgYSB2YWx1ZSBoZXJlLCBvbmx5IHRoYXQgcHJlY2lzZSBzZXBhcmF0b3JcbndpbGwgYmUgdXNlZCwgYWxsb3dpbmcgeW91IHRvIHJvdW5kLXRyaXAgZG9jdW1lbnRzIHRocm91Z2ggdGhlXG5lZGl0b3Igd2l0aG91dCBub3JtYWxpemluZyBsaW5lIHNlcGFyYXRvcnMuXG4qL1xuRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvciA9IGxpbmVTZXBhcmF0b3I7XG4vKipcblRoaXMgZmFjZXQgY29udHJvbHMgdGhlIHZhbHVlIG9mIHRoZVxuW2ByZWFkT25seWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucmVhZE9ubHkpIGdldHRlciwgd2hpY2ggaXNcbmNvbnN1bHRlZCBieSBjb21tYW5kcyBhbmQgZXh0ZW5zaW9ucyB0aGF0IGltcGxlbWVudCBlZGl0aW5nXG5mdW5jdGlvbmFsaXR5IHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkgc2hvdWxkIGFwcGx5LiBJdFxuZGVmYXVsdHMgdG8gZmFsc2UsIGJ1dCB3aGVuIGl0cyBoaWdoZXN0LXByZWNlZGVuY2UgdmFsdWUgaXNcbmB0cnVlYCwgc3VjaCBmdW5jdGlvbmFsaXR5IGRpc2FibGVzIGl0c2VsZi5cblxuTm90IHRvIGJlIGNvbmZ1c2VkIHdpdGhcbltgRWRpdG9yVmlldy5lZGl0YWJsZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRhYmxlKSwgd2hpY2hcbmNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvcidzIERPTSBpcyBzZXQgdG8gYmUgZWRpdGFibGUgKGFuZFxudGh1cyBmb2N1c2FibGUpLlxuKi9cbkVkaXRvclN0YXRlLnJlYWRPbmx5ID0gcmVhZE9ubHk7XG4vKipcblJlZ2lzdGVycyB0cmFuc2xhdGlvbiBwaHJhc2VzLiBUaGVcbltgcGhyYXNlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5waHJhc2UpIG1ldGhvZCB3aWxsIGxvb2sgdGhyb3VnaFxuYWxsIG9iamVjdHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgZmFjZXQgdG8gZmluZCB0cmFuc2xhdGlvbnMgZm9yXG5pdHMgYXJndW1lbnQuXG4qL1xuRWRpdG9yU3RhdGUucGhyYXNlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbXBhcmUoYSwgYikge1xuICAgICAgICBsZXQga0EgPSBPYmplY3Qua2V5cyhhKSwga0IgPSBPYmplY3Qua2V5cyhiKTtcbiAgICAgICAgcmV0dXJuIGtBLmxlbmd0aCA9PSBrQi5sZW5ndGggJiYga0EuZXZlcnkoayA9PiBhW2tdID09IGJba10pO1xuICAgIH1cbn0pO1xuLyoqXG5BIGZhY2V0IHVzZWQgdG8gcmVnaXN0ZXIgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KSBwcm92aWRlcnMuXG4qL1xuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhID0gbGFuZ3VhZ2VEYXRhO1xuLyoqXG5GYWNldCB1c2VkIHRvIHJlZ2lzdGVyIGNoYW5nZSBmaWx0ZXJzLCB3aGljaCBhcmUgY2FsbGVkIGZvciBlYWNoXG50cmFuc2FjdGlvbiAodW5sZXNzIGV4cGxpY2l0bHlcbltkaXNhYmxlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSksIGFuZCBjYW4gc3VwcHJlc3NcbnBhcnQgb2YgdGhlIHRyYW5zYWN0aW9uJ3MgY2hhbmdlcy5cblxuU3VjaCBhIGZ1bmN0aW9uIGNhbiByZXR1cm4gYHRydWVgIHRvIGluZGljYXRlIHRoYXQgaXQgZG9lc24ndFxud2FudCB0byBkbyBhbnl0aGluZywgYGZhbHNlYCB0byBjb21wbGV0ZWx5IHN0b3AgdGhlIGNoYW5nZXMgaW5cbnRoZSB0cmFuc2FjdGlvbiwgb3IgYSBzZXQgb2YgcmFuZ2VzIGluIHdoaWNoIGNoYW5nZXMgc2hvdWxkIGJlXG5zdXBwcmVzc2VkLiBTdWNoIHJhbmdlcyBhcmUgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgbnVtYmVycyxcbndpdGggZWFjaCBwYWlyIG9mIHR3byBudW1iZXJzIGluZGljYXRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgYVxucmFuZ2UuIFNvIGZvciBleGFtcGxlIGBbMTAsIDIwLCAxMDAsIDExMF1gIHN1cHByZXNzZXMgY2hhbmdlc1xuYmV0d2VlbiAxMCBhbmQgMjAsIGFuZCBiZXR3ZWVuIDEwMCBhbmQgMTEwLlxuKi9cbkVkaXRvclN0YXRlLmNoYW5nZUZpbHRlciA9IGNoYW5nZUZpbHRlcjtcbi8qKlxuRmFjZXQgdXNlZCB0byByZWdpc3RlciBhIGhvb2sgdGhhdCBnZXRzIGEgY2hhbmNlIHRvIHVwZGF0ZSBvclxucmVwbGFjZSB0cmFuc2FjdGlvbiBzcGVjcyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZC4gVGhpcyB3aWxsXG5vbmx5IGJlIGFwcGxpZWQgZm9yIHRyYW5zYWN0aW9ucyB0aGF0IGRvbid0IGhhdmVcbltgZmlsdGVyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSBzZXQgdG8gYGZhbHNlYC4gWW91XG5jYW4gZWl0aGVyIHJldHVybiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBzcGVjIChwb3NzaWJseSB0aGUgaW5wdXRcbnRyYW5zYWN0aW9uKSwgb3IgYW4gYXJyYXkgb2Ygc3BlY3MgKHdoaWNoIHdpbGwgYmUgY29tYmluZWQgaW5cbnRoZSBzYW1lIHdheSBhcyB0aGUgYXJndW1lbnRzIHRvXG5bYEVkaXRvclN0YXRlLnVwZGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSkuXG5cbldoZW4gcG9zc2libGUsIGl0IGlzIHJlY29tbWVuZGVkIHRvIGF2b2lkIGFjY2Vzc2luZ1xuW2BUcmFuc2FjdGlvbi5zdGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uc3RhdGUpIGluIGEgZmlsdGVyLFxuc2luY2UgaXQgd2lsbCBmb3JjZSBjcmVhdGlvbiBvZiBhIHN0YXRlIHRoYXQgd2lsbCB0aGVuIGJlXG5kaXNjYXJkZWQgYWdhaW4sIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBhY3R1YWxseSBmaWx0ZXJlZC5cblxuKFRoaXMgZnVuY3Rpb25hbGl0eSBzaG91bGQgYmUgdXNlZCB3aXRoIGNhcmUuIEluZGlzY3JpbWluYXRlbHlcbm1vZGlmeWluZyB0cmFuc2FjdGlvbiBpcyBsaWtlbHkgdG8gYnJlYWsgc29tZXRoaW5nIG9yIGRlZ3JhZGVcbnRoZSB1c2VyIGV4cGVyaWVuY2UuKVxuKi9cbkVkaXRvclN0YXRlLnRyYW5zYWN0aW9uRmlsdGVyID0gdHJhbnNhY3Rpb25GaWx0ZXI7XG4vKipcblRoaXMgaXMgYSBtb3JlIGxpbWl0ZWQgZm9ybSBvZlxuW2B0cmFuc2FjdGlvbkZpbHRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedHJhbnNhY3Rpb25GaWx0ZXIpLFxud2hpY2ggY2FuIG9ubHkgYWRkXG5bYW5ub3RhdGlvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmFubm90YXRpb25zKSBhbmRcbltlZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKS4gX0J1dF8sIHRoaXMgdHlwZVxub2YgZmlsdGVyIHJ1bnMgZXZlbiBpZiB0aGUgdHJhbnNhY3Rpb24gaGFzIGRpc2FibGVkIHJlZ3VsYXJcbltmaWx0ZXJpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmZpbHRlciksIG1ha2luZyBpdCBzdWl0YWJsZVxuZm9yIGVmZmVjdHMgdGhhdCBkb24ndCBuZWVkIHRvIHRvdWNoIHRoZSBjaGFuZ2VzIG9yIHNlbGVjdGlvbixcbmJ1dCBkbyB3YW50IHRvIHByb2Nlc3MgZXZlcnkgdHJhbnNhY3Rpb24uXG5cbkV4dGVuZGVycyBydW4gX2FmdGVyXyBmaWx0ZXJzLCB3aGVuIGJvdGggYXJlIHByZXNlbnQuXG4qL1xuRWRpdG9yU3RhdGUudHJhbnNhY3Rpb25FeHRlbmRlciA9IHRyYW5zYWN0aW9uRXh0ZW5kZXI7XG5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcblxuLyoqXG5VdGlsaXR5IGZ1bmN0aW9uIGZvciBjb21iaW5pbmcgYmVoYXZpb3JzIHRvIGZpbGwgaW4gYSBjb25maWdcbm9iamVjdCBmcm9tIGFuIGFycmF5IG9mIHByb3ZpZGVkIGNvbmZpZ3MuIGBkZWZhdWx0c2Agc2hvdWxkIGhvbGRcbmRlZmF1bHQgdmFsdWVzIGZvciBhbGwgb3B0aW9uYWwgZmllbGRzIGluIGBDb25maWdgLlxuXG5UaGUgZnVuY3Rpb24gd2lsbCwgYnkgZGVmYXVsdCwgZXJyb3JcbndoZW4gYSBmaWVsZCBnZXRzIHR3byB2YWx1ZXMgdGhhdCBhcmVuJ3QgYD09PWAtZXF1YWwsIGJ1dCB5b3UgY2FuXG5wcm92aWRlIGNvbWJpbmUgZnVuY3Rpb25zIHBlciBmaWVsZCB0byBkbyBzb21ldGhpbmcgZWxzZS5cbiovXG5mdW5jdGlvbiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIGRlZmF1bHRzLCAvLyBTaG91bGQgaG9sZCBvbmx5IHRoZSBvcHRpb25hbCBwcm9wZXJ0aWVzIG9mIENvbmZpZywgYnV0IEkgaGF2ZW4ndCBtYW5hZ2VkIHRvIGV4cHJlc3MgdGhhdFxuY29tYmluZSA9IHt9KSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdzKVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gY29uZmlnW2tleV0sIGN1cnJlbnQgPSByZXN1bHRba2V5XTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgPT09IHZhbHVlIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIDsgLy8gTm8gY29uZmxpY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbWJpbmUsIGtleSkpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBjb21iaW5lW2tleV0oY3VycmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbmZpZyBtZXJnZSBjb25mbGljdCBmb3IgZmllbGQgXCIgKyBrZXkpO1xuICAgICAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKVxuICAgICAgICBpZiAocmVzdWx0W2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbkVhY2ggcmFuZ2UgaXMgYXNzb2NpYXRlZCB3aXRoIGEgdmFsdWUsIHdoaWNoIG11c3QgaW5oZXJpdCBmcm9tXG50aGlzIGNsYXNzLlxuKi9cbmNsYXNzIFJhbmdlVmFsdWUge1xuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyB2YWx1ZSB3aXRoIGFub3RoZXIgdmFsdWUuIFVzZWQgd2hlbiBjb21wYXJpbmdcbiAgICByYW5nZXNldHMuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGNvbXBhcmVzIGJ5IGlkZW50aXR5LlxuICAgIFVubGVzcyB5b3UgYXJlIG9ubHkgY3JlYXRpbmcgYSBmaXhlZCBudW1iZXIgb2YgdW5pcXVlIGluc3RhbmNlc1xuICAgIG9mIHlvdXIgdmFsdWUgdHlwZSwgaXQgaXMgYSBnb29kIGlkZWEgdG8gaW1wbGVtZW50IHRoaXNcbiAgICBwcm9wZXJseS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiB0aGlzID09IG90aGVyOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSB3aXRoIHRoaXMgdmFsdWUuXG4gICAgKi9cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHsgcmV0dXJuIFJhbmdlLmNyZWF0ZShmcm9tLCB0bywgdGhpcyk7IH1cbn1cblJhbmdlVmFsdWUucHJvdG90eXBlLnN0YXJ0U2lkZSA9IFJhbmdlVmFsdWUucHJvdG90eXBlLmVuZFNpZGUgPSAwO1xuUmFuZ2VWYWx1ZS5wcm90b3R5cGUucG9pbnQgPSBmYWxzZTtcblJhbmdlVmFsdWUucHJvdG90eXBlLm1hcE1vZGUgPSBNYXBNb2RlLlRyYWNrRGVsO1xuLyoqXG5BIHJhbmdlIGFzc29jaWF0ZXMgYSB2YWx1ZSB3aXRoIGEgcmFuZ2Ugb2YgcG9zaXRpb25zLlxuKi9cbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIEl0cyBlbmQgcG9zaXRpb24uXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJhbmdlLlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShmcm9tLCB0bywgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShmcm9tLCB0bywgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNtcFJhbmdlKGEsIGIpIHtcbiAgICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudmFsdWUuc3RhcnRTaWRlIC0gYi52YWx1ZS5zdGFydFNpZGU7XG59XG5jbGFzcyBDaHVuayB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHZhbHVlLCBcbiAgICAvLyBDaHVua3MgYXJlIG1hcmtlZCB3aXRoIHRoZSBsYXJnZXN0IHBvaW50IHRoYXQgb2NjdXJzXG4gICAgLy8gaW4gdGhlbSAob3IgLTEgZm9yIG5vIHBvaW50cyksIHNvIHRoYXQgc2NhbnMgdGhhdCBhcmVcbiAgICAvLyBvbmx5IGludGVyZXN0ZWQgaW4gcG9pbnRzIChzdWNoIGFzIHRoZVxuICAgIC8vIGhlaWdodG1hcC1yZWxhdGVkIGxvZ2ljKSBjYW4gc2tpcCByYW5nZS1vbmx5IGNodW5rcy5cbiAgICBtYXhQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy50b1t0aGlzLnRvLmxlbmd0aCAtIDFdOyB9XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBzaWRlLiBVc2UgdGhlIHJhbmdlcydcbiAgICAvLyBgZnJvbWAgcG9zIHdoZW4gYGVuZCA9PSBmYWxzZWAsIGB0b2Agd2hlbiBgZW5kID09IHRydWVgLlxuICAgIGZpbmRJbmRleChwb3MsIHNpZGUsIGVuZCwgc3RhcnRBdCA9IDApIHtcbiAgICAgICAgbGV0IGFyciA9IGVuZCA/IHRoaXMudG8gOiB0aGlzLmZyb207XG4gICAgICAgIGZvciAobGV0IGxvID0gc3RhcnRBdCwgaGkgPSBhcnIubGVuZ3RoOzspIHtcbiAgICAgICAgICAgIGlmIChsbyA9PSBoaSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG87XG4gICAgICAgICAgICBsZXQgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IGFyclttaWRdIC0gcG9zIHx8IChlbmQgPyB0aGlzLnZhbHVlW21pZF0uZW5kU2lkZSA6IHRoaXMudmFsdWVbbWlkXS5zdGFydFNpZGUpIC0gc2lkZTtcbiAgICAgICAgICAgIGlmIChtaWQgPT0gbG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYgPj0gMCA/IGxvIDogaGk7XG4gICAgICAgICAgICBpZiAoZGlmZiA+PSAwKVxuICAgICAgICAgICAgICAgIGhpID0gbWlkO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxvID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZXR3ZWVuKG9mZnNldCwgZnJvbSwgdG8sIGYpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmluZEluZGV4KGZyb20sIC0xMDAwMDAwMDAwIC8qIEMuRmFyICovLCB0cnVlKSwgZSA9IHRoaXMuZmluZEluZGV4KHRvLCAxMDAwMDAwMDAwIC8qIEMuRmFyICovLCBmYWxzZSwgaSk7IGkgPCBlOyBpKyspXG4gICAgICAgICAgICBpZiAoZih0aGlzLmZyb21baV0gKyBvZmZzZXQsIHRoaXMudG9baV0gKyBvZmZzZXQsIHRoaXMudmFsdWVbaV0pID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1hcChvZmZzZXQsIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gW10sIGZyb20gPSBbXSwgdG8gPSBbXSwgbmV3UG9zID0gLTEsIG1heFBvaW50ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMudmFsdWVbaV0sIGN1ckZyb20gPSB0aGlzLmZyb21baV0gKyBvZmZzZXQsIGN1clRvID0gdGhpcy50b1tpXSArIG9mZnNldCwgbmV3RnJvbSwgbmV3VG87XG4gICAgICAgICAgICBpZiAoY3VyRnJvbSA9PSBjdXJUbykge1xuICAgICAgICAgICAgICAgIGxldCBtYXBwZWQgPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuc3RhcnRTaWRlLCB2YWwubWFwTW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBlZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gbmV3VG8gPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC5zdGFydFNpZGUgIT0gdmFsLmVuZFNpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuZW5kU2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUbyA8IG5ld0Zyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gY2hhbmdlcy5tYXBQb3MoY3VyRnJvbSwgdmFsLnN0YXJ0U2lkZSk7XG4gICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJUbywgdmFsLmVuZFNpZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdGcm9tID4gbmV3VG8gfHwgbmV3RnJvbSA9PSBuZXdUbyAmJiB2YWwuc3RhcnRTaWRlID4gMCAmJiB2YWwuZW5kU2lkZSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobmV3VG8gLSBuZXdGcm9tIHx8IHZhbC5lbmRTaWRlIC0gdmFsLnN0YXJ0U2lkZSkgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG5ld1BvcyA8IDApXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gbmV3RnJvbTtcbiAgICAgICAgICAgIGlmICh2YWwucG9pbnQpXG4gICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBNYXRoLm1heChtYXhQb2ludCwgbmV3VG8gLSBuZXdGcm9tKTtcbiAgICAgICAgICAgIHZhbHVlLnB1c2godmFsKTtcbiAgICAgICAgICAgIGZyb20ucHVzaChuZXdGcm9tIC0gbmV3UG9zKTtcbiAgICAgICAgICAgIHRvLnB1c2gobmV3VG8gLSBuZXdQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1hcHBlZDogdmFsdWUubGVuZ3RoID8gbmV3IENodW5rKGZyb20sIHRvLCB2YWx1ZSwgbWF4UG9pbnQpIDogbnVsbCwgcG9zOiBuZXdQb3MgfTtcbiAgICB9XG59XG4vKipcbkEgcmFuZ2Ugc2V0IHN0b3JlcyBhIGNvbGxlY3Rpb24gb2YgW3Jhbmdlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSkgaW4gYVxud2F5IHRoYXQgbWFrZXMgdGhlbSBlZmZpY2llbnQgdG8gW21hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC5tYXApIGFuZFxuW3VwZGF0ZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC51cGRhdGUpLiBUaGlzIGlzIGFuIGltbXV0YWJsZSBkYXRhXG5zdHJ1Y3R1cmUuXG4qL1xuY2xhc3MgUmFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtQb3MsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmssIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbmV4dExheWVyLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1heFBvaW50KSB7XG4gICAgICAgIHRoaXMuY2h1bmtQb3MgPSBjaHVua1BvcztcbiAgICAgICAgdGhpcy5jaHVuayA9IGNodW5rO1xuICAgICAgICB0aGlzLm5leHRMYXllciA9IG5leHRMYXllcjtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VTZXQoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY2h1bmsubGVuZ3RoIC0gMTtcbiAgICAgICAgcmV0dXJuIGxhc3QgPCAwID8gMCA6IE1hdGgubWF4KHRoaXMuY2h1bmtFbmQobGFzdCksIHRoaXMubmV4dExheWVyLmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBudW1iZXIgb2YgcmFuZ2VzIGluIHRoZSBzZXQuXG4gICAgKi9cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMubmV4dExheWVyLnNpemU7XG4gICAgICAgIGZvciAobGV0IGNodW5rIG9mIHRoaXMuY2h1bmspXG4gICAgICAgICAgICBzaXplICs9IGNodW5rLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtFbmQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtQb3NbaW5kZXhdICsgdGhpcy5jaHVua1tpbmRleF0ubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBVcGRhdGUgdGhlIHJhbmdlIHNldCwgb3B0aW9uYWxseSBhZGRpbmcgbmV3IHJhbmdlcyBvciBmaWx0ZXJpbmdcbiAgICBvdXQgZXhpc3Rpbmcgb25lcy5cbiAgICBcbiAgICAoTm90ZTogVGhlIHR5cGUgcGFyYW1ldGVyIGlzIGp1c3QgdGhlcmUgYXMgYSBrbHVkZ2UgdG8gd29ya1xuICAgIGFyb3VuZCBUeXBlU2NyaXB0IHZhcmlhbmNlIGlzc3VlcyB0aGF0IHByZXZlbnRlZCBgUmFuZ2VTZXQ8WD5gXG4gICAgZnJvbSBiZWluZyBhIHN1YnR5cGUgb2YgYFJhbmdlU2V0PFk+YCB3aGVuIGBYYCBpcyBhIHN1YnR5cGUgb2ZcbiAgICBgWWAuKVxuICAgICovXG4gICAgdXBkYXRlKHVwZGF0ZVNwZWMpIHtcbiAgICAgICAgbGV0IHsgYWRkID0gW10sIHNvcnQgPSBmYWxzZSwgZmlsdGVyRnJvbSA9IDAsIGZpbHRlclRvID0gdGhpcy5sZW5ndGggfSA9IHVwZGF0ZVNwZWM7XG4gICAgICAgIGxldCBmaWx0ZXIgPSB1cGRhdGVTcGVjLmZpbHRlcjtcbiAgICAgICAgaWYgKGFkZC5sZW5ndGggPT0gMCAmJiAhZmlsdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChzb3J0KVxuICAgICAgICAgICAgYWRkID0gYWRkLnNsaWNlKCkuc29ydChjbXBSYW5nZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gYWRkLmxlbmd0aCA/IFJhbmdlU2V0Lm9mKGFkZCkgOiB0aGlzO1xuICAgICAgICBsZXQgY3VyID0gbmV3IExheWVyQ3Vyc29yKHRoaXMsIG51bGwsIC0xKS5nb3RvKDApLCBpID0gMCwgc3BpbGwgPSBbXTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIHdoaWxlIChjdXIudmFsdWUgfHwgaSA8IGFkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpIDwgYWRkLmxlbmd0aCAmJiAoY3VyLmZyb20gLSBhZGRbaV0uZnJvbSB8fCBjdXIuc3RhcnRTaWRlIC0gYWRkW2ldLnZhbHVlLnN0YXJ0U2lkZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGFkZFtpKytdO1xuICAgICAgICAgICAgICAgIGlmICghYnVpbGRlci5hZGRJbm5lcihyYW5nZS5mcm9tLCByYW5nZS50bywgcmFuZ2UudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ci5yYW5nZUluZGV4ID09IDEgJiYgY3VyLmNodW5rSW5kZXggPCB0aGlzLmNodW5rLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIChpID09IGFkZC5sZW5ndGggfHwgdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgPCBhZGRbaV0uZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgfHwgZmlsdGVyVG8gPCB0aGlzLmNodW5rUG9zW2N1ci5jaHVua0luZGV4XSkgJiZcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFkZENodW5rKHRoaXMuY2h1bmtQb3NbY3VyLmNodW5rSW5kZXhdLCB0aGlzLmNodW5rW2N1ci5jaHVua0luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBjdXIubmV4dENodW5rKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gY3VyLnRvIHx8IGZpbHRlclRvIDwgY3VyLmZyb20gfHwgZmlsdGVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWlsZGVyLmFkZElubmVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKFJhbmdlLmNyZWF0ZShjdXIuZnJvbSwgY3VyLnRvLCBjdXIudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2hJbm5lcih0aGlzLm5leHRMYXllci5pc0VtcHR5ICYmICFzcGlsbC5sZW5ndGggPyBSYW5nZVNldC5lbXB0eVxuICAgICAgICAgICAgOiB0aGlzLm5leHRMYXllci51cGRhdGUoeyBhZGQ6IHNwaWxsLCBmaWx0ZXIsIGZpbHRlckZyb20sIGZpbHRlclRvIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgcmFuZ2Ugc2V0IHRocm91Z2ggYSBzZXQgb2YgY2hhbmdlcywgcmV0dXJuIHRoZSBuZXcgc2V0LlxuICAgICovXG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuZW1wdHkgfHwgdGhpcy5pc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCBjaHVua3MgPSBbXSwgY2h1bmtQb3MgPSBbXSwgbWF4UG9pbnQgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmNodW5rUG9zW2ldLCBjaHVuayA9IHRoaXMuY2h1bmtbaV07XG4gICAgICAgICAgICBsZXQgdG91Y2ggPSBjaGFuZ2VzLnRvdWNoZXNSYW5nZShzdGFydCwgc3RhcnQgKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHRvdWNoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIGNodW5rLm1heFBvaW50KTtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgY2h1bmtQb3MucHVzaChjaGFuZ2VzLm1hcFBvcyhzdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG91Y2ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBtYXBwZWQsIHBvcyB9ID0gY2h1bmsubWFwKHN0YXJ0LCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIG1hcHBlZC5tYXhQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKG1hcHBlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rUG9zLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLm5leHRMYXllci5tYXAoY2hhbmdlcyk7XG4gICAgICAgIHJldHVybiBjaHVua3MubGVuZ3RoID09IDAgPyBuZXh0IDogbmV3IFJhbmdlU2V0KGNodW5rUG9zLCBjaHVua3MsIG5leHQgfHwgUmFuZ2VTZXQuZW1wdHksIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSByYW5nZXMgdGhhdCB0b3VjaCB0aGUgcmVnaW9uIGBmcm9tYCB0byBgdG9gLFxuICAgIGNhbGxpbmcgYGZgIGZvciBlYWNoLiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgcmFuZ2VzIHdpbGxcbiAgICBiZSByZXBvcnRlZCBpbiBhbnkgc3BlY2lmaWMgb3JkZXIuIFdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnNcbiAgICBgZmFsc2VgLCBpdGVyYXRpb24gc3RvcHMuXG4gICAgKi9cbiAgICBiZXR3ZWVuKGZyb20sIHRvLCBmKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5jaHVua1Bvc1tpXSwgY2h1bmsgPSB0aGlzLmNodW5rW2ldO1xuICAgICAgICAgICAgaWYgKHRvID49IHN0YXJ0ICYmIGZyb20gPD0gc3RhcnQgKyBjaHVuay5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBjaHVuay5iZXR3ZWVuKHN0YXJ0LCBmcm9tIC0gc3RhcnQsIHRvIC0gc3RhcnQsIGYpID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0TGF5ZXIuYmV0d2Vlbihmcm9tLCB0bywgZik7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIHRoaXMgc2V0LCBpbiBvcmRlciwgaW5jbHVkaW5nIGFsbFxuICAgIHJhbmdlcyB0aGF0IGVuZCBhdCBvciBhZnRlciBgZnJvbWAuXG4gICAgKi9cbiAgICBpdGVyKGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oW3RoaXNdKS5nb3RvKGZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkgeyByZXR1cm4gdGhpcy5uZXh0TGF5ZXIgPT0gdGhpczsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIGEgY29sbGVjdGlvbiBvZiBzZXRzLCBpbiBvcmRlcixcbiAgICBzdGFydGluZyBmcm9tIGBmcm9tYC5cbiAgICAqL1xuICAgIHN0YXRpYyBpdGVyKHNldHMsIGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oc2V0cykuZ290byhmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHR3byBncm91cHMgb2Ygc2V0cywgY2FsbGluZyBtZXRob2RzIG9uIGBjb21wYXJhdG9yYFxuICAgIHRvIG5vdGlmeSBpdCBvZiBwb3NzaWJsZSBkaWZmZXJlbmNlcy5cbiAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlKG9sZFNldHMsIG5ld1NldHMsIFxuICAgIC8qKlxuICAgIFRoaXMgaW5kaWNhdGVzIGhvdyB0aGUgdW5kZXJseWluZyBkYXRhIGNoYW5nZWQgYmV0d2VlbiB0aGVzZVxuICAgIHJhbmdlcywgYW5kIGlzIG5lZWRlZCB0byBzeW5jaHJvbml6ZSB0aGUgaXRlcmF0aW9uLlxuICAgICovXG4gICAgdGV4dERpZmYsIGNvbXBhcmF0b3IsIFxuICAgIC8qKlxuICAgIENhbiBiZSB1c2VkIHRvIGlnbm9yZSBhbGwgbm9uLXBvaW50IHJhbmdlcywgYW5kIHBvaW50cyBiZWxvd1xuICAgIHRoZSBnaXZlbiBzaXplLiBXaGVuIC0xLCBhbGwgcmFuZ2VzIGFyZSBjb21wYXJlZC5cbiAgICAqL1xuICAgIG1pblBvaW50U2l6ZSA9IC0xKSB7XG4gICAgICAgIGxldCBhID0gb2xkU2V0cy5maWx0ZXIoc2V0ID0+IHNldC5tYXhQb2ludCA+IDAgfHwgIXNldC5pc0VtcHR5ICYmIHNldC5tYXhQb2ludCA+PSBtaW5Qb2ludFNpemUpO1xuICAgICAgICBsZXQgYiA9IG5ld1NldHMuZmlsdGVyKHNldCA9PiBzZXQubWF4UG9pbnQgPiAwIHx8ICFzZXQuaXNFbXB0eSAmJiBzZXQubWF4UG9pbnQgPj0gbWluUG9pbnRTaXplKTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYiwgdGV4dERpZmYpO1xuICAgICAgICBsZXQgc2lkZUEgPSBuZXcgU3BhbkN1cnNvcihhLCBzaGFyZWRDaHVua3MsIG1pblBvaW50U2l6ZSk7XG4gICAgICAgIGxldCBzaWRlQiA9IG5ldyBTcGFuQ3Vyc29yKGIsIHNoYXJlZENodW5rcywgbWluUG9pbnRTaXplKTtcbiAgICAgICAgdGV4dERpZmYuaXRlckdhcHMoKGZyb21BLCBmcm9tQiwgbGVuZ3RoKSA9PiBjb21wYXJlKHNpZGVBLCBmcm9tQSwgc2lkZUIsIGZyb21CLCBsZW5ndGgsIGNvbXBhcmF0b3IpKTtcbiAgICAgICAgaWYgKHRleHREaWZmLmVtcHR5ICYmIHRleHREaWZmLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgY29tcGFyZShzaWRlQSwgMCwgc2lkZUIsIDAsIDAsIGNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoZSBjb250ZW50cyBvZiB0d28gZ3JvdXBzIG9mIHJhbmdlIHNldHMsIHJldHVybmluZyB0cnVlXG4gICAgaWYgdGhleSBhcmUgZXF1aXZhbGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZXEob2xkU2V0cywgbmV3U2V0cywgZnJvbSA9IDAsIHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKVxuICAgICAgICAgICAgdG8gPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovIC0gMTtcbiAgICAgICAgbGV0IGEgPSBvbGRTZXRzLmZpbHRlcihzZXQgPT4gIXNldC5pc0VtcHR5ICYmIG5ld1NldHMuaW5kZXhPZihzZXQpIDwgMCk7XG4gICAgICAgIGxldCBiID0gbmV3U2V0cy5maWx0ZXIoc2V0ID0+ICFzZXQuaXNFbXB0eSAmJiBvbGRTZXRzLmluZGV4T2Yoc2V0KSA8IDApO1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghYS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYik7XG4gICAgICAgIGxldCBzaWRlQSA9IG5ldyBTcGFuQ3Vyc29yKGEsIHNoYXJlZENodW5rcywgMCkuZ290byhmcm9tKSwgc2lkZUIgPSBuZXcgU3BhbkN1cnNvcihiLCBzaGFyZWRDaHVua3MsIDApLmdvdG8oZnJvbSk7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChzaWRlQS50byAhPSBzaWRlQi50byB8fFxuICAgICAgICAgICAgICAgICFzYW1lVmFsdWVzKHNpZGVBLmFjdGl2ZSwgc2lkZUIuYWN0aXZlKSB8fFxuICAgICAgICAgICAgICAgIHNpZGVBLnBvaW50ICYmICghc2lkZUIucG9pbnQgfHwgIXNpZGVBLnBvaW50LmVxKHNpZGVCLnBvaW50KSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNpZGVBLnRvID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzaWRlQS5uZXh0KCk7XG4gICAgICAgICAgICBzaWRlQi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgZ3JvdXAgb2YgcmFuZ2Ugc2V0cyBhdCB0aGUgc2FtZSB0aW1lLCBub3RpZnlpbmdcbiAgICB0aGUgaXRlcmF0b3IgYWJvdXQgdGhlIHJhbmdlcyBjb3ZlcmluZyBldmVyeSBnaXZlbiBwaWVjZSBvZlxuICAgIGNvbnRlbnQuIFJldHVybnMgdGhlIG9wZW4gY291bnQgKHNlZVxuICAgIFtgU3Bhbkl0ZXJhdG9yLnNwYW5gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNwYW5JdGVyYXRvci5zcGFuKSkgYXQgdGhlIGVuZFxuICAgIG9mIHRoZSBpdGVyYXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgc3BhbnMoc2V0cywgZnJvbSwgdG8sIGl0ZXJhdG9yLCBcbiAgICAvKipcbiAgICBXaGVuIGdpdmVuIGFuZCBncmVhdGVyIHRoYW4gLTEsIG9ubHkgcG9pbnRzIG9mIGF0IGxlYXN0IHRoaXNcbiAgICBzaXplIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAgKi9cbiAgICBtaW5Qb2ludFNpemUgPSAtMSkge1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFNwYW5DdXJzb3Ioc2V0cywgbnVsbCwgbWluUG9pbnRTaXplKS5nb3RvKGZyb20pLCBwb3MgPSBmcm9tO1xuICAgICAgICBsZXQgb3BlblJhbmdlcyA9IGN1cnNvci5vcGVuU3RhcnQ7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBjdXJUbyA9IE1hdGgubWluKGN1cnNvci50bywgdG8pO1xuICAgICAgICAgICAgaWYgKGN1cnNvci5wb2ludCkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSBjdXJzb3IuYWN0aXZlRm9yUG9pbnQoY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBsZXQgb3BlbkNvdW50ID0gY3Vyc29yLnBvaW50RnJvbSA8IGZyb20gPyBhY3RpdmUubGVuZ3RoICsgMVxuICAgICAgICAgICAgICAgICAgICA6IGN1cnNvci5wb2ludC5zdGFydFNpZGUgPCAwID8gYWN0aXZlLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLm1pbihhY3RpdmUubGVuZ3RoLCBvcGVuUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5wb2ludChwb3MsIGN1clRvLCBjdXJzb3IucG9pbnQsIGFjdGl2ZSwgb3BlbkNvdW50LCBjdXJzb3IucG9pbnRSYW5rKTtcbiAgICAgICAgICAgICAgICBvcGVuUmFuZ2VzID0gTWF0aC5taW4oY3Vyc29yLm9wZW5FbmQoY3VyVG8pLCBhY3RpdmUubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1clRvID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3Bhbihwb3MsIGN1clRvLCBjdXJzb3IuYWN0aXZlLCBvcGVuUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICBvcGVuUmFuZ2VzID0gY3Vyc29yLm9wZW5FbmQoY3VyVG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnNvci50byA+IHRvKVxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVuUmFuZ2VzICsgKGN1cnNvci5wb2ludCAmJiBjdXJzb3IudG8gPiB0byA/IDEgOiAwKTtcbiAgICAgICAgICAgIHBvcyA9IGN1cnNvci50bztcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcmFuZ2Ugc2V0IGZvciB0aGUgZ2l2ZW4gcmFuZ2Ugb3IgYXJyYXkgb2YgcmFuZ2VzLiBCeVxuICAgIGRlZmF1bHQsIHRoaXMgZXhwZWN0cyB0aGUgcmFuZ2VzIHRvIGJlIF9zb3J0ZWRfIChieSBzdGFydFxuICAgIHBvc2l0aW9uIGFuZCwgaWYgdHdvIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uLFxuICAgIGB2YWx1ZS5zdGFydFNpZGVgKS4gWW91IGNhbiBwYXNzIGB0cnVlYCBhcyBzZWNvbmQgYXJndW1lbnQgdG9cbiAgICBjYXVzZSB0aGUgbWV0aG9kIHRvIHNvcnQgdGhlbS5cbiAgICAqL1xuICAgIHN0YXRpYyBvZihyYW5nZXMsIHNvcnQgPSBmYWxzZSkge1xuICAgICAgICBsZXQgYnVpbGQgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHJhbmdlcyBpbnN0YW5jZW9mIFJhbmdlID8gW3Jhbmdlc10gOiBzb3J0ID8gbGF6eVNvcnQocmFuZ2VzKSA6IHJhbmdlcylcbiAgICAgICAgICAgIGJ1aWxkLmFkZChyYW5nZS5mcm9tLCByYW5nZS50bywgcmFuZ2UudmFsdWUpO1xuICAgICAgICByZXR1cm4gYnVpbGQuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEpvaW4gYW4gYXJyYXkgb2YgcmFuZ2Ugc2V0cyBpbnRvIGEgc2luZ2xlIHNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBqb2luKHNldHMpIHtcbiAgICAgICAgaWYgKCFzZXRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBSYW5nZVNldC5lbXB0eTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNldHNbc2V0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNldHMubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGxheWVyID0gc2V0c1tpXTsgbGF5ZXIgIT0gUmFuZ2VTZXQuZW1wdHk7IGxheWVyID0gbGF5ZXIubmV4dExheWVyKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBSYW5nZVNldChsYXllci5jaHVua1BvcywgbGF5ZXIuY2h1bmssIHJlc3VsdCwgTWF0aC5tYXgobGF5ZXIubWF4UG9pbnQsIHJlc3VsdC5tYXhQb2ludCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5UaGUgZW1wdHkgc2V0IG9mIHJhbmdlcy5cbiovXG5SYW5nZVNldC5lbXB0eSA9IC8qQF9fUFVSRV9fKi9uZXcgUmFuZ2VTZXQoW10sIFtdLCBudWxsLCAtMSk7XG5mdW5jdGlvbiBsYXp5U29ydChyYW5nZXMpIHtcbiAgICBpZiAocmFuZ2VzLmxlbmd0aCA+IDEpXG4gICAgICAgIGZvciAobGV0IHByZXYgPSByYW5nZXNbMF0sIGkgPSAxOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKGNtcFJhbmdlKHByZXYsIGN1cikgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZXMuc2xpY2UoKS5zb3J0KGNtcFJhbmdlKTtcbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuUmFuZ2VTZXQuZW1wdHkubmV4dExheWVyID0gUmFuZ2VTZXQuZW1wdHk7XG4vKipcbkEgcmFuZ2Ugc2V0IGJ1aWxkZXIgaXMgYSBkYXRhIHN0cnVjdHVyZSB0aGF0IGhlbHBzIGJ1aWxkIHVwIGFcbltyYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQpIGRpcmVjdGx5LCB3aXRob3V0IGZpcnN0IGFsbG9jYXRpbmdcbmFuIGFycmF5IG9mIFtgUmFuZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSBvYmplY3RzLlxuKi9cbmNsYXNzIFJhbmdlU2V0QnVpbGRlciB7XG4gICAgZmluaXNoQ2h1bmsobmV3QXJyYXlzKSB7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobmV3IENodW5rKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy52YWx1ZSwgdGhpcy5tYXhQb2ludCkpO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0KTtcbiAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMuc2V0TWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLnNldE1heFBvaW50LCB0aGlzLm1heFBvaW50KTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICBpZiAobmV3QXJyYXlzKSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZW1wdHkgYnVpbGRlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUG9zID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RGcm9tID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMubGFzdFRvID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMuZnJvbSA9IFtdO1xuICAgICAgICB0aGlzLnRvID0gW107XG4gICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICB0aGlzLnNldE1heFBvaW50ID0gLTE7XG4gICAgICAgIHRoaXMubmV4dExheWVyID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkIGEgcmFuZ2UuIFJhbmdlcyBzaG91bGQgYmUgYWRkZWQgaW4gc29ydGVkIChieSBgZnJvbWAgYW5kXG4gICAgYHZhbHVlLnN0YXJ0U2lkZWApIG9yZGVyLlxuICAgICovXG4gICAgYWRkKGZyb20sIHRvLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuYWRkSW5uZXIoZnJvbSwgdG8sIHZhbHVlKSlcbiAgICAgICAgICAgICh0aGlzLm5leHRMYXllciB8fCAodGhpcy5uZXh0TGF5ZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKSkuYWRkKGZyb20sIHRvLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYWRkSW5uZXIoZnJvbSwgdG8sIHZhbHVlKSB7XG4gICAgICAgIGxldCBkaWZmID0gZnJvbSAtIHRoaXMubGFzdFRvIHx8IHZhbHVlLnN0YXJ0U2lkZSAtIHRoaXMubGFzdC5lbmRTaWRlO1xuICAgICAgICBpZiAoZGlmZiA8PSAwICYmIChmcm9tIC0gdGhpcy5sYXN0RnJvbSB8fCB2YWx1ZS5zdGFydFNpZGUgLSB0aGlzLmxhc3Quc3RhcnRTaWRlKSA8IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZXMgbXVzdCBiZSBhZGRlZCBzb3J0ZWQgYnkgYGZyb21gIHBvc2l0aW9uIGFuZCBgc3RhcnRTaWRlYFwiKTtcbiAgICAgICAgaWYgKGRpZmYgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aCA9PSAyNTAgLyogQy5DaHVua1NpemUgKi8pXG4gICAgICAgICAgICB0aGlzLmZpbmlzaENodW5rKHRydWUpO1xuICAgICAgICBpZiAodGhpcy5jaHVua1N0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IGZyb207XG4gICAgICAgIHRoaXMuZnJvbS5wdXNoKGZyb20gLSB0aGlzLmNodW5rU3RhcnQpO1xuICAgICAgICB0aGlzLnRvLnB1c2godG8gLSB0aGlzLmNodW5rU3RhcnQpO1xuICAgICAgICB0aGlzLmxhc3QgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5sYXN0RnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMubGFzdFRvID0gdG87XG4gICAgICAgIHRoaXMudmFsdWUucHVzaCh2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZS5wb2ludClcbiAgICAgICAgICAgIHRoaXMubWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLm1heFBvaW50LCB0byAtIGZyb20pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBhZGRDaHVuayhmcm9tLCBjaHVuaykge1xuICAgICAgICBpZiAoKGZyb20gLSB0aGlzLmxhc3RUbyB8fCBjaHVuay52YWx1ZVswXS5zdGFydFNpZGUgLSB0aGlzLmxhc3QuZW5kU2lkZSkgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0TWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLnNldE1heFBvaW50LCBjaHVuay5tYXhQb2ludCk7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2goZnJvbSk7XG4gICAgICAgIGxldCBsYXN0ID0gY2h1bmsudmFsdWUubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5sYXN0ID0gY2h1bmsudmFsdWVbbGFzdF07XG4gICAgICAgIHRoaXMubGFzdEZyb20gPSBjaHVuay5mcm9tW2xhc3RdICsgZnJvbTtcbiAgICAgICAgdGhpcy5sYXN0VG8gPSBjaHVuay50b1tsYXN0XSArIGZyb207XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5pc2ggdGhlIHJhbmdlIHNldC4gUmV0dXJucyB0aGUgbmV3IHNldC4gVGhlIGJ1aWxkZXIgY2FuJ3QgYmVcbiAgICB1c2VkIGFueW1vcmUgYWZ0ZXIgdGhpcyBoYXMgYmVlbiBjYWxsZWQuXG4gICAgKi9cbiAgICBmaW5pc2goKSB7IHJldHVybiB0aGlzLmZpbmlzaElubmVyKFJhbmdlU2V0LmVtcHR5KTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmluaXNoSW5uZXIobmV4dCkge1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsoZmFsc2UpO1xuICAgICAgICBpZiAodGhpcy5jaHVua3MubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFJhbmdlU2V0LmNyZWF0ZSh0aGlzLmNodW5rUG9zLCB0aGlzLmNodW5rcywgdGhpcy5uZXh0TGF5ZXIgPyB0aGlzLm5leHRMYXllci5maW5pc2hJbm5lcihuZXh0KSA6IG5leHQsIHRoaXMuc2V0TWF4UG9pbnQpO1xuICAgICAgICB0aGlzLmZyb20gPSBudWxsOyAvLyBNYWtlIHN1cmUgZnVydGhlciBgYWRkYCBjYWxscyBwcm9kdWNlIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmRTaGFyZWRDaHVua3MoYSwgYiwgdGV4dERpZmYpIHtcbiAgICBsZXQgaW5BID0gbmV3IE1hcCgpO1xuICAgIGZvciAobGV0IHNldCBvZiBhKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5jaHVuay5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChzZXQuY2h1bmtbaV0ubWF4UG9pbnQgPD0gMClcbiAgICAgICAgICAgICAgICBpbkEuc2V0KHNldC5jaHVua1tpXSwgc2V0LmNodW5rUG9zW2ldKTtcbiAgICBsZXQgc2hhcmVkID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IHNldCBvZiBiKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGtub3duID0gaW5BLmdldChzZXQuY2h1bmtbaV0pO1xuICAgICAgICAgICAgaWYgKGtub3duICE9IG51bGwgJiYgKHRleHREaWZmID8gdGV4dERpZmYubWFwUG9zKGtub3duKSA6IGtub3duKSA9PSBzZXQuY2h1bmtQb3NbaV0gJiZcbiAgICAgICAgICAgICAgICAhKHRleHREaWZmID09PSBudWxsIHx8IHRleHREaWZmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0RGlmZi50b3VjaGVzUmFuZ2Uoa25vd24sIGtub3duICsgc2V0LmNodW5rW2ldLmxlbmd0aCkpKVxuICAgICAgICAgICAgICAgIHNoYXJlZC5hZGQoc2V0LmNodW5rW2ldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBzaGFyZWQ7XG59XG5jbGFzcyBMYXllckN1cnNvciB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNraXAsIG1pblBvaW50LCByYW5rID0gMCkge1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuc2tpcCA9IHNraXA7XG4gICAgICAgIHRoaXMubWluUG9pbnQgPSBtaW5Qb2ludDtcbiAgICAgICAgdGhpcy5yYW5rID0gcmFuaztcbiAgICB9XG4gICAgZ2V0IHN0YXJ0U2lkZSgpIHsgcmV0dXJuIHRoaXMudmFsdWUgPyB0aGlzLnZhbHVlLnN0YXJ0U2lkZSA6IDA7IH1cbiAgICBnZXQgZW5kU2lkZSgpIHsgcmV0dXJuIHRoaXMudmFsdWUgPyB0aGlzLnZhbHVlLmVuZFNpZGUgOiAwOyB9XG4gICAgZ290byhwb3MsIHNpZGUgPSAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLykge1xuICAgICAgICB0aGlzLmNodW5rSW5kZXggPSB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmdvdG9Jbm5lcihwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdvdG9Jbm5lcihwb3MsIHNpZGUsIGZvcndhcmQpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuc2tpcCAmJiB0aGlzLnNraXAuaGFzKG5leHQpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5jaHVua0VuZCh0aGlzLmNodW5rSW5kZXgpIDwgcG9zIHx8XG4gICAgICAgICAgICAgICAgbmV4dC5tYXhQb2ludCA8IHRoaXMubWluUG9pbnQpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICBmb3J3YXJkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VJbmRleCA9IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XS5maW5kSW5kZXgocG9zIC0gdGhpcy5sYXllci5jaHVua1Bvc1t0aGlzLmNodW5rSW5kZXhdLCBzaWRlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghZm9yd2FyZCB8fCB0aGlzLnJhbmdlSW5kZXggPCByYW5nZUluZGV4KVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2VJbmRleChyYW5nZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gICAgZm9yd2FyZChwb3MsIHNpZGUpIHtcbiAgICAgICAgaWYgKCh0aGlzLnRvIC0gcG9zIHx8IHRoaXMuZW5kU2lkZSAtIHNpZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMuZ290b0lubmVyKHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNodW5rSW5kZXggPT0gdGhpcy5sYXllci5jaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb20gPSB0aGlzLnRvID0gMTAwMDAwMDAwMCAvKiBDLkZhciAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjaHVua1BvcyA9IHRoaXMubGF5ZXIuY2h1bmtQb3NbdGhpcy5jaHVua0luZGV4XSwgY2h1bmsgPSB0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBjaHVua1BvcyArIGNodW5rLmZyb21bdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSBjaHVua1BvcyArIGNodW5rLnRvW3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGNodW5rLnZhbHVlW3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSYW5nZUluZGV4KHRoaXMucmFuZ2VJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pblBvaW50IDwgMCB8fCB0aGlzLnZhbHVlLnBvaW50ICYmIHRoaXMudG8gLSB0aGlzLmZyb20gPj0gdGhpcy5taW5Qb2ludClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmFuZ2VJbmRleChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5za2lwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoICYmIHRoaXMuc2tpcC5oYXModGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dENodW5rKCkge1xuICAgICAgICB0aGlzLmNodW5rSW5kZXgrKztcbiAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfVxuICAgIGNvbXBhcmUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbSAtIG90aGVyLmZyb20gfHwgdGhpcy5zdGFydFNpZGUgLSBvdGhlci5zdGFydFNpZGUgfHwgdGhpcy5yYW5rIC0gb3RoZXIucmFuayB8fFxuICAgICAgICAgICAgdGhpcy50byAtIG90aGVyLnRvIHx8IHRoaXMuZW5kU2lkZSAtIG90aGVyLmVuZFNpZGU7XG4gICAgfVxufVxuY2xhc3MgSGVhcEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoaGVhcCkge1xuICAgICAgICB0aGlzLmhlYXAgPSBoZWFwO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShzZXRzLCBza2lwID0gbnVsbCwgbWluUG9pbnQgPSAtMSkge1xuICAgICAgICBsZXQgaGVhcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGN1ciA9IHNldHNbaV07ICFjdXIuaXNFbXB0eTsgY3VyID0gY3VyLm5leHRMYXllcikge1xuICAgICAgICAgICAgICAgIGlmIChjdXIubWF4UG9pbnQgPj0gbWluUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGhlYXAucHVzaChuZXcgTGF5ZXJDdXJzb3IoY3VyLCBza2lwLCBtaW5Qb2ludCwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFwLmxlbmd0aCA9PSAxID8gaGVhcFswXSA6IG5ldyBIZWFwQ3Vyc29yKGhlYXApO1xuICAgIH1cbiAgICBnZXQgc3RhcnRTaWRlKCkgeyByZXR1cm4gdGhpcy52YWx1ZSA/IHRoaXMudmFsdWUuc3RhcnRTaWRlIDogMDsgfVxuICAgIGdvdG8ocG9zLCBzaWRlID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi8pIHtcbiAgICAgICAgZm9yIChsZXQgY3VyIG9mIHRoaXMuaGVhcClcbiAgICAgICAgICAgIGN1ci5nb3RvKHBvcywgc2lkZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhlYXAubGVuZ3RoID4+IDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgaGVhcEJ1YmJsZSh0aGlzLmhlYXAsIGkpO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZvcndhcmQocG9zLCBzaWRlKSB7XG4gICAgICAgIGZvciAobGV0IGN1ciBvZiB0aGlzLmhlYXApXG4gICAgICAgICAgICBjdXIuZm9yd2FyZChwb3MsIHNpZGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5oZWFwLmxlbmd0aCA+PiAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIGhlYXBCdWJibGUodGhpcy5oZWFwLCBpKTtcbiAgICAgICAgaWYgKCh0aGlzLnRvIC0gcG9zIHx8IHRoaXMudmFsdWUuZW5kU2lkZSAtIHNpZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5oZWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSB0aGlzLnRvID0gMTAwMDAwMDAwMCAvKiBDLkZhciAqLztcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yYW5rID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdG9wID0gdGhpcy5oZWFwWzBdO1xuICAgICAgICAgICAgdGhpcy5mcm9tID0gdG9wLmZyb207XG4gICAgICAgICAgICB0aGlzLnRvID0gdG9wLnRvO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRvcC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucmFuayA9IHRvcC5yYW5rO1xuICAgICAgICAgICAgaWYgKHRvcC52YWx1ZSlcbiAgICAgICAgICAgICAgICB0b3AubmV4dCgpO1xuICAgICAgICAgICAgaGVhcEJ1YmJsZSh0aGlzLmhlYXAsIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaGVhcEJ1YmJsZShoZWFwLCBpbmRleCkge1xuICAgIGZvciAobGV0IGN1ciA9IGhlYXBbaW5kZXhdOzspIHtcbiAgICAgICAgbGV0IGNoaWxkSW5kZXggPSAoaW5kZXggPDwgMSkgKyAxO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBoZWFwLmxlbmd0aClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsZXQgY2hpbGQgPSBoZWFwW2NoaWxkSW5kZXhdO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCArIDEgPCBoZWFwLmxlbmd0aCAmJiBjaGlsZC5jb21wYXJlKGhlYXBbY2hpbGRJbmRleCArIDFdKSA+PSAwKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGhlYXBbY2hpbGRJbmRleCArIDFdO1xuICAgICAgICAgICAgY2hpbGRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXIuY29tcGFyZShjaGlsZCkgPCAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGhlYXBbY2hpbGRJbmRleF0gPSBjdXI7XG4gICAgICAgIGhlYXBbaW5kZXhdID0gY2hpbGQ7XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICB9XG59XG5jbGFzcyBTcGFuQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihzZXRzLCBza2lwLCBtaW5Qb2ludCkge1xuICAgICAgICB0aGlzLm1pblBvaW50ID0gbWluUG9pbnQ7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlVG8gPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVSYW5rID0gW107XG4gICAgICAgIHRoaXMubWluQWN0aXZlID0gLTE7XG4gICAgICAgIC8vIEEgY3VycmVudGx5IGFjdGl2ZSBwb2ludCByYW5nZSwgaWYgYW55XG4gICAgICAgIHRoaXMucG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBvaW50RnJvbSA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRSYW5rID0gMDtcbiAgICAgICAgdGhpcy50byA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICB0aGlzLmVuZFNpZGUgPSAwO1xuICAgICAgICAvLyBUaGUgYW1vdW50IG9mIG9wZW4gYWN0aXZlIHJhbmdlcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAvLyBOb3QgaW5jbHVkaW5nIHBvaW50cy5cbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBIZWFwQ3Vyc29yLmZyb20oc2V0cywgc2tpcCwgbWluUG9pbnQpO1xuICAgIH1cbiAgICBnb3RvKHBvcywgc2lkZSA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yLmdvdG8ocG9zLCBzaWRlKTtcbiAgICAgICAgdGhpcy5hY3RpdmUubGVuZ3RoID0gdGhpcy5hY3RpdmVUby5sZW5ndGggPSB0aGlzLmFjdGl2ZVJhbmsubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5taW5BY3RpdmUgPSAtMTtcbiAgICAgICAgdGhpcy50byA9IHBvcztcbiAgICAgICAgdGhpcy5lbmRTaWRlID0gc2lkZTtcbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmb3J3YXJkKHBvcywgc2lkZSkge1xuICAgICAgICB3aGlsZSAodGhpcy5taW5BY3RpdmUgPiAtMSAmJiAodGhpcy5hY3RpdmVUb1t0aGlzLm1pbkFjdGl2ZV0gLSBwb3MgfHwgdGhpcy5hY3RpdmVbdGhpcy5taW5BY3RpdmVdLmVuZFNpZGUgLSBzaWRlKSA8IDApXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZSh0aGlzLm1pbkFjdGl2ZSk7XG4gICAgICAgIHRoaXMuY3Vyc29yLmZvcndhcmQocG9zLCBzaWRlKTtcbiAgICB9XG4gICAgcmVtb3ZlQWN0aXZlKGluZGV4KSB7XG4gICAgICAgIHJlbW92ZSh0aGlzLmFjdGl2ZSwgaW5kZXgpO1xuICAgICAgICByZW1vdmUodGhpcy5hY3RpdmVUbywgaW5kZXgpO1xuICAgICAgICByZW1vdmUodGhpcy5hY3RpdmVSYW5rLCBpbmRleCk7XG4gICAgICAgIHRoaXMubWluQWN0aXZlID0gZmluZE1pbkluZGV4KHRoaXMuYWN0aXZlLCB0aGlzLmFjdGl2ZVRvKTtcbiAgICB9XG4gICAgYWRkQWN0aXZlKHRyYWNrT3Blbikge1xuICAgICAgICBsZXQgaSA9IDAsIHsgdmFsdWUsIHRvLCByYW5rIH0gPSB0aGlzLmN1cnNvcjtcbiAgICAgICAgLy8gT3JnYW5pemUgYWN0aXZlIG1hcmtzIGJ5IHJhbmsgZmlyc3QsIHRoZW4gYnkgc2l6ZVxuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuYWN0aXZlUmFuay5sZW5ndGggJiYgKHJhbmsgLSB0aGlzLmFjdGl2ZVJhbmtbaV0gfHwgdG8gLSB0aGlzLmFjdGl2ZVRvW2ldKSA+IDApXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIGluc2VydCh0aGlzLmFjdGl2ZSwgaSwgdmFsdWUpO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVUbywgaSwgdG8pO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVSYW5rLCBpLCByYW5rKTtcbiAgICAgICAgaWYgKHRyYWNrT3BlbilcbiAgICAgICAgICAgIGluc2VydCh0cmFja09wZW4sIGksIHRoaXMuY3Vyc29yLmZyb20pO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IGZpbmRNaW5JbmRleCh0aGlzLmFjdGl2ZSwgdGhpcy5hY3RpdmVUbyk7XG4gICAgfVxuICAgIC8vIEFmdGVyIGNhbGxpbmcgdGhpcywgaWYgYHRoaXMucG9pbnRgICE9IG51bGwsIHRoZSBuZXh0IHJhbmdlIGlzIGFcbiAgICAvLyBwb2ludC4gT3RoZXJ3aXNlLCBpdCdzIGEgcmVndWxhciByYW5nZSwgY292ZXJlZCBieSBgdGhpcy5hY3RpdmVgLlxuICAgIG5leHQoKSB7XG4gICAgICAgIGxldCBmcm9tID0gdGhpcy50bywgd2FzUG9pbnQgPSB0aGlzLnBvaW50O1xuICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IHRyYWNrT3BlbiA9IHRoaXMub3BlblN0YXJ0IDwgMCA/IFtdIDogbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLm1pbkFjdGl2ZTtcbiAgICAgICAgICAgIGlmIChhID4gLTEgJiYgKHRoaXMuYWN0aXZlVG9bYV0gLSB0aGlzLmN1cnNvci5mcm9tIHx8IHRoaXMuYWN0aXZlW2FdLmVuZFNpZGUgLSB0aGlzLmN1cnNvci5zdGFydFNpZGUpIDwgMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVRvW2FdID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5hY3RpdmVUb1thXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRTaWRlID0gdGhpcy5hY3RpdmVbYV0uZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlKGEpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja09wZW4pXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0cmFja09wZW4sIGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3Vyc29yLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50byA9IHRoaXMuZW5kU2lkZSA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvci5mcm9tID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSB0aGlzLmN1cnNvci5mcm9tO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IHRoaXMuY3Vyc29yLnN0YXJ0U2lkZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0VmFsID0gdGhpcy5jdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0VmFsLnBvaW50KSB7IC8vIE9wZW5pbmcgYSByYW5nZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2ZSh0cmFja09wZW4pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc1BvaW50ICYmIHRoaXMuY3Vyc29yLnRvID09IHRoaXMudG8gJiYgdGhpcy5jdXJzb3IuZnJvbSA8IHRoaXMuY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgbm9uLWVtcHR5IHBvaW50cyB0aGF0IGVuZCBwcmVjaXNlbHkgYXQgdGhlIGVuZCBvZiB0aGUgcHJldiBwb2ludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBOZXcgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludCA9IG5leHRWYWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRGcm9tID0gdGhpcy5jdXJzb3IuZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludFJhbmsgPSB0aGlzLmN1cnNvci5yYW5rO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5jdXJzb3IudG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IG5leHRWYWwuZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmQodGhpcy50bywgdGhpcy5lbmRTaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0cmFja09wZW4ubGVuZ3RoIC0gMTsgaSA+PSAwICYmIHRyYWNrT3BlbltpXSA8IGZyb207IGktLSlcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TdGFydCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGl2ZUZvclBvaW50KHRvKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgICAgICBsZXQgYWN0aXZlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlUmFua1tpXSA8IHRoaXMucG9pbnRSYW5rKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVG9baV0gPiB0byB8fCB0aGlzLmFjdGl2ZVRvW2ldID09IHRvICYmIHRoaXMuYWN0aXZlW2ldLmVuZFNpZGUgPj0gdGhpcy5wb2ludC5lbmRTaWRlKVxuICAgICAgICAgICAgICAgIGFjdGl2ZS5wdXNoKHRoaXMuYWN0aXZlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aXZlLnJldmVyc2UoKTtcbiAgICB9XG4gICAgb3BlbkVuZCh0bykge1xuICAgICAgICBsZXQgb3BlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZVRvLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiB0aGlzLmFjdGl2ZVRvW2ldID4gdG87IGktLSlcbiAgICAgICAgICAgIG9wZW4rKztcbiAgICAgICAgcmV0dXJuIG9wZW47XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZShhLCBzdGFydEEsIGIsIHN0YXJ0QiwgbGVuZ3RoLCBjb21wYXJhdG9yKSB7XG4gICAgYS5nb3RvKHN0YXJ0QSk7XG4gICAgYi5nb3RvKHN0YXJ0Qik7XG4gICAgbGV0IGVuZEIgPSBzdGFydEIgKyBsZW5ndGg7XG4gICAgbGV0IHBvcyA9IHN0YXJ0QiwgZFBvcyA9IHN0YXJ0QiAtIHN0YXJ0QTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBkRW5kID0gKGEudG8gKyBkUG9zKSAtIGIudG8sIGRpZmYgPSBkRW5kIHx8IGEuZW5kU2lkZSAtIGIuZW5kU2lkZTtcbiAgICAgICAgbGV0IGVuZCA9IGRpZmYgPCAwID8gYS50byArIGRQb3MgOiBiLnRvLCBjbGlwRW5kID0gTWF0aC5taW4oZW5kLCBlbmRCKTtcbiAgICAgICAgaWYgKGEucG9pbnQgfHwgYi5wb2ludCkge1xuICAgICAgICAgICAgaWYgKCEoYS5wb2ludCAmJiBiLnBvaW50ICYmIChhLnBvaW50ID09IGIucG9pbnQgfHwgYS5wb2ludC5lcShiLnBvaW50KSkgJiZcbiAgICAgICAgICAgICAgICBzYW1lVmFsdWVzKGEuYWN0aXZlRm9yUG9pbnQoYS50byksIGIuYWN0aXZlRm9yUG9pbnQoYi50bykpKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVQb2ludChwb3MsIGNsaXBFbmQsIGEucG9pbnQsIGIucG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNsaXBFbmQgPiBwb3MgJiYgIXNhbWVWYWx1ZXMoYS5hY3RpdmUsIGIuYWN0aXZlKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVSYW5nZShwb3MsIGNsaXBFbmQsIGEuYWN0aXZlLCBiLmFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA+IGVuZEIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKChkRW5kIHx8IGEub3BlbkVuZCAhPSBiLm9wZW5FbmQpICYmIGNvbXBhcmF0b3IuYm91bmRDaGFuZ2UpXG4gICAgICAgICAgICBjb21wYXJhdG9yLmJvdW5kQ2hhbmdlKGVuZCk7XG4gICAgICAgIHBvcyA9IGVuZDtcbiAgICAgICAgaWYgKGRpZmYgPD0gMClcbiAgICAgICAgICAgIGEubmV4dCgpO1xuICAgICAgICBpZiAoZGlmZiA+PSAwKVxuICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZVZhbHVlcyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoYVtpXSAhPSBiW2ldICYmICFhW2ldLmVxKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpbmRleCkge1xuICAgIGZvciAobGV0IGkgPSBpbmRleCwgZSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPCBlOyBpKyspXG4gICAgICAgIGFycmF5W2ldID0gYXJyYXlbaSArIDFdO1xuICAgIGFycmF5LnBvcCgpO1xufVxuZnVuY3Rpb24gaW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSBpbmRleDsgaS0tKVxuICAgICAgICBhcnJheVtpICsgMV0gPSBhcnJheVtpXTtcbiAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGZpbmRNaW5JbmRleCh2YWx1ZSwgYXJyYXkpIHtcbiAgICBsZXQgZm91bmQgPSAtMSwgZm91bmRQb3MgPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICgoYXJyYXlbaV0gLSBmb3VuZFBvcyB8fCB2YWx1ZVtpXS5lbmRTaWRlIC0gdmFsdWVbZm91bmRdLmVuZFNpZGUpIDwgMCkge1xuICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgZm91bmRQb3MgPSBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cblxuLyoqXG5Db3VudCB0aGUgY29sdW1uIHBvc2l0aW9uIGF0IHRoZSBnaXZlbiBvZmZzZXQgaW50byB0aGUgc3RyaW5nLFxudGFraW5nIGV4dGVuZGluZyBjaGFyYWN0ZXJzIGFuZCB0YWIgc2l6ZSBpbnRvIGFjY291bnQuXG4qL1xuZnVuY3Rpb24gY291bnRDb2x1bW4oc3RyaW5nLCB0YWJTaXplLCB0byA9IHN0cmluZy5sZW5ndGgpIHtcbiAgICBsZXQgbiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0byAmJiBpIDwgc3RyaW5nLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkpIHtcbiAgICAgICAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuKys7XG4gICAgICAgICAgICBpID0gZmluZENsdXN0ZXJCcmVhayhzdHJpbmcsIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG5GaW5kIHRoZSBvZmZzZXQgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gY29sdW1uIHBvc2l0aW9uIGluIGFcbnN0cmluZywgdGFraW5nIGV4dGVuZGluZyBjaGFyYWN0ZXJzIGFuZCB0YWIgc2l6ZSBpbnRvIGFjY291bnQuIEJ5XG5kZWZhdWx0LCB0aGUgc3RyaW5nIGxlbmd0aCBpcyByZXR1cm5lZCB3aGVuIGl0IGlzIHRvbyBzaG9ydCB0b1xucmVhY2ggdGhlIGNvbHVtbi4gUGFzcyBgc3RyaWN0YCB0cnVlIHRvIG1ha2UgaXQgcmV0dXJuIC0xIGluIHRoYXRcbnNpdHVhdGlvbi5cbiovXG5mdW5jdGlvbiBmaW5kQ29sdW1uKHN0cmluZywgY29sLCB0YWJTaXplLCBzdHJpY3QpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IDA7Oykge1xuICAgICAgICBpZiAobiA+PSBjb2wpXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgaWYgKGkgPT0gc3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBuICs9IHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkgPyB0YWJTaXplIC0gKG4gJSB0YWJTaXplKSA6IDE7XG4gICAgICAgIGkgPSBmaW5kQ2x1c3RlckJyZWFrKHN0cmluZywgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpY3QgPT09IHRydWUgPyAtMSA6IHN0cmluZy5sZW5ndGg7XG59XG5cbmV4cG9ydCB7IEFubm90YXRpb24sIEFubm90YXRpb25UeXBlLCBDaGFuZ2VEZXNjLCBDaGFuZ2VTZXQsIENoYXJDYXRlZ29yeSwgQ29tcGFydG1lbnQsIEVkaXRvclNlbGVjdGlvbiwgRWRpdG9yU3RhdGUsIEZhY2V0LCBMaW5lLCBNYXBNb2RlLCBQcmVjLCBSYW5nZSwgUmFuZ2VTZXQsIFJhbmdlU2V0QnVpbGRlciwgUmFuZ2VWYWx1ZSwgU2VsZWN0aW9uUmFuZ2UsIFN0YXRlRWZmZWN0LCBTdGF0ZUVmZmVjdFR5cGUsIFN0YXRlRmllbGQsIFRleHQsIFRyYW5zYWN0aW9uLCBjb2RlUG9pbnRBdCwgY29kZVBvaW50U2l6ZSwgY29tYmluZUNvbmZpZywgY291bnRDb2x1bW4sIGZpbmRDbHVzdGVyQnJlYWssIGZpbmRDb2x1bW4sIGZyb21Db2RlUG9pbnQgfTtcbiIsICJjb25zdCBDID0gXCJcXHUwMzdjXCJcbmNvbnN0IENPVU5UID0gdHlwZW9mIFN5bWJvbCA9PSBcInVuZGVmaW5lZFwiID8gXCJfX1wiICsgQyA6IFN5bWJvbC5mb3IoQylcbmNvbnN0IFNFVCA9IHR5cGVvZiBTeW1ib2wgPT0gXCJ1bmRlZmluZWRcIiA/IFwiX19zdHlsZVNldFwiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU4KSA6IFN5bWJvbChcInN0eWxlU2V0XCIpXG5jb25zdCB0b3AgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9XG5cbi8vIDo6IC0gU3R5bGUgbW9kdWxlcyBlbmNhcHN1bGF0ZSBhIHNldCBvZiBDU1MgcnVsZXMgZGVmaW5lZCBmcm9tXG4vLyBKYXZhU2NyaXB0LiBUaGVpciBkZWZpbml0aW9ucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYSBnaXZlbiBET01cbi8vIHJvb3QgYWZ0ZXIgaXQgaGFzIGJlZW4gX21vdW50ZWRfIHRoZXJlIHdpdGggYFN0eWxlTW9kdWxlLm1vdW50YC5cbi8vXG4vLyBTdHlsZSBtb2R1bGVzIHNob3VsZCBiZSBjcmVhdGVkIG9uY2UgYW5kIHN0b3JlZCBzb21ld2hlcmUsIGFzXG4vLyBvcHBvc2VkIHRvIHJlLWNyZWF0aW5nIHRoZW0gZXZlcnkgdGltZSB5b3UgbmVlZCB0aGVtLiBUaGUgYW1vdW50IG9mXG4vLyBDU1MgcnVsZXMgZ2VuZXJhdGVkIGZvciBhIGdpdmVuIERPTSByb290IGlzIGJvdW5kZWQgYnkgdGhlIGFtb3VudFxuLy8gb2Ygc3R5bGUgbW9kdWxlcyB0aGF0IHdlcmUgdXNlZC4gU28gdG8gYXZvaWQgbGVha2luZyBydWxlcywgZG9uJ3Rcbi8vIGNyZWF0ZSB0aGVzZSBkeW5hbWljYWxseSwgYnV0IHRyZWF0IHRoZW0gYXMgb25lLXRpbWUgYWxsb2NhdGlvbnMuXG5leHBvcnQgY2xhc3MgU3R5bGVNb2R1bGUge1xuICAvLyA6OiAoT2JqZWN0PFN0eWxlPiwgP3tmaW5pc2g6ID8oc3RyaW5nKSBcdTIxOTIgc3RyaW5nfSlcbiAgLy8gQ3JlYXRlIGEgc3R5bGUgbW9kdWxlIGZyb20gdGhlIGdpdmVuIHNwZWMuXG4gIC8vXG4gIC8vIFdoZW4gYGZpbmlzaGAgaXMgZ2l2ZW4sIGl0IGlzIGNhbGxlZCBvbiByZWd1bGFyIChub24tYEBgKVxuICAvLyBzZWxlY3RvcnMgKGFmdGVyIGAmYCBleHBhbnNpb24pIHRvIGNvbXB1dGUgdGhlIGZpbmFsIHNlbGVjdG9yLlxuICBjb25zdHJ1Y3RvcihzcGVjLCBvcHRpb25zKSB7XG4gICAgdGhpcy5ydWxlcyA9IFtdXG4gICAgbGV0IHtmaW5pc2h9ID0gb3B0aW9ucyB8fCB7fVxuXG4gICAgZnVuY3Rpb24gc3BsaXRTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIC9eQC8udGVzdChzZWxlY3RvcikgPyBbc2VsZWN0b3JdIDogc2VsZWN0b3Iuc3BsaXQoLyxcXHMqLylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXIoc2VsZWN0b3JzLCBzcGVjLCB0YXJnZXQsIGlzS2V5ZnJhbWVzKSB7XG4gICAgICBsZXQgbG9jYWwgPSBbXSwgaXNBdCA9IC9eQChcXHcrKVxcYi8uZXhlYyhzZWxlY3RvcnNbMF0pLCBrZXlmcmFtZXMgPSBpc0F0ICYmIGlzQXRbMV0gPT0gXCJrZXlmcmFtZXNcIlxuICAgICAgaWYgKGlzQXQgJiYgc3BlYyA9PSBudWxsKSByZXR1cm4gdGFyZ2V0LnB1c2goc2VsZWN0b3JzWzBdICsgXCI7XCIpXG4gICAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3BlY1twcm9wXVxuICAgICAgICBpZiAoLyYvLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICByZW5kZXIocHJvcC5zcGxpdCgvLFxccyovKS5tYXAocGFydCA9PiBzZWxlY3RvcnMubWFwKHNlbCA9PiBwYXJ0LnJlcGxhY2UoLyYvLCBzZWwpKSkucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSksXG4gICAgICAgICAgICAgICAgIHZhbHVlLCB0YXJnZXQpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoIWlzQXQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgKFwiICsgcHJvcCArIFwiKSBzaG91bGQgYmUgYSBwcmltaXRpdmUgdmFsdWUuXCIpXG4gICAgICAgICAgcmVuZGVyKHNwbGl0U2VsZWN0b3IocHJvcCksIHZhbHVlLCBsb2NhbCwga2V5ZnJhbWVzKVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBsb2NhbC5wdXNoKHByb3AucmVwbGFjZSgvXy4qLywgXCJcIikucmVwbGFjZSgvW0EtWl0vZywgbCA9PiBcIi1cIiArIGwudG9Mb3dlckNhc2UoKSkgKyBcIjogXCIgKyB2YWx1ZSArIFwiO1wiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG9jYWwubGVuZ3RoIHx8IGtleWZyYW1lcykge1xuICAgICAgICB0YXJnZXQucHVzaCgoZmluaXNoICYmICFpc0F0ICYmICFpc0tleWZyYW1lcyA/IHNlbGVjdG9ycy5tYXAoZmluaXNoKSA6IHNlbGVjdG9ycykuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCIge1wiICsgbG9jYWwuam9pbihcIiBcIikgKyBcIn1cIilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHJlbmRlcihzcGxpdFNlbGVjdG9yKHByb3ApLCBzcGVjW3Byb3BdLCB0aGlzLnJ1bGVzKVxuICB9XG5cbiAgLy8gOjogKCkgXHUyMTkyIHN0cmluZ1xuICAvLyBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIG1vZHVsZSdzIENTUyBydWxlcy5cbiAgZ2V0UnVsZXMoKSB7IHJldHVybiB0aGlzLnJ1bGVzLmpvaW4oXCJcXG5cIikgfVxuXG4gIC8vIDo6ICgpIFx1MjE5MiBzdHJpbmdcbiAgLy8gR2VuZXJhdGUgYSBuZXcgdW5pcXVlIENTUyBjbGFzcyBuYW1lLlxuICBzdGF0aWMgbmV3TmFtZSgpIHtcbiAgICBsZXQgaWQgPSB0b3BbQ09VTlRdIHx8IDFcbiAgICB0b3BbQ09VTlRdID0gaWQgKyAxXG4gICAgcmV0dXJuIEMgKyBpZC50b1N0cmluZygzNilcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxEb2N1bWVudCwgU2hhZG93Um9vdD4sIHVuaW9uPFtTdHlsZU1vZHVsZV0sIFN0eWxlTW9kdWxlPiwgP3tub25jZTogP3N0cmluZ30pXG4gIC8vXG4gIC8vIE1vdW50IHRoZSBnaXZlbiBzZXQgb2YgbW9kdWxlcyBpbiB0aGUgZ2l2ZW4gRE9NIHJvb3QsIHdoaWNoIGVuc3VyZXNcbiAgLy8gdGhhdCB0aGUgQ1NTIHJ1bGVzIGRlZmluZWQgYnkgdGhlIG1vZHVsZSBhcmUgYXZhaWxhYmxlIGluIHRoYXRcbiAgLy8gY29udGV4dC5cbiAgLy9cbiAgLy8gUnVsZXMgYXJlIG9ubHkgYWRkZWQgdG8gdGhlIGRvY3VtZW50IG9uY2UgcGVyIHJvb3QuXG4gIC8vXG4gIC8vIFJ1bGUgb3JkZXIgd2lsbCBmb2xsb3cgdGhlIG9yZGVyIG9mIHRoZSBtb2R1bGVzLCBzbyB0aGF0IHJ1bGVzIGZyb21cbiAgLy8gbW9kdWxlcyBsYXRlciBpbiB0aGUgYXJyYXkgdGFrZSBwcmVjZWRlbmNlIG9mIHRob3NlIGZyb20gZWFybGllclxuICAvLyBtb2R1bGVzLiBJZiB5b3UgY2FsbCB0aGlzIGZ1bmN0aW9uIG11bHRpcGxlIHRpbWVzIGZvciB0aGUgc2FtZSByb290XG4gIC8vIGluIGEgd2F5IHRoYXQgY2hhbmdlcyB0aGUgb3JkZXIgb2YgYWxyZWFkeSBtb3VudGVkIG1vZHVsZXMsIHRoZSBvbGRcbiAgLy8gb3JkZXIgd2lsbCBiZSBjaGFuZ2VkLlxuICAvL1xuICAvLyBJZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IG5vbmNlIGlzIHByb3ZpZGVkLCBpdCBpcyBhZGRlZCB0b1xuICAvLyB0aGUgYDxzdHlsZT5gIHRhZyBnZW5lcmF0ZWQgYnkgdGhlIGxpYnJhcnkuXG4gIHN0YXRpYyBtb3VudChyb290LCBtb2R1bGVzLCBvcHRpb25zKSB7XG4gICAgbGV0IHNldCA9IHJvb3RbU0VUXSwgbm9uY2UgPSBvcHRpb25zICYmIG9wdGlvbnMubm9uY2VcbiAgICBpZiAoIXNldCkgc2V0ID0gbmV3IFN0eWxlU2V0KHJvb3QsIG5vbmNlKVxuICAgIGVsc2UgaWYgKG5vbmNlKSBzZXQuc2V0Tm9uY2Uobm9uY2UpXG4gICAgc2V0Lm1vdW50KEFycmF5LmlzQXJyYXkobW9kdWxlcykgPyBtb2R1bGVzIDogW21vZHVsZXNdLCByb290KVxuICB9XG59XG5cbmxldCBhZG9wdGVkU2V0ID0gbmV3IE1hcCAvLzxEb2N1bWVudCwgU3R5bGVTZXQ+XG5cbmNsYXNzIFN0eWxlU2V0IHtcbiAgY29uc3RydWN0b3Iocm9vdCwgbm9uY2UpIHtcbiAgICBsZXQgZG9jID0gcm9vdC5vd25lckRvY3VtZW50IHx8IHJvb3QsIHdpbiA9IGRvYy5kZWZhdWx0Vmlld1xuICAgIGlmICghcm9vdC5oZWFkICYmIHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzICYmIHdpbi5DU1NTdHlsZVNoZWV0KSB7XG4gICAgICBsZXQgYWRvcHRlZCA9IGFkb3B0ZWRTZXQuZ2V0KGRvYylcbiAgICAgIGlmIChhZG9wdGVkKSByZXR1cm4gcm9vdFtTRVRdID0gYWRvcHRlZFxuICAgICAgdGhpcy5zaGVldCA9IG5ldyB3aW4uQ1NTU3R5bGVTaGVldFxuICAgICAgYWRvcHRlZFNldC5zZXQoZG9jLCB0aGlzKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0eWxlVGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKVxuICAgICAgaWYgKG5vbmNlKSB0aGlzLnN0eWxlVGFnLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKVxuICAgIH1cbiAgICB0aGlzLm1vZHVsZXMgPSBbXVxuICAgIHJvb3RbU0VUXSA9IHRoaXNcbiAgfVxuXG4gIG1vdW50KG1vZHVsZXMsIHJvb3QpIHtcbiAgICBsZXQgc2hlZXQgPSB0aGlzLnNoZWV0XG4gICAgbGV0IHBvcyA9IDAgLyogQ3VycmVudCBydWxlIG9mZnNldCAqLywgaiA9IDAgLyogSW5kZXggaW50byB0aGlzLm1vZHVsZXMgKi9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtb2QgPSBtb2R1bGVzW2ldLCBpbmRleCA9IHRoaXMubW9kdWxlcy5pbmRleE9mKG1vZClcbiAgICAgIGlmIChpbmRleCA8IGogJiYgaW5kZXggPiAtMSkgeyAvLyBPcmRlcmluZyBjb25mbGljdFxuICAgICAgICB0aGlzLm1vZHVsZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBqLS1cbiAgICAgICAgaW5kZXggPSAtMVxuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5zcGxpY2UoaisrLCAwLCBtb2QpXG4gICAgICAgIGlmIChzaGVldCkgZm9yIChsZXQgayA9IDA7IGsgPCBtb2QucnVsZXMubGVuZ3RoOyBrKyspXG4gICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShtb2QucnVsZXNba10sIHBvcysrKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGogPCBpbmRleCkgcG9zICs9IHRoaXMubW9kdWxlc1tqKytdLnJ1bGVzLmxlbmd0aFxuICAgICAgICBwb3MgKz0gbW9kLnJ1bGVzLmxlbmd0aFxuICAgICAgICBqKytcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hlZXQpIHtcbiAgICAgIGlmIChyb290LmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmRleE9mKHRoaXMuc2hlZXQpIDwgMClcbiAgICAgICAgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbdGhpcy5zaGVldCwgLi4ucm9vdC5hZG9wdGVkU3R5bGVTaGVldHNdXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0ZXh0ID0gXCJcIlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1vZHVsZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHRleHQgKz0gdGhpcy5tb2R1bGVzW2ldLmdldFJ1bGVzKCkgKyBcIlxcblwiXG4gICAgICB0aGlzLnN0eWxlVGFnLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgbGV0IHRhcmdldCA9IHJvb3QuaGVhZCB8fCByb290XG4gICAgICBpZiAodGhpcy5zdHlsZVRhZy5wYXJlbnROb2RlICE9IHRhcmdldClcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLnN0eWxlVGFnLCB0YXJnZXQuZmlyc3RDaGlsZClcbiAgICB9XG4gIH1cblxuICBzZXROb25jZShub25jZSkge1xuICAgIGlmICh0aGlzLnN0eWxlVGFnICYmIHRoaXMuc3R5bGVUYWcuZ2V0QXR0cmlidXRlKFwibm9uY2VcIikgIT0gbm9uY2UpXG4gICAgICB0aGlzLnN0eWxlVGFnLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKVxuICB9XG59XG5cbi8vIFN0eWxlOjpPYmplY3Q8dW5pb248U3R5bGUsc3RyaW5nPj5cbi8vXG4vLyBBIHN0eWxlIGlzIGFuIG9iamVjdCB0aGF0LCBpbiB0aGUgc2ltcGxlIGNhc2UsIG1hcHMgQ1NTIHByb3BlcnR5XG4vLyBuYW1lcyB0byBzdHJpbmdzIGhvbGRpbmcgdGhlaXIgdmFsdWVzLCBhcyBpbiBge2NvbG9yOiBcInJlZFwiLFxuLy8gZm9udFdlaWdodDogXCJib2xkXCJ9YC4gVGhlIHByb3BlcnR5IG5hbWVzIGNhbiBiZSBnaXZlbiBpblxuLy8gY2FtZWwtY2FzZVx1MjAxNHRoZSBsaWJyYXJ5IHdpbGwgaW5zZXJ0IGEgZGFzaCBiZWZvcmUgY2FwaXRhbCBsZXR0ZXJzXG4vLyB3aGVuIGNvbnZlcnRpbmcgdGhlbSB0byBDU1MuXG4vL1xuLy8gSWYgeW91IGluY2x1ZGUgYW4gdW5kZXJzY29yZSBpbiBhIHByb3BlcnR5IG5hbWUsIGl0IGFuZCBldmVyeXRoaW5nXG4vLyBhZnRlciBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgb3V0cHV0LCB3aGljaCBjYW4gYmUgdXNlZnVsIHdoZW5cbi8vIHByb3ZpZGluZyBhIHByb3BlcnR5IG11bHRpcGxlIHRpbWVzLCBmb3IgYnJvd3NlciBjb21wYXRpYmlsaXR5XG4vLyByZWFzb25zLlxuLy9cbi8vIEEgcHJvcGVydHkgaW4gYSBzdHlsZSBvYmplY3QgY2FuIGFsc28gYmUgYSBzdWItc2VsZWN0b3IsIHdoaWNoXG4vLyBleHRlbmRzIHRoZSBjdXJyZW50IGNvbnRleHQgdG8gYWRkIGEgcHNldWRvLXNlbGVjdG9yIG9yIGEgY2hpbGRcbi8vIHNlbGVjdG9yLiBTdWNoIGEgcHJvcGVydHkgc2hvdWxkIGNvbnRhaW4gYSBgJmAgY2hhcmFjdGVyLCB3aGljaFxuLy8gd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY3VycmVudCBzZWxlY3Rvci4gRm9yIGV4YW1wbGUgYHtcIiY6YmVmb3JlXCI6XG4vLyB7Y29udGVudDogJ1wiaGlcIid9fWAuIFN1Yi1zZWxlY3RvcnMgYW5kIHJlZ3VsYXIgcHJvcGVydGllcyBjYW5cbi8vIGZyZWVseSBiZSBtaXhlZCBpbiBhIGdpdmVuIG9iamVjdC4gQW55IHByb3BlcnR5IGNvbnRhaW5pbmcgYSBgJmAgaXNcbi8vIGFzc3VtZWQgdG8gYmUgYSBzdWItc2VsZWN0b3IuXG4vL1xuLy8gRmluYWxseSwgYSBwcm9wZXJ0eSBjYW4gc3BlY2lmeSBhbiBALWJsb2NrIHRvIGJlIHdyYXBwZWQgYXJvdW5kIHRoZVxuLy8gc3R5bGVzIGRlZmluZWQgaW5zaWRlIHRoZSBvYmplY3QgdGhhdCdzIHRoZSBwcm9wZXJ0eSdzIHZhbHVlLiBGb3Jcbi8vIGV4YW1wbGUgdG8gY3JlYXRlIGEgbWVkaWEgcXVlcnkgeW91IGNhbiBkbyBge1wiQG1lZGlhIHNjcmVlbiBhbmRcbi8vIChtaW4td2lkdGg6IDQwMHB4KVwiOiB7Li4ufX1gLlxuIiwgImV4cG9ydCB2YXIgYmFzZSA9IHtcbiAgODogXCJCYWNrc3BhY2VcIixcbiAgOTogXCJUYWJcIixcbiAgMTA6IFwiRW50ZXJcIixcbiAgMTI6IFwiTnVtTG9ja1wiLFxuICAxMzogXCJFbnRlclwiLFxuICAxNjogXCJTaGlmdFwiLFxuICAxNzogXCJDb250cm9sXCIsXG4gIDE4OiBcIkFsdFwiLFxuICAyMDogXCJDYXBzTG9ja1wiLFxuICAyNzogXCJFc2NhcGVcIixcbiAgMzI6IFwiIFwiLFxuICAzMzogXCJQYWdlVXBcIixcbiAgMzQ6IFwiUGFnZURvd25cIixcbiAgMzU6IFwiRW5kXCIsXG4gIDM2OiBcIkhvbWVcIixcbiAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gIDM4OiBcIkFycm93VXBcIixcbiAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICA0MDogXCJBcnJvd0Rvd25cIixcbiAgNDQ6IFwiUHJpbnRTY3JlZW5cIixcbiAgNDU6IFwiSW5zZXJ0XCIsXG4gIDQ2OiBcIkRlbGV0ZVwiLFxuICA1OTogXCI7XCIsXG4gIDYxOiBcIj1cIixcbiAgOTE6IFwiTWV0YVwiLFxuICA5MjogXCJNZXRhXCIsXG4gIDEwNjogXCIqXCIsXG4gIDEwNzogXCIrXCIsXG4gIDEwODogXCIsXCIsXG4gIDEwOTogXCItXCIsXG4gIDExMDogXCIuXCIsXG4gIDExMTogXCIvXCIsXG4gIDE0NDogXCJOdW1Mb2NrXCIsXG4gIDE0NTogXCJTY3JvbGxMb2NrXCIsXG4gIDE2MDogXCJTaGlmdFwiLFxuICAxNjE6IFwiU2hpZnRcIixcbiAgMTYyOiBcIkNvbnRyb2xcIixcbiAgMTYzOiBcIkNvbnRyb2xcIixcbiAgMTY0OiBcIkFsdFwiLFxuICAxNjU6IFwiQWx0XCIsXG4gIDE3MzogXCItXCIsXG4gIDE4NjogXCI7XCIsXG4gIDE4NzogXCI9XCIsXG4gIDE4ODogXCIsXCIsXG4gIDE4OTogXCItXCIsXG4gIDE5MDogXCIuXCIsXG4gIDE5MTogXCIvXCIsXG4gIDE5MjogXCJgXCIsXG4gIDIxOTogXCJbXCIsXG4gIDIyMDogXCJcXFxcXCIsXG4gIDIyMTogXCJdXCIsXG4gIDIyMjogXCInXCJcbn1cblxuZXhwb3J0IHZhciBzaGlmdCA9IHtcbiAgNDg6IFwiKVwiLFxuICA0OTogXCIhXCIsXG4gIDUwOiBcIkBcIixcbiAgNTE6IFwiI1wiLFxuICA1MjogXCIkXCIsXG4gIDUzOiBcIiVcIixcbiAgNTQ6IFwiXlwiLFxuICA1NTogXCImXCIsXG4gIDU2OiBcIipcIixcbiAgNTc6IFwiKFwiLFxuICA1OTogXCI6XCIsXG4gIDYxOiBcIitcIixcbiAgMTczOiBcIl9cIixcbiAgMTg2OiBcIjpcIixcbiAgMTg3OiBcIitcIixcbiAgMTg4OiBcIjxcIixcbiAgMTg5OiBcIl9cIixcbiAgMTkwOiBcIj5cIixcbiAgMTkxOiBcIj9cIixcbiAgMTkyOiBcIn5cIixcbiAgMjE5OiBcIntcIixcbiAgMjIwOiBcInxcIixcbiAgMjIxOiBcIn1cIixcbiAgMjIyOiBcIlxcXCJcIlxufVxuXG52YXIgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxudmFyIGllID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFxcZHxUcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4vLyBGaWxsIGluIHRoZSBkaWdpdCBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGJhc2VbNDggKyBpXSA9IGJhc2VbOTYgKyBpXSA9IFN0cmluZyhpKVxuXG4vLyBUaGUgZnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gMjQ7IGkrKykgYmFzZVtpICsgMTExXSA9IFwiRlwiICsgaVxuXG4vLyBBbmQgdGhlIGFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgYmFzZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDMyKVxuICBzaGlmdFtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSlcbn1cblxuLy8gRm9yIGVhY2ggY29kZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHNoaWZ0LWVxdWl2YWxlbnQsIGNvcHkgdGhlIGJhc2UgbmFtZVxuZm9yICh2YXIgY29kZSBpbiBiYXNlKSBpZiAoIXNoaWZ0Lmhhc093blByb3BlcnR5KGNvZGUpKSBzaGlmdFtjb2RlXSA9IGJhc2VbY29kZV1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleU5hbWUoZXZlbnQpIHtcbiAgLy8gT24gbWFjT1MsIGtleXMgaGVsZCB3aXRoIFNoaWZ0IGFuZCBDbWQgZG9uJ3QgcmVmbGVjdCB0aGUgZWZmZWN0IG9mIFNoaWZ0IGluIGAua2V5YC5cbiAgLy8gT24gSUUsIHNoaWZ0IGVmZmVjdCBpcyBuZXZlciBpbmNsdWRlZCBpbiBgLmtleWAuXG4gIHZhciBpZ25vcmVLZXkgPSBtYWMgJiYgZXZlbnQubWV0YUtleSAmJiBldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5IHx8XG4gICAgICBpZSAmJiBldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PSAxIHx8XG4gICAgICBldmVudC5rZXkgPT0gXCJVbmlkZW50aWZpZWRcIlxuICB2YXIgbmFtZSA9ICghaWdub3JlS2V5ICYmIGV2ZW50LmtleSkgfHxcbiAgICAoZXZlbnQuc2hpZnRLZXkgPyBzaGlmdCA6IGJhc2UpW2V2ZW50LmtleUNvZGVdIHx8XG4gICAgZXZlbnQua2V5IHx8IFwiVW5pZGVudGlmaWVkXCJcbiAgLy8gRWRnZSBzb21ldGltZXMgcHJvZHVjZXMgd3JvbmcgbmFtZXMgKElzc3VlICMzKVxuICBpZiAobmFtZSA9PSBcIkVzY1wiKSBuYW1lID0gXCJFc2NhcGVcIlxuICBpZiAobmFtZSA9PSBcIkRlbFwiKSBuYW1lID0gXCJEZWxldGVcIlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICBpZiAobmFtZSA9PSBcIkxlZnRcIikgbmFtZSA9IFwiQXJyb3dMZWZ0XCJcbiAgaWYgKG5hbWUgPT0gXCJVcFwiKSBuYW1lID0gXCJBcnJvd1VwXCJcbiAgaWYgKG5hbWUgPT0gXCJSaWdodFwiKSBuYW1lID0gXCJBcnJvd1JpZ2h0XCJcbiAgaWYgKG5hbWUgPT0gXCJEb3duXCIpIG5hbWUgPSBcIkFycm93RG93blwiXG4gIHJldHVybiBuYW1lXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlbHQoKSB7XG4gIHZhciBlbHQgPSBhcmd1bWVudHNbMF1cbiAgaWYgKHR5cGVvZiBlbHQgPT0gXCJzdHJpbmdcIikgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbHQpXG4gIHZhciBpID0gMSwgbmV4dCA9IGFyZ3VtZW50c1sxXVxuICBpZiAobmV4dCAmJiB0eXBlb2YgbmV4dCA9PSBcIm9iamVjdFwiICYmIG5leHQubm9kZVR5cGUgPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgIGZvciAodmFyIG5hbWUgaW4gbmV4dCkgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0LCBuYW1lKSkge1xuICAgICAgdmFyIHZhbHVlID0gbmV4dFtuYW1lXVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSBlbHQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKVxuICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkgZWx0W25hbWVdID0gdmFsdWVcbiAgICB9XG4gICAgaSsrXG4gIH1cbiAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFkZChlbHQsIGFyZ3VtZW50c1tpXSlcbiAgcmV0dXJuIGVsdFxufVxuXG5mdW5jdGlvbiBhZGQoZWx0LCBjaGlsZCkge1xuICBpZiAodHlwZW9mIGNoaWxkID09IFwic3RyaW5nXCIpIHtcbiAgICBlbHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGQpKVxuICB9IGVsc2UgaWYgKGNoaWxkID09IG51bGwpIHtcbiAgfSBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSAhPSBudWxsKSB7XG4gICAgZWx0LmFwcGVuZENoaWxkKGNoaWxkKVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZC5sZW5ndGg7IGkrKykgYWRkKGVsdCwgY2hpbGRbaV0pXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJVbnN1cHBvcnRlZCBjaGlsZCBub2RlOiBcIiArIGNoaWxkKVxuICB9XG59XG4iLCAiaW1wb3J0IHsgVGV4dCwgUmFuZ2VTZXQsIE1hcE1vZGUsIFJhbmdlVmFsdWUsIGZpbmRDbHVzdGVyQnJlYWssIEVkaXRvclNlbGVjdGlvbiwgRmFjZXQsIFN0YXRlRWZmZWN0LCBDaGFuZ2VTZXQsIGZpbmRDb2x1bW4sIENoYXJDYXRlZ29yeSwgRWRpdG9yU3RhdGUsIEFubm90YXRpb24sIFRyYW5zYWN0aW9uLCBQcmVjLCBjb2RlUG9pbnRBdCwgY29kZVBvaW50U2l6ZSwgY29tYmluZUNvbmZpZywgU3RhdGVGaWVsZCwgUmFuZ2VTZXRCdWlsZGVyLCBjb3VudENvbHVtbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IFN0eWxlTW9kdWxlIH0gZnJvbSAnc3R5bGUtbW9kJztcbmltcG9ydCB7IGtleU5hbWUsIGJhc2UsIHNoaWZ0IH0gZnJvbSAndzNjLWtleW5hbWUnO1xuaW1wb3J0IGVsdCBmcm9tICdjcmVsdCc7XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihyb290KSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICAvLyBCcm93c2VycyBkaWZmZXIgb24gd2hldGhlciBzaGFkb3cgcm9vdHMgaGF2ZSBhIGdldFNlbGVjdGlvblxuICAgIC8vIG1ldGhvZC4gSWYgaXQgZXhpc3RzLCB1c2UgdGhhdCwgb3RoZXJ3aXNlLCBjYWxsIGl0IG9uIHRoZVxuICAgIC8vIGRvY3VtZW50LlxuICAgIGlmIChyb290Lm5vZGVUeXBlID09IDExKSB7IC8vIFNoYWRvdyByb290XG4gICAgICAgIHRhcmdldCA9IHJvb3QuZ2V0U2VsZWN0aW9uID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQuZ2V0U2VsZWN0aW9uKCk7XG59XG5mdW5jdGlvbiBjb250YWlucyhkb20sIG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSA/IGRvbSA9PSBub2RlIHx8IGRvbS5jb250YWlucyhub2RlLm5vZGVUeXBlICE9IDEgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzU2VsZWN0aW9uKGRvbSwgc2VsZWN0aW9uKSB7XG4gICAgaWYgKCFzZWxlY3Rpb24uYW5jaG9yTm9kZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEZpcmVmb3ggd2lsbCByYWlzZSAncGVybWlzc2lvbiBkZW5pZWQnIGVycm9ycyB3aGVuIGFjY2Vzc2luZ1xuICAgICAgICAvLyBwcm9wZXJ0aWVzIG9mIGBzZWwuYW5jaG9yTm9kZWAgd2hlbiBpdCdzIGluIGEgZ2VuZXJhdGVkIENTU1xuICAgICAgICAvLyBlbGVtZW50LlxuICAgICAgICByZXR1cm4gY29udGFpbnMoZG9tLCBzZWxlY3Rpb24uYW5jaG9yTm9kZSk7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGllbnRSZWN0c0Zvcihkb20pIHtcbiAgICBpZiAoZG9tLm5vZGVUeXBlID09IDMpXG4gICAgICAgIHJldHVybiB0ZXh0UmFuZ2UoZG9tLCAwLCBkb20ubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMSlcbiAgICAgICAgcmV0dXJuIGRvbS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIFtdO1xufVxuLy8gU2NhbnMgZm9yd2FyZCBhbmQgYmFja3dhcmQgdGhyb3VnaCBET00gcG9zaXRpb25zIGVxdWl2YWxlbnQgdG8gdGhlXG4vLyBnaXZlbiBvbmUgdG8gc2VlIGlmIHRoZSB0d28gYXJlIGluIHRoZSBzYW1lIHBsYWNlIChpLmUuIGFmdGVyIGFcbi8vIHRleHQgbm9kZSB2cyBhdCB0aGUgZW5kIG9mIHRoYXQgdGV4dCBub2RlKVxuZnVuY3Rpb24gaXNFcXVpdmFsZW50UG9zaXRpb24obm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYpIHtcbiAgICByZXR1cm4gdGFyZ2V0Tm9kZSA/IChzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCAtMSkgfHxcbiAgICAgICAgc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgMSkpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBkb21JbmRleChub2RlKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOzsgaW5kZXgrKykge1xuICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0Jsb2NrRWxlbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMSAmJiAvXihESVZ8UHxMSXxVTHxPTHxCTE9DS1FVT1RFfEREfERUfEhcXGR8U0VDVElPTnxQUkUpJC8udGVzdChub2RlLm5vZGVOYW1lKTtcbn1cbmZ1bmN0aW9uIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIGRpcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGFyZ2V0Tm9kZSAmJiBvZmYgPT0gdGFyZ2V0T2ZmKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChvZmYgPT0gKGRpciA8IDAgPyAwIDogbWF4T2Zmc2V0KG5vZGUpKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50Lm5vZGVUeXBlICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgb2ZmID0gZG9tSW5kZXgobm9kZSkgKyAoZGlyIDwgMCA/IDAgOiAxKTtcbiAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBvZmYgPSBkaXIgPCAwID8gbWF4T2Zmc2V0KG5vZGUpIDogMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1heE9mZnNldChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBmbGF0dGVuUmVjdChyZWN0LCBsZWZ0KSB7XG4gICAgbGV0IHggPSBsZWZ0ID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodDtcbiAgICByZXR1cm4geyBsZWZ0OiB4LCByaWdodDogeCwgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LmJvdHRvbSB9O1xufVxuZnVuY3Rpb24gd2luZG93UmVjdCh3aW4pIHtcbiAgICBsZXQgdnAgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZwKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogMCwgcmlnaHQ6IHZwLndpZHRoLFxuICAgICAgICAgICAgdG9wOiAwLCBib3R0b206IHZwLmhlaWdodFxuICAgICAgICB9O1xuICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiB3aW4uaW5uZXJXaWR0aCxcbiAgICAgICAgdG9wOiAwLCBib3R0b206IHdpbi5pbm5lckhlaWdodCB9O1xufVxuZnVuY3Rpb24gZ2V0U2NhbGUoZWx0LCByZWN0KSB7XG4gICAgbGV0IHNjYWxlWCA9IHJlY3Qud2lkdGggLyBlbHQub2Zmc2V0V2lkdGg7XG4gICAgbGV0IHNjYWxlWSA9IHJlY3QuaGVpZ2h0IC8gZWx0Lm9mZnNldEhlaWdodDtcbiAgICBpZiAoc2NhbGVYID4gMC45OTUgJiYgc2NhbGVYIDwgMS4wMDUgfHwgIWlzRmluaXRlKHNjYWxlWCkgfHwgTWF0aC5hYnMocmVjdC53aWR0aCAtIGVsdC5vZmZzZXRXaWR0aCkgPCAxKVxuICAgICAgICBzY2FsZVggPSAxO1xuICAgIGlmIChzY2FsZVkgPiAwLjk5NSAmJiBzY2FsZVkgPCAxLjAwNSB8fCAhaXNGaW5pdGUoc2NhbGVZKSB8fCBNYXRoLmFicyhyZWN0LmhlaWdodCAtIGVsdC5vZmZzZXRIZWlnaHQpIDwgMSlcbiAgICAgICAgc2NhbGVZID0gMTtcbiAgICByZXR1cm4geyBzY2FsZVgsIHNjYWxlWSB9O1xufVxuZnVuY3Rpb24gc2Nyb2xsUmVjdEludG9WaWV3KGRvbSwgcmVjdCwgc2lkZSwgeCwgeSwgeE1hcmdpbiwgeU1hcmdpbiwgbHRyKSB7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbSwgc3RvcCA9IGZhbHNlOyBjdXIgJiYgIXN0b3A7KSB7XG4gICAgICAgIGlmIChjdXIubm9kZVR5cGUgPT0gMSkgeyAvLyBFbGVtZW50XG4gICAgICAgICAgICBsZXQgYm91bmRpbmcsIHRvcCA9IGN1ciA9PSBkb2MuYm9keTtcbiAgICAgICAgICAgIGxldCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0gd2luZG93UmVjdCh3aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKC9eKGZpeGVkfHN0aWNreSkkLy50ZXN0KGdldENvbXB1dGVkU3R5bGUoY3VyKS5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjdXIuc2Nyb2xsSGVpZ2h0IDw9IGN1ci5jbGllbnRIZWlnaHQgJiYgY3VyLnNjcm9sbFdpZHRoIDw9IGN1ci5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBjdXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgKHsgc2NhbGVYLCBzY2FsZVkgfSA9IGdldFNjYWxlKGN1ciwgcmVjdCkpO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzY3JvbGxiYXIgd2lkdGggaXNuJ3QgaW5jbHVkZWQgaW4gdGhlIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0geyBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LmxlZnQgKyBjdXIuY2xpZW50V2lkdGggKiBzY2FsZVgsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC50b3AgKyBjdXIuY2xpZW50SGVpZ2h0ICogc2NhbGVZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbW92ZVggPSAwLCBtb3ZlWSA9IDA7XG4gICAgICAgICAgICBpZiAoeSA9PSBcIm5lYXJlc3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LnRvcCA8IGJvdW5kaW5nLnRvcCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IHJlY3QudG9wIC0gKGJvdW5kaW5nLnRvcCArIHlNYXJnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZSA+IDAgJiYgcmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gKyBtb3ZlWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC5ib3R0b20gLSBib3VuZGluZy5ib3R0b20gKyB5TWFyZ2luO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IHJlY3QuYm90dG9tIC0gYm91bmRpbmcuYm90dG9tICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPCAwICYmIChyZWN0LnRvcCAtIG1vdmVZKSA8IGJvdW5kaW5nLnRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC50b3AgLSAoYm91bmRpbmcudG9wICsgeU1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3RIZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wLCBib3VuZGluZ0hlaWdodCA9IGJvdW5kaW5nLmJvdHRvbSAtIGJvdW5kaW5nLnRvcDtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VG9wID0geSA9PSBcImNlbnRlclwiICYmIHJlY3RIZWlnaHQgPD0gYm91bmRpbmdIZWlnaHQgPyByZWN0LnRvcCArIHJlY3RIZWlnaHQgLyAyIC0gYm91bmRpbmdIZWlnaHQgLyAyIDpcbiAgICAgICAgICAgICAgICAgICAgeSA9PSBcInN0YXJ0XCIgfHwgeSA9PSBcImNlbnRlclwiICYmIHNpZGUgPCAwID8gcmVjdC50b3AgLSB5TWFyZ2luIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QuYm90dG9tIC0gYm91bmRpbmdIZWlnaHQgKyB5TWFyZ2luO1xuICAgICAgICAgICAgICAgIG1vdmVZID0gdGFyZ2V0VG9wIC0gYm91bmRpbmcudG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPT0gXCJuZWFyZXN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdC5sZWZ0IDwgYm91bmRpbmcubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IHJlY3QubGVmdCAtIChib3VuZGluZy5sZWZ0ICsgeE1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlID4gMCAmJiByZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQgKyBtb3ZlWClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVjdC5yaWdodCA+IGJvdW5kaW5nLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPCAwICYmIHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQgKyBtb3ZlWClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5sZWZ0IC0gKGJvdW5kaW5nLmxlZnQgKyB4TWFyZ2luKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TGVmdCA9IHggPT0gXCJjZW50ZXJcIiA/IHJlY3QubGVmdCArIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAvIDIgLSAoYm91bmRpbmcucmlnaHQgLSBib3VuZGluZy5sZWZ0KSAvIDIgOlxuICAgICAgICAgICAgICAgICAgICAoeCA9PSBcInN0YXJ0XCIpID09IGx0ciA/IHJlY3QubGVmdCAtIHhNYXJnaW4gOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC5yaWdodCAtIChib3VuZGluZy5yaWdodCAtIGJvdW5kaW5nLmxlZnQpICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICBtb3ZlWCA9IHRhcmdldExlZnQgLSBib3VuZGluZy5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgICAgICB3aW4uc2Nyb2xsQnkobW92ZVgsIG1vdmVZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlZFggPSAwLCBtb3ZlZFkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZVkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGN1ci5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIuc2Nyb2xsVG9wICs9IG1vdmVZIC8gc2NhbGVZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWRZID0gKGN1ci5zY3JvbGxUb3AgLSBzdGFydCkgKiBzY2FsZVk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVYKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBjdXIuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5zY3JvbGxMZWZ0ICs9IG1vdmVYIC8gc2NhbGVYO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWRYID0gKGN1ci5zY3JvbGxMZWZ0IC0gc3RhcnQpICogc2NhbGVYO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlY3QgPSB7IGxlZnQ6IHJlY3QubGVmdCAtIG1vdmVkWCwgdG9wOiByZWN0LnRvcCAtIG1vdmVkWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IC0gbW92ZWRYLCBib3R0b206IHJlY3QuYm90dG9tIC0gbW92ZWRZIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlZFggJiYgTWF0aC5hYnMobW92ZWRYIC0gbW92ZVgpIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBcIm5lYXJlc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVkWSAmJiBNYXRoLmFicyhtb3ZlZFkgLSBtb3ZlWSkgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFwibmVhcmVzdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3AgfHwgcmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gfHxcbiAgICAgICAgICAgICAgICByZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0IHx8IHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodClcbiAgICAgICAgICAgICAgICByZWN0ID0geyBsZWZ0OiBNYXRoLm1heChyZWN0LmxlZnQsIGJvdW5kaW5nLmxlZnQpLCByaWdodDogTWF0aC5taW4ocmVjdC5yaWdodCwgYm91bmRpbmcucmlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IE1hdGgubWF4KHJlY3QudG9wLCBib3VuZGluZy50b3ApLCBib3R0b206IE1hdGgubWluKHJlY3QuYm90dG9tLCBib3VuZGluZy5ib3R0b20pIH07XG4gICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxMSkgeyAvLyBBIHNoYWRvdyByb290XG4gICAgICAgICAgICBjdXIgPSBjdXIuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2Nyb2xsYWJsZVBhcmVudHMoZG9tKSB7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB4LCB5O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbS5wYXJlbnROb2RlOyBjdXI7KSB7XG4gICAgICAgIGlmIChjdXIgPT0gZG9jLmJvZHkgfHwgKHggJiYgeSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoIXkgJiYgY3VyLnNjcm9sbEhlaWdodCA+IGN1ci5jbGllbnRIZWlnaHQpXG4gICAgICAgICAgICAgICAgeSA9IGN1cjtcbiAgICAgICAgICAgIGlmICgheCAmJiBjdXIuc2Nyb2xsV2lkdGggPiBjdXIuY2xpZW50V2lkdGgpXG4gICAgICAgICAgICAgICAgeCA9IGN1cjtcbiAgICAgICAgICAgIGN1ciA9IGN1ci5hc3NpZ25lZFNsb3QgfHwgY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VyLm5vZGVUeXBlID09IDExKSB7XG4gICAgICAgICAgICBjdXIgPSBjdXIuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHgsIHkgfTtcbn1cbmNsYXNzIERPTVNlbGVjdGlvblN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbmNob3JOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmNob3JPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmZvY3VzTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSAwO1xuICAgIH1cbiAgICBlcShkb21TZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5jaG9yTm9kZSA9PSBkb21TZWwuYW5jaG9yTm9kZSAmJiB0aGlzLmFuY2hvck9mZnNldCA9PSBkb21TZWwuYW5jaG9yT2Zmc2V0ICYmXG4gICAgICAgICAgICB0aGlzLmZvY3VzTm9kZSA9PSBkb21TZWwuZm9jdXNOb2RlICYmIHRoaXMuZm9jdXNPZmZzZXQgPT0gZG9tU2VsLmZvY3VzT2Zmc2V0O1xuICAgIH1cbiAgICBzZXRSYW5nZShyYW5nZSkge1xuICAgICAgICBsZXQgeyBhbmNob3JOb2RlLCBmb2N1c05vZGUgfSA9IHJhbmdlO1xuICAgICAgICAvLyBDbGlwIG9mZnNldHMgdG8gbm9kZSBzaXplIHRvIGF2b2lkIGNyYXNoZXMgd2hlbiBTYWZhcmkgcmVwb3J0cyBib2d1cyBvZmZzZXRzICgjMTE1MilcbiAgICAgICAgdGhpcy5zZXQoYW5jaG9yTm9kZSwgTWF0aC5taW4ocmFuZ2UuYW5jaG9yT2Zmc2V0LCBhbmNob3JOb2RlID8gbWF4T2Zmc2V0KGFuY2hvck5vZGUpIDogMCksIGZvY3VzTm9kZSwgTWF0aC5taW4ocmFuZ2UuZm9jdXNPZmZzZXQsIGZvY3VzTm9kZSA/IG1heE9mZnNldChmb2N1c05vZGUpIDogMCkpO1xuICAgIH1cbiAgICBzZXQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTm9kZSA9IGFuY2hvck5vZGU7XG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gYW5jaG9yT2Zmc2V0O1xuICAgICAgICB0aGlzLmZvY3VzTm9kZSA9IGZvY3VzTm9kZTtcbiAgICAgICAgdGhpcy5mb2N1c09mZnNldCA9IGZvY3VzT2Zmc2V0O1xuICAgIH1cbn1cbmxldCBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gbnVsbDtcbi8vIEZlYXR1cmUtZGV0ZWN0cyBzdXBwb3J0IGZvciAuZm9jdXMoe3ByZXZlbnRTY3JvbGw6IHRydWV9KSwgYW5kIHVzZXNcbi8vIGEgZmFsbGJhY2sga2x1ZGdlIHdoZW4gbm90IHN1cHBvcnRlZC5cbmZ1bmN0aW9uIGZvY3VzUHJldmVudFNjcm9sbChkb20pIHtcbiAgICBpZiAoZG9tLnNldEFjdGl2ZSlcbiAgICAgICAgcmV0dXJuIGRvbS5zZXRBY3RpdmUoKTsgLy8gaW4gSUVcbiAgICBpZiAocHJldmVudFNjcm9sbFN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKTtcbiAgICBsZXQgc3RhY2sgPSBbXTtcbiAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgc3RhY2sucHVzaChjdXIsIGN1ci5zY3JvbGxUb3AsIGN1ci5zY3JvbGxMZWZ0KTtcbiAgICAgICAgaWYgKGN1ciA9PSBjdXIub3duZXJEb2N1bWVudClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCA9PSBudWxsID8ge1xuICAgICAgICBnZXQgcHJldmVudFNjcm9sbCgpIHtcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSB7IHByZXZlbnRTY3JvbGw6IHRydWUgfTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSA6IHVuZGVmaW5lZCk7XG4gICAgaWYgKCFwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKSB7XG4gICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgZWx0ID0gc3RhY2tbaSsrXSwgdG9wID0gc3RhY2tbaSsrXSwgbGVmdCA9IHN0YWNrW2krK107XG4gICAgICAgICAgICBpZiAoZWx0LnNjcm9sbFRvcCAhPSB0b3ApXG4gICAgICAgICAgICAgICAgZWx0LnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgICAgIGlmIChlbHQuc2Nyb2xsTGVmdCAhPSBsZWZ0KVxuICAgICAgICAgICAgICAgIGVsdC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmxldCBzY3JhdGNoUmFuZ2U7XG5mdW5jdGlvbiB0ZXh0UmFuZ2Uobm9kZSwgZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgbGV0IHJhbmdlID0gc2NyYXRjaFJhbmdlIHx8IChzY3JhdGNoUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpKTtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgdG8pO1xuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGZyb20pO1xuICAgIHJldHVybiByYW5nZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoS2V5KGVsdCwgbmFtZSwgY29kZSwgbW9kcykge1xuICAgIGxldCBvcHRpb25zID0geyBrZXk6IG5hbWUsIGNvZGU6IG5hbWUsIGtleUNvZGU6IGNvZGUsIHdoaWNoOiBjb2RlLCBjYW5jZWxhYmxlOiB0cnVlIH07XG4gICAgaWYgKG1vZHMpXG4gICAgICAgICh7IGFsdEtleTogb3B0aW9ucy5hbHRLZXksIGN0cmxLZXk6IG9wdGlvbnMuY3RybEtleSwgc2hpZnRLZXk6IG9wdGlvbnMuc2hpZnRLZXksIG1ldGFLZXk6IG9wdGlvbnMubWV0YUtleSB9ID0gbW9kcyk7XG4gICAgbGV0IGRvd24gPSBuZXcgS2V5Ym9hcmRFdmVudChcImtleWRvd25cIiwgb3B0aW9ucyk7XG4gICAgZG93bi5zeW50aGV0aWMgPSB0cnVlO1xuICAgIGVsdC5kaXNwYXRjaEV2ZW50KGRvd24pO1xuICAgIGxldCB1cCA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5dXBcIiwgb3B0aW9ucyk7XG4gICAgdXAuc3ludGhldGljID0gdHJ1ZTtcbiAgICBlbHQuZGlzcGF0Y2hFdmVudCh1cCk7XG4gICAgcmV0dXJuIGRvd24uZGVmYXVsdFByZXZlbnRlZCB8fCB1cC5kZWZhdWx0UHJldmVudGVkO1xufVxuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT0gOSB8fCBub2RlLm5vZGVUeXBlID09IDExICYmIG5vZGUuaG9zdCkpXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuYXNzaWduZWRTbG90IHx8IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjbGVhckF0dHJpYnV0ZXMobm9kZSkge1xuICAgIHdoaWxlIChub2RlLmF0dHJpYnV0ZXMubGVuZ3RoKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUobm9kZS5hdHRyaWJ1dGVzWzBdKTtcbn1cbmZ1bmN0aW9uIGF0RWxlbWVudFN0YXJ0KGRvYywgc2VsZWN0aW9uKSB7XG4gICAgbGV0IG5vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlLCBvZmZzZXQgPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgaWYgKCFub2RlIHx8IHNlbGVjdGlvbi5hbmNob3JOb2RlICE9IG5vZGUgfHwgc2VsZWN0aW9uLmFuY2hvck9mZnNldCAhPSBvZmZzZXQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBTYWZhcmkgY2FuIHJlcG9ydCBib2d1cyBvZmZzZXRzICgjMTE1MilcbiAgICBvZmZzZXQgPSBNYXRoLm1pbihvZmZzZXQsIG1heE9mZnNldChub2RlKSk7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgaWYgKHByZXYuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICBvZmZzZXQtLTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBwcmV2O1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG1heE9mZnNldChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlID09IGRvYykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1Njcm9sbGVkVG9Cb3R0b20oZWx0KSB7XG4gICAgcmV0dXJuIGVsdC5zY3JvbGxUb3AgPiBNYXRoLm1heCgxLCBlbHQuc2Nyb2xsSGVpZ2h0IC0gZWx0LmNsaWVudEhlaWdodCAtIDQpO1xufVxuZnVuY3Rpb24gdGV4dE5vZGVCZWZvcmUoc3RhcnROb2RlLCBzdGFydE9mZnNldCkge1xuICAgIGZvciAobGV0IG5vZGUgPSBzdGFydE5vZGUsIG9mZnNldCA9IHN0YXJ0T2Zmc2V0OzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIG9mZnNldCA9IG1heE9mZnNldChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgJiYgIWlzQmxvY2tFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRleHROb2RlQWZ0ZXIoc3RhcnROb2RlLCBzdGFydE9mZnNldCkge1xuICAgIGZvciAobGV0IG5vZGUgPSBzdGFydE5vZGUsIG9mZnNldCA9IHN0YXJ0T2Zmc2V0OzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiBvZmZzZXQgPCBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiAhaXNCbG9ja0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGRvbUluZGV4KG5vZGUpICsgMTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRE9NUG9zIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBvZmZzZXQsIHByZWNpc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnByZWNpc2UgPSBwcmVjaXNlO1xuICAgIH1cbiAgICBzdGF0aWMgYmVmb3JlKGRvbSwgcHJlY2lzZSkgeyByZXR1cm4gbmV3IERPTVBvcyhkb20ucGFyZW50Tm9kZSwgZG9tSW5kZXgoZG9tKSwgcHJlY2lzZSk7IH1cbiAgICBzdGF0aWMgYWZ0ZXIoZG9tLCBwcmVjaXNlKSB7IHJldHVybiBuZXcgRE9NUG9zKGRvbS5wYXJlbnROb2RlLCBkb21JbmRleChkb20pICsgMSwgcHJlY2lzZSk7IH1cbn1cbmNvbnN0IG5vQ2hpbGRyZW4gPSBbXTtcbmNsYXNzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgcG9zQXRTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucG9zQmVmb3JlKHRoaXMpIDogMDtcbiAgICB9XG4gICAgZ2V0IHBvc0F0RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHBvc0JlZm9yZSh2aWV3KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PSB2aWV3KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gY2hpbGQubGVuZ3RoICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY2hpbGQgaW4gcG9zQmVmb3JlXCIpO1xuICAgIH1cbiAgICBwb3NBZnRlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc0JlZm9yZSh2aWV3KSArIHZpZXcubGVuZ3RoO1xuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi8pIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmRvbTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbnVsbCwgbmV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZmxhZ3MgJiA3IC8qIFZpZXdGbGFnLkRpcnR5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQuZG9tICYmIChuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZW50VmlldyA9IENvbnRlbnRWaWV3LmdldChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudFZpZXcgfHwgIWNvbnRlbnRWaWV3LnBhcmVudCAmJiBjb250ZW50Vmlldy5jYW5SZXVzZURPTShjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmV1c2VET00obmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2sgJiYgIXRyYWNrLndyaXR0ZW4gJiYgdHJhY2subm9kZSA9PSBwYXJlbnQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQuZG9tLCBuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IGNoaWxkLmRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5leHQgJiYgdHJhY2sgJiYgdHJhY2subm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAobmV4dClcbiAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZURPTShfZG9tKSB7IH1cbiAgICBsb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBhZnRlcjtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGFmdGVyID0gdGhpcy5kb20uY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJpYXMgPSBtYXhPZmZzZXQobm9kZSkgPT0gMCA/IDAgOiBvZmZzZXQgPT0gMCA/IC0xIDogMTtcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgPT0gdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChiaWFzID09IDAgJiYgcGFyZW50LmZpcnN0Q2hpbGQgIT0gcGFyZW50Lmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpYXMgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYmlhcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmlhcyA8IDApXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBub2RlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGFmdGVyID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZ0ZXIgPT0gdGhpcy5kb20uZmlyc3RDaGlsZClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB3aGlsZSAoYWZ0ZXIgJiYgIUNvbnRlbnRWaWV3LmdldChhZnRlcikpXG4gICAgICAgICAgICBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIWFmdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20gPT0gYWZ0ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIHBvcyArPSBjaGlsZC5sZW5ndGggKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgb2Zmc2V0ID0gMCkge1xuICAgICAgICBsZXQgZnJvbUkgPSAtMSwgZnJvbVN0YXJ0ID0gLTEsIHRvSSA9IC0xLCB0b0VuZCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gb2Zmc2V0LCBwcmV2RW5kID0gb2Zmc2V0OyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA8IGZyb20gJiYgZW5kID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgcG9zKTtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gZnJvbSAmJiBmcm9tSSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZyb21JID0gaTtcbiAgICAgICAgICAgICAgICBmcm9tU3RhcnQgPSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zID4gdG8gJiYgY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0b0kgPSBpO1xuICAgICAgICAgICAgICAgIHRvRW5kID0gcHJldkVuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZFbmQgPSBlbmQ7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZyb206IGZyb21TdGFydCwgdG86IHRvRW5kIDwgMCA/IG9mZnNldCArIHRoaXMubGVuZ3RoIDogdG9FbmQsXG4gICAgICAgICAgICBzdGFydERPTTogKGZyb21JID8gdGhpcy5jaGlsZHJlbltmcm9tSSAtIDFdLmRvbS5uZXh0U2libGluZyA6IG51bGwpIHx8IHRoaXMuZG9tLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBlbmRET006IHRvSSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmIHRvSSA+PSAwID8gdGhpcy5jaGlsZHJlblt0b0ldLmRvbSA6IG51bGwgfTtcbiAgICB9XG4gICAgbWFya0RpcnR5KGFuZFBhcmVudCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZmxhZ3MgfD0gMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIHRoaXMubWFya1BhcmVudHNEaXJ0eShhbmRQYXJlbnQpO1xuICAgIH1cbiAgICBtYXJrUGFyZW50c0RpcnR5KGNoaWxkTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDsgcGFyZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0KVxuICAgICAgICAgICAgICAgIHBhcmVudC5mbGFncyB8PSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZmxhZ3MgJiAxIC8qIFZpZXdGbGFnLkNoaWxkRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGFyZW50LmZsYWdzIHw9IDEgLyogVmlld0ZsYWcuQ2hpbGREaXJ0eSAqLztcbiAgICAgICAgICAgIGNoaWxkTGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFBhcmVudChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrUGFyZW50c0RpcnR5KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldERPTShkb20pIHtcbiAgICAgICAgaWYgKHRoaXMuZG9tID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5kb20uY21WaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb207XG4gICAgICAgIGRvbS5jbVZpZXcgPSB0aGlzO1xuICAgIH1cbiAgICBnZXQgcm9vdFZpZXcoKSB7XG4gICAgICAgIGZvciAobGV0IHYgPSB0aGlzOzspIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB2LnBhcmVudDtcbiAgICAgICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgdiA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlQ2hpbGRyZW4oZnJvbSwgdG8sIGNoaWxkcmVuID0gbm9DaGlsZHJlbikge1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09IHRoaXMgJiYgY2hpbGRyZW4uaW5kZXhPZihjaGlsZCkgPCAwKVxuICAgICAgICAgICAgICAgIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoIDwgMjUwKVxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoZnJvbSwgdG8gLSBmcm9tLCAuLi5jaGlsZHJlbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXS5jb25jYXQodGhpcy5jaGlsZHJlbi5zbGljZSgwLCBmcm9tKSwgY2hpbGRyZW4sIHRoaXMuY2hpbGRyZW4uc2xpY2UodG8pKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnNldFBhcmVudCh0aGlzKTtcbiAgICB9XG4gICAgaWdub3JlTXV0YXRpb24oX3JlYykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZ25vcmVFdmVudChfZXZlbnQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgY2hpbGRDdXJzb3IocG9zID0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGlsZEN1cnNvcih0aGlzLmNoaWxkcmVuLCBwb3MsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICB9XG4gICAgY2hpbGRQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZEN1cnNvcigpLmZpbmRQb3MocG9zLCBiaWFzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLnJlcGxhY2UoXCJWaWV3XCIsIFwiXCIpO1xuICAgICAgICByZXR1cm4gbmFtZSArICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgdGhpcy5jaGlsZHJlbi5qb2luKCkgKyBcIilcIiA6XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA/IFwiW1wiICsgKG5hbWUgPT0gXCJUZXh0XCIgPyB0aGlzLnRleHQgOiB0aGlzLmxlbmd0aCkgKyBcIl1cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICh0aGlzLmJyZWFrQWZ0ZXIgPyBcIiNcIiA6IFwiXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KG5vZGUpIHsgcmV0dXJuIG5vZGUuY21WaWV3OyB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZ2V0IGlzV2lkZ2V0KCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBiZWNvbWUob3RoZXIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgY2FuUmV1c2VET00ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyLmNvbnN0cnVjdG9yID09IHRoaXMuY29uc3RydWN0b3IgJiYgISgodGhpcy5mbGFncyB8IG90aGVyLmZsYWdzKSAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgIH1cbiAgICAvLyBXaGVuIHRoaXMgaXMgYSB6ZXJvLWxlbmd0aCB2aWV3IHdpdGggYSBzaWRlLCB0aGlzIHNob3VsZCByZXR1cm4gYVxuICAgIC8vIG51bWJlciA8PSAwIHRvIGluZGljYXRlIGl0IGlzIGJlZm9yZSBpdHMgcG9zaXRpb24sIG9yIGFcbiAgICAvLyBudW1iZXIgPiAwIHdoZW4gYWZ0ZXIgaXRzIHBvc2l0aW9uLlxuICAgIGdldFNpZGUoKSB7IHJldHVybiAwOyB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbilcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQgPT0gdGhpcylcbiAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG59XG5Db250ZW50Vmlldy5wcm90b3R5cGUuYnJlYWtBZnRlciA9IDA7XG4vLyBSZW1vdmUgYSBET00gbm9kZSBhbmQgcmV0dXJuIGl0cyBuZXh0IHNpYmxpbmcuXG5mdW5jdGlvbiBybSQxKGRvbSkge1xuICAgIGxldCBuZXh0ID0gZG9tLm5leHRTaWJsaW5nO1xuICAgIGRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbSk7XG4gICAgcmV0dXJuIG5leHQ7XG59XG5jbGFzcyBDaGlsZEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4sIHBvcywgaSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLmkgPSBpO1xuICAgICAgICB0aGlzLm9mZiA9IDA7XG4gICAgfVxuICAgIGZpbmRQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAocG9zID4gdGhpcy5wb3MgfHwgcG9zID09IHRoaXMucG9zICYmXG4gICAgICAgICAgICAgICAgKGJpYXMgPiAwIHx8IHRoaXMuaSA9PSAwIHx8IHRoaXMuY2hpbGRyZW5bdGhpcy5pIC0gMV0uYnJlYWtBZnRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZiA9IHBvcyAtIHRoaXMucG9zO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmNoaWxkcmVuWy0tdGhpcy5pXTtcbiAgICAgICAgICAgIHRoaXMucG9zIC09IG5leHQubGVuZ3RoICsgbmV4dC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVwbGFjZVJhbmdlKHBhcmVudCwgZnJvbUksIGZyb21PZmYsIHRvSSwgdG9PZmYsIGluc2VydCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICBsZXQgeyBjaGlsZHJlbiB9ID0gcGFyZW50O1xuICAgIGxldCBiZWZvcmUgPSBjaGlsZHJlbi5sZW5ndGggPyBjaGlsZHJlbltmcm9tSV0gOiBudWxsO1xuICAgIGxldCBsYXN0ID0gaW5zZXJ0Lmxlbmd0aCA/IGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIGxldCBicmVha0F0RW5kID0gbGFzdCA/IGxhc3QuYnJlYWtBZnRlciA6IGJyZWFrQXRTdGFydDtcbiAgICAvLyBDaGFuZ2Ugd2l0aGluIGEgc2luZ2xlIGNoaWxkXG4gICAgaWYgKGZyb21JID09IHRvSSAmJiBiZWZvcmUgJiYgIWJyZWFrQXRTdGFydCAmJiAhYnJlYWtBdEVuZCAmJiBpbnNlcnQubGVuZ3RoIDwgMiAmJlxuICAgICAgICBiZWZvcmUubWVyZ2UoZnJvbU9mZiwgdG9PZmYsIGluc2VydC5sZW5ndGggPyBsYXN0IDogbnVsbCwgZnJvbU9mZiA9PSAwLCBvcGVuU3RhcnQsIG9wZW5FbmQpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHRvSSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSBjaGlsZHJlblt0b0ldO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVuZCBvZiB0aGUgY2hpbGQgYWZ0ZXIgdGhlIHVwZGF0ZSBpcyBwcmVzZXJ2ZWQgaW4gYGFmdGVyYFxuICAgICAgICBpZiAoYWZ0ZXIgJiYgKHRvT2ZmIDwgYWZ0ZXIubGVuZ3RoIHx8IGFmdGVyLmJyZWFrQWZ0ZXIgJiYgKGxhc3QgPT09IG51bGwgfHwgbGFzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdC5icmVha0FmdGVyKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIHNwbGl0dGluZyBhIGNoaWxkLCBzZXBhcmF0ZSBwYXJ0IG9mIGl0IHRvIGF2b2lkIHRoYXRcbiAgICAgICAgICAgIC8vIGJlaW5nIG1hbmdsZWQgd2hlbiB1cGRhdGluZyB0aGUgY2hpbGQgYmVmb3JlIHRoZSB1cGRhdGUuXG4gICAgICAgICAgICBpZiAoZnJvbUkgPT0gdG9JKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBhZnRlci5zcGxpdCh0b09mZik7XG4gICAgICAgICAgICAgICAgdG9PZmYgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgYWZ0ZXIgdGhlIHJlcGxhY2VtZW50IHNob3VsZCBiZSBtZXJnZWQgd2l0aFxuICAgICAgICAgICAgLy8gdGhlIGxhc3QgcmVwbGFjaW5nIGVsZW1lbnQsIHVwZGF0ZSBgY29udGVudGBcbiAgICAgICAgICAgIGlmICghYnJlYWtBdEVuZCAmJiBsYXN0ICYmIGFmdGVyLm1lcmdlKDAsIHRvT2ZmLCBsYXN0LCB0cnVlLCAwLCBvcGVuRW5kKSkge1xuICAgICAgICAgICAgICAgIGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0gPSBhZnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc3RhcnQgb2YgdGhlIGFmdGVyIGVsZW1lbnQsIGlmIG5lY2Vzc2FyeSwgYW5kXG4gICAgICAgICAgICAgICAgLy8gYWRkIGl0IHRvIGBjb250ZW50YC5cbiAgICAgICAgICAgICAgICBpZiAodG9PZmYgfHwgYWZ0ZXIuY2hpbGRyZW4ubGVuZ3RoICYmICFhZnRlci5jaGlsZHJlblswXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyLm1lcmdlKDAsIHRvT2ZmLCBudWxsLCBmYWxzZSwgMCwgb3BlbkVuZCk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0LnB1c2goYWZ0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyID09PSBudWxsIHx8IGFmdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZnRlci5icmVha0FmdGVyKSB7XG4gICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBhdCBgdG9JYCBpcyBlbnRpcmVseSBjb3ZlcmVkIGJ5IHRoaXMgcmFuZ2UuXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSBpdHMgbGluZSBicmVhaywgaWYgYW55LlxuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgbGFzdC5icmVha0FmdGVyID0gMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVha0F0U3RhcnQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIHdlJ3ZlIGhhbmRsZWQgdGhlIG5leHQgZWxlbWVudCBmcm9tIHRoZSBjdXJyZW50IGVsZW1lbnRzXG4gICAgICAgIC8vIG5vdywgbWFrZSBzdXJlIGB0b0lgIHBvaW50cyBhZnRlciB0aGF0LlxuICAgICAgICB0b0krKztcbiAgICB9XG4gICAgaWYgKGJlZm9yZSkge1xuICAgICAgICBiZWZvcmUuYnJlYWtBZnRlciA9IGJyZWFrQXRTdGFydDtcbiAgICAgICAgaWYgKGZyb21PZmYgPiAwKSB7XG4gICAgICAgICAgICBpZiAoIWJyZWFrQXRTdGFydCAmJiBpbnNlcnQubGVuZ3RoICYmIGJlZm9yZS5tZXJnZShmcm9tT2ZmLCBiZWZvcmUubGVuZ3RoLCBpbnNlcnRbMF0sIGZhbHNlLCBvcGVuU3RhcnQsIDApKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlLmJyZWFrQWZ0ZXIgPSBpbnNlcnQuc2hpZnQoKS5icmVha0FmdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbU9mZiA8IGJlZm9yZS5sZW5ndGggfHwgYmVmb3JlLmNoaWxkcmVuLmxlbmd0aCAmJiBiZWZvcmUuY2hpbGRyZW5bYmVmb3JlLmNoaWxkcmVuLmxlbmd0aCAtIDFdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlLm1lcmdlKGZyb21PZmYsIGJlZm9yZS5sZW5ndGgsIG51bGwsIGZhbHNlLCBvcGVuU3RhcnQsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUcnkgdG8gbWVyZ2Ugd2lkZ2V0cyBvbiB0aGUgYm91bmRhcmllcyBvZiB0aGUgcmVwbGFjZW1lbnRcbiAgICB3aGlsZSAoZnJvbUkgPCB0b0kgJiYgaW5zZXJ0Lmxlbmd0aCkge1xuICAgICAgICBpZiAoY2hpbGRyZW5bdG9JIC0gMV0uYmVjb21lKGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICB0b0ktLTtcbiAgICAgICAgICAgIGluc2VydC5wb3AoKTtcbiAgICAgICAgICAgIG9wZW5FbmQgPSBpbnNlcnQubGVuZ3RoID8gMCA6IG9wZW5TdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbltmcm9tSV0uYmVjb21lKGluc2VydFswXSkpIHtcbiAgICAgICAgICAgIGZyb21JKys7XG4gICAgICAgICAgICBpbnNlcnQuc2hpZnQoKTtcbiAgICAgICAgICAgIG9wZW5TdGFydCA9IGluc2VydC5sZW5ndGggPyAwIDogb3BlbkVuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaW5zZXJ0Lmxlbmd0aCAmJiBmcm9tSSAmJiB0b0kgPCBjaGlsZHJlbi5sZW5ndGggJiYgIWNoaWxkcmVuW2Zyb21JIC0gMV0uYnJlYWtBZnRlciAmJlxuICAgICAgICBjaGlsZHJlblt0b0ldLm1lcmdlKDAsIDAsIGNoaWxkcmVuW2Zyb21JIC0gMV0sIGZhbHNlLCBvcGVuU3RhcnQsIG9wZW5FbmQpKVxuICAgICAgICBmcm9tSS0tO1xuICAgIGlmIChmcm9tSSA8IHRvSSB8fCBpbnNlcnQubGVuZ3RoKVxuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkcmVuKGZyb21JLCB0b0ksIGluc2VydCk7XG59XG5mdW5jdGlvbiBtZXJnZUNoaWxkcmVuSW50byhwYXJlbnQsIGZyb20sIHRvLCBpbnNlcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgIGxldCBjdXIgPSBwYXJlbnQuY2hpbGRDdXJzb3IoKTtcbiAgICBsZXQgeyBpOiB0b0ksIG9mZjogdG9PZmYgfSA9IGN1ci5maW5kUG9zKHRvLCAxKTtcbiAgICBsZXQgeyBpOiBmcm9tSSwgb2ZmOiBmcm9tT2ZmIH0gPSBjdXIuZmluZFBvcyhmcm9tLCAtMSk7XG4gICAgbGV0IGRMZW4gPSBmcm9tIC0gdG87XG4gICAgZm9yIChsZXQgdmlldyBvZiBpbnNlcnQpXG4gICAgICAgIGRMZW4gKz0gdmlldy5sZW5ndGg7XG4gICAgcGFyZW50Lmxlbmd0aCArPSBkTGVuO1xuICAgIHJlcGxhY2VSYW5nZShwYXJlbnQsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBpbnNlcnQsIDAsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG59XG5cbmxldCBuYXYgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogXCJcIiwgdmVuZG9yOiBcIlwiLCBwbGF0Zm9ybTogXCJcIiB9O1xubGV0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiID8gZG9jdW1lbnQgOiB7IGRvY3VtZW50RWxlbWVudDogeyBzdHlsZToge30gfSB9O1xuY29uc3QgaWVfZWRnZSA9IC8qQF9fUFVSRV9fKi8vRWRnZVxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IGllX3VwdG8xMCA9IC8qQF9fUFVSRV9fKi8vTVNJRSBcXGQvLnRlc3QobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZV8xMXVwID0gLypAX19QVVJFX18qLy9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IGllID0gISEoaWVfdXB0bzEwIHx8IGllXzExdXAgfHwgaWVfZWRnZSk7XG5jb25zdCBnZWNrbyA9ICFpZSAmJiAvKkBfX1BVUkVfXyovL2dlY2tvXFwvKFxcZCspL2kudGVzdChuYXYudXNlckFnZW50KTtcbmNvbnN0IGNocm9tZSA9ICFpZSAmJiAvKkBfX1BVUkVfXyovL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IHdlYmtpdCA9IFwid2Via2l0Rm9udFNtb290aGluZ1wiIGluIGRvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5jb25zdCBzYWZhcmkgPSAhaWUgJiYgLypAX19QVVJFX18qLy9BcHBsZSBDb21wdXRlci8udGVzdChuYXYudmVuZG9yKTtcbmNvbnN0IGlvcyA9IHNhZmFyaSAmJiAoLypAX19QVVJFX18qLy9Nb2JpbGVcXC9cXHcrLy50ZXN0KG5hdi51c2VyQWdlbnQpIHx8IG5hdi5tYXhUb3VjaFBvaW50cyA+IDIpO1xudmFyIGJyb3dzZXIgPSB7XG4gICAgbWFjOiBpb3MgfHwgLypAX19QVVJFX18qLy9NYWMvLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICB3aW5kb3dzOiAvKkBfX1BVUkVfXyovL1dpbi8udGVzdChuYXYucGxhdGZvcm0pLFxuICAgIGxpbnV4OiAvKkBfX1BVUkVfXyovL0xpbnV4fFgxMS8udGVzdChuYXYucGxhdGZvcm0pLFxuICAgIGllLFxuICAgIGllX3ZlcnNpb246IGllX3VwdG8xMCA/IGRvYy5kb2N1bWVudE1vZGUgfHwgNiA6IGllXzExdXAgPyAraWVfMTF1cFsxXSA6IGllX2VkZ2UgPyAraWVfZWRnZVsxXSA6IDAsXG4gICAgZ2Vja28sXG4gICAgZ2Vja29fdmVyc2lvbjogZ2Vja28gPyArKC8qQF9fUFVSRV9fKi8vRmlyZWZveFxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdIDogMCxcbiAgICBjaHJvbWU6ICEhY2hyb21lLFxuICAgIGNocm9tZV92ZXJzaW9uOiBjaHJvbWUgPyArY2hyb21lWzFdIDogMCxcbiAgICBpb3MsXG4gICAgYW5kcm9pZDogLypAX19QVVJFX18qLy9BbmRyb2lkXFxiLy50ZXN0KG5hdi51c2VyQWdlbnQpLFxuICAgIHdlYmtpdCxcbiAgICBzYWZhcmksXG4gICAgd2Via2l0X3ZlcnNpb246IHdlYmtpdCA/ICsoLypAX19QVVJFX18qLy9cXGJBcHBsZVdlYktpdFxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdIDogMCxcbiAgICB0YWJTaXplOiBkb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRhYlNpemUgIT0gbnVsbCA/IFwidGFiLXNpemVcIiA6IFwiLW1vei10YWItc2l6ZVwiXG59O1xuXG5jb25zdCBNYXhKb2luTGVuID0gMjU2O1xuY2xhc3MgVGV4dFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IodGV4dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aDsgfVxuICAgIGNyZWF0ZURPTSh0ZXh0RE9NKSB7XG4gICAgICAgIHRoaXMuc2V0RE9NKHRleHRET00gfHwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy50ZXh0KSk7XG4gICAgfVxuICAgIHN5bmModmlldywgdHJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRE9NKCk7XG4gICAgICAgIGlmICh0aGlzLmRvbS5ub2RlVmFsdWUgIT0gdGhpcy50ZXh0KSB7XG4gICAgICAgICAgICBpZiAodHJhY2sgJiYgdHJhY2subm9kZSA9PSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICB0cmFjay53cml0dGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZG9tLm5vZGVWYWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZURPTShkb20pIHtcbiAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVET00oZG9tKTtcbiAgICB9XG4gICAgbWVyZ2UoZnJvbSwgdG8sIHNvdXJjZSkge1xuICAgICAgICBpZiAoKHRoaXMuZmxhZ3MgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKSB8fFxuICAgICAgICAgICAgc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIFRleHRWaWV3KSB8fFxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoIC0gKHRvIC0gZnJvbSkgKyBzb3VyY2UubGVuZ3RoID4gTWF4Sm9pbkxlbiB8fFxuICAgICAgICAgICAgICAgIChzb3VyY2UuZmxhZ3MgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zbGljZSgwLCBmcm9tKSArIChzb3VyY2UgPyBzb3VyY2UudGV4dCA6IFwiXCIpICsgdGhpcy50ZXh0LnNsaWNlKHRvKTtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBUZXh0Vmlldyh0aGlzLnRleHQuc2xpY2UoZnJvbSkpO1xuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuc2xpY2UoMCwgZnJvbSk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJlc3VsdC5mbGFncyB8PSB0aGlzLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gbm9kZSA9PSB0aGlzLmRvbSA/IG9mZnNldCA6IG9mZnNldCA/IHRoaXMudGV4dC5sZW5ndGggOiAwO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHsgcmV0dXJuIG5ldyBET01Qb3ModGhpcy5kb20sIHBvcyk7IH1cbiAgICBkb21Cb3VuZHNBcm91bmQoX2Zyb20sIF90bywgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7IGZyb206IG9mZnNldCwgdG86IG9mZnNldCArIHRoaXMubGVuZ3RoLCBzdGFydERPTTogdGhpcy5kb20sIGVuZERPTTogdGhpcy5kb20ubmV4dFNpYmxpbmcgfTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiB0ZXh0Q29vcmRzKHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgIH1cbn1cbmNsYXNzIE1hcmtWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKG1hcmssIGNoaWxkcmVuID0gW10sIGxlbmd0aCA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tYXJrID0gbWFyaztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgY2ggb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICBjaC5zZXRQYXJlbnQodGhpcyk7XG4gICAgfVxuICAgIHNldEF0dHJzKGRvbSkge1xuICAgICAgICBjbGVhckF0dHJpYnV0ZXMoZG9tKTtcbiAgICAgICAgaWYgKHRoaXMubWFyay5jbGFzcylcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSB0aGlzLm1hcmsuY2xhc3M7XG4gICAgICAgIGlmICh0aGlzLm1hcmsuYXR0cnMpXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMubWFyay5hdHRycylcbiAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKG5hbWUsIHRoaXMubWFyay5hdHRyc1tuYW1lXSk7XG4gICAgICAgIHJldHVybiBkb207XG4gICAgfVxuICAgIGNhblJldXNlRE9NKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jYW5SZXVzZURPTShvdGhlcikgJiYgISgodGhpcy5mbGFncyB8IG90aGVyLmZsYWdzKSAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgIH1cbiAgICByZXVzZURPTShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IHRoaXMubWFyay50YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8gfCAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLnNldERPTSh0aGlzLnNldEF0dHJzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5tYXJrLnRhZ05hbWUpKSk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8pXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJzKHRoaXMuZG9tKTtcbiAgICAgICAgc3VwZXIuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIF9oYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgc291cmNlLm1hcmsuZXEodGhpcy5tYXJrKSkgfHxcbiAgICAgICAgICAgIChmcm9tICYmIG9wZW5TdGFydCA8PSAwKSB8fCAodG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbWVyZ2VDaGlsZHJlbkludG8odGhpcywgZnJvbSwgdG8sIHNvdXJjZSA/IHNvdXJjZS5jaGlsZHJlbi5zbGljZSgpIDogW10sIG9wZW5TdGFydCAtIDEsIG9wZW5FbmQgLSAxKTtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBvZmYgPSAwLCBkZXRhY2hGcm9tID0gLTEsIGkgPSAwO1xuICAgICAgICBmb3IgKGxldCBlbHQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IGVuZCA9IG9mZiArIGVsdC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID4gZnJvbSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvZmYgPCBmcm9tID8gZWx0LnNwbGl0KGZyb20gLSBvZmYpIDogZWx0KTtcbiAgICAgICAgICAgIGlmIChkZXRhY2hGcm9tIDwgMCAmJiBvZmYgPj0gZnJvbSlcbiAgICAgICAgICAgICAgICBkZXRhY2hGcm9tID0gaTtcbiAgICAgICAgICAgIG9mZiA9IGVuZDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5sZW5ndGggLSBmcm9tO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb207XG4gICAgICAgIGlmIChkZXRhY2hGcm9tID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gZGV0YWNoRnJvbTtcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrVmlldyh0aGlzLm1hcmssIHJlc3VsdCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiBpbmxpbmVET01BdFBvcyh0aGlzLCBwb3MpO1xuICAgIH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvb3Jkc0luQ2hpbGRyZW4odGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0ZXh0Q29vcmRzKHRleHQsIHBvcywgc2lkZSkge1xuICAgIGxldCBsZW5ndGggPSB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgaWYgKHBvcyA+IGxlbmd0aClcbiAgICAgICAgcG9zID0gbGVuZ3RoO1xuICAgIGxldCBmcm9tID0gcG9zLCB0byA9IHBvcywgZmxhdHRlbiA9IDA7XG4gICAgaWYgKHBvcyA9PSAwICYmIHNpZGUgPCAwIHx8IHBvcyA9PSBsZW5ndGggJiYgc2lkZSA+PSAwKSB7XG4gICAgICAgIGlmICghKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuZ2Vja28pKSB7IC8vIFRoZXNlIGJyb3dzZXJzIHJlbGlhYmx5IHJldHVybiB2YWxpZCByZWN0YW5nbGVzIGZvciBlbXB0eSByYW5nZXNcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBmcm9tLS07XG4gICAgICAgICAgICAgICAgZmxhdHRlbiA9IDE7XG4gICAgICAgICAgICB9IC8vIEZJWE1FIHRoaXMgaXMgd3JvbmcgaW4gUlRMIHRleHRcbiAgICAgICAgICAgIGVsc2UgaWYgKHRvIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG8rKztcbiAgICAgICAgICAgICAgICBmbGF0dGVuID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChzaWRlIDwgMClcbiAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgZWxzZSBpZiAodG8gPCBsZW5ndGgpXG4gICAgICAgICAgICB0bysrO1xuICAgIH1cbiAgICBsZXQgcmVjdHMgPSB0ZXh0UmFuZ2UodGV4dCwgZnJvbSwgdG8pLmdldENsaWVudFJlY3RzKCk7XG4gICAgaWYgKCFyZWN0cy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCByZWN0ID0gcmVjdHNbKGZsYXR0ZW4gPyBmbGF0dGVuIDwgMCA6IHNpZGUgPj0gMCkgPyAwIDogcmVjdHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGJyb3dzZXIuc2FmYXJpICYmICFmbGF0dGVuICYmIHJlY3Qud2lkdGggPT0gMClcbiAgICAgICAgcmVjdCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwocmVjdHMsIHIgPT4gci53aWR0aCkgfHwgcmVjdDtcbiAgICByZXR1cm4gZmxhdHRlbiA/IGZsYXR0ZW5SZWN0KHJlY3QsIGZsYXR0ZW4gPCAwKSA6IHJlY3QgfHwgbnVsbDtcbn1cbi8vIEFsc28gdXNlZCBmb3IgY29sbGFwc2VkIHJhbmdlcyB0aGF0IGRvbid0IGhhdmUgYSBwbGFjZWhvbGRlciB3aWRnZXQhXG5jbGFzcyBXaWRnZXRWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIHN0YXRpYyBjcmVhdGUod2lkZ2V0LCBsZW5ndGgsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXRWaWV3KHdpZGdldCwgbGVuZ3RoLCBzaWRlKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnNpZGUgPSBzaWRlO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBXaWRnZXRWaWV3LmNyZWF0ZSh0aGlzLndpZGdldCwgdGhpcy5sZW5ndGggLSBmcm9tLCB0aGlzLnNpZGUpO1xuICAgICAgICB0aGlzLmxlbmd0aCAtPSBmcm9tO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzeW5jKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tLCB2aWV3KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odmlldykpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5lZGl0YWJsZSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFdpZGdldFZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGUgJiZcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yID09IG90aGVyLndpZGdldC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5jb21wYXJlKG90aGVyLndpZGdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHkodHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20gJiYgIXRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSB0aGlzLndpZGdldDtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0ID0gb3RoZXIud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBvdGhlci5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0aGlzLndpZGdldC5pZ25vcmVFdmVudChldmVudCk7IH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmVtcHR5O1xuICAgICAgICBsZXQgdG9wID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHRvcC5wYXJlbnQpXG4gICAgICAgICAgICB0b3AgPSB0b3AucGFyZW50O1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0b3AsIHRleHQgPSB2aWV3ICYmIHZpZXcuc3RhdGUuZG9jLCBzdGFydCA9IHRoaXMucG9zQXRTdGFydDtcbiAgICAgICAgcmV0dXJuIHRleHQgPyB0ZXh0LnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMubGVuZ3RoKSA6IFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gKHRoaXMubGVuZ3RoID8gcG9zID09IDAgOiB0aGlzLnNpZGUgPiAwKVxuICAgICAgICAgICAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKVxuICAgICAgICAgICAgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20sIHBvcyA9PSB0aGlzLmxlbmd0aCk7XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgbGV0IHJlY3RzID0gdGhpcy5kb20uZ2V0Q2xpZW50UmVjdHMoKSwgcmVjdCA9IG51bGw7XG4gICAgICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBmcm9tQmFjayA9IHRoaXMuc2lkZSA/IHRoaXMuc2lkZSA8IDAgOiBwb3MgPiAwO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbUJhY2sgPyByZWN0cy5sZW5ndGggLSAxIDogMDs7IGkgKz0gKGZyb21CYWNrID8gLTEgOiAxKSkge1xuICAgICAgICAgICAgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKHBvcyA+IDAgPyBpID09IDAgOiBpID09IHJlY3RzLmxlbmd0aCAtIDEgfHwgcmVjdC50b3AgPCByZWN0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QocmVjdCwgIWZyb21CYWNrKTtcbiAgICB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLndpZGdldC5pc0hpZGRlbjsgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy53aWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgfVxufVxuLy8gVGhlc2UgYXJlIGRyYXduIGFyb3VuZCB1bmVkaXRhYmxlIHdpZGdldHMgdG8gYXZvaWQgYSBudW1iZXIgb2Zcbi8vIGJyb3dzZXIgYnVncyB0aGF0IHNob3cgdXAgd2hlbiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IG5leHQgdG9cbi8vIHVuZWRpdGFibGUgaW5saW5lIGNvbnRlbnQuXG5jbGFzcyBXaWRnZXRCdWZmZXJWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaWRlID0gc2lkZTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIDA7IH1cbiAgICBtZXJnZSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFdpZGdldEJ1ZmZlclZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGU7XG4gICAgfVxuICAgIHNwbGl0KCkgeyByZXR1cm4gbmV3IFdpZGdldEJ1ZmZlclZpZXcodGhpcy5zaWRlKTsgfVxuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiY20td2lkZ2V0QnVmZmVyXCI7XG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXRET00oZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTaWRlKCkgeyByZXR1cm4gdGhpcy5zaWRlOyB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiB0aGlzLnNpZGUgPiAwID8gRE9NUG9zLmJlZm9yZSh0aGlzLmRvbSkgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20pOyB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKCkgeyByZXR1cm4gMDsgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICByZXR1cm4gVGV4dC5lbXB0eTtcbiAgICB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuVGV4dFZpZXcucHJvdG90eXBlLmNoaWxkcmVuID0gV2lkZ2V0Vmlldy5wcm90b3R5cGUuY2hpbGRyZW4gPSBXaWRnZXRCdWZmZXJWaWV3LnByb3RvdHlwZS5jaGlsZHJlbiA9IG5vQ2hpbGRyZW47XG5mdW5jdGlvbiBpbmxpbmVET01BdFBvcyhwYXJlbnQsIHBvcykge1xuICAgIGxldCBkb20gPSBwYXJlbnQuZG9tLCB7IGNoaWxkcmVuIH0gPSBwYXJlbnQsIGkgPSAwO1xuICAgIGZvciAobGV0IG9mZiA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICBpZiAoZW5kID09IG9mZiAmJiBjaGlsZC5nZXRTaWRlKCkgPD0gMClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAocG9zID4gb2ZmICYmIHBvcyA8IGVuZCAmJiBjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuZG9tQXRQb3MocG9zIC0gb2ZmKTtcbiAgICAgICAgaWYgKHBvcyA8PSBvZmYpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgb2ZmID0gZW5kO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICBsZXQgcHJldiA9IGNoaWxkcmVuW2ogLSAxXTtcbiAgICAgICAgaWYgKHByZXYuZG9tLnBhcmVudE5vZGUgPT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIHByZXYuZG9tQXRQb3MocHJldi5sZW5ndGgpO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gY2hpbGRyZW5bal07XG4gICAgICAgIGlmIChuZXh0LmRvbS5wYXJlbnROb2RlID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbUF0UG9zKDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERPTVBvcyhkb20sIDApO1xufVxuLy8gQXNzdW1lcyBgdmlld2AsIGlmIGEgbWFyayB2aWV3LCBoYXMgcHJlY2lzZWx5IDEgY2hpbGQuXG5mdW5jdGlvbiBqb2luSW5saW5lSW50byhwYXJlbnQsIHZpZXcsIG9wZW4pIHtcbiAgICBsZXQgbGFzdCwgeyBjaGlsZHJlbiB9ID0gcGFyZW50O1xuICAgIGlmIChvcGVuID4gMCAmJiB2aWV3IGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIChsYXN0ID0gY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0pIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgbGFzdC5tYXJrLmVxKHZpZXcubWFyaykpIHtcbiAgICAgICAgam9pbklubGluZUludG8obGFzdCwgdmlldy5jaGlsZHJlblswXSwgb3BlbiAtIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh2aWV3KTtcbiAgICAgICAgdmlldy5zZXRQYXJlbnQocGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50Lmxlbmd0aCArPSB2aWV3Lmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNvb3Jkc0luQ2hpbGRyZW4odmlldywgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGJlZm9yZSA9IG51bGwsIGJlZm9yZVBvcyA9IC0xLCBhZnRlciA9IG51bGwsIGFmdGVyUG9zID0gLTE7XG4gICAgZnVuY3Rpb24gc2Nhbih2aWV3LCBwb3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCB2aWV3LmNoaWxkcmVuLmxlbmd0aCAmJiBvZmYgPD0gcG9zOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHZpZXcuY2hpbGRyZW5baV0sIGVuZCA9IG9mZiArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gcG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzY2FuKGNoaWxkLCBwb3MgLSBvZmYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoIWFmdGVyIHx8IGFmdGVyLmlzSGlkZGVuICYmIChzaWRlID4gMCB8fCBvblNhbWVMaW5lKGFmdGVyLCBjaGlsZCkpKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZW5kID4gcG9zIHx8IG9mZiA9PSBlbmQgJiYgY2hpbGQuZ2V0U2lkZSgpID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJQb3MgPSBwb3MgLSBvZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9mZiA8IHBvcyB8fCAob2ZmID09IGVuZCAmJiBjaGlsZC5nZXRTaWRlKCkgPCAwKSAmJiAhY2hpbGQuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVBvcyA9IHBvcyAtIG9mZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2Nhbih2aWV3LCBwb3MpO1xuICAgIGxldCB0YXJnZXQgPSAoc2lkZSA8IDAgPyBiZWZvcmUgOiBhZnRlcikgfHwgYmVmb3JlIHx8IGFmdGVyO1xuICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHJldHVybiB0YXJnZXQuY29vcmRzQXQoTWF0aC5tYXgoMCwgdGFyZ2V0ID09IGJlZm9yZSA/IGJlZm9yZVBvcyA6IGFmdGVyUG9zKSwgc2lkZSk7XG4gICAgcmV0dXJuIGZhbGxiYWNrUmVjdCh2aWV3KTtcbn1cbmZ1bmN0aW9uIGZhbGxiYWNrUmVjdCh2aWV3KSB7XG4gICAgbGV0IGxhc3QgPSB2aWV3LmRvbS5sYXN0Q2hpbGQ7XG4gICAgaWYgKCFsYXN0KVxuICAgICAgICByZXR1cm4gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IobGFzdCk7XG4gICAgcmV0dXJuIHJlY3RzW3JlY3RzLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBvblNhbWVMaW5lKGEsIGIpIHtcbiAgICBsZXQgcG9zQSA9IGEuY29vcmRzQXQoMCwgMSksIHBvc0IgPSBiLmNvb3Jkc0F0KDAsIDEpO1xuICAgIHJldHVybiBwb3NBICYmIHBvc0IgJiYgcG9zQi50b3AgPCBwb3NBLmJvdHRvbTtcbn1cblxuZnVuY3Rpb24gY29tYmluZUF0dHJzKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJjbGFzc1wiICYmIHRhcmdldC5jbGFzcylcbiAgICAgICAgICAgIHRhcmdldC5jbGFzcyArPSBcIiBcIiArIHNvdXJjZS5jbGFzcztcbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PSBcInN0eWxlXCIgJiYgdGFyZ2V0LnN0eWxlKVxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlICs9IFwiO1wiICsgc291cmNlLnN0eWxlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBzb3VyY2VbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5jb25zdCBub0F0dHJzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBhdHRyc0VxKGEsIGIsIGlnbm9yZSkge1xuICAgIGlmIChhID09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghYSlcbiAgICAgICAgYSA9IG5vQXR0cnM7XG4gICAgaWYgKCFiKVxuICAgICAgICBiID0gbm9BdHRycztcbiAgICBsZXQga2V5c0EgPSBPYmplY3Qua2V5cyhhKSwga2V5c0IgPSBPYmplY3Qua2V5cyhiKTtcbiAgICBpZiAoa2V5c0EubGVuZ3RoIC0gKGlnbm9yZSAmJiBrZXlzQS5pbmRleE9mKGlnbm9yZSkgPiAtMSA/IDEgOiAwKSAhPVxuICAgICAgICBrZXlzQi5sZW5ndGggLSAoaWdub3JlICYmIGtleXNCLmluZGV4T2YoaWdub3JlKSA+IC0xID8gMSA6IDApKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXNBKSB7XG4gICAgICAgIGlmIChrZXkgIT0gaWdub3JlICYmIChrZXlzQi5pbmRleE9mKGtleSkgPT0gLTEgfHwgYVtrZXldICE9PSBiW2tleV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUF0dHJzKGRvbSwgcHJldiwgYXR0cnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGlmIChwcmV2KVxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHByZXYpXG4gICAgICAgICAgICBpZiAoIShhdHRycyAmJiBuYW1lIGluIGF0dHJzKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwic3R5bGVcIilcbiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLmNzc1RleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICBpZiAoYXR0cnMpXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpXG4gICAgICAgICAgICBpZiAoIShwcmV2ICYmIHByZXZbbmFtZV0gPT0gYXR0cnNbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKVxuICAgICAgICAgICAgICAgICAgICBkb20uc3R5bGUuY3NzVGV4dCA9IGF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBnZXRBdHRycyhkb20pIHtcbiAgICBsZXQgYXR0cnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGF0dHIgPSBkb20uYXR0cmlidXRlc1tpXTtcbiAgICAgICAgYXR0cnNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbn1cblxuLyoqXG5XaWRnZXRzIGFkZGVkIHRvIHRoZSBjb250ZW50IGFyZSBkZXNjcmliZWQgYnkgc3ViY2xhc3NlcyBvZiB0aGlzXG5jbGFzcy4gVXNpbmcgYSBkZXNjcmlwdGlvbiBvYmplY3QgbGlrZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvXG5kZWxheSBjcmVhdGluZyBvZiB0aGUgRE9NIHN0cnVjdHVyZSBmb3IgYSB3aWRnZXQgdW50aWwgaXQgaXNcbm5lZWRlZCwgYW5kIHRvIGF2b2lkIHJlZHJhd2luZyB3aWRnZXRzIGV2ZW4gaWYgdGhlIGRlY29yYXRpb25zXG50aGF0IGRlZmluZSB0aGVtIGFyZSByZWNyZWF0ZWQuXG4qL1xuY2xhc3MgV2lkZ2V0VHlwZSB7XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIGluc3RhbmNlIHRvIGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAoVHlwZVNjcmlwdCBjYW4ndCBleHByZXNzIHRoaXMsIGJ1dCBvbmx5IGluc3RhbmNlcyBvZiB0aGUgc2FtZVxuICAgIHNwZWNpZmljIGNsYXNzIHdpbGwgYmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kLikgVGhpcyBpcyB1c2VkIHRvXG4gICAgYXZvaWQgcmVkcmF3aW5nIHdpZGdldHMgd2hlbiB0aGV5IGFyZSByZXBsYWNlZCBieSBhIG5ld1xuICAgIGRlY29yYXRpb24gb2YgdGhlIHNhbWUgdHlwZS4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24ganVzdFxuICAgIHJldHVybnMgYGZhbHNlYCwgd2hpY2ggd2lsbCBjYXVzZSBuZXcgaW5zdGFuY2VzIG9mIHRoZSB3aWRnZXQgdG9cbiAgICBhbHdheXMgYmUgcmVkcmF3bi5cbiAgICAqL1xuICAgIGVxKHdpZGdldCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBVcGRhdGUgYSBET00gZWxlbWVudCBjcmVhdGVkIGJ5IGEgd2lkZ2V0IG9mIHRoZSBzYW1lIHR5cGUgKGJ1dFxuICAgIGRpZmZlcmVudCwgbm9uLWBlcWAgY29udGVudCkgdG8gcmVmbGVjdCB0aGlzIHdpZGdldC4gTWF5IHJldHVyblxuICAgIHRydWUgdG8gaW5kaWNhdGUgdGhhdCBpdCBjb3VsZCB1cGRhdGUsIGZhbHNlIHRvIGluZGljYXRlIGl0XG4gICAgY291bGRuJ3QgKGluIHdoaWNoIGNhc2UgdGhlIHdpZGdldCB3aWxsIGJlIHJlZHJhd24pLiBUaGUgZGVmYXVsdFxuICAgIGltcGxlbWVudGF0aW9uIGp1c3QgcmV0dXJucyBmYWxzZS5cbiAgICAqL1xuICAgIHVwZGF0ZURPTShkb20sIHZpZXcpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlc3RpbWF0ZWQgaGVpZ2h0IHRoaXMgd2lkZ2V0IHdpbGwgaGF2ZSwgdG8gYmUgdXNlZCB3aGVuXG4gICAgZXN0aW1hdGluZyB0aGUgaGVpZ2h0IG9mIGNvbnRlbnQgdGhhdCBoYXNuJ3QgYmVlbiBkcmF3bi4gTWF5XG4gICAgcmV0dXJuIC0xIHRvIGluZGljYXRlIHlvdSBkb24ndCBrbm93LiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgIHJldHVybnMgLTEuXG4gICAgKi9cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gLTE7IH1cbiAgICAvKipcbiAgICBGb3IgaW5saW5lIHdpZGdldHMgdGhhdCBhcmUgZGlzcGxheWVkIGlubGluZSAoYXMgb3Bwb3NlZCB0b1xuICAgIGBpbmxpbmUtYmxvY2tgKSBhbmQgaW50cm9kdWNlIGxpbmUgYnJlYWtzICh0aHJvdWdoIGA8YnI+YCB0YWdzXG4gICAgb3IgdGV4dHVhbCBuZXdsaW5lcyksIHRoaXMgbXVzdCBpbmRpY2F0ZSB0aGUgYW1vdW50IG9mIGxpbmVcbiAgICBicmVha3MgdGhleSBpbnRyb2R1Y2UuIERlZmF1bHRzIHRvIDAuXG4gICAgKi9cbiAgICBnZXQgbGluZUJyZWFrcygpIHsgcmV0dXJuIDA7IH1cbiAgICAvKipcbiAgICBDYW4gYmUgdXNlZCB0byBjb25maWd1cmUgd2hpY2gga2luZHMgb2YgZXZlbnRzIGluc2lkZSB0aGUgd2lkZ2V0XG4gICAgc2hvdWxkIGJlIGlnbm9yZWQgYnkgdGhlIGVkaXRvci4gVGhlIGRlZmF1bHQgaXMgdG8gaWdub3JlIGFsbFxuICAgIGV2ZW50cy5cbiAgICAqL1xuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0cnVlOyB9XG4gICAgLyoqXG4gICAgT3ZlcnJpZGUgdGhlIHdheSBzY3JlZW4gY29vcmRpbmF0ZXMgZm9yIHBvc2l0aW9ucyBhdC9pbiB0aGVcbiAgICB3aWRnZXQgYXJlIGZvdW5kLiBgcG9zYCB3aWxsIGJlIHRoZSBvZmZzZXQgaW50byB0aGUgd2lkZ2V0LCBhbmRcbiAgICBgc2lkZWAgdGhlIHNpZGUgb2YgdGhlIHBvc2l0aW9uIHRoYXQgaXMgYmVpbmcgcXVlcmllZFx1MjAxNGxlc3MgdGhhblxuICAgIHplcm8gZm9yIGJlZm9yZSwgZ3JlYXRlciB0aGFuIHplcm8gZm9yIGFmdGVyLCBhbmQgemVybyBmb3JcbiAgICBkaXJlY3RseSBhdCB0aGF0IHBvc2l0aW9uLlxuICAgICovXG4gICAgY29vcmRzQXQoZG9tLCBwb3MsIHNpZGUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpc0hpZGRlbigpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgZWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgY2FsbGVkIHdoZW4gdGhlIGFuIGluc3RhbmNlIG9mIHRoZSB3aWRnZXQgaXMgcmVtb3ZlZFxuICAgIGZyb20gdGhlIGVkaXRvciB2aWV3LlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuLyoqXG5UaGUgZGlmZmVyZW50IHR5cGVzIG9mIGJsb2NrcyB0aGF0IGNhbiBvY2N1ciBpbiBhbiBlZGl0b3Igdmlldy5cbiovXG52YXIgQmxvY2tUeXBlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmxvY2tUeXBlKSB7XG4gICAgLyoqXG4gICAgQSBsaW5lIG9mIHRleHQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiVGV4dFwiXSA9IDBdID0gXCJUZXh0XCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBhZnRlciBpdC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXaWRnZXRCZWZvcmVcIl0gPSAxXSA9IFwiV2lkZ2V0QmVmb3JlXCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBiZWZvcmUgaXQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0QWZ0ZXJcIl0gPSAyXSA9IFwiV2lkZ2V0QWZ0ZXJcIjtcbiAgICAvKipcbiAgICBBIGJsb2NrIHdpZGdldCBbcmVwbGFjaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBhIHJhbmdlIG9mIGNvbnRlbnQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0UmFuZ2VcIl0gPSAzXSA9IFwiV2lkZ2V0UmFuZ2VcIjtcbnJldHVybiBCbG9ja1R5cGV9KShCbG9ja1R5cGUgfHwgKEJsb2NrVHlwZSA9IHt9KSk7XG4vKipcbkEgZGVjb3JhdGlvbiBwcm92aWRlcyBpbmZvcm1hdGlvbiBvbiBob3cgdG8gZHJhdyBvciBzdHlsZSBhIHBpZWNlXG5vZiBjb250ZW50LiBZb3UnbGwgdXN1YWxseSB1c2UgaXQgd3JhcHBlZCBpbiBhXG5bYFJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSksIHdoaWNoIGFkZHMgYSBzdGFydCBhbmQgZW5kIHBvc2l0aW9uLlxuQG5vbmFic3RyYWN0XG4qL1xuY2xhc3MgRGVjb3JhdGlvbiBleHRlbmRzIFJhbmdlVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhcnRTaWRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVuZFNpZGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgd2lkZ2V0LCBcbiAgICAvKipcbiAgICBUaGUgY29uZmlnIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIGRlY29yYXRpb24uIFlvdSBjYW5cbiAgICBpbmNsdWRlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbiB0aGVyZSB0byBzdG9yZSBtZXRhZGF0YSBhYm91dFxuICAgIHlvdXIgZGVjb3JhdGlvbi5cbiAgICAqL1xuICAgIHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGFydFNpZGUgPSBzdGFydFNpZGU7XG4gICAgICAgIHRoaXMuZW5kU2lkZSA9IGVuZFNpZGU7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbWFyayBkZWNvcmF0aW9uLCB3aGljaCBpbmZsdWVuY2VzIHRoZSBzdHlsaW5nIG9mIHRoZVxuICAgIGNvbnRlbnQgaW4gaXRzIHJhbmdlLiBOZXN0ZWQgbWFyayBkZWNvcmF0aW9ucyB3aWxsIGNhdXNlIG5lc3RlZFxuICAgIERPTSBlbGVtZW50cyB0byBiZSBjcmVhdGVkLiBOZXN0aW5nIG9yZGVyIGlzIGRldGVybWluZWQgYnlcbiAgICBwcmVjZWRlbmNlIG9mIHRoZSBbZmFjZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRlY29yYXRpb25zKSwgd2l0aFxuICAgIHRoZSBoaWdoZXItcHJlY2VkZW5jZSBkZWNvcmF0aW9ucyBjcmVhdGluZyB0aGUgaW5uZXIgRE9NIG5vZGVzLlxuICAgIFN1Y2ggZWxlbWVudHMgYXJlIHNwbGl0IG9uIGxpbmUgYm91bmRhcmllcyBhbmQgb24gdGhlIGJvdW5kYXJpZXNcbiAgICBvZiBsb3dlci1wcmVjZWRlbmNlIGRlY29yYXRpb25zLlxuICAgICovXG4gICAgc3RhdGljIG1hcmsoc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IE1hcmtEZWNvcmF0aW9uKHNwZWMpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggZGlzcGxheXMgYSBET00gZWxlbWVudCBhdCB0aGVcbiAgICBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyB3aWRnZXQoc3BlYykge1xuICAgICAgICBsZXQgc2lkZSA9IE1hdGgubWF4KC0xMDAwMCwgTWF0aC5taW4oMTAwMDAsIHNwZWMuc2lkZSB8fCAwKSksIGJsb2NrID0gISFzcGVjLmJsb2NrO1xuICAgICAgICBzaWRlICs9IChibG9jayAmJiAhc3BlYy5pbmxpbmVPcmRlcilcbiAgICAgICAgICAgID8gKHNpZGUgPiAwID8gMzAwMDAwMDAwIC8qIFNpZGUuQmxvY2tBZnRlciAqLyA6IC00MDAwMDAwMDAgLyogU2lkZS5CbG9ja0JlZm9yZSAqLylcbiAgICAgICAgICAgIDogKHNpZGUgPiAwID8gMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQWZ0ZXIgKi8gOiAtMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQmVmb3JlICovKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc2lkZSwgc2lkZSwgYmxvY2ssIHNwZWMud2lkZ2V0IHx8IG51bGwsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcmVwbGFjZSBkZWNvcmF0aW9uIHdoaWNoIHJlcGxhY2VzIHRoZSBnaXZlbiByYW5nZSB3aXRoXG4gICAgYSB3aWRnZXQsIG9yIHNpbXBseSBoaWRlcyBpdC5cbiAgICAqL1xuICAgIHN0YXRpYyByZXBsYWNlKHNwZWMpIHtcbiAgICAgICAgbGV0IGJsb2NrID0gISFzcGVjLmJsb2NrLCBzdGFydFNpZGUsIGVuZFNpZGU7XG4gICAgICAgIGlmIChzcGVjLmlzQmxvY2tHYXApIHtcbiAgICAgICAgICAgIHN0YXJ0U2lkZSA9IC01MDAwMDAwMDAgLyogU2lkZS5HYXBTdGFydCAqLztcbiAgICAgICAgICAgIGVuZFNpZGUgPSA0MDAwMDAwMDAgLyogU2lkZS5HYXBFbmQgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYywgYmxvY2spO1xuICAgICAgICAgICAgc3RhcnRTaWRlID0gKHN0YXJ0ID8gKGJsb2NrID8gLTMwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jU3RhcnQgKi8gOiAtMSAvKiBTaWRlLklubGluZUluY1N0YXJ0ICovKSA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovKSAtIDE7XG4gICAgICAgICAgICBlbmRTaWRlID0gKGVuZCA/IChibG9jayA/IDIwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jRW5kICovIDogMSAvKiBTaWRlLklubGluZUluY0VuZCAqLykgOiAtNjAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jRW5kICovKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgc3BlYy53aWRnZXQgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGxpbmUgZGVjb3JhdGlvbiwgd2hpY2ggY2FuIGFkZCBET00gYXR0cmlidXRlcyB0byB0aGVcbiAgICBsaW5lIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBsaW5lKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lRGVjb3JhdGlvbihzcGVjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSBbYERlY29yYXRpb25TZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvblNldCkgZnJvbSB0aGUgZ2l2ZW5cbiAgICBkZWNvcmF0ZWQgcmFuZ2Ugb3IgcmFuZ2VzLiBJZiB0aGUgcmFuZ2VzIGFyZW4ndCBhbHJlYWR5IHNvcnRlZCxcbiAgICBwYXNzIGB0cnVlYCBmb3IgYHNvcnRgIHRvIG1ha2UgdGhlIGxpYnJhcnkgc29ydCB0aGVtIGZvciB5b3UuXG4gICAgKi9cbiAgICBzdGF0aWMgc2V0KG9mLCBzb3J0ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlU2V0Lm9mKG9mLCBzb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBoYXNIZWlnaHQoKSB7IHJldHVybiB0aGlzLndpZGdldCA/IHRoaXMud2lkZ2V0LmVzdGltYXRlZEhlaWdodCA+IC0xIDogZmFsc2U7IH1cbn1cbi8qKlxuVGhlIGVtcHR5IHNldCBvZiBkZWNvcmF0aW9ucy5cbiovXG5EZWNvcmF0aW9uLm5vbmUgPSBSYW5nZVNldC5lbXB0eTtcbmNsYXNzIE1hcmtEZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYyk7XG4gICAgICAgIHN1cGVyKHN0YXJ0ID8gLTEgLyogU2lkZS5JbmxpbmVJbmNTdGFydCAqLyA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovLCBlbmQgPyAxIC8qIFNpZGUuSW5saW5lSW5jRW5kICovIDogLTYwMDAwMDAwMCAvKiBTaWRlLk5vbkluY0VuZCAqLywgbnVsbCwgc3BlYyk7XG4gICAgICAgIHRoaXMudGFnTmFtZSA9IHNwZWMudGFnTmFtZSB8fCBcInNwYW5cIjtcbiAgICAgICAgdGhpcy5jbGFzcyA9IHNwZWMuY2xhc3MgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5hdHRycyA9IHNwZWMuYXR0cmlidXRlcyB8fCBudWxsO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgICAgICAgb3RoZXIgaW5zdGFuY2VvZiBNYXJrRGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgICAgIHRoaXMudGFnTmFtZSA9PSBvdGhlci50YWdOYW1lICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuY2xhc3MgfHwgKChfYSA9IHRoaXMuYXR0cnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzcykpID09IChvdGhlci5jbGFzcyB8fCAoKF9iID0gb3RoZXIuYXR0cnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbGFzcykpICYmXG4gICAgICAgICAgICAgICAgYXR0cnNFcSh0aGlzLmF0dHJzLCBvdGhlci5hdHRycywgXCJjbGFzc1wiKTtcbiAgICB9XG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRvKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNYXJrIGRlY29yYXRpb25zIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuTWFya0RlY29yYXRpb24ucHJvdG90eXBlLnBvaW50ID0gZmFsc2U7XG5jbGFzcyBMaW5lRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoLTIwMDAwMDAwMCAvKiBTaWRlLkxpbmUgKi8sIC0yMDAwMDAwMDAgLyogU2lkZS5MaW5lICovLCBudWxsLCBzcGVjKTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTGluZURlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHRoaXMuc3BlYy5jbGFzcyA9PSBvdGhlci5zcGVjLmNsYXNzICYmXG4gICAgICAgICAgICBhdHRyc0VxKHRoaXMuc3BlYy5hdHRyaWJ1dGVzLCBvdGhlci5zcGVjLmF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRvICE9IGZyb20pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkxpbmUgZGVjb3JhdGlvbiByYW5nZXMgbXVzdCBiZSB6ZXJvLWxlbmd0aFwiKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuY2xhc3MgUG9pbnREZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgd2lkZ2V0LCBpc1JlcGxhY2UpIHtcbiAgICAgICAgc3VwZXIoc3RhcnRTaWRlLCBlbmRTaWRlLCB3aWRnZXQsIHNwZWMpO1xuICAgICAgICB0aGlzLmJsb2NrID0gYmxvY2s7XG4gICAgICAgIHRoaXMuaXNSZXBsYWNlID0gaXNSZXBsYWNlO1xuICAgICAgICB0aGlzLm1hcE1vZGUgPSAhYmxvY2sgPyBNYXBNb2RlLlRyYWNrRGVsIDogc3RhcnRTaWRlIDw9IDAgPyBNYXBNb2RlLlRyYWNrQmVmb3JlIDogTWFwTW9kZS5UcmFja0FmdGVyO1xuICAgIH1cbiAgICAvLyBPbmx5IHJlbGV2YW50IHdoZW4gdGhpcy5ibG9jayA9PSB0cnVlXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0U2lkZSAhPSB0aGlzLmVuZFNpZGUgPyBCbG9ja1R5cGUuV2lkZ2V0UmFuZ2VcbiAgICAgICAgICAgIDogdGhpcy5zdGFydFNpZGUgPD0gMCA/IEJsb2NrVHlwZS5XaWRnZXRCZWZvcmUgOiBCbG9ja1R5cGUuV2lkZ2V0QWZ0ZXI7XG4gICAgfVxuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgfHwgISF0aGlzLndpZGdldCAmJiAodGhpcy53aWRnZXQuZXN0aW1hdGVkSGVpZ2h0ID49IDUgfHwgdGhpcy53aWRnZXQubGluZUJyZWFrcyA+IDApO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHdpZGdldHNFcSh0aGlzLndpZGdldCwgb3RoZXIud2lkZ2V0KSAmJlxuICAgICAgICAgICAgdGhpcy5ibG9jayA9PSBvdGhlci5ibG9jayAmJlxuICAgICAgICAgICAgdGhpcy5zdGFydFNpZGUgPT0gb3RoZXIuc3RhcnRTaWRlICYmIHRoaXMuZW5kU2lkZSA9PSBvdGhlci5lbmRTaWRlO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXBsYWNlICYmIChmcm9tID4gdG8gfHwgKGZyb20gPT0gdG8gJiYgdGhpcy5zdGFydFNpZGUgPiAwICYmIHRoaXMuZW5kU2lkZSA8PSAwKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcmFuZ2UgZm9yIHJlcGxhY2VtZW50IGRlY29yYXRpb25cIik7XG4gICAgICAgIGlmICghdGhpcy5pc1JlcGxhY2UgJiYgdG8gIT0gZnJvbSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiV2lkZ2V0IGRlY29yYXRpb25zIGNhbiBvbmx5IGhhdmUgemVyby1sZW5ndGggcmFuZ2VzXCIpO1xuICAgICAgICByZXR1cm4gc3VwZXIucmFuZ2UoZnJvbSwgdG8pO1xuICAgIH1cbn1cblBvaW50RGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuZnVuY3Rpb24gZ2V0SW5jbHVzaXZlKHNwZWMsIGJsb2NrID0gZmFsc2UpIHtcbiAgICBsZXQgeyBpbmNsdXNpdmVTdGFydDogc3RhcnQsIGluY2x1c2l2ZUVuZDogZW5kIH0gPSBzcGVjO1xuICAgIGlmIChzdGFydCA9PSBudWxsKVxuICAgICAgICBzdGFydCA9IHNwZWMuaW5jbHVzaXZlO1xuICAgIGlmIChlbmQgPT0gbnVsbClcbiAgICAgICAgZW5kID0gc3BlYy5pbmNsdXNpdmU7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0ICE9PSBudWxsICYmIHN0YXJ0ICE9PSB2b2lkIDAgPyBzdGFydCA6IGJsb2NrLCBlbmQ6IGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHZvaWQgMCA/IGVuZCA6IGJsb2NrIH07XG59XG5mdW5jdGlvbiB3aWRnZXRzRXEoYSwgYikge1xuICAgIHJldHVybiBhID09IGIgfHwgISEoYSAmJiBiICYmIGEuY29tcGFyZShiKSk7XG59XG5mdW5jdGlvbiBhZGRSYW5nZShmcm9tLCB0bywgcmFuZ2VzLCBtYXJnaW4gPSAwKSB7XG4gICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGFzdCA+PSAwICYmIHJhbmdlc1tsYXN0XSArIG1hcmdpbiA+PSBmcm9tKVxuICAgICAgICByYW5nZXNbbGFzdF0gPSBNYXRoLm1heChyYW5nZXNbbGFzdF0sIHRvKTtcbiAgICBlbHNlXG4gICAgICAgIHJhbmdlcy5wdXNoKGZyb20sIHRvKTtcbn1cblxuY2xhc3MgTGluZVZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hdHRycyA9IG51bGw7XG4gICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IDA7XG4gICAgfVxuICAgIC8vIENvbnN1bWVzIHNvdXJjZVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgTGluZVZpZXcpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgc291cmNlLnRyYW5zZmVyRE9NKHRoaXMpOyAvLyBSZXVzZSBzb3VyY2UuZG9tIHdoZW4gYXBwcm9wcmlhdGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzU3RhcnQpXG4gICAgICAgICAgICB0aGlzLnNldERlY28oc291cmNlID8gc291cmNlLmF0dHJzIDogbnVsbCk7XG4gICAgICAgIG1lcmdlQ2hpbGRyZW5JbnRvKHRoaXMsIGZyb20sIHRvLCBzb3VyY2UgPyBzb3VyY2UuY2hpbGRyZW4uc2xpY2UoKSA6IFtdLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgZW5kLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGVuZDtcbiAgICAgICAgbGV0IHsgaSwgb2ZmIH0gPSB0aGlzLmNoaWxkUG9zKGF0KTtcbiAgICAgICAgaWYgKG9mZikge1xuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2ldLnNwbGl0KG9mZiksIDApO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5tZXJnZShvZmYsIHRoaXMuY2hpbGRyZW5baV0ubGVuZ3RoLCBudWxsLCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2pdLCAwKTtcbiAgICAgICAgd2hpbGUgKGkgPiAwICYmIHRoaXMuY2hpbGRyZW5baSAtIDFdLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblstLWldLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSBpO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGF0O1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICB0cmFuc2ZlckRPTShvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBvdGhlci5zZXRET00odGhpcy5kb20pO1xuICAgICAgICBvdGhlci5wcmV2QXR0cnMgPSB0aGlzLnByZXZBdHRycyA9PT0gdW5kZWZpbmVkID8gdGhpcy5hdHRycyA6IHRoaXMucHJldkF0dHJzO1xuICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kb20gPSBudWxsO1xuICAgIH1cbiAgICBzZXREZWNvKGF0dHJzKSB7XG4gICAgICAgIGlmICghYXR0cnNFcSh0aGlzLmF0dHJzLCBhdHRycykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdGhpcy5hdHRycztcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZChjaGlsZCwgb3BlblN0YXJ0KSB7XG4gICAgICAgIGpvaW5JbmxpbmVJbnRvKHRoaXMsIGNoaWxkLCBvcGVuU3RhcnQpO1xuICAgIH1cbiAgICAvLyBPbmx5IGNhbGxlZCB3aGVuIGJ1aWxkaW5nIGEgbGluZSB2aWV3IGluIENvbnRlbnRCdWlsZGVyXG4gICAgYWRkTGluZURlY28oZGVjbykge1xuICAgICAgICBsZXQgYXR0cnMgPSBkZWNvLnNwZWMuYXR0cmlidXRlcywgY2xzID0gZGVjby5zcGVjLmNsYXNzO1xuICAgICAgICBpZiAoYXR0cnMpXG4gICAgICAgICAgICB0aGlzLmF0dHJzID0gY29tYmluZUF0dHJzKGF0dHJzLCB0aGlzLmF0dHJzIHx8IHt9KTtcbiAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSBjb21iaW5lQXR0cnMoeyBjbGFzczogY2xzIH0sIHRoaXMuYXR0cnMgfHwge30pO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIGlubGluZURPTUF0UG9zKHRoaXMsIHBvcyk7XG4gICAgfVxuICAgIHJldXNlRE9NKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRET00obm9kZSk7XG4gICAgICAgICAgICB0aGlzLmZsYWdzIHw9IDQgLyogVmlld0ZsYWcuQXR0cnNEaXJ0eSAqLyB8IDIgLyogVmlld0ZsYWcuTm9kZURpcnR5ICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN5bmModmlldywgdHJhY2spIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IFwiY20tbGluZVwiO1xuICAgICAgICAgICAgdGhpcy5wcmV2QXR0cnMgPSB0aGlzLmF0dHJzID8gbnVsbCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovKSB7XG4gICAgICAgICAgICBjbGVhckF0dHJpYnV0ZXModGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByZXZBdHRycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cGRhdGVBdHRycyh0aGlzLmRvbSwgdGhpcy5wcmV2QXR0cnMsIHRoaXMuYXR0cnMpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLWxpbmVcIik7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zeW5jKHZpZXcsIHRyYWNrKTtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmRvbS5sYXN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChsYXN0ICYmIENvbnRlbnRWaWV3LmdldChsYXN0KSBpbnN0YW5jZW9mIE1hcmtWaWV3KVxuICAgICAgICAgICAgbGFzdCA9IGxhc3QubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWxhc3QgfHwgIXRoaXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBsYXN0Lm5vZGVOYW1lICE9IFwiQlJcIiAmJiAoKF9hID0gQ29udGVudFZpZXcuZ2V0KGxhc3QpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNFZGl0YWJsZSkgPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAoIWJyb3dzZXIuaW9zIHx8ICF0aGlzLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUZXh0VmlldykpKSB7XG4gICAgICAgICAgICBsZXQgaGFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJCUlwiKTtcbiAgICAgICAgICAgIGhhY2suY21JZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoaGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVRleHRTaXplKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMCB8fCB0aGlzLmxlbmd0aCA+IDIwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMCwgdGV4dEhlaWdodDtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBUZXh0VmlldykgfHwgL1teIC1+XS8udGVzdChjaGlsZC50ZXh0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGNoaWxkLmRvbSk7XG4gICAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IHJlY3RzWzBdLndpZHRoO1xuICAgICAgICAgICAgdGV4dEhlaWdodCA9IHJlY3RzWzBdLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRvdGFsV2lkdGggPyBudWxsIDoge1xuICAgICAgICAgICAgbGluZUhlaWdodDogdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LFxuICAgICAgICAgICAgY2hhcldpZHRoOiB0b3RhbFdpZHRoIC8gdGhpcy5sZW5ndGgsXG4gICAgICAgICAgICB0ZXh0SGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgcmVjdCA9IGNvb3Jkc0luQ2hpbGRyZW4odGhpcywgcG9zLCBzaWRlKTtcbiAgICAgICAgLy8gQ29ycmVjdCByZWN0YW5nbGUgaGVpZ2h0IGZvciBlbXB0eSBsaW5lcyB3aGVuIHRoZSByZXR1cm5lZFxuICAgICAgICAvLyBoZWlnaHQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRleHQgaGVpZ2h0LlxuICAgICAgICBpZiAoIXRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmIHJlY3QgJiYgdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCB7IGhlaWdodE9yYWNsZSB9ID0gdGhpcy5wYXJlbnQudmlldy52aWV3U3RhdGUsIGhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaGVpZ2h0IC0gaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQpIDwgMiAmJiBoZWlnaHRPcmFjbGUudGV4dEhlaWdodCA8IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxldCBkaXN0ID0gKGhlaWdodCAtIGhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdG9wOiByZWN0LnRvcCArIGRpc3QsIGJvdHRvbTogcmVjdC5ib3R0b20gLSBkaXN0LCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LmxlZnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIExpbmVWaWV3ICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiYgb3RoZXIuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgIGF0dHJzRXEodGhpcy5hdHRycywgb3RoZXIuYXR0cnMpICYmIHRoaXMuYnJlYWtBZnRlciA9PSBvdGhlci5icmVha0FmdGVyO1xuICAgIH1cbiAgICBjb3ZlcnMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgc3RhdGljIGZpbmQoZG9jVmlldywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgZG9jVmlldy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGJsb2NrID0gZG9jVmlldy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgYmxvY2subGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+PSBwb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gZW5kICsgYmxvY2suYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBCbG9ja1dpZGdldFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIGRlY28pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLmRlY28gPSBkZWNvO1xuICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSAwO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBfdGFrZURlY28sIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldykgfHwgIXRoaXMud2lkZ2V0LmNvbXBhcmUoc291cmNlLndpZGdldCkgfHxcbiAgICAgICAgICAgIGZyb20gPiAwICYmIG9wZW5TdGFydCA8PSAwIHx8IHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tICsgKHNvdXJjZSA/IHNvdXJjZS5sZW5ndGggOiAwKSArICh0aGlzLmxlbmd0aCAtIHRvKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gcG9zID09IDAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKSA6IERPTVBvcy5hZnRlcih0aGlzLmRvbSwgcG9zID09IHRoaXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoIC0gYXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXQ7XG4gICAgICAgIGxldCBlbmQgPSBuZXcgQmxvY2tXaWRnZXRWaWV3KHRoaXMud2lkZ2V0LCBsZW4sIHRoaXMuZGVjbyk7XG4gICAgICAgIGVuZC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiBub0NoaWxkcmVuOyB9XG4gICAgc3luYyh2aWV3KSB7XG4gICAgICAgIGlmICghdGhpcy5kb20gfHwgIXRoaXMud2lkZ2V0LnVwZGF0ZURPTSh0aGlzLmRvbSwgdmlldykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiB0aGlzLnByZXZXaWRnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKHRoaXMud2lkZ2V0LnRvRE9NKHZpZXcpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy53aWRnZXQuZWRpdGFibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5kb20uY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvdmVycmlkZURPTVRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnZpZXcuc3RhdGUuZG9jLnNsaWNlKHRoaXMucG9zQXRTdGFydCwgdGhpcy5wb3NBdEVuZCkgOiBUZXh0LmVtcHR5O1xuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJlxuICAgICAgICAgICAgb3RoZXIud2lkZ2V0LmNvbnN0cnVjdG9yID09IHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW90aGVyLndpZGdldC5jb21wYXJlKHRoaXMud2lkZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiAhdGhpcy5wcmV2V2lkZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucHJldldpZGdldCA9IHRoaXMud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBvdGhlci53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZGVjbyA9IG90aGVyLmRlY287XG4gICAgICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBvdGhlci5icmVha0FmdGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaWdub3JlRXZlbnQoZXZlbnQpOyB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0IGluc3RhbmNlb2YgQmxvY2tHYXBXaWRnZXQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5SZWN0KHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0aGlzLmxlbmd0aCA/IHBvcyA9PSAwIDogc2lkZSA8PSAwKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLndpZGdldC5kZXN0cm95KHRoaXMuZG9tKTtcbiAgICB9XG4gICAgY292ZXJzKHNpZGUpIHtcbiAgICAgICAgbGV0IHsgc3RhcnRTaWRlLCBlbmRTaWRlIH0gPSB0aGlzLmRlY287XG4gICAgICAgIHJldHVybiBzdGFydFNpZGUgPT0gZW5kU2lkZSA/IGZhbHNlIDogc2lkZSA8IDAgPyBzdGFydFNpZGUgPCAwIDogZW5kU2lkZSA+IDA7XG4gICAgfVxufVxuY2xhc3MgQmxvY2tHYXBXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWlnaHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWx0LmNsYXNzTmFtZSA9IFwiY20tZ2FwXCI7XG4gICAgICAgIHRoaXMudXBkYXRlRE9NKGVsdCk7XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci5oZWlnaHQgPT0gdGhpcy5oZWlnaHQ7IH1cbiAgICB1cGRhdGVET00oZWx0KSB7XG4gICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGdldCBlZGl0YWJsZSgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy5oZWlnaHQ7IH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5cbmNsYXNzIENvbnRlbnRCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2MsIHBvcywgZW5kLCBkaXNhbGxvd0Jsb2NrRWZmZWN0c0Zvcikge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICB0aGlzLmRpc2FsbG93QmxvY2tFZmZlY3RzRm9yID0gZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3I7XG4gICAgICAgIHRoaXMuY29udGVudCA9IFtdO1xuICAgICAgICB0aGlzLmN1ckxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLmJyZWFrQXRTdGFydCA9IDA7XG4gICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICB0aGlzLmJ1ZmZlck1hcmtzID0gW107XG4gICAgICAgIC8vIFNldCB0byBmYWxzZSBkaXJlY3RseSBhZnRlciBhIHdpZGdldCB0aGF0IGNvdmVycyB0aGUgcG9zaXRpb24gYWZ0ZXIgaXRcbiAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMub3BlbkVuZCA9IC0xO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgICAgIHRoaXMuc2tpcCA9IHBvcztcbiAgICB9XG4gICAgcG9zQ292ZXJlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5icmVha0F0U3RhcnQgJiYgdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS5mcm9tICE9IHRoaXMucG9zO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiAhKGxhc3QuYnJlYWtBZnRlciB8fCBsYXN0IGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmIGxhc3QuZGVjby5lbmRTaWRlIDwgMCk7XG4gICAgfVxuICAgIGdldExpbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQucHVzaCh0aGlzLmN1ckxpbmUgPSBuZXcgTGluZVZpZXcpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyTGluZTtcbiAgICB9XG4gICAgZmx1c2hCdWZmZXIoYWN0aXZlID0gdGhpcy5idWZmZXJNYXJrcykge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmN1ckxpbmUuYXBwZW5kKHdyYXBNYXJrcyhuZXcgV2lkZ2V0QnVmZmVyVmlldygtMSksIGFjdGl2ZSksIGFjdGl2ZS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQmxvY2tXaWRnZXQodmlldykge1xuICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudC5wdXNoKHZpZXcpO1xuICAgIH1cbiAgICBmaW5pc2gob3BlbkVuZCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyICYmIG9wZW5FbmQgPD0gdGhpcy5idWZmZXJNYXJrcy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICBpZiAoIXRoaXMucG9zQ292ZXJlZCgpICYmXG4gICAgICAgICAgICAhKG9wZW5FbmQgJiYgdGhpcy5jb250ZW50Lmxlbmd0aCAmJiB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3KSlcbiAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgpO1xuICAgIH1cbiAgICBidWlsZFRleHQobGVuZ3RoLCBhY3RpdmUsIG9wZW5TdGFydCkge1xuICAgICAgICB3aGlsZSAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dE9mZiA9PSB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgdmFsdWUsIGxpbmVCcmVhaywgZG9uZSB9ID0gdGhpcy5jdXJzb3IubmV4dCh0aGlzLnNraXApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbiBvdXQgb2YgdGV4dCBjb250ZW50IHdoZW4gZHJhd2luZyBpbmxpbmUgdmlld3NcIik7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVCcmVhaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9zQ292ZXJlZCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXS5icmVha0FmdGVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmVha0F0U3RhcnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXRDdXJzb3JQb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGFrZSA9IE1hdGgubWluKHRoaXMudGV4dC5sZW5ndGggLSB0aGlzLnRleHRPZmYsIGxlbmd0aCwgNTEyIC8qIFQuQ2h1bmsgKi8pO1xuICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihhY3RpdmUuc2xpY2UoYWN0aXZlLmxlbmd0aCAtIG9wZW5TdGFydCkpO1xuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCkuYXBwZW5kKHdyYXBNYXJrcyhuZXcgVGV4dFZpZXcodGhpcy50ZXh0LnNsaWNlKHRoaXMudGV4dE9mZiwgdGhpcy50ZXh0T2ZmICsgdGFrZSkpLCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmYgKz0gdGFrZTtcbiAgICAgICAgICAgIGxlbmd0aCAtPSB0YWtlO1xuICAgICAgICAgICAgb3BlblN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcGFuKGZyb20sIHRvLCBhY3RpdmUsIG9wZW5TdGFydCkge1xuICAgICAgICB0aGlzLmJ1aWxkVGV4dCh0byAtIGZyb20sIGFjdGl2ZSwgb3BlblN0YXJ0KTtcbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICAgICAgaWYgKHRoaXMub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gb3BlblN0YXJ0O1xuICAgIH1cbiAgICBwb2ludChmcm9tLCB0bywgZGVjbywgYWN0aXZlLCBvcGVuU3RhcnQsIGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FsbG93QmxvY2tFZmZlY3RzRm9yW2luZGV4XSAmJiBkZWNvIGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJsb2NrIGRlY29yYXRpb25zIG1heSBub3QgYmUgc3BlY2lmaWVkIHZpYSBwbHVnaW5zXCIpO1xuICAgICAgICAgICAgaWYgKHRvID4gdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS50bylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRlY29yYXRpb25zIHRoYXQgcmVwbGFjZSBsaW5lIGJyZWFrcyBtYXkgbm90IGJlIHNwZWNpZmllZCB2aWEgcGx1Z2luc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gdG8gLSBmcm9tO1xuICAgICAgICBpZiAoZGVjbyBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKGRlY28uYmxvY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVjby5zdGFydFNpZGUgPiAwICYmICF0aGlzLnBvc0NvdmVyZWQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCbG9ja1dpZGdldChuZXcgQmxvY2tXaWRnZXRWaWV3KGRlY28ud2lkZ2V0IHx8IE51bGxXaWRnZXQuYmxvY2ssIGxlbiwgZGVjbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpZXcgPSBXaWRnZXRWaWV3LmNyZWF0ZShkZWNvLndpZGdldCB8fCBOdWxsV2lkZ2V0LmlubGluZSwgbGVuLCBsZW4gPyAwIDogZGVjby5zdGFydFNpZGUpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JCZWZvcmUgPSB0aGlzLmF0Q3Vyc29yUG9zICYmICF2aWV3LmlzRWRpdGFibGUgJiYgb3BlblN0YXJ0IDw9IGFjdGl2ZS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgKGZyb20gPCB0byB8fCBkZWNvLnN0YXJ0U2lkZSA+IDApO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JBZnRlciA9ICF2aWV3LmlzRWRpdGFibGUgJiYgKGZyb20gPCB0byB8fCBvcGVuU3RhcnQgPiBhY3RpdmUubGVuZ3RoIHx8IGRlY28uc3RhcnRTaWRlIDw9IDApO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0J1ZmZlciA9PSAyIC8qIEJ1Zi5JZkN1cnNvciAqLyAmJiAhY3Vyc29yQmVmb3JlICYmICF2aWV3LmlzRWRpdGFibGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoYWN0aXZlKTtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuYXBwZW5kKHdyYXBNYXJrcyhuZXcgV2lkZ2V0QnVmZmVyVmlldygxKSwgYWN0aXZlKSwgb3BlblN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgb3BlblN0YXJ0ID0gYWN0aXZlLmxlbmd0aCArIE1hdGgubWF4KDAsIG9wZW5TdGFydCAtIGFjdGl2ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lLmFwcGVuZCh3cmFwTWFya3ModmlldywgYWN0aXZlKSwgb3BlblN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gY3Vyc29yQWZ0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gIWN1cnNvckFmdGVyID8gMCAvKiBCdWYuTm8gKi8gOiBmcm9tIDwgdG8gfHwgb3BlblN0YXJ0ID4gYWN0aXZlLmxlbmd0aCA/IDEgLyogQnVmLlllcyAqLyA6IDIgLyogQnVmLklmQ3Vyc29yICovO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyTWFya3MgPSBhY3RpdmUuc2xpY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLmZyb20gPT0gdGhpcy5wb3MpIHsgLy8gTGluZSBkZWNvcmF0aW9uXG4gICAgICAgICAgICB0aGlzLmdldExpbmUoKS5hZGRMaW5lRGVjbyhkZWNvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBpdGVyYXRvciBwYXN0IHRoZSByZXBsYWNlZCBjb250ZW50XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0T2ZmICsgbGVuIDw9IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmYgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwICs9IGxlbiAtICh0aGlzLnRleHQubGVuZ3RoIC0gdGhpcy50ZXh0T2ZmKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wZW5TdGFydCA8IDApXG4gICAgICAgICAgICB0aGlzLm9wZW5TdGFydCA9IG9wZW5TdGFydDtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkKHRleHQsIGZyb20sIHRvLCBkZWNvcmF0aW9ucywgZHluYW1pY0RlY29yYXRpb25NYXApIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQ29udGVudEJ1aWxkZXIodGV4dCwgZnJvbSwgdG8sIGR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgYnVpbGRlci5vcGVuRW5kID0gUmFuZ2VTZXQuc3BhbnMoZGVjb3JhdGlvbnMsIGZyb20sIHRvLCBidWlsZGVyKTtcbiAgICAgICAgaWYgKGJ1aWxkZXIub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIGJ1aWxkZXIub3BlblN0YXJ0ID0gYnVpbGRlci5vcGVuRW5kO1xuICAgICAgICBidWlsZGVyLmZpbmlzaChidWlsZGVyLm9wZW5FbmQpO1xuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG59XG5mdW5jdGlvbiB3cmFwTWFya3ModmlldywgYWN0aXZlKSB7XG4gICAgZm9yIChsZXQgbWFyayBvZiBhY3RpdmUpXG4gICAgICAgIHZpZXcgPSBuZXcgTWFya1ZpZXcobWFyaywgW3ZpZXddLCB2aWV3Lmxlbmd0aCk7XG4gICAgcmV0dXJuIHZpZXc7XG59XG5jbGFzcyBOdWxsV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IodGFnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIudGFnID09IHRoaXMudGFnOyB9XG4gICAgdG9ET00oKSB7IHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKTsgfVxuICAgIHVwZGF0ZURPTShlbHQpIHsgcmV0dXJuIGVsdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09IHRoaXMudGFnOyB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuTnVsbFdpZGdldC5pbmxpbmUgPSAvKkBfX1BVUkVfXyovbmV3IE51bGxXaWRnZXQoXCJzcGFuXCIpO1xuTnVsbFdpZGdldC5ibG9jayA9IC8qQF9fUFVSRV9fKi9uZXcgTnVsbFdpZGdldChcImRpdlwiKTtcblxuLyoqXG5Vc2VkIHRvIGluZGljYXRlIFt0ZXh0IGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbikuXG4qL1xudmFyIERpcmVjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpcmVjdGlvbikge1xuICAgIC8vIChUaGVzZSBhcmUgY2hvc2VuIHRvIG1hdGNoIHRoZSBiYXNlIGxldmVscywgaW4gYmlkaSBhbGdvcml0aG1cbiAgICAvLyB0ZXJtcywgb2Ygc3BhbnMgaW4gdGhhdCBkaXJlY3Rpb24uKVxuICAgIC8qKlxuICAgIExlZnQtdG8tcmlnaHQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiTFRSXCJdID0gMF0gPSBcIkxUUlwiO1xuICAgIC8qKlxuICAgIFJpZ2h0LXRvLWxlZnQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiUlRMXCJdID0gMV0gPSBcIlJUTFwiO1xucmV0dXJuIERpcmVjdGlvbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcbmNvbnN0IExUUiA9IERpcmVjdGlvbi5MVFIsIFJUTCA9IERpcmVjdGlvbi5SVEw7XG4vLyBEZWNvZGUgYSBzdHJpbmcgd2l0aCBlYWNoIHR5cGUgZW5jb2RlZCBhcyBsb2cyKHR5cGUpXG5mdW5jdGlvbiBkZWMoc3RyKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKVxuICAgICAgICByZXN1bHQucHVzaCgxIDw8ICtzdHJbaV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGY4XG5jb25zdCBMb3dUeXBlcyA9IC8qQF9fUFVSRV9fKi9kZWMoXCI4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODY2Njg4ODg4ODc4NzgzMzMzMzMzMzMzNzg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4Nzg2NjY2ODg4ODA4ODg4ODY2MzM4MDg4ODMwODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOFwiKTtcbi8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmOVxuY29uc3QgQXJhYmljVHlwZXMgPSAvKkBfX1BVUkVfXyovZGVjKFwiNDQ0NDQ0ODgyNjYyNzI4ODk5OTk5OTk5OTk5MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOTk5OTk5OTk5OTk5OTk5OTk5OTk5NDQ0NDQ0NDQ0NDY0NDIyMjgyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjk5OTk5OTk0OTk5OTk5OTIyOTk4OTk5OTIyMzMzMzMzMzMzM1wiKTtcbmNvbnN0IEJyYWNrZXRzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCksIEJyYWNrZXRTdGFjayA9IFtdO1xuLy8gVGhlcmUncyBhIGxvdCBtb3JlIGluXG4vLyBodHRwczovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvQmlkaUJyYWNrZXRzLnR4dCxcbi8vIHdoaWNoIGFyZSBsZWZ0IG91dCB0byBrZWVwIGNvZGUgc2l6ZSBkb3duLlxuZm9yIChsZXQgcCBvZiBbXCIoKVwiLCBcIltdXCIsIFwie31cIl0pIHtcbiAgICBsZXQgbCA9IC8qQF9fUFVSRV9fKi9wLmNoYXJDb2RlQXQoMCksIHIgPSAvKkBfX1BVUkVfXyovcC5jaGFyQ29kZUF0KDEpO1xuICAgIEJyYWNrZXRzW2xdID0gcjtcbiAgICBCcmFja2V0c1tyXSA9IC1sO1xufVxuZnVuY3Rpb24gY2hhclR5cGUoY2gpIHtcbiAgICByZXR1cm4gY2ggPD0gMHhmNyA/IExvd1R5cGVzW2NoXSA6XG4gICAgICAgIDB4NTkwIDw9IGNoICYmIGNoIDw9IDB4NWY0ID8gMiAvKiBULlIgKi8gOlxuICAgICAgICAgICAgMHg2MDAgPD0gY2ggJiYgY2ggPD0gMHg2ZjkgPyBBcmFiaWNUeXBlc1tjaCAtIDB4NjAwXSA6XG4gICAgICAgICAgICAgICAgMHg2ZWUgPD0gY2ggJiYgY2ggPD0gMHg4YWMgPyA0IC8qIFQuQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAweDIwMDAgPD0gY2ggJiYgY2ggPD0gMHgyMDBjID8gMjU2IC8qIFQuTkkgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgMHhmYjUwIDw9IGNoICYmIGNoIDw9IDB4ZmRmZiA/IDQgLyogVC5BTCAqLyA6IDEgLyogVC5MICovO1xufVxuY29uc3QgQmlkaVJFID0gL1tcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUwNzAwLVxcdTA4YWNcXHVmYjUwLVxcdWZkZmZdLztcbi8qKlxuUmVwcmVzZW50cyBhIGNvbnRpZ3VvdXMgcmFuZ2Ugb2YgdGV4dCB0aGF0IGhhcyBhIHNpbmdsZSBkaXJlY3Rpb25cbihhcyBpbiBsZWZ0LXRvLXJpZ2h0IG9yIHJpZ2h0LXRvLWxlZnQpLlxuKi9cbmNsYXNzIEJpZGlTcGFuIHtcbiAgICAvKipcbiAgICBUaGUgZGlyZWN0aW9uIG9mIHRoaXMgc3Bhbi5cbiAgICAqL1xuICAgIGdldCBkaXIoKSB7IHJldHVybiB0aGlzLmxldmVsICUgMiA/IFJUTCA6IExUUjsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHN0YXJ0IG9mIHRoZSBzcGFuIChyZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUpLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGVuZCBvZiB0aGUgc3Bhbi5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBUaGUgW1wiYmlkaVxuICAgIGxldmVsXCJdKGh0dHBzOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvI0Jhc2ljX0Rpc3BsYXlfQWxnb3JpdGhtKVxuICAgIG9mIHRoZSBzcGFuIChpbiB0aGlzIGNvbnRleHQsIDAgbWVhbnNcbiAgICBsZWZ0LXRvLXJpZ2h0LCAxIG1lYW5zIHJpZ2h0LXRvLWxlZnQsIDIgbWVhbnMgbGVmdC10by1yaWdodFxuICAgIG51bWJlciBpbnNpZGUgcmlnaHQtdG8tbGVmdCB0ZXh0KS5cbiAgICAqL1xuICAgIGxldmVsKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNpZGUoZW5kLCBkaXIpIHsgcmV0dXJuICh0aGlzLmRpciA9PSBkaXIpID09IGVuZCA/IHRoaXMudG8gOiB0aGlzLmZyb207IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZvcndhcmQoZm9yd2FyZCwgZGlyKSB7IHJldHVybiBmb3J3YXJkID09ICh0aGlzLmRpciA9PSBkaXIpOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZmluZChvcmRlciwgaW5kZXgsIGxldmVsLCBhc3NvYykge1xuICAgICAgICBsZXQgbWF5YmUgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwYW4gPSBvcmRlcltpXTtcbiAgICAgICAgICAgIGlmIChzcGFuLmZyb20gPD0gaW5kZXggJiYgc3Bhbi50byA+PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGFuLmxldmVsID09IGxldmVsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIG11bHRpcGxlIHNwYW5zIG1hdGNoLCBpZiBhc3NvYyAhPSAwLCB0YWtlIHRoZSBvbmUgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGNvdmVycyB0aGF0IHNpZGUsIG90aGVyd2lzZSB0YWtlIHRoZSBvbmUgd2l0aCB0aGUgbWluaW11bVxuICAgICAgICAgICAgICAgIC8vIGxldmVsLlxuICAgICAgICAgICAgICAgIGlmIChtYXliZSA8IDAgfHwgKGFzc29jICE9IDAgPyAoYXNzb2MgPCAwID8gc3Bhbi5mcm9tIDwgaW5kZXggOiBzcGFuLnRvID4gaW5kZXgpIDogb3JkZXJbbWF5YmVdLmxldmVsID4gc3Bhbi5sZXZlbCkpXG4gICAgICAgICAgICAgICAgICAgIG1heWJlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF5YmUgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIHJldHVybiBtYXliZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc29sYXRlc0VxKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGlBID0gYVtpXSwgaUIgPSBiW2ldO1xuICAgICAgICBpZiAoaUEuZnJvbSAhPSBpQi5mcm9tIHx8IGlBLnRvICE9IGlCLnRvIHx8IGlBLmRpcmVjdGlvbiAhPSBpQi5kaXJlY3Rpb24gfHwgIWlzb2xhdGVzRXEoaUEuaW5uZXIsIGlCLmlubmVyKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBSZXVzZWQgYXJyYXkgb2YgY2hhcmFjdGVyIHR5cGVzXG5jb25zdCB0eXBlcyA9IFtdO1xuLy8gRmlsbCBpbiB0aGUgY2hhcmFjdGVyIHR5cGVzIChpbiBgdHlwZXNgKSBmcm9tIGBmcm9tYCB0byBgdG9gIGFuZFxuLy8gYXBwbHkgVyBub3JtYWxpemF0aW9uIHJ1bGVzLlxuZnVuY3Rpb24gY29tcHV0ZUNoYXJUeXBlcyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICBsZXQgcHJldlR5cGUgPSBpSSA/IDI1NiAvKiBULk5JICovIDogb3V0ZXJUeXBlO1xuICAgICAgICAvLyBXMS4gRXhhbWluZSBlYWNoIG5vbi1zcGFjaW5nIG1hcmsgKE5TTSkgaW4gdGhlIGxldmVsIHJ1biwgYW5kXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHNvci5cbiAgICAgICAgLy8gVzIuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgICAgLy8gbnVtYmVyLlxuICAgICAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICAgICAgLy8gKExlZnQgYWZ0ZXIgdGhpczogTCwgUiwgRU4sIEFOLCBFVCwgQ1MsIE5JKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbSwgcHJldiA9IHByZXZUeXBlLCBwcmV2U3Ryb25nID0gcHJldlR5cGU7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IGNoYXJUeXBlKGxpbmUuY2hhckNvZGVBdChpKSk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSA1MTIgLyogVC5OU00gKi8pXG4gICAgICAgICAgICAgICAgdHlwZSA9IHByZXY7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDQgLyogVC5BTCAqLylcbiAgICAgICAgICAgICAgICB0eXBlID0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgIHR5cGVzW2ldID0gdHlwZSA9PSA0IC8qIFQuQUwgKi8gPyAyIC8qIFQuUiAqLyA6IHR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICAgICAgcHJldlN0cm9uZyA9IHR5cGU7XG4gICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXNS4gQSBzZXF1ZW5jZSBvZiBFdXJvcGVhbiB0ZXJtaW5hdG9ycyBhZGphY2VudCB0byBFdXJvcGVhblxuICAgICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuXG4gICAgICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgICAgICAvLyBOZXV0cmFsLlxuICAgICAgICAvLyBXNy4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOLCBOSSlcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIHByZXYgPSBwcmV2VHlwZSwgcHJldlN0cm9uZyA9IHByZXZUeXBlOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDEyOCAvKiBULkNTICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCB0byAtIDEgJiYgcHJldiA9PSB0eXBlc1tpICsgMV0gJiYgKHByZXYgJiAyNCAvKiBULk51bSAqLykpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tpXSA9IDI1NiAvKiBULk5JICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSA2NCAvKiBULkVUICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChlbmQgPCB0byAmJiB0eXBlc1tlbmRdID09IDY0IC8qIFQuRVQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgIGxldCByZXBsYWNlID0gKGkgJiYgcHJldiA9PSA4IC8qIFQuRU4gKi8pIHx8IChlbmQgPCByVG8gJiYgdHlwZXNbZW5kXSA9PSA4IC8qIFQuRU4gKi8pID8gKHByZXZTdHJvbmcgPT0gMSAvKiBULkwgKi8gPyAxIC8qIFQuTCAqLyA6IDggLyogVC5FTiAqLykgOiAyNTYgLyogVC5OSSAqLztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVuZDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgaSA9IGVuZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgdHlwZXNbaV0gPSAxIC8qIFQuTCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgJiA3IC8qIFQuU3Ryb25nICovKVxuICAgICAgICAgICAgICAgIHByZXZTdHJvbmcgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gUHJvY2VzcyBicmFja2V0cyB0aHJvdWdob3V0IGEgcnVuIHNlcXVlbmNlLlxuZnVuY3Rpb24gcHJvY2Vzc0JyYWNrZXRQYWlycyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgbGV0IG9wcG9zaXRlVHlwZSA9IG91dGVyVHlwZSA9PSAxIC8qIFQuTCAqLyA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi87XG4gICAgZm9yIChsZXQgaUkgPSAwLCBzSSA9IDAsIGNvbnRleHQgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMC4gUHJvY2VzcyBicmFja2V0IHBhaXJzIGluIGFuIGlzb2xhdGluZyBydW4gc2VxdWVuY2VcbiAgICAgICAgLy8gc2VxdWVudGlhbGx5IGluIHRoZSBsb2dpY2FsIG9yZGVyIG9mIHRoZSB0ZXh0IHBvc2l0aW9ucyBvZiB0aGVcbiAgICAgICAgLy8gb3BlbmluZyBwYWlyZWQgYnJhY2tldHMgdXNpbmcgdGhlIGxvZ2ljIGdpdmVuIGJlbG93LiBXaXRoaW4gdGhpc1xuICAgICAgICAvLyBzY29wZSwgYmlkaXJlY3Rpb25hbCB0eXBlcyBFTiBhbmQgQU4gYXJlIHRyZWF0ZWQgYXMgUi5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIGNoLCBiciwgdHlwZTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEtlZXBzIFtzdGFydEluZGV4LCB0eXBlLCBzdHJvbmdTZWVuXSB0cmlwbGVzIGZvciBlYWNoIG9wZW5cbiAgICAgICAgICAgIC8vIGJyYWNrZXQgb24gQnJhY2tldFN0YWNrLlxuICAgICAgICAgICAgaWYgKGJyID0gQnJhY2tldHNbY2ggPSBsaW5lLmNoYXJDb2RlQXQoaSldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyIDwgMCkgeyAvLyBDbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc0ogPSBzSSAtIDM7IHNKID49IDA7IHNKIC09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCcmFja2V0U3RhY2tbc0ogKyAxXSA9PSAtYnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmxhZ3MgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IChmbGFncyAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKSA/IG91dGVyVHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoZmxhZ3MgJiA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLykgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncyAmIDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovKSA/IG9wcG9zaXRlVHlwZSA6IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXNbaV0gPSB0eXBlc1tCcmFja2V0U3RhY2tbc0pdXSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc0kgPSBzSjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChCcmFja2V0U3RhY2subGVuZ3RoID09IDE4OSAvKiBCcmFja2V0ZWQuTWF4RGVwdGggKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBpO1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NJKytdID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9IHR5cGVzW2ldKSA9PSAyIC8qIFQuUiAqLyB8fCB0eXBlID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVtYmVkID0gdHlwZSA9PSBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGVtYmVkID8gMCA6IDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHNKID0gc0kgLSAzOyBzSiA+PSAwOyBzSiAtPSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXIgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ciAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NKICsgMl0gfD0gMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyICYgNCAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVJbnNpZGUgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NOZXV0cmFscyhyRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwLCBwcmV2ID0gb3V0ZXJUeXBlOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMS4gQSBzZXF1ZW5jZSBvZiBuZXV0cmFscyB0YWtlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAgICAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgICAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAgICAgLy8gdGVybXMgb2YgdGhlaXIgaW5mbHVlbmNlIG9uIG5ldXRyYWxzLiBTdGFydC1vZi1sZXZlbC1ydW4gKHNvcilcbiAgICAgICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDI1NiAvKiBULk5JICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA9PSB0bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlJID09IGlzb2xhdGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlzb2xhdGVzW2lJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW2VuZF0gPT0gMjU2IC8qIFQuTkkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGJlZm9yZUwgPSBwcmV2ID09IDEgLyogVC5MICovO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlckwgPSAoZW5kIDwgclRvID8gdHlwZXNbZW5kXSA6IG91dGVyVHlwZSkgPT0gMSAvKiBULkwgKi87XG4gICAgICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSBiZWZvcmVMID09IGFmdGVyTCA/IChiZWZvcmVMID8gMSAvKiBULkwgKi8gOiAyIC8qIFQuUiAqLykgOiBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGVuZCwgakkgPSBpSSwgZnJvbUogPSBqSSA/IGlzb2xhdGVzW2pJIC0gMV0udG8gOiByRnJvbTsgaiA+IGk7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09IGZyb21KKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21KID0gakkgPyBpc29sYXRlc1tqSSAtIDFdLnRvIDogckZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZXNbLS1qXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBGaW5kIHRoZSBjb250aWd1b3VzIHJhbmdlcyBvZiBjaGFyYWN0ZXIgdHlwZXMgaW4gYSBnaXZlbiByYW5nZSwgYW5kXG4vLyBlbWl0IHNwYW5zIGZvciB0aGVtLiBGbGlwIHRoZSBvcmRlciBvZiB0aGUgc3BhbnMgYXMgYXBwcm9wcmlhdGVcbi8vIGJhc2VkIG9uIHRoZSBsZXZlbCwgYW5kIGNhbGwgdGhyb3VnaCB0byBjb21wdXRlIHRoZSBzcGFucyBmb3Jcbi8vIGlzb2xhdGVzIGF0IHRoZSBwcm9wZXIgcG9pbnQuXG5mdW5jdGlvbiBlbWl0U3BhbnMobGluZSwgZnJvbSwgdG8sIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBvcmRlcikge1xuICAgIGxldCBvdXJUeXBlID0gbGV2ZWwgJSAyID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLztcbiAgICBpZiAoKGxldmVsICUgMikgPT0gKGJhc2VMZXZlbCAlIDIpKSB7IC8vIFNhbWUgZGlyIGFzIGJhc2UgZGlyZWN0aW9uLCBkb24ndCBmbGlwXG4gICAgICAgIGZvciAobGV0IGlDaCA9IGZyb20sIGlJID0gMDsgaUNoIDwgdG87KSB7XG4gICAgICAgICAgICAvLyBTY2FuIGEgc2VjdGlvbiBvZiBjaGFyYWN0ZXJzIGluIGRpcmVjdGlvbiBvdXJUeXBlLCB1bmxlc3NcbiAgICAgICAgICAgIC8vIHRoZXJlJ3MgYW5vdGhlciB0eXBlIG9mIGNoYXIgcmlnaHQgYWZ0ZXIgaUNoLCBpbiB3aGljaCBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBzY2FuIGEgc2VjdGlvbiBvZiBvdGhlciBjaGFyYWN0ZXJzICh3aGljaCwgaWYgb3VyVHlwZSA9PVxuICAgICAgICAgICAgLy8gVC5MLCBtYXkgY29udGFpbiBib3RoIFQuUiBhbmQgVC5BTiBjaGFycykuXG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaUkgPT0gaXNvbGF0ZXMubGVuZ3RoIHx8IGlDaCA8IGlzb2xhdGVzW2lJXS5mcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0eXBlc1tpQ2hdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIb2xkcyBhbiBhcnJheSBvZiBpc29sYXRlcyB0byBwYXNzIHRvIGEgcmVjdXJzaXZlIGNhbGwgaWYgd2VcbiAgICAgICAgICAgIC8vIG11c3QgcmVjdXJzZSAodG8gZGlzdGluZ3Vpc2ggVC5BTiBpbnNpZGUgYW4gUlRMIHNlY3Rpb24gaW5cbiAgICAgICAgICAgIC8vIExUUiB0ZXh0KSwgbnVsbCBpZiB3ZSBjYW4gZW1pdCBkaXJlY3RseVxuICAgICAgICAgICAgbGV0IHJlY3Vyc2UgPSAhc2FtZURpciAmJiBvdXJUeXBlID09IDEgLyogVC5MICovID8gW10gOiBudWxsO1xuICAgICAgICAgICAgbGV0IGxvY2FsTGV2ZWwgPSBzYW1lRGlyID8gbGV2ZWwgOiBsZXZlbCArIDE7XG4gICAgICAgICAgICBsZXQgaVNjYW4gPSBpQ2g7XG4gICAgICAgICAgICBydW46IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoaUkgPCBpc29sYXRlcy5sZW5ndGggJiYgaVNjYW4gPT0gaXNvbGF0ZXNbaUldLmZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNvID0gaXNvbGF0ZXNbaUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLnRvLCBqSSA9IGlJICsgMTs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwdG8gPT0gdG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgPCBpc29sYXRlcy5sZW5ndGggJiYgaXNvbGF0ZXNbakldLmZyb20gPT0gdXB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0byA9IGlzb2xhdGVzW2pJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW3VwdG9dID09IG91clR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpSSsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdXJzZS5wdXNoKGlzbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNvLmZyb20gPiBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpc28uZnJvbSwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpclN3YXAgPSAoaXNvLmRpcmVjdGlvbiA9PSBMVFIpICE9ICEobG9jYWxMZXZlbCAlIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVNlY3Rpb25PcmRlcihsaW5lLCBkaXJTd2FwID8gbGV2ZWwgKyAxIDogbGV2ZWwsIGJhc2VMZXZlbCwgaXNvLmlubmVyLCBpc28uZnJvbSwgaXNvLnRvLCBvcmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpQ2ggPSBpc28udG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28udG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlTY2FuID09IHRvIHx8IChzYW1lRGlyID8gdHlwZXNbaVNjYW5dICE9IG91clR5cGUgOiB0eXBlc1tpU2Nhbl0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2NhbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpQ2gsIGlTY2FuLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaUNoIDwgaVNjYW4pXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpU2NhbiwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgaW4gcmV2ZXJzZSB0byBmbGlwIHRoZSBzcGFuIG9yZGVyLiBTYW1lIGNvZGUgYWdhaW4sIGJ1dFxuICAgICAgICAvLyBnb2luZyBmcm9tIHRoZSBiYWNrIG9mIHRoZSBzZWN0aW9uIHRvIHRoZSBmcm9udFxuICAgICAgICBmb3IgKGxldCBpQ2ggPSB0bywgaUkgPSBpc29sYXRlcy5sZW5ndGg7IGlDaCA+IGZyb207KSB7XG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIWlJIHx8IGlDaCA+IGlzb2xhdGVzW2lJIC0gMV0udG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHR5cGVzW2lDaCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVjdXJzZSA9ICFzYW1lRGlyICYmIG91clR5cGUgPT0gMSAvKiBULkwgKi8gPyBbXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbG9jYWxMZXZlbCA9IHNhbWVEaXIgPyBsZXZlbCA6IGxldmVsICsgMTtcbiAgICAgICAgICAgIGxldCBpU2NhbiA9IGlDaDtcbiAgICAgICAgICAgIHJ1bjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChpSSAmJiBpU2NhbiA9PSBpc29sYXRlc1tpSSAtIDFdLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzbyA9IGlzb2xhdGVzWy0taUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLmZyb20sIGpJID0gaUk7Oykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHRvID09IGZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgJiYgaXNvbGF0ZXNbakkgLSAxXS50byA9PSB1cHRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlc1t1cHRvIC0gMV0gPT0gb3VyVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN1cnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNlLnB1c2goaXNvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc28udG8gPCBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaXNvLnRvLCBpQ2gsIGxvY2FsTGV2ZWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXJTd2FwID0gKGlzby5kaXJlY3Rpb24gPT0gTFRSKSAhPSAhKGxvY2FsTGV2ZWwgJSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTZWN0aW9uT3JkZXIobGluZSwgZGlyU3dhcCA/IGxldmVsICsgMSA6IGxldmVsLCBiYXNlTGV2ZWwsIGlzby5pbm5lciwgaXNvLmZyb20sIGlzby50bywgb3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaUNoID0gaXNvLmZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28uZnJvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPT0gZnJvbSB8fCAoc2FtZURpciA/IHR5cGVzW2lTY2FuIC0gMV0gIT0gb3VyVHlwZSA6IHR5cGVzW2lTY2FuIC0gMV0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2Nhbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpU2NhbiwgaUNoLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPCBpQ2gpXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaVNjYW4sIGlDaCwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBmcm9tLCB0bywgb3JkZXIpIHtcbiAgICBsZXQgb3V0ZXJUeXBlID0gKGxldmVsICUgMiA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi8pO1xuICAgIGNvbXB1dGVDaGFyVHlwZXMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NCcmFja2V0UGFpcnMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NOZXV0cmFscyhmcm9tLCB0bywgaXNvbGF0ZXMsIG91dGVyVHlwZSk7XG4gICAgZW1pdFNwYW5zKGxpbmUsIGZyb20sIHRvLCBsZXZlbCwgYmFzZUxldmVsLCBpc29sYXRlcywgb3JkZXIpO1xufVxuZnVuY3Rpb24gY29tcHV0ZU9yZGVyKGxpbmUsIGRpcmVjdGlvbiwgaXNvbGF0ZXMpIHtcbiAgICBpZiAoIWxpbmUpXG4gICAgICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIDAsIGRpcmVjdGlvbiA9PSBSVEwgPyAxIDogMCldO1xuICAgIGlmIChkaXJlY3Rpb24gPT0gTFRSICYmICFpc29sYXRlcy5sZW5ndGggJiYgIUJpZGlSRS50ZXN0KGxpbmUpKVxuICAgICAgICByZXR1cm4gdHJpdmlhbE9yZGVyKGxpbmUubGVuZ3RoKTtcbiAgICBpZiAoaXNvbGF0ZXMubGVuZ3RoKVxuICAgICAgICB3aGlsZSAobGluZS5sZW5ndGggPiB0eXBlcy5sZW5ndGgpXG4gICAgICAgICAgICB0eXBlc1t0eXBlcy5sZW5ndGhdID0gMjU2IC8qIFQuTkkgKi87IC8vIE1ha2Ugc3VyZSB0eXBlcyBhcnJheSBoYXMgbm8gZ2Fwc1xuICAgIGxldCBvcmRlciA9IFtdLCBsZXZlbCA9IGRpcmVjdGlvbiA9PSBMVFIgPyAwIDogMTtcbiAgICBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBsZXZlbCwgaXNvbGF0ZXMsIDAsIGxpbmUubGVuZ3RoLCBvcmRlcik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuZnVuY3Rpb24gdHJpdmlhbE9yZGVyKGxlbmd0aCkge1xuICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIGxlbmd0aCwgMCldO1xufVxubGV0IG1vdmVkT3ZlciA9IFwiXCI7XG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIG1vdmVzIHN0cmljdGx5IHZpc3VhbGx5LCB3aXRob3V0IGNvbmNlcm4gZm9yIGFcbi8vIHRyYXZlcnNhbCB2aXNpdGluZyBldmVyeSBsb2dpY2FsIHBvc2l0aW9uIGluIHRoZSBzdHJpbmcuIEl0IHdpbGxcbi8vIHN0aWxsIGRvIHNvIGZvciBzaW1wbGUgaW5wdXQsIGJ1dCBzaXR1YXRpb25zIGxpa2UgbXVsdGlwbGUgaXNvbGF0ZXNcbi8vIHdpdGggdGhlIHNhbWUgbGV2ZWwgbmV4dCB0byBlYWNoIG90aGVyLCBvciB0ZXh0IGdvaW5nIGFnYWluc3QgdGhlXG4vLyBtYWluIGRpciBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lLCB3aWxsIG1ha2Ugc29tZSBwb3NpdGlvbnNcbi8vIHVucmVhY2hhYmxlIHdpdGggdGhpcyBtb3Rpb24uIEVhY2ggdmlzaWJsZSBjdXJzb3IgcG9zaXRpb24gd2lsbFxuLy8gY29ycmVzcG9uZCB0byB0aGUgbG93ZXItbGV2ZWwgYmlkaSBzcGFuIHRoYXQgdG91Y2hlcyBpdC5cbi8vXG4vLyBUaGUgYWx0ZXJuYXRpdmUgd291bGQgYmUgdG8gc29sdmUgYW4gb3JkZXIgZ2xvYmFsbHkgZm9yIGEgZ2l2ZW5cbi8vIGxpbmUsIG1ha2luZyBzdXJlIHRoYXQgaXQgaW5jbHVkZXMgZXZlcnkgcG9zaXRpb24sIGJ1dCB0aGF0IHdvdWxkXG4vLyByZXF1aXJlIGFzc29jaWF0aW5nIG5vbi1jYW5vbmljYWwgKGhpZ2hlciBiaWRpIHNwYW4gbGV2ZWwpXG4vLyBwb3NpdGlvbnMgd2l0aCBhIGdpdmVuIHZpc3VhbCBwb3NpdGlvbiwgd2hpY2ggaXMgbGlrZWx5IHRvIGNvbmZ1c2Vcbi8vIHBlb3BsZS4gKEFuZCB3b3VsZCBnZW5lcmFsbHkgYmUgYSBsb3QgbW9yZSBjb21wbGljYXRlZC4pXG5mdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgb3JkZXIsIGRpciwgc3RhcnQsIGZvcndhcmQpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHN0YXJ0SW5kZXggPSBzdGFydC5oZWFkIC0gbGluZS5mcm9tO1xuICAgIGxldCBzcGFuSSA9IEJpZGlTcGFuLmZpbmQob3JkZXIsIHN0YXJ0SW5kZXgsIChfYSA9IHN0YXJ0LmJpZGlMZXZlbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTEsIHN0YXJ0LmFzc29jKTtcbiAgICBsZXQgc3BhbiA9IG9yZGVyW3NwYW5JXSwgc3BhbkVuZCA9IHNwYW4uc2lkZShmb3J3YXJkLCBkaXIpO1xuICAgIC8vIEVuZCBvZiBzcGFuXG4gICAgaWYgKHN0YXJ0SW5kZXggPT0gc3BhbkVuZCkge1xuICAgICAgICBsZXQgbmV4dEkgPSBzcGFuSSArPSBmb3J3YXJkID8gMSA6IC0xO1xuICAgICAgICBpZiAobmV4dEkgPCAwIHx8IG5leHRJID49IG9yZGVyLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBzcGFuID0gb3JkZXJbc3BhbkkgPSBuZXh0SV07XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzcGFuLnNpZGUoIWZvcndhcmQsIGRpcik7XG4gICAgICAgIHNwYW5FbmQgPSBzcGFuLnNpZGUoZm9yd2FyZCwgZGlyKTtcbiAgICB9XG4gICAgbGV0IG5leHRJbmRleCA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBzdGFydEluZGV4LCBzcGFuLmZvcndhcmQoZm9yd2FyZCwgZGlyKSk7XG4gICAgaWYgKG5leHRJbmRleCA8IHNwYW4uZnJvbSB8fCBuZXh0SW5kZXggPiBzcGFuLnRvKVxuICAgICAgICBuZXh0SW5kZXggPSBzcGFuRW5kO1xuICAgIG1vdmVkT3ZlciA9IGxpbmUudGV4dC5zbGljZShNYXRoLm1pbihzdGFydEluZGV4LCBuZXh0SW5kZXgpLCBNYXRoLm1heChzdGFydEluZGV4LCBuZXh0SW5kZXgpKTtcbiAgICBsZXQgbmV4dFNwYW4gPSBzcGFuSSA9PSAoZm9yd2FyZCA/IG9yZGVyLmxlbmd0aCAtIDEgOiAwKSA/IG51bGwgOiBvcmRlcltzcGFuSSArIChmb3J3YXJkID8gMSA6IC0xKV07XG4gICAgaWYgKG5leHRTcGFuICYmIG5leHRJbmRleCA9PSBzcGFuRW5kICYmIG5leHRTcGFuLmxldmVsICsgKGZvcndhcmQgPyAwIDogMSkgPCBzcGFuLmxldmVsKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0U3Bhbi5zaWRlKCFmb3J3YXJkLCBkaXIpICsgbGluZS5mcm9tLCBuZXh0U3Bhbi5mb3J3YXJkKGZvcndhcmQsIGRpcikgPyAxIDogLTEsIG5leHRTcGFuLmxldmVsKTtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0SW5kZXggKyBsaW5lLmZyb20sIHNwYW4uZm9yd2FyZChmb3J3YXJkLCBkaXIpID8gLTEgOiAxLCBzcGFuLmxldmVsKTtcbn1cbmZ1bmN0aW9uIGF1dG9EaXJlY3Rpb24odGV4dCwgZnJvbSwgdG8pIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgbGV0IHR5cGUgPSBjaGFyVHlwZSh0ZXh0LmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICBpZiAodHlwZSA9PSAxIC8qIFQuTCAqLylcbiAgICAgICAgICAgIHJldHVybiBMVFI7XG4gICAgICAgIGlmICh0eXBlID09IDIgLyogVC5SICovIHx8IHR5cGUgPT0gNCAvKiBULkFMICovKVxuICAgICAgICAgICAgcmV0dXJuIFJUTDtcbiAgICB9XG4gICAgcmV0dXJuIExUUjtcbn1cblxuY29uc3QgY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkcmFnTW92ZXNTZWxlY3Rpb24kMSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IG1vdXNlU2VsZWN0aW9uU3R5bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBleGNlcHRpb25TaW5rID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdXBkYXRlTGlzdGVuZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBpbnB1dEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBmb2N1c0NoYW5nZUVmZmVjdCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGNsaXBib2FyZElucHV0RmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgY2xpcGJvYXJkT3V0cHV0RmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgcGVyTGluZVRleHREaXJlY3Rpb24gPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG5jb25zdCBuYXRpdmVTZWxlY3Rpb25IaWRkZW4gPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG5jb25zdCBzY3JvbGxIYW5kbGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY2xhc3MgU2Nyb2xsVGFyZ2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgeSA9IFwibmVhcmVzdFwiLCB4ID0gXCJuZWFyZXN0XCIsIHlNYXJnaW4gPSA1LCB4TWFyZ2luID0gNSwgXG4gICAgLy8gVGhpcyBkYXRhIHN0cnVjdHVyZSBpcyBhYnVzZWQgdG8gYWxzbyBzdG9yZSBwcmVjaXNlIHNjcm9sbFxuICAgIC8vIHNuYXBzaG90cywgaW5zdGVhZCBvZiBhIGBzY3JvbGxJbnRvVmlld2AgcmVxdWVzdC4gV2hlbiB0aGlzXG4gICAgLy8gZmxhZyBpcyBgdHJ1ZWAsIGByYW5nZWAgcG9pbnRzIGF0IGEgcG9zaXRpb24gaW4gdGhlIHJlZmVyZW5jZVxuICAgIC8vIGxpbmUsIGB5TWFyZ2luYCBob2xkcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhhdFxuICAgIC8vIGxpbmUgYW5kIHRoZSB0b3Agb2YgdGhlIGVkaXRvciwgYW5kIGB4TWFyZ2luYCBob2xkcyB0aGVcbiAgICAvLyBlZGl0b3IncyBgc2Nyb2xsTGVmdGAuXG4gICAgaXNTbmFwc2hvdCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55TWFyZ2luID0geU1hcmdpbjtcbiAgICAgICAgdGhpcy54TWFyZ2luID0geE1hcmdpbjtcbiAgICAgICAgdGhpcy5pc1NuYXBzaG90ID0gaXNTbmFwc2hvdDtcbiAgICB9XG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZXMuZW1wdHkgPyB0aGlzIDpcbiAgICAgICAgICAgIG5ldyBTY3JvbGxUYXJnZXQodGhpcy5yYW5nZS5tYXAoY2hhbmdlcyksIHRoaXMueSwgdGhpcy54LCB0aGlzLnlNYXJnaW4sIHRoaXMueE1hcmdpbiwgdGhpcy5pc1NuYXBzaG90KTtcbiAgICB9XG4gICAgY2xpcChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZS50byA8PSBzdGF0ZS5kb2MubGVuZ3RoID8gdGhpcyA6XG4gICAgICAgICAgICBuZXcgU2Nyb2xsVGFyZ2V0KEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioc3RhdGUuZG9jLmxlbmd0aCksIHRoaXMueSwgdGhpcy54LCB0aGlzLnlNYXJnaW4sIHRoaXMueE1hcmdpbiwgdGhpcy5pc1NuYXBzaG90KTtcbiAgICB9XG59XG5jb25zdCBzY3JvbGxJbnRvVmlldyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoeyBtYXA6ICh0LCBjaCkgPT4gdC5tYXAoY2gpIH0pO1xuY29uc3Qgc2V0RWRpdENvbnRleHRGb3JtYXR0aW5nID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5Mb2cgb3IgcmVwb3J0IGFuIHVuaGFuZGxlZCBleGNlcHRpb24gaW4gY2xpZW50IGNvZGUuIFNob3VsZFxucHJvYmFibHkgb25seSBiZSB1c2VkIGJ5IGV4dGVuc2lvbiBjb2RlIHRoYXQgYWxsb3dzIGNsaWVudCBjb2RlIHRvXG5wcm92aWRlIGZ1bmN0aW9ucywgYW5kIGNhbGxzIHRob3NlIGZ1bmN0aW9ucyBpbiBhIGNvbnRleHQgd2hlcmUgYW5cbmV4Y2VwdGlvbiBjYW4ndCBiZSBwcm9wYWdhdGVkIHRvIGNhbGxpbmcgY29kZSBpbiBhIHJlYXNvbmFibGUgd2F5XG4oZm9yIGV4YW1wbGUgd2hlbiBpbiBhbiBldmVudCBoYW5kbGVyKS5cblxuRWl0aGVyIGNhbGxzIGEgaGFuZGxlciByZWdpc3RlcmVkIHdpdGhcbltgRWRpdG9yVmlldy5leGNlcHRpb25TaW5rYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdeZXhjZXB0aW9uU2luayksXG5gd2luZG93Lm9uZXJyb3JgLCBpZiBkZWZpbmVkLCBvciBgY29uc29sZS5lcnJvcmAgKGluIHdoaWNoIGNhc2Vcbml0J2xsIHBhc3MgYGNvbnRleHRgLCB3aGVuIGdpdmVuLCBhcyBmaXJzdCBhcmd1bWVudCkuXG4qL1xuZnVuY3Rpb24gbG9nRXhjZXB0aW9uKHN0YXRlLCBleGNlcHRpb24sIGNvbnRleHQpIHtcbiAgICBsZXQgaGFuZGxlciA9IHN0YXRlLmZhY2V0KGV4Y2VwdGlvblNpbmspO1xuICAgIGlmIChoYW5kbGVyLmxlbmd0aClcbiAgICAgICAgaGFuZGxlclswXShleGNlcHRpb24pO1xuICAgIGVsc2UgaWYgKHdpbmRvdy5vbmVycm9yICYmIHdpbmRvdy5vbmVycm9yKFN0cmluZyhleGNlcHRpb24pLCBjb250ZXh0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXhjZXB0aW9uKSkgO1xuICAgIGVsc2UgaWYgKGNvbnRleHQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCArIFwiOlwiLCBleGNlcHRpb24pO1xuICAgIGVsc2VcbiAgICAgICAgY29uc29sZS5lcnJvcihleGNlcHRpb24pO1xufVxuY29uc3QgZWRpdGFibGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiB0cnVlIH0pO1xubGV0IG5leHRQbHVnaW5JRCA9IDA7XG5jb25zdCB2aWV3UGx1Z2luID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShwbHVnaW5zKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zLmZpbHRlcigocCwgaSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbnNbal0ucGx1Z2luID09IHAucGx1Z2luKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4vKipcblZpZXcgcGx1Z2lucyBhc3NvY2lhdGUgc3RhdGVmdWwgdmFsdWVzIHdpdGggYSB2aWV3LiBUaGV5IGNhblxuaW5mbHVlbmNlIHRoZSB3YXkgdGhlIGNvbnRlbnQgaXMgZHJhd24sIGFuZCBhcmUgbm90aWZpZWQgb2YgdGhpbmdzXG50aGF0IGhhcHBlbiBpbiB0aGUgdmlldy4gVGhleSBvcHRpb25hbGx5IHRha2UgYW4gYXJndW1lbnQsIGluXG53aGljaCBjYXNlIHlvdSBuZWVkIHRvIGNhbGwgW2BvZmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5WaWV3UGx1Z2luLm9mKSB0byBjcmVhdGVcbmFuIGV4dGVuc2lvbiBmb3IgdGhlIHBsdWdpbi4gV2hlbiB0aGUgYXJndW1lbnQgdHlwZSBpcyB1bmRlZmluZWQsXG55b3UgY2FuIHVzZSB0aGUgcGx1Z2luIGluc3RhbmNlIGFzIGFuIGV4dGVuc2lvbiBkaXJlY3RseS5cbiovXG5jbGFzcyBWaWV3UGx1Z2luIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNyZWF0ZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBkb21FdmVudEhhbmRsZXJzLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGRvbUV2ZW50T2JzZXJ2ZXJzLCBidWlsZEV4dGVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAgICAgdGhpcy5kb21FdmVudEhhbmRsZXJzID0gZG9tRXZlbnRIYW5kbGVycztcbiAgICAgICAgdGhpcy5kb21FdmVudE9ic2VydmVycyA9IGRvbUV2ZW50T2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLmJhc2VFeHRlbnNpb25zID0gYnVpbGRFeHRlbnNpb25zKHRoaXMpO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuYmFzZUV4dGVuc2lvbnMuY29uY2F0KHZpZXdQbHVnaW4ub2YoeyBwbHVnaW46IHRoaXMsIGFyZzogdW5kZWZpbmVkIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGV4dGVuc2lvbiBmb3IgdGhpcyBwbHVnaW4gd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnQuXG4gICAgKi9cbiAgICBvZihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUV4dGVuc2lvbnMuY29uY2F0KHZpZXdQbHVnaW4ub2YoeyBwbHVnaW46IHRoaXMsIGFyZyB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHBsdWdpbiBmcm9tIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZVxuICAgIHBsdWdpbidzIHZhbHVlLCBnaXZlbiBhbiBlZGl0b3Igdmlldy5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY3JlYXRlLCBzcGVjKSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRIYW5kbGVycywgZXZlbnRPYnNlcnZlcnMsIHByb3ZpZGUsIGRlY29yYXRpb25zOiBkZWNvIH0gPSBzcGVjIHx8IHt9O1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdQbHVnaW4obmV4dFBsdWdpbklEKyssIGNyZWF0ZSwgZXZlbnRIYW5kbGVycywgZXZlbnRPYnNlcnZlcnMsIHBsdWdpbiA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ID0gW107XG4gICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICBleHQucHVzaChkZWNvcmF0aW9ucy5vZih2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsdWdpbkluc3QgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luSW5zdCA/IGRlY28ocGx1Z2luSW5zdCkgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGUpXG4gICAgICAgICAgICAgICAgZXh0LnB1c2gocHJvdmlkZShwbHVnaW4pKTtcbiAgICAgICAgICAgIHJldHVybiBleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBwbHVnaW4gZm9yIGEgY2xhc3Mgd2hvc2UgY29uc3RydWN0b3IgdGFrZXMgYSBzaW5nbGVcbiAgICBlZGl0b3IgdmlldyBhcyBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tQ2xhc3MoY2xzLCBzcGVjKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgodmlldywgYXJnKSA9PiBuZXcgY2xzKHZpZXcsIGFyZyksIHNwZWMpO1xuICAgIH1cbn1cbmNsYXNzIFBsdWdpbkluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIC8vIFdoZW4gc3RhcnRpbmcgYW4gdXBkYXRlLCBhbGwgcGx1Z2lucyBoYXZlIHRoaXMgZmllbGQgc2V0IHRvIHRoZVxuICAgICAgICAvLyB1cGRhdGUgb2JqZWN0LCBpbmRpY2F0aW5nIHRoZXkgbmVlZCB0byBiZSB1cGRhdGVkLiBXaGVuIGZpbmlzaGVkXG4gICAgICAgIC8vIHVwZGF0aW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgLiBSZXRyaWV2aW5nIGEgcGx1Z2luIHRoYXQgbmVlZHMgdG9cbiAgICAgICAgLy8gYmUgdXBkYXRlZCB3aXRoIGB2aWV3LnBsdWdpbmAgZm9yY2VzIGFuIGVhZ2VyIHVwZGF0ZS5cbiAgICAgICAgdGhpcy5tdXN0VXBkYXRlID0gbnVsbDtcbiAgICAgICAgLy8gVGhpcyBpcyBudWxsIHdoZW4gdGhlIHBsdWdpbiBpcyBpbml0aWFsbHkgY3JlYXRlZCwgYnV0XG4gICAgICAgIC8vIGluaXRpYWxpemVkIG9uIHRoZSBmaXJzdCB1cGRhdGUuXG4gICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBnZXQgcGx1Z2luKCkgeyByZXR1cm4gdGhpcy5zcGVjICYmIHRoaXMuc3BlYy5wbHVnaW47IH1cbiAgICB1cGRhdGUodmlldykge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNwZWMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zcGVjLnBsdWdpbi5jcmVhdGUodmlldywgdGhpcy5zcGVjLmFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm11c3RVcGRhdGUpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGUgPSB0aGlzLm11c3RVcGRhdGU7XG4gICAgICAgICAgICB0aGlzLm11c3RVcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHVwZGF0ZS5zdGF0ZSwgZSwgXCJDb2RlTWlycm9yIHBsdWdpbiBjcmFzaGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5kZXN0cm95KVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXN0cm95KHZpZXcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5zcGVjID0gdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgfVxufVxuY29uc3QgZWRpdG9yQXR0cmlidXRlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGNvbnRlbnRBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLy8gUHJvdmlkZSBkZWNvcmF0aW9uc1xuY29uc3QgZGVjb3JhdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBvdXRlckRlY29yYXRpb25zID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgYXRvbWljUmFuZ2VzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgYmlkaUlzb2xhdGVkUmFuZ2VzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuZnVuY3Rpb24gZ2V0SXNvbGF0ZWRSYW5nZXModmlldywgbGluZSkge1xuICAgIGxldCBpc29sYXRlcyA9IHZpZXcuc3RhdGUuZmFjZXQoYmlkaUlzb2xhdGVkUmFuZ2VzKTtcbiAgICBpZiAoIWlzb2xhdGVzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGlzb2xhdGVzO1xuICAgIGxldCBzZXRzID0gaXNvbGF0ZXMubWFwKGkgPT4gaSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gaSh2aWV3KSA6IGkpO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBSYW5nZVNldC5zcGFucyhzZXRzLCBsaW5lLmZyb20sIGxpbmUudG8sIHtcbiAgICAgICAgcG9pbnQoKSB7IH0sXG4gICAgICAgIHNwYW4oZnJvbURvYywgdG9Eb2MsIGFjdGl2ZSwgb3Blbikge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBmcm9tRG9jIC0gbGluZS5mcm9tLCB0byA9IHRvRG9jIC0gbGluZS5mcm9tO1xuICAgICAgICAgICAgbGV0IGxldmVsID0gcmVzdWx0O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSwgb3Blbi0tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IGFjdGl2ZVtpXS5zcGVjLmJpZGlJc29sYXRlLCB1cGRhdGU7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBhdXRvRGlyZWN0aW9uKGxpbmUudGV4dCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIGlmIChvcGVuID4gMCAmJiBsZXZlbC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgKHVwZGF0ZSA9IGxldmVsW2xldmVsLmxlbmd0aCAtIDFdKS50byA9PSBmcm9tICYmIHVwZGF0ZS5kaXJlY3Rpb24gPT0gZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS50byA9IHRvO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHVwZGF0ZS5pbm5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZGQgPSB7IGZyb20sIHRvLCBkaXJlY3Rpb24sIGlubmVyOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICBsZXZlbC5wdXNoKGFkZCk7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsID0gYWRkLmlubmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBzY3JvbGxNYXJnaW5zID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsTWFyZ2lucyh2aWV3KSB7XG4gICAgbGV0IGxlZnQgPSAwLCByaWdodCA9IDAsIHRvcCA9IDAsIGJvdHRvbSA9IDA7XG4gICAgZm9yIChsZXQgc291cmNlIG9mIHZpZXcuc3RhdGUuZmFjZXQoc2Nyb2xsTWFyZ2lucykpIHtcbiAgICAgICAgbGV0IG0gPSBzb3VyY2Uodmlldyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICBpZiAobS5sZWZ0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIG0ubGVmdCk7XG4gICAgICAgICAgICBpZiAobS5yaWdodCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5tYXgocmlnaHQsIG0ucmlnaHQpO1xuICAgICAgICAgICAgaWYgKG0udG9wICE9IG51bGwpXG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBtLnRvcCk7XG4gICAgICAgICAgICBpZiAobS5ib3R0b20gIT0gbnVsbClcbiAgICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1heChib3R0b20sIG0uYm90dG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gfTtcbn1cbmNvbnN0IHN0eWxlTW9kdWxlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY2xhc3MgQ2hhbmdlZFJhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSB7XG4gICAgICAgIHRoaXMuZnJvbUEgPSBmcm9tQTtcbiAgICAgICAgdGhpcy50b0EgPSB0b0E7XG4gICAgICAgIHRoaXMuZnJvbUIgPSBmcm9tQjtcbiAgICAgICAgdGhpcy50b0IgPSB0b0I7XG4gICAgfVxuICAgIGpvaW4ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VkUmFuZ2UoTWF0aC5taW4odGhpcy5mcm9tQSwgb3RoZXIuZnJvbUEpLCBNYXRoLm1heCh0aGlzLnRvQSwgb3RoZXIudG9BKSwgTWF0aC5taW4odGhpcy5mcm9tQiwgb3RoZXIuZnJvbUIpLCBNYXRoLm1heCh0aGlzLnRvQiwgb3RoZXIudG9CKSk7XG4gICAgfVxuICAgIGFkZFRvU2V0KHNldCkge1xuICAgICAgICBsZXQgaSA9IHNldC5sZW5ndGgsIG1lID0gdGhpcztcbiAgICAgICAgZm9yICg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHNldFtpIC0gMV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuZnJvbUEgPiBtZS50b0EpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmFuZ2UudG9BIDwgbWUuZnJvbUEpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBtZSA9IG1lLmpvaW4ocmFuZ2UpO1xuICAgICAgICAgICAgc2V0LnNwbGljZShpIC0gMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0LnNwbGljZShpLCAwLCBtZSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxuICAgIHN0YXRpYyBleHRlbmRXaXRoUmFuZ2VzKGRpZmYsIHJhbmdlcykge1xuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZEkgPSAwLCBySSA9IDAsIHBvc0EgPSAwLCBwb3NCID0gMDs7IGRJKyspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gZEkgPT0gZGlmZi5sZW5ndGggPyBudWxsIDogZGlmZltkSV0sIG9mZiA9IHBvc0EgLSBwb3NCO1xuICAgICAgICAgICAgbGV0IGVuZCA9IG5leHQgPyBuZXh0LmZyb21CIDogMWU5O1xuICAgICAgICAgICAgd2hpbGUgKHJJIDwgcmFuZ2VzLmxlbmd0aCAmJiByYW5nZXNbckldIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSByYW5nZXNbckldLCB0byA9IHJhbmdlc1tySSArIDFdO1xuICAgICAgICAgICAgICAgIGxldCBmcm9tQiA9IE1hdGgubWF4KHBvc0IsIGZyb20pLCB0b0IgPSBNYXRoLm1pbihlbmQsIHRvKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbUIgPD0gdG9CKVxuICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhbmdlZFJhbmdlKGZyb21CICsgb2ZmLCB0b0IgKyBvZmYsIGZyb21CLCB0b0IpLmFkZFRvU2V0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvID4gZW5kKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJJICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIG5ldyBDaGFuZ2VkUmFuZ2UobmV4dC5mcm9tQSwgbmV4dC50b0EsIG5leHQuZnJvbUIsIG5leHQudG9CKS5hZGRUb1NldChyZXN1bHQpO1xuICAgICAgICAgICAgcG9zQSA9IG5leHQudG9BO1xuICAgICAgICAgICAgcG9zQiA9IG5leHQudG9CO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5WaWV3IFtwbHVnaW5zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuVmlld1BsdWdpbikgYXJlIGdpdmVuIGluc3RhbmNlcyBvZiB0aGlzXG5jbGFzcywgd2hpY2ggZGVzY3JpYmUgd2hhdCBoYXBwZW5lZCwgd2hlbmV2ZXIgdGhlIHZpZXcgaXMgdXBkYXRlZC5cbiovXG5jbGFzcyBWaWV3VXBkYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgZWRpdG9yIHZpZXcgdGhhdCB0aGUgdXBkYXRlIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICAqL1xuICAgIHZpZXcsIFxuICAgIC8qKlxuICAgIFRoZSBuZXcgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8qKlxuICAgIFRoZSB0cmFuc2FjdGlvbnMgaW52b2x2ZWQgaW4gdGhlIHVwZGF0ZS4gTWF5IGJlIGVtcHR5LlxuICAgICovXG4gICAgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbGFncyA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnRTdGF0ZSA9IHZpZXcuc3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IENoYW5nZVNldC5lbXB0eSh0aGlzLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucylcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlcyA9IHRoaXMuY2hhbmdlcy5jb21wb3NlKHRyLmNoYW5nZXMpO1xuICAgICAgICBsZXQgY2hhbmdlZFJhbmdlcyA9IFtdO1xuICAgICAgICB0aGlzLmNoYW5nZXMuaXRlckNoYW5nZWRSYW5nZXMoKGZyb21BLCB0b0EsIGZyb21CLCB0b0IpID0+IGNoYW5nZWRSYW5nZXMucHVzaChuZXcgQ2hhbmdlZFJhbmdlKGZyb21BLCB0b0EsIGZyb21CLCB0b0IpKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZFJhbmdlcyA9IGNoYW5nZWRSYW5nZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZSh2aWV3LCBzdGF0ZSwgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld1VwZGF0ZSh2aWV3LCBzdGF0ZSwgdHJhbnNhY3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVsbHMgeW91IHdoZXRoZXIgdGhlIFt2aWV3cG9ydF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudmlld3BvcnQpIG9yXG4gICAgW3Zpc2libGUgcmFuZ2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy52aXNpYmxlUmFuZ2VzKSBjaGFuZ2VkIGluIHRoaXNcbiAgICB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgdmlld3BvcnRDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiA0IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnQgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIHdoZW5cbiAgICBbYHZpZXdwb3J0Q2hhbmdlZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5WaWV3VXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCkgaXMgdHJ1ZVxuICAgIGFuZCB0aGUgdmlld3BvcnQgY2hhbmdlIGlzIG5vdCBqdXN0IHRoZSByZXN1bHQgb2YgbWFwcGluZyBpdCBpblxuICAgIHJlc3BvbnNlIHRvIGRvY3VtZW50IGNoYW5nZXMuXG4gICAgKi9cbiAgICBnZXQgdmlld3BvcnRNb3ZlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgOCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0TW92ZWQgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhlaWdodCBvZiBhIGJsb2NrIGVsZW1lbnQgaW4gdGhlIGVkaXRvclxuICAgIGNoYW5nZWQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgaGVpZ2h0Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGUgZG9jdW1lbnQgd2FzIG1vZGlmaWVkIG9yIHRoZSBzaXplIG9mIHRoZVxuICAgIGVkaXRvciwgb3IgZWxlbWVudHMgd2l0aGluIHRoZSBlZGl0b3IsIGNoYW5nZWQuXG4gICAgKi9cbiAgICBnZXQgZ2VvbWV0cnlDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NDaGFuZ2VkIHx8ICh0aGlzLmZsYWdzICYgKDE2IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi8gfCAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSkgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyB1cGRhdGUgaW5kaWNhdGVzIGEgZm9jdXMgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IGZvY3VzQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgMSAvKiBVcGRhdGVGbGFnLkZvY3VzICovKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIGRvY3VtZW50IGNoYW5nZWQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgZG9jQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNoYW5nZXMuZW1wdHk7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiB3YXMgZXhwbGljaXRseSBzZXQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgc2VsZWN0aW9uU2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5zZWxlY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBlbXB0eSgpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgPT0gMCAmJiB0aGlzLnRyYW5zYWN0aW9ucy5sZW5ndGggPT0gMDsgfVxufVxuXG5jbGFzcyBEb2NWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aDsgfVxuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwID0gW2ZhbHNlXTtcbiAgICAgICAgdGhpcy5kb21DaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNDb21wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24gPSBuZXcgU2V0O1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0Rm9ybWF0dGluZyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgdGhpcy5sYXN0Q29tcG9zaXRpb25BZnRlckN1cnNvciA9IGZhbHNlO1xuICAgICAgICAvLyBUcmFjayBhIG1pbmltdW0gd2lkdGggZm9yIHRoZSBlZGl0b3IuIFdoZW4gbWVhc3VyaW5nIHNpemVzIGluXG4gICAgICAgIC8vIG1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHMsIHRoaXMgaXMgdXBkYXRlZCB0byBwb2ludCBhdCB0aGUgd2lkdGhcbiAgICAgICAgLy8gb2YgYSBnaXZlbiBlbGVtZW50IGFuZCBpdHMgZXh0ZW50IGluIHRoZSBkb2N1bWVudC4gV2hlbiBhIGNoYW5nZVxuICAgICAgICAvLyBoYXBwZW5zIGluIHRoYXQgcmFuZ2UsIHRoZXNlIGFyZSByZXNldC4gVGhhdCB3YXksIG9uY2Ugd2UndmUgc2VlblxuICAgICAgICAvLyBhIGxpbmUvZWxlbWVudCBvZiBhIGdpdmVuIGxlbmd0aCwgd2Uga2VlcCB0aGUgZWRpdG9yIHdpZGUgZW5vdWdoXG4gICAgICAgIC8vIHRvIGZpdCBhdCBsZWFzdCB0aGF0IGVsZW1lbnQsIHVudGlsIGl0IGlzIGNoYW5nZWQsIGF0IHdoaWNoIHBvaW50XG4gICAgICAgIC8vIHdlIGZvcmdldCBpdCBhZ2Fpbi5cbiAgICAgICAgdGhpcy5taW5XaWR0aCA9IDA7XG4gICAgICAgIHRoaXMubWluV2lkdGhGcm9tID0gMDtcbiAgICAgICAgdGhpcy5taW5XaWR0aFRvID0gMDtcbiAgICAgICAgLy8gVHJhY2sgd2hldGhlciB0aGUgRE9NIHNlbGVjdGlvbiB3YXMgc2V0IGluIGEgbG9zc3kgd2F5LCBzbyB0aGF0XG4gICAgICAgIC8vIHdlIGRvbid0IG1lc3MgaXQgdXAgd2hlbiByZWFkaW5nIGl0IGJhY2sgaXRcbiAgICAgICAgdGhpcy5pbXByZWNpc2VBbmNob3IgPSBudWxsO1xuICAgICAgICB0aGlzLmltcHJlY2lzZUhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIC8vIFVzZWQgYnkgdGhlIHJlc2l6ZSBvYnNlcnZlciB0byBpZ25vcmUgcmVzaXplcyB0aGF0IHdlIGNhdXNlZFxuICAgICAgICAvLyBvdXJzZWx2ZXNcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5zZXRET00odmlldy5jb250ZW50RE9NKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtuZXcgTGluZVZpZXddO1xuICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLnNldFBhcmVudCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVEZWNvKCk7XG4gICAgICAgIHRoaXMudXBkYXRlSW5uZXIoW25ldyBDaGFuZ2VkUmFuZ2UoMCwgMCwgMCwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoKV0sIDAsIG51bGwpO1xuICAgIH1cbiAgICAvLyBVcGRhdGUgdGhlIGRvY3VtZW50IHZpZXcgdG8gYSBnaXZlbiBzdGF0ZS5cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGNoYW5nZWRSYW5nZXMgPSB1cGRhdGUuY2hhbmdlZFJhbmdlcztcbiAgICAgICAgaWYgKHRoaXMubWluV2lkdGggPiAwICYmIGNoYW5nZWRSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoIWNoYW5nZWRSYW5nZXMuZXZlcnkoKHsgZnJvbUEsIHRvQSB9KSA9PiB0b0EgPCB0aGlzLm1pbldpZHRoRnJvbSB8fCBmcm9tQSA+IHRoaXMubWluV2lkdGhUbykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoID0gdGhpcy5taW5XaWR0aEZyb20gPSB0aGlzLm1pbldpZHRoVG8gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5taW5XaWR0aEZyb20sIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhUbyA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0aGlzLm1pbldpZHRoVG8sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdENvbnRleHRGb3JtYXR0aW5nKHVwZGF0ZSk7XG4gICAgICAgIGxldCByZWFkQ29tcG9zaXRpb25BdCA9IC0xO1xuICAgICAgICBpZiAodGhpcy52aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDAgJiYgIXRoaXMudmlldy5vYnNlcnZlci5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgaWYgKChfYSA9IHRoaXMuZG9tQ2hhbmdlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5ld1NlbClcbiAgICAgICAgICAgICAgICByZWFkQ29tcG9zaXRpb25BdCA9IHRoaXMuZG9tQ2hhbmdlZC5uZXdTZWwuaGVhZDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0b3VjaGVzQ29tcG9zaXRpb24odXBkYXRlLmNoYW5nZXMsIHRoaXMuaGFzQ29tcG9zaXRpb24pICYmICF1cGRhdGUuc2VsZWN0aW9uU2V0KVxuICAgICAgICAgICAgICAgIHJlYWRDb21wb3NpdGlvbkF0ID0gdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbXBvc2l0aW9uID0gcmVhZENvbXBvc2l0aW9uQXQgPiAtMSA/IGZpbmRDb21wb3NpdGlvblJhbmdlKHRoaXMudmlldywgdXBkYXRlLmNoYW5nZXMsIHJlYWRDb21wb3NpdGlvbkF0KSA6IG51bGw7XG4gICAgICAgIHRoaXMuZG9tQ2hhbmdlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmNsZWFyKCk7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gdGhpcy5oYXNDb21wb3NpdGlvbjtcbiAgICAgICAgICAgIGNoYW5nZWRSYW5nZXMgPSBuZXcgQ2hhbmdlZFJhbmdlKGZyb20sIHRvLCB1cGRhdGUuY2hhbmdlcy5tYXBQb3MoZnJvbSwgLTEpLCB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModG8sIDEpKVxuICAgICAgICAgICAgICAgIC5hZGRUb1NldChjaGFuZ2VkUmFuZ2VzLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzQ29tcG9zaXRpb24gPSBjb21wb3NpdGlvbiA/IHsgZnJvbTogY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIHRvOiBjb21wb3NpdGlvbi5yYW5nZS50b0IgfSA6IG51bGw7XG4gICAgICAgIC8vIFdoZW4gdGhlIERPTSBub2RlcyBhcm91bmQgdGhlIHNlbGVjdGlvbiBhcmUgbW92ZWQgdG8gYW5vdGhlclxuICAgICAgICAvLyBwYXJlbnQsIENocm9tZSBzb21ldGltZXMgcmVwb3J0cyBhIGRpZmZlcmVudCBzZWxlY3Rpb24gdGhyb3VnaFxuICAgICAgICAvLyBnZXRTZWxlY3Rpb24gdGhhbiB0aGUgb25lIHRoYXQgaXQgYWN0dWFsbHkgc2hvd3MgdG8gdGhlIHVzZXIuXG4gICAgICAgIC8vIFRoaXMgZm9yY2VzIGEgc2VsZWN0aW9uIHVwZGF0ZSB3aGVuIGxpbmVzIGFyZSBqb2luZWQgdG8gd29ya1xuICAgICAgICAvLyBhcm91bmQgdGhhdC4gSXNzdWUgIzU0XG4gICAgICAgIGlmICgoYnJvd3Nlci5pZSB8fCBicm93c2VyLmNocm9tZSkgJiYgIWNvbXBvc2l0aW9uICYmIHVwZGF0ZSAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLmRvYy5saW5lcyAhPSB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZXMpXG4gICAgICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgbGV0IHByZXZEZWNvID0gdGhpcy5kZWNvcmF0aW9ucywgZGVjbyA9IHRoaXMudXBkYXRlRGVjbygpO1xuICAgICAgICBsZXQgZGVjb0RpZmYgPSBmaW5kQ2hhbmdlZERlY28ocHJldkRlY28sIGRlY28sIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgY2hhbmdlZFJhbmdlcyA9IENoYW5nZWRSYW5nZS5leHRlbmRXaXRoUmFuZ2VzKGNoYW5nZWRSYW5nZXMsIGRlY29EaWZmKTtcbiAgICAgICAgaWYgKCEodGhpcy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pICYmIGNoYW5nZWRSYW5nZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5uZXIoY2hhbmdlZFJhbmdlcywgdXBkYXRlLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCwgY29tcG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVc2VkIGJ5IHVwZGF0ZSBhbmQgdGhlIGNvbnN0cnVjdG9yIGRvIHBlcmZvcm0gdGhlIGFjdHVhbCBET01cbiAgICAvLyB1cGRhdGVcbiAgICB1cGRhdGVJbm5lcihjaGFuZ2VzLCBvbGRMZW5ndGgsIGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihjaGFuZ2VzLCBvbGRMZW5ndGgsIGNvbXBvc2l0aW9uKTtcbiAgICAgICAgbGV0IHsgb2JzZXJ2ZXIgfSA9IHRoaXMudmlldztcbiAgICAgICAgb2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIC8vIExvY2sgdGhlIGhlaWdodCBkdXJpbmcgcmVkcmF3aW5nLCBzaW5jZSBDaHJvbWUgc29tZXRpbWVzXG4gICAgICAgICAgICAvLyBtZXNzZXMgd2l0aCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGR1cmluZyBET00gbXV0YXRpb24gKHRob3VnaFxuICAgICAgICAgICAgLy8gbm8gcmVsYXlvdXQgaXMgdHJpZ2dlcmVkIGFuZCBJIGNhbm5vdCBpbWFnaW5lIGhvdyBpdCBjYW5cbiAgICAgICAgICAgIC8vIHJlY29tcHV0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHdpdGhvdXQgYSBsYXlvdXQpXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5oZWlnaHQgPSB0aGlzLnZpZXcudmlld1N0YXRlLmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuZmxleEJhc2lzID0gdGhpcy5taW5XaWR0aCA/IHRoaXMubWluV2lkdGggKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgc29tZXRpbWVzLCB3aGVuIERPTSBtdXRhdGlvbnMgb2NjdXIgZGlyZWN0bHlcbiAgICAgICAgICAgIC8vIGFyb3VuZCB0aGUgc2VsZWN0aW9uLCBnZXQgY29uZnVzZWQgYW5kIHJlcG9ydCBhIGRpZmZlcmVudFxuICAgICAgICAgICAgLy8gc2VsZWN0aW9uIGZyb20gdGhlIG9uZSBpdCBkaXNwbGF5cyAoaXNzdWUgIzIxOCkuIFRoaXMgdHJpZXNcbiAgICAgICAgICAgIC8vIHRvIGRldGVjdCB0aGF0IHNpdHVhdGlvbi5cbiAgICAgICAgICAgIGxldCB0cmFjayA9IGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuaW9zID8geyBub2RlOiBvYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUsIHdyaXR0ZW46IGZhbHNlIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnN5bmModGhpcy52aWV3LCB0cmFjayk7XG4gICAgICAgICAgICB0aGlzLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgaWYgKHRyYWNrICYmICh0cmFjay53cml0dGVuIHx8IG9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSAhPSB0cmFjay5ub2RlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmZvckVhY2goY1ZpZXcgPT4gY1ZpZXcuZmxhZ3MgJj0gfjggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgICAgICBsZXQgZ2FwcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy52aWV3LnZpZXdwb3J0LmZyb20gfHwgdGhpcy52aWV3LnZpZXdwb3J0LnRvIDwgdGhpcy52aWV3LnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJiBjaGlsZC53aWRnZXQgaW5zdGFuY2VvZiBCbG9ja0dhcFdpZGdldClcbiAgICAgICAgICAgICAgICAgICAgZ2Fwcy5wdXNoKGNoaWxkLmRvbSk7XG4gICAgICAgIG9ic2VydmVyLnVwZGF0ZUdhcHMoZ2Fwcyk7XG4gICAgfVxuICAgIHVwZGF0ZUNoaWxkcmVuKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IGNvbXBvc2l0aW9uID8gY29tcG9zaXRpb24ucmFuZ2UuYWRkVG9TZXQoY2hhbmdlcy5zbGljZSgpKSA6IGNoYW5nZXM7XG4gICAgICAgIGxldCBjdXJzb3IgPSB0aGlzLmNoaWxkQ3Vyc29yKG9sZExlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSByYW5nZXMubGVuZ3RoIC0gMTs7IGktLSkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID49IDAgPyByYW5nZXNbaV0gOiBudWxsO1xuICAgICAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHsgZnJvbUEsIHRvQSwgZnJvbUIsIHRvQiB9ID0gbmV4dCwgY29udGVudCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQ7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRpb24gJiYgY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIgPCB0b0IgJiYgY29tcG9zaXRpb24ucmFuZ2UudG9CID4gZnJvbUIpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmVmb3JlID0gQ29udGVudEJ1aWxkZXIuYnVpbGQodGhpcy52aWV3LnN0YXRlLmRvYywgZnJvbUIsIGNvbXBvc2l0aW9uLnJhbmdlLmZyb21CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBjb21wb3NpdGlvbi5yYW5nZS50b0IsIHRvQiwgdGhpcy5kZWNvcmF0aW9ucywgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWtBdFN0YXJ0ID0gYmVmb3JlLmJyZWFrQXRTdGFydDtcbiAgICAgICAgICAgICAgICBvcGVuU3RhcnQgPSBiZWZvcmUub3BlblN0YXJ0O1xuICAgICAgICAgICAgICAgIG9wZW5FbmQgPSBhZnRlci5vcGVuRW5kO1xuICAgICAgICAgICAgICAgIGxldCBjb21wTGluZSA9IHRoaXMuY29tcG9zaXRpb25WaWV3KGNvbXBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIuYnJlYWtBdFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhZnRlci5jb250ZW50Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBjb21wTGluZS5tZXJnZShjb21wTGluZS5sZW5ndGgsIGNvbXBMaW5lLmxlbmd0aCwgYWZ0ZXIuY29udGVudFswXSwgZmFsc2UsIGFmdGVyLm9wZW5TdGFydCwgMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUuYnJlYWtBZnRlciA9IGFmdGVyLmNvbnRlbnRbMF0uYnJlYWtBZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIuY29udGVudC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlLmNvbnRlbnQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLm1lcmdlKDAsIDAsIGJlZm9yZS5jb250ZW50W2JlZm9yZS5jb250ZW50Lmxlbmd0aCAtIDFdLCB0cnVlLCAwLCBiZWZvcmUub3BlbkVuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlLmNvbnRlbnQucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUuY29udGVudC5jb25jYXQoY29tcExpbmUpLmNvbmNhdChhZnRlci5jb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICh7IGNvbnRlbnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kIH0gPVxuICAgICAgICAgICAgICAgICAgICBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBmcm9tQiwgdG9CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeyBpOiB0b0ksIG9mZjogdG9PZmYgfSA9IGN1cnNvci5maW5kUG9zKHRvQSwgMSk7XG4gICAgICAgICAgICBsZXQgeyBpOiBmcm9tSSwgb2ZmOiBmcm9tT2ZmIH0gPSBjdXJzb3IuZmluZFBvcyhmcm9tQSwgLTEpO1xuICAgICAgICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5maXhDb21wb3NpdGlvbkRPTShjb21wb3NpdGlvbik7XG4gICAgfVxuICAgIHVwZGF0ZUVkaXRDb250ZXh0Rm9ybWF0dGluZyh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5lZGl0Q29udGV4dEZvcm1hdHRpbmcgPSB0aGlzLmVkaXRDb250ZXh0Rm9ybWF0dGluZy5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBmb3IgKGxldCB0ciBvZiB1cGRhdGUudHJhbnNhY3Rpb25zKVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzZXRFZGl0Q29udGV4dEZvcm1hdHRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHRGb3JtYXR0aW5nID0gZWZmZWN0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICB9XG4gICAgY29tcG9zaXRpb25WaWV3KGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBjdXIgPSBuZXcgVGV4dFZpZXcoY29tcG9zaXRpb24udGV4dC5ub2RlVmFsdWUpO1xuICAgICAgICBjdXIuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLztcbiAgICAgICAgZm9yIChsZXQgeyBkZWNvIH0gb2YgY29tcG9zaXRpb24ubWFya3MpXG4gICAgICAgICAgICBjdXIgPSBuZXcgTWFya1ZpZXcoZGVjbywgW2N1cl0sIGN1ci5sZW5ndGgpO1xuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgbGluZS5hcHBlbmQoY3VyLCAwKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGZpeENvbXBvc2l0aW9uRE9NKGNvbXBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBmaXggPSAoZG9tLCBjVmlldykgPT4ge1xuICAgICAgICAgICAgY1ZpZXcuZmxhZ3MgfD0gOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyB8IChjVmlldy5jaGlsZHJlbi5zb21lKGMgPT4gYy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pID8gMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovIDogMCk7XG4gICAgICAgICAgICB0aGlzLm1hcmtlZEZvckNvbXBvc2l0aW9uLmFkZChjVmlldyk7XG4gICAgICAgICAgICBsZXQgcHJldiA9IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICAgICAgaWYgKHByZXYgJiYgcHJldiAhPSBjVmlldylcbiAgICAgICAgICAgICAgICBwcmV2LmRvbSA9IG51bGw7XG4gICAgICAgICAgICBjVmlldy5zZXRET00oZG9tKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuY2hpbGRQb3MoY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIDEpO1xuICAgICAgICBsZXQgY1ZpZXcgPSB0aGlzLmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgZml4KGNvbXBvc2l0aW9uLmxpbmUsIGNWaWV3KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbXBvc2l0aW9uLm1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gLTE7IGktLSkge1xuICAgICAgICAgICAgcG9zID0gY1ZpZXcuY2hpbGRQb3MocG9zLm9mZiwgMSk7XG4gICAgICAgICAgICBjVmlldyA9IGNWaWV3LmNoaWxkcmVuW3Bvcy5pXTtcbiAgICAgICAgICAgIGZpeChpID49IDAgPyBjb21wb3NpdGlvbi5tYXJrc1tpXS5ub2RlIDogY29tcG9zaXRpb24udGV4dCwgY1ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFN5bmMgdGhlIERPTSBzZWxlY3Rpb24gdG8gdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB1cGRhdGVTZWxlY3Rpb24obXVzdFJlYWQgPSBmYWxzZSwgZnJvbVBvaW50ZXIgPSBmYWxzZSkge1xuICAgICAgICBpZiAobXVzdFJlYWQgfHwgIXRoaXMudmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUpXG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBhY3RpdmVFbHQgPSB0aGlzLnZpZXcucm9vdC5hY3RpdmVFbGVtZW50LCBmb2N1c2VkID0gYWN0aXZlRWx0ID09IHRoaXMuZG9tO1xuICAgICAgICBsZXQgc2VsZWN0aW9uTm90Rm9jdXMgPSAhZm9jdXNlZCAmJiAhKHRoaXMudmlldy5zdGF0ZS5mYWNldChlZGl0YWJsZSkgfHwgdGhpcy5kb20udGFiSW5kZXggPiAtMSkgJiZcbiAgICAgICAgICAgIGhhc1NlbGVjdGlvbih0aGlzLmRvbSwgdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlKSAmJiAhKGFjdGl2ZUVsdCAmJiB0aGlzLmRvbS5jb250YWlucyhhY3RpdmVFbHQpKTtcbiAgICAgICAgaWYgKCEoZm9jdXNlZCB8fCBmcm9tUG9pbnRlciB8fCBzZWxlY3Rpb25Ob3RGb2N1cykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBmb3JjZSA9IHRoaXMuZm9yY2VTZWxlY3Rpb247XG4gICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgbGV0IG1haW4gPSB0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgIGxldCBhbmNob3IgPSB0aGlzLm1vdmVUb0xpbmUodGhpcy5kb21BdFBvcyhtYWluLmFuY2hvcikpO1xuICAgICAgICBsZXQgaGVhZCA9IG1haW4uZW1wdHkgPyBhbmNob3IgOiB0aGlzLm1vdmVUb0xpbmUodGhpcy5kb21BdFBvcyhtYWluLmhlYWQpKTtcbiAgICAgICAgLy8gQWx3YXlzIHJlc2V0IG9uIEZpcmVmb3ggd2hlbiBuZXh0IHRvIGFuIHVuZWRpdGFibGUgbm9kZSB0b1xuICAgICAgICAvLyBhdm9pZCBpbnZpc2libGUgY3Vyc29yIGJ1Z3MgKCMxMTEpXG4gICAgICAgIGlmIChicm93c2VyLmdlY2tvICYmIG1haW4uZW1wdHkgJiYgIXRoaXMuaGFzQ29tcG9zaXRpb24gJiYgYmV0d2VlblVuZWRpdGFibGUoYW5jaG9yKSkge1xuICAgICAgICAgICAgbGV0IGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IGFuY2hvci5ub2RlLmluc2VydEJlZm9yZShkdW1teSwgYW5jaG9yLm5vZGUuY2hpbGROb2Rlc1thbmNob3Iub2Zmc2V0XSB8fCBudWxsKSk7XG4gICAgICAgICAgICBhbmNob3IgPSBoZWFkID0gbmV3IERPTVBvcyhkdW1teSwgMCk7XG4gICAgICAgICAgICBmb3JjZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRvbVNlbCA9IHRoaXMudmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBhbHJlYWR5IGhlcmUsIG9yIGluIGFuIGVxdWl2YWxlbnQgcG9zaXRpb24sIGRvbid0IHRvdWNoIGl0XG4gICAgICAgIGlmIChmb3JjZSB8fCAhZG9tU2VsLmZvY3VzTm9kZSB8fCAoIWlzRXF1aXZhbGVudFBvc2l0aW9uKGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0LCBkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCkgfHxcbiAgICAgICAgICAgICFpc0VxdWl2YWxlbnRQb3NpdGlvbihoZWFkLm5vZGUsIGhlYWQub2Zmc2V0LCBkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpKSAmJiAhdGhpcy5zdXBwcmVzc1dpZGdldEN1cnNvckNoYW5nZShkb21TZWwsIG1haW4pKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgQW5kcm9pZCB3aWxsIGhpZGUgdGhlIHZpcnR1YWwga2V5Ym9hcmQgd2hlbiB0YXBwaW5nXG4gICAgICAgICAgICAgICAgLy8gaW5zaWRlIGFuIHVuZWRpdGFibGUgbm9kZSwgYW5kIG5vdCBicmluZyBpdCBiYWNrIHdoZW4gd2VcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgdG8gaXRzIHByb3BlciBwb3NpdGlvbi4gVGhpcyB0cmllcyB0b1xuICAgICAgICAgICAgICAgIC8vIHJlc3RvcmUgdGhlIGtleWJvYXJkIGJ5IGN5Y2xpbmcgZm9jdXMuXG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuYW5kcm9pZCAmJiBicm93c2VyLmNocm9tZSAmJiB0aGlzLmRvbS5jb250YWlucyhkb21TZWwuZm9jdXNOb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICBpblVuZWRpdGFibGUoZG9tU2VsLmZvY3VzTm9kZSwgdGhpcy5kb20pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmF3U2VsID0gZ2V0U2VsZWN0aW9uKHRoaXMudmlldy5yb290KTtcbiAgICAgICAgICAgICAgICBpZiAoIXJhd1NlbCkgO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1haW4uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV29yayBhcm91bmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTYxMjA3NlxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRUbyA9IG5leHRUb1VuZWRpdGFibGUoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUbyAmJiBuZXh0VG8gIT0gKDEgLyogTmV4dFRvLkJlZm9yZSAqLyB8IDIgLyogTmV4dFRvLkFmdGVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gKG5leHRUbyA9PSAxIC8qIE5leHRUby5CZWZvcmUgKi8gPyB0ZXh0Tm9kZUJlZm9yZSA6IHRleHROb2RlQWZ0ZXIpKGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gbmV3IERPTVBvcyh0ZXh0Lm5vZGUsIHRleHQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByYXdTZWwuY29sbGFwc2UoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFpbi5iaWRpTGV2ZWwgIT0gbnVsbCAmJiByYXdTZWwuY2FyZXRCaWRpTGV2ZWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1NlbC5jYXJldEJpZGlMZXZlbCA9IG1haW4uYmlkaUxldmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyYXdTZWwuZXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbGVjdGlvbi5leHRlbmQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuICdpbnZlcnRlZCcgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIChvbmUgd2hlcmUgdGhlIGZvY3VzIGlzIGJlZm9yZSB0aGUgYW5jaG9yKSwgYnV0IG5vdCBhbGxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJvd3NlcnMgc3VwcG9ydCBpdCB5ZXQuXG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5jb2xsYXBzZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSB3aWxsIGlnbm9yZSB0aGUgY2FsbCBhYm92ZSB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlkZGVuLCBhbmQgdGhlbiByYWlzZSBhbiBlcnJvciBvbiB0aGUgY2FsbCB0byBleHRlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gKCM5NDApLlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmV4dGVuZChoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmltaXRpdmUgKElFKSB3YXlcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1haW4uYW5jaG9yID4gbWFpbi5oZWFkKVxuICAgICAgICAgICAgICAgICAgICAgICAgW2FuY2hvciwgaGVhZF0gPSBbaGVhZCwgYW5jaG9yXTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbk5vdEZvY3VzICYmIHRoaXMudmlldy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWx0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuc2V0U2VsZWN0aW9uUmFuZ2UoYW5jaG9yLCBoZWFkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltcHJlY2lzZUFuY2hvciA9IGFuY2hvci5wcmVjaXNlID8gbnVsbCA6IG5ldyBET01Qb3MoZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICB0aGlzLmltcHJlY2lzZUhlYWQgPSBoZWFkLnByZWNpc2UgPyBudWxsIDogbmV3IERPTVBvcyhkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpO1xuICAgIH1cbiAgICAvLyBJZiBhIHplcm8tbGVuZ3RoIHdpZGdldCBpcyBpbnNlcnRlZCBuZXh0IHRvIHRoZSBjdXJzb3IgZHVyaW5nXG4gICAgLy8gY29tcG9zaXRpb24sIGF2b2lkIG1vdmluZyBpdCBhY3Jvc3MgaXQgYW5kIGRpc3J1cHRpbmcgdGhlXG4gICAgLy8gY29tcG9zaXRpb24uXG4gICAgc3VwcHJlc3NXaWRnZXRDdXJzb3JDaGFuZ2Uoc2VsLCBjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQ29tcG9zaXRpb24gJiYgY3Vyc29yLmVtcHR5ICYmXG4gICAgICAgICAgICBpc0VxdWl2YWxlbnRQb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQsIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KSAmJlxuICAgICAgICAgICAgdGhpcy5wb3NGcm9tRE9NKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCkgPT0gY3Vyc29yLmhlYWQ7XG4gICAgfVxuICAgIGVuZm9yY2VDdXJzb3JBc3NvYygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIGN1cnNvciA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICAgICAgbGV0IHsgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0IH0gPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICBpZiAoIXNlbCB8fCAhY3Vyc29yLmVtcHR5IHx8ICFjdXJzb3IuYXNzb2MgfHwgIXNlbC5tb2RpZnkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh0aGlzLCBjdXJzb3IuaGVhZCk7XG4gICAgICAgIGlmICghbGluZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGxpbmVTdGFydCA9IGxpbmUucG9zQXRTdGFydDtcbiAgICAgICAgaWYgKGN1cnNvci5oZWFkID09IGxpbmVTdGFydCB8fCBjdXJzb3IuaGVhZCA9PSBsaW5lU3RhcnQgKyBsaW5lLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGJlZm9yZSA9IHRoaXMuY29vcmRzQXQoY3Vyc29yLmhlYWQsIC0xKSwgYWZ0ZXIgPSB0aGlzLmNvb3Jkc0F0KGN1cnNvci5oZWFkLCAxKTtcbiAgICAgICAgaWYgKCFiZWZvcmUgfHwgIWFmdGVyIHx8IGJlZm9yZS5ib3R0b20gPiBhZnRlci50b3ApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBkb20gPSB0aGlzLmRvbUF0UG9zKGN1cnNvci5oZWFkICsgY3Vyc29yLmFzc29jKTtcbiAgICAgICAgc2VsLmNvbGxhcHNlKGRvbS5ub2RlLCBkb20ub2Zmc2V0KTtcbiAgICAgICAgc2VsLm1vZGlmeShcIm1vdmVcIiwgY3Vyc29yLmFzc29jIDwgMCA/IFwiZm9yd2FyZFwiIDogXCJiYWNrd2FyZFwiLCBcImxpbmVib3VuZGFyeVwiKTtcbiAgICAgICAgLy8gVGhpcyBjYW4gZ28gd3JvbmcgaW4gY29ybmVyIGNhc2VzIGxpa2Ugc2luZ2xlLWNoYXJhY3RlciBsaW5lcyxcbiAgICAgICAgLy8gc28gY2hlY2sgYW5kIHJlc2V0IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgdmlldy5vYnNlcnZlci5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgbGV0IG5ld1JhbmdlID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgaWYgKHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKG5ld1JhbmdlLmFuY2hvck5vZGUsIG5ld1JhbmdlLmFuY2hvck9mZnNldCkgIT0gY3Vyc29yLmZyb20pXG4gICAgICAgICAgICBzZWwuY29sbGFwc2UoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0KTtcbiAgICB9XG4gICAgLy8gSWYgYSBwb3NpdGlvbiBpcyBpbi9uZWFyIGEgYmxvY2sgd2lkZ2V0LCBtb3ZlIGl0IHRvIGEgbmVhcmJ5IHRleHRcbiAgICAvLyBsaW5lLCBzaW5jZSB3ZSBkb24ndCB3YW50IHRoZSBjdXJzb3IgaW5zaWRlIGEgYmxvY2sgd2lkZ2V0LlxuICAgIG1vdmVUb0xpbmUocG9zKSB7XG4gICAgICAgIC8vIEJsb2NrIHdpZGdldHMgd2lsbCByZXR1cm4gcG9zaXRpb25zIGJlZm9yZS9hZnRlciB0aGVtLCB3aGljaFxuICAgICAgICAvLyBhcmUgdGh1cyBkaXJlY3RseSBpbiB0aGUgZG9jdW1lbnQgRE9NIGVsZW1lbnQuXG4gICAgICAgIGxldCBkb20gPSB0aGlzLmRvbSwgbmV3UG9zO1xuICAgICAgICBpZiAocG9zLm5vZGUgIT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgZm9yIChsZXQgaSA9IHBvcy5vZmZzZXQ7ICFuZXdQb3MgJiYgaSA8IGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmlldyA9IENvbnRlbnRWaWV3LmdldChkb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAodmlldyBpbnN0YW5jZW9mIExpbmVWaWV3KVxuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHZpZXcuZG9tQXRQb3MoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IHBvcy5vZmZzZXQgLSAxOyAhbmV3UG9zICYmIGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgdmlldyA9IENvbnRlbnRWaWV3LmdldChkb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAodmlldyBpbnN0YW5jZW9mIExpbmVWaWV3KVxuICAgICAgICAgICAgICAgIG5ld1BvcyA9IHZpZXcuZG9tQXRQb3Modmlldy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdQb3MgPyBuZXcgRE9NUG9zKG5ld1Bvcy5ub2RlLCBuZXdQb3Mub2Zmc2V0LCB0cnVlKSA6IHBvcztcbiAgICB9XG4gICAgbmVhcmVzdChkb20pIHtcbiAgICAgICAgZm9yIChsZXQgY3VyID0gZG9tOyBjdXI7KSB7XG4gICAgICAgICAgICBsZXQgZG9tVmlldyA9IENvbnRlbnRWaWV3LmdldChjdXIpO1xuICAgICAgICAgICAgaWYgKGRvbVZpZXcgJiYgZG9tVmlldy5yb290VmlldyA9PSB0aGlzKVxuICAgICAgICAgICAgICAgIHJldHVybiBkb21WaWV3O1xuICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5uZWFyZXN0KG5vZGUpO1xuICAgICAgICBpZiAoIXZpZXcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBmaW5kIHBvc2l0aW9uIGZvciBhIERPTSBwb3NpdGlvbiBvdXRzaWRlIG9mIHRoZSBkb2N1bWVudFwiKTtcbiAgICAgICAgcmV0dXJuIHZpZXcubG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkgKyB2aWV3LnBvc0F0U3RhcnQ7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICBsZXQgeyBpLCBvZmYgfSA9IHRoaXMuY2hpbGRDdXJzb3IoKS5maW5kUG9zKHBvcywgLTEpO1xuICAgICAgICBmb3IgKDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAob2ZmIDwgY2hpbGQubGVuZ3RoIHx8IGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBvZmYgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldLmRvbUF0UG9zKG9mZik7XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgYmVzdCA9IG51bGwsIGJlc3RQb3MgPSAwO1xuICAgICAgICBmb3IgKGxldCBvZmYgPSB0aGlzLmxlbmd0aCwgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZiAtIGNoaWxkLmJyZWFrQWZ0ZXIsIHN0YXJ0ID0gZW5kIC0gY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA8IHBvcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChzdGFydCA8PSBwb3MgJiYgKHN0YXJ0IDwgcG9zIHx8IGNoaWxkLmNvdmVycygtMSkpICYmIChlbmQgPiBwb3MgfHwgY2hpbGQuY292ZXJzKDEpKSAmJlxuICAgICAgICAgICAgICAgICghYmVzdCB8fCBjaGlsZCBpbnN0YW5jZW9mIExpbmVWaWV3ICYmICEoYmVzdCBpbnN0YW5jZW9mIExpbmVWaWV3ICYmIHNpZGUgPj0gMCkpKSB7XG4gICAgICAgICAgICAgICAgYmVzdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIGJlc3RQb3MgPSBzdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlc3QgJiYgc3RhcnQgPT0gcG9zICYmIGVuZCA9PSBwb3MgJiYgY2hpbGQgaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcgJiYgTWF0aC5hYnMoc2lkZSkgPCAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmRlY28uc3RhcnRTaWRlIDwgMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSlcbiAgICAgICAgICAgICAgICAgICAgYmVzdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmVzdCA/IGJlc3QuY29vcmRzQXQocG9zIC0gYmVzdFBvcywgc2lkZSkgOiBudWxsO1xuICAgIH1cbiAgICBjb29yZHNGb3JDaGFyKHBvcykge1xuICAgICAgICBsZXQgeyBpLCBvZmYgfSA9IHRoaXMuY2hpbGRQb3MocG9zLCAxKSwgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIExpbmVWaWV3KSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB3aGlsZSAoY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyBpLCBvZmY6IGNoaWxkT2ZmIH0gPSBjaGlsZC5jaGlsZFBvcyhvZmYsIDEpO1xuICAgICAgICAgICAgZm9yICg7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBjaGlsZC5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICgoY2hpbGQgPSBjaGlsZC5jaGlsZHJlbltpXSkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZiA9IGNoaWxkT2ZmO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNoaWxkIGluc3RhbmNlb2YgVGV4dFZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBlbmQgPSBmaW5kQ2x1c3RlckJyZWFrKGNoaWxkLnRleHQsIG9mZik7XG4gICAgICAgIGlmIChlbmQgPT0gb2ZmKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCByZWN0cyA9IHRleHRSYW5nZShjaGlsZC5kb20sIG9mZiwgZW5kKS5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKGkgPT0gcmVjdHMubGVuZ3RoIC0gMSB8fCByZWN0LnRvcCA8IHJlY3QuYm90dG9tICYmIHJlY3QubGVmdCA8IHJlY3QucmlnaHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHModmlld3BvcnQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCB7IGZyb20sIHRvIH0gPSB2aWV3cG9ydDtcbiAgICAgICAgbGV0IGNvbnRlbnRXaWR0aCA9IHRoaXMudmlldy5jb250ZW50RE9NLmNsaWVudFdpZHRoO1xuICAgICAgICBsZXQgaXNXaWRlciA9IGNvbnRlbnRXaWR0aCA+IE1hdGgubWF4KHRoaXMudmlldy5zY3JvbGxET00uY2xpZW50V2lkdGgsIHRoaXMubWluV2lkdGgpICsgMTtcbiAgICAgICAgbGV0IHdpZGVzdCA9IC0xLCBsdHIgPSB0aGlzLnZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSAwLCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IHBvcyArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPiB0bylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChwb3MgPj0gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZFJlY3QgPSBjaGlsZC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGRSZWN0LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzV2lkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBjaGlsZC5kb20ubGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdHMgPSBsYXN0ID8gY2xpZW50UmVjdHNGb3IobGFzdCkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tyZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IGx0ciA/IHJlY3QucmlnaHQgLSBjaGlsZFJlY3QubGVmdCA6IGNoaWxkUmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IHdpZGVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVzdCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGggPSBjb250ZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSBwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aFRvID0gZW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gZW5kICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0ZXh0RGlyZWN0aW9uQXQocG9zKSB7XG4gICAgICAgIGxldCB7IGkgfSA9IHRoaXMuY2hpbGRQb3MocG9zLCAxKTtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUodGhpcy5jaGlsZHJlbltpXS5kb20pLmRpcmVjdGlvbiA9PSBcInJ0bFwiID8gRGlyZWN0aW9uLlJUTCA6IERpcmVjdGlvbi5MVFI7XG4gICAgfVxuICAgIG1lYXN1cmVUZXh0U2l6ZSgpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyZSA9IGNoaWxkLm1lYXN1cmVUZXh0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChtZWFzdXJlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVhc3VyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyB3b3JrYWJsZSBsaW5lIGV4aXN0cywgZm9yY2UgYSBsYXlvdXQgb2YgYSBtZWFzdXJhYmxlIGVsZW1lbnRcbiAgICAgICAgbGV0IGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0O1xuICAgICAgICBkdW1teS5jbGFzc05hbWUgPSBcImNtLWxpbmVcIjtcbiAgICAgICAgZHVtbXkuc3R5bGUud2lkdGggPSBcIjk5OTk5cHhcIjtcbiAgICAgICAgZHVtbXkuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGR1bW15LnRleHRDb250ZW50ID0gXCJhYmMgZGVmIGdoaSBqa2wgbW5vIHBxciBzdHVcIjtcbiAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChkdW1teSk7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IGNsaWVudFJlY3RzRm9yKGR1bW15LmZpcnN0Q2hpbGQpWzBdO1xuICAgICAgICAgICAgbGluZUhlaWdodCA9IGR1bW15LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICAgIGNoYXJXaWR0aCA9IHJlY3QgPyByZWN0LndpZHRoIC8gMjcgOiA3O1xuICAgICAgICAgICAgdGV4dEhlaWdodCA9IHJlY3QgPyByZWN0LmhlaWdodCA6IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBkdW1teS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodCB9O1xuICAgIH1cbiAgICBjaGlsZEN1cnNvcihwb3MgPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAvLyBNb3ZlIGJhY2sgdG8gc3RhcnQgb2YgbGFzdCBlbGVtZW50IHdoZW4gcG9zc2libGUsIHNvIHRoYXRcbiAgICAgICAgLy8gYENoaWxkQ3Vyc29yLmZpbmRQb3NgIGRvZXNuJ3QgaGF2ZSB0byBkZWFsIHdpdGggdGhlIGVkZ2UgY2FzZVxuICAgICAgICAvLyBvZiBiZWluZyBhZnRlciB0aGUgbGFzdCBlbGVtZW50LlxuICAgICAgICBsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgIHBvcyAtPSB0aGlzLmNoaWxkcmVuWy0taV0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbmV3IENoaWxkQ3Vyc29yKHRoaXMuY2hpbGRyZW4sIHBvcywgaSk7XG4gICAgfVxuICAgIGNvbXB1dGVCbG9ja0dhcERlY28oKSB7XG4gICAgICAgIGxldCBkZWNvID0gW10sIHZzID0gdGhpcy52aWV3LnZpZXdTdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaSA9PSB2cy52aWV3cG9ydHMubGVuZ3RoID8gbnVsbCA6IHZzLnZpZXdwb3J0c1tpXTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBuZXh0ID8gbmV4dC5mcm9tIC0gMSA6IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSAodnMubGluZUJsb2NrQXQoZW5kKS5ib3R0b20gLSB2cy5saW5lQmxvY2tBdChwb3MpLnRvcCkgLyB0aGlzLnZpZXcuc2NhbGVZO1xuICAgICAgICAgICAgICAgIGRlY28ucHVzaChEZWNvcmF0aW9uLnJlcGxhY2Uoe1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQ6IG5ldyBCbG9ja0dhcFdpZGdldChoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICBibG9jazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc0Jsb2NrR2FwOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pLnJhbmdlKHBvcywgZW5kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwb3MgPSBuZXh0LnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoZGVjbyk7XG4gICAgfVxuICAgIHVwZGF0ZURlY28oKSB7XG4gICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgbGV0IGFsbERlY28gPSB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoZGVjb3JhdGlvbnMpLm1hcChkID0+IHtcbiAgICAgICAgICAgIGxldCBkeW5hbWljID0gdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcFtpKytdID0gdHlwZW9mIGQgPT0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgcmV0dXJuIGR5bmFtaWMgPyBkKHRoaXMudmlldykgOiBkO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGR5bmFtaWNPdXRlciA9IGZhbHNlLCBvdXRlckRlY28gPSB0aGlzLnZpZXcuc3RhdGUuZmFjZXQob3V0ZXJEZWNvcmF0aW9ucykubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZHluYW1pYyA9IHR5cGVvZiBkID09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIGlmIChkeW5hbWljKVxuICAgICAgICAgICAgICAgIGR5bmFtaWNPdXRlciA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZHluYW1pYyA/IGQodGhpcy52aWV3KSA6IGQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3V0ZXJEZWNvLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcFtpKytdID0gZHluYW1pY091dGVyO1xuICAgICAgICAgICAgYWxsRGVjby5wdXNoKFJhbmdlU2V0LmpvaW4ob3V0ZXJEZWNvKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IFtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHRGb3JtYXR0aW5nLFxuICAgICAgICAgICAgLi4uYWxsRGVjbyxcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUJsb2NrR2FwRGVjbygpLFxuICAgICAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5saW5lR2FwRGVjb1xuICAgICAgICBdO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuZGVjb3JhdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcFtpKytdID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29yYXRpb25zO1xuICAgIH1cbiAgICBzY3JvbGxJbnRvVmlldyh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldC5pc1NuYXBzaG90KSB7XG4gICAgICAgICAgICBsZXQgcmVmID0gdGhpcy52aWV3LnZpZXdTdGF0ZS5saW5lQmxvY2tBdCh0YXJnZXQucmFuZ2UuaGVhZCk7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCA9IHJlZi50b3AgLSB0YXJnZXQueU1hcmdpbjtcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCA9IHRhcmdldC54TWFyZ2luO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGhhbmRsZXIgb2YgdGhpcy52aWV3LnN0YXRlLmZhY2V0KHNjcm9sbEhhbmRsZXIpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKHRoaXMudmlldywgdGFyZ2V0LnJhbmdlLCB0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMudmlldy5zdGF0ZSwgZSwgXCJzY3JvbGwgaGFuZGxlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgeyByYW5nZSB9ID0gdGFyZ2V0O1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY29vcmRzQXQocmFuZ2UuaGVhZCwgcmFuZ2UuZW1wdHkgPyByYW5nZS5hc3NvYyA6IHJhbmdlLmhlYWQgPiByYW5nZS5hbmNob3IgPyAtMSA6IDEpLCBvdGhlcjtcbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5ICYmIChvdGhlciA9IHRoaXMuY29vcmRzQXQocmFuZ2UuYW5jaG9yLCByYW5nZS5hbmNob3IgPiByYW5nZS5oZWFkID8gLTEgOiAxKSkpXG4gICAgICAgICAgICByZWN0ID0geyBsZWZ0OiBNYXRoLm1pbihyZWN0LmxlZnQsIG90aGVyLmxlZnQpLCB0b3A6IE1hdGgubWluKHJlY3QudG9wLCBvdGhlci50b3ApLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBNYXRoLm1heChyZWN0LnJpZ2h0LCBvdGhlci5yaWdodCksIGJvdHRvbTogTWF0aC5tYXgocmVjdC5ib3R0b20sIG90aGVyLmJvdHRvbSkgfTtcbiAgICAgICAgbGV0IG1hcmdpbnMgPSBnZXRTY3JvbGxNYXJnaW5zKHRoaXMudmlldyk7XG4gICAgICAgIGxldCB0YXJnZXRSZWN0ID0ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gbWFyZ2lucy5sZWZ0LCB0b3A6IHJlY3QudG9wIC0gbWFyZ2lucy50b3AsXG4gICAgICAgICAgICByaWdodDogcmVjdC5yaWdodCArIG1hcmdpbnMucmlnaHQsIGJvdHRvbTogcmVjdC5ib3R0b20gKyBtYXJnaW5zLmJvdHRvbVxuICAgICAgICB9O1xuICAgICAgICBsZXQgeyBvZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0IH0gPSB0aGlzLnZpZXcuc2Nyb2xsRE9NO1xuICAgICAgICBzY3JvbGxSZWN0SW50b1ZpZXcodGhpcy52aWV3LnNjcm9sbERPTSwgdGFyZ2V0UmVjdCwgcmFuZ2UuaGVhZCA8IHJhbmdlLmFuY2hvciA/IC0xIDogMSwgdGFyZ2V0LngsIHRhcmdldC55LCBNYXRoLm1heChNYXRoLm1pbih0YXJnZXQueE1hcmdpbiwgb2Zmc2V0V2lkdGgpLCAtb2Zmc2V0V2lkdGgpLCBNYXRoLm1heChNYXRoLm1pbih0YXJnZXQueU1hcmdpbiwgb2Zmc2V0SGVpZ2h0KSwgLW9mZnNldEhlaWdodCksIHRoaXMudmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJldHdlZW5VbmVkaXRhYmxlKHBvcykge1xuICAgIHJldHVybiBwb3Mubm9kZS5ub2RlVHlwZSA9PSAxICYmIHBvcy5ub2RlLmZpcnN0Q2hpbGQgJiZcbiAgICAgICAgKHBvcy5vZmZzZXQgPT0gMCB8fCBwb3Mubm9kZS5jaGlsZE5vZGVzW3Bvcy5vZmZzZXQgLSAxXS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSAmJlxuICAgICAgICAocG9zLm9mZnNldCA9PSBwb3Mubm9kZS5jaGlsZE5vZGVzLmxlbmd0aCB8fCBwb3Mubm9kZS5jaGlsZE5vZGVzW3Bvcy5vZmZzZXRdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpO1xufVxuZnVuY3Rpb24gZmluZENvbXBvc2l0aW9uTm9kZSh2aWV3LCBoZWFkUG9zKSB7XG4gICAgbGV0IHNlbCA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKCFzZWwuZm9jdXNOb2RlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgdGV4dEJlZm9yZSA9IHRleHROb2RlQmVmb3JlKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCk7XG4gICAgbGV0IHRleHRBZnRlciA9IHRleHROb2RlQWZ0ZXIoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICBsZXQgdGV4dE5vZGUgPSB0ZXh0QmVmb3JlIHx8IHRleHRBZnRlcjtcbiAgICBpZiAodGV4dEFmdGVyICYmIHRleHRCZWZvcmUgJiYgdGV4dEFmdGVyLm5vZGUgIT0gdGV4dEJlZm9yZS5ub2RlKSB7XG4gICAgICAgIGxldCBkZXNjQWZ0ZXIgPSBDb250ZW50Vmlldy5nZXQodGV4dEFmdGVyLm5vZGUpO1xuICAgICAgICBpZiAoIWRlc2NBZnRlciB8fCBkZXNjQWZ0ZXIgaW5zdGFuY2VvZiBUZXh0VmlldyAmJiBkZXNjQWZ0ZXIudGV4dCAhPSB0ZXh0QWZ0ZXIubm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgIHRleHROb2RlID0gdGV4dEFmdGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZpZXcuZG9jVmlldy5sYXN0Q29tcG9zaXRpb25BZnRlckN1cnNvcikge1xuICAgICAgICAgICAgbGV0IGRlc2NCZWZvcmUgPSBDb250ZW50Vmlldy5nZXQodGV4dEJlZm9yZS5ub2RlKTtcbiAgICAgICAgICAgIGlmICghKCFkZXNjQmVmb3JlIHx8IGRlc2NCZWZvcmUgaW5zdGFuY2VvZiBUZXh0VmlldyAmJiBkZXNjQmVmb3JlLnRleHQgIT0gdGV4dEJlZm9yZS5ub2RlLm5vZGVWYWx1ZSkpXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUgPSB0ZXh0QWZ0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlldy5kb2NWaWV3Lmxhc3RDb21wb3NpdGlvbkFmdGVyQ3Vyc29yID0gdGV4dE5vZGUgIT0gdGV4dEJlZm9yZTtcbiAgICBpZiAoIXRleHROb2RlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZnJvbSA9IGhlYWRQb3MgLSB0ZXh0Tm9kZS5vZmZzZXQ7XG4gICAgcmV0dXJuIHsgZnJvbSwgdG86IGZyb20gKyB0ZXh0Tm9kZS5ub2RlLm5vZGVWYWx1ZS5sZW5ndGgsIG5vZGU6IHRleHROb2RlLm5vZGUgfTtcbn1cbmZ1bmN0aW9uIGZpbmRDb21wb3NpdGlvblJhbmdlKHZpZXcsIGNoYW5nZXMsIGhlYWRQb3MpIHtcbiAgICBsZXQgZm91bmQgPSBmaW5kQ29tcG9zaXRpb25Ob2RlKHZpZXcsIGhlYWRQb3MpO1xuICAgIGlmICghZm91bmQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB7IG5vZGU6IHRleHROb2RlLCBmcm9tLCB0byB9ID0gZm91bmQsIHRleHQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWU7XG4gICAgLy8gRG9uJ3QgdHJ5IHRvIHByZXNlcnZlIG11bHRpLWxpbmUgY29tcG9zaXRpb25zXG4gICAgaWYgKC9bXFxuXFxyXS8udGVzdCh0ZXh0KSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGZvdW5kLmZyb20sIGZvdW5kLnRvKSAhPSB0ZXh0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgaW52ID0gY2hhbmdlcy5pbnZlcnRlZERlc2M7XG4gICAgbGV0IHJhbmdlID0gbmV3IENoYW5nZWRSYW5nZShpbnYubWFwUG9zKGZyb20pLCBpbnYubWFwUG9zKHRvKSwgZnJvbSwgdG8pO1xuICAgIGxldCBtYXJrcyA9IFtdO1xuICAgIGZvciAobGV0IHBhcmVudCA9IHRleHROb2RlLnBhcmVudE5vZGU7OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICBsZXQgcGFyZW50VmlldyA9IENvbnRlbnRWaWV3LmdldChwYXJlbnQpO1xuICAgICAgICBpZiAocGFyZW50VmlldyBpbnN0YW5jZW9mIE1hcmtWaWV3KVxuICAgICAgICAgICAgbWFya3MucHVzaCh7IG5vZGU6IHBhcmVudCwgZGVjbzogcGFyZW50Vmlldy5tYXJrIH0pO1xuICAgICAgICBlbHNlIGlmIChwYXJlbnRWaWV3IGluc3RhbmNlb2YgTGluZVZpZXcgfHwgcGFyZW50Lm5vZGVOYW1lID09IFwiRElWXCIgJiYgcGFyZW50LnBhcmVudE5vZGUgPT0gdmlldy5jb250ZW50RE9NKVxuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UsIHRleHQ6IHRleHROb2RlLCBtYXJrcywgbGluZTogcGFyZW50IH07XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCAhPSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgICAgICBtYXJrcy5wdXNoKHsgbm9kZTogcGFyZW50LCBkZWNvOiBuZXcgTWFya0RlY29yYXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGdldEF0dHJzKHBhcmVudCksXG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6IHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICB9KSB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gbmV4dFRvVW5lZGl0YWJsZShub2RlLCBvZmZzZXQpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKVxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gKG9mZnNldCAmJiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIiA/IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA6IDApIHxcbiAgICAgICAgKG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggJiYgbm9kZS5jaGlsZE5vZGVzW29mZnNldF0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIiA/IDIgLyogTmV4dFRvLkFmdGVyICovIDogMCk7XG59XG5sZXQgRGVjb3JhdGlvbkNvbXBhcmF0b3IkMSA9IGNsYXNzIERlY29yYXRpb25Db21wYXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gW107XG4gICAgfVxuICAgIGNvbXBhcmVSYW5nZShmcm9tLCB0bykgeyBhZGRSYW5nZShmcm9tLCB0bywgdGhpcy5jaGFuZ2VzKTsgfVxuICAgIGNvbXBhcmVQb2ludChmcm9tLCB0bykgeyBhZGRSYW5nZShmcm9tLCB0bywgdGhpcy5jaGFuZ2VzKTsgfVxuICAgIGJvdW5kQ2hhbmdlKHBvcykgeyBhZGRSYW5nZShwb3MsIHBvcywgdGhpcy5jaGFuZ2VzKTsgfVxufTtcbmZ1bmN0aW9uIGZpbmRDaGFuZ2VkRGVjbyhhLCBiLCBkaWZmKSB7XG4gICAgbGV0IGNvbXAgPSBuZXcgRGVjb3JhdGlvbkNvbXBhcmF0b3IkMTtcbiAgICBSYW5nZVNldC5jb21wYXJlKGEsIGIsIGRpZmYsIGNvbXApO1xuICAgIHJldHVybiBjb21wLmNoYW5nZXM7XG59XG5mdW5jdGlvbiBpblVuZWRpdGFibGUobm9kZSwgaW5zaWRlKSB7XG4gICAgZm9yIChsZXQgY3VyID0gbm9kZTsgY3VyICYmIGN1ciAhPSBpbnNpZGU7IGN1ciA9IGN1ci5hc3NpZ25lZFNsb3QgfHwgY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA9PSAxICYmIGN1ci5jb250ZW50RWRpdGFibGUgPT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG91Y2hlc0NvbXBvc2l0aW9uKGNoYW5nZXMsIGNvbXBvc2l0aW9uKSB7XG4gICAgbGV0IHRvdWNoZWQgPSBmYWxzZTtcbiAgICBpZiAoY29tcG9zaXRpb24pXG4gICAgICAgIGNoYW5nZXMuaXRlckNoYW5nZWRSYW5nZXMoKGZyb20sIHRvKSA9PiB7XG4gICAgICAgICAgICBpZiAoZnJvbSA8IGNvbXBvc2l0aW9uLnRvICYmIHRvID4gY29tcG9zaXRpb24uZnJvbSlcbiAgICAgICAgICAgICAgICB0b3VjaGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoZWQ7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQXQoc3RhdGUsIHBvcywgYmlhcyA9IDEpIHtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBsaW5lUG9zID0gcG9zIC0gbGluZS5mcm9tO1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MpO1xuICAgIGlmIChsaW5lUG9zID09IDApXG4gICAgICAgIGJpYXMgPSAxO1xuICAgIGVsc2UgaWYgKGxpbmVQb3MgPT0gbGluZS5sZW5ndGgpXG4gICAgICAgIGJpYXMgPSAtMTtcbiAgICBsZXQgZnJvbSA9IGxpbmVQb3MsIHRvID0gbGluZVBvcztcbiAgICBpZiAoYmlhcyA8IDApXG4gICAgICAgIGZyb20gPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgbGluZVBvcywgZmFsc2UpO1xuICAgIGVsc2VcbiAgICAgICAgdG8gPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgbGluZVBvcyk7XG4gICAgbGV0IGNhdCA9IGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKGZyb20sIHRvKSk7XG4gICAgd2hpbGUgKGZyb20gPiAwKSB7XG4gICAgICAgIGxldCBwcmV2ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIGZyb20sIGZhbHNlKTtcbiAgICAgICAgaWYgKGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKHByZXYsIGZyb20pKSAhPSBjYXQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZnJvbSA9IHByZXY7XG4gICAgfVxuICAgIHdoaWxlICh0byA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHRvKTtcbiAgICAgICAgaWYgKGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKHRvLCBuZXh0KSkgIT0gY2F0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIHRvID0gbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tICsgbGluZS5mcm9tLCB0byArIGxpbmUuZnJvbSk7XG59XG4vLyBTZWFyY2ggdGhlIERPTSBmb3IgdGhlIHtub2RlLCBvZmZzZXR9IHBvc2l0aW9uIGNsb3Nlc3QgdG8gdGhlIGdpdmVuXG4vLyBjb29yZGluYXRlcy4gVmVyeSBpbmVmZmljaWVudCBhbmQgY3J1ZGUsIGJ1dCBjYW4gdXN1YWxseSBiZSBhdm9pZGVkXG4vLyBieSBjYWxsaW5nIGNhcmV0KFBvc2l0aW9ufFJhbmdlKUZyb21Qb2ludCBpbnN0ZWFkLlxuZnVuY3Rpb24gZ2V0ZHgoeCwgcmVjdCkge1xuICAgIHJldHVybiByZWN0LmxlZnQgPiB4ID8gcmVjdC5sZWZ0IC0geCA6IE1hdGgubWF4KDAsIHggLSByZWN0LnJpZ2h0KTtcbn1cbmZ1bmN0aW9uIGdldGR5KHksIHJlY3QpIHtcbiAgICByZXR1cm4gcmVjdC50b3AgPiB5ID8gcmVjdC50b3AgLSB5IDogTWF0aC5tYXgoMCwgeSAtIHJlY3QuYm90dG9tKTtcbn1cbmZ1bmN0aW9uIHlPdmVybGFwKGEsIGIpIHtcbiAgICByZXR1cm4gYS50b3AgPCBiLmJvdHRvbSAtIDEgJiYgYS5ib3R0b20gPiBiLnRvcCArIDE7XG59XG5mdW5jdGlvbiB1cFRvcChyZWN0LCB0b3ApIHtcbiAgICByZXR1cm4gdG9wIDwgcmVjdC50b3AgPyB7IHRvcCwgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgYm90dG9tOiByZWN0LmJvdHRvbSB9IDogcmVjdDtcbn1cbmZ1bmN0aW9uIHVwQm90KHJlY3QsIGJvdHRvbSkge1xuICAgIHJldHVybiBib3R0b20gPiByZWN0LmJvdHRvbSA/IHsgdG9wOiByZWN0LnRvcCwgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgYm90dG9tIH0gOiByZWN0O1xufVxuZnVuY3Rpb24gZG9tUG9zQXRDb29yZHMocGFyZW50LCB4LCB5KSB7XG4gICAgbGV0IGNsb3Nlc3QsIGNsb3Nlc3RSZWN0LCBjbG9zZXN0WCwgY2xvc2VzdFksIGNsb3Nlc3RPdmVybGFwID0gZmFsc2U7XG4gICAgbGV0IGFib3ZlLCBiZWxvdywgYWJvdmVSZWN0LCBiZWxvd1JlY3Q7XG4gICAgZm9yIChsZXQgY2hpbGQgPSBwYXJlbnQuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IoY2hpbGQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKGNsb3Nlc3RSZWN0ICYmIHlPdmVybGFwKGNsb3Nlc3RSZWN0LCByZWN0KSlcbiAgICAgICAgICAgICAgICByZWN0ID0gdXBUb3AodXBCb3QocmVjdCwgY2xvc2VzdFJlY3QuYm90dG9tKSwgY2xvc2VzdFJlY3QudG9wKTtcbiAgICAgICAgICAgIGxldCBkeCA9IGdldGR4KHgsIHJlY3QpLCBkeSA9IGdldGR5KHksIHJlY3QpO1xuICAgICAgICAgICAgaWYgKGR4ID09IDAgJiYgZHkgPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQubm9kZVR5cGUgPT0gMyA/IGRvbVBvc0luVGV4dChjaGlsZCwgeCwgeSkgOiBkb21Qb3NBdENvb3JkcyhjaGlsZCwgeCwgeSk7XG4gICAgICAgICAgICBpZiAoIWNsb3Nlc3QgfHwgY2xvc2VzdFkgPiBkeSB8fCBjbG9zZXN0WSA9PSBkeSAmJiBjbG9zZXN0WCA+IGR4KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0WCA9IGR4O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RZID0gZHk7XG4gICAgICAgICAgICAgICAgY2xvc2VzdE92ZXJsYXAgPSAhZHggPyB0cnVlIDogeCA8IHJlY3QubGVmdCA/IGkgPiAwIDogaSA8IHJlY3RzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHggPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh5ID4gcmVjdC5ib3R0b20gJiYgKCFhYm92ZVJlY3QgfHwgYWJvdmVSZWN0LmJvdHRvbSA8IHJlY3QuYm90dG9tKSkge1xuICAgICAgICAgICAgICAgICAgICBhYm92ZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBhYm92ZVJlY3QgPSByZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh5IDwgcmVjdC50b3AgJiYgKCFiZWxvd1JlY3QgfHwgYmVsb3dSZWN0LnRvcCA+IHJlY3QudG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBiZWxvdyA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBiZWxvd1JlY3QgPSByZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFib3ZlUmVjdCAmJiB5T3ZlcmxhcChhYm92ZVJlY3QsIHJlY3QpKSB7XG4gICAgICAgICAgICAgICAgYWJvdmVSZWN0ID0gdXBCb3QoYWJvdmVSZWN0LCByZWN0LmJvdHRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiZWxvd1JlY3QgJiYgeU92ZXJsYXAoYmVsb3dSZWN0LCByZWN0KSkge1xuICAgICAgICAgICAgICAgIGJlbG93UmVjdCA9IHVwVG9wKGJlbG93UmVjdCwgcmVjdC50b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhYm92ZVJlY3QgJiYgYWJvdmVSZWN0LmJvdHRvbSA+PSB5KSB7XG4gICAgICAgIGNsb3Nlc3QgPSBhYm92ZTtcbiAgICAgICAgY2xvc2VzdFJlY3QgPSBhYm92ZVJlY3Q7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJlbG93UmVjdCAmJiBiZWxvd1JlY3QudG9wIDw9IHkpIHtcbiAgICAgICAgY2xvc2VzdCA9IGJlbG93O1xuICAgICAgICBjbG9zZXN0UmVjdCA9IGJlbG93UmVjdDtcbiAgICB9XG4gICAgaWYgKCFjbG9zZXN0KVxuICAgICAgICByZXR1cm4geyBub2RlOiBwYXJlbnQsIG9mZnNldDogMCB9O1xuICAgIGxldCBjbGlwWCA9IE1hdGgubWF4KGNsb3Nlc3RSZWN0LmxlZnQsIE1hdGgubWluKGNsb3Nlc3RSZWN0LnJpZ2h0LCB4KSk7XG4gICAgaWYgKGNsb3Nlc3Qubm9kZVR5cGUgPT0gMylcbiAgICAgICAgcmV0dXJuIGRvbVBvc0luVGV4dChjbG9zZXN0LCBjbGlwWCwgeSk7XG4gICAgaWYgKGNsb3Nlc3RPdmVybGFwICYmIGNsb3Nlc3QuY29udGVudEVkaXRhYmxlICE9IFwiZmFsc2VcIilcbiAgICAgICAgcmV0dXJuIGRvbVBvc0F0Q29vcmRzKGNsb3Nlc3QsIGNsaXBYLCB5KTtcbiAgICBsZXQgb2Zmc2V0ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChwYXJlbnQuY2hpbGROb2RlcywgY2xvc2VzdCkgK1xuICAgICAgICAoeCA+PSAoY2xvc2VzdFJlY3QubGVmdCArIGNsb3Nlc3RSZWN0LnJpZ2h0KSAvIDIgPyAxIDogMCk7XG4gICAgcmV0dXJuIHsgbm9kZTogcGFyZW50LCBvZmZzZXQgfTtcbn1cbmZ1bmN0aW9uIGRvbVBvc0luVGV4dChub2RlLCB4LCB5KSB7XG4gICAgbGV0IGxlbiA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICBsZXQgY2xvc2VzdE9mZnNldCA9IC0xLCBjbG9zZXN0RFkgPSAxZTksIGdlbmVyYWxTaWRlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCByZWN0cyA9IHRleHRSYW5nZShub2RlLCBpLCBpICsgMSkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZWN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tqXTtcbiAgICAgICAgICAgIGlmIChyZWN0LnRvcCA9PSByZWN0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghZ2VuZXJhbFNpZGUpXG4gICAgICAgICAgICAgICAgZ2VuZXJhbFNpZGUgPSB4IC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgbGV0IGR5ID0gKHJlY3QudG9wID4geSA/IHJlY3QudG9wIC0geSA6IHkgLSByZWN0LmJvdHRvbSkgLSAxO1xuICAgICAgICAgICAgaWYgKHJlY3QubGVmdCAtIDEgPD0geCAmJiByZWN0LnJpZ2h0ICsgMSA+PSB4ICYmIGR5IDwgY2xvc2VzdERZKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJpZ2h0ID0geCA+PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyLCBhZnRlciA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmNocm9tZSB8fCBicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBSVEwgb24gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGdldHRpbmcgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3RzIGZvciBlbXB0eSByYW5nZXMuXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0QmVmb3JlID0gdGV4dFJhbmdlKG5vZGUsIGkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdEJlZm9yZS5sZWZ0ID09IHJlY3QucmlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlciA9ICFyaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGR5IDw9IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG5vZGUsIG9mZnNldDogaSArIChhZnRlciA/IDEgOiAwKSB9O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RPZmZzZXQgPSBpICsgKGFmdGVyID8gMSA6IDApO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3REWSA9IGR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IG5vZGUsIG9mZnNldDogY2xvc2VzdE9mZnNldCA+IC0xID8gY2xvc2VzdE9mZnNldCA6IGdlbmVyYWxTaWRlID4gMCA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IDAgfTtcbn1cbmZ1bmN0aW9uIHBvc0F0Q29vcmRzKHZpZXcsIGNvb3JkcywgcHJlY2lzZSwgYmlhcyA9IC0xKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBsZXQgY29udGVudCA9IHZpZXcuY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgZG9jVG9wID0gY29udGVudC50b3AgKyB2aWV3LnZpZXdTdGF0ZS5wYWRkaW5nVG9wO1xuICAgIGxldCBibG9jaywgeyBkb2NIZWlnaHQgfSA9IHZpZXcudmlld1N0YXRlO1xuICAgIGxldCB7IHgsIHkgfSA9IGNvb3JkcywgeU9mZnNldCA9IHkgLSBkb2NUb3A7XG4gICAgaWYgKHlPZmZzZXQgPCAwKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBpZiAoeU9mZnNldCA+IGRvY0hlaWdodClcbiAgICAgICAgcmV0dXJuIHZpZXcuc3RhdGUuZG9jLmxlbmd0aDtcbiAgICAvLyBTY2FuIGZvciBhIHRleHQgYmxvY2sgbmVhciB0aGUgcXVlcmllZCB5IHBvc2l0aW9uXG4gICAgZm9yIChsZXQgaGFsZkxpbmUgPSB2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUudGV4dEhlaWdodCAvIDIsIGJvdW5jZWQgPSBmYWxzZTs7KSB7XG4gICAgICAgIGJsb2NrID0gdmlldy5lbGVtZW50QXRIZWlnaHQoeU9mZnNldCk7XG4gICAgICAgIGlmIChibG9jay50eXBlID09IEJsb2NrVHlwZS5UZXh0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIHkgcG9zaXRpb24gb3V0IG9mIHRoaXMgYmxvY2tcbiAgICAgICAgICAgIHlPZmZzZXQgPSBiaWFzID4gMCA/IGJsb2NrLmJvdHRvbSArIGhhbGZMaW5lIDogYmxvY2sudG9wIC0gaGFsZkxpbmU7XG4gICAgICAgICAgICBpZiAoeU9mZnNldCA+PSAwICYmIHlPZmZzZXQgPD0gZG9jSGVpZ2h0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGNvbnNpc3RzIGVudGlyZWx5IG9mIHJlcGxhY2VkIHdpZGdldHMsIHdlXG4gICAgICAgICAgICAvLyB3b24ndCBmaW5kIGEgdGV4dCBibG9jaywgc28gcmV0dXJuIDBcbiAgICAgICAgICAgIGlmIChib3VuY2VkKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmVjaXNlID8gbnVsbCA6IDA7XG4gICAgICAgICAgICBib3VuY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJpYXMgPSAtYmlhcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB5ID0gZG9jVG9wICsgeU9mZnNldDtcbiAgICBsZXQgbGluZVN0YXJ0ID0gYmxvY2suZnJvbTtcbiAgICAvLyBJZiB0aGlzIGlzIG91dHNpZGUgb2YgdGhlIHJlbmRlcmVkIHZpZXdwb3J0LCB3ZSBjYW4ndCBkZXRlcm1pbmUgYSBwb3NpdGlvblxuICAgIGlmIChsaW5lU3RhcnQgPCB2aWV3LnZpZXdwb3J0LmZyb20pXG4gICAgICAgIHJldHVybiB2aWV3LnZpZXdwb3J0LmZyb20gPT0gMCA/IDAgOiBwcmVjaXNlID8gbnVsbCA6IHBvc0F0Q29vcmRzSW1wcmVjaXNlKHZpZXcsIGNvbnRlbnQsIGJsb2NrLCB4LCB5KTtcbiAgICBpZiAobGluZVN0YXJ0ID4gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIHZpZXcudmlld3BvcnQudG8gPT0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoID8gdmlldy5zdGF0ZS5kb2MubGVuZ3RoIDpcbiAgICAgICAgICAgIHByZWNpc2UgPyBudWxsIDogcG9zQXRDb29yZHNJbXByZWNpc2UodmlldywgY29udGVudCwgYmxvY2ssIHgsIHkpO1xuICAgIC8vIFByZWZlciBTaGFkb3dSb290T3JEb2N1bWVudC5lbGVtZW50RnJvbVBvaW50IGlmIHByZXNlbnQsIGZhbGwgYmFjayB0byBkb2N1bWVudCBpZiBub3RcbiAgICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudDtcbiAgICBsZXQgcm9vdCA9IHZpZXcucm9vdC5lbGVtZW50RnJvbVBvaW50ID8gdmlldy5yb290IDogZG9jO1xuICAgIGxldCBlbGVtZW50ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgIGlmIChlbGVtZW50ICYmICF2aWV3LmNvbnRlbnRET00uY29udGFpbnMoZWxlbWVudCkpXG4gICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIHVuZXhwZWN0ZWQsIGNsaXAgeCBhdCB0aGUgc2lkZXMgb2YgdGhlIGNvbnRlbnQgYXJlYSBhbmQgdHJ5IGFnYWluXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHggPSBNYXRoLm1heChjb250ZW50LmxlZnQgKyAxLCBNYXRoLm1pbihjb250ZW50LnJpZ2h0IC0gMSwgeCkpO1xuICAgICAgICBlbGVtZW50ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhdmlldy5jb250ZW50RE9NLmNvbnRhaW5zKGVsZW1lbnQpKVxuICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIC8vIFRoZXJlJ3MgdmlzaWJsZSBlZGl0b3IgY29udGVudCB1bmRlciB0aGUgcG9pbnQsIHNvIHdlIGNhbiB0cnlcbiAgICAvLyB1c2luZyBjYXJldChQb3NpdGlvbnxSYW5nZSlGcm9tUG9pbnQgYXMgYSBzaG9ydGN1dFxuICAgIGxldCBub2RlLCBvZmZzZXQgPSAtMTtcbiAgICBpZiAoZWxlbWVudCAmJiAoKF9hID0gdmlldy5kb2NWaWV3Lm5lYXJlc3QoZWxlbWVudCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0VkaXRhYmxlKSAhPSBmYWxzZSkge1xuICAgICAgICBpZiAoZG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBkb2MuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgICAgIGlmIChwb3MpXG4gICAgICAgICAgICAgICAgKHsgb2Zmc2V0Tm9kZTogbm9kZSwgb2Zmc2V0IH0gPSBwb3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvYy5jYXJldFJhbmdlRnJvbVBvaW50KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBkb2MuY2FyZXRSYW5nZUZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICh7IHN0YXJ0Q29udGFpbmVyOiBub2RlLCBzdGFydE9mZnNldDogb2Zmc2V0IH0gPSByYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3LmNvbnRlbnRET00uY29udGFpbnMobm9kZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5zYWZhcmkgJiYgaXNTdXNwaWNpb3VzU2FmYXJpQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSB8fFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyLmNocm9tZSAmJiBpc1N1c3BpY2lvdXNDaHJvbWVDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpKVxuICAgICAgICAgICAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENocm9tZSB3aWxsIHJldHVybiBvZmZzZXRzIGludG8gPGlucHV0PiBlbGVtZW50cyB3aXRob3V0IGNoaWxkXG4gICAgICAgIC8vIG5vZGVzLCB3aGljaCB3aWxsIGxlYWQgdG8gYSBudWxsIGRlcmVmIGJlbG93LCBzbyBjbGlwIHRoZVxuICAgICAgICAvLyBvZmZzZXQgdG8gdGhlIG5vZGUgc2l6ZS5cbiAgICAgICAgaWYgKG5vZGUpXG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLm1pbihtYXhPZmZzZXQobm9kZSksIG9mZnNldCk7XG4gICAgfVxuICAgIC8vIE5vIGx1Y2ssIGRvIG91ciBvd24gKHBvdGVudGlhbGx5IGV4cGVuc2l2ZSkgc2VhcmNoXG4gICAgaWYgKCFub2RlIHx8ICF2aWV3LmRvY1ZpZXcuZG9tLmNvbnRhaW5zKG5vZGUpKSB7XG4gICAgICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIGxpbmVTdGFydCk7XG4gICAgICAgIGlmICghbGluZSlcbiAgICAgICAgICAgIHJldHVybiB5T2Zmc2V0ID4gYmxvY2sudG9wICsgYmxvY2suaGVpZ2h0IC8gMiA/IGJsb2NrLnRvIDogYmxvY2suZnJvbTtcbiAgICAgICAgKHsgbm9kZSwgb2Zmc2V0IH0gPSBkb21Qb3NBdENvb3JkcyhsaW5lLmRvbSwgeCwgeSkpO1xuICAgIH1cbiAgICBsZXQgbmVhcmVzdCA9IHZpZXcuZG9jVmlldy5uZWFyZXN0KG5vZGUpO1xuICAgIGlmICghbmVhcmVzdClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKG5lYXJlc3QuaXNXaWRnZXQgJiYgKChfYiA9IG5lYXJlc3QuZG9tKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iubm9kZVR5cGUpID09IDEpIHtcbiAgICAgICAgbGV0IHJlY3QgPSBuZWFyZXN0LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIGNvb3Jkcy55IDwgcmVjdC50b3AgfHwgY29vcmRzLnkgPD0gcmVjdC5ib3R0b20gJiYgY29vcmRzLnggPD0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMlxuICAgICAgICAgICAgPyBuZWFyZXN0LnBvc0F0U3RhcnQgOiBuZWFyZXN0LnBvc0F0RW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5lYXJlc3QubG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkgKyBuZWFyZXN0LnBvc0F0U3RhcnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcG9zQXRDb29yZHNJbXByZWNpc2UodmlldywgY29udGVudFJlY3QsIGJsb2NrLCB4LCB5KSB7XG4gICAgbGV0IGludG8gPSBNYXRoLnJvdW5kKCh4IC0gY29udGVudFJlY3QubGVmdCkgKiB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCk7XG4gICAgaWYgKHZpZXcubGluZVdyYXBwaW5nICYmIGJsb2NrLmhlaWdodCA+IHZpZXcuZGVmYXVsdExpbmVIZWlnaHQgKiAxLjUpIHtcbiAgICAgICAgbGV0IHRleHRIZWlnaHQgPSB2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUudGV4dEhlaWdodDtcbiAgICAgICAgbGV0IGxpbmUgPSBNYXRoLmZsb29yKCh5IC0gYmxvY2sudG9wIC0gKHZpZXcuZGVmYXVsdExpbmVIZWlnaHQgLSB0ZXh0SGVpZ2h0KSAqIDAuNSkgLyB0ZXh0SGVpZ2h0KTtcbiAgICAgICAgaW50byArPSBsaW5lICogdmlldy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmxpbmVMZW5ndGg7XG4gICAgfVxuICAgIGxldCBjb250ZW50ID0gdmlldy5zdGF0ZS5zbGljZURvYyhibG9jay5mcm9tLCBibG9jay50byk7XG4gICAgcmV0dXJuIGJsb2NrLmZyb20gKyBmaW5kQ29sdW1uKGNvbnRlbnQsIGludG8sIHZpZXcuc3RhdGUudGFiU2l6ZSk7XG59XG4vLyBJbiBjYXNlIG9mIGEgaGlnaCBsaW5lIGhlaWdodCwgU2FmYXJpJ3MgY2FyZXRSYW5nZUZyb21Qb2ludCB0cmVhdHNcbi8vIHRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzIGFzIGJlbG9uZ2luZyB0byB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlXG4vLyBsaW5lIGJlZm9yZS4gVGhpcyBpcyB1c2VkIHRvIGRldGVjdCBzdWNoIGEgcmVzdWx0IHNvIHRoYXQgaXQgY2FuIGJlXG4vLyBpZ25vcmVkIChpc3N1ZSAjNDAxKS5cbmZ1bmN0aW9uIGlzU3VzcGljaW91c1NhZmFyaUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkge1xuICAgIGxldCBsZW4sIHNjYW4gPSBub2RlO1xuICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDMgfHwgb2Zmc2V0ICE9IChsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yICg7OykgeyAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIGNvbnRlbnQgYWZ0ZXIgdGhpcyBub2RlXG4gICAgICAgIGxldCBuZXh0ID0gc2Nhbi5uZXh0U2libGluZztcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGlmIChuZXh0Lm5vZGVOYW1lID09IFwiQlJcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzY2FuLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZU5hbWUgPT0gXCJESVZcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHNjYW4gPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHRSYW5nZShub2RlLCBsZW4gLSAxLCBsZW4pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ID4geDtcbn1cbi8vIENocm9tZSB3aWxsIG1vdmUgcG9zaXRpb25zIGJldHdlZW4gbGluZXMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGxpbmVcbmZ1bmN0aW9uIGlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkge1xuICAgIGlmIChvZmZzZXQgIT0gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7Oykge1xuICAgICAgICBsZXQgcGFyZW50ID0gY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghcGFyZW50IHx8IHBhcmVudC5ub2RlVHlwZSAhPSAxIHx8IHBhcmVudC5maXJzdENoaWxkICE9IGN1cilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS1saW5lXCIpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGN1ciA9IHBhcmVudDtcbiAgICB9XG4gICAgbGV0IHJlY3QgPSBub2RlLm5vZGVUeXBlID09IDEgPyBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIDogdGV4dFJhbmdlKG5vZGUsIDAsIE1hdGgubWF4KG5vZGUubm9kZVZhbHVlLmxlbmd0aCwgMSkpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB4IC0gcmVjdC5sZWZ0ID4gNTtcbn1cbmZ1bmN0aW9uIGJsb2NrQXQodmlldywgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSkge1xuICAgICAgICBsZXQgYmVzdDtcbiAgICAgICAgZm9yIChsZXQgbCBvZiBsaW5lLnR5cGUpIHtcbiAgICAgICAgICAgIGlmIChsLmZyb20gPiBwb3MpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobC50byA8IHBvcylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChsLmZyb20gPCBwb3MgJiYgbC50byA+IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgICAgIGlmICghYmVzdCB8fCAobC50eXBlID09IEJsb2NrVHlwZS5UZXh0ICYmIChiZXN0LnR5cGUgIT0gbC50eXBlIHx8IChzaWRlIDwgMCA/IGwuZnJvbSA8IHBvcyA6IGwudG8gPiBwb3MpKSkpXG4gICAgICAgICAgICAgICAgYmVzdCA9IGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3QgfHwgbGluZTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmU7XG59XG5mdW5jdGlvbiBtb3ZlVG9MaW5lQm91bmRhcnkodmlldywgc3RhcnQsIGZvcndhcmQsIGluY2x1ZGVXcmFwKSB7XG4gICAgbGV0IGxpbmUgPSBibG9ja0F0KHZpZXcsIHN0YXJ0LmhlYWQsIHN0YXJ0LmFzc29jIHx8IC0xKTtcbiAgICBsZXQgY29vcmRzID0gIWluY2x1ZGVXcmFwIHx8IGxpbmUudHlwZSAhPSBCbG9ja1R5cGUuVGV4dCB8fCAhKHZpZXcubGluZVdyYXBwaW5nIHx8IGxpbmUud2lkZ2V0TGluZUJyZWFrcykgPyBudWxsXG4gICAgICAgIDogdmlldy5jb29yZHNBdFBvcyhzdGFydC5hc3NvYyA8IDAgJiYgc3RhcnQuaGVhZCA+IGxpbmUuZnJvbSA/IHN0YXJ0LmhlYWQgLSAxIDogc3RhcnQuaGVhZCk7XG4gICAgaWYgKGNvb3Jkcykge1xuICAgICAgICBsZXQgZWRpdG9yUmVjdCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gdmlldy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKTtcbiAgICAgICAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBmb3J3YXJkID09IChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUikgPyBlZGl0b3JSZWN0LnJpZ2h0IC0gMSA6IGVkaXRvclJlY3QubGVmdCArIDEsXG4gICAgICAgICAgICB5OiAoY29vcmRzLnRvcCArIGNvb3Jkcy5ib3R0b20pIC8gMiB9KTtcbiAgICAgICAgaWYgKHBvcyAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBmb3J3YXJkID8gLTEgOiAxKTtcbiAgICB9XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20sIGZvcndhcmQgPyAtMSA6IDEpO1xufVxuZnVuY3Rpb24gbW92ZUJ5Q2hhcih2aWV3LCBzdGFydCwgZm9yd2FyZCwgYnkpIHtcbiAgICBsZXQgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChzdGFydC5oZWFkKSwgc3BhbnMgPSB2aWV3LmJpZGlTcGFucyhsaW5lKTtcbiAgICBsZXQgZGlyZWN0aW9uID0gdmlldy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKTtcbiAgICBmb3IgKGxldCBjdXIgPSBzdGFydCwgY2hlY2sgPSBudWxsOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSBtb3ZlVmlzdWFsbHkobGluZSwgc3BhbnMsIGRpcmVjdGlvbiwgY3VyLCBmb3J3YXJkKSwgY2hhciA9IG1vdmVkT3ZlcjtcbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBpZiAobGluZS5udW1iZXIgPT0gKGZvcndhcmQgPyB2aWV3LnN0YXRlLmRvYy5saW5lcyA6IDEpKVxuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICBjaGFyID0gXCJcXG5cIjtcbiAgICAgICAgICAgIGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lKGxpbmUubnVtYmVyICsgKGZvcndhcmQgPyAxIDogLTEpKTtcbiAgICAgICAgICAgIHNwYW5zID0gdmlldy5iaWRpU3BhbnMobGluZSk7XG4gICAgICAgICAgICBuZXh0ID0gdmlldy52aXN1YWxMaW5lU2lkZShsaW5lLCAhZm9yd2FyZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgICAgaWYgKCFieSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIGNoZWNrID0gYnkoY2hhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWNoZWNrKGNoYXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYnlHcm91cCh2aWV3LCBwb3MsIHN0YXJ0KSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSB2aWV3LnN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGxldCBjYXQgPSBjYXRlZ29yaXplKHN0YXJ0KTtcbiAgICByZXR1cm4gKG5leHQpID0+IHtcbiAgICAgICAgbGV0IG5leHRDYXQgPSBjYXRlZ29yaXplKG5leHQpO1xuICAgICAgICBpZiAoY2F0ID09IENoYXJDYXRlZ29yeS5TcGFjZSlcbiAgICAgICAgICAgIGNhdCA9IG5leHRDYXQ7XG4gICAgICAgIHJldHVybiBjYXQgPT0gbmV4dENhdDtcbiAgICB9O1xufVxuZnVuY3Rpb24gbW92ZVZlcnRpY2FsbHkodmlldywgc3RhcnQsIGZvcndhcmQsIGRpc3RhbmNlKSB7XG4gICAgbGV0IHN0YXJ0UG9zID0gc3RhcnQuaGVhZCwgZGlyID0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICBpZiAoc3RhcnRQb3MgPT0gKGZvcndhcmQgPyB2aWV3LnN0YXRlLmRvYy5sZW5ndGggOiAwKSlcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioc3RhcnRQb3MsIHN0YXJ0LmFzc29jKTtcbiAgICBsZXQgZ29hbCA9IHN0YXJ0LmdvYWxDb2x1bW4sIHN0YXJ0WTtcbiAgICBsZXQgcmVjdCA9IHZpZXcuY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgc3RhcnRDb29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKHN0YXJ0UG9zLCBzdGFydC5hc3NvYyB8fCAtMSksIGRvY1RvcCA9IHZpZXcuZG9jdW1lbnRUb3A7XG4gICAgaWYgKHN0YXJ0Q29vcmRzKSB7XG4gICAgICAgIGlmIChnb2FsID09IG51bGwpXG4gICAgICAgICAgICBnb2FsID0gc3RhcnRDb29yZHMubGVmdCAtIHJlY3QubGVmdDtcbiAgICAgICAgc3RhcnRZID0gZGlyIDwgMCA/IHN0YXJ0Q29vcmRzLnRvcCA6IHN0YXJ0Q29vcmRzLmJvdHRvbTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy52aWV3U3RhdGUubGluZUJsb2NrQXQoc3RhcnRQb3MpO1xuICAgICAgICBpZiAoZ29hbCA9PSBudWxsKVxuICAgICAgICAgICAgZ29hbCA9IE1hdGgubWluKHJlY3QucmlnaHQgLSByZWN0LmxlZnQsIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoICogKHN0YXJ0UG9zIC0gbGluZS5mcm9tKSk7XG4gICAgICAgIHN0YXJ0WSA9IChkaXIgPCAwID8gbGluZS50b3AgOiBsaW5lLmJvdHRvbSkgKyBkb2NUb3A7XG4gICAgfVxuICAgIGxldCByZXNvbHZlZEdvYWwgPSByZWN0LmxlZnQgKyBnb2FsO1xuICAgIGxldCBkaXN0ID0gZGlzdGFuY2UgIT09IG51bGwgJiYgZGlzdGFuY2UgIT09IHZvaWQgMCA/IGRpc3RhbmNlIDogKHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0ID4+IDEpO1xuICAgIGZvciAobGV0IGV4dHJhID0gMDs7IGV4dHJhICs9IDEwKSB7XG4gICAgICAgIGxldCBjdXJZID0gc3RhcnRZICsgKGRpc3QgKyBleHRyYSkgKiBkaXI7XG4gICAgICAgIGxldCBwb3MgPSBwb3NBdENvb3Jkcyh2aWV3LCB7IHg6IHJlc29sdmVkR29hbCwgeTogY3VyWSB9LCBmYWxzZSwgZGlyKTtcbiAgICAgICAgaWYgKGN1clkgPCByZWN0LnRvcCB8fCBjdXJZID4gcmVjdC5ib3R0b20gfHwgKGRpciA8IDAgPyBwb3MgPCBzdGFydFBvcyA6IHBvcyA+IHN0YXJ0UG9zKSkge1xuICAgICAgICAgICAgbGV0IGNoYXJSZWN0ID0gdmlldy5kb2NWaWV3LmNvb3Jkc0ZvckNoYXIocG9zKTtcbiAgICAgICAgICAgIGxldCBhc3NvYyA9ICFjaGFyUmVjdCB8fCBjdXJZIDwgY2hhclJlY3QudG9wID8gLTEgOiAxO1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBhc3NvYywgdW5kZWZpbmVkLCBnb2FsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNraXBBdG9taWNSYW5nZXMoYXRvbXMsIHBvcywgYmlhcykge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG1vdmVkID0gMDtcbiAgICAgICAgZm9yIChsZXQgc2V0IG9mIGF0b21zKSB7XG4gICAgICAgICAgICBzZXQuYmV0d2Vlbihwb3MgLSAxLCBwb3MgKyAxLCAoZnJvbSwgdG8sIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgcG9zIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpZGUgPSBtb3ZlZCB8fCBiaWFzIHx8IChwb3MgLSBmcm9tIDwgdG8gLSBwb3MgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSBzaWRlIDwgMCA/IGZyb20gOiB0bztcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSBzaWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbW92ZWQpXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNraXBBdG9tcyh2aWV3LCBvbGRQb3MsIHBvcykge1xuICAgIGxldCBuZXdQb3MgPSBza2lwQXRvbWljUmFuZ2VzKHZpZXcuc3RhdGUuZmFjZXQoYXRvbWljUmFuZ2VzKS5tYXAoZiA9PiBmKHZpZXcpKSwgcG9zLmZyb20sIG9sZFBvcy5oZWFkID4gcG9zLmZyb20gPyAtMSA6IDEpO1xuICAgIHJldHVybiBuZXdQb3MgPT0gcG9zLmZyb20gPyBwb3MgOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5ld1BvcywgbmV3UG9zIDwgcG9zLmZyb20gPyAxIDogLTEpO1xufVxuXG5jb25zdCBMaW5lQnJlYWtQbGFjZWhvbGRlciA9IFwiXFx1ZmZmZlwiO1xuY2xhc3MgRE9NUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMsIHN0YXRlKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLmxpbmVTZXBhcmF0b3IgPSBzdGF0ZS5mYWNldChFZGl0b3JTdGF0ZS5saW5lU2VwYXJhdG9yKTtcbiAgICB9XG4gICAgYXBwZW5kKHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IHRleHQ7XG4gICAgfVxuICAgIGxpbmVCcmVhaygpIHtcbiAgICAgICAgdGhpcy50ZXh0ICs9IExpbmVCcmVha1BsYWNlaG9sZGVyO1xuICAgIH1cbiAgICByZWFkUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoIXN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCBwYXJlbnQgPSBzdGFydC5wYXJlbnROb2RlO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBzdGFydDs7KSB7XG4gICAgICAgICAgICB0aGlzLmZpbmRQb2ludEJlZm9yZShwYXJlbnQsIGN1cik7XG4gICAgICAgICAgICBsZXQgb2xkTGVuID0gdGhpcy50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMucmVhZE5vZGUoY3VyKTtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gY3VyLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG5leHQgPT0gZW5kKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHZpZXcgPSBDb250ZW50Vmlldy5nZXQoY3VyKSwgbmV4dFZpZXcgPSBDb250ZW50Vmlldy5nZXQobmV4dCk7XG4gICAgICAgICAgICBpZiAodmlldyAmJiBuZXh0VmlldyA/IHZpZXcuYnJlYWtBZnRlciA6XG4gICAgICAgICAgICAgICAgKHZpZXcgPyB2aWV3LmJyZWFrQWZ0ZXIgOiBpc0Jsb2NrRWxlbWVudChjdXIpKSB8fFxuICAgICAgICAgICAgICAgICAgICAoaXNCbG9ja0VsZW1lbnQobmV4dCkgJiYgKGN1ci5ub2RlTmFtZSAhPSBcIkJSXCIgfHwgY3VyLmNtSWdub3JlKSAmJiB0aGlzLnRleHQubGVuZ3RoID4gb2xkTGVuKSlcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbmRQb2ludEJlZm9yZShwYXJlbnQsIGVuZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWFkVGV4dE5vZGUobm9kZSkge1xuICAgICAgICBsZXQgdGV4dCA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiB0aGlzLnBvaW50cylcbiAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUpXG4gICAgICAgICAgICAgICAgcG9pbnQucG9zID0gdGhpcy50ZXh0Lmxlbmd0aCArIE1hdGgubWluKHBvaW50Lm9mZnNldCwgdGV4dC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBvZmYgPSAwLCByZSA9IHRoaXMubGluZVNlcGFyYXRvciA/IG51bGwgOiAvXFxyXFxuP3xcXG4vZzs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dEJyZWFrID0gLTEsIGJyZWFrU2l6ZSA9IDEsIG07XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJyZWFrID0gdGV4dC5pbmRleE9mKHRoaXMubGluZVNlcGFyYXRvciwgb2ZmKTtcbiAgICAgICAgICAgICAgICBicmVha1NpemUgPSB0aGlzLmxpbmVTZXBhcmF0b3IubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobSA9IHJlLmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBuZXh0QnJlYWsgPSBtLmluZGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrU2l6ZSA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGV4dC5zbGljZShvZmYsIG5leHRCcmVhayA8IDAgPyB0ZXh0Lmxlbmd0aCA6IG5leHRCcmVhaykpO1xuICAgICAgICAgICAgaWYgKG5leHRCcmVhayA8IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgaWYgKGJyZWFrU2l6ZSA+IDEpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUgJiYgcG9pbnQucG9zID4gdGhpcy50ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnBvcyAtPSBicmVha1NpemUgLSAxO1xuICAgICAgICAgICAgb2ZmID0gbmV4dEJyZWFrICsgYnJlYWtTaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuY21JZ25vcmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KG5vZGUpO1xuICAgICAgICBsZXQgZnJvbVZpZXcgPSB2aWV3ICYmIHZpZXcub3ZlcnJpZGVET01UZXh0O1xuICAgICAgICBpZiAoZnJvbVZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRJbnNpZGUobm9kZSwgZnJvbVZpZXcubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tVmlldy5pdGVyKCk7ICFpLm5leHQoKS5kb25lOykge1xuICAgICAgICAgICAgICAgIGlmIChpLmxpbmVCcmVhaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgdGhpcy5yZWFkVGV4dE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkJSXCIpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRSYW5nZShub2RlLmZpcnN0Q2hpbGQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmRQb2ludEJlZm9yZShub2RlLCBuZXh0KSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKHBvaW50Lm5vZGUgPT0gbm9kZSAmJiBub2RlLmNoaWxkTm9kZXNbcG9pbnQub2Zmc2V0XSA9PSBuZXh0KVxuICAgICAgICAgICAgICAgIHBvaW50LnBvcyA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIGZpbmRQb2ludEluc2lkZShub2RlLCBsZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzID8gcG9pbnQubm9kZSA9PSBub2RlIDogbm9kZS5jb250YWlucyhwb2ludC5ub2RlKSlcbiAgICAgICAgICAgICAgICBwb2ludC5wb3MgPSB0aGlzLnRleHQubGVuZ3RoICsgKGlzQXRFbmQobm9kZSwgcG9pbnQubm9kZSwgcG9pbnQub2Zmc2V0KSA/IGxlbmd0aCA6IDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQXRFbmQocGFyZW50LCBub2RlLCBvZmZzZXQpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmICghbm9kZSB8fCBvZmZzZXQgPCBtYXhPZmZzZXQobm9kZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKSArIDE7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxufVxuY2xhc3MgRE9NUG9pbnQge1xuICAgIGNvbnN0cnVjdG9yKG5vZGUsIG9mZnNldCkge1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5wb3MgPSAtMTtcbiAgICB9XG59XG5cbmNsYXNzIERPTUNoYW5nZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc3RhcnQsIGVuZCwgdHlwZU92ZXIpIHtcbiAgICAgICAgdGhpcy50eXBlT3ZlciA9IHR5cGVPdmVyO1xuICAgICAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMuZG9tQ2hhbmdlZCA9IHN0YXJ0ID4gLTE7XG4gICAgICAgIGxldCB7IGltcHJlY2lzZUhlYWQ6IGlIZWFkLCBpbXByZWNpc2VBbmNob3I6IGlBbmNob3IgfSA9IHZpZXcuZG9jVmlldztcbiAgICAgICAgaWYgKHZpZXcuc3RhdGUucmVhZE9ubHkgJiYgc3RhcnQgPiAtMSkge1xuICAgICAgICAgICAgLy8gSWdub3JlIGNoYW5nZXMgd2hlbiB0aGUgZWRpdG9yIGlzIHJlYWQtb25seVxuICAgICAgICAgICAgdGhpcy5uZXdTZWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ID4gLTEgJiYgKHRoaXMuYm91bmRzID0gdmlldy5kb2NWaWV3LmRvbUJvdW5kc0Fyb3VuZChzdGFydCwgZW5kLCAwKSkpIHtcbiAgICAgICAgICAgIGxldCBzZWxQb2ludHMgPSBpSGVhZCB8fCBpQW5jaG9yID8gW10gOiBzZWxlY3Rpb25Qb2ludHModmlldyk7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IERPTVJlYWRlcihzZWxQb2ludHMsIHZpZXcuc3RhdGUpO1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRSYW5nZSh0aGlzLmJvdW5kcy5zdGFydERPTSwgdGhpcy5ib3VuZHMuZW5kRE9NKTtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHJlYWRlci50ZXh0O1xuICAgICAgICAgICAgdGhpcy5uZXdTZWwgPSBzZWxlY3Rpb25Gcm9tUG9pbnRzKHNlbFBvaW50cywgdGhpcy5ib3VuZHMuZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZG9tU2VsID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgICAgIGxldCBoZWFkID0gaUhlYWQgJiYgaUhlYWQubm9kZSA9PSBkb21TZWwuZm9jdXNOb2RlICYmIGlIZWFkLm9mZnNldCA9PSBkb21TZWwuZm9jdXNPZmZzZXQgfHxcbiAgICAgICAgICAgICAgICAhY29udGFpbnModmlldy5jb250ZW50RE9NLCBkb21TZWwuZm9jdXNOb2RlKVxuICAgICAgICAgICAgICAgID8gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkXG4gICAgICAgICAgICAgICAgOiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpO1xuICAgICAgICAgICAgbGV0IGFuY2hvciA9IGlBbmNob3IgJiYgaUFuY2hvci5ub2RlID09IGRvbVNlbC5hbmNob3JOb2RlICYmIGlBbmNob3Iub2Zmc2V0ID09IGRvbVNlbC5hbmNob3JPZmZzZXQgfHxcbiAgICAgICAgICAgICAgICAhY29udGFpbnModmlldy5jb250ZW50RE9NLCBkb21TZWwuYW5jaG9yTm9kZSlcbiAgICAgICAgICAgICAgICA/IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yXG4gICAgICAgICAgICAgICAgOiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCk7XG4gICAgICAgICAgICAvLyBpT1Mgd2lsbCByZWZ1c2UgdG8gc2VsZWN0IHRoZSBibG9jayBnYXBzIHdoZW4gZG9pbmdcbiAgICAgICAgICAgIC8vIHNlbGVjdC1hbGwuXG4gICAgICAgICAgICAvLyBDaHJvbWUgd2lsbCBwdXQgdGhlIHNlbGVjdGlvbiAqaW5zaWRlKiB0aGVtLCBjb25mdXNpbmdcbiAgICAgICAgICAgIC8vIHBvc0Zyb21ET01cbiAgICAgICAgICAgIGxldCB2cCA9IHZpZXcudmlld3BvcnQ7XG4gICAgICAgICAgICBpZiAoKGJyb3dzZXIuaW9zIHx8IGJyb3dzZXIuY2hyb21lKSAmJiB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmIGhlYWQgIT0gYW5jaG9yICYmXG4gICAgICAgICAgICAgICAgKHZwLmZyb20gPiAwIHx8IHZwLnRvIDwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gTWF0aC5taW4oaGVhZCwgYW5jaG9yKSwgdG8gPSBNYXRoLm1heChoZWFkLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZGcm9tID0gdnAuZnJvbSAtIGZyb20sIG9mZlRvID0gdnAudG8gLSB0bztcbiAgICAgICAgICAgICAgICBpZiAoKG9mZkZyb20gPT0gMCB8fCBvZmZGcm9tID09IDEgfHwgZnJvbSA9PSAwKSAmJiAob2ZmVG8gPT0gMCB8fCBvZmZUbyA9PSAtMSB8fCB0byA9PSB2aWV3LnN0YXRlLmRvYy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSB2aWV3LnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKGFuY2hvciwgaGVhZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseURPTUNoYW5nZSh2aWV3LCBkb21DaGFuZ2UpIHtcbiAgICBsZXQgY2hhbmdlO1xuICAgIGxldCB7IG5ld1NlbCB9ID0gZG9tQ2hhbmdlLCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGxldCBsYXN0S2V5ID0gdmlldy5pbnB1dFN0YXRlLmxhc3RLZXlUaW1lID4gRGF0ZS5ub3coKSAtIDEwMCA/IHZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5Q29kZSA6IC0xO1xuICAgIGlmIChkb21DaGFuZ2UuYm91bmRzKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBkb21DaGFuZ2UuYm91bmRzO1xuICAgICAgICBsZXQgcHJlZmVycmVkUG9zID0gc2VsLmZyb20sIHByZWZlcnJlZFNpZGUgPSBudWxsO1xuICAgICAgICAvLyBQcmVmZXIgYW5jaG9yaW5nIHRvIGVuZCB3aGVuIEJhY2tzcGFjZSBpcyBwcmVzc2VkIChvciwgb25cbiAgICAgICAgLy8gQW5kcm9pZCwgd2hlbiBzb21ldGhpbmcgd2FzIGRlbGV0ZWQpXG4gICAgICAgIGlmIChsYXN0S2V5ID09PSA4IHx8IGJyb3dzZXIuYW5kcm9pZCAmJiBkb21DaGFuZ2UudGV4dC5sZW5ndGggPCB0byAtIGZyb20pIHtcbiAgICAgICAgICAgIHByZWZlcnJlZFBvcyA9IHNlbC50bztcbiAgICAgICAgICAgIHByZWZlcnJlZFNpZGUgPSBcImVuZFwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaWZmID0gZmluZERpZmYodmlldy5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8sIExpbmVCcmVha1BsYWNlaG9sZGVyKSwgZG9tQ2hhbmdlLnRleHQsIHByZWZlcnJlZFBvcyAtIGZyb20sIHByZWZlcnJlZFNpZGUpO1xuICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgICAgLy8gQ2hyb21lIGluc2VydHMgdHdvIG5ld2xpbmVzIHdoZW4gcHJlc3Npbmcgc2hpZnQtZW50ZXIgYXQgdGhlXG4gICAgICAgICAgICAvLyBlbmQgb2YgYSBsaW5lLiBEb21DaGFuZ2UgZHJvcHMgb25lIG9mIHRob3NlLlxuICAgICAgICAgICAgaWYgKGJyb3dzZXIuY2hyb21lICYmIGxhc3RLZXkgPT0gMTMgJiZcbiAgICAgICAgICAgICAgICBkaWZmLnRvQiA9PSBkaWZmLmZyb20gKyAyICYmIGRvbUNoYW5nZS50ZXh0LnNsaWNlKGRpZmYuZnJvbSwgZGlmZi50b0IpID09IExpbmVCcmVha1BsYWNlaG9sZGVyICsgTGluZUJyZWFrUGxhY2Vob2xkZXIpXG4gICAgICAgICAgICAgICAgZGlmZi50b0ItLTtcbiAgICAgICAgICAgIGNoYW5nZSA9IHsgZnJvbTogZnJvbSArIGRpZmYuZnJvbSwgdG86IGZyb20gKyBkaWZmLnRvQSxcbiAgICAgICAgICAgICAgICBpbnNlcnQ6IFRleHQub2YoZG9tQ2hhbmdlLnRleHQuc2xpY2UoZGlmZi5mcm9tLCBkaWZmLnRvQikuc3BsaXQoTGluZUJyZWFrUGxhY2Vob2xkZXIpKSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1NlbCAmJiAoIXZpZXcuaGFzRm9jdXMgJiYgdmlldy5zdGF0ZS5mYWNldChlZGl0YWJsZSkgfHwgbmV3U2VsLm1haW4uZXEoc2VsKSkpIHtcbiAgICAgICAgbmV3U2VsID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFjaGFuZ2UgJiYgIW5ld1NlbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghY2hhbmdlICYmIGRvbUNoYW5nZS50eXBlT3ZlciAmJiAhc2VsLmVtcHR5ICYmIG5ld1NlbCAmJiBuZXdTZWwubWFpbi5lbXB0eSkge1xuICAgICAgICAvLyBIZXVyaXN0aWMgdG8gbm90aWNlIHR5cGluZyBvdmVyIGEgc2VsZWN0ZWQgY2hhcmFjdGVyXG4gICAgICAgIGNoYW5nZSA9IHsgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sIGluc2VydDogdmlldy5zdGF0ZS5kb2Muc2xpY2Uoc2VsLmZyb20sIHNlbC50bykgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKGJyb3dzZXIubWFjIHx8IGJyb3dzZXIuYW5kcm9pZCkgJiYgY2hhbmdlICYmIGNoYW5nZS5mcm9tID09IGNoYW5nZS50byAmJiBjaGFuZ2UuZnJvbSA9PSBzZWwuaGVhZCAtIDEgJiZcbiAgICAgICAgL15cXC4gPyQvLnRlc3QoY2hhbmdlLmluc2VydC50b1N0cmluZygpKSAmJiB2aWV3LmNvbnRlbnRET00uZ2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIikgPT0gXCJvZmZcIikge1xuICAgICAgICAvLyBEZXRlY3QgaW5zZXJ0LXBlcmlvZC1vbi1kb3VibGUtc3BhY2UgTWFjIGFuZCBBbmRyb2lkIGJlaGF2aW9yLFxuICAgICAgICAvLyBhbmQgdHJhbnNmb3JtIGl0IGludG8gYSByZWd1bGFyIHNwYWNlIGluc2VydC5cbiAgICAgICAgaWYgKG5ld1NlbCAmJiBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA9PSAyKVxuICAgICAgICAgICAgbmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShuZXdTZWwubWFpbi5hbmNob3IgLSAxLCBuZXdTZWwubWFpbi5oZWFkIC0gMSk7XG4gICAgICAgIGNoYW5nZSA9IHsgZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2UudG8sIGluc2VydDogVGV4dC5vZihbY2hhbmdlLmluc2VydC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiIFwiKV0pIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA+PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPD0gc2VsLnRvICYmXG4gICAgICAgIChjaGFuZ2UuZnJvbSAhPSBzZWwuZnJvbSB8fCBjaGFuZ2UudG8gIT0gc2VsLnRvKSAmJlxuICAgICAgICAoc2VsLnRvIC0gc2VsLmZyb20pIC0gKGNoYW5nZS50byAtIGNoYW5nZS5mcm9tKSA8PSA0KSB7XG4gICAgICAgIC8vIElmIHRoZSBjaGFuZ2UgaXMgaW5zaWRlIHRoZSBzZWxlY3Rpb24gYW5kIGNvdmVycyBtb3N0IG9mIGl0LFxuICAgICAgICAvLyBhc3N1bWUgaXQgaXMgYSBzZWxlY3Rpb24gcmVwbGFjZSAod2l0aCBpZGVudGljYWwgY2hhcmFjdGVycyBhdFxuICAgICAgICAvLyB0aGUgc3RhcnQvZW5kIG5vdCBpbmNsdWRlZCBpbiB0aGUgZGlmZilcbiAgICAgICAgY2hhbmdlID0ge1xuICAgICAgICAgICAgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sXG4gICAgICAgICAgICBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBjaGFuZ2UuZnJvbSkuYXBwZW5kKGNoYW5nZS5pbnNlcnQpLmFwcGVuZCh2aWV3LnN0YXRlLmRvYy5zbGljZShjaGFuZ2UudG8sIHNlbC50bykpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIuY2hyb21lICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgY2hhbmdlLmZyb20gPT0gc2VsLmhlYWQgJiZcbiAgICAgICAgY2hhbmdlLmluc2VydC50b1N0cmluZygpID09IFwiXFxuIFwiICYmIHZpZXcubGluZVdyYXBwaW5nKSB7XG4gICAgICAgIC8vIEluIENocm9tZSwgaWYgeW91IGluc2VydCBhIHNwYWNlIGF0IHRoZSBzdGFydCBvZiBhIHdyYXBwZWRcbiAgICAgICAgLy8gbGluZSwgaXQgd2lsbCBhY3R1YWxseSBpbnNlcnQgYSBuZXdsaW5lIGFuZCBhIHNwYWNlLCBjYXVzaW5nIGFcbiAgICAgICAgLy8gYm9ndXMgbmV3IGxpbmUgdG8gYmUgY3JlYXRlZCBpbiBDb2RlTWlycm9yICgjOTY4KVxuICAgICAgICBpZiAobmV3U2VsKVxuICAgICAgICAgICAgbmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShuZXdTZWwubWFpbi5hbmNob3IgLSAxLCBuZXdTZWwubWFpbi5oZWFkIC0gMSk7XG4gICAgICAgIGNoYW5nZSA9IHsgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sIGluc2VydDogVGV4dC5vZihbXCIgXCJdKSB9O1xuICAgIH1cbiAgICBpZiAoY2hhbmdlKSB7XG4gICAgICAgIHJldHVybiBhcHBseURPTUNoYW5nZUlubmVyKHZpZXcsIGNoYW5nZSwgbmV3U2VsLCBsYXN0S2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV3U2VsICYmICFuZXdTZWwubWFpbi5lcShzZWwpKSB7XG4gICAgICAgIGxldCBzY3JvbGxJbnRvVmlldyA9IGZhbHNlLCB1c2VyRXZlbnQgPSBcInNlbGVjdFwiO1xuICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmxhc3RTZWxlY3Rpb25UaW1lID4gRGF0ZS5ub3coKSAtIDUwKSB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmxhc3RTZWxlY3Rpb25PcmlnaW4gPT0gXCJzZWxlY3RcIilcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldyA9IHRydWU7XG4gICAgICAgICAgICB1c2VyRXZlbnQgPSB2aWV3LmlucHV0U3RhdGUubGFzdFNlbGVjdGlvbk9yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgc2VsZWN0aW9uOiBuZXdTZWwsIHNjcm9sbEludG9WaWV3LCB1c2VyRXZlbnQgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5RE9NQ2hhbmdlSW5uZXIodmlldywgY2hhbmdlLCBuZXdTZWwsIGxhc3RLZXkgPSAtMSkge1xuICAgIGlmIChicm93c2VyLmlvcyAmJiB2aWV3LmlucHV0U3RhdGUuZmx1c2hJT1NLZXkoY2hhbmdlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgLy8gQW5kcm9pZCBicm93c2VycyBkb24ndCBmaXJlIHJlYXNvbmFibGUga2V5IGV2ZW50cyBmb3IgZW50ZXIsXG4gICAgLy8gYmFja3NwYWNlLCBvciBkZWxldGUuIFNvIHRoaXMgZGV0ZWN0cyBjaGFuZ2VzIHRoYXQgbG9vayBsaWtlXG4gICAgLy8gdGhleSdyZSBjYXVzZWQgYnkgdGhvc2Uga2V5cywgYW5kIHJlaW50ZXJwcmV0cyB0aGVtIGFzIGtleVxuICAgIC8vIGV2ZW50cy4gKFNvbWUgb2YgdGhlc2Uga2V5cyBhcmUgYWxzbyBoYW5kbGVkIGJ5IGJlZm9yZWlucHV0XG4gICAgLy8gZXZlbnRzIGFuZCB0aGUgcGVuZGluZ0FuZHJvaWRLZXkgbWVjaGFuaXNtLCBidXQgdGhhdCdzIG5vdFxuICAgIC8vIHJlbGlhYmxlIGluIGFsbCBzaXR1YXRpb25zLilcbiAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmXG4gICAgICAgICgoY2hhbmdlLnRvID09IHNlbC50byAmJlxuICAgICAgICAgICAgLy8gR0JvYXJkIHdpbGwgc29tZXRpbWVzIHJlbW92ZSBhIHNwYWNlIGl0IGp1c3QgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGFmdGVyIGEgY29tcGxldGlvbiB3aGVuIHlvdSBwcmVzcyBlbnRlclxuICAgICAgICAgICAgKGNoYW5nZS5mcm9tID09IHNlbC5mcm9tIHx8IGNoYW5nZS5mcm9tID09IHNlbC5mcm9tIC0gMSAmJiB2aWV3LnN0YXRlLnNsaWNlRG9jKGNoYW5nZS5mcm9tLCBzZWwuZnJvbSkgPT0gXCIgXCIpICYmXG4gICAgICAgICAgICBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA9PSAxICYmIGNoYW5nZS5pbnNlcnQubGluZXMgPT0gMiAmJlxuICAgICAgICAgICAgZGlzcGF0Y2hLZXkodmlldy5jb250ZW50RE9NLCBcIkVudGVyXCIsIDEzKSkgfHxcbiAgICAgICAgICAgICgoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gLSAxICYmIGNoYW5nZS50byA9PSBzZWwudG8gJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMCB8fFxuICAgICAgICAgICAgICAgIGxhc3RLZXkgPT0gOCAmJiBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA8IGNoYW5nZS50byAtIGNoYW5nZS5mcm9tICYmIGNoYW5nZS50byA+IHNlbC5oZWFkKSAmJlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHZpZXcuY29udGVudERPTSwgXCJCYWNrc3BhY2VcIiwgOCkpIHx8XG4gICAgICAgICAgICAoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gJiYgY2hhbmdlLnRvID09IHNlbC50byArIDEgJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMCAmJlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHZpZXcuY29udGVudERPTSwgXCJEZWxldGVcIiwgNDYpKSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCB0ZXh0ID0gY2hhbmdlLmluc2VydC50b1N0cmluZygpO1xuICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDApXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcrKztcbiAgICBsZXQgZGVmYXVsdFRyO1xuICAgIGxldCBkZWZhdWx0SW5zZXJ0ID0gKCkgPT4gZGVmYXVsdFRyIHx8IChkZWZhdWx0VHIgPSBhcHBseURlZmF1bHRJbnNlcnQodmlldywgY2hhbmdlLCBuZXdTZWwpKTtcbiAgICBpZiAoIXZpZXcuc3RhdGUuZmFjZXQoaW5wdXRIYW5kbGVyKS5zb21lKGggPT4gaCh2aWV3LCBjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvLCB0ZXh0LCBkZWZhdWx0SW5zZXJ0KSkpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goZGVmYXVsdEluc2VydCgpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdEluc2VydCh2aWV3LCBjaGFuZ2UsIG5ld1NlbCkge1xuICAgIGxldCB0ciwgc3RhcnRTdGF0ZSA9IHZpZXcuc3RhdGUsIHNlbCA9IHN0YXJ0U3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgaWYgKGNoYW5nZS5mcm9tID49IHNlbC5mcm9tICYmIGNoYW5nZS50byA8PSBzZWwudG8gJiYgY2hhbmdlLnRvIC0gY2hhbmdlLmZyb20gPj0gKHNlbC50byAtIHNlbC5mcm9tKSAvIDMgJiZcbiAgICAgICAgKCFuZXdTZWwgfHwgbmV3U2VsLm1haW4uZW1wdHkgJiYgbmV3U2VsLm1haW4uZnJvbSA9PSBjaGFuZ2UuZnJvbSArIGNoYW5nZS5pbnNlcnQubGVuZ3RoKSAmJlxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nIDwgMCkge1xuICAgICAgICBsZXQgYmVmb3JlID0gc2VsLmZyb20gPCBjaGFuZ2UuZnJvbSA/IHN0YXJ0U3RhdGUuc2xpY2VEb2Moc2VsLmZyb20sIGNoYW5nZS5mcm9tKSA6IFwiXCI7XG4gICAgICAgIGxldCBhZnRlciA9IHNlbC50byA+IGNoYW5nZS50byA/IHN0YXJ0U3RhdGUuc2xpY2VEb2MoY2hhbmdlLnRvLCBzZWwudG8pIDogXCJcIjtcbiAgICAgICAgdHIgPSBzdGFydFN0YXRlLnJlcGxhY2VTZWxlY3Rpb24odmlldy5zdGF0ZS50b1RleHQoYmVmb3JlICsgY2hhbmdlLmluc2VydC5zbGljZVN0cmluZygwLCB1bmRlZmluZWQsIHZpZXcuc3RhdGUubGluZUJyZWFrKSArIGFmdGVyKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IHN0YXJ0U3RhdGUuY2hhbmdlcyhjaGFuZ2UpO1xuICAgICAgICBsZXQgbWFpblNlbCA9IG5ld1NlbCAmJiBuZXdTZWwubWFpbi50byA8PSBjaGFuZ2VzLm5ld0xlbmd0aCA/IG5ld1NlbC5tYWluIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBUcnkgdG8gYXBwbHkgYSBjb21wb3NpdGlvbiBjaGFuZ2UgdG8gYWxsIGN1cnNvcnNcbiAgICAgICAgaWYgKHN0YXJ0U3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5sZW5ndGggPiAxICYmIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMCAmJlxuICAgICAgICAgICAgY2hhbmdlLnRvIDw9IHNlbC50byAmJiBjaGFuZ2UudG8gPj0gc2VsLnRvIC0gMTApIHtcbiAgICAgICAgICAgIGxldCByZXBsYWNlZCA9IHZpZXcuc3RhdGUuc2xpY2VEb2MoY2hhbmdlLmZyb20sIGNoYW5nZS50byk7XG4gICAgICAgICAgICBsZXQgY29tcG9zaXRpb25SYW5nZSwgY29tcG9zaXRpb24gPSBuZXdTZWwgJiYgZmluZENvbXBvc2l0aW9uTm9kZSh2aWV3LCBuZXdTZWwubWFpbi5oZWFkKTtcbiAgICAgICAgICAgIGlmIChjb21wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCBkTGVuID0gY2hhbmdlLmluc2VydC5sZW5ndGggLSAoY2hhbmdlLnRvIC0gY2hhbmdlLmZyb20pO1xuICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uUmFuZ2UgPSB7IGZyb206IGNvbXBvc2l0aW9uLmZyb20sIHRvOiBjb21wb3NpdGlvbi50byAtIGRMZW4gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uUmFuZ2UgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQoc2VsLmhlYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHNlbC50byAtIGNoYW5nZS50bywgc2l6ZSA9IHNlbC50byAtIHNlbC5mcm9tO1xuICAgICAgICAgICAgdHIgPSBzdGFydFN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tID09IHNlbC5mcm9tICYmIHJhbmdlLnRvID09IHNlbC50bylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlcywgcmFuZ2U6IG1haW5TZWwgfHwgcmFuZ2UubWFwKGNoYW5nZXMpIH07XG4gICAgICAgICAgICAgICAgbGV0IHRvID0gcmFuZ2UudG8gLSBvZmZzZXQsIGZyb20gPSB0byAtIHJlcGxhY2VkLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UudG8gLSByYW5nZS5mcm9tICE9IHNpemUgfHwgdmlldy5zdGF0ZS5zbGljZURvYyhmcm9tLCB0bykgIT0gcmVwbGFjZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhlcmUncyBubyB3YXkgdG8gbWFrZSBtdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2VzIGluIHRoZSBzYW1lIG5vZGUgd29yayB3aXRob3V0IGFib3J0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvc2l0aW9uLCBzbyBjdXJzb3JzIGluIHRoZSBjb21wb3NpdGlvbiByYW5nZSBhcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlZC5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UudG8gPj0gY29tcG9zaXRpb25SYW5nZS5mcm9tICYmIHJhbmdlLmZyb20gPD0gY29tcG9zaXRpb25SYW5nZS50bylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UgfTtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VDaGFuZ2VzID0gc3RhcnRTdGF0ZS5jaGFuZ2VzKHsgZnJvbSwgdG8sIGluc2VydDogY2hhbmdlLmluc2VydCB9KSwgc2VsT2ZmID0gcmFuZ2UudG8gLSBzZWwudG87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogcmFuZ2VDaGFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICByYW5nZTogIW1haW5TZWwgPyByYW5nZS5tYXAocmFuZ2VDaGFuZ2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoTWF0aC5tYXgoMCwgbWFpblNlbC5hbmNob3IgKyBzZWxPZmYpLCBNYXRoLm1heCgwLCBtYWluU2VsLmhlYWQgKyBzZWxPZmYpKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyID0ge1xuICAgICAgICAgICAgICAgIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBtYWluU2VsICYmIHN0YXJ0U3RhdGUuc2VsZWN0aW9uLnJlcGxhY2VSYW5nZShtYWluU2VsKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgdXNlckV2ZW50ID0gXCJpbnB1dC50eXBlXCI7XG4gICAgaWYgKHZpZXcuY29tcG9zaW5nIHx8XG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UgJiYgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRW5kZWRBdCA+IERhdGUubm93KCkgLSA1MCkge1xuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIHVzZXJFdmVudCArPSBcIi5jb21wb3NlXCI7XG4gICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSkge1xuICAgICAgICAgICAgdXNlckV2ZW50ICs9IFwiLnN0YXJ0XCI7XG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGFydFN0YXRlLnVwZGF0ZSh0ciwgeyB1c2VyRXZlbnQsIHNjcm9sbEludG9WaWV3OiB0cnVlIH0pO1xufVxuZnVuY3Rpb24gZmluZERpZmYoYSwgYiwgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlKSB7XG4gICAgbGV0IG1pbkxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgbGV0IGZyb20gPSAwO1xuICAgIHdoaWxlIChmcm9tIDwgbWluTGVuICYmIGEuY2hhckNvZGVBdChmcm9tKSA9PSBiLmNoYXJDb2RlQXQoZnJvbSkpXG4gICAgICAgIGZyb20rKztcbiAgICBpZiAoZnJvbSA9PSBtaW5MZW4gJiYgYS5sZW5ndGggPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB0b0EgPSBhLmxlbmd0aCwgdG9CID0gYi5sZW5ndGg7XG4gICAgd2hpbGUgKHRvQSA+IDAgJiYgdG9CID4gMCAmJiBhLmNoYXJDb2RlQXQodG9BIC0gMSkgPT0gYi5jaGFyQ29kZUF0KHRvQiAtIDEpKSB7XG4gICAgICAgIHRvQS0tO1xuICAgICAgICB0b0ItLTtcbiAgICB9XG4gICAgaWYgKHByZWZlcnJlZFNpZGUgPT0gXCJlbmRcIikge1xuICAgICAgICBsZXQgYWRqdXN0ID0gTWF0aC5tYXgoMCwgZnJvbSAtIE1hdGgubWluKHRvQSwgdG9CKSk7XG4gICAgICAgIHByZWZlcnJlZFBvcyAtPSB0b0EgKyBhZGp1c3QgLSBmcm9tO1xuICAgIH1cbiAgICBpZiAodG9BIDwgZnJvbSAmJiBhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIGxldCBtb3ZlID0gcHJlZmVycmVkUG9zIDw9IGZyb20gJiYgcHJlZmVycmVkUG9zID49IHRvQSA/IGZyb20gLSBwcmVmZXJyZWRQb3MgOiAwO1xuICAgICAgICBmcm9tIC09IG1vdmU7XG4gICAgICAgIHRvQiA9IGZyb20gKyAodG9CIC0gdG9BKTtcbiAgICAgICAgdG9BID0gZnJvbTtcbiAgICB9XG4gICAgZWxzZSBpZiAodG9CIDwgZnJvbSkge1xuICAgICAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBmcm9tICYmIHByZWZlcnJlZFBvcyA+PSB0b0IgPyBmcm9tIC0gcHJlZmVycmVkUG9zIDogMDtcbiAgICAgICAgZnJvbSAtPSBtb3ZlO1xuICAgICAgICB0b0EgPSBmcm9tICsgKHRvQSAtIHRvQik7XG4gICAgICAgIHRvQiA9IGZyb207XG4gICAgfVxuICAgIHJldHVybiB7IGZyb20sIHRvQSwgdG9CIH07XG59XG5mdW5jdGlvbiBzZWxlY3Rpb25Qb2ludHModmlldykge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBpZiAodmlldy5yb290LmFjdGl2ZUVsZW1lbnQgIT0gdmlldy5jb250ZW50RE9NKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGxldCB7IGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCB9ID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICBpZiAoYW5jaG9yTm9kZSkge1xuICAgICAgICByZXN1bHQucHVzaChuZXcgRE9NUG9pbnQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0KSk7XG4gICAgICAgIGlmIChmb2N1c05vZGUgIT0gYW5jaG9yTm9kZSB8fCBmb2N1c09mZnNldCAhPSBhbmNob3JPZmZzZXQpXG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgRE9NUG9pbnQoZm9jdXNOb2RlLCBmb2N1c09mZnNldCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc2VsZWN0aW9uRnJvbVBvaW50cyhwb2ludHMsIGJhc2UpIHtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgYW5jaG9yID0gcG9pbnRzWzBdLnBvcywgaGVhZCA9IHBvaW50cy5sZW5ndGggPT0gMiA/IHBvaW50c1sxXS5wb3MgOiBhbmNob3I7XG4gICAgcmV0dXJuIGFuY2hvciA+IC0xICYmIGhlYWQgPiAtMSA/IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoYW5jaG9yICsgYmFzZSwgaGVhZCArIGJhc2UpIDogbnVsbDtcbn1cblxuY2xhc3MgSW5wdXRTdGF0ZSB7XG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKG9yaWdpbikge1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb25PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMubGFzdEtleUNvZGUgPSAwO1xuICAgICAgICB0aGlzLmxhc3RLZXlUaW1lID0gMDtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hUaW1lID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Rm9jdXNUaW1lID0gMDtcbiAgICAgICAgdGhpcy5sYXN0U2Nyb2xsVG9wID0gMDtcbiAgICAgICAgdGhpcy5sYXN0U2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIC8vIE9uIGlPUywgc29tZSBrZXlzIG5lZWQgdG8gaGF2ZSB0aGVpciBkZWZhdWx0IGJlaGF2aW9yIGhhcHBlblxuICAgICAgICAvLyAoYWZ0ZXIgd2hpY2ggd2UgcmV0cm9hY3RpdmVseSBoYW5kbGUgdGhlbSBhbmQgcmVzZXQgdGhlIERPTSkgdG9cbiAgICAgICAgLy8gYXZvaWQgbWVzc2luZyB1cCB0aGUgdmlydHVhbCBrZXlib2FyZCBzdGF0ZS5cbiAgICAgICAgdGhpcy5wZW5kaW5nSU9TS2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgV2hlbiBlbmFibGVkICg+LTEpLCB0YWIgcHJlc3NlcyBhcmUgbm90IGdpdmVuIHRvIGtleSBoYW5kbGVycyxcbiAgICAgICAgbGVhdmluZyB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IuIElmID4wLCB0aGUgbW9kZSBleHBpcmVzXG4gICAgICAgIGF0IHRoYXQgdGltZXN0YW1wLCBhbmQgYW55IG90aGVyIGtleXByZXNzIGNsZWFycyBpdC5cbiAgICAgICAgRXNjIGVuYWJsZXMgdGVtcG9yYXJ5IHRhYiBmb2N1cyBtb2RlIGZvciB0d28gc2Vjb25kcyB3aGVuIG5vdFxuICAgICAgICBvdGhlcndpc2UgaGFuZGxlZC5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YWJGb2N1c01vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdENvbnRleHRNZW51ID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgLy8gLTEgbWVhbnMgbm90IGluIGEgY29tcG9zaXRpb24uIE90aGVyd2lzZSwgdGhpcyBjb3VudHMgdGhlIG51bWJlclxuICAgICAgICAvLyBvZiBjaGFuZ2VzIG1hZGUgZHVyaW5nIHRoZSBjb21wb3NpdGlvbi4gVGhlIGNvdW50IGlzIHVzZWQgdG9cbiAgICAgICAgLy8gYXZvaWQgdHJlYXRpbmcgdGhlIHN0YXJ0IHN0YXRlIG9mIHRoZSBjb21wb3NpdGlvbiwgYmVmb3JlIGFueVxuICAgICAgICAvLyBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlLCBhcyBwYXJ0IG9mIHRoZSBjb21wb3NpdGlvbi5cbiAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAtMTtcbiAgICAgICAgLy8gVHJhY2tzIHdoZXRoZXIgdGhlIG5leHQgY2hhbmdlIHNob3VsZCBiZSBtYXJrZWQgYXMgc3RhcnRpbmcgdGhlXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIChudWxsIG1lYW5zIG5vIGNvbXBvc2l0aW9uLCB0cnVlIG1lYW5zIG5leHQgaXMgdGhlXG4gICAgICAgIC8vIGZpcnN0LCBmYWxzZSBtZWFucyBmaXJzdCBoYXMgYWxyZWFkeSBiZWVuIG1hcmtlZCBmb3IgdGhpc1xuICAgICAgICAvLyBjb21wb3NpdGlvbilcbiAgICAgICAgdGhpcy5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgLy8gRW5kIHRpbWUgb2YgdGhlIHByZXZpb3VzIGNvbXBvc2l0aW9uXG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25FbmRlZEF0ID0gMDtcbiAgICAgICAgLy8gVXNlZCBpbiBhIGtsdWRnZSB0byBkZXRlY3Qgd2hlbiBhbiBFbnRlciBrZXlwcmVzcyBzaG91bGQgYmVcbiAgICAgICAgLy8gY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBjb21wb3NpdGlvbiBvbiBTYWZhcmksIHdoaWNoIGZpcmVzIGV2ZW50c1xuICAgICAgICAvLyBpbiB0aGUgd3Jvbmcgb3JkZXJcbiAgICAgICAgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdLZXkgPSBmYWxzZTtcbiAgICAgICAgLy8gVXNlZCB0byBjYXRlZ29yaXplIGNoYW5nZXMgYXMgcGFydCBvZiBhIGNvbXBvc2l0aW9uLCBldmVuIHdoZW5cbiAgICAgICAgLy8gdGhlIG11dGF0aW9uIGV2ZW50cyBmaXJlIHNob3J0bHkgYWZ0ZXIgdGhlIGNvbXBvc2l0aW9uZW5kIGV2ZW50XG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAvLyBXaGVuIGEgZHJhZyBmcm9tIHRoZSBlZGl0b3IgaXMgYWN0aXZlLCB0aGlzIHBvaW50cyBhdCB0aGUgcmFuZ2VcbiAgICAgICAgLy8gYmVpbmcgZHJhZ2dlZC5cbiAgICAgICAgdGhpcy5kcmFnZ2VkQ29udGVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubm90aWZpZWRGb2N1c2VkID0gdmlldy5oYXNGb2N1cztcbiAgICAgICAgLy8gT24gU2FmYXJpIGFkZGluZyBhbiBpbnB1dCBldmVudCBoYW5kbGVyIHNvbWVob3cgcHJldmVudHMgYW5cbiAgICAgICAgLy8gaXNzdWUgd2hlcmUgdGhlIGNvbXBvc2l0aW9uIHZhbmlzaGVzIHdoZW4geW91IHByZXNzIGVudGVyLlxuICAgICAgICBpZiAoYnJvd3Nlci5zYWZhcmkpXG4gICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IG51bGwpO1xuICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbylcbiAgICAgICAgICAgIGZpcmVmb3hDb3B5Q3V0SGFjayh2aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudCk7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnRCZWxvbmdzVG9FZGl0b3IodGhpcy52aWV3LCBldmVudCkgfHwgdGhpcy5pZ25vcmVEdXJpbmdDb21wb3NpdGlvbihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChldmVudC50eXBlID09IFwia2V5ZG93blwiICYmIHRoaXMua2V5ZG93bihldmVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLnZpZXcudXBkYXRlU3RhdGUgIT0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovKVxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB0aGlzLnJ1bkhhbmRsZXJzKGV2ZW50LnR5cGUsIGV2ZW50KSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucnVuSGFuZGxlcnMoZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgIH1cbiAgICBydW5IYW5kbGVycyh0eXBlLCBldmVudCkge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IG9ic2VydmVyIG9mIGhhbmRsZXJzLm9ic2VydmVycylcbiAgICAgICAgICAgICAgICBvYnNlcnZlcih0aGlzLnZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIGZvciAobGV0IGhhbmRsZXIgb2YgaGFuZGxlcnMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIodGhpcy52aWV3LCBldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVuc3VyZUhhbmRsZXJzKHBsdWdpbnMpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gY29tcHV0ZUhhbmRsZXJzKHBsdWdpbnMpLCBwcmV2ID0gdGhpcy5oYW5kbGVycywgZG9tID0gdGhpcy52aWV3LmNvbnRlbnRET007XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gaGFuZGxlcnMpXG4gICAgICAgICAgICBpZiAodHlwZSAhPSBcInNjcm9sbFwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhc3NpdmUgPSAhaGFuZGxlcnNbdHlwZV0uaGFuZGxlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBleGlzdHMgPSBwcmV2W3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdHMgJiYgcGFzc2l2ZSAhPSAhZXhpc3RzLmhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdHMpXG4gICAgICAgICAgICAgICAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMuaGFuZGxlRXZlbnQsIHsgcGFzc2l2ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBwcmV2KVxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gXCJzY3JvbGxcIiAmJiAhaGFuZGxlcnNbdHlwZV0pXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGhpcy5oYW5kbGVFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVycztcbiAgICB9XG4gICAga2V5ZG93bihldmVudCkge1xuICAgICAgICAvLyBNdXN0IGFsd2F5cyBydW4sIGV2ZW4gaWYgYSBjdXN0b20gaGFuZGxlciBoYW5kbGVkIHRoZSBldmVudFxuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDkgJiYgdGhpcy50YWJGb2N1c01vZGUgPiAtMSAmJiAoIXRoaXMudGFiRm9jdXNNb2RlIHx8IERhdGUubm93KCkgPD0gdGhpcy50YWJGb2N1c01vZGUpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLnRhYkZvY3VzTW9kZSA+IDAgJiYgZXZlbnQua2V5Q29kZSAhPSAyNyAmJiBtb2RpZmllckNvZGVzLmluZGV4T2YoZXZlbnQua2V5Q29kZSkgPCAwKVxuICAgICAgICAgICAgdGhpcy50YWJGb2N1c01vZGUgPSAtMTtcbiAgICAgICAgLy8gQ2hyb21lIGZvciBBbmRyb2lkIHVzdWFsbHkgZG9lc24ndCBmaXJlIHByb3BlciBrZXkgZXZlbnRzLCBidXRcbiAgICAgICAgLy8gb2NjYXNpb25hbGx5IGRvZXMsIHVzdWFsbHkgc3Vycm91bmRlZCBieSBhIGJ1bmNoIG9mIGNvbXBsaWNhdGVkXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIGNoYW5nZXMuIFdoZW4gYW4gZW50ZXIgb3IgYmFja3NwYWNlIGtleSBldmVudCBpc1xuICAgICAgICAvLyBzZWVuLCBob2xkIG9mZiBvbiBoYW5kbGluZyBET00gZXZlbnRzIGZvciBhIGJpdCwgYW5kIHRoZW5cbiAgICAgICAgLy8gZGlzcGF0Y2ggaXQuXG4gICAgICAgIGlmIChicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUgJiYgIWV2ZW50LnN5bnRoZXRpYyAmJlxuICAgICAgICAgICAgKGV2ZW50LmtleUNvZGUgPT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PSA4KSkge1xuICAgICAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLmRlbGF5QW5kcm9pZEtleShldmVudC5rZXksIGV2ZW50LmtleUNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBFbnRlciBvbiBpT1MgbWFrZXMgdGhlXG4gICAgICAgIC8vIHZpcnR1YWwga2V5Ym9hcmQgZ2V0IHN0dWNrIGluIHRoZSB3cm9uZyAobG93ZXJjYXNlKVxuICAgICAgICAvLyBzdGF0ZS4gU28gd2UgbGV0IGl0IGdvIHRocm91Z2gsIGFuZCB0aGVuLCBpblxuICAgICAgICAvLyBhcHBseURPTUNoYW5nZSwgbm90aWZ5IGtleSBoYW5kbGVycyBvZiBpdCBhbmQgcmVzZXQgdG9cbiAgICAgICAgLy8gdGhlIHN0YXRlIHRoZXkgcHJvZHVjZS5cbiAgICAgICAgbGV0IHBlbmRpbmc7XG4gICAgICAgIGlmIChicm93c2VyLmlvcyAmJiAhZXZlbnQuc3ludGhldGljICYmICFldmVudC5hbHRLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgJiZcbiAgICAgICAgICAgICgocGVuZGluZyA9IFBlbmRpbmdLZXlzLmZpbmQoa2V5ID0+IGtleS5rZXlDb2RlID09IGV2ZW50LmtleUNvZGUpKSAmJiAhZXZlbnQuY3RybEtleSB8fFxuICAgICAgICAgICAgICAgIEVtYWNzeVBlbmRpbmdLZXlzLmluZGV4T2YoZXZlbnQua2V5KSA+IC0xICYmIGV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LnNoaWZ0S2V5KSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSU9TS2V5ID0gcGVuZGluZyB8fCBldmVudDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5mbHVzaElPU0tleSgpLCAyNTApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gMjI5KVxuICAgICAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLmZvcmNlRmx1c2goKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmbHVzaElPU0tleShjaGFuZ2UpIHtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMucGVuZGluZ0lPU0tleTtcbiAgICAgICAgaWYgKCFrZXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIFRoaXMgbG9va3MgbGlrZSBhbiBhdXRvY29ycmVjdGlvbiBiZWZvcmUgRW50ZXJcbiAgICAgICAgaWYgKGtleS5rZXkgPT0gXCJFbnRlclwiICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA8IGNoYW5nZS50byAmJiAvXlxcUyskLy50ZXN0KGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoS2V5KHRoaXMudmlldy5jb250ZW50RE9NLCBrZXkua2V5LCBrZXkua2V5Q29kZSwga2V5IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCA/IGtleSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlnbm9yZUR1cmluZ0NvbXBvc2l0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICghL15rZXkvLnRlc3QoZXZlbnQudHlwZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyA+IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vd3d3LnN0dW0uZGUvMjAxNi8wNi8yNC9oYW5kbGluZy1pbWUtZXZlbnRzLWluLWphdmFzY3JpcHQvLlxuICAgICAgICAvLyBPbiBzb21lIGlucHV0IG1ldGhvZCBlZGl0b3JzIChJTUVzKSwgdGhlIEVudGVyIGtleSBpcyB1c2VkIHRvXG4gICAgICAgIC8vIGNvbmZpcm0gY2hhcmFjdGVyIHNlbGVjdGlvbi4gT24gU2FmYXJpLCB3aGVuIEVudGVyIGlzIHByZXNzZWQsXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uZW5kIGFuZCBrZXlkb3duIGV2ZW50cyBhcmUgc29tZXRpbWVzIGVtaXR0ZWQgaW4gdGhlXG4gICAgICAgIC8vIHdyb25nIG9yZGVyLiBUaGUga2V5IGV2ZW50IHNob3VsZCBzdGlsbCBiZSBpZ25vcmVkLCBldmVuIHdoZW5cbiAgICAgICAgLy8gaXQgaGFwcGVucyBhZnRlciB0aGUgY29tcG9zaXRpb25lbmQgZXZlbnQuXG4gICAgICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiAhYnJvd3Nlci5pb3MgJiYgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdLZXkgJiYgRGF0ZS5ub3coKSAtIHRoaXMuY29tcG9zaXRpb25FbmRlZEF0IDwgMTAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2l0aW9uUGVuZGluZ0tleSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGFydE1vdXNlU2VsZWN0aW9uKG1vdXNlU2VsZWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24gPSBtb3VzZVNlbGVjdGlvbjtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbi51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZENvbnRlbnQgJiYgdXBkYXRlLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLmRyYWdnZWRDb250ZW50ID0gdGhpcy5kcmFnZ2VkQ29udGVudC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gdGhpcy5sYXN0U2VsZWN0aW9uVGltZSA9IDA7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYmluZEhhbmRsZXIocGx1Z2luLCBoYW5kbGVyKSB7XG4gICAgcmV0dXJuICh2aWV3LCBldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuY2FsbChwbHVnaW4sIGV2ZW50LCB2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVIYW5kbGVycyhwbHVnaW5zKSB7XG4gICAgbGV0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZnVuY3Rpb24gcmVjb3JkKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFt0eXBlXSB8fCAocmVzdWx0W3R5cGVdID0geyBvYnNlcnZlcnM6IFtdLCBoYW5kbGVyczogW10gfSk7XG4gICAgfVxuICAgIGZvciAobGV0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgICAgIGxldCBzcGVjID0gcGx1Z2luLnNwZWMsIGhhbmRsZXJzID0gc3BlYyAmJiBzcGVjLnBsdWdpbi5kb21FdmVudEhhbmRsZXJzLCBvYnNlcnZlcnMgPSBzcGVjICYmIHNwZWMucGx1Z2luLmRvbUV2ZW50T2JzZXJ2ZXJzO1xuICAgICAgICBpZiAoaGFuZGxlcnMpXG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGYgPSBoYW5kbGVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkKHR5cGUpLmhhbmRsZXJzLnB1c2goYmluZEhhbmRsZXIocGx1Z2luLnZhbHVlLCBmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChvYnNlcnZlcnMpXG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIG9ic2VydmVycykge1xuICAgICAgICAgICAgICAgIGxldCBmID0gb2JzZXJ2ZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgICAgICByZWNvcmQodHlwZSkub2JzZXJ2ZXJzLnB1c2goYmluZEhhbmRsZXIocGx1Z2luLnZhbHVlLCBmKSk7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IHR5cGUgaW4gaGFuZGxlcnMpXG4gICAgICAgIHJlY29yZCh0eXBlKS5oYW5kbGVycy5wdXNoKGhhbmRsZXJzW3R5cGVdKTtcbiAgICBmb3IgKGxldCB0eXBlIGluIG9ic2VydmVycylcbiAgICAgICAgcmVjb3JkKHR5cGUpLm9ic2VydmVycy5wdXNoKG9ic2VydmVyc1t0eXBlXSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IFBlbmRpbmdLZXlzID0gW1xuICAgIHsga2V5OiBcIkJhY2tzcGFjZVwiLCBrZXlDb2RlOiA4LCBpbnB1dFR5cGU6IFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIgfSxcbiAgICB7IGtleTogXCJFbnRlclwiLCBrZXlDb2RlOiAxMywgaW5wdXRUeXBlOiBcImluc2VydFBhcmFncmFwaFwiIH0sXG4gICAgeyBrZXk6IFwiRW50ZXJcIiwga2V5Q29kZTogMTMsIGlucHV0VHlwZTogXCJpbnNlcnRMaW5lQnJlYWtcIiB9LFxuICAgIHsga2V5OiBcIkRlbGV0ZVwiLCBrZXlDb2RlOiA0NiwgaW5wdXRUeXBlOiBcImRlbGV0ZUNvbnRlbnRGb3J3YXJkXCIgfVxuXTtcbmNvbnN0IEVtYWNzeVBlbmRpbmdLZXlzID0gXCJkdGhrb1wiO1xuLy8gS2V5IGNvZGVzIGZvciBtb2RpZmllciBrZXlzXG5jb25zdCBtb2RpZmllckNvZGVzID0gWzE2LCAxNywgMTgsIDIwLCA5MSwgOTIsIDIyNCwgMjI1XTtcbmNvbnN0IGRyYWdTY3JvbGxNYXJnaW4gPSA2O1xuZnVuY3Rpb24gZHJhZ1Njcm9sbFNwZWVkKGRpc3QpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgZGlzdCkgKiAwLjcgKyA4O1xufVxuZnVuY3Rpb24gZGlzdChhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKGEuY2xpZW50WCAtIGIuY2xpZW50WCksIE1hdGguYWJzKGEuY2xpZW50WSAtIGIuY2xpZW50WSkpO1xufVxuY2xhc3MgTW91c2VTZWxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXJ0RXZlbnQsIHN0eWxlLCBtdXN0U2VsZWN0KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc3RhcnRFdmVudCA9IHN0YXJ0RXZlbnQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5tdXN0U2VsZWN0ID0gbXVzdFNlbGVjdDtcbiAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICB0aGlzLnNjcm9sbGluZyA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RFdmVudCA9IHN0YXJ0RXZlbnQ7XG4gICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cyA9IHNjcm9sbGFibGVQYXJlbnRzKHZpZXcuY29udGVudERPTSk7XG4gICAgICAgIHRoaXMuYXRvbXMgPSB2aWV3LnN0YXRlLmZhY2V0KGF0b21pY1JhbmdlcykubWFwKGYgPT4gZih2aWV3KSk7XG4gICAgICAgIGxldCBkb2MgPSB2aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudDtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcykpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCA9IHRoaXMudXAuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZXh0ZW5kID0gc3RhcnRFdmVudC5zaGlmdEtleTtcbiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUuYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMpICYmIGFkZHNTZWxlY3Rpb25SYW5nZSh2aWV3LCBzdGFydEV2ZW50KTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGlzSW5QcmltYXJ5U2VsZWN0aW9uKHZpZXcsIHN0YXJ0RXZlbnQpICYmIGdldENsaWNrVHlwZShzdGFydEV2ZW50KSA9PSAxID8gbnVsbCA6IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydChldmVudCkge1xuICAgICAgICAvLyBXaGVuIGNsaWNraW5nIG91dHNpZGUgb2YgdGhlIHNlbGVjdGlvbiwgaW1tZWRpYXRlbHkgYXBwbHkgdGhlXG4gICAgICAgIC8vIGVmZmVjdCBvZiBzdGFydGluZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBmYWxzZSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KGV2ZW50KTtcbiAgICB9XG4gICAgbW92ZShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyB8fCB0aGlzLmRyYWdnaW5nID09IG51bGwgJiYgZGlzdCh0aGlzLnN0YXJ0RXZlbnQsIGV2ZW50KSA8IDEwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCA9IGV2ZW50KTtcbiAgICAgICAgbGV0IHN4ID0gMCwgc3kgPSAwO1xuICAgICAgICBsZXQgbGVmdCA9IDAsIHRvcCA9IDAsIHJpZ2h0ID0gdGhpcy52aWV3Lndpbi5pbm5lcldpZHRoLCBib3R0b20gPSB0aGlzLnZpZXcud2luLmlubmVySGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxQYXJlbnRzLngpXG4gICAgICAgICAgICAoeyBsZWZ0LCByaWdodCB9ID0gdGhpcy5zY3JvbGxQYXJlbnRzLnguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxQYXJlbnRzLnkpXG4gICAgICAgICAgICAoeyB0b3AsIGJvdHRvbSB9ID0gdGhpcy5zY3JvbGxQYXJlbnRzLnkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICBsZXQgbWFyZ2lucyA9IGdldFNjcm9sbE1hcmdpbnModGhpcy52aWV3KTtcbiAgICAgICAgaWYgKGV2ZW50LmNsaWVudFggLSBtYXJnaW5zLmxlZnQgPD0gbGVmdCArIGRyYWdTY3JvbGxNYXJnaW4pXG4gICAgICAgICAgICBzeCA9IC1kcmFnU2Nyb2xsU3BlZWQobGVmdCAtIGV2ZW50LmNsaWVudFgpO1xuICAgICAgICBlbHNlIGlmIChldmVudC5jbGllbnRYICsgbWFyZ2lucy5yaWdodCA+PSByaWdodCAtIGRyYWdTY3JvbGxNYXJnaW4pXG4gICAgICAgICAgICBzeCA9IGRyYWdTY3JvbGxTcGVlZChldmVudC5jbGllbnRYIC0gcmlnaHQpO1xuICAgICAgICBpZiAoZXZlbnQuY2xpZW50WSAtIG1hcmdpbnMudG9wIDw9IHRvcCArIGRyYWdTY3JvbGxNYXJnaW4pXG4gICAgICAgICAgICBzeSA9IC1kcmFnU2Nyb2xsU3BlZWQodG9wIC0gZXZlbnQuY2xpZW50WSk7XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmNsaWVudFkgKyBtYXJnaW5zLmJvdHRvbSA+PSBib3R0b20gLSBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3kgPSBkcmFnU2Nyb2xsU3BlZWQoZXZlbnQuY2xpZW50WSAtIGJvdHRvbSk7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQoc3gsIHN5KTtcbiAgICB9XG4gICAgdXAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQoMCwgMCk7XG4gICAgICAgIGxldCBkb2MgPSB0aGlzLnZpZXcuY29udGVudERPTS5vd25lckRvY3VtZW50O1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uID0gdGhpcy52aWV3LmlucHV0U3RhdGUuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xuICAgIH1cbiAgICBzZXRTY3JvbGxTcGVlZChzeCwgc3kpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxTcGVlZCA9IHsgeDogc3gsIHk6IHN5IH07XG4gICAgICAgIGlmIChzeCB8fCBzeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsaW5nIDwgMClcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGluZyA9IHNldEludGVydmFsKCgpID0+IHRoaXMuc2Nyb2xsKCksIDUwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjcm9sbGluZyA+IC0xKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc2Nyb2xsaW5nKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2Nyb2xsKCkge1xuICAgICAgICBsZXQgeyB4LCB5IH0gPSB0aGlzLnNjcm9sbFNwZWVkO1xuICAgICAgICBpZiAoeCAmJiB0aGlzLnNjcm9sbFBhcmVudHMueCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnRzLnguc2Nyb2xsTGVmdCArPSB4O1xuICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgJiYgdGhpcy5zY3JvbGxQYXJlbnRzLnkpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cy55LnNjcm9sbFRvcCArPSB5O1xuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggfHwgeSlcbiAgICAgICAgICAgIHRoaXMudmlldy53aW4uc2Nyb2xsQnkoeCwgeSk7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBmYWxzZSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KTtcbiAgICB9XG4gICAgc2tpcEF0b21zKHNlbCkge1xuICAgICAgICBsZXQgcmFuZ2VzID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldLCB1cGRhdGVkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLmZyb20sIDApO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgIT0gcmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHNraXBBdG9taWNSYW5nZXModGhpcy5hdG9tcywgcmFuZ2UuZnJvbSwgLTEpO1xuICAgICAgICAgICAgICAgIGxldCB0byA9IHNraXBBdG9taWNSYW5nZXModGhpcy5hdG9tcywgcmFuZ2UudG8sIDEpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tICE9IHJhbmdlLmZyb20gfHwgdG8gIT0gcmFuZ2UudG8pXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuZnJvbSA9PSByYW5nZS5hbmNob3IgPyBmcm9tIDogdG8sIHJhbmdlLmZyb20gPT0gcmFuZ2UuaGVhZCA/IGZyb20gOiB0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXBkYXRlZCkge1xuICAgICAgICAgICAgICAgIGlmICghcmFuZ2VzKVxuICAgICAgICAgICAgICAgICAgICByYW5nZXMgPSBzZWwucmFuZ2VzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldID0gdXBkYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2VzID8gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMsIHNlbC5tYWluSW5kZXgpIDogc2VsO1xuICAgIH1cbiAgICBzZWxlY3QoZXZlbnQpIHtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgc2VsZWN0aW9uID0gdGhpcy5za2lwQXRvbXModGhpcy5zdHlsZS5nZXQoZXZlbnQsIHRoaXMuZXh0ZW5kLCB0aGlzLm11bHRpcGxlKSk7XG4gICAgICAgIGlmICh0aGlzLm11c3RTZWxlY3QgfHwgIXNlbGVjdGlvbi5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbiwgdGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlckV2ZW50OiBcInNlbGVjdC5wb2ludGVyXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLm11c3RTZWxlY3QgPSBmYWxzZTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKSkpXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdHlsZS51cGRhdGUodXBkYXRlKSlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZWxlY3QodGhpcy5sYXN0RXZlbnQpLCAyMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkc1NlbGVjdGlvblJhbmdlKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IGZhY2V0ID0gdmlldy5zdGF0ZS5mYWNldChjbGlja0FkZHNTZWxlY3Rpb25SYW5nZSk7XG4gICAgcmV0dXJuIGZhY2V0Lmxlbmd0aCA/IGZhY2V0WzBdKGV2ZW50KSA6IGJyb3dzZXIubWFjID8gZXZlbnQubWV0YUtleSA6IGV2ZW50LmN0cmxLZXk7XG59XG5mdW5jdGlvbiBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgZmFjZXQgPSB2aWV3LnN0YXRlLmZhY2V0KGRyYWdNb3Zlc1NlbGVjdGlvbiQxKTtcbiAgICByZXR1cm4gZmFjZXQubGVuZ3RoID8gZmFjZXRbMF0oZXZlbnQpIDogYnJvd3Nlci5tYWMgPyAhZXZlbnQuYWx0S2V5IDogIWV2ZW50LmN0cmxLZXk7XG59XG5mdW5jdGlvbiBpc0luUHJpbWFyeVNlbGVjdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCB7IG1haW4gfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChtYWluLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gT24gYm91bmRhcnkgY2xpY2tzLCBjaGVjayB3aGV0aGVyIHRoZSBjb29yZGluYXRlcyBhcmUgaW5zaWRlIHRoZVxuICAgIC8vIHNlbGVjdGlvbidzIGNsaWVudCByZWN0YW5nbGVzXG4gICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgIGlmICghc2VsIHx8IHNlbC5yYW5nZUNvdW50ID09IDApXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCByZWN0cyA9IHNlbC5nZXRSYW5nZUF0KDApLmdldENsaWVudFJlY3RzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICBpZiAocmVjdC5sZWZ0IDw9IGV2ZW50LmNsaWVudFggJiYgcmVjdC5yaWdodCA+PSBldmVudC5jbGllbnRYICYmXG4gICAgICAgICAgICByZWN0LnRvcCA8PSBldmVudC5jbGllbnRZICYmIHJlY3QuYm90dG9tID49IGV2ZW50LmNsaWVudFkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZXZlbnRCZWxvbmdzVG9FZGl0b3IodmlldywgZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmJ1YmJsZXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgbm9kZSA9IGV2ZW50LnRhcmdldCwgY1ZpZXc7IG5vZGUgIT0gdmlldy5jb250ZW50RE9NOyBub2RlID0gbm9kZS5wYXJlbnROb2RlKVxuICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSB8fCAoKGNWaWV3ID0gQ29udGVudFZpZXcuZ2V0KG5vZGUpKSAmJiBjVmlldy5pZ25vcmVFdmVudChldmVudCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuY29uc3QgaGFuZGxlcnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IG9ic2VydmVycyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuLy8gVGhpcyBpcyB2ZXJ5IGNydWRlLCBidXQgdW5mb3J0dW5hdGVseSBib3RoIHRoZXNlIGJyb3dzZXJzIF9wcmV0ZW5kX1xuLy8gdGhhdCB0aGV5IGhhdmUgYSBjbGlwYm9hcmQgQVBJXHUyMDE0YWxsIHRoZSBvYmplY3RzIGFuZCBtZXRob2RzIGFyZVxuLy8gdGhlcmUsIHRoZXkganVzdCBkb24ndCB3b3JrLCBhbmQgdGhleSBhcmUgaGFyZCB0byB0ZXN0LlxuY29uc3QgYnJva2VuQ2xpcGJvYXJkQVBJID0gKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDwgMTUpIHx8XG4gICAgKGJyb3dzZXIuaW9zICYmIGJyb3dzZXIud2Via2l0X3ZlcnNpb24gPCA2MDQpO1xuZnVuY3Rpb24gY2FwdHVyZVBhc3RlKHZpZXcpIHtcbiAgICBsZXQgcGFyZW50ID0gdmlldy5kb20ucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCB0YXJnZXQgPSBwYXJlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpKTtcbiAgICB0YXJnZXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICBkb1Bhc3RlKHZpZXcsIHRhcmdldC52YWx1ZSk7XG4gICAgfSwgNTApO1xufVxuZnVuY3Rpb24gdGV4dEZpbHRlcihzdGF0ZSwgZmFjZXQsIHRleHQpIHtcbiAgICBmb3IgKGxldCBmaWx0ZXIgb2Ygc3RhdGUuZmFjZXQoZmFjZXQpKVxuICAgICAgICB0ZXh0ID0gZmlsdGVyKHRleHQsIHN0YXRlKTtcbiAgICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIGRvUGFzdGUodmlldywgaW5wdXQpIHtcbiAgICBpbnB1dCA9IHRleHRGaWx0ZXIodmlldy5zdGF0ZSwgY2xpcGJvYXJkSW5wdXRGaWx0ZXIsIGlucHV0KTtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY2hhbmdlcywgaSA9IDEsIHRleHQgPSBzdGF0ZS50b1RleHQoaW5wdXQpO1xuICAgIGxldCBieUxpbmUgPSB0ZXh0LmxpbmVzID09IHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMubGVuZ3RoO1xuICAgIGxldCBsaW5ld2lzZSA9IGxhc3RMaW5ld2lzZUNvcHkgIT0gbnVsbCAmJiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmV2ZXJ5KHIgPT4gci5lbXB0eSkgJiYgbGFzdExpbmV3aXNlQ29weSA9PSB0ZXh0LnRvU3RyaW5nKCk7XG4gICAgaWYgKGxpbmV3aXNlKSB7XG4gICAgICAgIGxldCBsYXN0TGluZSA9IC0xO1xuICAgICAgICBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UuZnJvbSk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID09IGxhc3RMaW5lKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgICAgICAgICBsYXN0TGluZSA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgIGxldCBpbnNlcnQgPSBzdGF0ZS50b1RleHQoKGJ5TGluZSA/IHRleHQubGluZShpKyspLnRleHQgOiBpbnB1dCkgKyBzdGF0ZS5saW5lQnJlYWspO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiBsaW5lLmZyb20sIGluc2VydCB9LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20gKyBpbnNlcnQubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYnlMaW5lKSB7XG4gICAgICAgIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gdGV4dC5saW5lKGkrKyk7XG4gICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmZyb20sIHRvOiByYW5nZS50bywgaW5zZXJ0OiBsaW5lLnRleHQgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgbGluZS5sZW5ndGgpIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hhbmdlcyA9IHN0YXRlLnJlcGxhY2VTZWxlY3Rpb24odGV4dCk7XG4gICAgfVxuICAgIHZpZXcuZGlzcGF0Y2goY2hhbmdlcywge1xuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQucGFzdGVcIixcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICB9KTtcbn1cbm9ic2VydmVycy5zY3JvbGwgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbFRvcCA9IHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcDtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbExlZnQgPSB2aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0O1xufTtcbmhhbmRsZXJzLmtleWRvd24gPSAodmlldywgZXZlbnQpID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUuc2V0U2VsZWN0aW9uT3JpZ2luKFwic2VsZWN0XCIpO1xuICAgIGlmIChldmVudC5rZXlDb2RlID09IDI3ICYmIHZpZXcuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgIT0gMClcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA9IERhdGUubm93KCkgKyAyMDAwO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5vYnNlcnZlcnMudG91Y2hzdGFydCA9ICh2aWV3LCBlKSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RUb3VjaFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5zZXRTZWxlY3Rpb25PcmlnaW4oXCJzZWxlY3QucG9pbnRlclwiKTtcbn07XG5vYnNlcnZlcnMudG91Y2htb3ZlID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdC5wb2ludGVyXCIpO1xufTtcbmhhbmRsZXJzLm1vdXNlZG93biA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2goKTtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmxhc3RUb3VjaFRpbWUgPiBEYXRlLm5vdygpIC0gMjAwMClcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBJZ25vcmUgdG91Y2ggaW50ZXJhY3Rpb25cbiAgICBsZXQgc3R5bGUgPSBudWxsO1xuICAgIGZvciAobGV0IG1ha2VTdHlsZSBvZiB2aWV3LnN0YXRlLmZhY2V0KG1vdXNlU2VsZWN0aW9uU3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gbWFrZVN0eWxlKHZpZXcsIGV2ZW50KTtcbiAgICAgICAgaWYgKHN0eWxlKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICghc3R5bGUgJiYgZXZlbnQuYnV0dG9uID09IDApXG4gICAgICAgIHN0eWxlID0gYmFzaWNNb3VzZVNlbGVjdGlvbih2aWV3LCBldmVudCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIGxldCBtdXN0Rm9jdXMgPSAhdmlldy5oYXNGb2N1cztcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLnN0YXJ0TW91c2VTZWxlY3Rpb24obmV3IE1vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50LCBzdHlsZSwgbXVzdEZvY3VzKSk7XG4gICAgICAgIGlmIChtdXN0Rm9jdXMpXG4gICAgICAgICAgICB2aWV3Lm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9jdXNQcmV2ZW50U2Nyb2xsKHZpZXcuY29udGVudERPTSk7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGl2ZSA9IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5jb250YWlucyh2aWV3LmNvbnRlbnRET00pKVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmUuYmx1cigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBtb3VzZVNlbCA9IHZpZXcuaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbjtcbiAgICAgICAgaWYgKG1vdXNlU2VsKSB7XG4gICAgICAgICAgICBtb3VzZVNlbC5zdGFydChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gbW91c2VTZWwuZHJhZ2dpbmcgPT09IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5mdW5jdGlvbiByYW5nZUZvckNsaWNrKHZpZXcsIHBvcywgYmlhcywgdHlwZSkge1xuICAgIGlmICh0eXBlID09IDEpIHsgLy8gU2luZ2xlIGNsaWNrXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgYmlhcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT0gMikgeyAvLyBEb3VibGUgY2xpY2tcbiAgICAgICAgcmV0dXJuIGdyb3VwQXQodmlldy5zdGF0ZSwgcG9zLCBiaWFzKTtcbiAgICB9XG4gICAgZWxzZSB7IC8vIFRyaXBsZSBjbGlja1xuICAgICAgICBsZXQgdmlzdWFsID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIHBvcyksIGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQodmlzdWFsID8gdmlzdWFsLnBvc0F0RW5kIDogcG9zKTtcbiAgICAgICAgbGV0IGZyb20gPSB2aXN1YWwgPyB2aXN1YWwucG9zQXRTdGFydCA6IGxpbmUuZnJvbSwgdG8gPSB2aXN1YWwgPyB2aXN1YWwucG9zQXRFbmQgOiBsaW5lLnRvO1xuICAgICAgICBpZiAodG8gPCB2aWV3LnN0YXRlLmRvYy5sZW5ndGggJiYgdG8gPT0gbGluZS50bylcbiAgICAgICAgICAgIHRvKys7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgdG8pO1xuICAgIH1cbn1cbmxldCBpbnNpZGUgPSAoeCwgeSwgcmVjdCkgPT4geSA+PSByZWN0LnRvcCAmJiB5IDw9IHJlY3QuYm90dG9tICYmIHggPj0gcmVjdC5sZWZ0ICYmIHggPD0gcmVjdC5yaWdodDtcbi8vIFRyeSB0byBkZXRlcm1pbmUsIGZvciB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbi8vIGdpdmVuIHBvc2l0aW9uLCB3aGV0aGVyIHRoZXkgYXJlIHJlbGF0ZWQgdG8gdGhlIGVsZW1lbnQgYmVmb3JlIG9yXG4vLyB0aGUgZWxlbWVudCBhZnRlciB0aGUgcG9zaXRpb24uXG5mdW5jdGlvbiBmaW5kUG9zaXRpb25TaWRlKHZpZXcsIHBvcywgeCwgeSkge1xuICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIHBvcyk7XG4gICAgaWYgKCFsaW5lKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBsZXQgb2ZmID0gcG9zIC0gbGluZS5wb3NBdFN0YXJ0O1xuICAgIC8vIExpbmUgYm91bmRhcmllcyBwb2ludCBpbnRvIHRoZSBsaW5lXG4gICAgaWYgKG9mZiA9PSAwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAob2ZmID09IGxpbmUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgLy8gUG9zaXRpb25zIG9uIHRvcCBvZiBhbiBlbGVtZW50IHBvaW50IGF0IHRoYXQgZWxlbWVudFxuICAgIGxldCBiZWZvcmUgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgLTEpO1xuICAgIGlmIChiZWZvcmUgJiYgaW5zaWRlKHgsIHksIGJlZm9yZSkpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBsZXQgYWZ0ZXIgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgMSk7XG4gICAgaWYgKGFmdGVyICYmIGluc2lkZSh4LCB5LCBhZnRlcikpXG4gICAgICAgIHJldHVybiAxO1xuICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYSBsaW5lIHdyYXAgcG9pbnQuIFBpY2sgYmVmb3JlIGlmIHRoZSBwb2ludCBpc1xuICAgIC8vIGFib3ZlIGl0cyBib3R0b20uXG4gICAgcmV0dXJuIGJlZm9yZSAmJiBiZWZvcmUuYm90dG9tID49IHkgPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBxdWVyeVBvcyh2aWV3LCBldmVudCkge1xuICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBmYWxzZSk7XG4gICAgcmV0dXJuIHsgcG9zLCBiaWFzOiBmaW5kUG9zaXRpb25TaWRlKHZpZXcsIHBvcywgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSkgfTtcbn1cbmNvbnN0IEJhZE1vdXNlRGV0YWlsID0gYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTE7XG5sZXQgbGFzdE1vdXNlRG93biA9IG51bGwsIGxhc3RNb3VzZURvd25Db3VudCA9IDAsIGxhc3RNb3VzZURvd25UaW1lID0gMDtcbmZ1bmN0aW9uIGdldENsaWNrVHlwZShldmVudCkge1xuICAgIGlmICghQmFkTW91c2VEZXRhaWwpXG4gICAgICAgIHJldHVybiBldmVudC5kZXRhaWw7XG4gICAgbGV0IGxhc3QgPSBsYXN0TW91c2VEb3duLCBsYXN0VGltZSA9IGxhc3RNb3VzZURvd25UaW1lO1xuICAgIGxhc3RNb3VzZURvd24gPSBldmVudDtcbiAgICBsYXN0TW91c2VEb3duVGltZSA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIGxhc3RNb3VzZURvd25Db3VudCA9ICFsYXN0IHx8IChsYXN0VGltZSA+IERhdGUubm93KCkgLSA0MDAgJiYgTWF0aC5hYnMobGFzdC5jbGllbnRYIC0gZXZlbnQuY2xpZW50WCkgPCAyICYmXG4gICAgICAgIE1hdGguYWJzKGxhc3QuY2xpZW50WSAtIGV2ZW50LmNsaWVudFkpIDwgMikgPyAobGFzdE1vdXNlRG93bkNvdW50ICsgMSkgJSAzIDogMTtcbn1cbmZ1bmN0aW9uIGJhc2ljTW91c2VTZWxlY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSBxdWVyeVBvcyh2aWV3LCBldmVudCksIHR5cGUgPSBnZXRDbGlja1R5cGUoZXZlbnQpO1xuICAgIGxldCBzdGFydFNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0LnBvcyA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyhzdGFydC5wb3MpO1xuICAgICAgICAgICAgICAgIHN0YXJ0U2VsID0gc3RhcnRTZWwubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KGV2ZW50LCBleHRlbmQsIG11bHRpcGxlKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gcXVlcnlQb3ModmlldywgZXZlbnQpLCByZW1vdmVkO1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gcmFuZ2VGb3JDbGljayh2aWV3LCBjdXIucG9zLCBjdXIuYmlhcywgdHlwZSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQucG9zICE9IGN1ci5wb3MgJiYgIWV4dGVuZCkge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydFJhbmdlID0gcmFuZ2VGb3JDbGljayh2aWV3LCBzdGFydC5wb3MsIHN0YXJ0LmJpYXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gTWF0aC5taW4oc3RhcnRSYW5nZS5mcm9tLCByYW5nZS5mcm9tKSwgdG8gPSBNYXRoLm1heChzdGFydFJhbmdlLnRvLCByYW5nZS50byk7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBmcm9tIDwgcmFuZ2UuZnJvbSA/IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0bykgOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UodG8sIGZyb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4dGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRTZWwucmVwbGFjZVJhbmdlKHN0YXJ0U2VsLm1haW4uZXh0ZW5kKHJhbmdlLmZyb20sIHJhbmdlLnRvKSk7XG4gICAgICAgICAgICBlbHNlIGlmIChtdWx0aXBsZSAmJiB0eXBlID09IDEgJiYgc3RhcnRTZWwucmFuZ2VzLmxlbmd0aCA+IDEgJiYgKHJlbW92ZWQgPSByZW1vdmVSYW5nZUFyb3VuZChzdGFydFNlbCwgY3VyLnBvcykpKVxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICAgICAgZWxzZSBpZiAobXVsdGlwbGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbcmFuZ2VdKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiByZW1vdmVSYW5nZUFyb3VuZChzZWwsIHBvcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgICAgaWYgKGZyb20gPD0gcG9zICYmIHRvID49IHBvcylcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHNlbC5yYW5nZXMuc2xpY2UoMCwgaSkuY29uY2F0KHNlbC5yYW5nZXMuc2xpY2UoaSArIDEpKSwgc2VsLm1haW5JbmRleCA9PSBpID8gMCA6IHNlbC5tYWluSW5kZXggLSAoc2VsLm1haW5JbmRleCA+IGkgPyAxIDogMCkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmhhbmRsZXJzLmRyYWdzdGFydCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGxldCB7IHNlbGVjdGlvbjogeyBtYWluOiByYW5nZSB9IH0gPSB2aWV3LnN0YXRlO1xuICAgIGlmIChldmVudC50YXJnZXQuZHJhZ2dhYmxlKSB7XG4gICAgICAgIGxldCBjVmlldyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0KGV2ZW50LnRhcmdldCk7XG4gICAgICAgIGlmIChjVmlldyAmJiBjVmlldy5pc1dpZGdldCkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBjVmlldy5wb3NBdFN0YXJ0LCB0byA9IGZyb20gKyBjVmlldy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZnJvbSA+PSByYW5nZS50byB8fCB0byA8PSByYW5nZS5mcm9tKVxuICAgICAgICAgICAgICAgIHJhbmdlID0gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgeyBpbnB1dFN0YXRlIH0gPSB2aWV3O1xuICAgIGlmIChpbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICBpbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICBpbnB1dFN0YXRlLmRyYWdnZWRDb250ZW50ID0gcmFuZ2U7XG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgdGV4dEZpbHRlcih2aWV3LnN0YXRlLCBjbGlwYm9hcmRPdXRwdXRGaWx0ZXIsIHZpZXcuc3RhdGUuc2xpY2VEb2MocmFuZ2UuZnJvbSwgcmFuZ2UudG8pKSk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJjb3B5TW92ZVwiO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuaGFuZGxlcnMuZHJhZ2VuZCA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5kcmFnZ2VkQ29udGVudCA9IG51bGw7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmZ1bmN0aW9uIGRyb3BUZXh0KHZpZXcsIGV2ZW50LCB0ZXh0LCBkaXJlY3QpIHtcbiAgICB0ZXh0ID0gdGV4dEZpbHRlcih2aWV3LnN0YXRlLCBjbGlwYm9hcmRJbnB1dEZpbHRlciwgdGV4dCk7XG4gICAgaWYgKCF0ZXh0KVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGRyb3BQb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBmYWxzZSk7XG4gICAgbGV0IHsgZHJhZ2dlZENvbnRlbnQgfSA9IHZpZXcuaW5wdXRTdGF0ZTtcbiAgICBsZXQgZGVsID0gZGlyZWN0ICYmIGRyYWdnZWRDb250ZW50ICYmIGRyYWdNb3Zlc1NlbGVjdGlvbih2aWV3LCBldmVudClcbiAgICAgICAgPyB7IGZyb206IGRyYWdnZWRDb250ZW50LmZyb20sIHRvOiBkcmFnZ2VkQ29udGVudC50byB9IDogbnVsbDtcbiAgICBsZXQgaW5zID0geyBmcm9tOiBkcm9wUG9zLCBpbnNlcnQ6IHRleHQgfTtcbiAgICBsZXQgY2hhbmdlcyA9IHZpZXcuc3RhdGUuY2hhbmdlcyhkZWwgPyBbZGVsLCBpbnNdIDogaW5zKTtcbiAgICB2aWV3LmZvY3VzKCk7XG4gICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgIGNoYW5nZXMsXG4gICAgICAgIHNlbGVjdGlvbjogeyBhbmNob3I6IGNoYW5nZXMubWFwUG9zKGRyb3BQb3MsIC0xKSwgaGVhZDogY2hhbmdlcy5tYXBQb3MoZHJvcFBvcywgMSkgfSxcbiAgICAgICAgdXNlckV2ZW50OiBkZWwgPyBcIm1vdmUuZHJvcFwiIDogXCJpbnB1dC5kcm9wXCJcbiAgICB9KTtcbiAgICB2aWV3LmlucHV0U3RhdGUuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xufVxuaGFuZGxlcnMuZHJvcCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGlmICghZXZlbnQuZGF0YVRyYW5zZmVyKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCBmaWxlcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoKSB7IC8vIEZvciBhIGZpbGUgZHJvcCwgcmVhZCB0aGUgZmlsZSdzIHRleHQuXG4gICAgICAgIGxldCB0ZXh0ID0gQXJyYXkoZmlsZXMubGVuZ3RoKSwgcmVhZCA9IDA7XG4gICAgICAgIGxldCBmaW5pc2hGaWxlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCsrcmVhZCA9PSBmaWxlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZHJvcFRleHQodmlldywgZXZlbnQsIHRleHQuZmlsdGVyKHMgPT4gcyAhPSBudWxsKS5qb2luKHZpZXcuc3RhdGUubGluZUJyZWFrKSwgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXI7XG4gICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZpbmlzaEZpbGU7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdChyZWFkZXIucmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGV4dFtpXSA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgZmluaXNoRmlsZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0ZXh0ID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgZHJvcFRleHQodmlldywgZXZlbnQsIHRleHQsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmhhbmRsZXJzLnBhc3RlID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgaWYgKHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2goKTtcbiAgICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBldmVudC5jbGlwYm9hcmREYXRhO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRvUGFzdGUodmlldywgZGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSB8fCBkYXRhLmdldERhdGEoXCJ0ZXh0L3VyaS1saXN0XCIpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYXB0dXJlUGFzdGUodmlldyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY2FwdHVyZUNvcHkodmlldywgdGV4dCkge1xuICAgIC8vIFRoZSBleHRyYSB3cmFwcGVyIGlzIHNvbWVob3cgbmVjZXNzYXJ5IG9uIElFL0VkZ2UgdG8gcHJldmVudCB0aGVcbiAgICAvLyBjb250ZW50IGZyb20gYmVpbmcgbWFuZ2xlZCB3aGVuIGl0IGlzIHB1dCBvbnRvIHRoZSBjbGlwYm9hcmRcbiAgICBsZXQgcGFyZW50ID0gdmlldy5kb20ucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCB0YXJnZXQgPSBwYXJlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpKTtcbiAgICB0YXJnZXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gICAgdGFyZ2V0LnZhbHVlID0gdGV4dDtcbiAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICB0YXJnZXQuc2VsZWN0aW9uRW5kID0gdGV4dC5sZW5ndGg7XG4gICAgdGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgfSwgNTApO1xufVxuZnVuY3Rpb24gY29waWVkUmFuZ2Uoc3RhdGUpIHtcbiAgICBsZXQgY29udGVudCA9IFtdLCByYW5nZXMgPSBbXSwgbGluZXdpc2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKVxuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KSB7XG4gICAgICAgICAgICBjb250ZW50LnB1c2goc3RhdGUuc2xpY2VEb2MocmFuZ2UuZnJvbSwgcmFuZ2UudG8pKTtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgfVxuICAgIGlmICghY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgLy8gTm90aGluZyBzZWxlY3RlZCwgZG8gYSBsaW5lLXdpc2UgY29weVxuICAgICAgICBsZXQgdXB0byA9IC0xO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20gfSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZnJvbSk7XG4gICAgICAgICAgICBpZiAobGluZS5udW1iZXIgPiB1cHRvKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKGxpbmUudGV4dCk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCBsaW5lLnRvICsgMSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cHRvID0gbGluZS5udW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGluZXdpc2UgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4geyB0ZXh0OiB0ZXh0RmlsdGVyKHN0YXRlLCBjbGlwYm9hcmRPdXRwdXRGaWx0ZXIsIGNvbnRlbnQuam9pbihzdGF0ZS5saW5lQnJlYWspKSwgcmFuZ2VzLCBsaW5ld2lzZSB9O1xufVxubGV0IGxhc3RMaW5ld2lzZUNvcHkgPSBudWxsO1xuaGFuZGxlcnMuY29weSA9IGhhbmRsZXJzLmN1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGxldCB7IHRleHQsIHJhbmdlcywgbGluZXdpc2UgfSA9IGNvcGllZFJhbmdlKHZpZXcuc3RhdGUpO1xuICAgIGlmICghdGV4dCAmJiAhbGluZXdpc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsYXN0TGluZXdpc2VDb3B5ID0gbGluZXdpc2UgPyB0ZXh0IDogbnVsbDtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImN1dFwiICYmICF2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgIGNoYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICAgICAgdXNlckV2ZW50OiBcImRlbGV0ZS5jdXRcIlxuICAgICAgICB9KTtcbiAgICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBldmVudC5jbGlwYm9hcmREYXRhO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEuY2xlYXJEYXRhKCk7XG4gICAgICAgIGRhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FwdHVyZUNvcHkodmlldywgdGV4dCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuY29uc3QgaXNGb2N1c0NoYW5nZSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuZnVuY3Rpb24gZm9jdXNDaGFuZ2VUcmFuc2FjdGlvbihzdGF0ZSwgZm9jdXMpIHtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IGdldEVmZmVjdCBvZiBzdGF0ZS5mYWNldChmb2N1c0NoYW5nZUVmZmVjdCkpIHtcbiAgICAgICAgbGV0IGVmZmVjdCA9IGdldEVmZmVjdChzdGF0ZSwgZm9jdXMpO1xuICAgICAgICBpZiAoZWZmZWN0KVxuICAgICAgICAgICAgZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxuICAgIHJldHVybiBlZmZlY3RzLmxlbmd0aCA/IHN0YXRlLnVwZGF0ZSh7IGVmZmVjdHMsIGFubm90YXRpb25zOiBpc0ZvY3VzQ2hhbmdlLm9mKHRydWUpIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUZvckZvY3VzQ2hhbmdlKHZpZXcpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0IGZvY3VzID0gdmlldy5oYXNGb2N1cztcbiAgICAgICAgaWYgKGZvY3VzICE9IHZpZXcuaW5wdXRTdGF0ZS5ub3RpZmllZEZvY3VzZWQpIHtcbiAgICAgICAgICAgIGxldCB0ciA9IGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24odmlldy5zdGF0ZSwgZm9jdXMpO1xuICAgICAgICAgICAgaWYgKHRyKVxuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgfVxuICAgIH0sIDEwKTtcbn1cbm9ic2VydmVycy5mb2N1cyA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0Rm9jdXNUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAvLyBXaGVuIGZvY3VzaW5nIHJlc2V0IHRoZSBzY3JvbGwgcG9zaXRpb24sIG1vdmUgaXQgYmFjayB0byB3aGVyZSBpdCB3YXNcbiAgICBpZiAoIXZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAmJiAodmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3AgfHwgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0KSkge1xuICAgICAgICB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgPSB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbFRvcDtcbiAgICAgICAgdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldyk7XG59O1xub2JzZXJ2ZXJzLmJsdXIgPSB2aWV3ID0+IHtcbiAgICB2aWV3Lm9ic2VydmVyLmNsZWFyU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICB1cGRhdGVGb3JGb2N1c0NoYW5nZSh2aWV3KTtcbn07XG5vYnNlcnZlcnMuY29tcG9zaXRpb25zdGFydCA9IG9ic2VydmVycy5jb21wb3NpdGlvbnVwZGF0ZSA9IHZpZXcgPT4ge1xuICAgIGlmICh2aWV3Lm9ic2VydmVyLmVkaXRDb250ZXh0KVxuICAgICAgICByZXR1cm47IC8vIENvbXBvc2l0aW9uIGhhbmRsZWQgYnkgZWRpdCBjb250ZXh0XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID09IG51bGwpXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gdHJ1ZTtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgLy8gRklYTUUgcG9zc2libHkgc2V0IGEgdGltZW91dCB0byBjbGVhciBpdCBhZ2FpbiBvbiBBbmRyb2lkXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAwO1xuICAgIH1cbn07XG5vYnNlcnZlcnMuY29tcG9zaXRpb25lbmQgPSB2aWV3ID0+IHtcbiAgICBpZiAodmlldy5vYnNlcnZlci5lZGl0Q29udGV4dClcbiAgICAgICAgcmV0dXJuOyAvLyBDb21wb3NpdGlvbiBoYW5kbGVkIGJ5IGVkaXQgY29udGV4dFxuICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25FbmRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nS2V5ID0gdHJ1ZTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlID0gdmlldy5vYnNlcnZlci5wZW5kaW5nUmVjb3JkcygpLmxlbmd0aCA+IDA7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBudWxsO1xuICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgLy8gRGVsYXkgZmx1c2hpbmcgZm9yIGEgYml0IG9uIEFuZHJvaWQgYmVjYXVzZSBpdCdsbCBvZnRlbiBmaXJlIGFcbiAgICAgICAgLy8gYnVuY2ggb2YgY29udHJhZGljdG9yeSBjaGFuZ2VzIGluIGEgcm93IGF0IGVuZCBvZiBjb21wb3NpdG9uXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UpIHtcbiAgICAgICAgLy8gSWYgd2UgZm91bmQgcGVuZGluZyByZWNvcmRzLCBzY2hlZHVsZSBhIGZsdXNoLlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHZpZXcub2JzZXJ2ZXIuZmx1c2goKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1ha2Ugc3VyZSB0aGF0LCBpZiBubyBjaGFuZ2VzIGNvbWUgaW4gc29vbiwgdGhlXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uIHZpZXcgaXMgY2xlYXJlZC5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDAgJiYgdmlldy5kb2NWaWV3Lmhhc0NvbXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cbn07XG5vYnNlcnZlcnMuY29udGV4dG1lbnUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdENvbnRleHRNZW51ID0gRGF0ZS5ub3coKTtcbn07XG5oYW5kbGVycy5iZWZvcmVpbnB1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgLy8gSW4gRWRpdENvbnRleHQgbW9kZSwgd2UgbXVzdCBoYW5kbGUgaW5zZXJ0UmVwbGFjZW1lbnRUZXh0IGV2ZW50c1xuICAgIC8vIGRpcmVjdGx5LCB0byBtYWtlIHNwZWxsIGNoZWNraW5nIGNvcnJlY3Rpb25zIHdvcmtcbiAgICBpZiAoZXZlbnQuaW5wdXRUeXBlID09IFwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCIgJiYgdmlldy5vYnNlcnZlci5lZGl0Q29udGV4dCkge1xuICAgICAgICBsZXQgdGV4dCA9IChfYSA9IGV2ZW50LmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLCByYW5nZXMgPSBldmVudC5nZXRUYXJnZXRSYW5nZXMoKTtcbiAgICAgICAgaWYgKHRleHQgJiYgcmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHIgPSByYW5nZXNbMF07XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHZpZXcucG9zQXRET00oci5zdGFydENvbnRhaW5lciwgci5zdGFydE9mZnNldCksIHRvID0gdmlldy5wb3NBdERPTShyLmVuZENvbnRhaW5lciwgci5lbmRPZmZzZXQpO1xuICAgICAgICAgICAgYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCB7IGZyb20sIHRvLCBpbnNlcnQ6IHZpZXcuc3RhdGUudG9UZXh0KHRleHQpIH0sIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmVjYXVzZSBDaHJvbWUgQW5kcm9pZCBkb2Vzbid0IGZpcmUgdXNlZnVsIGtleSBldmVudHMsIHVzZVxuICAgIC8vIGJlZm9yZWlucHV0IHRvIGRldGVjdCBiYWNrc3BhY2UgKGFuZCBwb3NzaWJseSBlbnRlciBhbmQgZGVsZXRlLFxuICAgIC8vIGJ1dCB0aG9zZSB1c3VhbGx5IGRvbid0IGV2ZW4gc2VlbSB0byBmaXJlIGJlZm9yZWlucHV0IGV2ZW50cyBhdFxuICAgIC8vIHRoZSBtb21lbnQpIGFuZCBmYWtlIGEga2V5IGV2ZW50IGZvciBpdC5cbiAgICAvL1xuICAgIC8vIChwcmV2ZW50RGVmYXVsdCBvbiBiZWZvcmVpbnB1dCwgdGhvdWdoIHN1cHBvcnRlZCBpbiB0aGUgc3BlYyxcbiAgICAvLyBzZWVtcyB0byBkbyBub3RoaW5nIGF0IGFsbCBvbiBDaHJvbWUpLlxuICAgIGxldCBwZW5kaW5nO1xuICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQgJiYgKHBlbmRpbmcgPSBQZW5kaW5nS2V5cy5maW5kKGtleSA9PiBrZXkuaW5wdXRUeXBlID09IGV2ZW50LmlucHV0VHlwZSkpKSB7XG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZGVsYXlBbmRyb2lkS2V5KHBlbmRpbmcua2V5LCBwZW5kaW5nLmtleUNvZGUpO1xuICAgICAgICBpZiAocGVuZGluZy5rZXkgPT0gXCJCYWNrc3BhY2VcIiB8fCBwZW5kaW5nLmtleSA9PSBcIkRlbGV0ZVwiKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnRWaWV3SGVpZ2h0ID0gKChfYiA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhlaWdodCkgfHwgMDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAvLyBCYWNrc3BhY2luZyBuZWFyIHVuZWRpdGFibGUgbm9kZXMgb24gQ2hyb21lIEFuZHJvaWQgc29tZXRpbWVzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2VzIHRoZSB2aXJ0dWFsIGtleWJvYXJkLiBUaGlzIHRyaWVzIHRvIGNydWRlbHkgZGV0ZWN0XG4gICAgICAgICAgICAgICAgLy8gdGhhdCBhbmQgcmVmb2N1cyB0byBnZXQgaXQgYmFjay5cbiAgICAgICAgICAgICAgICBpZiAoKCgoX2EgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWlnaHQpIHx8IDApID4gc3RhcnRWaWV3SGVpZ2h0ICsgMTAgJiYgdmlldy5oYXNGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYnJvd3Nlci5pb3MgJiYgZXZlbnQuaW5wdXRUeXBlID09IFwiZGVsZXRlQ29udGVudEZvcndhcmRcIikge1xuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24sIERPTSBjaGFuZ2VzIChhbmQgYmVmb3JlaW5wdXQpIGhhcHBlbiBfYmVmb3JlX1xuICAgICAgICAvLyB0aGUga2V5IGV2ZW50IGZvciBjdHJsLWQgb24gaU9TIHdoZW4gdXNpbmcgYW4gZXh0ZXJuYWxcbiAgICAgICAgLy8ga2V5Ym9hcmQuXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgfVxuICAgIC8vIFNhZmFyaSB3aWxsIG9jY2FzaW9uYWxseSBmb3JnZXQgdG8gZmlyZSBjb21wb3NpdGlvbmVuZCBhdCB0aGUgZW5kIG9mIGEgZGVhZC1rZXkgY29tcG9zaXRpb25cbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgZXZlbnQuaW5wdXRUeXBlID09IFwiaW5zZXJ0VGV4dFwiICYmIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG9ic2VydmVycy5jb21wb3NpdGlvbmVuZCh2aWV3LCBldmVudCksIDIwKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGFwcGxpZWRGaXJlZm94SGFjayA9IC8qQF9fUFVSRV9fKi9uZXcgU2V0O1xuLy8gSW4gRmlyZWZveCwgd2hlbiBjdXQvY29weSBoYW5kbGVycyBhcmUgYWRkZWQgdG8gdGhlIGRvY3VtZW50LCB0aGF0XG4vLyBzb21laG93IGF2b2lkcyBhIGJ1ZyB3aGVyZSB0aG9zZSBldmVudHMgYXJlbid0IGZpcmVkIHdoZW4gdGhlXG4vLyBzZWxlY3Rpb24gaXMgZW1wdHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9kZXYvaXNzdWVzLzEwODJcbi8vIGFuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05OTU5NjFcbmZ1bmN0aW9uIGZpcmVmb3hDb3B5Q3V0SGFjayhkb2MpIHtcbiAgICBpZiAoIWFwcGxpZWRGaXJlZm94SGFjay5oYXMoZG9jKSkge1xuICAgICAgICBhcHBsaWVkRmlyZWZveEhhY2suYWRkKGRvYyk7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCAoKSA9PiB7IH0pO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImN1dFwiLCAoKSA9PiB7IH0pO1xuICAgIH1cbn1cblxuY29uc3Qgd3JhcHBpbmdXaGl0ZVNwYWNlID0gW1wicHJlLXdyYXBcIiwgXCJub3JtYWxcIiwgXCJwcmUtbGluZVwiLCBcImJyZWFrLXNwYWNlc1wiXTtcbi8vIFVzZWQgdG8gdHJhY2ssIGR1cmluZyB1cGRhdGVIZWlnaHQsIGlmIGFueSBhY3R1YWwgaGVpZ2h0cyBjaGFuZ2VkXG5sZXQgaGVpZ2h0Q2hhbmdlRmxhZyA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYXJIZWlnaHRDaGFuZ2VGbGFnKCkgeyBoZWlnaHRDaGFuZ2VGbGFnID0gZmFsc2U7IH1cbmNsYXNzIEhlaWdodE9yYWNsZSB7XG4gICAgY29uc3RydWN0b3IobGluZVdyYXBwaW5nKSB7XG4gICAgICAgIHRoaXMubGluZVdyYXBwaW5nID0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmRvYyA9IFRleHQuZW1wdHk7XG4gICAgICAgIHRoaXMuaGVpZ2h0U2FtcGxlcyA9IHt9O1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSAxNDsgLy8gVGhlIGhlaWdodCBvZiBhbiBlbnRpcmUgbGluZSAobGluZS1oZWlnaHQpXG4gICAgICAgIHRoaXMuY2hhcldpZHRoID0gNztcbiAgICAgICAgdGhpcy50ZXh0SGVpZ2h0ID0gMTQ7IC8vIFRoZSBoZWlnaHQgb2YgdGhlIGFjdHVhbCBmb250IChmb250LXNpemUpXG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IDMwO1xuICAgIH1cbiAgICBoZWlnaHRGb3JHYXAoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGxpbmVzID0gdGhpcy5kb2MubGluZUF0KHRvKS5udW1iZXIgLSB0aGlzLmRvYy5saW5lQXQoZnJvbSkubnVtYmVyICsgMTtcbiAgICAgICAgaWYgKHRoaXMubGluZVdyYXBwaW5nKVxuICAgICAgICAgICAgbGluZXMgKz0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKCgodG8gLSBmcm9tKSAtIChsaW5lcyAqIHRoaXMubGluZUxlbmd0aCAqIDAuNSkpIC8gdGhpcy5saW5lTGVuZ3RoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQgKiBsaW5lcztcbiAgICB9XG4gICAgaGVpZ2h0Rm9yTGluZShsZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGxldCBsaW5lcyA9IDEgKyBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGxlbmd0aCAtIHRoaXMubGluZUxlbmd0aCkgLyAodGhpcy5saW5lTGVuZ3RoIC0gNSkpKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzICogdGhpcy5saW5lSGVpZ2h0O1xuICAgIH1cbiAgICBzZXREb2MoZG9jKSB7IHRoaXMuZG9jID0gZG9jOyByZXR1cm4gdGhpczsgfVxuICAgIG11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTEpICE9IHRoaXMubGluZVdyYXBwaW5nO1xuICAgIH1cbiAgICBtdXN0UmVmcmVzaEZvckhlaWdodHMobGluZUhlaWdodHMpIHtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVIZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaCA9IGxpbmVIZWlnaHRzW2ldO1xuICAgICAgICAgICAgaWYgKGggPCAwKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaGVpZ2h0U2FtcGxlc1tNYXRoLmZsb29yKGggKiAxMCldKSB7IC8vIFJvdW5kIHRvIC4xIHBpeGVsc1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzW01hdGguZmxvb3IoaCAqIDEwKV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdIZWlnaHQ7XG4gICAgfVxuICAgIHJlZnJlc2god2hpdGVTcGFjZSwgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0LCBsaW5lTGVuZ3RoLCBrbm93bkhlaWdodHMpIHtcbiAgICAgICAgbGV0IGxpbmVXcmFwcGluZyA9IHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTE7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gTWF0aC5yb3VuZChsaW5lSGVpZ2h0KSAhPSBNYXRoLnJvdW5kKHRoaXMubGluZUhlaWdodCkgfHwgdGhpcy5saW5lV3JhcHBpbmcgIT0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmxpbmVXcmFwcGluZyA9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5jaGFyV2lkdGggPSBjaGFyV2lkdGg7XG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IHRleHRIZWlnaHQ7XG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IGxpbmVMZW5ndGg7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga25vd25IZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBrbm93bkhlaWdodHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGggPCAwKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXNbTWF0aC5mbG9vcihoICogMTApXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxufVxuLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBieSBgdXBkYXRlSGVpZ2h0YCB0byBtYWtlIERPTSBtZWFzdXJlbWVudHNcbi8vIGFycml2ZSBhdCB0aGUgcmlnaHQgbmlkZXMuIFRoZSBgaGVpZ2h0c2AgYXJyYXkgaXMgYSBzZXF1ZW5jZSBvZlxuLy8gYmxvY2sgaGVpZ2h0cywgc3RhcnRpbmcgZnJvbSBwb3NpdGlvbiBgZnJvbWAuXG5jbGFzcyBNZWFzdXJlZEhlaWdodHMge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIGhlaWdodHMpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5oZWlnaHRzID0gaGVpZ2h0cztcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGdldCBtb3JlKCkgeyByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuaGVpZ2h0cy5sZW5ndGg7IH1cbn1cbi8qKlxuUmVjb3JkIHVzZWQgdG8gcmVwcmVzZW50IGluZm9ybWF0aW9uIGFib3V0IGEgYmxvY2stbGV2ZWwgZWxlbWVudFxuaW4gdGhlIGVkaXRvciB2aWV3LlxuKi9cbmNsYXNzIEJsb2NrSW5mbyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGxlbmd0aCwgXG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIHRvcCBvZiB0aGVcbiAgICBkb2N1bWVudCkuXG4gICAgKi9cbiAgICB0b3AsIFxuICAgIC8qKlxuICAgIEl0cyBoZWlnaHQuXG4gICAgKi9cbiAgICBoZWlnaHQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbCBXZWlyZCBwYWNrZWQgZmllbGQgdGhhdCBob2xkcyBhbiBhcnJheSBvZiBjaGlsZHJlblxuICAgIGZvciBjb21wb3NpdGUgYmxvY2tzLCBhIGRlY29yYXRpb24gZm9yIGJsb2NrIHdpZGdldHMsIGFuZCBhXG4gICAgbnVtYmVyIGluZGljYXRpbmcgdGhlIGFtb3VudCBvZiB3aWRnZXQtY3JlYXRlIGxpbmUgYnJlYWtzIGZvclxuICAgIHRleHQgYmxvY2tzLlxuICAgICovXG4gICAgX2NvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IF9jb250ZW50O1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgdHlwZSBvZiBlbGVtZW50IHRoaXMgaXMuIFdoZW4gcXVlcnlpbmcgbGluZXMsIHRoaXMgbWF5IGJlXG4gICAgYW4gYXJyYXkgb2YgYWxsIHRoZSBibG9ja3MgdGhhdCBtYWtlIHVwIHRoZSBsaW5lLlxuICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fY29udGVudCA9PSBcIm51bWJlclwiID8gQmxvY2tUeXBlLlRleHQgOlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLl9jb250ZW50KSA/IHRoaXMuX2NvbnRlbnQgOiB0aGlzLl9jb250ZW50LnR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIGVsZW1lbnQgYXMgYSBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMubGVuZ3RoOyB9XG4gICAgLyoqXG4gICAgVGhlIGJvdHRvbSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGdldCBib3R0b20oKSB7IHJldHVybiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OyB9XG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBhIHdpZGdldCBibG9jaywgdGhpcyB3aWxsIHJldHVybiB0aGUgd2lkZ2V0XG4gICAgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICovXG4gICAgZ2V0IHdpZGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQgaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24gPyB0aGlzLl9jb250ZW50LndpZGdldCA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSB0ZXh0YmxvY2ssIHRoaXMgaG9sZHMgdGhlIG51bWJlciBvZiBsaW5lIGJyZWFrc1xuICAgIHRoYXQgYXBwZWFyIGluIHdpZGdldHMgaW5zaWRlIHRoZSBibG9jay5cbiAgICAqL1xuICAgIGdldCB3aWRnZXRMaW5lQnJlYWtzKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX2NvbnRlbnQgPT0gXCJudW1iZXJcIiA/IHRoaXMuX2NvbnRlbnQgOiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGpvaW4ob3RoZXIpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAoQXJyYXkuaXNBcnJheSh0aGlzLl9jb250ZW50KSA/IHRoaXMuX2NvbnRlbnQgOiBbdGhpc10pXG4gICAgICAgICAgICAuY29uY2F0KEFycmF5LmlzQXJyYXkob3RoZXIuX2NvbnRlbnQpID8gb3RoZXIuX2NvbnRlbnQgOiBbb3RoZXJdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8odGhpcy5mcm9tLCB0aGlzLmxlbmd0aCArIG90aGVyLmxlbmd0aCwgdGhpcy50b3AsIHRoaXMuaGVpZ2h0ICsgb3RoZXIuaGVpZ2h0LCBjb250ZW50KTtcbiAgICB9XG59XG52YXIgUXVlcnlUeXBlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUXVlcnlUeXBlKSB7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5UG9zXCJdID0gMF0gPSBcIkJ5UG9zXCI7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5SGVpZ2h0XCJdID0gMV0gPSBcIkJ5SGVpZ2h0XCI7XG4gICAgUXVlcnlUeXBlW1F1ZXJ5VHlwZVtcIkJ5UG9zTm9IZWlnaHRcIl0gPSAyXSA9IFwiQnlQb3NOb0hlaWdodFwiO1xucmV0dXJuIFF1ZXJ5VHlwZX0pKFF1ZXJ5VHlwZSB8fCAoUXVlcnlUeXBlID0ge30pKTtcbmNvbnN0IEVwc2lsb24gPSAxZS0zO1xuY2xhc3MgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIC8vIFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb3ZlcmVkXG4gICAgaGVpZ2h0LCAvLyBIZWlnaHQgb2YgdGhpcyBwYXJ0IG9mIHRoZSBkb2N1bWVudFxuICAgIGZsYWdzID0gMiAvKiBGbGFnLk91dGRhdGVkICovKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICBnZXQgb3V0ZGF0ZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogRmxhZy5PdXRkYXRlZCAqLykgPiAwOyB9XG4gICAgc2V0IG91dGRhdGVkKHZhbHVlKSB7IHRoaXMuZmxhZ3MgPSAodmFsdWUgPyAyIC8qIEZsYWcuT3V0ZGF0ZWQgKi8gOiAwKSB8ICh0aGlzLmZsYWdzICYgfjIgLyogRmxhZy5PdXRkYXRlZCAqLyk7IH1cbiAgICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmhlaWdodCAtIGhlaWdodCkgPiBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIGhlaWdodENoYW5nZUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmFzZSBjYXNlIGlzIHRvIHJlcGxhY2UgYSBsZWFmIG5vZGUsIHdoaWNoIHNpbXBseSBidWlsZHMgYSB0cmVlXG4gICAgLy8gZnJvbSB0aGUgbmV3IG5vZGVzIGFuZCByZXR1cm5zIHRoYXQgKEhlaWdodE1hcEJyYW5jaCBhbmRcbiAgICAvLyBIZWlnaHRNYXBHYXAgb3ZlcnJpZGUgdGhpcyB0byBhY3R1YWxseSB1c2UgZnJvbS90bylcbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgIH1cbiAgICAvLyBBZ2FpbiwgdGhlc2UgYXJlIGJhc2UgY2FzZXMsIGFuZCBhcmUgb3ZlcnJpZGRlbiBmb3IgYnJhbmNoIGFuZCBnYXAgbm9kZXMuXG4gICAgZGVjb21wb3NlTGVmdChfdG8sIHJlc3VsdCkgeyByZXN1bHQucHVzaCh0aGlzKTsgfVxuICAgIGRlY29tcG9zZVJpZ2h0KF9mcm9tLCByZXN1bHQpIHsgcmVzdWx0LnB1c2godGhpcyk7IH1cbiAgICBhcHBseUNoYW5nZXMoZGVjb3JhdGlvbnMsIG9sZERvYywgb3JhY2xlLCBjaGFuZ2VzKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXMsIGRvYyA9IG9yYWNsZS5kb2M7XG4gICAgICAgIGZvciAobGV0IGkgPSBjaGFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgeyBmcm9tQSwgdG9BLCBmcm9tQiwgdG9CIH0gPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gbWUubGluZUF0KGZyb21BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb3JhY2xlLnNldERvYyhvbGREb2MpLCAwLCAwKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydC50byA+PSB0b0EgPyBzdGFydCA6IG1lLmxpbmVBdCh0b0EsIFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0LCBvcmFjbGUsIDAsIDApO1xuICAgICAgICAgICAgdG9CICs9IGVuZC50byAtIHRvQTtcbiAgICAgICAgICAgIHRvQSA9IGVuZC50bztcbiAgICAgICAgICAgIHdoaWxlIChpID4gMCAmJiBzdGFydC5mcm9tIDw9IGNoYW5nZXNbaSAtIDFdLnRvQSkge1xuICAgICAgICAgICAgICAgIGZyb21BID0gY2hhbmdlc1tpIC0gMV0uZnJvbUE7XG4gICAgICAgICAgICAgICAgZnJvbUIgPSBjaGFuZ2VzW2kgLSAxXS5mcm9tQjtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgaWYgKGZyb21BIDwgc3RhcnQuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBtZS5saW5lQXQoZnJvbUEsIFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0LCBvcmFjbGUsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUIgKz0gc3RhcnQuZnJvbSAtIGZyb21BO1xuICAgICAgICAgICAgZnJvbUEgPSBzdGFydC5mcm9tO1xuICAgICAgICAgICAgbGV0IG5vZGVzID0gTm9kZUJ1aWxkZXIuYnVpbGQob3JhY2xlLnNldERvYyhkb2MpLCBkZWNvcmF0aW9ucywgZnJvbUIsIHRvQik7XG4gICAgICAgICAgICBtZSA9IHJlcGxhY2UobWUsIG1lLnJlcGxhY2UoZnJvbUEsIHRvQSwgbm9kZXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWUudXBkYXRlSGVpZ2h0KG9yYWNsZSwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHsgcmV0dXJuIG5ldyBIZWlnaHRNYXBUZXh0KDAsIDApOyB9XG4gICAgLy8gbm9kZXMgdXNlcyBudWxsIHZhbHVlcyB0byBpbmRpY2F0ZSB0aGUgcG9zaXRpb24gb2YgbGluZSBicmVha3MuXG4gICAgLy8gVGhlcmUgYXJlIG5ldmVyIGxpbmUgYnJlYWtzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGFycmF5LCBvclxuICAgIC8vIHR3byBsaW5lIGJyZWFrcyBuZXh0IHRvIGVhY2ggb3RoZXIsIGFuZCB0aGUgYXJyYXkgaXNuJ3QgYWxsb3dlZFxuICAgIC8vIHRvIGJlIGVtcHR5IChzYW1lIHJlc3RyaWN0aW9ucyBhcyByZXR1cm4gdmFsdWUgZnJvbSB0aGUgYnVpbGRlcikuXG4gICAgc3RhdGljIG9mKG5vZGVzKSB7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgIHJldHVybiBub2Rlc1swXTtcbiAgICAgICAgbGV0IGkgPSAwLCBqID0gbm9kZXMubGVuZ3RoLCBiZWZvcmUgPSAwLCBhZnRlciA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChpID09IGopIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlID4gYWZ0ZXIgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0LmJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKC0taSwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoLS1pLCAxLCBzcGxpdC5sZWZ0LCBzcGxpdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGogKz0gMSArIHNwbGl0LmJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWZ0ZXIgPiBiZWZvcmUgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXQuYnJlYWspXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBqICs9IDIgKyBzcGxpdC5icmVhaztcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlZm9yZSA8IGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1tpKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgKz0gbmV4dC5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1stLWpdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBhZnRlciArPSBuZXh0LnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJyayA9IDA7XG4gICAgICAgIGlmIChub2Rlc1tpIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYnJrID0gMTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2Rlc1tpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBicmsgPSAxO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGVpZ2h0TWFwQnJhbmNoKEhlaWdodE1hcC5vZihub2Rlcy5zbGljZSgwLCBpKSksIGJyaywgSGVpZ2h0TWFwLm9mKG5vZGVzLnNsaWNlKGopKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVwbGFjZShvbGQsIHZhbCkge1xuICAgIGlmIChvbGQgPT0gdmFsKVxuICAgICAgICByZXR1cm4gb2xkO1xuICAgIGlmIChvbGQuY29uc3RydWN0b3IgIT0gdmFsLmNvbnN0cnVjdG9yKVxuICAgICAgICBoZWlnaHRDaGFuZ2VGbGFnID0gdHJ1ZTtcbiAgICByZXR1cm4gdmFsO1xufVxuSGVpZ2h0TWFwLnByb3RvdHlwZS5zaXplID0gMTtcbmNsYXNzIEhlaWdodE1hcEJsb2NrIGV4dGVuZHMgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGhlaWdodCwgZGVjbykge1xuICAgICAgICBzdXBlcihsZW5ndGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuZGVjbyA9IGRlY287XG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX29yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy5kZWNvIHx8IDApO1xuICAgIH1cbiAgICBsaW5lQXQoX3ZhbHVlLCBfdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9ja0F0KDAsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgIH1cbiAgICBmb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZikge1xuICAgICAgICBpZiAoZnJvbSA8PSBvZmZzZXQgKyB0aGlzLmxlbmd0aCAmJiB0byA+PSBvZmZzZXQpXG4gICAgICAgICAgICBmKHRoaXMuYmxvY2tBdCgwLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSk7XG4gICAgfVxuICAgIHVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCA9IDAsIF9mb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBibG9jaygke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBUZXh0IGV4dGVuZHMgSGVpZ2h0TWFwQmxvY2sge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCwgaGVpZ2h0LCBudWxsKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWQgPSAwOyAvLyBBbW91bnQgb2YgY29sbGFwc2VkIGNvbnRlbnQgaW4gdGhlIGxpbmVcbiAgICAgICAgdGhpcy53aWRnZXRIZWlnaHQgPSAwOyAvLyBNYXhpbXVtIGlubGluZSB3aWRnZXQgaGVpZ2h0XG4gICAgICAgIHRoaXMuYnJlYWtzID0gMDsgLy8gTnVtYmVyIG9mIHdpZGdldC1pbnRyb2R1Y2VkIGxpbmUgYnJlYWtzIG9uIHRoZSBsaW5lXG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX29yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy5icmVha3MpO1xuICAgIH1cbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSAmJiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQgfHwgbm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcCAmJiAobm9kZS5mbGFncyAmIDQgLyogRmxhZy5TaW5nbGVMaW5lICovKSkgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGVuZ3RoIC0gbm9kZS5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgSGVpZ2h0TWFwVGV4dChub2RlLmxlbmd0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICAgICAgbm9kZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICBlbHNlIGlmIChmb3JjZSB8fCB0aGlzLm91dGRhdGVkKVxuICAgICAgICAgICAgdGhpcy5zZXRIZWlnaHQoTWF0aC5tYXgodGhpcy53aWRnZXRIZWlnaHQsIG9yYWNsZS5oZWlnaHRGb3JMaW5lKHRoaXMubGVuZ3RoIC0gdGhpcy5jb2xsYXBzZWQpKSArXG4gICAgICAgICAgICAgICAgdGhpcy5icmVha3MgKiBvcmFjbGUubGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYGxpbmUoJHt0aGlzLmxlbmd0aH0ke3RoaXMuY29sbGFwc2VkID8gLXRoaXMuY29sbGFwc2VkIDogXCJcIn0ke3RoaXMud2lkZ2V0SGVpZ2h0ID8gXCI6XCIgKyB0aGlzLndpZGdldEhlaWdodCA6IFwiXCJ9KWA7XG4gICAgfVxufVxuY2xhc3MgSGVpZ2h0TWFwR2FwIGV4dGVuZHMgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgpIHsgc3VwZXIobGVuZ3RoLCAwKTsgfVxuICAgIGhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IGZpcnN0TGluZSA9IG9yYWNsZS5kb2MubGluZUF0KG9mZnNldCkubnVtYmVyLCBsYXN0TGluZSA9IG9yYWNsZS5kb2MubGluZUF0KG9mZnNldCArIHRoaXMubGVuZ3RoKS5udW1iZXI7XG4gICAgICAgIGxldCBsaW5lcyA9IGxhc3RMaW5lIC0gZmlyc3RMaW5lICsgMTtcbiAgICAgICAgbGV0IHBlckxpbmUsIHBlckNoYXIgPSAwO1xuICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgbGV0IHRvdGFsUGVyTGluZSA9IE1hdGgubWluKHRoaXMuaGVpZ2h0LCBvcmFjbGUubGluZUhlaWdodCAqIGxpbmVzKTtcbiAgICAgICAgICAgIHBlckxpbmUgPSB0b3RhbFBlckxpbmUgLyBsaW5lcztcbiAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IGxpbmVzICsgMSlcbiAgICAgICAgICAgICAgICBwZXJDaGFyID0gKHRoaXMuaGVpZ2h0IC0gdG90YWxQZXJMaW5lKSAvICh0aGlzLmxlbmd0aCAtIGxpbmVzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZXJMaW5lID0gdGhpcy5oZWlnaHQgLyBsaW5lcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmaXJzdExpbmUsIGxhc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH07XG4gICAgfVxuICAgIGJsb2NrQXQoaGVpZ2h0LCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCB7IGZpcnN0TGluZSwgbGFzdExpbmUsIHBlckxpbmUsIHBlckNoYXIgfSA9IHRoaXMuaGVpZ2h0TWV0cmljcyhvcmFjbGUsIG9mZnNldCk7XG4gICAgICAgIGlmIChvcmFjbGUubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgICBsZXQgZ3Vlc3MgPSBvZmZzZXQgKyAoaGVpZ2h0IDwgb3JhY2xlLmxpbmVIZWlnaHQgPyAwXG4gICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChoZWlnaHQgLSB0b3ApIC8gdGhpcy5oZWlnaHQpKSAqIHRoaXMubGVuZ3RoKSk7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KGd1ZXNzKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgICAgICBsZXQgbGluZVRvcCA9IE1hdGgubWF4KHRvcCwgaGVpZ2h0IC0gbGluZUhlaWdodCAvIDIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8obGluZS5mcm9tLCBsaW5lLmxlbmd0aCwgbGluZVRvcCwgbGluZUhlaWdodCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxhc3RMaW5lIC0gZmlyc3RMaW5lLCBNYXRoLmZsb29yKChoZWlnaHQgLSB0b3ApIC8gcGVyTGluZSkpKTtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIGxlbmd0aCB9ID0gb3JhY2xlLmRvYy5saW5lKGZpcnN0TGluZSArIGxpbmUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8oZnJvbSwgbGVuZ3RoLCB0b3AgKyBwZXJMaW5lICogbGluZSwgcGVyTGluZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGlmICh0eXBlID09IFF1ZXJ5VHlwZS5CeUhlaWdodClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrQXQodmFsdWUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICBpZiAodHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCkge1xuICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGZyb20sIHRvIC0gZnJvbSwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHZhbHVlKSwgbGluZUhlaWdodCA9IHBlckxpbmUgKyBsaW5lLmxlbmd0aCAqIHBlckNoYXI7XG4gICAgICAgIGxldCBsaW5lc0Fib3ZlID0gbGluZS5udW1iZXIgLSBmaXJzdExpbmU7XG4gICAgICAgIGxldCBsaW5lVG9wID0gdG9wICsgcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGxpbmUuZnJvbSAtIG9mZnNldCAtIGxpbmVzQWJvdmUpO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBNYXRoLm1heCh0b3AsIE1hdGgubWluKGxpbmVUb3AsIHRvcCArIHRoaXMuaGVpZ2h0IC0gbGluZUhlaWdodCkpLCBsaW5lSGVpZ2h0LCAwKTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIG9mZnNldCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odG8sIG9mZnNldCArIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tLCBsaW5lVG9wID0gdG9wOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IG9yYWNsZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAocG9zID09IGZyb20pIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZXNBYm92ZSA9IGxpbmUubnVtYmVyIC0gZmlyc3RMaW5lO1xuICAgICAgICAgICAgICAgIGxpbmVUb3AgKz0gcGVyTGluZSAqIGxpbmVzQWJvdmUgKyBwZXJDaGFyICogKGZyb20gLSBvZmZzZXQgLSBsaW5lc0Fib3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gcGVyTGluZSArIHBlckNoYXIgKiBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGYobmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCBsaW5lVG9wLCBsaW5lSGVpZ2h0LCAwKSk7XG4gICAgICAgICAgICBsaW5lVG9wICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCBub2Rlcykge1xuICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmxlbmd0aCAtIHRvO1xuICAgICAgICBpZiAoYWZ0ZXIgPiAwKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXApXG4gICAgICAgICAgICAgICAgbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0gPSBuZXcgSGVpZ2h0TWFwR2FwKGxhc3QubGVuZ3RoICsgYWZ0ZXIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCwgbmV3IEhlaWdodE1hcEdhcChhZnRlciAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbSA+IDApIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IG5vZGVzWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGVzWzBdID0gbmV3IEhlaWdodE1hcEdhcChmcm9tICsgZmlyc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBub2Rlcy51bnNoaWZ0KG5ldyBIZWlnaHRNYXBHYXAoZnJvbSAtIDEpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBIZWlnaHRNYXBHYXAodG8gLSAxKSwgbnVsbCk7XG4gICAgfVxuICAgIGRlY29tcG9zZVJpZ2h0KGZyb20sIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQucHVzaChudWxsLCBuZXcgSGVpZ2h0TWFwR2FwKHRoaXMubGVuZ3RoIC0gZnJvbSAtIDEpKTtcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG9mZnNldCArIHRoaXMubGVuZ3RoO1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgKyB0aGlzLmxlbmd0aCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGluIHBhcnQgb2YgdGhpcyBnYXAgd2l0aCBtZWFzdXJlZCBsaW5lcy4gV2Uga25vdyB0aGVyZVxuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgd2lkZ2V0cyBvciBjb2xsYXBzZWQgcmFuZ2VzIGluIHRob3NlIGxpbmVzLCBiZWNhdXNlXG4gICAgICAgICAgICAvLyB0aGV5IHdvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBoZWlnaHRtYXAgKGdhcHNcbiAgICAgICAgICAgIC8vIG9ubHkgY29udGFpbiBwbGFpbiB0ZXh0KS5cbiAgICAgICAgICAgIGxldCBub2RlcyA9IFtdLCBwb3MgPSBNYXRoLm1heChvZmZzZXQsIG1lYXN1cmVkLmZyb20pLCBzaW5nbGVIZWlnaHQgPSAtMTtcbiAgICAgICAgICAgIGlmIChtZWFzdXJlZC5mcm9tID4gb2Zmc2V0KVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3IEhlaWdodE1hcEdhcChtZWFzdXJlZC5mcm9tIC0gb2Zmc2V0IC0gMSkudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0KSk7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDw9IGVuZCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IG9yYWNsZS5kb2MubGluZUF0KHBvcykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK107XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGhlaWdodCAtIHNpbmdsZUhlaWdodCkgPj0gRXBzaWxvbilcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gLTI7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dChsZW4sIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgbGluZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDw9IGVuZClcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAoZW5kIC0gcG9zKS51cGRhdGVIZWlnaHQob3JhY2xlLCBwb3MpKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA8IDAgfHwgTWF0aC5hYnMocmVzdWx0LmhlaWdodCAtIHRoaXMuaGVpZ2h0KSA+PSBFcHNpbG9uIHx8XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoc2luZ2xlSGVpZ2h0IC0gdGhpcy5oZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KS5wZXJMaW5lKSA+PSBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIGhlaWdodENoYW5nZUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UodGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JjZSB8fCB0aGlzLm91dGRhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUuaGVpZ2h0Rm9yR2FwKG9mZnNldCwgb2Zmc2V0ICsgdGhpcy5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiBgZ2FwKCR7dGhpcy5sZW5ndGh9KWA7IH1cbn1cbmNsYXNzIEhlaWdodE1hcEJyYW5jaCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVmdCwgYnJrLCByaWdodCkge1xuICAgICAgICBzdXBlcihsZWZ0Lmxlbmd0aCArIGJyayArIHJpZ2h0Lmxlbmd0aCwgbGVmdC5oZWlnaHQgKyByaWdodC5oZWlnaHQsIGJyayB8IChsZWZ0Lm91dGRhdGVkIHx8IHJpZ2h0Lm91dGRhdGVkID8gMiAvKiBGbGFnLk91dGRhdGVkICovIDogMCkpO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgfVxuICAgIGdldCBicmVhaygpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgJiAxIC8qIEZsYWcuQnJlYWsgKi87IH1cbiAgICBibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgbWlkID0gdG9wICsgdGhpcy5sZWZ0LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGhlaWdodCA8IG1pZCA/IHRoaXMubGVmdC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5ibG9ja0F0KGhlaWdodCwgb3JhY2xlLCBtaWQsIG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrKTtcbiAgICB9XG4gICAgbGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGxldCBsZWZ0ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlIZWlnaHQgPyB2YWx1ZSA8IHJpZ2h0VG9wIDogdmFsdWUgPCByaWdodE9mZnNldDtcbiAgICAgICAgbGV0IGJhc2UgPSBsZWZ0ID8gdGhpcy5sZWZ0LmxpbmVBdCh2YWx1ZSwgdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldClcbiAgICAgICAgICAgIDogdGhpcy5yaWdodC5saW5lQXQodmFsdWUsIHR5cGUsIG9yYWNsZSwgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0KTtcbiAgICAgICAgaWYgKHRoaXMuYnJlYWsgfHwgKGxlZnQgPyBiYXNlLnRvIDwgcmlnaHRPZmZzZXQgOiBiYXNlLmZyb20gPiByaWdodE9mZnNldCkpXG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgbGV0IHN1YlF1ZXJ5ID0gdHlwZSA9PSBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCA/IFF1ZXJ5VHlwZS5CeVBvc05vSGVpZ2h0IDogUXVlcnlUeXBlLkJ5UG9zO1xuICAgICAgICBpZiAobGVmdClcbiAgICAgICAgICAgIHJldHVybiBiYXNlLmpvaW4odGhpcy5yaWdodC5saW5lQXQocmlnaHRPZmZzZXQsIHN1YlF1ZXJ5LCBvcmFjbGUsIHJpZ2h0VG9wLCByaWdodE9mZnNldCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmxpbmVBdChyaWdodE9mZnNldCwgc3ViUXVlcnksIG9yYWNsZSwgdG9wLCBvZmZzZXQpLmpvaW4oYmFzZSk7XG4gICAgfVxuICAgIGZvckVhY2hMaW5lKGZyb20sIHRvLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKSB7XG4gICAgICAgIGxldCByaWdodFRvcCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQsIHJpZ2h0T2Zmc2V0ID0gb2Zmc2V0ICsgdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHJpZ2h0T2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMubGVmdC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZik7XG4gICAgICAgICAgICBpZiAodG8gPj0gcmlnaHRPZmZzZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1pZCA9IHRoaXMubGluZUF0KHJpZ2h0T2Zmc2V0LCBRdWVyeVR5cGUuQnlQb3MsIG9yYWNsZSwgdG9wLCBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKGZyb20gPCBtaWQuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaExpbmUoZnJvbSwgbWlkLmZyb20gLSAxLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKTtcbiAgICAgICAgICAgIGlmIChtaWQudG8gPj0gZnJvbSAmJiBtaWQuZnJvbSA8PSB0bylcbiAgICAgICAgICAgICAgICBmKG1pZCk7XG4gICAgICAgICAgICBpZiAodG8gPiBtaWQudG8pXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoTGluZShtaWQudG8gKyAxLCB0bywgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQsIGYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCByaWdodFN0YXJ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmICh0byA8IHJpZ2h0U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlZCh0aGlzLmxlZnQucmVwbGFjZShmcm9tLCB0bywgbm9kZXMpLCB0aGlzLnJpZ2h0KTtcbiAgICAgICAgaWYgKGZyb20gPiB0aGlzLmxlZnQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LnJlcGxhY2UoZnJvbSAtIHJpZ2h0U3RhcnQsIHRvIC0gcmlnaHRTdGFydCwgbm9kZXMpKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZUxlZnQoZnJvbSwgcmVzdWx0KTtcbiAgICAgICAgbGV0IGxlZnQgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIG5vZGVzKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgIGlmIChmcm9tID4gMClcbiAgICAgICAgICAgIG1lcmdlR2FwcyhyZXN1bHQsIGxlZnQgLSAxKTtcbiAgICAgICAgaWYgKHRvIDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByaWdodCA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmRlY29tcG9zZVJpZ2h0KHRvLCByZXN1bHQpO1xuICAgICAgICAgICAgbWVyZ2VHYXBzKHJlc3VsdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YocmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlTGVmdCh0bywgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRvIDw9IGxlZnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWZ0LmRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubGVmdCk7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrKSB7XG4gICAgICAgICAgICBsZWZ0Kys7XG4gICAgICAgICAgICBpZiAodG8gPj0gbGVmdClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG8gPiBsZWZ0KVxuICAgICAgICAgICAgdGhpcy5yaWdodC5kZWNvbXBvc2VMZWZ0KHRvIC0gbGVmdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0Lmxlbmd0aCwgcmlnaHQgPSBsZWZ0ICsgdGhpcy5icmVhaztcbiAgICAgICAgaWYgKGZyb20gPj0gcmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5kZWNvbXBvc2VSaWdodChmcm9tIC0gcmlnaHQsIHJlc3VsdCk7XG4gICAgICAgIGlmIChmcm9tIDwgbGVmdClcbiAgICAgICAgICAgIHRoaXMubGVmdC5kZWNvbXBvc2VSaWdodChmcm9tLCByZXN1bHQpO1xuICAgICAgICBpZiAodGhpcy5icmVhayAmJiBmcm9tIDwgcmlnaHQpXG4gICAgICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGJhbGFuY2VkKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGlmIChsZWZ0LnNpemUgPiAyICogcmlnaHQuc2l6ZSB8fCByaWdodC5zaXplID4gMiAqIGxlZnQuc2l6ZSlcbiAgICAgICAgICAgIHJldHVybiBIZWlnaHRNYXAub2YodGhpcy5icmVhayA/IFtsZWZ0LCBudWxsLCByaWdodF0gOiBbbGVmdCwgcmlnaHRdKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gcmVwbGFjZSh0aGlzLmxlZnQsIGxlZnQpO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmVwbGFjZSh0aGlzLnJpZ2h0LCByaWdodCk7XG4gICAgICAgIHRoaXMuc2V0SGVpZ2h0KGxlZnQuaGVpZ2h0ICsgcmlnaHQuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGxlZnQub3V0ZGF0ZWQgfHwgcmlnaHQub3V0ZGF0ZWQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrICsgcmlnaHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IHsgbGVmdCwgcmlnaHQgfSA9IHRoaXMsIHJpZ2h0U3RhcnQgPSBvZmZzZXQgKyBsZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWssIHJlYmFsYW5jZSA9IG51bGw7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IG9mZnNldCArIGxlZnQubGVuZ3RoICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICByZWJhbGFuY2UgPSBsZWZ0ID0gbGVmdC51cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQsIGZvcmNlLCBtZWFzdXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxlZnQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0LCBmb3JjZSk7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IHJpZ2h0U3RhcnQgKyByaWdodC5sZW5ndGggJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHJlYmFsYW5jZSA9IHJpZ2h0ID0gcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UsIG1lYXN1cmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UpO1xuICAgICAgICBpZiAocmViYWxhbmNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQobGVmdCwgcmlnaHQpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubGVmdC5oZWlnaHQgKyB0aGlzLnJpZ2h0LmhlaWdodDtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLmxlZnQgKyAodGhpcy5icmVhayA/IFwiIFwiIDogXCItXCIpICsgdGhpcy5yaWdodDsgfVxufVxuZnVuY3Rpb24gbWVyZ2VHYXBzKG5vZGVzLCBhcm91bmQpIHtcbiAgICBsZXQgYmVmb3JlLCBhZnRlcjtcbiAgICBpZiAobm9kZXNbYXJvdW5kXSA9PSBudWxsICYmXG4gICAgICAgIChiZWZvcmUgPSBub2Rlc1thcm91bmQgLSAxXSkgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXAgJiZcbiAgICAgICAgKGFmdGVyID0gbm9kZXNbYXJvdW5kICsgMV0pIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICBub2Rlcy5zcGxpY2UoYXJvdW5kIC0gMSwgMywgbmV3IEhlaWdodE1hcEdhcChiZWZvcmUubGVuZ3RoICsgMSArIGFmdGVyLmxlbmd0aCkpO1xufVxuY29uc3QgcmVsZXZhbnRXaWRnZXRIZWlnaHQgPSA1O1xuY2xhc3MgTm9kZUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHBvcywgb3JhY2xlKSB7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLm9yYWNsZSA9IG9yYWNsZTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmxpbmVTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSAtMTtcbiAgICAgICAgdGhpcy5jb3ZlcmluZyA9IG51bGw7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gcG9zO1xuICAgIH1cbiAgICBnZXQgaXNDb3ZlcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3ZlcmluZyAmJiB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gPT0gdGhpcy5jb3ZlcmluZztcbiAgICB9XG4gICAgc3BhbihfZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbih0bywgdGhpcy5saW5lRW5kKSwgbGFzdCA9IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBsYXN0Lmxlbmd0aCArPSBlbmQgLSB0aGlzLnBvcztcbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZCA+IHRoaXMucG9zIHx8ICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoZW5kIC0gdGhpcy5wb3MsIC0xKSk7XG4gICAgICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IGVuZDtcbiAgICAgICAgICAgIGlmICh0byA+IGVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXR0ZW5UbysrO1xuICAgICAgICAgICAgICAgIHRoaXMubGluZVN0YXJ0ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICB9XG4gICAgcG9pbnQoZnJvbSwgdG8sIGRlY28pIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBkZWNvLmhlaWdodFJlbGV2YW50KSB7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGVjby53aWRnZXQgPyBkZWNvLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgOiAwO1xuICAgICAgICAgICAgbGV0IGJyZWFrcyA9IGRlY28ud2lkZ2V0ID8gZGVjby53aWRnZXQubGluZUJyZWFrcyA6IDA7XG4gICAgICAgICAgICBpZiAoaGVpZ2h0IDwgMClcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLm9yYWNsZS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRvIC0gZnJvbTtcbiAgICAgICAgICAgIGlmIChkZWNvLmJsb2NrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCbG9jayhuZXcgSGVpZ2h0TWFwQmxvY2sobGVuLCBoZWlnaHQsIGRlY28pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxlbiB8fCBicmVha3MgfHwgaGVpZ2h0ID49IHJlbGV2YW50V2lkZ2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lRGVjbyhoZWlnaHQsIGJyZWFrcywgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0byA+IGZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuc3Bhbihmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZUVuZCA+IC0xICYmIHRoaXMubGluZUVuZCA8IHRoaXMucG9zKVxuICAgICAgICAgICAgdGhpcy5saW5lRW5kID0gdGhpcy5vcmFjbGUuZG9jLmxpbmVBdCh0aGlzLnBvcykudG87XG4gICAgfVxuICAgIGVudGVyTGluZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLm9yYWNsZS5kb2MubGluZUF0KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5saW5lU3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSB0bztcbiAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSAtIDEgfHwgdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKHRoaXMuYmxhbmtDb250ZW50KHRoaXMud3JpdHRlblRvLCBmcm9tIC0gMSkpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA+IGZyb20pXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQodGhpcy5wb3MgLSBmcm9tLCAtMSkpO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zO1xuICAgIH1cbiAgICBibGFua0NvbnRlbnQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGdhcCA9IG5ldyBIZWlnaHRNYXBHYXAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKHRoaXMub3JhY2xlLmRvYy5saW5lQXQoZnJvbSkudG8gPT0gdG8pXG4gICAgICAgICAgICBnYXAuZmxhZ3MgfD0gNCAvKiBGbGFnLlNpbmdsZUxpbmUgKi87XG4gICAgICAgIHJldHVybiBnYXA7XG4gICAgfVxuICAgIGVuc3VyZUxpbmUoKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5ub2Rlcy5sZW5ndGggPyB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpXG4gICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dCgwLCAtMSk7XG4gICAgICAgIHRoaXMubm9kZXMucHVzaChsaW5lKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGFkZEJsb2NrKGJsb2NrKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGxldCBkZWNvID0gYmxvY2suZGVjbztcbiAgICAgICAgaWYgKGRlY28gJiYgZGVjby5zdGFydFNpZGUgPiAwICYmICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTGluZSgpO1xuICAgICAgICB0aGlzLm5vZGVzLnB1c2goYmxvY2spO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zID0gdGhpcy5wb3MgKyBibG9jay5sZW5ndGg7XG4gICAgICAgIGlmIChkZWNvICYmIGRlY28uZW5kU2lkZSA+IDApXG4gICAgICAgICAgICB0aGlzLmNvdmVyaW5nID0gYmxvY2s7XG4gICAgfVxuICAgIGFkZExpbmVEZWNvKGhlaWdodCwgYnJlYWtzLCBsZW5ndGgpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLmVuc3VyZUxpbmUoKTtcbiAgICAgICAgbGluZS5sZW5ndGggKz0gbGVuZ3RoO1xuICAgICAgICBsaW5lLmNvbGxhcHNlZCArPSBsZW5ndGg7XG4gICAgICAgIGxpbmUud2lkZ2V0SGVpZ2h0ID0gTWF0aC5tYXgobGluZS53aWRnZXRIZWlnaHQsIGhlaWdodCk7XG4gICAgICAgIGxpbmUuYnJlYWtzICs9IGJyZWFrcztcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcyA9IHRoaXMucG9zICsgbGVuZ3RoO1xuICAgIH1cbiAgICBmaW5pc2goZnJvbSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoID09IDAgPyBudWxsIDogdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy5saW5lU3RhcnQgPiAtMSAmJiAhKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KSAmJiAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoMCwgLTEpKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy53cml0dGVuVG8gPCB0aGlzLnBvcyB8fCBsYXN0ID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2godGhpcy5ibGFua0NvbnRlbnQodGhpcy53cml0dGVuVG8sIHRoaXMucG9zKSk7XG4gICAgICAgIGxldCBwb3MgPSBmcm9tO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBub2RlLnVwZGF0ZUhlaWdodCh0aGlzLm9yYWNsZSwgcG9zKTtcbiAgICAgICAgICAgIHBvcyArPSBub2RlID8gbm9kZS5sZW5ndGggOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICAgIH1cbiAgICAvLyBBbHdheXMgY2FsbGVkIHdpdGggYSByZWdpb24gdGhhdCBvbiBib3RoIHNpZGVzIGVpdGhlciBzdHJldGNoZXNcbiAgICAvLyB0byBhIGxpbmUgYnJlYWsgb3IgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgLy8gVGhlIHJldHVybmVkIGFycmF5IHVzZXMgbnVsbCB0byBpbmRpY2F0ZSBsaW5lIGJyZWFrcywgYnV0IG5ldmVyXG4gICAgLy8gc3RhcnRzIG9yIGVuZHMgaW4gYSBsaW5lIGJyZWFrLCBvciBoYXMgbXVsdGlwbGUgbGluZSBicmVha3MgbmV4dFxuICAgIC8vIHRvIGVhY2ggb3RoZXIuXG4gICAgc3RhdGljIGJ1aWxkKG9yYWNsZSwgZGVjb3JhdGlvbnMsIGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IE5vZGVCdWlsZGVyKGZyb20sIG9yYWNsZSk7XG4gICAgICAgIFJhbmdlU2V0LnNwYW5zKGRlY29yYXRpb25zLCBmcm9tLCB0bywgYnVpbGRlciwgMCk7XG4gICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaChmcm9tKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvcjtcbiAgICBSYW5nZVNldC5jb21wYXJlKGEsIGIsIGRpZmYsIGNvbXAsIDApO1xuICAgIHJldHVybiBjb21wLmNoYW5nZXM7XG59XG5jbGFzcyBEZWNvcmF0aW9uQ29tcGFyYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBjb21wYXJlUmFuZ2UoKSB7IH1cbiAgICBjb21wYXJlUG9pbnQoZnJvbSwgdG8sIGEsIGIpIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBhICYmIGEuaGVpZ2h0UmVsZXZhbnQgfHwgYiAmJiBiLmhlaWdodFJlbGV2YW50KVxuICAgICAgICAgICAgYWRkUmFuZ2UoZnJvbSwgdG8sIHRoaXMuY2hhbmdlcywgNSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2aXNpYmxlUGl4ZWxSYW5nZShkb20sIHBhZGRpbmdUb3ApIHtcbiAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgZG9jID0gZG9tLm93bmVyRG9jdW1lbnQsIHdpbiA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgbGV0IGxlZnQgPSBNYXRoLm1heCgwLCByZWN0LmxlZnQpLCByaWdodCA9IE1hdGgubWluKHdpbi5pbm5lcldpZHRoLCByZWN0LnJpZ2h0KTtcbiAgICBsZXQgdG9wID0gTWF0aC5tYXgoMCwgcmVjdC50b3ApLCBib3R0b20gPSBNYXRoLm1pbih3aW4uaW5uZXJIZWlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTsgcGFyZW50ICYmIHBhcmVudCAhPSBkb2MuYm9keTspIHtcbiAgICAgICAgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgZWx0ID0gcGFyZW50O1xuICAgICAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWx0KTtcbiAgICAgICAgICAgIGlmICgoZWx0LnNjcm9sbEhlaWdodCA+IGVsdC5jbGllbnRIZWlnaHQgfHwgZWx0LnNjcm9sbFdpZHRoID4gZWx0LmNsaWVudFdpZHRoKSAmJlxuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ICE9IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudFJlY3QgPSBlbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIHBhcmVudFJlY3QubGVmdCk7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgcGFyZW50UmVjdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBwYXJlbnRSZWN0LnRvcCk7XG4gICAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5taW4ocGFyZW50ID09IGRvbS5wYXJlbnROb2RlID8gd2luLmlubmVySGVpZ2h0IDogYm90dG9tLCBwYXJlbnRSZWN0LmJvdHRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBzdHlsZS5wb3NpdGlvbiA9PSBcImFic29sdXRlXCIgfHwgc3R5bGUucG9zaXRpb24gPT0gXCJmaXhlZFwiID8gZWx0Lm9mZnNldFBhcmVudCA6IGVsdC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSAxMSkgeyAvLyBTaGFkb3cgcm9vdFxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBsZWZ0OiBsZWZ0IC0gcmVjdC5sZWZ0LCByaWdodDogTWF0aC5tYXgobGVmdCwgcmlnaHQpIC0gcmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IHRvcCAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApLCBib3R0b206IE1hdGgubWF4KHRvcCwgYm90dG9tKSAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApIH07XG59XG5mdW5jdGlvbiBpbldpbmRvdyhlbHQpIHtcbiAgICBsZXQgcmVjdCA9IGVsdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgd2luID0gZWx0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIHJldHVybiByZWN0LmxlZnQgPCB3aW4uaW5uZXJXaWR0aCAmJiByZWN0LnJpZ2h0ID4gMCAmJlxuICAgICAgICByZWN0LnRvcCA8IHdpbi5pbm5lckhlaWdodCAmJiByZWN0LmJvdHRvbSA+IDA7XG59XG5mdW5jdGlvbiBmdWxsUGl4ZWxSYW5nZShkb20sIHBhZGRpbmdUb3ApIHtcbiAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geyBsZWZ0OiAwLCByaWdodDogcmVjdC5yaWdodCAtIHJlY3QubGVmdCxcbiAgICAgICAgdG9wOiBwYWRkaW5nVG9wLCBib3R0b206IHJlY3QuYm90dG9tIC0gKHJlY3QudG9wICsgcGFkZGluZ1RvcCkgfTtcbn1cbi8vIExpbmUgZ2FwcyBhcmUgcGxhY2Vob2xkZXIgd2lkZ2V0cyB1c2VkIHRvIGhpZGUgcGllY2VzIG9mIG92ZXJsb25nXG4vLyBsaW5lcyB3aXRoaW4gdGhlIHZpZXdwb3J0LCBhcyBhIGtsdWRnZSB0byBrZWVwIHRoZSBlZGl0b3Jcbi8vIHJlc3BvbnNpdmUgd2hlbiBhIHJpZGljdWxvdXNseSBsb25nIGxpbmUgaXMgbG9hZGVkIGludG8gaXQuXG5jbGFzcyBMaW5lR2FwIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgc2l6ZSwgZGlzcGxheVNpemUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmRpc3BsYXlTaXplID0gZGlzcGxheVNpemU7XG4gICAgfVxuICAgIHN0YXRpYyBzYW1lKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBnQSA9IGFbaV0sIGdCID0gYltpXTtcbiAgICAgICAgICAgIGlmIChnQS5mcm9tICE9IGdCLmZyb20gfHwgZ0EudG8gIT0gZ0IudG8gfHwgZ0Euc2l6ZSAhPSBnQi5zaXplKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZHJhdyh2aWV3U3RhdGUsIHdyYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnJlcGxhY2Uoe1xuICAgICAgICAgICAgd2lkZ2V0OiBuZXcgTGluZUdhcFdpZGdldCh0aGlzLmRpc3BsYXlTaXplICogKHdyYXBwaW5nID8gdmlld1N0YXRlLnNjYWxlWSA6IHZpZXdTdGF0ZS5zY2FsZVgpLCB3cmFwcGluZylcbiAgICAgICAgfSkucmFuZ2UodGhpcy5mcm9tLCB0aGlzLnRvKTtcbiAgICB9XG59XG5jbGFzcyBMaW5lR2FwV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgdmVydGljYWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA9IHZlcnRpY2FsO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuc2l6ZSA9PSB0aGlzLnNpemUgJiYgb3RoZXIudmVydGljYWwgPT0gdGhpcy52ZXJ0aWNhbDsgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSB0aGlzLnNpemUgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbHQuc3R5bGUud2lkdGggPSB0aGlzLnNpemUgKyBcInB4XCI7XG4gICAgICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gXCIycHhcIjtcbiAgICAgICAgICAgIGVsdC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWx0O1xuICAgIH1cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuc2l6ZSA6IC0xOyB9XG59XG5jbGFzcyBWaWV3U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgLy8gVGhlc2UgYXJlIGNvbnRlbnRET00tbG9jYWwgY29vcmRpbmF0ZXNcbiAgICAgICAgdGhpcy5waXhlbFZpZXdwb3J0ID0geyBsZWZ0OiAwLCByaWdodDogd2luZG93LmlubmVyV2lkdGgsIHRvcDogMCwgYm90dG9tOiAwIH07XG4gICAgICAgIHRoaXMuaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wYWRkaW5nVG9wID0gMDsgLy8gUGFkZGluZyBhYm92ZSB0aGUgZG9jdW1lbnQsIHNjYWxlZFxuICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSAwOyAvLyBQYWRkaW5nIGJlbG93IHRoZSBkb2N1bWVudCwgc2NhbGVkXG4gICAgICAgIHRoaXMuY29udGVudERPTVdpZHRoID0gMDsgLy8gY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxuICAgICAgICB0aGlzLmNvbnRlbnRET01IZWlnaHQgPSAwOyAvLyBjb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICB0aGlzLmVkaXRvckhlaWdodCA9IDA7IC8vIHNjcm9sbERPTS5jbGllbnRIZWlnaHQsIHVuc2NhbGVkXG4gICAgICAgIHRoaXMuZWRpdG9yV2lkdGggPSAwOyAvLyBzY3JvbGxET00uY2xpZW50V2lkdGgsIHVuc2NhbGVkXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gMDsgLy8gTGFzdCBzZWVuIHNjcm9sbERPTS5zY3JvbGxUb3AsIHNjYWxlZFxuICAgICAgICB0aGlzLnNjcm9sbGVkVG9Cb3R0b20gPSBmYWxzZTtcbiAgICAgICAgLy8gVGhlIENTUy10cmFuc2Zvcm1hdGlvbiBzY2FsZSBvZiB0aGUgZWRpdG9yICh0cmFuc2Zvcm1lZCBzaXplIC9cbiAgICAgICAgLy8gY29uY3JldGUgc2l6ZSlcbiAgICAgICAgdGhpcy5zY2FsZVggPSAxO1xuICAgICAgICB0aGlzLnNjYWxlWSA9IDE7XG4gICAgICAgIC8vIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiAoZG9jdW1lbnQtcmVsYXRpdmUpIHRvIHdoaWNoIHRvIGFuY2hvciB0aGVcbiAgICAgICAgLy8gc2Nyb2xsIHBvc2l0aW9uLiAtMSBtZWFucyBhbmNob3IgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9yUG9zID0gMDtcbiAgICAgICAgLy8gVGhlIGhlaWdodCBhdCB0aGUgYW5jaG9yIHBvc2l0aW9uLiBTZXQgYnkgdGhlIERPTSB1cGRhdGUgcGhhc2UuXG4gICAgICAgIC8vIC0xIG1lYW5zIG5vIGhlaWdodCBhdmFpbGFibGUuXG4gICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgIC8vIFNlZSBWUC5NYXhET01IZWlnaHRcbiAgICAgICAgdGhpcy5zY2FsZXIgPSBJZFNjYWxlcjtcbiAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBCcmllZmx5IHNldCB0byB0cnVlIHdoZW4gcHJpbnRpbmcsIHRvIGRpc2FibGUgdmlld3BvcnQgbGltaXRpbmdcbiAgICAgICAgdGhpcy5wcmludGluZyA9IGZhbHNlO1xuICAgICAgICAvLyBGbGFnIHNldCB3aGVuIGVkaXRvciBjb250ZW50IHdhcyByZWRyYXduLCBzbyB0aGF0IHRoZSBuZXh0XG4gICAgICAgIC8vIG1lYXN1cmUgc3RhZ2Uga25vd3MgaXQgbXVzdCByZWFkIERPTSBsYXlvdXRcbiAgICAgICAgdGhpcy5tdXN0TWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXh0RGlyZWN0aW9uID0gRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgdGhpcy52aXNpYmxlUmFuZ2VzID0gW107XG4gICAgICAgIC8vIEN1cnNvciAnYXNzb2MnIGlzIG9ubHkgc2lnbmlmaWNhbnQgd2hlbiB0aGUgY3Vyc29yIGlzIG9uIGEgbGluZVxuICAgICAgICAvLyB3cmFwIHBvaW50LCB3aGVyZSBpdCBtdXN0IHN0aWNrIHRvIHRoZSBjaGFyYWN0ZXIgdGhhdCBpdCBpc1xuICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGguIFNpbmNlIGJyb3dzZXJzIGRvbid0IHByb3ZpZGUgYSByZWFzb25hYmxlXG4gICAgICAgIC8vIGludGVyZmFjZSB0byBzZXQgb3IgcXVlcnkgdGhpcywgd2hlbiBhIHNlbGVjdGlvbiBpcyBzZXQgdGhhdFxuICAgICAgICAvLyBtaWdodCBjYXVzZSB0aGlzIHRvIGJlIHNpZ25pZmljYW50LCB0aGlzIGZsYWcgaXMgc2V0LiBUaGUgbmV4dFxuICAgICAgICAvLyBtZWFzdXJlIHBoYXNlIHdpbGwgY2hlY2sgd2hldGhlciB0aGUgY3Vyc29yIGlzIG9uIGEgbGluZS13cmFwcGluZ1xuICAgICAgICAvLyBib3VuZGFyeSBhbmQsIGlmIHNvLCByZXNldCBpdCB0byBtYWtlIHN1cmUgaXQgaXMgcG9zaXRpb25lZCBpblxuICAgICAgICAvLyB0aGUgcmlnaHQgcGxhY2UuXG4gICAgICAgIHRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyA9IGZhbHNlO1xuICAgICAgICBsZXQgZ3Vlc3NXcmFwcGluZyA9IHN0YXRlLmZhY2V0KGNvbnRlbnRBdHRyaWJ1dGVzKS5zb21lKHYgPT4gdHlwZW9mIHYgIT0gXCJmdW5jdGlvblwiICYmIHYuY2xhc3MgPT0gXCJjbS1saW5lV3JhcHBpbmdcIik7XG4gICAgICAgIHRoaXMuaGVpZ2h0T3JhY2xlID0gbmV3IEhlaWdodE9yYWNsZShndWVzc1dyYXBwaW5nKTtcbiAgICAgICAgdGhpcy5zdGF0ZURlY28gPSBzdGF0ZS5mYWNldChkZWNvcmF0aW9ucykuZmlsdGVyKGQgPT4gdHlwZW9mIGQgIT0gXCJmdW5jdGlvblwiKTtcbiAgICAgICAgdGhpcy5oZWlnaHRNYXAgPSBIZWlnaHRNYXAuZW1wdHkoKS5hcHBseUNoYW5nZXModGhpcy5zdGF0ZURlY28sIFRleHQuZW1wdHksIHRoaXMuaGVpZ2h0T3JhY2xlLnNldERvYyhzdGF0ZS5kb2MpLCBbbmV3IENoYW5nZWRSYW5nZSgwLCAwLCAwLCBzdGF0ZS5kb2MubGVuZ3RoKV0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydCA9IHRoaXMuZ2V0Vmlld3BvcnQoMCwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMudXBkYXRlRm9yVmlld3BvcnQoKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgdGhpcy5saW5lR2FwcyA9IHRoaXMuZW5zdXJlTGluZUdhcHMoW10pO1xuICAgICAgICB0aGlzLmxpbmVHYXBEZWNvID0gRGVjb3JhdGlvbi5zZXQodGhpcy5saW5lR2Fwcy5tYXAoZ2FwID0+IGdhcC5kcmF3KHRoaXMsIGZhbHNlKSkpO1xuICAgICAgICB0aGlzLmNvbXB1dGVWaXNpYmxlUmFuZ2VzKCk7XG4gICAgfVxuICAgIHVwZGF0ZUZvclZpZXdwb3J0KCkge1xuICAgICAgICBsZXQgdmlld3BvcnRzID0gW3RoaXMudmlld3BvcnRdLCB7IG1haW4gfSA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAxOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBpID8gbWFpbi5oZWFkIDogbWFpbi5hbmNob3I7XG4gICAgICAgICAgICBpZiAoIXZpZXdwb3J0cy5zb21lKCh7IGZyb20sIHRvIH0pID0+IHBvcyA+PSBmcm9tICYmIHBvcyA8PSB0bykpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gdGhpcy5saW5lQmxvY2tBdChwb3MpO1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0cy5wdXNoKG5ldyBWaWV3cG9ydChmcm9tLCB0bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld3BvcnRzID0gdmlld3BvcnRzLnNvcnQoKGEsIGIpID0+IGEuZnJvbSAtIGIuZnJvbSk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVNjYWxlcigpO1xuICAgIH1cbiAgICB1cGRhdGVTY2FsZXIoKSB7XG4gICAgICAgIGxldCBzY2FsZXIgPSB0aGlzLnNjYWxlcjtcbiAgICAgICAgdGhpcy5zY2FsZXIgPSB0aGlzLmhlaWdodE1hcC5oZWlnaHQgPD0gNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gPyBJZFNjYWxlciA6XG4gICAgICAgICAgICBuZXcgQmlnU2NhbGVyKHRoaXMuaGVpZ2h0T3JhY2xlLCB0aGlzLmhlaWdodE1hcCwgdGhpcy52aWV3cG9ydHMpO1xuICAgICAgICByZXR1cm4gc2NhbGVyLmVxKHRoaXMuc2NhbGVyKSA/IDAgOiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgIH1cbiAgICB1cGRhdGVWaWV3cG9ydExpbmVzKCkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5oZWlnaHRNYXAuZm9yRWFjaExpbmUodGhpcy52aWV3cG9ydC5mcm9tLCB0aGlzLnZpZXdwb3J0LnRvLCB0aGlzLmhlaWdodE9yYWNsZS5zZXREb2ModGhpcy5zdGF0ZS5kb2MpLCAwLCAwLCBibG9jayA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMucHVzaChzY2FsZUJsb2NrKGJsb2NrLCB0aGlzLnNjYWxlcikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSwgc2Nyb2xsVGFyZ2V0ID0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gdXBkYXRlLnN0YXRlO1xuICAgICAgICBsZXQgcHJldkRlY28gPSB0aGlzLnN0YXRlRGVjbztcbiAgICAgICAgdGhpcy5zdGF0ZURlY28gPSB0aGlzLnN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5maWx0ZXIoZCA9PiB0eXBlb2YgZCAhPSBcImZ1bmN0aW9uXCIpO1xuICAgICAgICBsZXQgY29udGVudENoYW5nZXMgPSB1cGRhdGUuY2hhbmdlZFJhbmdlcztcbiAgICAgICAgbGV0IGhlaWdodENoYW5nZXMgPSBDaGFuZ2VkUmFuZ2UuZXh0ZW5kV2l0aFJhbmdlcyhjb250ZW50Q2hhbmdlcywgaGVpZ2h0UmVsZXZhbnREZWNvQ2hhbmdlcyhwcmV2RGVjbywgdGhpcy5zdGF0ZURlY28sIHVwZGF0ZSA/IHVwZGF0ZS5jaGFuZ2VzIDogQ2hhbmdlU2V0LmVtcHR5KHRoaXMuc3RhdGUuZG9jLmxlbmd0aCkpKTtcbiAgICAgICAgbGV0IHByZXZIZWlnaHQgPSB0aGlzLmhlaWdodE1hcC5oZWlnaHQ7XG4gICAgICAgIGxldCBzY3JvbGxBbmNob3IgPSB0aGlzLnNjcm9sbGVkVG9Cb3R0b20gPyBudWxsIDogdGhpcy5zY3JvbGxBbmNob3JBdCh0aGlzLnNjcm9sbFRvcCk7XG4gICAgICAgIGNsZWFySGVpZ2h0Q2hhbmdlRmxhZygpO1xuICAgICAgICB0aGlzLmhlaWdodE1hcCA9IHRoaXMuaGVpZ2h0TWFwLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgdXBkYXRlLnN0YXJ0U3RhdGUuZG9jLCB0aGlzLmhlaWdodE9yYWNsZS5zZXREb2ModGhpcy5zdGF0ZS5kb2MpLCBoZWlnaHRDaGFuZ2VzKTtcbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0TWFwLmhlaWdodCAhPSBwcmV2SGVpZ2h0IHx8IGhlaWdodENoYW5nZUZsYWcpXG4gICAgICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLztcbiAgICAgICAgaWYgKHNjcm9sbEFuY2hvcikge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JQb3MgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3Moc2Nyb2xsQW5jaG9yLmZyb20sIC0xKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gc2Nyb2xsQW5jaG9yLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9yUG9zID0gLTE7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IHByZXZIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZpZXdwb3J0ID0gaGVpZ2h0Q2hhbmdlcy5sZW5ndGggPyB0aGlzLm1hcFZpZXdwb3J0KHRoaXMudmlld3BvcnQsIHVwZGF0ZS5jaGFuZ2VzKSA6IHRoaXMudmlld3BvcnQ7XG4gICAgICAgIGlmIChzY3JvbGxUYXJnZXQgJiYgKHNjcm9sbFRhcmdldC5yYW5nZS5oZWFkIDwgdmlld3BvcnQuZnJvbSB8fCBzY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA+IHZpZXdwb3J0LnRvKSB8fFxuICAgICAgICAgICAgIXRoaXMudmlld3BvcnRJc0FwcHJvcHJpYXRlKHZpZXdwb3J0KSlcbiAgICAgICAgICAgIHZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydCgwLCBzY3JvbGxUYXJnZXQpO1xuICAgICAgICBsZXQgdmlld3BvcnRDaGFuZ2UgPSB2aWV3cG9ydC5mcm9tICE9IHRoaXMudmlld3BvcnQuZnJvbSB8fCB2aWV3cG9ydC50byAhPSB0aGlzLnZpZXdwb3J0LnRvO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgICAgIHVwZGF0ZS5mbGFncyB8PSB0aGlzLnVwZGF0ZUZvclZpZXdwb3J0KCk7XG4gICAgICAgIGlmICh2aWV3cG9ydENoYW5nZSB8fCAhdXBkYXRlLmNoYW5nZXMuZW1wdHkgfHwgKHVwZGF0ZS5mbGFncyAmIDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydExpbmVzKCk7XG4gICAgICAgIGlmICh0aGlzLmxpbmVHYXBzLmxlbmd0aCB8fCB0aGlzLnZpZXdwb3J0LnRvIC0gdGhpcy52aWV3cG9ydC5mcm9tID4gKDIwMDAgLyogTEcuTWFyZ2luICovIDw8IDEpKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5lR2Fwcyh0aGlzLmVuc3VyZUxpbmVHYXBzKHRoaXMubWFwTGluZUdhcHModGhpcy5saW5lR2FwcywgdXBkYXRlLmNoYW5nZXMpKSk7XG4gICAgICAgIHVwZGF0ZS5mbGFncyB8PSB0aGlzLmNvbXB1dGVWaXNpYmxlUmFuZ2VzKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldClcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0ID0gc2Nyb2xsVGFyZ2V0O1xuICAgICAgICBpZiAoIXRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyAmJiB1cGRhdGUuc2VsZWN0aW9uU2V0ICYmIHVwZGF0ZS52aWV3LmxpbmVXcmFwcGluZyAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmIHVwZGF0ZS5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hc3NvYyAmJlxuICAgICAgICAgICAgIXVwZGF0ZS5zdGF0ZS5mYWNldChuYXRpdmVTZWxlY3Rpb25IaWRkZW4pKVxuICAgICAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gdHJ1ZTtcbiAgICB9XG4gICAgbWVhc3VyZSh2aWV3KSB7XG4gICAgICAgIGxldCBkb20gPSB2aWV3LmNvbnRlbnRET00sIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tKTtcbiAgICAgICAgbGV0IG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBzdHlsZS5kaXJlY3Rpb24gPT0gXCJydGxcIiA/IERpcmVjdGlvbi5SVEwgOiBEaXJlY3Rpb24uTFRSO1xuICAgICAgICBsZXQgcmVmcmVzaCA9IHRoaXMuaGVpZ2h0T3JhY2xlLm11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSk7XG4gICAgICAgIGxldCBkb21SZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgbWVhc3VyZUNvbnRlbnQgPSByZWZyZXNoIHx8IHRoaXMubXVzdE1lYXN1cmVDb250ZW50IHx8IHRoaXMuY29udGVudERPTUhlaWdodCAhPSBkb21SZWN0LmhlaWdodDtcbiAgICAgICAgdGhpcy5jb250ZW50RE9NSGVpZ2h0ID0gZG9tUmVjdC5oZWlnaHQ7XG4gICAgICAgIHRoaXMubXVzdE1lYXN1cmVDb250ZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCByZXN1bHQgPSAwLCBiaWFzID0gMDtcbiAgICAgICAgaWYgKGRvbVJlY3Qud2lkdGggJiYgZG9tUmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSBnZXRTY2FsZShkb20sIGRvbVJlY3QpO1xuICAgICAgICAgICAgaWYgKHNjYWxlWCA+IC4wMDUgJiYgTWF0aC5hYnModGhpcy5zY2FsZVggLSBzY2FsZVgpID4gLjAwNSB8fFxuICAgICAgICAgICAgICAgIHNjYWxlWSA+IC4wMDUgJiYgTWF0aC5hYnModGhpcy5zY2FsZVkgLSBzY2FsZVkpID4gLjAwNSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVYID0gc2NhbGVYO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgICAgICAgIHJlc3VsdCB8PSAxNiAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovO1xuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSBtZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmVydGljYWwgcGFkZGluZ1xuICAgICAgICBsZXQgcGFkZGluZ1RvcCA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nVG9wKSB8fCAwKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBsZXQgcGFkZGluZ0JvdHRvbSA9IChwYXJzZUludChzdHlsZS5wYWRkaW5nQm90dG9tKSB8fCAwKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBpZiAodGhpcy5wYWRkaW5nVG9wICE9IHBhZGRpbmdUb3AgfHwgdGhpcy5wYWRkaW5nQm90dG9tICE9IHBhZGRpbmdCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3A7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tO1xuICAgICAgICAgICAgcmVzdWx0IHw9IDE2IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi8gfCAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVkaXRvcldpZHRoICE9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgICAgICBtZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVkaXRvcldpZHRoID0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGg7XG4gICAgICAgICAgICByZXN1bHQgfD0gMTYgLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2Nyb2xsVG9wID0gdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICogdGhpcy5zY2FsZVk7XG4gICAgICAgIGlmICh0aGlzLnNjcm9sbFRvcCAhPSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbGVkVG9Cb3R0b20gPSBpc1Njcm9sbGVkVG9Cb3R0b20odmlldy5zY3JvbGxET00pO1xuICAgICAgICAvLyBQaXhlbCB2aWV3cG9ydFxuICAgICAgICBsZXQgcGl4ZWxWaWV3cG9ydCA9ICh0aGlzLnByaW50aW5nID8gZnVsbFBpeGVsUmFuZ2UgOiB2aXNpYmxlUGl4ZWxSYW5nZSkoZG9tLCB0aGlzLnBhZGRpbmdUb3ApO1xuICAgICAgICBsZXQgZFRvcCA9IHBpeGVsVmlld3BvcnQudG9wIC0gdGhpcy5waXhlbFZpZXdwb3J0LnRvcCwgZEJvdHRvbSA9IHBpeGVsVmlld3BvcnQuYm90dG9tIC0gdGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbTtcbiAgICAgICAgdGhpcy5waXhlbFZpZXdwb3J0ID0gcGl4ZWxWaWV3cG9ydDtcbiAgICAgICAgbGV0IGluVmlldyA9IHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b20gPiB0aGlzLnBpeGVsVmlld3BvcnQudG9wICYmIHRoaXMucGl4ZWxWaWV3cG9ydC5yaWdodCA+IHRoaXMucGl4ZWxWaWV3cG9ydC5sZWZ0O1xuICAgICAgICBpZiAoaW5WaWV3ICE9IHRoaXMuaW5WaWV3KSB7XG4gICAgICAgICAgICB0aGlzLmluVmlldyA9IGluVmlldztcbiAgICAgICAgICAgIGlmIChpblZpZXcpXG4gICAgICAgICAgICAgICAgbWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pblZpZXcgJiYgIXRoaXMuc2Nyb2xsVGFyZ2V0ICYmICFpbldpbmRvdyh2aWV3LmRvbSkpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IGNvbnRlbnRXaWR0aCA9IGRvbVJlY3Qud2lkdGg7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET01XaWR0aCAhPSBjb250ZW50V2lkdGggfHwgdGhpcy5lZGl0b3JIZWlnaHQgIT0gdmlldy5zY3JvbGxET00uY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRET01XaWR0aCA9IGRvbVJlY3Qud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmVkaXRvckhlaWdodCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHJlc3VsdCB8PSAxNiAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWFzdXJlQ29udGVudCkge1xuICAgICAgICAgICAgbGV0IGxpbmVIZWlnaHRzID0gdmlldy5kb2NWaWV3Lm1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHModGhpcy52aWV3cG9ydCk7XG4gICAgICAgICAgICBpZiAob3JhY2xlLm11c3RSZWZyZXNoRm9ySGVpZ2h0cyhsaW5lSGVpZ2h0cykpXG4gICAgICAgICAgICAgICAgcmVmcmVzaCA9IHRydWU7XG4gICAgICAgICAgICBpZiAocmVmcmVzaCB8fCBvcmFjbGUubGluZVdyYXBwaW5nICYmIE1hdGguYWJzKGNvbnRlbnRXaWR0aCAtIHRoaXMuY29udGVudERPTVdpZHRoKSA+IG9yYWNsZS5jaGFyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQgfSA9IHZpZXcuZG9jVmlldy5tZWFzdXJlVGV4dFNpemUoKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoID0gbGluZUhlaWdodCA+IDAgJiYgb3JhY2xlLnJlZnJlc2god2hpdGVTcGFjZSwgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0LCBjb250ZW50V2lkdGggLyBjaGFyV2lkdGgsIGxpbmVIZWlnaHRzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmRvY1ZpZXcubWluV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgfD0gMTYgLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZFRvcCA+IDAgJiYgZEJvdHRvbSA+IDApXG4gICAgICAgICAgICAgICAgYmlhcyA9IE1hdGgubWF4KGRUb3AsIGRCb3R0b20pO1xuICAgICAgICAgICAgZWxzZSBpZiAoZFRvcCA8IDAgJiYgZEJvdHRvbSA8IDApXG4gICAgICAgICAgICAgICAgYmlhcyA9IE1hdGgubWluKGRUb3AsIGRCb3R0b20pO1xuICAgICAgICAgICAgY2xlYXJIZWlnaHRDaGFuZ2VGbGFnKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB2cCBvZiB0aGlzLnZpZXdwb3J0cykge1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHRzID0gdnAuZnJvbSA9PSB0aGlzLnZpZXdwb3J0LmZyb20gPyBsaW5lSGVpZ2h0cyA6IHZpZXcuZG9jVmlldy5tZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzKHZwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodE1hcCA9IChyZWZyZXNoID8gSGVpZ2h0TWFwLmVtcHR5KCkuYXBwbHlDaGFuZ2VzKHRoaXMuc3RhdGVEZWNvLCBUZXh0LmVtcHR5LCB0aGlzLmhlaWdodE9yYWNsZSwgW25ldyBDaGFuZ2VkUmFuZ2UoMCwgMCwgMCwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoKV0pIDogdGhpcy5oZWlnaHRNYXApLnVwZGF0ZUhlaWdodChvcmFjbGUsIDAsIHJlZnJlc2gsIG5ldyBNZWFzdXJlZEhlaWdodHModnAuZnJvbSwgaGVpZ2h0cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlaWdodENoYW5nZUZsYWcpXG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZpZXdwb3J0Q2hhbmdlID0gIXRoaXMudmlld3BvcnRJc0FwcHJvcHJpYXRlKHRoaXMudmlld3BvcnQsIGJpYXMpIHx8XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCAmJiAodGhpcy5zY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA8IHRoaXMudmlld3BvcnQuZnJvbSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPiB0aGlzLnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKHZpZXdwb3J0Q2hhbmdlKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLylcbiAgICAgICAgICAgICAgICByZXN1bHQgfD0gdGhpcy51cGRhdGVTY2FsZXIoKTtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KGJpYXMsIHRoaXMuc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgICAgIHJlc3VsdCB8PSB0aGlzLnVwZGF0ZUZvclZpZXdwb3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChyZXN1bHQgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSB8fCB2aWV3cG9ydENoYW5nZSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRMaW5lcygpO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGggfHwgdGhpcy52aWV3cG9ydC50byAtIHRoaXMudmlld3BvcnQuZnJvbSA+ICgyMDAwIC8qIExHLk1hcmdpbiAqLyA8PCAxKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGluZUdhcHModGhpcy5lbnN1cmVMaW5lR2FwcyhyZWZyZXNoID8gW10gOiB0aGlzLmxpbmVHYXBzLCB2aWV3KSk7XG4gICAgICAgIHJlc3VsdCB8PSB0aGlzLmNvbXB1dGVWaXNpYmxlUmFuZ2VzKCk7XG4gICAgICAgIGlmICh0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MpIHtcbiAgICAgICAgICAgIHRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBkb25lIGluIHRoZSByZWFkIHN0YWdlLCBiZWNhdXNlIG1vdmluZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAvLyB0byBhIGxpbmUgZW5kIGlzIGdvaW5nIHRvIHRyaWdnZXIgYSBsYXlvdXQgYW55d2F5LCBzbyBpdFxuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgYSBwdXJlIHdyaXRlLiBJdCBzaG91bGQgYmUgcmFyZSB0aGF0IGl0IGRvZXMgYW55XG4gICAgICAgICAgICAvLyB3cml0aW5nLlxuICAgICAgICAgICAgdmlldy5kb2NWaWV3LmVuZm9yY2VDdXJzb3JBc3NvYygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGdldCB2aXNpYmxlVG9wKCkgeyByZXR1cm4gdGhpcy5zY2FsZXIuZnJvbURPTSh0aGlzLnBpeGVsVmlld3BvcnQudG9wKTsgfVxuICAgIGdldCB2aXNpYmxlQm90dG9tKCkgeyByZXR1cm4gdGhpcy5zY2FsZXIuZnJvbURPTSh0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tKTsgfVxuICAgIGdldFZpZXdwb3J0KGJpYXMsIHNjcm9sbFRhcmdldCkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgZGl2aWRlIFZQLk1hcmdpbiBiZXR3ZWVuIHRoZSB0b3AgYW5kIHRoZVxuICAgICAgICAvLyBib3R0b20sIGRlcGVuZGluZyBvbiB0aGUgYmlhcyAodGhlIGNoYW5nZSBpbiB2aWV3cG9ydCBwb3NpdGlvblxuICAgICAgICAvLyBzaW5jZSB0aGUgbGFzdCB1cGRhdGUpLiBJdCdsbCBob2xkIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxuICAgICAgICBsZXQgbWFyZ2luVG9wID0gMC41IC0gTWF0aC5tYXgoLTAuNSwgTWF0aC5taW4oMC41LCBiaWFzIC8gMTAwMCAvKiBWUC5NYXJnaW4gKi8gLyAyKSk7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLmhlaWdodE1hcCwgb3JhY2xlID0gdGhpcy5oZWlnaHRPcmFjbGU7XG4gICAgICAgIGxldCB7IHZpc2libGVUb3AsIHZpc2libGVCb3R0b20gfSA9IHRoaXM7XG4gICAgICAgIGxldCB2aWV3cG9ydCA9IG5ldyBWaWV3cG9ydChtYXAubGluZUF0KHZpc2libGVUb3AgLSBtYXJnaW5Ub3AgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLywgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLmZyb20sIG1hcC5saW5lQXQodmlzaWJsZUJvdHRvbSArICgxIC0gbWFyZ2luVG9wKSAqIDEwMDAgLyogVlAuTWFyZ2luICovLCBRdWVyeVR5cGUuQnlIZWlnaHQsIG9yYWNsZSwgMCwgMCkudG8pO1xuICAgICAgICAvLyBJZiBzY3JvbGxUYXJnZXQgaXMgZ2l2ZW4sIG1ha2Ugc3VyZSB0aGUgdmlld3BvcnQgaW5jbHVkZXMgdGhhdCBwb3NpdGlvblxuICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KSB7XG4gICAgICAgICAgICBsZXQgeyBoZWFkIH0gPSBzY3JvbGxUYXJnZXQucmFuZ2U7XG4gICAgICAgICAgICBpZiAoaGVhZCA8IHZpZXdwb3J0LmZyb20gfHwgaGVhZCA+IHZpZXdwb3J0LnRvKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpZXdIZWlnaHQgPSBNYXRoLm1pbih0aGlzLmVkaXRvckhlaWdodCwgdGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbSAtIHRoaXMucGl4ZWxWaWV3cG9ydC50b3ApO1xuICAgICAgICAgICAgICAgIGxldCBibG9jayA9IG1hcC5saW5lQXQoaGVhZCwgUXVlcnlUeXBlLkJ5UG9zLCBvcmFjbGUsIDAsIDApLCB0b3BQb3M7XG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRhcmdldC55ID09IFwiY2VudGVyXCIpXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IChibG9jay50b3AgKyBibG9jay5ib3R0b20pIC8gMiAtIHZpZXdIZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNjcm9sbFRhcmdldC55ID09IFwic3RhcnRcIiB8fCBzY3JvbGxUYXJnZXQueSA9PSBcIm5lYXJlc3RcIiAmJiBoZWFkIDwgdmlld3BvcnQuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gYmxvY2sudG9wO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gYmxvY2suYm90dG9tIC0gdmlld0hlaWdodDtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydCA9IG5ldyBWaWV3cG9ydChtYXAubGluZUF0KHRvcFBvcyAtIDEwMDAgLyogVlAuTWFyZ2luICovIC8gMiwgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLmZyb20sIG1hcC5saW5lQXQodG9wUG9zICsgdmlld0hlaWdodCArIDEwMDAgLyogVlAuTWFyZ2luICovIC8gMiwgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLnRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld3BvcnQ7XG4gICAgfVxuICAgIG1hcFZpZXdwb3J0KHZpZXdwb3J0LCBjaGFuZ2VzKSB7XG4gICAgICAgIGxldCBmcm9tID0gY2hhbmdlcy5tYXBQb3Modmlld3BvcnQuZnJvbSwgLTEpLCB0byA9IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LnRvLCAxKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3cG9ydCh0aGlzLmhlaWdodE1hcC5saW5lQXQoZnJvbSwgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCkuZnJvbSwgdGhpcy5oZWlnaHRNYXAubGluZUF0KHRvLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKS50byk7XG4gICAgfVxuICAgIC8vIENoZWNrcyBpZiBhIGdpdmVuIHZpZXdwb3J0IGNvdmVycyB0aGUgdmlzaWJsZSBwYXJ0IG9mIHRoZVxuICAgIC8vIGRvY3VtZW50IGFuZCBub3QgdG9vIG11Y2ggYmV5b25kIHRoYXQuXG4gICAgdmlld3BvcnRJc0FwcHJvcHJpYXRlKHsgZnJvbSwgdG8gfSwgYmlhcyA9IDApIHtcbiAgICAgICAgaWYgKCF0aGlzLmluVmlldylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgeyB0b3AgfSA9IHRoaXMuaGVpZ2h0TWFwLmxpbmVBdChmcm9tLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKTtcbiAgICAgICAgbGV0IHsgYm90dG9tIH0gPSB0aGlzLmhlaWdodE1hcC5saW5lQXQodG8sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApO1xuICAgICAgICBsZXQgeyB2aXNpYmxlVG9wLCB2aXNpYmxlQm90dG9tIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGZyb20gPT0gMCB8fCB0b3AgPD0gdmlzaWJsZVRvcCAtIE1hdGgubWF4KDEwIC8qIFZQLk1pbkNvdmVyTWFyZ2luICovLCBNYXRoLm1pbigtYmlhcywgMjUwIC8qIFZQLk1heENvdmVyTWFyZ2luICovKSkpICYmXG4gICAgICAgICAgICAodG8gPT0gdGhpcy5zdGF0ZS5kb2MubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgYm90dG9tID49IHZpc2libGVCb3R0b20gKyBNYXRoLm1heCgxMCAvKiBWUC5NaW5Db3Zlck1hcmdpbiAqLywgTWF0aC5taW4oYmlhcywgMjUwIC8qIFZQLk1heENvdmVyTWFyZ2luICovKSkpICYmXG4gICAgICAgICAgICAodG9wID4gdmlzaWJsZVRvcCAtIDIgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLyAmJiBib3R0b20gPCB2aXNpYmxlQm90dG9tICsgMiAqIDEwMDAgLyogVlAuTWFyZ2luICovKTtcbiAgICB9XG4gICAgbWFwTGluZUdhcHMoZ2FwcywgY2hhbmdlcykge1xuICAgICAgICBpZiAoIWdhcHMubGVuZ3RoIHx8IGNoYW5nZXMuZW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gZ2FwcztcbiAgICAgICAgbGV0IG1hcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBnYXAgb2YgZ2FwcylcbiAgICAgICAgICAgIGlmICghY2hhbmdlcy50b3VjaGVzUmFuZ2UoZ2FwLmZyb20sIGdhcC50bykpXG4gICAgICAgICAgICAgICAgbWFwcGVkLnB1c2gobmV3IExpbmVHYXAoY2hhbmdlcy5tYXBQb3MoZ2FwLmZyb20pLCBjaGFuZ2VzLm1hcFBvcyhnYXAudG8pLCBnYXAuc2l6ZSwgZ2FwLmRpc3BsYXlTaXplKSk7XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIC8vIENvbXB1dGVzIHBvc2l0aW9ucyBpbiB0aGUgdmlld3BvcnQgd2hlcmUgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhXG4gICAgLy8gbGluZSBzaG91bGQgYmUgaGlkZGVuLCB0cnlpbmcgdG8gcmV1c2UgZXhpc3RpbmcgbGluZSBnYXBzIHdoZW5cbiAgICAvLyBhcHByb3ByaWF0ZSB0byBhdm9pZCB1bm5lY2Nlc2FyeSByZWRyYXdzLlxuICAgIC8vIFVzZXMgY3J1ZGUgY2hhcmFjdGVyLWNvdW50aW5nIGZvciB0aGUgcG9zaXRpb25pbmcgYW5kIHNpemluZyxcbiAgICAvLyBzaW5jZSBhY3R1YWwgRE9NIGNvb3JkaW5hdGVzIGFyZW4ndCBhbHdheXMgYXZhaWxhYmxlIGFuZFxuICAgIC8vIHByZWRpY3RhYmxlLiBSZWxpZXMgb24gZ2VuZXJvdXMgbWFyZ2lucyAoc2VlIExHLk1hcmdpbikgdG8gaGlkZVxuICAgIC8vIHRoZSBhcnRpZmFjdHMgdGhpcyBtaWdodCBwcm9kdWNlIGZyb20gdGhlIHVzZXIuXG4gICAgZW5zdXJlTGluZUdhcHMoY3VycmVudCwgbWF5TWVhc3VyZSkge1xuICAgICAgICBsZXQgd3JhcHBpbmcgPSB0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmc7XG4gICAgICAgIGxldCBtYXJnaW4gPSB3cmFwcGluZyA/IDEwMDAwIC8qIExHLk1hcmdpbldyYXAgKi8gOiAyMDAwIC8qIExHLk1hcmdpbiAqLywgaGFsZk1hcmdpbiA9IG1hcmdpbiA+PiAxLCBkb3VibGVNYXJnaW4gPSBtYXJnaW4gPDwgMTtcbiAgICAgICAgLy8gVGhlIG5vbi13cmFwcGluZyBsb2dpYyB3b24ndCB3b3JrIGF0IGFsbCBpbiBwcmVkb21pbmFudGx5IHJpZ2h0LXRvLWxlZnQgdGV4dC5cbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gIT0gRGlyZWN0aW9uLkxUUiAmJiAhd3JhcHBpbmcpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGxldCBnYXBzID0gW107XG4gICAgICAgIGxldCBhZGRHYXAgPSAoZnJvbSwgdG8sIGxpbmUsIHN0cnVjdHVyZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRvIC0gZnJvbSA8IGhhbGZNYXJnaW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHNlbCA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uLm1haW4sIGF2b2lkID0gW3NlbC5mcm9tXTtcbiAgICAgICAgICAgIGlmICghc2VsLmVtcHR5KVxuICAgICAgICAgICAgICAgIGF2b2lkLnB1c2goc2VsLnRvKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyBvZiBhdm9pZCkge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tICYmIHBvcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEdhcChmcm9tLCBwb3MgLSAxMCAvKiBMRy5TZWxlY3Rpb25NYXJnaW4gKi8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEdhcChwb3MgKyAxMCAvKiBMRy5TZWxlY3Rpb25NYXJnaW4gKi8sIHRvLCBsaW5lLCBzdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGdhcCA9IGZpbmQoY3VycmVudCwgZ2FwID0+IGdhcC5mcm9tID49IGxpbmUuZnJvbSAmJiBnYXAudG8gPD0gbGluZS50byAmJlxuICAgICAgICAgICAgICAgIE1hdGguYWJzKGdhcC5mcm9tIC0gZnJvbSkgPCBoYWxmTWFyZ2luICYmIE1hdGguYWJzKGdhcC50byAtIHRvKSA8IGhhbGZNYXJnaW4gJiZcbiAgICAgICAgICAgICAgICAhYXZvaWQuc29tZShwb3MgPT4gZ2FwLmZyb20gPCBwb3MgJiYgZ2FwLnRvID4gcG9zKSk7XG4gICAgICAgICAgICBpZiAoIWdhcCkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gc2Nyb2xsaW5nIGRvd24sIHNuYXAgZ2FwIGVuZHMgdG8gbGluZSBzdGFydHMgdG8gYXZvaWQgc2hpZnRzIGluIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRvIDwgbGluZS50byAmJiBtYXlNZWFzdXJlICYmIHdyYXBwaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG1heU1lYXN1cmUudmlzaWJsZVJhbmdlcy5zb21lKHIgPT4gci5mcm9tIDw9IHRvICYmIHIudG8gPj0gdG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lU3RhcnQgPSBtYXlNZWFzdXJlLm1vdmVUb0xpbmVCb3VuZGFyeShFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHRvKSwgZmFsc2UsIHRydWUpLmhlYWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lU3RhcnQgPiBmcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBsaW5lU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzaXplID0gdGhpcy5nYXBTaXplKGxpbmUsIGZyb20sIHRvLCBzdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5U2l6ZSA9IHdyYXBwaW5nIHx8IHNpemUgPCAyMDAwMDAwIC8qIFZQLk1heEhvcml6R2FwICovID8gc2l6ZSA6IDIwMDAwMDAgLyogVlAuTWF4SG9yaXpHYXAgKi87XG4gICAgICAgICAgICAgICAgZ2FwID0gbmV3IExpbmVHYXAoZnJvbSwgdG8sIHNpemUsIGRpc3BsYXlTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdhcHMucHVzaChnYXApO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgY2hlY2tMaW5lID0gKGxpbmUpID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA8IGRvdWJsZU1hcmdpbiB8fCBsaW5lLnR5cGUgIT0gQmxvY2tUeXBlLlRleHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHN0cnVjdHVyZSA9IGxpbmVTdHJ1Y3R1cmUobGluZS5mcm9tLCBsaW5lLnRvLCB0aGlzLnN0YXRlRGVjbyk7XG4gICAgICAgICAgICBpZiAoc3RydWN0dXJlLnRvdGFsIDwgZG91YmxlTWFyZ2luKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnNjcm9sbFRhcmdldCA/IHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgOiBudWxsO1xuICAgICAgICAgICAgbGV0IHZpZXdGcm9tLCB2aWV3VG87XG4gICAgICAgICAgICBpZiAod3JhcHBpbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luSGVpZ2h0ID0gKG1hcmdpbiAvIHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVMZW5ndGgpICogdGhpcy5oZWlnaHRPcmFjbGUubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBsZXQgdG9wLCBib3Q7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRGcmFjID0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNwYWNlRnJhYyA9ICgodGhpcy52aXNpYmxlQm90dG9tIC0gdGhpcy52aXNpYmxlVG9wKSAvIDIgKyBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHRhcmdldEZyYWMgLSBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgICAgIGJvdCA9IHRhcmdldEZyYWMgKyBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSAodGhpcy52aXNpYmxlVG9wIC0gbGluZS50b3AgLSBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGJvdCA9ICh0aGlzLnZpc2libGVCb3R0b20gLSBsaW5lLnRvcCArIG1hcmdpbkhlaWdodCkgLyBsaW5lLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlld0Zyb20gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCB0b3ApO1xuICAgICAgICAgICAgICAgIHZpZXdUbyA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIGJvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxXaWR0aCA9IHN0cnVjdHVyZS50b3RhbCAqIHRoaXMuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aDtcbiAgICAgICAgICAgICAgICBsZXQgbWFyZ2luV2lkdGggPSBtYXJnaW4gKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IGhvcml6T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodG90YWxXaWR0aCA+IDIwMDAwMDAgLyogVlAuTWF4SG9yaXpHYXAgKi8pXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG9sZCBvZiBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkLmZyb20gPj0gbGluZS5mcm9tICYmIG9sZC5mcm9tIDwgbGluZS50byAmJiBvbGQuc2l6ZSAhPSBvbGQuZGlzcGxheVNpemUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQuZnJvbSAqIHRoaXMuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aCArIGhvcml6T2Zmc2V0IDwgdGhpcy5waXhlbFZpZXdwb3J0LmxlZnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpPZmZzZXQgPSBvbGQuc2l6ZSAtIG9sZC5kaXNwbGF5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBweExlZnQgPSB0aGlzLnBpeGVsVmlld3BvcnQubGVmdCArIGhvcml6T2Zmc2V0LCBweFJpZ2h0ID0gdGhpcy5waXhlbFZpZXdwb3J0LnJpZ2h0ICsgaG9yaXpPZmZzZXQ7XG4gICAgICAgICAgICAgICAgbGV0IGxlZnQsIHJpZ2h0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RnJhYyA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGFjZUZyYWMgPSAoKHB4UmlnaHQgLSBweExlZnQpIC8gMiArIG1hcmdpbldpZHRoKSAvIHRvdGFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRGcmFjIC0gc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHRhcmdldEZyYWMgKyBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gKHB4TGVmdCAtIG1hcmdpbldpZHRoKSAvIHRvdGFsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gKHB4UmlnaHQgKyBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3RnJvbSA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHZpZXdUbyA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIHJpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWV3RnJvbSA+IGxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICBhZGRHYXAobGluZS5mcm9tLCB2aWV3RnJvbSwgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgIGlmICh2aWV3VG8gPCBsaW5lLnRvKVxuICAgICAgICAgICAgICAgIGFkZEdhcCh2aWV3VG8sIGxpbmUudG8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy52aWV3cG9ydExpbmVzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5lLnR5cGUpKVxuICAgICAgICAgICAgICAgIGxpbmUudHlwZS5mb3JFYWNoKGNoZWNrTGluZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2hlY2tMaW5lKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnYXBzO1xuICAgIH1cbiAgICBnYXBTaXplKGxpbmUsIGZyb20sIHRvLCBzdHJ1Y3R1cmUpIHtcbiAgICAgICAgbGV0IGZyYWN0aW9uID0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgdG8pIC0gZmluZEZyYWN0aW9uKHN0cnVjdHVyZSwgZnJvbSk7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lLmhlaWdodCAqIGZyYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdHVyZS50b3RhbCAqIHRoaXMuaGVpZ2h0T3JhY2xlLmNoYXJXaWR0aCAqIGZyYWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUxpbmVHYXBzKGdhcHMpIHtcbiAgICAgICAgaWYgKCFMaW5lR2FwLnNhbWUoZ2FwcywgdGhpcy5saW5lR2FwcykpIHtcbiAgICAgICAgICAgIHRoaXMubGluZUdhcHMgPSBnYXBzO1xuICAgICAgICAgICAgdGhpcy5saW5lR2FwRGVjbyA9IERlY29yYXRpb24uc2V0KGdhcHMubWFwKGdhcCA9PiBnYXAuZHJhdyh0aGlzLCB0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmcpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZVZpc2libGVSYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBsZXQgZGVjbyA9IHRoaXMuc3RhdGVEZWNvO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGgpXG4gICAgICAgICAgICBkZWNvID0gZGVjby5jb25jYXQodGhpcy5saW5lR2FwRGVjbyk7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgUmFuZ2VTZXQuc3BhbnMoZGVjbywgdGhpcy52aWV3cG9ydC5mcm9tLCB0aGlzLnZpZXdwb3J0LnRvLCB7XG4gICAgICAgICAgICBzcGFuKGZyb20sIHRvKSB7IHJhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7IH0sXG4gICAgICAgICAgICBwb2ludCgpIHsgfVxuICAgICAgICB9LCAyMCk7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gMDtcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggIT0gdGhpcy52aXNpYmxlUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IDggLyogVXBkYXRlRmxhZy5WaWV3cG9ydE1vdmVkICovIHwgNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoICYmICEoY2hhbmdlZCAmIDggLyogVXBkYXRlRmxhZy5WaWV3cG9ydE1vdmVkICovKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9sZCA9IHRoaXMudmlzaWJsZVJhbmdlc1tpXSwgbncgPSByYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9sZC5mcm9tICE9IG53LmZyb20gfHwgb2xkLnRvICE9IG53LnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgfD0gNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShjaGFuZ2VzICYmIGNoYW5nZXMubWFwUG9zKG9sZC5mcm9tLCAtMSkgPT0gbncuZnJvbSAmJiBjaGFuZ2VzLm1hcFBvcyhvbGQudG8sIDEpID09IG53LnRvKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgfD0gOCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0TW92ZWQgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaWJsZVJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICAgIGxpbmVCbG9ja0F0KHBvcykge1xuICAgICAgICByZXR1cm4gKHBvcyA+PSB0aGlzLnZpZXdwb3J0LmZyb20gJiYgcG9zIDw9IHRoaXMudmlld3BvcnQudG8gJiZcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRMaW5lcy5maW5kKGIgPT4gYi5mcm9tIDw9IHBvcyAmJiBiLnRvID49IHBvcykpIHx8XG4gICAgICAgICAgICBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmxpbmVBdChwb3MsIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLCB0aGlzLnNjYWxlcik7XG4gICAgfVxuICAgIGxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICByZXR1cm4gKGhlaWdodCA+PSB0aGlzLnZpZXdwb3J0TGluZXNbMF0udG9wICYmIGhlaWdodCA8PSB0aGlzLnZpZXdwb3J0TGluZXNbdGhpcy52aWV3cG9ydExpbmVzLmxlbmd0aCAtIDFdLmJvdHRvbSAmJlxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydExpbmVzLmZpbmQobCA9PiBsLnRvcCA8PSBoZWlnaHQgJiYgbC5ib3R0b20gPj0gaGVpZ2h0KSkgfHxcbiAgICAgICAgICAgIHNjYWxlQmxvY2sodGhpcy5oZWlnaHRNYXAubGluZUF0KHRoaXMuc2NhbGVyLmZyb21ET00oaGVpZ2h0KSwgUXVlcnlUeXBlLkJ5SGVpZ2h0LCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgc2Nyb2xsQW5jaG9yQXQoc2Nyb2xsVG9wKSB7XG4gICAgICAgIGxldCBibG9jayA9IHRoaXMubGluZUJsb2NrQXRIZWlnaHQoc2Nyb2xsVG9wICsgOCk7XG4gICAgICAgIHJldHVybiBibG9jay5mcm9tID49IHRoaXMudmlld3BvcnQuZnJvbSB8fCB0aGlzLnZpZXdwb3J0TGluZXNbMF0udG9wIC0gc2Nyb2xsVG9wID4gMjAwID8gYmxvY2sgOiB0aGlzLnZpZXdwb3J0TGluZXNbMF07XG4gICAgfVxuICAgIGVsZW1lbnRBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmxvY2sodGhpcy5oZWlnaHRNYXAuYmxvY2tBdCh0aGlzLnNjYWxlci5mcm9tRE9NKGhlaWdodCksIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKSwgdGhpcy5zY2FsZXIpO1xuICAgIH1cbiAgICBnZXQgZG9jSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZXIudG9ET00odGhpcy5oZWlnaHRNYXAuaGVpZ2h0KTtcbiAgICB9XG4gICAgZ2V0IGNvbnRlbnRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY0hlaWdodCArIHRoaXMucGFkZGluZ1RvcCArIHRoaXMucGFkZGluZ0JvdHRvbTtcbiAgICB9XG59XG5jbGFzcyBWaWV3cG9ydCB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpbmVTdHJ1Y3R1cmUoZnJvbSwgdG8sIHN0YXRlRGVjbykge1xuICAgIGxldCByYW5nZXMgPSBbXSwgcG9zID0gZnJvbSwgdG90YWwgPSAwO1xuICAgIFJhbmdlU2V0LnNwYW5zKHN0YXRlRGVjbywgZnJvbSwgdG8sIHtcbiAgICAgICAgc3BhbigpIHsgfSxcbiAgICAgICAgcG9pbnQoZnJvbSwgdG8pIHtcbiAgICAgICAgICAgIGlmIChmcm9tID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBwb3MsIHRvOiBmcm9tIH0pO1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IGZyb20gLSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSB0bztcbiAgICAgICAgfVxuICAgIH0sIDIwKTsgLy8gV2UncmUgb25seSBpbnRlcmVzdGVkIGluIGNvbGxhcHNlZCByYW5nZXMgb2YgYSBzaWduaWZpY2FudCBzaXplXG4gICAgaWYgKHBvcyA8IHRvKSB7XG4gICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogcG9zLCB0byB9KTtcbiAgICAgICAgdG90YWwgKz0gdG8gLSBwb3M7XG4gICAgfVxuICAgIHJldHVybiB7IHRvdGFsLCByYW5nZXMgfTtcbn1cbmZ1bmN0aW9uIGZpbmRQb3NpdGlvbih7IHRvdGFsLCByYW5nZXMgfSwgcmF0aW8pIHtcbiAgICBpZiAocmF0aW8gPD0gMClcbiAgICAgICAgcmV0dXJuIHJhbmdlc1swXS5mcm9tO1xuICAgIGlmIChyYXRpbyA+PSAxKVxuICAgICAgICByZXR1cm4gcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXS50bztcbiAgICBsZXQgZGlzdCA9IE1hdGguZmxvb3IodG90YWwgKiByYXRpbyk7XG4gICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHJhbmdlc1tpXSwgc2l6ZSA9IHRvIC0gZnJvbTtcbiAgICAgICAgaWYgKGRpc3QgPD0gc2l6ZSlcbiAgICAgICAgICAgIHJldHVybiBmcm9tICsgZGlzdDtcbiAgICAgICAgZGlzdCAtPSBzaXplO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHBvcykge1xuICAgIGxldCBjb3VudGVkID0gMDtcbiAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2Ygc3RydWN0dXJlLnJhbmdlcykge1xuICAgICAgICBpZiAocG9zIDw9IHRvKSB7XG4gICAgICAgICAgICBjb3VudGVkICs9IHBvcyAtIGZyb207XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb3VudGVkICs9IHRvIC0gZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50ZWQgLyBzdHJ1Y3R1cmUudG90YWw7XG59XG5mdW5jdGlvbiBmaW5kKGFycmF5LCBmKSB7XG4gICAgZm9yIChsZXQgdmFsIG9mIGFycmF5KVxuICAgICAgICBpZiAoZih2YWwpKVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8gRG9uJ3Qgc2NhbGUgd2hlbiB0aGUgZG9jdW1lbnQgaGVpZ2h0IGlzIHdpdGhpbiB0aGUgcmFuZ2Ugb2Ygd2hhdFxuLy8gdGhlIERPTSBjYW4gaGFuZGxlLlxuY29uc3QgSWRTY2FsZXIgPSB7XG4gICAgdG9ET00obikgeyByZXR1cm4gbjsgfSxcbiAgICBmcm9tRE9NKG4pIHsgcmV0dXJuIG47IH0sXG4gICAgc2NhbGU6IDEsXG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyID09IHRoaXM7IH1cbn07XG4vLyBXaGVuIHRoZSBoZWlnaHQgaXMgdG9vIGJpZyAoPiBWUC5NYXhET01IZWlnaHQpLCBzY2FsZSBkb3duIHRoZVxuLy8gcmVnaW9ucyBvdXRzaWRlIHRoZSB2aWV3cG9ydHMgc28gdGhhdCB0aGUgdG90YWwgaGVpZ2h0IGlzXG4vLyBWUC5NYXhET01IZWlnaHQuXG5jbGFzcyBCaWdTY2FsZXIge1xuICAgIGNvbnN0cnVjdG9yKG9yYWNsZSwgaGVpZ2h0TWFwLCB2aWV3cG9ydHMpIHtcbiAgICAgICAgbGV0IHZwSGVpZ2h0ID0gMCwgYmFzZSA9IDAsIGRvbUJhc2UgPSAwO1xuICAgICAgICB0aGlzLnZpZXdwb3J0cyA9IHZpZXdwb3J0cy5tYXAoKHsgZnJvbSwgdG8gfSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvcCA9IGhlaWdodE1hcC5saW5lQXQoZnJvbSwgUXVlcnlUeXBlLkJ5UG9zLCBvcmFjbGUsIDAsIDApLnRvcDtcbiAgICAgICAgICAgIGxldCBib3R0b20gPSBoZWlnaHRNYXAubGluZUF0KHRvLCBRdWVyeVR5cGUuQnlQb3MsIG9yYWNsZSwgMCwgMCkuYm90dG9tO1xuICAgICAgICAgICAgdnBIZWlnaHQgKz0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbSwgdG8sIHRvcCwgYm90dG9tLCBkb21Ub3A6IDAsIGRvbUJvdHRvbTogMCB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zY2FsZSA9ICg3MDAwMDAwIC8qIFZQLk1heERPTUhlaWdodCAqLyAtIHZwSGVpZ2h0KSAvIChoZWlnaHRNYXAuaGVpZ2h0IC0gdnBIZWlnaHQpO1xuICAgICAgICBmb3IgKGxldCBvYmogb2YgdGhpcy52aWV3cG9ydHMpIHtcbiAgICAgICAgICAgIG9iai5kb21Ub3AgPSBkb21CYXNlICsgKG9iai50b3AgLSBiYXNlKSAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBkb21CYXNlID0gb2JqLmRvbUJvdHRvbSA9IG9iai5kb21Ub3AgKyAob2JqLmJvdHRvbSAtIG9iai50b3ApO1xuICAgICAgICAgICAgYmFzZSA9IG9iai5ib3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9ET00obikge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYmFzZSA9IDAsIGRvbUJhc2UgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdnAgPSBpIDwgdGhpcy52aWV3cG9ydHMubGVuZ3RoID8gdGhpcy52aWV3cG9ydHNbaV0gOiBudWxsO1xuICAgICAgICAgICAgaWYgKCF2cCB8fCBuIDwgdnAudG9wKVxuICAgICAgICAgICAgICAgIHJldHVybiBkb21CYXNlICsgKG4gLSBiYXNlKSAqIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBpZiAobiA8PSB2cC5ib3R0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZwLmRvbVRvcCArIChuIC0gdnAudG9wKTtcbiAgICAgICAgICAgIGJhc2UgPSB2cC5ib3R0b207XG4gICAgICAgICAgICBkb21CYXNlID0gdnAuZG9tQm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZyb21ET00obikge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYmFzZSA9IDAsIGRvbUJhc2UgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdnAgPSBpIDwgdGhpcy52aWV3cG9ydHMubGVuZ3RoID8gdGhpcy52aWV3cG9ydHNbaV0gOiBudWxsO1xuICAgICAgICAgICAgaWYgKCF2cCB8fCBuIDwgdnAuZG9tVG9wKVxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlICsgKG4gLSBkb21CYXNlKSAvIHRoaXMuc2NhbGU7XG4gICAgICAgICAgICBpZiAobiA8PSB2cC5kb21Cb3R0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZwLnRvcCArIChuIC0gdnAuZG9tVG9wKTtcbiAgICAgICAgICAgIGJhc2UgPSB2cC5ib3R0b207XG4gICAgICAgICAgICBkb21CYXNlID0gdnAuZG9tQm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgQmlnU2NhbGVyKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUgPT0gb3RoZXIuc2NhbGUgJiYgdGhpcy52aWV3cG9ydHMubGVuZ3RoID09IG90aGVyLnZpZXdwb3J0cy5sZW5ndGggJiZcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRzLmV2ZXJ5KCh2cCwgaSkgPT4gdnAuZnJvbSA9PSBvdGhlci52aWV3cG9ydHNbaV0uZnJvbSAmJiB2cC50byA9PSBvdGhlci52aWV3cG9ydHNbaV0udG8pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjYWxlQmxvY2soYmxvY2ssIHNjYWxlcikge1xuICAgIGlmIChzY2FsZXIuc2NhbGUgPT0gMSlcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIGxldCBiVG9wID0gc2NhbGVyLnRvRE9NKGJsb2NrLnRvcCksIGJCb3R0b20gPSBzY2FsZXIudG9ET00oYmxvY2suYm90dG9tKTtcbiAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhibG9jay5mcm9tLCBibG9jay5sZW5ndGgsIGJUb3AsIGJCb3R0b20gLSBiVG9wLCBBcnJheS5pc0FycmF5KGJsb2NrLl9jb250ZW50KSA/IGJsb2NrLl9jb250ZW50Lm1hcChiID0+IHNjYWxlQmxvY2soYiwgc2NhbGVyKSkgOiBibG9jay5fY29udGVudCk7XG59XG5cbmNvbnN0IHRoZW1lID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHN0cnMgPT4gc3Rycy5qb2luKFwiIFwiKSB9KTtcbmNvbnN0IGRhcmtUaGVtZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmluZGV4T2YodHJ1ZSkgPiAtMSB9KTtcbmNvbnN0IGJhc2VUaGVtZUlEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKSwgYmFzZUxpZ2h0SUQgPSAvKkBfX1BVUkVfXyovU3R5bGVNb2R1bGUubmV3TmFtZSgpLCBiYXNlRGFya0lEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKTtcbmNvbnN0IGxpZ2h0RGFya0lEcyA9IHsgXCImbGlnaHRcIjogXCIuXCIgKyBiYXNlTGlnaHRJRCwgXCImZGFya1wiOiBcIi5cIiArIGJhc2VEYXJrSUQgfTtcbmZ1bmN0aW9uIGJ1aWxkVGhlbWUobWFpbiwgc3BlYywgc2NvcGVzKSB7XG4gICAgcmV0dXJuIG5ldyBTdHlsZU1vZHVsZShzcGVjLCB7XG4gICAgICAgIGZpbmlzaChzZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAvJi8udGVzdChzZWwpID8gc2VsLnJlcGxhY2UoLyZcXHcqLywgbSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG0gPT0gXCImXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWluO1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVzIHx8ICFzY29wZXNbbV0pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBVbnN1cHBvcnRlZCBzZWxlY3RvcjogJHttfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZXNbbV07XG4gICAgICAgICAgICB9KSA6IG1haW4gKyBcIiBcIiArIHNlbDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovYnVpbGRUaGVtZShcIi5cIiArIGJhc2VUaGVtZUlELCB7XG4gICAgXCImXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmUgIWltcG9ydGFudFwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBcIiYuY20tZm9jdXNlZFwiOiB7XG4gICAgICAgICAgICAvLyBQcm92aWRlIGEgc2ltcGxlIGRlZmF1bHQgb3V0bGluZSB0byBtYWtlIHN1cmUgYSBmb2N1c2VkXG4gICAgICAgICAgICAvLyBlZGl0b3IgaXMgdmlzdWFsbHkgZGlzdGluY3QuIENhbid0IGxlYXZlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd2lsbCBhcHBseSB0byB0aGUgY29udGVudCBlbGVtZW50LCB3aGljaCBpc1xuICAgICAgICAgICAgLy8gaW5zaWRlIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciBhbmQgZG9lc24ndCBpbmNsdWRlIHRoZVxuICAgICAgICAgICAgLy8gZ3V0dGVycy4gV2UgYWxzbyBjYW4ndCB1c2UgYW4gJ2F1dG8nIG91dGxpbmUsIHNpbmNlIHRob3NlXG4gICAgICAgICAgICAvLyBhcmUsIGZvciBzb21lIHJlYXNvbiwgZHJhd24gYmVoaW5kIHRoZSBlbGVtZW50IGNvbnRlbnQsIHdoaWNoXG4gICAgICAgICAgICAvLyB3aWxsIGNhdXNlIHRoaW5ncyBsaWtlIHRoZSBhY3RpdmUgbGluZSBiYWNrZ3JvdW5kIHRvIGNvdmVyXG4gICAgICAgICAgICAvLyB0aGUgb3V0bGluZSAoIzI5NykuXG4gICAgICAgICAgICBvdXRsaW5lOiBcIjFweCBkb3R0ZWQgIzIxMjEyMVwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgICB9LFxuICAgIFwiLmNtLXNjcm9sbGVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4ICFpbXBvcnRhbnRcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJmbGV4LXN0YXJ0ICFpbXBvcnRhbnRcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcbiAgICAgICAgbGluZUhlaWdodDogMS40LFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBvdmVyZmxvd1g6IFwiYXV0b1wiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICB6SW5kZXg6IDAsXG4gICAgICAgIG92ZXJmbG93QW5jaG9yOiBcIm5vbmVcIixcbiAgICB9LFxuICAgIFwiLmNtLWNvbnRlbnRcIjoge1xuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIGZsZXhHcm93OiAyLFxuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gICAgICAgIHdvcmRXcmFwOiBcIm5vcm1hbFwiLCAvLyBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9kZXYvaXNzdWVzLzQ1NlxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBtaW5IZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjRweCAwXCIsXG4gICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICBcIiZbY29udGVudGVkaXRhYmxlPXRydWVdXCI6IHtcbiAgICAgICAgICAgIFdlYmtpdFVzZXJNb2RpZnk6IFwicmVhZC13cml0ZS1wbGFpbnRleHQtb25seVwiLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5jbS1saW5lV3JhcHBpbmdcIjoge1xuICAgICAgICB3aGl0ZVNwYWNlX2ZhbGxiYWNrOiBcInByZS13cmFwXCIsIC8vIEZvciBJRVxuICAgICAgICB3aGl0ZVNwYWNlOiBcImJyZWFrLXNwYWNlc1wiLFxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLCAvLyBGb3IgU2FmYXJpLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgb3ZlcmZsb3ctd3JhcDogYW55d2hlcmVcbiAgICAgICAgb3ZlcmZsb3dXcmFwOiBcImFueXdoZXJlXCIsXG4gICAgICAgIGZsZXhTaHJpbms6IDFcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1jb250ZW50XCI6IHsgY2FyZXRDb2xvcjogXCJibGFja1wiIH0sXG4gICAgXCImZGFyayAuY20tY29udGVudFwiOiB7IGNhcmV0Q29sb3I6IFwid2hpdGVcIiB9LFxuICAgIFwiLmNtLWxpbmVcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMCAycHggMCA2cHhcIlxuICAgIH0sXG4gICAgXCIuY20tbGF5ZXJcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGNvbnRhaW46IFwic2l6ZSBzdHlsZVwiLFxuICAgICAgICBcIiYgPiAqXCI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkOWQ5ZDlcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzIyMlwiXG4gICAgfSxcbiAgICBcIiZsaWdodC5jbS1mb2N1c2VkID4gLmNtLXNjcm9sbGVyID4gLmNtLXNlbGVjdGlvbkxheWVyIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZDdkNGYwXCJcbiAgICB9LFxuICAgIFwiJmRhcmsuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1zZWxlY3Rpb25MYXllciAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzIzM1wiXG4gICAgfSxcbiAgICBcIi5jbS1jdXJzb3JMYXllclwiOiB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIiYuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1jdXJzb3JMYXllclwiOiB7XG4gICAgICAgIGFuaW1hdGlvbjogXCJzdGVwcygxKSBjbS1ibGluayAxLjJzIGluZmluaXRlXCJcbiAgICB9LFxuICAgIC8vIFR3byBhbmltYXRpb25zIGRlZmluZWQgc28gdGhhdCB3ZSBjYW4gc3dpdGNoIGJldHdlZW4gdGhlbSB0b1xuICAgIC8vIHJlc3RhcnQgdGhlIGFuaW1hdGlvbiB3aXRob3V0IGZvcmNpbmcgYW5vdGhlciBzdHlsZVxuICAgIC8vIHJlY29tcHV0YXRpb24uXG4gICAgXCJAa2V5ZnJhbWVzIGNtLWJsaW5rXCI6IHsgXCIwJVwiOiB7fSwgXCI1MCVcIjogeyBvcGFjaXR5OiAwIH0sIFwiMTAwJVwiOiB7fSB9LFxuICAgIFwiQGtleWZyYW1lcyBjbS1ibGluazJcIjogeyBcIjAlXCI6IHt9LCBcIjUwJVwiOiB7IG9wYWNpdHk6IDAgfSwgXCIxMDAlXCI6IHt9IH0sXG4gICAgXCIuY20tY3Vyc29yLCAuY20tZHJvcEN1cnNvclwiOiB7XG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMS4ycHggc29saWQgYmxhY2tcIixcbiAgICAgICAgbWFyZ2luTGVmdDogXCItMC42cHhcIixcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgfSxcbiAgICBcIi5jbS1jdXJzb3JcIjoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgYm9yZGVyTGVmdENvbG9yOiBcIiNkZGRcIlxuICAgIH0sXG4gICAgXCIuY20tZHJvcEN1cnNvclwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9LFxuICAgIFwiJi5jbS1mb2N1c2VkID4gLmNtLXNjcm9sbGVyID4gLmNtLWN1cnNvckxheWVyIC5jbS1jdXJzb3JcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICB9LFxuICAgIFwiLmNtLWlzb1wiOiB7XG4gICAgICAgIHVuaWNvZGVCaWRpOiBcImlzb2xhdGVcIlxuICAgIH0sXG4gICAgXCIuY20tYW5ub3VuY2VkXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgdG9wOiBcIi0xMDAwMHB4XCJcbiAgICB9LFxuICAgIFwiQG1lZGlhIHByaW50XCI6IHtcbiAgICAgICAgXCIuY20tYW5ub3VuY2VkXCI6IHsgZGlzcGxheTogXCJub25lXCIgfVxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWFjdGl2ZUxpbmVcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2NjZWVmZjQ0XCIgfSxcbiAgICBcIiZkYXJrIC5jbS1hY3RpdmVMaW5lXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiM5OWVlZmYzM1wiIH0sXG4gICAgXCImbGlnaHQgLmNtLXNwZWNpYWxDaGFyXCI6IHsgY29sb3I6IFwicmVkXCIgfSxcbiAgICBcIiZkYXJrIC5jbS1zcGVjaWFsQ2hhclwiOiB7IGNvbG9yOiBcIiNmNzhcIiB9LFxuICAgIFwiLmNtLWd1dHRlcnNcIjoge1xuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgaW5zZXRJbmxpbmVTdGFydDogMCxcbiAgICAgICAgekluZGV4OiAyMDBcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1ndXR0ZXJzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIixcbiAgICAgICAgY29sb3I6IFwiIzZjNmM2Y1wiLFxuICAgICAgICBib3JkZXJSaWdodDogXCIxcHggc29saWQgI2RkZFwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1ndXR0ZXJzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzMzMzhcIixcbiAgICAgICAgY29sb3I6IFwiI2NjY1wiXG4gICAgfSxcbiAgICBcIi5jbS1ndXR0ZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXggIWltcG9ydGFudFwiLCAvLyBOZWNlc3NhcnkgLS0gcHJldmVudHMgbWFyZ2luIGNvbGxhcHNpbmdcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICB9LFxuICAgIFwiLmNtLWd1dHRlckVsZW1lbnRcIjoge1xuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiXG4gICAgfSxcbiAgICBcIi5jbS1saW5lTnVtYmVycyAuY20tZ3V0dGVyRWxlbWVudFwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMCAzcHggMCA1cHhcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMjBweFwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcbiAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWFjdGl2ZUxpbmVHdXR0ZXJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2UyZjJmZlwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMyMjIyMjdcIlxuICAgIH0sXG4gICAgXCIuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgcG9zaXRpb246IFwic3RpY2t5XCIsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB6SW5kZXg6IDMwMFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCIsXG4gICAgICAgIGNvbG9yOiBcImJsYWNrXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1wYW5lbHMtdG9wXCI6IHtcbiAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1wYW5lbHMtYm90dG9tXCI6IHtcbiAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjZGRkXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCJcbiAgICB9LFxuICAgIFwiLmNtLWRpYWxvZ1wiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDE5cHggNHB4IDZweFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBcIiYgbGFiZWxcIjogeyBmb250U2l6ZTogXCI4MCVcIiB9LFxuICAgIH0sXG4gICAgXCIuY20tZGlhbG9nLWNsb3NlXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgdG9wOiBcIjNweFwiLFxuICAgICAgICByaWdodDogXCI0cHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImluaGVyaXRcIixcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgZm9udDogXCJpbmhlcml0XCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjE0cHhcIixcbiAgICAgICAgcGFkZGluZzogXCIwXCJcbiAgICB9LFxuICAgIFwiLmNtLXRhYlwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcImJvdHRvbVwiXG4gICAgfSxcbiAgICBcIi5jbS13aWRnZXRCdWZmZXJcIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRleHQtdG9wXCIsXG4gICAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lXCJcbiAgICB9LFxuICAgIFwiLmNtLXBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgY29sb3I6IFwiIzg4OFwiLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIlxuICAgIH0sXG4gICAgXCIuY20taGlnaGxpZ2h0U3BhY2VcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwicmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA1MCUgNTUlLCAjYWFhIDIwJSwgdHJhbnNwYXJlbnQgNSUpXCIsXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCJjZW50ZXJcIixcbiAgICB9LFxuICAgIFwiLmNtLWhpZ2hsaWdodFRhYlwiOiB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgnZGF0YTppbWFnZS9zdmcreG1sLDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjBcIj48cGF0aCBzdHJva2U9XCIlMjM4ODhcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBkPVwiTTEgMTBIMTk2TDE5MCA1TTE5MCAxNUwxOTYgMTBNMTk3IDRMMTk3IDE2XCIvPjwvc3ZnPicpYCxcbiAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiYXV0byAxMDAlXCIsXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCJyaWdodCA5MCVcIixcbiAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIlxuICAgIH0sXG4gICAgXCIuY20tdHJhaWxpbmdTcGFjZVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmYzMzIyNTVcIlxuICAgIH0sXG4gICAgXCIuY20tYnV0dG9uXCI6IHtcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICBmb250U2l6ZTogXCI3MCVcIixcbiAgICAgICAgcGFkZGluZzogXCIuMmVtIDFlbVwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiMXB4XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1idXR0b25cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCNlZmYxZjUsICNkOWQ5ZGYpXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzg4OFwiLFxuICAgICAgICBcIiY6YWN0aXZlXCI6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoI2I0YjRiNCwgI2QwZDNkNilcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1idXR0b25cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCMzOTM5MzksICMxMTEpXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzg4OFwiLFxuICAgICAgICBcIiY6YWN0aXZlXCI6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoIzExMSwgIzMzMylcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5jbS10ZXh0ZmllbGRcIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICBjb2xvcjogXCJpbmhlcml0XCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjcwJVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHNpbHZlclwiLFxuICAgICAgICBwYWRkaW5nOiBcIi4yZW0gLjVlbVwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tdGV4dGZpZWxkXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRleHRmaWVsZFwiOiB7XG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzU1NVwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiaW5oZXJpdFwiXG4gICAgfVxufSwgbGlnaHREYXJrSURzKTtcblxuY29uc3Qgb2JzZXJ2ZU9wdGlvbnMgPSB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZVxufTtcbi8vIElFMTEgaGFzIHZlcnkgYnJva2VuIG11dGF0aW9uIG9ic2VydmVycywgc28gd2UgYWxzbyBsaXN0ZW4gdG9cbi8vIERPTUNoYXJhY3RlckRhdGFNb2RpZmllZCB0aGVyZVxuY29uc3QgdXNlQ2hhckRhdGEgPSBicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMTtcbmNsYXNzIERPTU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWRpdENvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBUaGUga25vd24gc2VsZWN0aW9uLiBLZXB0IGluIG91ciBvd24gb2JqZWN0LCBhcyBvcHBvc2VkIHRvIGp1c3RcbiAgICAgICAgLy8gZGlyZWN0bHkgYWNjZXNzaW5nIHRoZSBzZWxlY3Rpb24gYmVjYXVzZTpcbiAgICAgICAgLy8gIC0gU2FmYXJpIGRvZXNuJ3QgcmVwb3J0IHRoZSByaWdodCBzZWxlY3Rpb24gaW4gc2hhZG93IERPTVxuICAgICAgICAvLyAgLSBSZWFkaW5nIGZyb20gdGhlIHNlbGVjdGlvbiBmb3JjZXMgYSBET00gbGF5b3V0XG4gICAgICAgIC8vICAtIFRoaXMgd2F5LCB3ZSBjYW4gaWdub3JlIHNlbGVjdGlvbmNoYW5nZSBldmVudHMgaWYgd2UgaGF2ZVxuICAgICAgICAvLyAgICBhbHJlYWR5IHNlZW4gdGhlICduZXcnIHNlbGVjdGlvblxuICAgICAgICB0aGlzLnNlbGVjdGlvblJhbmdlID0gbmV3IERPTVNlbGVjdGlvblN0YXRlO1xuICAgICAgICAvLyBTZXQgd2hlbiBhIHNlbGVjdGlvbiBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIGNsZWFyZWQgb24gZmx1c2hcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gLTE7XG4gICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVNjcm9sbCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FwSW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5nYXBzID0gW107XG4gICAgICAgIHRoaXMucHJpbnRRdWVyeSA9IG51bGw7XG4gICAgICAgIC8vIFRpbWVvdXQgZm9yIHNjaGVkdWxpbmcgY2hlY2sgb2YgdGhlIHBhcmVudHMgdGhhdCBuZWVkIHNjcm9sbCBoYW5kbGVyc1xuICAgICAgICB0aGlzLnBhcmVudENoZWNrID0gLTE7XG4gICAgICAgIHRoaXMuZG9tID0gdmlldy5jb250ZW50RE9NO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IG11dCBvZiBtdXRhdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKG11dCk7XG4gICAgICAgICAgICAvLyBJRTExIHdpbGwgc29tZXRpbWVzIChvbiB0eXBpbmcgb3ZlciBhIHNlbGVjdGlvbiBvclxuICAgICAgICAgICAgLy8gYmFja3NwYWNpbmcgb3V0IGEgc2luZ2xlIGNoYXJhY3RlciB0ZXh0IG5vZGUpIGNhbGwgdGhlXG4gICAgICAgICAgICAvLyBvYnNlcnZlciBjYWxsYmFjayBiZWZvcmUgYWN0dWFsbHkgdXBkYXRpbmcgdGhlIERPTS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBVbnJlbGF0ZWRseSwgaU9TIFNhZmFyaSB3aWxsLCB3aGVuIGVuZGluZyBhIGNvbXBvc2l0aW9uLFxuICAgICAgICAgICAgLy8gc29tZXRpbWVzIGZpcnN0IGNsZWFyIGl0LCBkZWxpdmVyIHRoZSBtdXRhdGlvbnMsIGFuZCB0aGVuXG4gICAgICAgICAgICAvLyByZWluc2VydCB0aGUgZmluaXNoZWQgdGV4dC4gQ29kZU1pcnJvcidzIGhhbmRsaW5nIG9mIHRoZVxuICAgICAgICAgICAgLy8gZGVsZXRpb24gd2lsbCBwcmV2ZW50IHRoZSByZWluc2VydGlvbiBmcm9tIGhhcHBlbmluZyxcbiAgICAgICAgICAgIC8vIGJyZWFraW5nIGNvbXBvc2l0aW9uLlxuICAgICAgICAgICAgaWYgKChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSB8fCBicm93c2VyLmlvcyAmJiB2aWV3LmNvbXBvc2luZykgJiZcbiAgICAgICAgICAgICAgICBtdXRhdGlvbnMuc29tZShtID0+IG0udHlwZSA9PSBcImNoaWxkTGlzdFwiICYmIG0ucmVtb3ZlZE5vZGVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgICAgICBtLnR5cGUgPT0gXCJjaGFyYWN0ZXJEYXRhXCIgJiYgbS5vbGRWYWx1ZS5sZW5ndGggPiBtLnRhcmdldC5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoU29vbigpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh3aW5kb3cuRWRpdENvbnRleHQgJiYgdmlldy5jb25zdHJ1Y3Rvci5FRElUX0NPTlRFWFQgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAvLyBDaHJvbWUgPDEyNiBkb2Vzbid0IHN1cHBvcnQgaW52ZXJ0ZWQgc2VsZWN0aW9ucyBpbiBlZGl0IGNvbnRleHQgKCMxMzkyKVxuICAgICAgICAgICAgIShicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmNocm9tZV92ZXJzaW9uIDwgMTI2KSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dCA9IG5ldyBFZGl0Q29udGV4dE1hbmFnZXIodmlldyk7XG4gICAgICAgICAgICBpZiAodmlldy5zdGF0ZS5mYWNldChlZGl0YWJsZSkpXG4gICAgICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmVkaXRDb250ZXh0ID0gdGhpcy5lZGl0Q29udGV4dC5lZGl0Q29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlQ2hhckRhdGEpXG4gICAgICAgICAgICB0aGlzLm9uQ2hhckRhdGEgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjaGFyYWN0ZXJEYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBldmVudC5wcmV2VmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UgPSB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25QcmludCA9IHRoaXMub25QcmludC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uU2Nyb2xsID0gdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEpXG4gICAgICAgICAgICB0aGlzLnByaW50UXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShcInByaW50XCIpO1xuICAgICAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5yZXNpemVTY3JvbGwgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMudmlldy5kb2NWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFzdFVwZGF0ZSkgPCBEYXRlLm5vdygpIC0gNzUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVTY3JvbGwub2JzZXJ2ZSh2aWV3LnNjcm9sbERPTSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4gPSB2aWV3Lndpbik7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudENoZWNrIDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IHNldFRpbWVvdXQodGhpcy5saXN0ZW5Gb3JTY3JvbGwuYmluZCh0aGlzKSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMCAmJiAoZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdLmludGVyc2VjdGlvblJhdGlvID4gMCkgIT0gdGhpcy5pbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RpbmcgPSAhdGhpcy5pbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZyAhPSB0aGlzLnZpZXcuaW5WaWV3KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZWQoZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgeyB0aHJlc2hvbGQ6IFswLCAuMDAxXSB9KTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uLm9ic2VydmUodGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMCAmJiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV0uaW50ZXJzZWN0aW9uUmF0aW8gPiAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2Nyb2xsQ2hhbmdlZChkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpKTtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbkZvclNjcm9sbCgpO1xuICAgICAgICB0aGlzLnJlYWRTZWxlY3Rpb25SYW5nZSgpO1xuICAgIH1cbiAgICBvblNjcm9sbENoYW5nZWQoZSkge1xuICAgICAgICB0aGlzLnZpZXcuaW5wdXRTdGF0ZS5ydW5IYW5kbGVycyhcInNjcm9sbFwiLCBlKTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW5nKVxuICAgICAgICAgICAgdGhpcy52aWV3Lm1lYXN1cmUoKTtcbiAgICB9XG4gICAgb25TY3JvbGwoZSkge1xuICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RpbmcpXG4gICAgICAgICAgICB0aGlzLmZsdXNoKGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdENvbnRleHQpXG4gICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5lZGl0Q29udGV4dC5tZWFzdXJlUmVxKTtcbiAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZWQoZSk7XG4gICAgfVxuICAgIG9uUmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVUaW1lb3V0IDwgMClcbiAgICAgICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgfSwgNTApO1xuICAgIH1cbiAgICBvblByaW50KGV2ZW50KSB7XG4gICAgICAgIGlmICgoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiIHx8ICFldmVudC50eXBlKSAmJiAhZXZlbnQubWF0Y2hlcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5wcmludGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMudmlldy5tZWFzdXJlKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5wcmludGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIHVwZGF0ZUdhcHMoZ2Fwcykge1xuICAgICAgICBpZiAodGhpcy5nYXBJbnRlcnNlY3Rpb24gJiYgKGdhcHMubGVuZ3RoICE9IHRoaXMuZ2Fwcy5sZW5ndGggfHwgdGhpcy5nYXBzLnNvbWUoKGcsIGkpID0+IGcgIT0gZ2Fwc1tpXSkpKSB7XG4gICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbi5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBnYXAgb2YgZ2FwcylcbiAgICAgICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbi5vYnNlcnZlKGdhcCk7XG4gICAgICAgICAgICB0aGlzLmdhcHMgPSBnYXBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGxldCB3YXNDaGFuZ2VkID0gdGhpcy5zZWxlY3Rpb25DaGFuZ2VkO1xuICAgICAgICBpZiAoIXRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCkgfHwgdGhpcy5kZWxheWVkQW5kcm9pZEtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgc2VsID0gdGhpcy5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpID8gdmlldy5yb290LmFjdGl2ZUVsZW1lbnQgIT0gdGhpcy5kb20gOiAhaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCBzZWwpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY29udGV4dCA9IHNlbC5hbmNob3JOb2RlICYmIHZpZXcuZG9jVmlldy5uZWFyZXN0KHNlbC5hbmNob3JOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5pZ25vcmVFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIGlmICghd2FzQ2hhbmdlZClcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxldGlvbnMgb24gSUUxMSBmaXJlIHRoZWlyIGV2ZW50cyBpbiB0aGUgd3Jvbmcgb3JkZXIsIGdpdmluZ1xuICAgICAgICAvLyB1cyBhIHNlbGVjdGlvbiBjaGFuZ2UgZXZlbnQgYmVmb3JlIHRoZSBET00gY2hhbmdlcyBhcmVcbiAgICAgICAgLy8gcmVwb3J0ZWQuXG4gICAgICAgIC8vIENocm9tZSBBbmRyb2lkIGhhcyBhIHNpbWlsYXIgaXNzdWUgd2hlbiBiYWNrc3BhY2luZyBvdXQgYVxuICAgICAgICAvLyBzZWxlY3Rpb24gKCM2NDUpLlxuICAgICAgICBpZiAoKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExIHx8IGJyb3dzZXIuYW5kcm9pZCAmJiBicm93c2VyLmNocm9tZSkgJiYgIXZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uZW1wdHkgJiZcbiAgICAgICAgICAgIC8vIChTZWxlY3Rpb24uaXNDb2xsYXBzZWQgaXNuJ3QgcmVsaWFibGUgb24gSUUpXG4gICAgICAgICAgICBzZWwuZm9jdXNOb2RlICYmIGlzRXF1aXZhbGVudFBvc2l0aW9uKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpKVxuICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5mbHVzaChmYWxzZSk7XG4gICAgfVxuICAgIHJlYWRTZWxlY3Rpb25SYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcztcbiAgICAgICAgLy8gVGhlIFNlbGVjdGlvbiBvYmplY3QgaXMgYnJva2VuIGluIHNoYWRvdyByb290cyBpbiBTYWZhcmkuIFNlZVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9kZXYvaXNzdWVzLzQxNFxuICAgICAgICBsZXQgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKHZpZXcucm9vdCk7XG4gICAgICAgIGlmICghc2VsZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgcmFuZ2UgPSBicm93c2VyLnNhZmFyaSAmJiB2aWV3LnJvb3Qubm9kZVR5cGUgPT0gMTEgJiZcbiAgICAgICAgICAgIHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuZG9tICYmXG4gICAgICAgICAgICBzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2sodGhpcy52aWV3LCBzZWxlY3Rpb24pIHx8IHNlbGVjdGlvbjtcbiAgICAgICAgaWYgKCFyYW5nZSB8fCB0aGlzLnNlbGVjdGlvblJhbmdlLmVxKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGxvY2FsID0gaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCByYW5nZSk7XG4gICAgICAgIC8vIERldGVjdCB0aGUgc2l0dWF0aW9uIHdoZXJlIHRoZSBicm93c2VyIGhhcywgb24gZm9jdXMsIG1vdmVkIHRoZVxuICAgICAgICAvLyBzZWxlY3Rpb24gdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb250ZW50IGVsZW1lbnQuIFJlc2V0IGl0IHRvIHRoZVxuICAgICAgICAvLyBwb3NpdGlvbiBmcm9tIHRoZSBlZGl0b3Igc3RhdGUuXG4gICAgICAgIGlmIChsb2NhbCAmJiAhdGhpcy5zZWxlY3Rpb25DaGFuZ2VkICYmXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA+IERhdGUubm93KCkgLSAyMDAgJiZcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lIDwgRGF0ZS5ub3coKSAtIDMwMCAmJlxuICAgICAgICAgICAgYXRFbGVtZW50U3RhcnQodGhpcy5kb20sIHJhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgICAgICB2aWV3LmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmIChsb2NhbClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb25SYW5nZShhbmNob3IsIGhlYWQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXQoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGhlYWQubm9kZSwgaGVhZC5vZmZzZXQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgY2xlYXJTZWxlY3Rpb25SYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXQobnVsbCwgMCwgbnVsbCwgMCk7XG4gICAgfVxuICAgIGxpc3RlbkZvclNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IC0xO1xuICAgICAgICBsZXQgaSA9IDAsIGNoYW5nZWQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBkb20gPSB0aGlzLmRvbTsgZG9tOykge1xuICAgICAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VkICYmIGkgPCB0aGlzLnNjcm9sbFRhcmdldHMubGVuZ3RoICYmIHRoaXMuc2Nyb2xsVGFyZ2V0c1tpXSA9PSBkb20pXG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hhbmdlZClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuc2Nyb2xsVGFyZ2V0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5wdXNoKGRvbSk7XG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLmFzc2lnbmVkU2xvdCB8fCBkb20ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbS5ub2RlVHlwZSA9PSAxMSkgeyAvLyBTaGFkb3cgcm9vdFxuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5ob3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCB0aGlzLnNjcm9sbFRhcmdldHMubGVuZ3RoICYmICFjaGFuZ2VkKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuc2Nyb2xsVGFyZ2V0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRvbSBvZiB0aGlzLnNjcm9sbFRhcmdldHMpXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzID0gY2hhbmdlZClcbiAgICAgICAgICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZ25vcmUoZikge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5kb20sIG9ic2VydmVPcHRpb25zKTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBpZiAodXNlQ2hhckRhdGEpXG4gICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSk7XG4gICAgfVxuICAgIC8vIFRocm93IGF3YXkgYW55IHBlbmRpbmcgY2hhbmdlc1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIHRoaXMucXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIENocm9tZSBBbmRyb2lkLCBlc3BlY2lhbGx5IGluIGNvbWJpbmF0aW9uIHdpdGggR0JvYXJkLCBub3Qgb25seVxuICAgIC8vIGRvZXNuJ3QgcmVsaWFibHkgZmlyZSByZWd1bGFyIGtleSBldmVudHMsIGJ1dCBhbHNvIG9mdGVuXG4gICAgLy8gc3Vycm91bmRzIHRoZSBlZmZlY3Qgb2YgZW50ZXIgb3IgYmFja3NwYWNlIHdpdGggYSBidW5jaCBvZlxuICAgIC8vIGNvbXBvc2l0aW9uIGV2ZW50cyB0aGF0LCB3aGVuIGludGVycnVwdGVkLCBjYXVzZSB0ZXh0IGR1cGxpY2F0aW9uXG4gICAgLy8gb3Igb3RoZXIga2luZHMgb2YgY29ycnVwdGlvbi4gVGhpcyBoYWNrIG1ha2VzIHRoZSBlZGl0b3IgYmFjayBvZmZcbiAgICAvLyBmcm9tIGhhbmRsaW5nIERPTSBjaGFuZ2VzIGZvciBhIG1vbWVudCB3aGVuIHN1Y2ggYSBrZXkgaXNcbiAgICAvLyBkZXRlY3RlZCAodmlhIGJlZm9yZWlucHV0IG9yIGtleWRvd24pLCBhbmQgdGhlbiB0cmllcyB0byBmbHVzaFxuICAgIC8vIHRoZW0gb3IsIGlmIHRoYXQgaGFzIG5vIGVmZmVjdCwgZGlzcGF0Y2hlcyB0aGUgZ2l2ZW4ga2V5LlxuICAgIGRlbGF5QW5kcm9pZEtleShrZXksIGtleUNvZGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZGVsYXllZEFuZHJvaWRLZXkpIHtcbiAgICAgICAgICAgIGxldCBmbHVzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5kZWxheWVkQW5kcm9pZEtleTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJEZWxheWVkQW5kcm9pZEtleSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5Q29kZSA9IGtleS5rZXlDb2RlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmbHVzaGVkID0gdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZsdXNoZWQgJiYga2V5LmZvcmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodGhpcy5kb20sIGtleS5rZXksIGtleS5rZXlDb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkgPSB0aGlzLnZpZXcud2luLnJlcXVlc3RBbmltYXRpb25GcmFtZShmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luY2UgYmFja3NwYWNlIGJlZm9yZWlucHV0IGlzIHNvbWV0aW1lcyBzaWduYWxsZWQgc3B1cmlvdXNseSxcbiAgICAgICAgLy8gRW50ZXIgYWx3YXlzIHRha2VzIHByZWNlZGVuY2UuXG4gICAgICAgIGlmICghdGhpcy5kZWxheWVkQW5kcm9pZEtleSB8fCBrZXkgPT0gXCJFbnRlclwiKVxuICAgICAgICAgICAgdGhpcy5kZWxheWVkQW5kcm9pZEtleSA9IHtcbiAgICAgICAgICAgICAgICBrZXksIGtleUNvZGUsXG4gICAgICAgICAgICAgICAgLy8gT25seSBydW4gdGhlIGtleSBoYW5kbGVyIHdoZW4gbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQgaWZcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzbid0IGNvbWluZyByaWdodCBhZnRlciBhbm90aGVyIGNoYW5nZSwgaW4gd2hpY2ggY2FzZVxuICAgICAgICAgICAgICAgIC8vIGl0IGlzIHByb2JhYmx5IHBhcnQgb2YgYSB3ZWlyZCBjaGFpbiBvZiB1cGRhdGVzLCBhbmQgc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gYmUgaWdub3JlZCBpZiBpdCByZXR1cm5zIHRoZSBET00gdG8gaXRzIHByZXZpb3VzIHN0YXRlLlxuICAgICAgICAgICAgICAgIGZvcmNlOiB0aGlzLmxhc3RDaGFuZ2UgPCBEYXRlLm5vdygpIC0gNTAgfHwgISEoKF9hID0gdGhpcy5kZWxheWVkQW5kcm9pZEtleSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvcmNlKVxuICAgICAgICAgICAgfTtcbiAgICB9XG4gICAgY2xlYXJEZWxheWVkQW5kcm9pZEtleSgpIHtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkpO1xuICAgICAgICB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkgPSAtMTtcbiAgICB9XG4gICAgZmx1c2hTb29uKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPCAwKVxuICAgICAgICAgICAgdGhpcy5kZWxheWVkRmx1c2ggPSB0aGlzLnZpZXcud2luLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7IHRoaXMuZGVsYXllZEZsdXNoID0gLTE7IHRoaXMuZmx1c2goKTsgfSk7XG4gICAgfVxuICAgIGZvcmNlRmx1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGF5ZWRGbHVzaCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZGVsYXllZEZsdXNoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICBwZW5kaW5nUmVjb3JkcygpIHtcbiAgICAgICAgZm9yIChsZXQgbXV0IG9mIHRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKSlcbiAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChtdXQpO1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZTtcbiAgICB9XG4gICAgcHJvY2Vzc1JlY29yZHMoKSB7XG4gICAgICAgIGxldCByZWNvcmRzID0gdGhpcy5wZW5kaW5nUmVjb3JkcygpO1xuICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIGxldCBmcm9tID0gLTEsIHRvID0gLTEsIHR5cGVPdmVyID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLnJlYWRNdXRhdGlvbihyZWNvcmQpO1xuICAgICAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50eXBlT3ZlcilcbiAgICAgICAgICAgICAgICB0eXBlT3ZlciA9IHRydWU7XG4gICAgICAgICAgICBpZiAoZnJvbSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICh7IGZyb20sIHRvIH0gPSByYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9tID0gTWF0aC5taW4ocmFuZ2UuZnJvbSwgZnJvbSk7XG4gICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heChyYW5nZS50bywgdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZyb20sIHRvLCB0eXBlT3ZlciB9O1xuICAgIH1cbiAgICByZWFkQ2hhbmdlKCkge1xuICAgICAgICBsZXQgeyBmcm9tLCB0bywgdHlwZU92ZXIgfSA9IHRoaXMucHJvY2Vzc1JlY29yZHMoKTtcbiAgICAgICAgbGV0IG5ld1NlbCA9IHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCAmJiBoYXNTZWxlY3Rpb24odGhpcy5kb20sIHRoaXMuc2VsZWN0aW9uUmFuZ2UpO1xuICAgICAgICBpZiAoZnJvbSA8IDAgJiYgIW5ld1NlbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoZnJvbSA+IC0xKVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY2hhbmdlID0gbmV3IERPTUNoYW5nZSh0aGlzLnZpZXcsIGZyb20sIHRvLCB0eXBlT3Zlcik7XG4gICAgICAgIHRoaXMudmlldy5kb2NWaWV3LmRvbUNoYW5nZWQgPSB7IG5ld1NlbDogY2hhbmdlLm5ld1NlbCA/IGNoYW5nZS5uZXdTZWwubWFpbiA6IG51bGwgfTtcbiAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICB9XG4gICAgLy8gQXBwbHkgcGVuZGluZyBjaGFuZ2VzLCBpZiBhbnlcbiAgICBmbHVzaChyZWFkU2VsZWN0aW9uID0gdHJ1ZSkge1xuICAgICAgICAvLyBDb21wbGV0ZWx5IGhvbGQgb2ZmIGZsdXNoaW5nIHdoZW4gcGVuZGluZyBrZXlzIGFyZSBzZXRcdTIwMTR0aGUgY29kZVxuICAgICAgICAvLyBtYW5hZ2luZyB0aG9zZSB3aWxsIG1ha2Ugc3VyZSBwcm9jZXNzUmVjb3JkcyBpcyBjYWxsZWQgYW5kIHRoZVxuICAgICAgICAvLyB2aWV3IGlzIHJlc3luY2hyb25pemVkIGFmdGVyXG4gICAgICAgIGlmICh0aGlzLmRlbGF5ZWRGbHVzaCA+PSAwIHx8IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChyZWFkU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgbGV0IGRvbUNoYW5nZSA9IHRoaXMucmVhZENoYW5nZSgpO1xuICAgICAgICBpZiAoIWRvbUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0U3RhdGUgPSB0aGlzLnZpZXcuc3RhdGU7XG4gICAgICAgIGxldCBoYW5kbGVkID0gYXBwbHlET01DaGFuZ2UodGhpcy52aWV3LCBkb21DaGFuZ2UpO1xuICAgICAgICAvLyBUaGUgdmlldyB3YXNuJ3QgdXBkYXRlZCBidXQgRE9NL3NlbGVjdGlvbiBjaGFuZ2VzIHdlcmUgc2Vlbi4gUmVzZXQgdGhlIHZpZXcuXG4gICAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUgPT0gc3RhcnRTdGF0ZSAmJlxuICAgICAgICAgICAgKGRvbUNoYW5nZS5kb21DaGFuZ2VkIHx8IGRvbUNoYW5nZS5uZXdTZWwgJiYgIWRvbUNoYW5nZS5uZXdTZWwubWFpbi5lcSh0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4pKSlcbiAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGUoW10pO1xuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG4gICAgcmVhZE11dGF0aW9uKHJlYykge1xuICAgICAgICBsZXQgY1ZpZXcgPSB0aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0KHJlYy50YXJnZXQpO1xuICAgICAgICBpZiAoIWNWaWV3IHx8IGNWaWV3Lmlnbm9yZU11dGF0aW9uKHJlYykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY1ZpZXcubWFya0RpcnR5KHJlYy50eXBlID09IFwiYXR0cmlidXRlc1wiKTtcbiAgICAgICAgaWYgKHJlYy50eXBlID09IFwiYXR0cmlidXRlc1wiKVxuICAgICAgICAgICAgY1ZpZXcuZmxhZ3MgfD0gNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovO1xuICAgICAgICBpZiAocmVjLnR5cGUgPT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgICAgICAgbGV0IGNoaWxkQmVmb3JlID0gZmluZENoaWxkKGNWaWV3LCByZWMucHJldmlvdXNTaWJsaW5nIHx8IHJlYy50YXJnZXQucHJldmlvdXNTaWJsaW5nLCAtMSk7XG4gICAgICAgICAgICBsZXQgY2hpbGRBZnRlciA9IGZpbmRDaGlsZChjVmlldywgcmVjLm5leHRTaWJsaW5nIHx8IHJlYy50YXJnZXQubmV4dFNpYmxpbmcsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogY2hpbGRCZWZvcmUgPyBjVmlldy5wb3NBZnRlcihjaGlsZEJlZm9yZSkgOiBjVmlldy5wb3NBdFN0YXJ0LFxuICAgICAgICAgICAgICAgIHRvOiBjaGlsZEFmdGVyID8gY1ZpZXcucG9zQmVmb3JlKGNoaWxkQWZ0ZXIpIDogY1ZpZXcucG9zQXRFbmQsIHR5cGVPdmVyOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlYy50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tOiBjVmlldy5wb3NBdFN0YXJ0LCB0bzogY1ZpZXcucG9zQXRFbmQsIHR5cGVPdmVyOiByZWMudGFyZ2V0Lm5vZGVWYWx1ZSA9PSByZWMub2xkVmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFdpbmRvdyh3aW4pIHtcbiAgICAgICAgaWYgKHdpbiAhPSB0aGlzLndpbikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4pO1xuICAgICAgICAgICAgdGhpcy53aW4gPSB3aW47XG4gICAgICAgICAgICB0aGlzLmFkZFdpbmRvd0xpc3RlbmVycyh0aGlzLndpbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkV2luZG93TGlzdGVuZXJzKHdpbikge1xuICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeS5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnRRdWVyeS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMub25QcmludCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5LmFkZExpc3RlbmVyKHRoaXMub25QcmludCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmVwcmludFwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgd2luLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSk7XG4gICAgfVxuICAgIHJlbW92ZVdpbmRvd0xpc3RlbmVycyh3aW4pIHtcbiAgICAgICAgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25SZXNpemUpO1xuICAgICAgICBpZiAodGhpcy5wcmludFF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmludFF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy5vblByaW50KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLnByaW50UXVlcnkucmVtb3ZlTGlzdGVuZXIodGhpcy5vblByaW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXByaW50XCIsIHRoaXMub25QcmludCk7XG4gICAgICAgIHdpbi5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGVkaXRhYmxlKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQoZWRpdGFibGUpKVxuICAgICAgICAgICAgICAgIHVwZGF0ZS52aWV3LmNvbnRlbnRET00uZWRpdENvbnRleHQgPSB1cGRhdGUuc3RhdGUuZmFjZXQoZWRpdGFibGUpID8gdGhpcy5lZGl0Q29udGV4dC5lZGl0Q29udGV4dCA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmludGVyc2VjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgKF9iID0gdGhpcy5nYXBJbnRlcnNlY3Rpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYyA9IHRoaXMucmVzaXplU2Nyb2xsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzY29ubmVjdCgpO1xuICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFyZW50Q2hlY2spO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5kZWxheWVkRmx1c2gpO1xuICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSk7XG4gICAgICAgIGlmICh0aGlzLmVkaXRDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuY29udGVudERPTS5lZGl0Q29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmRDaGlsZChjVmlldywgZG9tLCBkaXIpIHtcbiAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIGxldCBjdXJWaWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgIGlmIChjdXJWaWV3ICYmIGN1clZpZXcucGFyZW50ID09IGNWaWV3KVxuICAgICAgICAgICAgcmV0dXJuIGN1clZpZXc7XG4gICAgICAgIGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTtcbiAgICAgICAgZG9tID0gcGFyZW50ICE9IGNWaWV3LmRvbSA/IHBhcmVudCA6IGRpciA+IDAgPyBkb20ubmV4dFNpYmxpbmcgOiBkb20ucHJldmlvdXNTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGJ1aWxkU2VsZWN0aW9uUmFuZ2VGcm9tUmFuZ2UodmlldywgcmFuZ2UpIHtcbiAgICBsZXQgYW5jaG9yTm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLCBhbmNob3JPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldDtcbiAgICBsZXQgZm9jdXNOb2RlID0gcmFuZ2UuZW5kQ29udGFpbmVyLCBmb2N1c09mZnNldCA9IHJhbmdlLmVuZE9mZnNldDtcbiAgICBsZXQgY3VyQW5jaG9yID0gdmlldy5kb2NWaWV3LmRvbUF0UG9zKHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yKTtcbiAgICAvLyBTaW5jZSBzdWNoIGEgcmFuZ2UgZG9lc24ndCBkaXN0aW5ndWlzaCBiZXR3ZWVuIGFuY2hvciBhbmQgaGVhZCxcbiAgICAvLyB1c2UgYSBoZXVyaXN0aWMgdGhhdCBmbGlwcyBpdCBhcm91bmQgaWYgaXRzIGVuZCBtYXRjaGVzIHRoZVxuICAgIC8vIGN1cnJlbnQgYW5jaG9yLlxuICAgIGlmIChpc0VxdWl2YWxlbnRQb3NpdGlvbihjdXJBbmNob3Iubm9kZSwgY3VyQW5jaG9yLm9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkpXG4gICAgICAgIFthbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXRdID0gW2ZvY3VzTm9kZSwgZm9jdXNPZmZzZXQsIGFuY2hvck5vZGUsIGFuY2hvck9mZnNldF07XG4gICAgcmV0dXJuIHsgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0IH07XG59XG4vLyBVc2VkIHRvIHdvcmsgYXJvdW5kIGEgU2FmYXJpIFNlbGVjdGlvbi9zaGFkb3cgRE9NIGJ1ZyAoIzQxNClcbmZ1bmN0aW9uIHNhZmFyaVNlbGVjdGlvblJhbmdlSGFjayh2aWV3LCBzZWxlY3Rpb24pIHtcbiAgICBpZiAoc2VsZWN0aW9uLmdldENvbXBvc2VkUmFuZ2VzKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHNlbGVjdGlvbi5nZXRDb21wb3NlZFJhbmdlcyh2aWV3LnJvb3QpWzBdO1xuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICByZXR1cm4gYnVpbGRTZWxlY3Rpb25SYW5nZUZyb21SYW5nZSh2aWV3LCByYW5nZSk7XG4gICAgfVxuICAgIGxldCBmb3VuZCA9IG51bGw7XG4gICAgLy8gQmVjYXVzZSBTYWZhcmkgKGF0IGxlYXN0IGluIDIwMTgtMjAyMSkgZG9lc24ndCBwcm92aWRlIHJlZ3VsYXJcbiAgICAvLyBhY2Nlc3MgdG8gdGhlIHNlbGVjdGlvbiBpbnNpZGUgYSBzaGFkb3dyb290LCB3ZSBoYXZlIHRvIHBlcmZvcm0gYVxuICAgIC8vIHJpZGljdWxvdXMgaGFjayB0byBnZXQgYXQgaXRcdTIwMTR1c2luZyBgZXhlY0NvbW1hbmRgIHRvIHRyaWdnZXIgYVxuICAgIC8vIGBiZWZvcmVJbnB1dGAgZXZlbnQgc28gdGhhdCB3ZSBjYW4gcmVhZCB0aGUgdGFyZ2V0IHJhbmdlIGZyb20gdGhlXG4gICAgLy8gZXZlbnQuXG4gICAgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZm91bmQgPSBldmVudC5nZXRUYXJnZXRSYW5nZXMoKVswXTtcbiAgICB9XG4gICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmVpbnB1dFwiLCByZWFkLCB0cnVlKTtcbiAgICB2aWV3LmRvbS5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5kZW50XCIpO1xuICAgIHZpZXcuY29udGVudERPTS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgcmVhZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGZvdW5kID8gYnVpbGRTZWxlY3Rpb25SYW5nZUZyb21SYW5nZSh2aWV3LCBmb3VuZCkgOiBudWxsO1xufVxuY2xhc3MgRWRpdENvbnRleHRNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCB3aW5kb3cgZm9yIHdoaWNoIHRoZSB0ZXh0IGluIHRoZSBjb250ZXh0IGlzXG4gICAgICAgIC8vIG1haW50YWluZWQuIEZvciBsYXJnZSBkb2N1bWVudHMsIHRoaXMgbWF5IGJlIHNtYWxsZXIgdGhhbiB0aGVcbiAgICAgICAgLy8gZWRpdG9yIGRvY3VtZW50LiBUaGlzIHdpbmRvdyBhbHdheXMgaW5jbHVkZXMgdGhlIHNlbGVjdGlvbiBoZWFkLlxuICAgICAgICB0aGlzLmZyb20gPSAwO1xuICAgICAgICB0aGlzLnRvID0gMDtcbiAgICAgICAgLy8gV2hlbiBhcHBseWluZyBhIHRyYW5zYWN0aW9uLCB0aGlzIGlzIHVzZWQgdG8gY29tcGFyZSB0aGUgY2hhbmdlXG4gICAgICAgIC8vIG1hZGUgdG8gdGhlIGNvbnRleHQgY29udGVudCB0byB0aGUgY2hhbmdlIGluIHRoZSB0cmFuc2FjdGlvbiBpblxuICAgICAgICAvLyBvcmRlciB0byBtYWtlIHRoZSBtaW5pbWFsIGNoYW5nZXMgdG8gdGhlIGNvbnRleHQgKHNpbmNlIHRvdWNoaW5nXG4gICAgICAgIC8vIHRoYXQgc29tZXRpbWVzIGJyZWFrcyBzZXJpZXMgb2YgbXVsdGlwbGUgZWRpdHMgbWFkZSBmb3IgYSBzaW5nbGVcbiAgICAgICAgLy8gdXNlciBhY3Rpb24gb24gc29tZSBBbmRyb2lkIGtleWJvYXJkcylcbiAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAvLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgdGhlIGZhY3QgdGhhdCBFZGl0Q29udGV4dCBkb2VzIG5vdCByZXNwb25kXG4gICAgICAgIC8vIHdlbGwgdG8gaGF2aW5nIGl0cyBjb250ZW50IHVwZGF0ZWQgZHVyaW5nIGEgY29tcG9zaXRpb24gKHNlZSAjMTQ3MilcbiAgICAgICAgdGhpcy5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2V0UmFuZ2Uodmlldy5zdGF0ZSk7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5lZGl0Q29udGV4dCA9IG5ldyB3aW5kb3cuRWRpdENvbnRleHQoe1xuICAgICAgICAgICAgdGV4dDogdmlldy5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcodGhpcy5mcm9tLCB0aGlzLnRvKSxcbiAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0OiB0aGlzLnRvQ29udGV4dFBvcyhNYXRoLm1heCh0aGlzLmZyb20sIE1hdGgubWluKHRoaXMudG8sIHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yKSkpLFxuICAgICAgICAgICAgc2VsZWN0aW9uRW5kOiB0aGlzLnRvQ29udGV4dFBvcyh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnRleHR1cGRhdGUgPSBlID0+IHtcbiAgICAgICAgICAgIGxldCBtYWluID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbiwgeyBhbmNob3IsIGhlYWQgfSA9IG1haW47XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHRoaXMudG9FZGl0b3JQb3MoZS51cGRhdGVSYW5nZVN0YXJ0KSwgdG8gPSB0aGlzLnRvRWRpdG9yUG9zKGUudXBkYXRlUmFuZ2VFbmQpO1xuICAgICAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMCAmJiAhdGhpcy5jb21wb3NpbmcpXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSB7IGNvbnRleHRCYXNlOiBlLnVwZGF0ZVJhbmdlU3RhcnQsIGVkaXRvckJhc2U6IGZyb20sIGRyaWZ0ZWQ6IGZhbHNlIH07XG4gICAgICAgICAgICBsZXQgY2hhbmdlID0geyBmcm9tLCB0bywgaW5zZXJ0OiBUZXh0Lm9mKGUudGV4dC5zcGxpdChcIlxcblwiKSkgfTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB3aW5kb3cgZG9lc24ndCBpbmNsdWRlIHRoZSBhbmNob3IsIGFzc3VtZSBjaGFuZ2VzXG4gICAgICAgICAgICAvLyBhZGphY2VudCB0byBhIHNpZGUgZ28gdXAgdG8gdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGlmIChjaGFuZ2UuZnJvbSA9PSB0aGlzLmZyb20gJiYgYW5jaG9yIDwgdGhpcy5mcm9tKVxuICAgICAgICAgICAgICAgIGNoYW5nZS5mcm9tID0gYW5jaG9yO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnRvID09IHRoaXMudG8gJiYgYW5jaG9yID4gdGhpcy50bylcbiAgICAgICAgICAgICAgICBjaGFuZ2UudG8gPSBhbmNob3I7XG4gICAgICAgICAgICAvLyBFZGl0IGNvbnRleHRzIHNvbWV0aW1lcyBmaXJlIGVtcHR5IGNoYW5nZXNcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgIWNoYW5nZS5pbnNlcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1NlbCA9IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUodGhpcy50b0VkaXRvclBvcyhlLnNlbGVjdGlvblN0YXJ0KSwgdGhpcy50b0VkaXRvclBvcyhlLnNlbGVjdGlvbkVuZCkpO1xuICAgICAgICAgICAgICAgIGlmICghbmV3U2VsLm1haW4uZXEobWFpbikpXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBzZWxlY3Rpb246IG5ld1NlbCwgdXNlckV2ZW50OiBcInNlbGVjdFwiIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoYnJvd3Nlci5tYWMgfHwgYnJvd3Nlci5hbmRyb2lkKSAmJiBjaGFuZ2UuZnJvbSA9PSBoZWFkIC0gMSAmJlxuICAgICAgICAgICAgICAgIC9eXFwuID8kLy50ZXN0KGUudGV4dCkgJiYgdmlldy5jb250ZW50RE9NLmdldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIpID09IFwib2ZmXCIpXG4gICAgICAgICAgICAgICAgY2hhbmdlID0geyBmcm9tLCB0bywgaW5zZXJ0OiBUZXh0Lm9mKFtlLnRleHQucmVwbGFjZShcIi5cIiwgXCIgXCIpXSkgfTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBjaGFuZ2U7XG4gICAgICAgICAgICBpZiAoIXZpZXcuc3RhdGUucmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TGVuID0gdGhpcy50byAtIHRoaXMuZnJvbSArIChjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSArIGNoYW5nZS5pbnNlcnQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBhcHBseURPTUNoYW5nZUlubmVyKHZpZXcsIGNoYW5nZSwgRWRpdG9yU2VsZWN0aW9uLnNpbmdsZSh0aGlzLnRvRWRpdG9yUG9zKGUuc2VsZWN0aW9uU3RhcnQsIG5ld0xlbiksIHRoaXMudG9FZGl0b3JQb3MoZS5zZWxlY3Rpb25FbmQsIG5ld0xlbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBkaWRuJ3QgZmx1c2ggb3VyIGNoYW5nZSwgcmV2ZXJ0IGl0IHNvXG4gICAgICAgICAgICAvLyB0aGF0IHRoZSBjb250ZXh0IGlzIGluIHN5bmMgd2l0aCB0aGUgZWRpdG9yIHN0YXRlIGFnYWluLlxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVydFBlbmRpbmcodmlldy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24odmlldy5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuY2hhcmFjdGVyYm91bmRzdXBkYXRlID0gZSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVjdHMgPSBbXSwgcHJldiA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b0VkaXRvclBvcyhlLnJhbmdlU3RhcnQpLCBlbmQgPSB0aGlzLnRvRWRpdG9yUG9zKGUucmFuZ2VFbmQpOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHZpZXcuY29vcmRzRm9yQ2hhcihpKTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gKHJlY3QgJiYgbmV3IERPTVJlY3QocmVjdC5sZWZ0LCByZWN0LnRvcCwgcmVjdC5yaWdodCAtIHJlY3QubGVmdCwgcmVjdC5ib3R0b20gLSByZWN0LnRvcCkpXG4gICAgICAgICAgICAgICAgICAgIHx8IHByZXYgfHwgbmV3IERPTVJlY3Q7XG4gICAgICAgICAgICAgICAgcmVjdHMucHVzaChwcmV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQudXBkYXRlQ2hhcmFjdGVyQm91bmRzKGUucmFuZ2VTdGFydCwgcmVjdHMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnRleHRmb3JtYXR1cGRhdGUgPSBlID0+IHtcbiAgICAgICAgICAgIGxldCBkZWNvID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBmb3JtYXQgb2YgZS5nZXRUZXh0Rm9ybWF0cygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVTdHlsZSA9IGZvcm1hdC51bmRlcmxpbmVTdHlsZSwgdGhpY2tuZXNzID0gZm9ybWF0LnVuZGVybGluZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICBpZiAobGluZVN0eWxlICE9IFwiTm9uZVwiICYmIHRoaWNrbmVzcyAhPSBcIk5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHRoaXMudG9FZGl0b3JQb3MoZm9ybWF0LnJhbmdlU3RhcnQpLCB0byA9IHRoaXMudG9FZGl0b3JQb3MoZm9ybWF0LnJhbmdlRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPCB0bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gYHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lICR7bGluZVN0eWxlID09IFwiRGFzaGVkXCIgPyBcImRhc2hlZCBcIiA6IGxpbmVTdHlsZSA9PSBcIlNxdWlnZ2xlXCIgPyBcIndhdnkgXCIgOiBcIlwifSR7dGhpY2tuZXNzID09IFwiVGhpblwiID8gMSA6IDJ9cHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjby5wdXNoKERlY29yYXRpb24ubWFyayh7IGF0dHJpYnV0ZXM6IHsgc3R5bGUgfSB9KS5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldEVkaXRDb250ZXh0Rm9ybWF0dGluZy5vZihEZWNvcmF0aW9uLnNldChkZWNvKSkgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuY29tcG9zaXRpb25zdGFydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nIDwgMCkge1xuICAgICAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAwO1xuICAgICAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5jb21wb3NpdGlvbmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgIGxldCB7IGRyaWZ0ZWQgfSA9IHRoaXMuY29tcG9zaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZHJpZnRlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldCh2aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gdGhpcy5oYW5kbGVycylcbiAgICAgICAgICAgIGNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5oYW5kbGVyc1tldmVudF0pO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlQ29udHJvbEJvdW5kcyh2aWV3LmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsICYmIHNlbC5yYW5nZUNvdW50KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZVNlbGVjdGlvbkJvdW5kcyhzZWwuZ2V0UmFuZ2VBdCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICB9IH07XG4gICAgfVxuICAgIGFwcGx5RWRpdHModXBkYXRlKSB7XG4gICAgICAgIGxldCBvZmYgPSAwLCBhYm9ydCA9IGZhbHNlLCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZTtcbiAgICAgICAgdXBkYXRlLmNoYW5nZXMuaXRlckNoYW5nZXMoKGZyb21BLCB0b0EsIF9mcm9tQiwgX3RvQiwgaW5zZXJ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoYWJvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGRMZW4gPSBpbnNlcnQubGVuZ3RoIC0gKHRvQSAtIGZyb21BKTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nICYmIHRvQSA+PSBwZW5kaW5nLnRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcuZnJvbSA9PSBmcm9tQSAmJiBwZW5kaW5nLnRvID09IHRvQSAmJiBwZW5kaW5nLmluc2VydC5lcShpbnNlcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSB0aGlzLnBlbmRpbmdDb250ZXh0Q2hhbmdlID0gbnVsbDsgLy8gTWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgb2ZmICs9IGRMZW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG8gKz0gZExlbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gTWlzbWF0Y2gsIHJldmVydFxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnRQZW5kaW5nKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUEgKz0gb2ZmO1xuICAgICAgICAgICAgdG9BICs9IG9mZjtcbiAgICAgICAgICAgIGlmICh0b0EgPD0gdGhpcy5mcm9tKSB7IC8vIEJlZm9yZSB0aGUgd2luZG93XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tICs9IGRMZW47XG4gICAgICAgICAgICAgICAgdGhpcy50byArPSBkTGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbUEgPCB0aGlzLnRvKSB7IC8vIE92ZXJsYXBzIHdpdGggd2luZG93XG4gICAgICAgICAgICAgICAgaWYgKGZyb21BIDwgdGhpcy5mcm9tIHx8IHRvQSA+IHRoaXMudG8gfHwgKHRoaXMudG8gLSB0aGlzLmZyb20pICsgaW5zZXJ0Lmxlbmd0aCA+IDMwMDAwIC8qIEN4VnAuTWF4U2l6ZSAqLykge1xuICAgICAgICAgICAgICAgICAgICBhYm9ydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVUZXh0KHRoaXMudG9Db250ZXh0UG9zKGZyb21BKSwgdGhpcy50b0NvbnRleHRQb3ModG9BKSwgaW5zZXJ0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudG8gKz0gZExlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZiArPSBkTGVuO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBlbmRpbmcgJiYgIWFib3J0KVxuICAgICAgICAgICAgdGhpcy5yZXZlcnRQZW5kaW5nKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIHJldHVybiAhYWJvcnQ7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHJldmVydGVkID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSwgc3RhcnRTZWwgPSB1cGRhdGUuc3RhcnRTdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9zaW5nICYmXG4gICAgICAgICAgICAodGhpcy5jb21wb3NpbmcuZHJpZnRlZCB8fFxuICAgICAgICAgICAgICAgICghdXBkYXRlLmNoYW5nZXMudG91Y2hlc1JhbmdlKHN0YXJ0U2VsLmZyb20sIHN0YXJ0U2VsLnRvKSAmJlxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gIXRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKSAmJiB0ci5jaGFuZ2VzLnRvdWNoZXNSYW5nZSh0aGlzLmZyb20sIHRoaXMudG8pKSkpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2luZy5kcmlmdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nLmVkaXRvckJhc2UgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5jb21wb3NpbmcuZWRpdG9yQmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuYXBwbHlFZGl0cyh1cGRhdGUpIHx8ICF0aGlzLnJhbmdlSXNWYWxpZCh1cGRhdGUuc3RhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDb250ZXh0Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVzZXQodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IHJldmVydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbih1cGRhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkIHx8IHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQpXG4gICAgICAgICAgICB1cGRhdGUudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgIH1cbiAgICByZXNldFJhbmdlKHN0YXRlKSB7XG4gICAgICAgIGxldCB7IGhlYWQgfSA9IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICB0aGlzLmZyb20gPSBNYXRoLm1heCgwLCBoZWFkIC0gMTAwMDAgLyogQ3hWcC5NYXJnaW4gKi8pO1xuICAgICAgICB0aGlzLnRvID0gTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgaGVhZCArIDEwMDAwIC8qIEN4VnAuTWFyZ2luICovKTtcbiAgICB9XG4gICAgcmVzZXQoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5yZXNldFJhbmdlKHN0YXRlKTtcbiAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVUZXh0KDAsIHRoaXMuZWRpdENvbnRleHQudGV4dC5sZW5ndGgsIHN0YXRlLmRvYy5zbGljZVN0cmluZyh0aGlzLmZyb20sIHRoaXMudG8pKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24oc3RhdGUpO1xuICAgIH1cbiAgICByZXZlcnRQZW5kaW5nKHN0YXRlKSB7XG4gICAgICAgIGxldCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlVGV4dCh0aGlzLnRvQ29udGV4dFBvcyhwZW5kaW5nLmZyb20pLCB0aGlzLnRvQ29udGV4dFBvcyhwZW5kaW5nLmZyb20gKyBwZW5kaW5nLmluc2VydC5sZW5ndGgpLCBzdGF0ZS5kb2Muc2xpY2VTdHJpbmcocGVuZGluZy5mcm9tLCBwZW5kaW5nLnRvKSk7XG4gICAgfVxuICAgIHNldFNlbGVjdGlvbihzdGF0ZSkge1xuICAgICAgICBsZXQgeyBtYWluIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMudG9Db250ZXh0UG9zKE1hdGgubWF4KHRoaXMuZnJvbSwgTWF0aC5taW4odGhpcy50bywgbWFpbi5hbmNob3IpKSk7XG4gICAgICAgIGxldCBlbmQgPSB0aGlzLnRvQ29udGV4dFBvcyhtYWluLmhlYWQpO1xuICAgICAgICBpZiAodGhpcy5lZGl0Q29udGV4dC5zZWxlY3Rpb25TdGFydCAhPSBzdGFydCB8fCB0aGlzLmVkaXRDb250ZXh0LnNlbGVjdGlvbkVuZCAhPSBlbmQpXG4gICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZVNlbGVjdGlvbihzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgcmFuZ2VJc1ZhbGlkKHN0YXRlKSB7XG4gICAgICAgIGxldCB7IGhlYWQgfSA9IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICByZXR1cm4gISh0aGlzLmZyb20gPiAwICYmIGhlYWQgLSB0aGlzLmZyb20gPCA1MDAgLyogQ3hWcC5NaW5NYXJnaW4gKi8gfHxcbiAgICAgICAgICAgIHRoaXMudG8gPCBzdGF0ZS5kb2MubGVuZ3RoICYmIHRoaXMudG8gLSBoZWFkIDwgNTAwIC8qIEN4VnAuTWluTWFyZ2luICovIHx8XG4gICAgICAgICAgICB0aGlzLnRvIC0gdGhpcy5mcm9tID4gMTAwMDAgLyogQ3hWcC5NYXJnaW4gKi8gKiAzKTtcbiAgICB9XG4gICAgdG9FZGl0b3JQb3MoY29udGV4dFBvcywgY2xpcExlbiA9IHRoaXMudG8gLSB0aGlzLmZyb20pIHtcbiAgICAgICAgY29udGV4dFBvcyA9IE1hdGgubWluKGNvbnRleHRQb3MsIGNsaXBMZW4pO1xuICAgICAgICBsZXQgYyA9IHRoaXMuY29tcG9zaW5nO1xuICAgICAgICByZXR1cm4gYyAmJiBjLmRyaWZ0ZWQgPyBjLmVkaXRvckJhc2UgKyAoY29udGV4dFBvcyAtIGMuY29udGV4dEJhc2UpIDogY29udGV4dFBvcyArIHRoaXMuZnJvbTtcbiAgICB9XG4gICAgdG9Db250ZXh0UG9zKGVkaXRvclBvcykge1xuICAgICAgICBsZXQgYyA9IHRoaXMuY29tcG9zaW5nO1xuICAgICAgICByZXR1cm4gYyAmJiBjLmRyaWZ0ZWQgPyBjLmNvbnRleHRCYXNlICsgKGVkaXRvclBvcyAtIGMuZWRpdG9yQmFzZSkgOiBlZGl0b3JQb3MgLSB0aGlzLmZyb207XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGV2ZW50IGluIHRoaXMuaGFuZGxlcnMpXG4gICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcbiAgICB9XG59XG5cbi8vIFRoZSBlZGl0b3IncyB1cGRhdGUgc3RhdGUgbWFjaGluZSBsb29rcyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuLy9cbi8vICAgICBJZGxlIFx1MjE5MiBVcGRhdGluZyBcdTIxQzYgSWRsZSAodW5jaGVja2VkKSBcdTIxOTIgTWVhc3VyaW5nIFx1MjE5MiBJZGxlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUyMTkxICAgICAgXHUyMTkzXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBkYXRpbmcgKG1lYXN1cmUpXG4vL1xuLy8gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiAnSWRsZScgYW5kICdJZGxlICh1bmNoZWNrZWQpJyBsaWVzIGluXG4vLyB3aGV0aGVyIGEgbGF5b3V0IGNoZWNrIGhhcyBiZWVuIHNjaGVkdWxlZC4gQSByZWd1bGFyIHVwZGF0ZSB0aHJvdWdoXG4vLyB0aGUgYHVwZGF0ZWAgbWV0aG9kIHVwZGF0ZXMgdGhlIERPTSBpbiBhIHdyaXRlLW9ubHkgZmFzaGlvbiwgYW5kXG4vLyByZWxpZXMgb24gYSBjaGVjayAoc2NoZWR1bGVkIHdpdGggYHJlcXVlc3RBbmltYXRpb25GcmFtZWApIHRvIG1ha2Vcbi8vIHN1cmUgZXZlcnl0aGluZyBpcyB3aGVyZSBpdCBzaG91bGQgYmUgYW5kIHRoZSB2aWV3cG9ydCBjb3ZlcnMgdGhlXG4vLyB2aXNpYmxlIGNvZGUuIFRoYXQgY2hlY2sgY29udGludWVzIHRvIG1lYXN1cmUgYW5kIHRoZW4gb3B0aW9uYWxseVxuLy8gdXBkYXRlIHVudGlsIGl0IHJlYWNoZXMgYSBjb2hlcmVudCBzdGF0ZS5cbi8qKlxuQW4gZWRpdG9yIHZpZXcgcmVwcmVzZW50cyB0aGUgZWRpdG9yJ3MgdXNlciBpbnRlcmZhY2UuIEl0IGhvbGRzXG50aGUgZWRpdGFibGUgRE9NIHN1cmZhY2UsIGFuZCBwb3NzaWJseSBvdGhlciBlbGVtZW50cyBzdWNoIGFzIHRoZVxubGluZSBudW1iZXIgZ3V0dGVyLiBJdCBoYW5kbGVzIGV2ZW50cyBhbmQgZGlzcGF0Y2hlcyBzdGF0ZVxudHJhbnNhY3Rpb25zIGZvciBlZGl0aW5nIGFjdGlvbnMuXG4qL1xuY2xhc3MgRWRpdG9yVmlldyB7XG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IHN0YXRlKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc3RhdGU7IH1cbiAgICAvKipcbiAgICBUbyBiZSBhYmxlIHRvIGRpc3BsYXkgbGFyZ2UgZG9jdW1lbnRzIHdpdGhvdXQgY29uc3VtaW5nIHRvbyBtdWNoXG4gICAgbWVtb3J5IG9yIG92ZXJsb2FkaW5nIHRoZSBicm93c2VyLCBDb2RlTWlycm9yIG9ubHkgZHJhd3MgdGhlXG4gICAgY29kZSB0aGF0IGlzIHZpc2libGUgKHBsdXMgYSBtYXJnaW4gYXJvdW5kIGl0KSB0byB0aGUgRE9NLiBUaGlzXG4gICAgcHJvcGVydHkgdGVsbHMgeW91IHRoZSBleHRlbnQgb2YgdGhlIGN1cnJlbnQgZHJhd24gdmlld3BvcnQsIGluXG4gICAgZG9jdW1lbnQgcG9zaXRpb25zLlxuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUudmlld3BvcnQ7IH1cbiAgICAvKipcbiAgICBXaGVuIHRoZXJlIGFyZSwgZm9yIGV4YW1wbGUsIGxhcmdlIGNvbGxhcHNlZCByYW5nZXMgaW4gdGhlXG4gICAgdmlld3BvcnQsIGl0cyBzaXplIGNhbiBiZSBhIGxvdCBiaWdnZXIgdGhhbiB0aGUgYWN0dWFsIHZpc2libGVcbiAgICBjb250ZW50LiBUaHVzLCBpZiB5b3UgYXJlIGRvaW5nIHNvbWV0aGluZyBsaWtlIHN0eWxpbmcgdGhlXG4gICAgY29udGVudCBpbiB0aGUgdmlld3BvcnQsIGl0IGlzIHByZWZlcmFibGUgdG8gb25seSBkbyBzbyBmb3JcbiAgICB0aGVzZSByYW5nZXMsIHdoaWNoIGFyZSB0aGUgc3Vic2V0IG9mIHRoZSB2aWV3cG9ydCB0aGF0IGlzXG4gICAgYWN0dWFsbHkgZHJhd24uXG4gICAgKi9cbiAgICBnZXQgdmlzaWJsZVJhbmdlcygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpc2libGVSYW5nZXM7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIGVkaXRvciBpcyBlbnRpcmVseSBzY3JvbGxlZCBvdXQgb2Ygdmlld1xuICAgIG9yIG90aGVyd2lzZSBoaWRkZW4uXG4gICAgKi9cbiAgICBnZXQgaW5WaWV3KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaW5WaWV3OyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IGNvbXBvc2luZyB0ZXh0IHZpYVxuICAgIFtJTUVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lucHV0X21ldGhvZCksIGFuZCBhdCBsZWFzdFxuICAgIG9uZSBjaGFuZ2UgaGFzIGJlZW4gbWFkZSBpbiB0aGUgY3VycmVudCBjb21wb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCBjb21wb3NpbmcoKSB7IHJldHVybiAhIXRoaXMuaW5wdXRTdGF0ZSAmJiB0aGlzLmlucHV0U3RhdGUuY29tcG9zaW5nID4gMDsgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBpbiBjb21wb3Npbmcgc3RhdGUuIE5vdGVcbiAgICB0aGF0IG9uIHNvbWUgcGxhdGZvcm1zLCBsaWtlIEFuZHJvaWQsIHRoaXMgd2lsbCBiZSB0aGUgY2FzZSBhXG4gICAgbG90LCBzaW5jZSBqdXN0IHB1dHRpbmcgdGhlIGN1cnNvciBvbiBhIHdvcmQgc3RhcnRzIGFcbiAgICBjb21wb3NpdGlvbiB0aGVyZS5cbiAgICAqL1xuICAgIGdldCBjb21wb3NpdGlvblN0YXJ0ZWQoKSB7IHJldHVybiAhIXRoaXMuaW5wdXRTdGF0ZSAmJiB0aGlzLmlucHV0U3RhdGUuY29tcG9zaW5nID49IDA7IH1cbiAgICAvKipcbiAgICBUaGUgZG9jdW1lbnQgb3Igc2hhZG93IHJvb3QgdGhhdCB0aGUgdmlldyBsaXZlcyBpbi5cbiAgICAqL1xuICAgIGdldCByb290KCkgeyByZXR1cm4gdGhpcy5fcm9vdDsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IHdpbigpIHsgcmV0dXJuIHRoaXMuZG9tLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93OyB9XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgbmV3IHZpZXcuIFlvdSdsbCB3YW50IHRvIGVpdGhlciBwcm92aWRlIGEgYHBhcmVudGBcbiAgICBvcHRpb24sIG9yIHB1dCBgdmlldy5kb21gIGludG8geW91ciBkb2N1bWVudCBhZnRlciBjcmVhdGluZyBhXG4gICAgdmlldywgc28gdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZSBlZGl0b3IuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbk1hcCA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMuZWRpdG9yQXR0cnMgPSB7fTtcbiAgICAgICAgdGhpcy5jb250ZW50QXR0cnMgPSB7fTtcbiAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0cyA9IFtdO1xuICAgICAgICB0aGlzLmNvbnRlbnRET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnNjcm9sbERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLnRhYkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLmNsYXNzTmFtZSA9IFwiY20tc2Nyb2xsZXJcIjtcbiAgICAgICAgdGhpcy5zY3JvbGxET00uYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgdGhpcy5hbm5vdW5jZURPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00uY2xhc3NOYW1lID0gXCJjbS1hbm5vdW5jZWRcIjtcbiAgICAgICAgdGhpcy5hbm5vdW5jZURPTS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQodGhpcy5hbm5vdW5jZURPTSk7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsRE9NKTtcbiAgICAgICAgaWYgKGNvbmZpZy5wYXJlbnQpXG4gICAgICAgICAgICBjb25maWcucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tKTtcbiAgICAgICAgbGV0IHsgZGlzcGF0Y2ggfSA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5kaXNwYXRjaFRyYW5zYWN0aW9ucyA9IGNvbmZpZy5kaXNwYXRjaFRyYW5zYWN0aW9ucyB8fFxuICAgICAgICAgICAgKGRpc3BhdGNoICYmICgodHJzKSA9PiB0cnMuZm9yRWFjaCh0ciA9PiBkaXNwYXRjaCh0ciwgdGhpcykpKSkgfHxcbiAgICAgICAgICAgICgodHJzKSA9PiB0aGlzLnVwZGF0ZSh0cnMpKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCA9IHRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcm9vdCA9IChjb25maWcucm9vdCB8fCBnZXRSb290KGNvbmZpZy5wYXJlbnQpIHx8IGRvY3VtZW50KTtcbiAgICAgICAgdGhpcy52aWV3U3RhdGUgPSBuZXcgVmlld1N0YXRlKGNvbmZpZy5zdGF0ZSB8fCBFZGl0b3JTdGF0ZS5jcmVhdGUoY29uZmlnKSk7XG4gICAgICAgIGlmIChjb25maWcuc2Nyb2xsVG8gJiYgY29uZmlnLnNjcm9sbFRvLmlzKHNjcm9sbEludG9WaWV3KSlcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9IGNvbmZpZy5zY3JvbGxUby52YWx1ZS5jbGlwKHRoaXMudmlld1N0YXRlLnN0YXRlKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5zdGF0ZS5mYWNldCh2aWV3UGx1Z2luKS5tYXAoc3BlYyA9PiBuZXcgUGx1Z2luSW5zdGFuY2Uoc3BlYykpO1xuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBET01PYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dFN0YXRlID0gbmV3IElucHV0U3RhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5lbnN1cmVIYW5kbGVycyh0aGlzLnBsdWdpbnMpO1xuICAgICAgICB0aGlzLmRvY1ZpZXcgPSBuZXcgRG9jVmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIHRoaXMucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgaWYgKChfYSA9IGRvY3VtZW50LmZvbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVhZHkpXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5yZWFkeS50aGVuKCgpID0+IHRoaXMucmVxdWVzdE1lYXN1cmUoKSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKC4uLmlucHV0KSB7XG4gICAgICAgIGxldCB0cnMgPSBpbnB1dC5sZW5ndGggPT0gMSAmJiBpbnB1dFswXSBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uID8gaW5wdXRcbiAgICAgICAgICAgIDogaW5wdXQubGVuZ3RoID09IDEgJiYgQXJyYXkuaXNBcnJheShpbnB1dFswXSkgPyBpbnB1dFswXVxuICAgICAgICAgICAgICAgIDogW3RoaXMuc3RhdGUudXBkYXRlKC4uLmlucHV0KV07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbnModHJzLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXBkYXRlIHRoZSB2aWV3IGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgdHJhbnNhY3Rpb25zLiBUaGlzIHdpbGxcbiAgICB1cGRhdGUgdGhlIHZpc2libGUgZG9jdW1lbnQgYW5kIHNlbGVjdGlvbiB0byBtYXRjaCB0aGUgc3RhdGVcbiAgICBwcm9kdWNlZCBieSB0aGUgdHJhbnNhY3Rpb25zLCBhbmQgbm90aWZ5IHZpZXcgcGx1Z2lucyBvZiB0aGVcbiAgICBjaGFuZ2UuIFlvdSBzaG91bGQgdXN1YWxseSBjYWxsXG4gICAgW2BkaXNwYXRjaGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRpc3BhdGNoKSBpbnN0ZWFkLCB3aGljaCB1c2VzIHRoaXNcbiAgICBhcyBhIHByaW1pdGl2ZS5cbiAgICAqL1xuICAgIHVwZGF0ZSh0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGUgIT0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbHMgdG8gRWRpdG9yVmlldy51cGRhdGUgYXJlIG5vdCBhbGxvd2VkIHdoaWxlIGFuIHVwZGF0ZSBpcyBpbiBwcm9ncmVzc1wiKTtcbiAgICAgICAgbGV0IHJlZHJhd24gPSBmYWxzZSwgYXR0cnNDaGFuZ2VkID0gZmFsc2UsIHVwZGF0ZTtcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAodHIuc3RhcnRTdGF0ZSAhPSBzdGF0ZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byB1cGRhdGUgc3RhdGUgd2l0aCBhIHRyYW5zYWN0aW9uIHRoYXQgZG9lc24ndCBzdGFydCBmcm9tIHRoZSBwcmV2aW91cyBzdGF0ZS5cIik7XG4gICAgICAgICAgICBzdGF0ZSA9IHRyLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZm9jdXMgPSB0aGlzLmhhc0ZvY3VzLCBmb2N1c0ZsYWcgPSAwLCBkaXNwYXRjaEZvY3VzID0gbnVsbDtcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLmFubm90YXRpb24oaXNGb2N1c0NoYW5nZSkpKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkID0gZm9jdXM7XG4gICAgICAgICAgICAvLyBJZiBhIGZvY3VzLWNoYW5nZSB0cmFuc2FjdGlvbiBpcyBiZWluZyBkaXNwYXRjaGVkLCBzZXQgdGhpcyB1cGRhdGUgZmxhZy5cbiAgICAgICAgICAgIGZvY3VzRmxhZyA9IDEgLyogVXBkYXRlRmxhZy5Gb2N1cyAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb2N1cyAhPSB0aGlzLmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkID0gZm9jdXM7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSBhIHNlcGFyYXRlIGZvY3VzIHRyYW5zYWN0aW9uIGlmIG5lY2Vzc2FyeSwgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBhZGQgYSBmbGFnIHRvIHRoaXMgdXBkYXRlXG4gICAgICAgICAgICBkaXNwYXRjaEZvY3VzID0gZm9jdXNDaGFuZ2VUcmFuc2FjdGlvbihzdGF0ZSwgZm9jdXMpO1xuICAgICAgICAgICAgaWYgKCFkaXNwYXRjaEZvY3VzKVxuICAgICAgICAgICAgICAgIGZvY3VzRmxhZyA9IDEgLyogVXBkYXRlRmxhZy5Gb2N1cyAqLztcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBwZW5kaW5nIERPTSBjaGFuZ2UsIGVhZ2VybHkgcmVhZCBpdCBhbmQgdHJ5IHRvXG4gICAgICAgIC8vIGFwcGx5IGl0IGFmdGVyIHRoZSBnaXZlbiB0cmFuc2FjdGlvbnMuXG4gICAgICAgIGxldCBwZW5kaW5nS2V5ID0gdGhpcy5vYnNlcnZlci5kZWxheWVkQW5kcm9pZEtleSwgZG9tQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgaWYgKHBlbmRpbmdLZXkpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuY2xlYXJEZWxheWVkQW5kcm9pZEtleSgpO1xuICAgICAgICAgICAgZG9tQ2hhbmdlID0gdGhpcy5vYnNlcnZlci5yZWFkQ2hhbmdlKCk7XG4gICAgICAgICAgICAvLyBPbmx5IHRyeSB0byBhcHBseSBET00gY2hhbmdlcyBpZiB0aGUgdHJhbnNhY3Rpb25zIGRpZG4ndFxuICAgICAgICAgICAgLy8gY2hhbmdlIHRoZSBkb2Mgb3Igc2VsZWN0aW9uLlxuICAgICAgICAgICAgaWYgKGRvbUNoYW5nZSAmJiAhdGhpcy5zdGF0ZS5kb2MuZXEoc3RhdGUuZG9jKSB8fCAhdGhpcy5zdGF0ZS5zZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uKSlcbiAgICAgICAgICAgICAgICBkb21DaGFuZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHBocmFzZXMgY2hhbmdlLCByZWRyYXcgdGhlIGVkaXRvclxuICAgICAgICBpZiAoc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykgIT0gdGhpcy5zdGF0ZS5mYWNldChFZGl0b3JTdGF0ZS5waHJhc2VzKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgdXBkYXRlID0gVmlld1VwZGF0ZS5jcmVhdGUodGhpcywgc3RhdGUsIHRyYW5zYWN0aW9ucyk7XG4gICAgICAgIHVwZGF0ZS5mbGFncyB8PSBmb2N1c0ZsYWc7XG4gICAgICAgIGxldCBzY3JvbGxUYXJnZXQgPSB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUYXJnZXQpXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IHNjcm9sbFRhcmdldC5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRyLnNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7IG1haW4gfSA9IHRyLnN0YXRlLnNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGFyZ2V0ID0gbmV3IFNjcm9sbFRhcmdldChtYWluLmVtcHR5ID8gbWFpbiA6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobWFpbi5oZWFkLCBtYWluLmhlYWQgPiBtYWluLmFuY2hvciA/IC0xIDogMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlIG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmlzKHNjcm9sbEludG9WaWV3KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IGUudmFsdWUuY2xpcCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnVwZGF0ZSh1cGRhdGUsIHNjcm9sbFRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmJpZGlDYWNoZSA9IENhY2hlZE9yZGVyLnVwZGF0ZSh0aGlzLmJpZGlDYWNoZSwgdXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgaWYgKCF1cGRhdGUuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsdWdpbnModXBkYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWRyYXduID0gdGhpcy5kb2NWaWV3LnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmFjZXQoc3R5bGVNb2R1bGUpICE9IHRoaXMuc3R5bGVNb2R1bGVzKVxuICAgICAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgICAgIGF0dHJzQ2hhbmdlZCA9IHRoaXMudXBkYXRlQXR0cnMoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Fubm91bmNlbWVudHModHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVTZWxlY3Rpb24ocmVkcmF3biwgdHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gdHIuaXNVc2VyRXZlbnQoXCJzZWxlY3QucG9pbnRlclwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQodGhlbWUpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0aGVtZSkpXG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5tdXN0TWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICBpZiAocmVkcmF3biB8fCBhdHRyc0NoYW5nZWQgfHwgc2Nyb2xsVGFyZ2V0IHx8IHRoaXMudmlld1N0YXRlLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgfHwgdGhpcy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50KVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICBpZiAocmVkcmF3bilcbiAgICAgICAgICAgIHRoaXMuZG9jVmlld1VwZGF0ZSgpO1xuICAgICAgICBpZiAoIXVwZGF0ZS5lbXB0eSlcbiAgICAgICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMuc3RhdGUuZmFjZXQodXBkYXRlTGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMuc3RhdGUsIGUsIFwidXBkYXRlIGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BhdGNoRm9jdXMgfHwgZG9tQ2hhbmdlKVxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BhdGNoRm9jdXMgJiYgdGhpcy5zdGF0ZSA9PSBkaXNwYXRjaEZvY3VzLnN0YXJ0U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goZGlzcGF0Y2hGb2N1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFwcGx5RE9NQ2hhbmdlKHRoaXMsIGRvbUNoYW5nZSkgJiYgcGVuZGluZ0tleS5mb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHRoaXMuY29udGVudERPTSwgcGVuZGluZ0tleS5rZXksIHBlbmRpbmdLZXkua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJlc2V0IHRoZSB2aWV3IHRvIHRoZSBnaXZlbiBzdGF0ZS4gKFRoaXMgd2lsbCBjYXVzZSB0aGUgZW50aXJlXG4gICAgZG9jdW1lbnQgdG8gYmUgcmVkcmF3biBhbmQgYWxsIHZpZXcgcGx1Z2lucyB0byBiZSByZWluaXRpYWxpemVkLFxuICAgIHNvIHlvdSBzaG91bGQgcHJvYmFibHkgb25seSB1c2UgaXQgd2hlbiB0aGUgbmV3IHN0YXRlIGlzbid0XG4gICAgZGVyaXZlZCBmcm9tIHRoZSBvbGQgc3RhdGUuIE90aGVyd2lzZSwgdXNlXG4gICAgW2BkaXNwYXRjaGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRpc3BhdGNoKSBpbnN0ZWFkLilcbiAgICAqL1xuICAgIHNldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcuc2V0U3RhdGUgYXJlIG5vdCBhbGxvd2VkIHdoaWxlIGFuIHVwZGF0ZSBpcyBpbiBwcm9ncmVzc1wiKTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovO1xuICAgICAgICBsZXQgaGFkRm9jdXMgPSB0aGlzLmhhc0ZvY3VzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlID0gbmV3IFZpZXdTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXdTdGF0ZS5mYWNldCh2aWV3UGx1Z2luKS5tYXAoc3BlYyA9PiBuZXcgUGx1Z2luSW5zdGFuY2Uoc3BlYykpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuY2xlYXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcgPSBuZXcgRG9jVmlldyh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5lbnN1cmVIYW5kbGVycyh0aGlzLnBsdWdpbnMpO1xuICAgICAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhZEZvY3VzKVxuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVBsdWdpbnModXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2U3BlY3MgPSB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldCh2aWV3UGx1Z2luKSwgc3BlY3MgPSB1cGRhdGUuc3RhdGUuZmFjZXQodmlld1BsdWdpbik7XG4gICAgICAgIGlmIChwcmV2U3BlY3MgIT0gc3BlY3MpIHtcbiAgICAgICAgICAgIGxldCBuZXdQbHVnaW5zID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBzcGVjIG9mIHNwZWNzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gcHJldlNwZWNzLmluZGV4T2Yoc3BlYyk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQbHVnaW5zLnB1c2gobmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLnBsdWdpbnNbZm91bmRdO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ubXVzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm11c3RVcGRhdGUgIT0gdXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucyA9IG5ld1BsdWdpbnM7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbk1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcC5tdXN0VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wbHVnaW5zLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW2ldLnVwZGF0ZSh0aGlzKTtcbiAgICAgICAgaWYgKHByZXZTcGVjcyAhPSBzcGVjcylcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5lbnN1cmVIYW5kbGVycyh0aGlzLnBsdWdpbnMpO1xuICAgIH1cbiAgICBkb2NWaWV3VXBkYXRlKCkge1xuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBsZXQgdmFsID0gcGx1Z2luLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwuZG9jVmlld1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbC5kb2NWaWV3VXBkYXRlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy5zdGF0ZSwgZSwgXCJkb2MgdmlldyB1cGRhdGUgbGlzdGVuZXJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbWVhc3VyZShmbHVzaCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5tZWFzdXJlU2NoZWR1bGVkID4gLTEpXG4gICAgICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1lYXN1cmVTY2hlZHVsZWQpO1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlci5kZWxheWVkQW5kcm9pZEtleSkge1xuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gMDsgLy8gUHJldmVudCByZXF1ZXN0TWVhc3VyZSBjYWxscyBmcm9tIHNjaGVkdWxpbmcgYW5vdGhlciBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgaWYgKGZsdXNoKVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gbnVsbDtcbiAgICAgICAgbGV0IHNET00gPSB0aGlzLnNjcm9sbERPTSwgc2Nyb2xsVG9wID0gc0RPTS5zY3JvbGxUb3AgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgbGV0IHsgc2Nyb2xsQW5jaG9yUG9zLCBzY3JvbGxBbmNob3JIZWlnaHQgfSA9IHRoaXMudmlld1N0YXRlO1xuICAgICAgICBpZiAoTWF0aC5hYnMoc2Nyb2xsVG9wIC0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVG9wKSA+IDEpXG4gICAgICAgICAgICBzY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgdGhpcy52aWV3U3RhdGUuc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBbmNob3JIZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Njcm9sbGVkVG9Cb3R0b20oc0RPTSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvclBvcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gdGhpcy52aWV3U3RhdGUuaGVpZ2h0TWFwLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9jayA9IHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3JQb3MgPSBibG9jay5mcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gYmxvY2sudG9wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAxIC8qIFVwZGF0ZVN0YXRlLk1lYXN1cmluZyAqLztcbiAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZCA9IHRoaXMudmlld1N0YXRlLm1lYXN1cmUodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VkICYmICF0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGggJiYgdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID4gNSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4odGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiTWVhc3VyZSBsb29wIHJlc3RhcnRlZCBtb3JlIHRoYW4gNSB0aW1lc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiVmlld3BvcnQgZmFpbGVkIHRvIHN0YWJpbGl6ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJ1biBtZWFzdXJlIHJlcXVlc3RzIGluIHRoaXMgY3ljbGUgd2hlbiB0aGUgdmlld3BvcnQgZGlkbid0IGNoYW5nZVxuICAgICAgICAgICAgICAgIGlmICghKGNoYW5nZWQgJiA0IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnQgKi8pKVxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5tZWFzdXJlUmVxdWVzdHMsIG1lYXN1cmluZ10gPSBbbWVhc3VyaW5nLCB0aGlzLm1lYXN1cmVSZXF1ZXN0c107XG4gICAgICAgICAgICAgICAgbGV0IG1lYXN1cmVkID0gbWVhc3VyaW5nLm1hcChtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnJlYWQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCYWRNZWFzdXJlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHRoaXMuc3RhdGUsIFtdKSwgcmVkcmF3biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZS5mbGFncyB8PSBjaGFuZ2VkO1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZClcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuZmxhZ3MgfD0gY2hhbmdlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZS5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsdWdpbnModXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZHJhd24gPSB0aGlzLmRvY1ZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWRyYXduKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NWaWV3VXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVhc3VyaW5nLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVhc3VyZWRbaV0gIT0gQmFkTWVhc3VyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbSA9IG1lYXN1cmluZ1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobS53cml0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS53cml0ZShtZWFzdXJlZFtpXSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWRyYXduKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCAmJiB0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3U3RhdGUuZWRpdG9ySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnNjcm9sbEludG9WaWV3KHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3JIZWlnaHQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdBbmNob3JIZWlnaHQgPSBzY3JvbGxBbmNob3JQb3MgPCAwID8gdGhpcy52aWV3U3RhdGUuaGVpZ2h0TWFwLmhlaWdodCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHNjcm9sbEFuY2hvclBvcykudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmID0gbmV3QW5jaG9ySGVpZ2h0IC0gc2Nyb2xsQW5jaG9ySGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmID4gMSB8fCBkaWZmIDwgLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gc2Nyb2xsVG9wICsgZGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0RPTS5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgLyB0aGlzLnNjYWxlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQgJiYgIXVwZGF0ZWQuZW1wdHkpXG4gICAgICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlLmZhY2V0KHVwZGF0ZUxpc3RlbmVyKSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih1cGRhdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBDU1MgY2xhc3NlcyBmb3IgdGhlIGN1cnJlbnRseSBhY3RpdmUgZWRpdG9yIHRoZW1lcy5cbiAgICAqL1xuICAgIGdldCB0aGVtZUNsYXNzZXMoKSB7XG4gICAgICAgIHJldHVybiBiYXNlVGhlbWVJRCArIFwiIFwiICtcbiAgICAgICAgICAgICh0aGlzLnN0YXRlLmZhY2V0KGRhcmtUaGVtZSkgPyBiYXNlRGFya0lEIDogYmFzZUxpZ2h0SUQpICsgXCIgXCIgK1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5mYWNldCh0aGVtZSk7XG4gICAgfVxuICAgIHVwZGF0ZUF0dHJzKCkge1xuICAgICAgICBsZXQgZWRpdG9yQXR0cnMgPSBhdHRyc0Zyb21GYWNldCh0aGlzLCBlZGl0b3JBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBjbGFzczogXCJjbS1lZGl0b3JcIiArICh0aGlzLmhhc0ZvY3VzID8gXCIgY20tZm9jdXNlZCBcIiA6IFwiIFwiKSArIHRoaXMudGhlbWVDbGFzc2VzXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgY29udGVudEF0dHJzID0ge1xuICAgICAgICAgICAgc3BlbGxjaGVjazogXCJmYWxzZVwiLFxuICAgICAgICAgICAgYXV0b2NvcnJlY3Q6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY2FwaXRhbGl6ZTogXCJvZmZcIixcbiAgICAgICAgICAgIHdyaXRpbmdzdWdnZXN0aW9uczogXCJmYWxzZVwiLFxuICAgICAgICAgICAgdHJhbnNsYXRlOiBcIm5vXCIsXG4gICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6ICF0aGlzLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiLFxuICAgICAgICAgICAgY2xhc3M6IFwiY20tY29udGVudFwiLFxuICAgICAgICAgICAgc3R5bGU6IGAke2Jyb3dzZXIudGFiU2l6ZX06ICR7dGhpcy5zdGF0ZS50YWJTaXplfWAsXG4gICAgICAgICAgICByb2xlOiBcInRleHRib3hcIixcbiAgICAgICAgICAgIFwiYXJpYS1tdWx0aWxpbmVcIjogXCJ0cnVlXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICBjb250ZW50QXR0cnNbXCJhcmlhLXJlYWRvbmx5XCJdID0gXCJ0cnVlXCI7XG4gICAgICAgIGF0dHJzRnJvbUZhY2V0KHRoaXMsIGNvbnRlbnRBdHRyaWJ1dGVzLCBjb250ZW50QXR0cnMpO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IHRoaXMub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkQ29udGVudCA9IHVwZGF0ZUF0dHJzKHRoaXMuY29udGVudERPTSwgdGhpcy5jb250ZW50QXR0cnMsIGNvbnRlbnRBdHRycyk7XG4gICAgICAgICAgICBsZXQgY2hhbmdlZEVkaXRvciA9IHVwZGF0ZUF0dHJzKHRoaXMuZG9tLCB0aGlzLmVkaXRvckF0dHJzLCBlZGl0b3JBdHRycyk7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlZENvbnRlbnQgfHwgY2hhbmdlZEVkaXRvcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWRpdG9yQXR0cnMgPSBlZGl0b3JBdHRycztcbiAgICAgICAgdGhpcy5jb250ZW50QXR0cnMgPSBjb250ZW50QXR0cnM7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBzaG93QW5ub3VuY2VtZW50cyh0cnMpIHtcbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJzKVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhFZGl0b3JWaWV3LmFubm91bmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFubm91bmNlRE9NLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IHRoaXMuYW5ub3VuY2VET00uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgfVxuICAgIG1vdW50U3R5bGVzKCkge1xuICAgICAgICB0aGlzLnN0eWxlTW9kdWxlcyA9IHRoaXMuc3RhdGUuZmFjZXQoc3R5bGVNb2R1bGUpO1xuICAgICAgICBsZXQgbm9uY2UgPSB0aGlzLnN0YXRlLmZhY2V0KEVkaXRvclZpZXcuY3NwTm9uY2UpO1xuICAgICAgICBTdHlsZU1vZHVsZS5tb3VudCh0aGlzLnJvb3QsIHRoaXMuc3R5bGVNb2R1bGVzLmNvbmNhdChiYXNlVGhlbWUkMSkucmV2ZXJzZSgpLCBub25jZSA/IHsgbm9uY2UgfSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJlYWRNZWFzdXJlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGUgPT0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWRpbmcgdGhlIGVkaXRvciBsYXlvdXQgaXNuJ3QgYWxsb3dlZCBkdXJpbmcgYW4gdXBkYXRlXCIpO1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSA9PSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi8gJiYgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID4gLTEpXG4gICAgICAgICAgICB0aGlzLm1lYXN1cmUoZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICBTY2hlZHVsZSBhIGxheW91dCBtZWFzdXJlbWVudCwgb3B0aW9uYWxseSBwcm92aWRpbmcgY2FsbGJhY2tzIHRvXG4gICAgZG8gY3VzdG9tIERPTSBtZWFzdXJpbmcgZm9sbG93ZWQgYnkgYSBET00gd3JpdGUgcGhhc2UuIFVzaW5nXG4gICAgdGhpcyBpcyBwcmVmZXJhYmxlIHJlYWRpbmcgRE9NIGxheW91dCBkaXJlY3RseSBmcm9tLCBmb3JcbiAgICBleGFtcGxlLCBhbiBldmVudCBoYW5kbGVyLCBiZWNhdXNlIGl0J2xsIG1ha2Ugc3VyZSBtZWFzdXJpbmcgYW5kXG4gICAgZHJhd2luZyBkb25lIGJ5IG90aGVyIGNvbXBvbmVudHMgaXMgc3luY2hyb25pemVkLCBhdm9pZGluZ1xuICAgIHVubmVjZXNzYXJ5IERPTSBsYXlvdXQgY29tcHV0YXRpb25zLlxuICAgICovXG4gICAgcmVxdWVzdE1lYXN1cmUocmVxdWVzdCkge1xuICAgICAgICBpZiAodGhpcy5tZWFzdXJlU2NoZWR1bGVkIDwgMClcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IHRoaXMud2luLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm1lYXN1cmUoKSk7XG4gICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWFzdXJlUmVxdWVzdHMuaW5kZXhPZihyZXF1ZXN0KSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmtleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVhc3VyZVJlcXVlc3RzW2ldLmtleSA9PT0gcmVxdWVzdC5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZVJlcXVlc3RzW2ldID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVJlcXVlc3RzLnB1c2gocmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmljIHBsdWdpbiwgaWYgcHJlc2VudC4gTm90ZSB0aGF0XG4gICAgcGx1Z2lucyB0aGF0IGNyYXNoIGNhbiBiZSBkcm9wcGVkIGZyb20gYSB2aWV3LCBzbyBldmVuIHdoZW4geW91XG4gICAga25vdyB5b3UgcmVnaXN0ZXJlZCBhIGdpdmVuIHBsdWdpbiwgaXQgaXMgcmVjb21tZW5kZWQgdG8gY2hlY2tcbiAgICB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoaXMgbWV0aG9kLlxuICAgICovXG4gICAgcGx1Z2luKHBsdWdpbikge1xuICAgICAgICBsZXQga25vd24gPSB0aGlzLnBsdWdpbk1hcC5nZXQocGx1Z2luKTtcbiAgICAgICAgaWYgKGtub3duID09PSB1bmRlZmluZWQgfHwga25vd24gJiYga25vd24ucGx1Z2luICE9IHBsdWdpbilcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLnNldChwbHVnaW4sIGtub3duID0gdGhpcy5wbHVnaW5zLmZpbmQocCA9PiBwLnBsdWdpbiA9PSBwbHVnaW4pIHx8IG51bGwpO1xuICAgICAgICByZXR1cm4ga25vd24gJiYga25vd24udXBkYXRlKHRoaXMpLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBkb2N1bWVudCwgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLiBUaGlzXG4gICAgbWF5IGJlIG5lZ2F0aXZlIHdoZW4gdGhlIGVkaXRvciBpcyBzY3JvbGxlZCBkb3duLiBQb2ludHNcbiAgICBkaXJlY3RseSB0byB0aGUgdG9wIG9mIHRoZSBmaXJzdCBsaW5lLCBub3QgYWJvdmUgdGhlIHBhZGRpbmcuXG4gICAgKi9cbiAgICBnZXQgZG9jdW1lbnRUb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdGhpcy52aWV3U3RhdGUucGFkZGluZ1RvcDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwb3J0cyB0aGUgcGFkZGluZyBhYm92ZSBhbmQgYmVsb3cgdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IGRvY3VtZW50UGFkZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHsgdG9wOiB0aGlzLnZpZXdTdGF0ZS5wYWRkaW5nVG9wLCBib3R0b206IHRoaXMudmlld1N0YXRlLnBhZGRpbmdCb3R0b20gfTtcbiAgICB9XG4gICAgLyoqXG4gICAgSWYgdGhlIGVkaXRvciBpcyB0cmFuc2Zvcm1lZCB3aXRoIENTUywgdGhpcyBwcm92aWRlcyB0aGUgc2NhbGVcbiAgICBhbG9uZyB0aGUgWCBheGlzLiBPdGhlcndpc2UsIGl0IHdpbGwganVzdCBiZSAxLiBOb3RlIHRoYXRcbiAgICB0cmFuc2Zvcm1zIG90aGVyIHRoYW4gdHJhbnNsYXRpb24gYW5kIHNjYWxpbmcgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVYKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVYOyB9XG4gICAgLyoqXG4gICAgUHJvdmlkZSB0aGUgQ1NTIHRyYW5zZm9ybWVkIHNjYWxlIGFsb25nIHRoZSBZIGF4aXMuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVZKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVZOyB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdGV4dCBsaW5lIG9yIGJsb2NrIHdpZGdldCBhdCB0aGUgZ2l2ZW4gdmVydGljYWxcbiAgICBwb3NpdGlvbiAod2hpY2ggaXMgaW50ZXJwcmV0ZWQgYXMgcmVsYXRpdmUgdG8gdGhlIFt0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRvY3VtZW50VG9wKSkuXG4gICAgKi9cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5lbGVtZW50QXRIZWlnaHQoaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgbGluZSBibG9jayAoc2VlXG4gICAgW2BsaW5lQmxvY2tBdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBhdCB0aGUgZ2l2ZW5cbiAgICBoZWlnaHQsIGFnYWluIGludGVycHJldGVkIHJlbGF0aXZlIHRvIHRoZSBbdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb2N1bWVudFRvcCkuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgZXh0ZW50IGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiBhbGwgW2xpbmVcbiAgICBibG9ja3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBpbiB0aGUgdmlld3BvcnQuIFBvc2l0aW9uc1xuICAgIGFyZSByZWxhdGl2ZSB0byB0aGUgW3RvcCBvZiB0aGVcbiAgICBkb2N1bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0TGluZUJsb2NrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpZXdwb3J0TGluZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGxpbmUgYmxvY2sgYXJvdW5kIHRoZSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi4gQSBsaW5lXG4gICAgYmxvY2sgaXMgYSByYW5nZSBkZWxpbWl0ZWQgb24gYm90aCBzaWRlcyBieSBlaXRoZXIgYVxuICAgIG5vbi1baGlkZGVuXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBsaW5lIGJyZWFrLCBvciB0aGVcbiAgICBzdGFydC9lbmQgb2YgdGhlIGRvY3VtZW50LiBJdCB3aWxsIHVzdWFsbHkganVzdCBob2xkIGEgbGluZSBvZlxuICAgIHRleHQsIGJ1dCBtYXkgYmUgYnJva2VuIGludG8gbXVsdGlwbGUgdGV4dGJsb2NrcyBieSBibG9ja1xuICAgIHdpZGdldHMuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IncyB0b3RhbCBjb250ZW50IGhlaWdodC5cbiAgICAqL1xuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUuY29udGVudEhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBieSBbZ3JhcGhlbWVcbiAgICBjbHVzdGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLmZpbmRDbHVzdGVyQnJlYWspLiBgZm9yd2FyZGAgZGV0ZXJtaW5lcyB3aGV0aGVyXG4gICAgdGhlIG1vdGlvbiBpcyBhd2F5IGZyb20gdGhlIGxpbmUgc3RhcnQsIG9yIHRvd2FyZHMgaXQuIEluXG4gICAgYmlkaXJlY3Rpb25hbCB0ZXh0LCB0aGUgbGluZSBpcyB0cmF2ZXJzZWQgaW4gdmlzdWFsIG9yZGVyLCB1c2luZ1xuICAgIHRoZSBlZGl0b3IncyBbdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLlxuICAgIFdoZW4gdGhlIHN0YXJ0IHBvc2l0aW9uIHdhcyB0aGUgbGFzdCBvbmUgb24gdGhlIGxpbmUsIHRoZVxuICAgIHJldHVybmVkIHBvc2l0aW9uIHdpbGwgYmUgYWNyb3NzIHRoZSBsaW5lIGJyZWFrLiBJZiB0aGVyZSBpcyBub1xuICAgIGZ1cnRoZXIgbGluZSwgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIGlzIHJldHVybmVkLlxuICAgIFxuICAgIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIG1vdmVzIG92ZXIgYSBzaW5nbGUgY2x1c3Rlci4gVGhlXG4gICAgb3B0aW9uYWwgYGJ5YCBhcmd1bWVudCBjYW4gYmUgdXNlZCB0byBtb3ZlIGFjcm9zcyBtb3JlLiBJdCB3aWxsXG4gICAgYmUgY2FsbGVkIHdpdGggdGhlIGZpcnN0IGNsdXN0ZXIgYXMgYXJndW1lbnQsIGFuZCBzaG91bGQgcmV0dXJuXG4gICAgYSBwcmVkaWNhdGUgdGhhdCBkZXRlcm1pbmVzLCBmb3IgZWFjaCBzdWJzZXF1ZW50IGNsdXN0ZXIsXG4gICAgd2hldGhlciBpdCBzaG91bGQgYWxzbyBiZSBtb3ZlZCBvdmVyLlxuICAgICovXG4gICAgbW92ZUJ5Q2hhcihzdGFydCwgZm9yd2FyZCwgYnkpIHtcbiAgICAgICAgcmV0dXJuIHNraXBBdG9tcyh0aGlzLCBzdGFydCwgbW92ZUJ5Q2hhcih0aGlzLCBzdGFydCwgZm9yd2FyZCwgYnkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBhY3Jvc3MgdGhlIG5leHQgZ3JvdXAgb2YgZWl0aGVyXG4gICAgW2xldHRlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKSBvciBub24tbGV0dGVyXG4gICAgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycy5cbiAgICAqL1xuICAgIG1vdmVCeUdyb3VwKHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVCeUNoYXIodGhpcywgc3RhcnQsIGZvcndhcmQsIGluaXRpYWwgPT4gYnlHcm91cCh0aGlzLCBzdGFydC5oZWFkLCBpbml0aWFsKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGN1cnNvciBwb3NpdGlvbiB2aXN1YWxseSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgbGluZS5cbiAgICBOb3RlIHRoYXQgdGhpcyBtYXkgZGlmZmVyIGZyb20gdGhlIF9sb2dpY2FsXyBwb3NpdGlvbiBhdCBpdHNcbiAgICBzdGFydCBvciBlbmQgKHdoaWNoIGlzIHNpbXBseSBhdCBgbGluZS5mcm9tYC9gbGluZS50b2ApIGlmIHRleHRcbiAgICBhdCB0aGUgc3RhcnQgb3IgZW5kIGdvZXMgYWdhaW5zdCB0aGUgbGluZSdzIGJhc2UgdGV4dCBkaXJlY3Rpb24uXG4gICAgKi9cbiAgICB2aXN1YWxMaW5lU2lkZShsaW5lLCBlbmQpIHtcbiAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5iaWRpU3BhbnMobGluZSksIGRpciA9IHRoaXMudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBzcGFuID0gb3JkZXJbZW5kID8gb3JkZXIubGVuZ3RoIC0gMSA6IDBdO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihzcGFuLnNpZGUoZW5kLCBkaXIpICsgbGluZS5mcm9tLCBzcGFuLmZvcndhcmQoIWVuZCwgZGlyKSA/IDEgOiAtMSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIG5leHQgbGluZSBib3VuZGFyeSBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLiBJZlxuICAgIGBpbmNsdWRlV3JhcGAgaXMgdHJ1ZSwgbGluZSB3cmFwcGluZyBpcyBvbiwgYW5kIHRoZXJlIGlzIGFcbiAgICBmdXJ0aGVyIHdyYXAgcG9pbnQgb24gdGhlIGN1cnJlbnQgbGluZSwgdGhlIHdyYXAgcG9pbnQgd2lsbCBiZVxuICAgIHJldHVybmVkLiBPdGhlcndpc2UgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc3RhcnQgb3IgZW5kXG4gICAgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBtb3ZlVG9MaW5lQm91bmRhcnkoc3RhcnQsIGZvcndhcmQsIGluY2x1ZGVXcmFwID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbW92ZVRvTGluZUJvdW5kYXJ5KHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gdmVydGljYWxseS4gV2hlbiBgZGlzdGFuY2VgIGlzbid0IGdpdmVuLFxuICAgIGl0IGRlZmF1bHRzIHRvIG1vdmluZyB0byB0aGUgbmV4dCBsaW5lIChpbmNsdWRpbmcgd3JhcHBlZFxuICAgIGxpbmVzKS4gT3RoZXJ3aXNlLCBgZGlzdGFuY2VgIHNob3VsZCBwcm92aWRlIGEgcG9zaXRpdmUgZGlzdGFuY2VcbiAgICBpbiBwaXhlbHMuXG4gICAgXG4gICAgV2hlbiBgc3RhcnRgIGhhcyBhXG4gICAgW2Bnb2FsQ29sdW1uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZS5nb2FsQ29sdW1uKSwgdGhlIHZlcnRpY2FsXG4gICAgbW90aW9uIHdpbGwgdXNlIHRoYXQgYXMgYSB0YXJnZXQgaG9yaXpvbnRhbCBwb3NpdGlvbi4gT3RoZXJ3aXNlLFxuICAgIHRoZSBjdXJzb3IncyBvd24gaG9yaXpvbnRhbCBwb3NpdGlvbiBpcyB1c2VkLiBUaGUgcmV0dXJuZWRcbiAgICBjdXJzb3Igd2lsbCBoYXZlIGl0cyBnb2FsIGNvbHVtbiBzZXQgdG8gd2hpY2hldmVyIGNvbHVtbiB3YXNcbiAgICB1c2VkLlxuICAgICovXG4gICAgbW92ZVZlcnRpY2FsbHkoc3RhcnQsIGZvcndhcmQsIGRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVWZXJ0aWNhbGx5KHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBET00gcGFyZW50IG5vZGUgYW5kIG9mZnNldCAoY2hpbGQgb2Zmc2V0IGlmIGBub2RlYCBpc1xuICAgIGFuIGVsZW1lbnQsIGNoYXJhY3RlciBvZmZzZXQgd2hlbiBpdCBpcyBhIHRleHQgbm9kZSkgYXQgdGhlXG4gICAgZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uXG4gICAgXG4gICAgTm90ZSB0aGF0IGZvciBwb3NpdGlvbnMgdGhhdCBhcmVuJ3QgY3VycmVudGx5IGluXG4gICAgYHZpc2libGVSYW5nZXNgLCB0aGUgcmVzdWx0aW5nIERPTSBwb3NpdGlvbiBpc24ndCBuZWNlc3NhcmlseVxuICAgIG1lYW5pbmdmdWwgKGl0IG1heSBqdXN0IHBvaW50IGJlZm9yZSBvciBhZnRlciBhIHBsYWNlaG9sZGVyXG4gICAgZWxlbWVudCkuXG4gICAgKi9cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5kb21BdFBvcyhwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBkb2N1bWVudCBwb3NpdGlvbiBhdCB0aGUgZ2l2ZW4gRE9NIG5vZGUuIENhbiBiZSB1c2VmdWxcbiAgICBmb3IgYXNzb2NpYXRpbmcgcG9zaXRpb25zIHdpdGggRE9NIGV2ZW50cy4gV2lsbCByYWlzZSBhbiBlcnJvclxuICAgIHdoZW4gYG5vZGVgIGlzbid0IHBhcnQgb2YgdGhlIGVkaXRvciBjb250ZW50LlxuICAgICovXG4gICAgcG9zQXRET00obm9kZSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KTtcbiAgICB9XG4gICAgcG9zQXRDb29yZHMoY29vcmRzLCBwcmVjaXNlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gcG9zQXRDb29yZHModGhpcywgY29vcmRzLCBwcmVjaXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgYXQgdGhlIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgIGBzaWRlYCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGNvb3JkaW5hdGVzIGFyZSBiYXNlZCBvbiB0aGVcbiAgICBlbGVtZW50IGJlZm9yZSAoLTEpIG9yIGFmdGVyICgxKSB0aGUgcG9zaXRpb24gKGlmIG5vIGVsZW1lbnQgaXNcbiAgICBhdmFpbGFibGUgb24gdGhlIGdpdmVuIHNpZGUsIHRoZSBtZXRob2Qgd2lsbCB0cmFuc3BhcmVudGx5IHVzZVxuICAgIGFub3RoZXIgc3RyYXRlZ3kgdG8gZ2V0IHJlYXNvbmFibGUgY29vcmRpbmF0ZXMpLlxuICAgICovXG4gICAgY29vcmRzQXRQb3MocG9zLCBzaWRlID0gMSkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZG9jVmlldy5jb29yZHNBdChwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoIXJlY3QgfHwgcmVjdC5sZWZ0ID09IHJlY3QucmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnN0YXRlLmRvYy5saW5lQXQocG9zKSwgb3JkZXIgPSB0aGlzLmJpZGlTcGFucyhsaW5lKTtcbiAgICAgICAgbGV0IHNwYW4gPSBvcmRlcltCaWRpU3Bhbi5maW5kKG9yZGVyLCBwb3MgLSBsaW5lLmZyb20sIC0xLCBzaWRlKV07XG4gICAgICAgIHJldHVybiBmbGF0dGVuUmVjdChyZWN0LCAoc3Bhbi5kaXIgPT0gRGlyZWN0aW9uLkxUUikgPT0gKHNpZGUgPiAwKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiB0aGUgcmVjdGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGNoYXJhY3Rlci4gSWYgYHBvc2AgZG9lcyBub3RcbiAgICBwb2ludCBpbiBmcm9udCBvZiBhIGNoYXJhY3RlciB0aGF0IGlzIGluIHRoZSB2aWV3cG9ydCBhbmRcbiAgICByZW5kZXJlZCAoaS5lLiBub3QgcmVwbGFjZWQsIG5vdCBhIGxpbmUgYnJlYWspLCB0aGlzIHdpbGwgcmV0dXJuXG4gICAgbnVsbC4gRm9yIHNwYWNlIGNoYXJhY3RlcnMgdGhhdCBhcmUgYSBsaW5lIHdyYXAgcG9pbnQsIHRoaXMgd2lsbFxuICAgIHJldHVybiB0aGUgcG9zaXRpb24gYmVmb3JlIHRoZSBsaW5lIGJyZWFrLlxuICAgICovXG4gICAgY29vcmRzRm9yQ2hhcihwb3MpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5jb29yZHNGb3JDaGFyKHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBkZWZhdWx0IHdpZHRoIG9mIGEgY2hhcmFjdGVyIGluIHRoZSBlZGl0b3IuIE1heSBub3RcbiAgICBhY2N1cmF0ZWx5IHJlZmxlY3QgdGhlIHdpZHRoIG9mIGFsbCBjaGFyYWN0ZXJzIChnaXZlbiB2YXJpYWJsZVxuICAgIHdpZHRoIGZvbnRzIG9yIHN0eWxpbmcgb2YgaW52aWRpZHVhbCByYW5nZXMpLlxuICAgICovXG4gICAgZ2V0IGRlZmF1bHRDaGFyYWN0ZXJXaWR0aCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7IH1cbiAgICAvKipcbiAgICBUaGUgZGVmYXVsdCBoZWlnaHQgb2YgYSBsaW5lIGluIHRoZSBlZGl0b3IuIE1heSBub3QgYmUgYWNjdXJhdGVcbiAgICBmb3IgYWxsIGxpbmVzLlxuICAgICovXG4gICAgZ2V0IGRlZmF1bHRMaW5lSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQ7IH1cbiAgICAvKipcbiAgICBUaGUgdGV4dCBkaXJlY3Rpb25cbiAgICAoW2BkaXJlY3Rpb25gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZGlyZWN0aW9uKVxuICAgIENTUyBwcm9wZXJ0eSkgb2YgdGhlIGVkaXRvcidzIGNvbnRlbnQgZWxlbWVudC5cbiAgICAqL1xuICAgIGdldCB0ZXh0RGlyZWN0aW9uKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuZGVmYXVsdFRleHREaXJlY3Rpb247IH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB0ZXh0IGRpcmVjdGlvbiBvZiB0aGUgYmxvY2sgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBhc1xuICAgIGFzc2lnbmVkIGJ5IENTUy4gSWZcbiAgICBbYHBlckxpbmVUZXh0RGlyZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdecGVyTGluZVRleHREaXJlY3Rpb24pXG4gICAgaXNuJ3QgZW5hYmxlZCwgb3IgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0LFxuICAgIHRoaXMgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGFzXG4gICAgW2B0ZXh0RGlyZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbikuIE5vdGUgdGhhdFxuICAgIHRoaXMgbWF5IHRyaWdnZXIgYSBET00gbGF5b3V0LlxuICAgICovXG4gICAgdGV4dERpcmVjdGlvbkF0KHBvcykge1xuICAgICAgICBsZXQgcGVyTGluZSA9IHRoaXMuc3RhdGUuZmFjZXQocGVyTGluZVRleHREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoIXBlckxpbmUgfHwgcG9zIDwgdGhpcy52aWV3cG9ydC5mcm9tIHx8IHBvcyA+IHRoaXMudmlld3BvcnQudG8pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LnRleHREaXJlY3Rpb25BdChwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoaXMgZWRpdG9yIFt3cmFwcyBsaW5lc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubGluZVdyYXBwaW5nKVxuICAgIChhcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgIFtgd2hpdGUtc3BhY2VgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1Mvd2hpdGUtc3BhY2UpXG4gICAgQ1NTIHByb3BlcnR5IG9mIGl0cyBjb250ZW50IGVsZW1lbnQpLlxuICAgICovXG4gICAgZ2V0IGxpbmVXcmFwcGluZygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmc7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRoZSBiaWRpcmVjdGlvbmFsIHRleHQgc3RydWN0dXJlIG9mIHRoZSBnaXZlbiBsaW5lXG4gICAgKHdoaWNoIHNob3VsZCBiZSBpbiB0aGUgY3VycmVudCBkb2N1bWVudCkgYXMgYW4gYXJyYXkgb2Ygc3BhblxuICAgIG9iamVjdHMuIFRoZSBvcmRlciBvZiB0aGVzZSBzcGFucyBtYXRjaGVzIHRoZSBbdGV4dFxuICAgIGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbilcdTIwMTRpZiB0aGF0IGlzXG4gICAgbGVmdC10by1yaWdodCwgdGhlIGxlZnRtb3N0IHNwYW5zIGNvbWUgZmlyc3QsIG90aGVyd2lzZSB0aGVcbiAgICByaWdodG1vc3Qgc3BhbnMgY29tZSBmaXJzdC5cbiAgICAqL1xuICAgIGJpZGlTcGFucyhsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IE1heEJpZGlMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHRyaXZpYWxPcmRlcihsaW5lLmxlbmd0aCk7XG4gICAgICAgIGxldCBkaXIgPSB0aGlzLnRleHREaXJlY3Rpb25BdChsaW5lLmZyb20pLCBpc29sYXRlcztcbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5iaWRpQ2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5mcm9tID09IGxpbmUuZnJvbSAmJiBlbnRyeS5kaXIgPT0gZGlyICYmXG4gICAgICAgICAgICAgICAgKGVudHJ5LmZyZXNoIHx8IGlzb2xhdGVzRXEoZW50cnkuaXNvbGF0ZXMsIGlzb2xhdGVzID0gZ2V0SXNvbGF0ZWRSYW5nZXModGhpcywgbGluZSkpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkub3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc29sYXRlcylcbiAgICAgICAgICAgIGlzb2xhdGVzID0gZ2V0SXNvbGF0ZWRSYW5nZXModGhpcywgbGluZSk7XG4gICAgICAgIGxldCBvcmRlciA9IGNvbXB1dGVPcmRlcihsaW5lLnRleHQsIGRpciwgaXNvbGF0ZXMpO1xuICAgICAgICB0aGlzLmJpZGlDYWNoZS5wdXNoKG5ldyBDYWNoZWRPcmRlcihsaW5lLmZyb20sIGxpbmUudG8sIGRpciwgaXNvbGF0ZXMsIHRydWUsIG9yZGVyKSk7XG4gICAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgd2hldGhlciB0aGUgZWRpdG9yIGhhcyBmb2N1cy5cbiAgICAqL1xuICAgIGdldCBoYXNGb2N1cygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBTYWZhcmkgcmV0dXJuIGZhbHNlIGZvciBoYXNGb2N1cyB3aGVuIHRoZSBjb250ZXh0IG1lbnUgaXMgb3BlblxuICAgICAgICAvLyBvciBjbG9zaW5nLCB3aGljaCBsZWFkcyB1cyB0byBpZ25vcmUgc2VsZWN0aW9uIGNoYW5nZXMgZnJvbSB0aGVcbiAgICAgICAgLy8gY29udGV4dCBtZW51IGJlY2F1c2UgaXQgbG9va3MgbGlrZSB0aGUgZWRpdG9yIGlzbid0IGZvY3VzZWQuXG4gICAgICAgIC8vIFRoaXMga2x1ZGdlcyBhcm91bmQgdGhhdC5cbiAgICAgICAgcmV0dXJuICh0aGlzLmRvbS5vd25lckRvY3VtZW50Lmhhc0ZvY3VzKCkgfHwgYnJvd3Nlci5zYWZhcmkgJiYgKChfYSA9IHRoaXMuaW5wdXRTdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RDb250ZXh0TWVudSkgPiBEYXRlLm5vdygpIC0gM2U0KSAmJlxuICAgICAgICAgICAgdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5jb250ZW50RE9NO1xuICAgIH1cbiAgICAvKipcbiAgICBQdXQgZm9jdXMgb24gdGhlIGVkaXRvci5cbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBmb2N1c1ByZXZlbnRTY3JvbGwodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgW3Jvb3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jI3ZpZXcuRWRpdG9yVmlld0NvbmZpZy5yb290KSBpbiB3aGljaCB0aGUgZWRpdG9yIGxpdmVzLiBUaGlzIGlzIG9ubHlcbiAgICBuZWNlc3Nhcnkgd2hlbiBtb3ZpbmcgdGhlIGVkaXRvcidzIGV4aXN0aW5nIERPTSB0byBhIG5ldyB3aW5kb3cgb3Igc2hhZG93IHJvb3QuXG4gICAgKi9cbiAgICBzZXRSb290KHJvb3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgIT0gcm9vdCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnNldFdpbmRvdygocm9vdC5ub2RlVHlwZSA9PSA5ID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudCkuZGVmYXVsdFZpZXcgfHwgd2luZG93KTtcbiAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDbGVhbiB1cCB0aGlzIGVkaXRvciB2aWV3LCByZW1vdmluZyBpdHMgZWxlbWVudCBmcm9tIHRoZVxuICAgIGRvY3VtZW50LCB1bnJlZ2lzdGVyaW5nIGV2ZW50IGhhbmRsZXJzLCBhbmQgbm90aWZ5aW5nXG4gICAgcGx1Z2lucy4gVGhlIHZpZXcgaW5zdGFuY2UgY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyXG4gICAgY2FsbGluZyB0aGlzLlxuICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuY29udGVudERPTSlcbiAgICAgICAgICAgIHRoaXMuY29udGVudERPTS5ibHVyKCk7XG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGVmZmVjdCB0aGF0IGNhbiBiZVxuICAgIFthZGRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgdG8gYSB0cmFuc2FjdGlvbiB0b1xuICAgIGNhdXNlIGl0IHRvIHNjcm9sbCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgcmFuZ2UgaW50byB2aWV3LlxuICAgICovXG4gICAgc3RhdGljIHNjcm9sbEludG9WaWV3KHBvcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxJbnRvVmlldy5vZihuZXcgU2Nyb2xsVGFyZ2V0KHR5cGVvZiBwb3MgPT0gXCJudW1iZXJcIiA/IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zKSA6IHBvcywgb3B0aW9ucy55LCBvcHRpb25zLngsIG9wdGlvbnMueU1hcmdpbiwgb3B0aW9ucy54TWFyZ2luKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhbiBlZmZlY3QgdGhhdCByZXNldHMgdGhlIGVkaXRvciB0byBpdHMgY3VycmVudCAoYXQgdGhlXG4gICAgdGltZSB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkKSBzY3JvbGwgcG9zaXRpb24uIE5vdGUgdGhhdCB0aGlzXG4gICAgb25seSBhZmZlY3RzIHRoZSBlZGl0b3IncyBvd24gc2Nyb2xsYWJsZSBlbGVtZW50LCBub3QgcGFyZW50cy5cbiAgICBTZWUgYWxzb1xuICAgIFtgRWRpdG9yVmlld0NvbmZpZy5zY3JvbGxUb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Q29uZmlnLnNjcm9sbFRvKS5cbiAgICBcbiAgICBUaGUgZWZmZWN0IHNob3VsZCBiZSB1c2VkIHdpdGggYSBkb2N1bWVudCBpZGVudGljYWwgdG8gdGhlIG9uZVxuICAgIGl0IHdhcyBjcmVhdGVkIGZvci4gRmFpbGluZyB0byBkbyBzbyBpcyBub3QgYW4gZXJyb3IsIGJ1dCBtYXlcbiAgICBub3Qgc2Nyb2xsIHRvIHRoZSBleHBlY3RlZCBwb3NpdGlvbi4gWW91IGNhblxuICAgIFttYXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QubWFwKSB0aGUgZWZmZWN0IHRvIGFjY291bnQgZm9yIGNoYW5nZXMuXG4gICAgKi9cbiAgICBzY3JvbGxTbmFwc2hvdCgpIHtcbiAgICAgICAgbGV0IHsgc2Nyb2xsVG9wLCBzY3JvbGxMZWZ0IH0gPSB0aGlzLnNjcm9sbERPTTtcbiAgICAgICAgbGV0IHJlZiA9IHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCk7XG4gICAgICAgIHJldHVybiBzY3JvbGxJbnRvVmlldy5vZihuZXcgU2Nyb2xsVGFyZ2V0KEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmVmLmZyb20pLCBcInN0YXJ0XCIsIFwic3RhcnRcIiwgcmVmLnRvcCAtIHNjcm9sbFRvcCwgc2Nyb2xsTGVmdCwgdHJ1ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBFbmFibGUgb3IgZGlzYWJsZSB0YWItZm9jdXMgbW9kZSwgd2hpY2ggZGlzYWJsZXMga2V5IGJpbmRpbmdzXG4gICAgZm9yIFRhYiBhbmQgU2hpZnQtVGFiLCBsZXR0aW5nIHRoZSBicm93c2VyJ3MgZGVmYXVsdFxuICAgIGZvY3VzLWNoYW5naW5nIGJlaGF2aW9yIGdvIHRocm91Z2ggaW5zdGVhZC4gVGhpcyBpcyB1c2VmdWwgdG9cbiAgICBwcmV2ZW50IHRyYXBwaW5nIGtleWJvYXJkIHVzZXJzIGluIHlvdXIgZWRpdG9yLlxuICAgIFxuICAgIFdpdGhvdXQgYXJndW1lbnQsIHRoaXMgdG9nZ2xlcyB0aGUgbW9kZS4gV2l0aCBhIGJvb2xlYW4sIGl0XG4gICAgZW5hYmxlcyAodHJ1ZSkgb3IgZGlzYWJsZXMgaXQgKGZhbHNlKS4gR2l2ZW4gYSBudW1iZXIsIGl0XG4gICAgdGVtcG9yYXJpbHkgZW5hYmxlcyB0aGUgbW9kZSB1bnRpbCB0aGF0IG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICBoYXZlIHBhc3NlZCBvciBhbm90aGVyIG5vbi1UYWIga2V5IGlzIHByZXNzZWQuXG4gICAgKi9cbiAgICBzZXRUYWJGb2N1c01vZGUodG8pIHtcbiAgICAgICAgaWYgKHRvID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUudGFiRm9jdXNNb2RlID0gdGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA8IDAgPyAwIDogLTE7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0byA9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPSB0byA/IDAgOiAtMTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSAhPSAwKVxuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA9IERhdGUubm93KCkgKyB0bztcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgRE9NIGV2ZW50IGhhbmRsZXJzLlxuICAgIFRoZSB2YWx1ZSBzaG91bGQgYmUgYW4gb2JqZWN0IG1hcHBpbmcgZXZlbnQgbmFtZXMgdG8gaGFuZGxlclxuICAgIGZ1bmN0aW9ucy4gRm9yIGFueSBnaXZlbiBldmVudCwgc3VjaCBmdW5jdGlvbnMgYXJlIG9yZGVyZWQgYnlcbiAgICBleHRlbnNpb24gcHJlY2VkZW5jZSwgYW5kIHRoZSBmaXJzdCBoYW5kbGVyIHRvIHJldHVybiB0cnVlIHdpbGxcbiAgICBiZSBhc3N1bWVkIHRvIGhhdmUgaGFuZGxlZCB0aGF0IGV2ZW50LCBhbmQgbm8gb3RoZXIgaGFuZGxlcnMgb3JcbiAgICBidWlsdC1pbiBiZWhhdmlvciB3aWxsIGJlIGFjdGl2YXRlZCBmb3IgaXQuIFRoZXNlIGFyZSByZWdpc3RlcmVkXG4gICAgb24gdGhlIFtjb250ZW50IGVsZW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmNvbnRlbnRET00pLCBleGNlcHRcbiAgICBmb3IgYHNjcm9sbGAgaGFuZGxlcnMsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIHRoZVxuICAgIGVkaXRvcidzIFtzY3JvbGwgZWxlbWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuc2Nyb2xsRE9NKSBvciBvbmUgb2ZcbiAgICBpdHMgcGFyZW50IG5vZGVzIGlzIHNjcm9sbGVkLlxuICAgICovXG4gICAgc3RhdGljIGRvbUV2ZW50SGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKCgpID0+ICh7fSksIHsgZXZlbnRIYW5kbGVyczogaGFuZGxlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCByZWdpc3RlcnMgRE9NIGV2ZW50IG9ic2VydmVycy4gQ29udHJhcnlcbiAgICB0byBldmVudCBbaGFuZGxlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRvbUV2ZW50SGFuZGxlcnMpLFxuICAgIG9ic2VydmVycyBjYW4ndCBiZSBwcmV2ZW50ZWQgZnJvbSBydW5uaW5nIGJ5IGEgaGlnaGVyLXByZWNlZGVuY2VcbiAgICBoYW5kbGVyIHJldHVybmluZyB0cnVlLiBUaGV5IGFsc28gZG9uJ3QgcHJldmVudCBvdGhlciBoYW5kbGVyc1xuICAgIGFuZCBvYnNlcnZlcnMgZnJvbSBydW5uaW5nIHdoZW4gdGhleSByZXR1cm4gdHJ1ZSwgYW5kIHNob3VsZCBub3RcbiAgICBjYWxsIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgKi9cbiAgICBzdGF0aWMgZG9tRXZlbnRPYnNlcnZlcnMob2JzZXJ2ZXJzKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgoKSA9PiAoe30pLCB7IGV2ZW50T2JzZXJ2ZXJzOiBvYnNlcnZlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRoZW1lIGV4dGVuc2lvbi4gVGhlIGZpcnN0IGFyZ3VtZW50IGNhbiBiZSBhXG4gICAgW2BzdHlsZS1tb2RgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbilcbiAgICBzdHlsZSBzcGVjIHByb3ZpZGluZyB0aGUgc3R5bGVzIGZvciB0aGUgdGhlbWUuIFRoZXNlIHdpbGwgYmVcbiAgICBwcmVmaXhlZCB3aXRoIGEgZ2VuZXJhdGVkIGNsYXNzIGZvciB0aGUgc3R5bGUuXG4gICAgXG4gICAgQmVjYXVzZSB0aGUgc2VsZWN0b3JzIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCBhIHNjb3BlIGNsYXNzLCBydWxlXG4gICAgdGhhdCBkaXJlY3RseSBtYXRjaCB0aGUgZWRpdG9yJ3MgW3dyYXBwZXJcbiAgICBlbGVtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb20pXHUyMDE0dG8gd2hpY2ggdGhlIHNjb3BlIGNsYXNzIHdpbGwgYmVcbiAgICBhZGRlZFx1MjAxNG5lZWQgdG8gYmUgZXhwbGljaXRseSBkaWZmZXJlbnRpYXRlZCBieSBhZGRpbmcgYW4gYCZgIHRvXG4gICAgdGhlIHNlbGVjdG9yIGZvciB0aGF0IGVsZW1lbnRcdTIwMTRmb3IgZXhhbXBsZVxuICAgIGAmLmNtLWZvY3VzZWRgLlxuICAgIFxuICAgIFdoZW4gYGRhcmtgIGlzIHNldCB0byB0cnVlLCB0aGUgdGhlbWUgd2lsbCBiZSBtYXJrZWQgYXMgZGFyayxcbiAgICB3aGljaCB3aWxsIGNhdXNlIHRoZSBgJmRhcmtgIHJ1bGVzIGZyb20gW2Jhc2VcbiAgICB0aGVtZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmJhc2VUaGVtZSkgdG8gYmUgdXNlZCAoYXMgb3Bwb3NlZCB0b1xuICAgIGAmbGlnaHRgIHdoZW4gYSBsaWdodCB0aGVtZSBpcyBhY3RpdmUpLlxuICAgICovXG4gICAgc3RhdGljIHRoZW1lKHNwZWMsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IFN0eWxlTW9kdWxlLm5ld05hbWUoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFt0aGVtZS5vZihwcmVmaXgpLCBzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKGAuJHtwcmVmaXh9YCwgc3BlYykpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXJrKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGFya1RoZW1lLm9mKHRydWUpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgc3R5bGVzIHRvIHRoZSBiYXNlIHRoZW1lLiBMaWtlXG4gICAgd2l0aCBbYHRoZW1lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedGhlbWUpLCB1c2UgYCZgIHRvIGluZGljYXRlIHRoZVxuICAgIHBsYWNlIG9mIHRoZSBlZGl0b3Igd3JhcHBlciBlbGVtZW50IHdoZW4gZGlyZWN0bHkgdGFyZ2V0aW5nXG4gICAgdGhhdC4gWW91IGNhbiBhbHNvIHVzZSBgJmRhcmtgIG9yIGAmbGlnaHRgIGluc3RlYWQgdG8gb25seVxuICAgIHRhcmdldCBlZGl0b3JzIHdpdGggYSBkYXJrIG9yIGxpZ2h0IHRoZW1lLlxuICAgICovXG4gICAgc3RhdGljIGJhc2VUaGVtZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBQcmVjLmxvd2VzdChzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKFwiLlwiICsgYmFzZVRoZW1lSUQsIHNwZWMsIGxpZ2h0RGFya0lEcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgYW4gZWRpdG9yIHZpZXcgaW5zdGFuY2UgZnJvbSB0aGUgdmlldydzIERPTVxuICAgIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZpbmRGcm9tRE9NKGRvbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjb250ZW50ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tY29udGVudFwiKTtcbiAgICAgICAgbGV0IGNWaWV3ID0gY29udGVudCAmJiBDb250ZW50Vmlldy5nZXQoY29udGVudCkgfHwgQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgIHJldHVybiAoKF9hID0gY1ZpZXcgPT09IG51bGwgfHwgY1ZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNWaWV3LnJvb3RWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmlldykgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbkZhY2V0IHRvIGFkZCBhIFtzdHlsZVxubW9kdWxlXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbikgdG9cbmFuIGVkaXRvciB2aWV3LiBUaGUgdmlldyB3aWxsIGVuc3VyZSB0aGF0IHRoZSBtb2R1bGUgaXNcbm1vdW50ZWQgaW4gaXRzIFtkb2N1bWVudFxucm9vdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuY29uc3RydWN0b3JeY29uZmlnLnJvb3QpLlxuKi9cbkVkaXRvclZpZXcuc3R5bGVNb2R1bGUgPSBzdHlsZU1vZHVsZTtcbi8qKlxuQW4gaW5wdXQgaGFuZGxlciBjYW4gb3ZlcnJpZGUgdGhlIHdheSBjaGFuZ2VzIHRvIHRoZSBlZGl0YWJsZVxuRE9NIGNvbnRlbnQgYXJlIGhhbmRsZWQuIEhhbmRsZXJzIGFyZSBwYXNzZWQgdGhlIGRvY3VtZW50XG5wb3NpdGlvbnMgYmV0d2VlbiB3aGljaCB0aGUgY2hhbmdlIHdhcyBmb3VuZCwgYW5kIHRoZSBuZXdcbmNvbnRlbnQuIFdoZW4gb25lIHJldHVybnMgdHJ1ZSwgbm8gZnVydGhlciBpbnB1dCBoYW5kbGVycyBhcmVcbmNhbGxlZCBhbmQgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgcHJldmVudGVkLlxuXG5UaGUgYGluc2VydGAgYXJndW1lbnQgY2FuIGJlIHVzZWQgdG8gZ2V0IHRoZSBkZWZhdWx0IHRyYW5zYWN0aW9uXG50aGF0IHdvdWxkIGJlIGFwcGxpZWQgZm9yIHRoaXMgaW5wdXQuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuXG5kaXNwYXRjaGluZyB0aGUgY3VzdG9tIGJlaGF2aW9yIGFzIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24uXG4qL1xuRWRpdG9yVmlldy5pbnB1dEhhbmRsZXIgPSBpbnB1dEhhbmRsZXI7XG4vKipcbkZ1bmN0aW9ucyBwcm92aWRlZCBpbiB0aGlzIGZhY2V0IHdpbGwgYmUgdXNlZCB0byB0cmFuc2Zvcm0gdGV4dFxucGFzdGVkIG9yIGRyb3BwZWQgaW50byB0aGUgZWRpdG9yLlxuKi9cbkVkaXRvclZpZXcuY2xpcGJvYXJkSW5wdXRGaWx0ZXIgPSBjbGlwYm9hcmRJbnB1dEZpbHRlcjtcbi8qKlxuVHJhbnNmb3JtIHRleHQgY29waWVkIG9yIGRyYWdnZWQgZnJvbSB0aGUgZWRpdG9yLlxuKi9cbkVkaXRvclZpZXcuY2xpcGJvYXJkT3V0cHV0RmlsdGVyID0gY2xpcGJvYXJkT3V0cHV0RmlsdGVyO1xuLyoqXG5TY3JvbGwgaGFuZGxlcnMgY2FuIG92ZXJyaWRlIGhvdyB0aGluZ3MgYXJlIHNjcm9sbGVkIGludG8gdmlldy5cbklmIHRoZXkgcmV0dXJuIGB0cnVlYCwgbm8gZnVydGhlciBoYW5kbGluZyBoYXBwZW5zIGZvciB0aGVcbnNjcm9sbGluZy4gSWYgdGhleSByZXR1cm4gZmFsc2UsIHRoZSBkZWZhdWx0IHNjcm9sbCBiZWhhdmlvciBpc1xuYXBwbGllZC4gU2Nyb2xsIGhhbmRsZXJzIHNob3VsZCBuZXZlciBpbml0aWF0ZSBlZGl0b3IgdXBkYXRlcy5cbiovXG5FZGl0b3JWaWV3LnNjcm9sbEhhbmRsZXIgPSBzY3JvbGxIYW5kbGVyO1xuLyoqXG5UaGlzIGZhY2V0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgZnVuY3Rpb25zIHRoYXQgY3JlYXRlIGVmZmVjdHNcbnRvIGJlIGRpc3BhdGNoZWQgd2hlbiB0aGUgZWRpdG9yJ3MgZm9jdXMgc3RhdGUgY2hhbmdlcy5cbiovXG5FZGl0b3JWaWV3LmZvY3VzQ2hhbmdlRWZmZWN0ID0gZm9jdXNDaGFuZ2VFZmZlY3Q7XG4vKipcbkJ5IGRlZmF1bHQsIHRoZSBlZGl0b3IgYXNzdW1lcyBhbGwgaXRzIGNvbnRlbnQgaGFzIHRoZSBzYW1lXG5bdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EaXJlY3Rpb24pLiBDb25maWd1cmUgdGhpcyB3aXRoIGEgYHRydWVgXG52YWx1ZSB0byBtYWtlIGl0IHJlYWQgdGhlIHRleHQgZGlyZWN0aW9uIG9mIGV2ZXJ5IChyZW5kZXJlZClcbmxpbmUgc2VwYXJhdGVseS5cbiovXG5FZGl0b3JWaWV3LnBlckxpbmVUZXh0RGlyZWN0aW9uID0gcGVyTGluZVRleHREaXJlY3Rpb247XG4vKipcbkFsbG93cyB5b3UgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZVxubGlicmFyeSBjYXRjaGVzIGFuIGV4Y2VwdGlvbiBmcm9tIGFuIGV4dGVuc2lvbiAobW9zdGx5IGZyb20gdmlld1xucGx1Z2lucywgYnV0IG1heSBiZSB1c2VkIGJ5IG90aGVyIGV4dGVuc2lvbnMgdG8gcm91dGUgZXhjZXB0aW9uc1xuZnJvbSB1c2VyLWNvZGUtcHJvdmlkZWQgY2FsbGJhY2tzKS4gVGhpcyBpcyBtb3N0bHkgdXNlZnVsIGZvclxuZGVidWdnaW5nIGFuZCBsb2dnaW5nLiBTZWUgW2Bsb2dFeGNlcHRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcubG9nRXhjZXB0aW9uKS5cbiovXG5FZGl0b3JWaWV3LmV4Y2VwdGlvblNpbmsgPSBleGNlcHRpb25TaW5rO1xuLyoqXG5BIGZhY2V0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWRcbmV2ZXJ5IHRpbWUgdGhlIHZpZXcgdXBkYXRlcy5cbiovXG5FZGl0b3JWaWV3LnVwZGF0ZUxpc3RlbmVyID0gdXBkYXRlTGlzdGVuZXI7XG4vKipcbkZhY2V0IHRoYXQgY29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIGNvbnRlbnQgRE9NIGlzIGVkaXRhYmxlLlxuV2hlbiBpdHMgaGlnaGVzdC1wcmVjZWRlbmNlIHZhbHVlIGlzIGBmYWxzZWAsIHRoZSBlbGVtZW50IHdpbGxcbm5vdCBoYXZlIGl0cyBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgc2V0LiAoTm90ZSB0aGF0IHRoaXNcbmRvZXNuJ3QgYWZmZWN0IEFQSSBjYWxscyB0aGF0IGNoYW5nZSB0aGUgZWRpdG9yIGNvbnRlbnQsIGV2ZW5cbndoZW4gdGhvc2UgYXJlIGJvdW5kIHRvIGtleXMgb3IgYnV0dG9ucy4gU2VlIHRoZVxuW2ByZWFkT25seWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucmVhZE9ubHkpIGZhY2V0IGZvciB0aGF0LilcbiovXG5FZGl0b3JWaWV3LmVkaXRhYmxlID0gZWRpdGFibGU7XG4vKipcbkFsbG93cyB5b3UgdG8gaW5mbHVlbmNlIHRoZSB3YXkgbW91c2Ugc2VsZWN0aW9uIGhhcHBlbnMuIFRoZVxuZnVuY3Rpb25zIGluIHRoaXMgZmFjZXQgd2lsbCBiZSBjYWxsZWQgZm9yIGEgYG1vdXNlZG93bmAgZXZlbnRcbm9uIHRoZSBlZGl0b3IsIGFuZCBjYW4gcmV0dXJuIGFuIG9iamVjdCB0aGF0IG92ZXJyaWRlcyB0aGUgd2F5IGFcbnNlbGVjdGlvbiBpcyBjb21wdXRlZCBmcm9tIHRoYXQgbW91c2UgY2xpY2sgb3IgZHJhZy5cbiovXG5FZGl0b3JWaWV3Lm1vdXNlU2VsZWN0aW9uU3R5bGUgPSBtb3VzZVNlbGVjdGlvblN0eWxlO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNvbmZpZ3VyZSB3aGV0aGVyIGEgZ2l2ZW4gc2VsZWN0aW9uIGRyYWcgZXZlbnRcbnNob3VsZCBtb3ZlIG9yIGNvcHkgdGhlIHNlbGVjdGlvbi4gVGhlIGdpdmVuIHByZWRpY2F0ZSB3aWxsIGJlXG5jYWxsZWQgd2l0aCB0aGUgYG1vdXNlZG93bmAgZXZlbnQsIGFuZCBjYW4gcmV0dXJuIGB0cnVlYCB3aGVuXG50aGUgZHJhZyBzaG91bGQgbW92ZSB0aGUgY29udGVudC5cbiovXG5FZGl0b3JWaWV3LmRyYWdNb3Zlc1NlbGVjdGlvbiA9IGRyYWdNb3Zlc1NlbGVjdGlvbiQxO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNvbmZpZ3VyZSB3aGV0aGVyIGEgZ2l2ZW4gc2VsZWN0aW5nIGNsaWNrIGFkZHMgYVxubmV3IHJhbmdlIHRvIHRoZSBleGlzdGluZyBzZWxlY3Rpb24gb3IgcmVwbGFjZXMgaXQgZW50aXJlbHkuIFRoZVxuZGVmYXVsdCBiZWhhdmlvciBpcyB0byBjaGVjayBgZXZlbnQubWV0YUtleWAgb24gbWFjT1MsIGFuZFxuYGV2ZW50LmN0cmxLZXlgIGVsc2V3aGVyZS5cbiovXG5FZGl0b3JWaWV3LmNsaWNrQWRkc1NlbGVjdGlvblJhbmdlID0gY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2U7XG4vKipcbkEgZmFjZXQgdGhhdCBkZXRlcm1pbmVzIHdoaWNoIFtkZWNvcmF0aW9uc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb24pXG5hcmUgc2hvd24gaW4gdGhlIHZpZXcuIERlY29yYXRpb25zIGNhbiBiZSBwcm92aWRlZCBpbiB0d29cbndheXNcdTIwMTRkaXJlY3RseSwgb3IgdmlhIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBlZGl0b3Igdmlldy5cblxuT25seSBkZWNvcmF0aW9uIHNldHMgcHJvdmlkZWQgZGlyZWN0bHkgYXJlIGFsbG93ZWQgdG8gaW5mbHVlbmNlXG50aGUgZWRpdG9yJ3MgdmVydGljYWwgbGF5b3V0IHN0cnVjdHVyZS4gVGhlIG9uZXMgcHJvdmlkZWQgYXNcbmZ1bmN0aW9ucyBhcmUgY2FsbGVkIF9hZnRlcl8gdGhlIG5ldyB2aWV3cG9ydCBoYXMgYmVlbiBjb21wdXRlZCxcbmFuZCB0aHVzICoqbXVzdCBub3QqKiBpbnRyb2R1Y2UgYmxvY2sgd2lkZ2V0cyBvciByZXBsYWNpbmdcbmRlY29yYXRpb25zIHRoYXQgY292ZXIgbGluZSBicmVha3MuXG5cbklmIHlvdSB3YW50IGRlY29yYXRlZCByYW5nZXMgdG8gYmVoYXZlIGxpa2UgYXRvbWljIHVuaXRzIGZvclxuY3Vyc29yIG1vdGlvbiBhbmQgZGVsZXRpb24gcHVycG9zZXMsIGFsc28gcHJvdmlkZSB0aGUgcmFuZ2Ugc2V0XG5jb250YWluaW5nIHRoZSBkZWNvcmF0aW9ucyB0b1xuW2BFZGl0b3JWaWV3LmF0b21pY1Jhbmdlc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmF0b21pY1JhbmdlcykuXG4qL1xuRWRpdG9yVmlldy5kZWNvcmF0aW9ucyA9IGRlY29yYXRpb25zO1xuLyoqXG5GYWNldCB0aGF0IHdvcmtzIG11Y2ggbGlrZVxuW2BkZWNvcmF0aW9uc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRlY29yYXRpb25zKSwgYnV0IHB1dHMgaXRzXG5pbnB1dHMgYXQgdGhlIHZlcnkgYm90dG9tIG9mIHRoZSBwcmVjZWRlbmNlIHN0YWNrLCBtZWFuaW5nIG1hcmtcbmRlY29yYXRpb25zIHByb3ZpZGVkIGhlcmUgd2lsbCBvbmx5IGJlIHNwbGl0IGJ5IG90aGVyLCBwYXJ0aWFsbHlcbm92ZXJsYXBwaW5nIFxcYG91dGVyRGVjb3JhdGlvbnNcXGAgcmFuZ2VzLCBhbmQgd3JhcCBhcm91bmQgYWxsXG5yZWd1bGFyIGRlY29yYXRpb25zLiBVc2UgdGhpcyBmb3IgbWFyayBlbGVtZW50cyB0aGF0IHNob3VsZCwgYXNcbm11Y2ggYXMgcG9zc2libGUsIHJlbWFpbiBpbiBvbmUgcGllY2UuXG4qL1xuRWRpdG9yVmlldy5vdXRlckRlY29yYXRpb25zID0gb3V0ZXJEZWNvcmF0aW9ucztcbi8qKlxuVXNlZCB0byBwcm92aWRlIHJhbmdlcyB0aGF0IHNob3VsZCBiZSB0cmVhdGVkIGFzIGF0b21zIGFzIGZhciBhc1xuY3Vyc29yIG1vdGlvbiBpcyBjb25jZXJuZWQuIFRoaXMgY2F1c2VzIG1ldGhvZHMgbGlrZVxuW2Btb3ZlQnlDaGFyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZUJ5Q2hhcikgYW5kXG5bYG1vdmVWZXJ0aWNhbGx5YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIChhbmQgdGhlXG5jb21tYW5kcyBidWlsdCBvbiB0b3Agb2YgdGhlbSkgdG8gc2tpcCBhY3Jvc3Mgc3VjaCByZWdpb25zIHdoZW5cbmEgc2VsZWN0aW9uIGVuZHBvaW50IHdvdWxkIGVudGVyIHRoZW0uIFRoaXMgZG9lcyBfbm90XyBwcmV2ZW50XG5kaXJlY3QgcHJvZ3JhbW1hdGljIFtzZWxlY3Rpb25cbnVwZGF0ZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlbGVjdGlvbikgZnJvbSBtb3ZpbmcgaW50byBzdWNoXG5yZWdpb25zLlxuKi9cbkVkaXRvclZpZXcuYXRvbWljUmFuZ2VzID0gYXRvbWljUmFuZ2VzO1xuLyoqXG5XaGVuIHJhbmdlIGRlY29yYXRpb25zIGFkZCBhIGB1bmljb2RlLWJpZGk6IGlzb2xhdGVgIHN0eWxlLCB0aGV5XG5zaG91bGQgYWxzbyBpbmNsdWRlIGFcbltgYmlkaUlzb2xhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuTWFya0RlY29yYXRpb25TcGVjLmJpZGlJc29sYXRlKSBwcm9wZXJ0eVxuaW4gdGhlaXIgZGVjb3JhdGlvbiBzcGVjLCBhbmQgYmUgZXhwb3NlZCB0aHJvdWdoIHRoaXMgZmFjZXQsIHNvXG50aGF0IHRoZSBlZGl0b3IgY2FuIGNvbXB1dGUgdGhlIHByb3BlciB0ZXh0IG9yZGVyLiAoT3RoZXIgdmFsdWVzXG5mb3IgYHVuaWNvZGUtYmlkaWAsIGV4Y2VwdCBvZiBjb3Vyc2UgYG5vcm1hbGAsIGFyZSBub3RcbnN1cHBvcnRlZC4pXG4qL1xuRWRpdG9yVmlldy5iaWRpSXNvbGF0ZWRSYW5nZXMgPSBiaWRpSXNvbGF0ZWRSYW5nZXM7XG4vKipcbkZhY2V0IHRoYXQgYWxsb3dzIGV4dGVuc2lvbnMgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIHNjcm9sbFxubWFyZ2lucyAoc3BhY2UgYXJvdW5kIHRoZSBzaWRlcyBvZiB0aGUgc2Nyb2xsaW5nIGVsZW1lbnQgdGhhdFxuc2hvdWxkIGJlIGNvbnNpZGVyZWQgaW52aXNpYmxlKS4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gdGhlXG5wbHVnaW4gaW50cm9kdWNlcyBlbGVtZW50cyB0aGF0IGNvdmVyIHBhcnQgb2YgdGhhdCBlbGVtZW50IChmb3JcbmV4YW1wbGUgYSBob3Jpem9udGFsbHkgZml4ZWQgZ3V0dGVyKS5cbiovXG5FZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMgPSBzY3JvbGxNYXJnaW5zO1xuLyoqXG5UaGlzIGZhY2V0IHJlY29yZHMgd2hldGhlciBhIGRhcmsgdGhlbWUgaXMgYWN0aXZlLiBUaGUgZXh0ZW5zaW9uXG5yZXR1cm5lZCBieSBbYHRoZW1lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedGhlbWUpIGF1dG9tYXRpY2FsbHlcbmluY2x1ZGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgd2hlbiB0aGUgYGRhcmtgIG9wdGlvbiBpcyBzZXQgdG9cbnRydWUuXG4qL1xuRWRpdG9yVmlldy5kYXJrVGhlbWUgPSBkYXJrVGhlbWU7XG4vKipcblByb3ZpZGVzIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgbm9uY2UgdG8gdXNlIHdoZW4gY3JlYXRpbmdcbnRoZSBzdHlsZSBzaGVldHMgZm9yIHRoZSBlZGl0b3IuIEhvbGRzIHRoZSBlbXB0eSBzdHJpbmcgd2hlbiBub1xubm9uY2UgaGFzIGJlZW4gcHJvdmlkZWQuXG4qL1xuRWRpdG9yVmlldy5jc3BOb25jZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IFwiXCIgfSk7XG4vKipcbkZhY2V0IHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBET00gYXR0cmlidXRlcyBmb3IgdGhlIGVkaXRvcidzXG5lZGl0YWJsZSBET00gZWxlbWVudC5cbiovXG5FZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzID0gY29udGVudEF0dHJpYnV0ZXM7XG4vKipcbkZhY2V0IHRoYXQgcHJvdmlkZXMgRE9NIGF0dHJpYnV0ZXMgZm9yIHRoZSBlZGl0b3IncyBvdXRlclxuZWxlbWVudC5cbiovXG5FZGl0b3JWaWV3LmVkaXRvckF0dHJpYnV0ZXMgPSBlZGl0b3JBdHRyaWJ1dGVzO1xuLyoqXG5BbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIGxpbmUgd3JhcHBpbmcgaW4gdGhlIGVkaXRvciAoYnlcbnNldHRpbmcgQ1NTIGB3aGl0ZS1zcGFjZWAgdG8gYHByZS13cmFwYCBpbiB0aGUgY29udGVudCkuXG4qL1xuRWRpdG9yVmlldy5saW5lV3JhcHBpbmcgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcy5vZih7IFwiY2xhc3NcIjogXCJjbS1saW5lV3JhcHBpbmdcIiB9KTtcbi8qKlxuU3RhdGUgZWZmZWN0IHVzZWQgdG8gaW5jbHVkZSBzY3JlZW4gcmVhZGVyIGFubm91bmNlbWVudHMgaW4gYVxudHJhbnNhY3Rpb24uIFRoZXNlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIERPTSBpbiBhIHZpc3VhbGx5IGhpZGRlblxuZWxlbWVudCB3aXRoIGBhcmlhLWxpdmU9XCJwb2xpdGVcImAgc2V0LCBhbmQgc2hvdWxkIGJlIHVzZWQgdG9cbmRlc2NyaWJlIGVmZmVjdHMgdGhhdCBhcmUgdmlzdWFsbHkgb2J2aW91cyBidXQgbWF5IG5vdCBiZVxubm90aWNlZCBieSBzY3JlZW4gcmVhZGVyIHVzZXJzIChzdWNoIGFzIG1vdmluZyB0byB0aGUgbmV4dFxuc2VhcmNoIG1hdGNoKS5cbiovXG5FZGl0b3JWaWV3LmFubm91bmNlID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLy8gTWF4aW11bSBsaW5lIGxlbmd0aCBmb3Igd2hpY2ggd2UgY29tcHV0ZSBhY2N1cmF0ZSBiaWRpIGluZm9cbmNvbnN0IE1heEJpZGlMaW5lID0gNDA5NjtcbmNvbnN0IEJhZE1lYXN1cmUgPSB7fTtcbmNsYXNzIENhY2hlZE9yZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgZGlyLCBpc29sYXRlcywgZnJlc2gsIG9yZGVyKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgICAgIHRoaXMuaXNvbGF0ZXMgPSBpc29sYXRlcztcbiAgICAgICAgdGhpcy5mcmVzaCA9IGZyZXNoO1xuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGUoY2FjaGUsIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuZW1wdHkgJiYgIWNhY2hlLnNvbWUoYyA9PiBjLmZyZXNoKSlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBsYXN0RGlyID0gY2FjaGUubGVuZ3RoID8gY2FjaGVbY2FjaGUubGVuZ3RoIC0gMV0uZGlyIDogRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGgubWF4KDAsIGNhY2hlLmxlbmd0aCAtIDEwKTsgaSA8IGNhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSBjYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5kaXIgPT0gbGFzdERpciAmJiAhY2hhbmdlcy50b3VjaGVzUmFuZ2UoZW50cnkuZnJvbSwgZW50cnkudG8pKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBDYWNoZWRPcmRlcihjaGFuZ2VzLm1hcFBvcyhlbnRyeS5mcm9tLCAxKSwgY2hhbmdlcy5tYXBQb3MoZW50cnkudG8sIC0xKSwgZW50cnkuZGlyLCBlbnRyeS5pc29sYXRlcywgZmFsc2UsIGVudHJ5Lm9yZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiBhdHRyc0Zyb21GYWNldCh2aWV3LCBmYWNldCwgYmFzZSkge1xuICAgIGZvciAobGV0IHNvdXJjZXMgPSB2aWV3LnN0YXRlLmZhY2V0KGZhY2V0KSwgaSA9IHNvdXJjZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IHNvdXJjZXNbaV0sIHZhbHVlID0gdHlwZW9mIHNvdXJjZSA9PSBcImZ1bmN0aW9uXCIgPyBzb3VyY2UodmlldykgOiBzb3VyY2U7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIGNvbWJpbmVBdHRycyh2YWx1ZSwgYmFzZSk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlO1xufVxuXG5jb25zdCBjdXJyZW50UGxhdGZvcm0gPSBicm93c2VyLm1hYyA/IFwibWFjXCIgOiBicm93c2VyLndpbmRvd3MgPyBcIndpblwiIDogYnJvd3Nlci5saW51eCA/IFwibGludXhcIiA6IFwia2V5XCI7XG5mdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUsIHBsYXRmb3JtKSB7XG4gICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KC8tKD8hJCkvKTtcbiAgICBsZXQgcmVzdWx0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHJlc3VsdCA9PSBcIlNwYWNlXCIpXG4gICAgICAgIHJlc3VsdCA9IFwiIFwiO1xuICAgIGxldCBhbHQsIGN0cmwsIHNoaWZ0LCBtZXRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IG1vZCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgbWV0YSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSlcbiAgICAgICAgICAgIGFsdCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBjdHJsID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBzaGlmdCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9ebW9kJC9pLnRlc3QobW9kKSkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtID09IFwibWFjXCIpXG4gICAgICAgICAgICAgICAgbWV0YSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY3RybCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKTtcbiAgICB9XG4gICAgaWYgKGFsdClcbiAgICAgICAgcmVzdWx0ID0gXCJBbHQtXCIgKyByZXN1bHQ7XG4gICAgaWYgKGN0cmwpXG4gICAgICAgIHJlc3VsdCA9IFwiQ3RybC1cIiArIHJlc3VsdDtcbiAgICBpZiAobWV0YSlcbiAgICAgICAgcmVzdWx0ID0gXCJNZXRhLVwiICsgcmVzdWx0O1xuICAgIGlmIChzaGlmdClcbiAgICAgICAgcmVzdWx0ID0gXCJTaGlmdC1cIiArIHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCBzaGlmdCkge1xuICAgIGlmIChldmVudC5hbHRLZXkpXG4gICAgICAgIG5hbWUgPSBcIkFsdC1cIiArIG5hbWU7XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpXG4gICAgICAgIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICAgIGlmIChldmVudC5tZXRhS2V5KVxuICAgICAgICBuYW1lID0gXCJNZXRhLVwiICsgbmFtZTtcbiAgICBpZiAoc2hpZnQgIT09IGZhbHNlICYmIGV2ZW50LnNoaWZ0S2V5KVxuICAgICAgICBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5jb25zdCBoYW5kbGVLZXlFdmVudHMgPSAvKkBfX1BVUkVfXyovUHJlYy5kZWZhdWx0KC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmRvbUV2ZW50SGFuZGxlcnMoe1xuICAgIGtleWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHJ1bkhhbmRsZXJzKGdldEtleW1hcCh2aWV3LnN0YXRlKSwgZXZlbnQsIHZpZXcsIFwiZWRpdG9yXCIpO1xuICAgIH1cbn0pKTtcbi8qKlxuRmFjZXQgdXNlZCBmb3IgcmVnaXN0ZXJpbmcga2V5bWFwcy5cblxuWW91IGNhbiBhZGQgbXVsdGlwbGUga2V5bWFwcyB0byBhbiBlZGl0b3IuIFRoZWlyIHByaW9yaXRpZXNcbmRldGVybWluZSB0aGVpciBwcmVjZWRlbmNlICh0aGUgb25lcyBzcGVjaWZpZWQgZWFybHkgb3Igd2l0aCBoaWdoXG5wcmlvcml0eSBnZXQgY2hlY2tlZCBmaXJzdCkuIFdoZW4gYSBoYW5kbGVyIGhhcyByZXR1cm5lZCBgdHJ1ZWBcbmZvciBhIGdpdmVuIGtleSwgbm8gZnVydGhlciBoYW5kbGVycyBhcmUgY2FsbGVkLlxuKi9cbmNvbnN0IGtleW1hcCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBlbmFibGVzOiBoYW5kbGVLZXlFdmVudHMgfSk7XG5jb25zdCBLZXltYXBzID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG4vLyBUaGlzIGlzIGhpZGRlbiBiZWhpbmQgYW4gaW5kaXJlY3Rpb24sIHJhdGhlciB0aGFuIGRpcmVjdGx5IGNvbXB1dGVkXG4vLyBieSB0aGUgZmFjZXQsIHRvIGtlZXAgaW50ZXJuYWwgdHlwZXMgb3V0IG9mIHRoZSBmYWNldCdzIHR5cGUuXG5mdW5jdGlvbiBnZXRLZXltYXAoc3RhdGUpIHtcbiAgICBsZXQgYmluZGluZ3MgPSBzdGF0ZS5mYWNldChrZXltYXApO1xuICAgIGxldCBtYXAgPSBLZXltYXBzLmdldChiaW5kaW5ncyk7XG4gICAgaWYgKCFtYXApXG4gICAgICAgIEtleW1hcHMuc2V0KGJpbmRpbmdzLCBtYXAgPSBidWlsZEtleW1hcChiaW5kaW5ncy5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpLCBbXSkpKTtcbiAgICByZXR1cm4gbWFwO1xufVxuLyoqXG5SdW4gdGhlIGtleSBoYW5kbGVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIHNjb3BlLiBUaGUgZXZlbnRcbm9iamVjdCBzaG91bGQgYmUgYSBgXCJrZXlkb3duXCJgIGV2ZW50LiBSZXR1cm5zIHRydWUgaWYgYW55IG9mIHRoZVxuaGFuZGxlcnMgaGFuZGxlZCBpdC5cbiovXG5mdW5jdGlvbiBydW5TY29wZUhhbmRsZXJzKHZpZXcsIGV2ZW50LCBzY29wZSkge1xuICAgIHJldHVybiBydW5IYW5kbGVycyhnZXRLZXltYXAodmlldy5zdGF0ZSksIGV2ZW50LCB2aWV3LCBzY29wZSk7XG59XG5sZXQgc3RvcmVkUHJlZml4ID0gbnVsbDtcbmNvbnN0IFByZWZpeFRpbWVvdXQgPSA0MDAwO1xuZnVuY3Rpb24gYnVpbGRLZXltYXAoYmluZGluZ3MsIHBsYXRmb3JtID0gY3VycmVudFBsYXRmb3JtKSB7XG4gICAgbGV0IGJvdW5kID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgaXNQcmVmaXggPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjaGVja1ByZWZpeCA9IChuYW1lLCBpcykgPT4ge1xuICAgICAgICBsZXQgY3VycmVudCA9IGlzUHJlZml4W25hbWVdO1xuICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKVxuICAgICAgICAgICAgaXNQcmVmaXhbbmFtZV0gPSBpcztcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudCAhPSBpcylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleSBiaW5kaW5nIFwiICsgbmFtZSArIFwiIGlzIHVzZWQgYm90aCBhcyBhIHJlZ3VsYXIgYmluZGluZyBhbmQgYXMgYSBtdWx0aS1zdHJva2UgcHJlZml4XCIpO1xuICAgIH07XG4gICAgbGV0IGFkZCA9IChzY29wZSwga2V5LCBjb21tYW5kLCBwcmV2ZW50RGVmYXVsdCwgc3RvcFByb3BhZ2F0aW9uKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGxldCBzY29wZU9iaiA9IGJvdW5kW3Njb3BlXSB8fCAoYm91bmRbc2NvcGVdID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdCgvICg/ISQpLykubWFwKGsgPT4gbm9ybWFsaXplS2V5TmFtZShrLCBwbGF0Zm9ybSkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJlZml4ID0gcGFydHMuc2xpY2UoMCwgaSkuam9pbihcIiBcIik7XG4gICAgICAgICAgICBjaGVja1ByZWZpeChwcmVmaXgsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFzY29wZU9ialtwcmVmaXhdKVxuICAgICAgICAgICAgICAgIHNjb3BlT2JqW3ByZWZpeF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBydW46IFsodmlldykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdXJPYmogPSBzdG9yZWRQcmVmaXggPSB7IHZpZXcsIHByZWZpeCwgc2NvcGUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKHN0b3JlZFByZWZpeCA9PSBvdXJPYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZFByZWZpeCA9IG51bGw7IH0sIFByZWZpeFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBmdWxsID0gcGFydHMuam9pbihcIiBcIik7XG4gICAgICAgIGNoZWNrUHJlZml4KGZ1bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IGJpbmRpbmcgPSBzY29wZU9ialtmdWxsXSB8fCAoc2NvcGVPYmpbZnVsbF0gPSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgcnVuOiAoKF9iID0gKF9hID0gc2NvcGVPYmouX2FueSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJ1bikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNsaWNlKCkpIHx8IFtdXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29tbWFuZClcbiAgICAgICAgICAgIGJpbmRpbmcucnVuLnB1c2goY29tbWFuZCk7XG4gICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgIGJpbmRpbmcucHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgYmluZGluZy5zdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgIH07XG4gICAgZm9yIChsZXQgYiBvZiBiaW5kaW5ncykge1xuICAgICAgICBsZXQgc2NvcGVzID0gYi5zY29wZSA/IGIuc2NvcGUuc3BsaXQoXCIgXCIpIDogW1wiZWRpdG9yXCJdO1xuICAgICAgICBpZiAoYi5hbnkpXG4gICAgICAgICAgICBmb3IgKGxldCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2NvcGVPYmogPSBib3VuZFtzY29wZV0gfHwgKGJvdW5kW3Njb3BlXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVPYmouX2FueSlcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVPYmouX2FueSA9IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBzdG9wUHJvcGFnYXRpb246IGZhbHNlLCBydW46IFtdIH07XG4gICAgICAgICAgICAgICAgbGV0IHsgYW55IH0gPSBiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY29wZU9iailcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVPYmpba2V5XS5ydW4ucHVzaCh2aWV3ID0+IGFueSh2aWV3LCBjdXJyZW50S2V5RXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IG5hbWUgPSBiW3BsYXRmb3JtXSB8fCBiLmtleTtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvciAobGV0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgICAgICAgICAgYWRkKHNjb3BlLCBuYW1lLCBiLnJ1biwgYi5wcmV2ZW50RGVmYXVsdCwgYi5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICAgICAgaWYgKGIuc2hpZnQpXG4gICAgICAgICAgICAgICAgYWRkKHNjb3BlLCBcIlNoaWZ0LVwiICsgbmFtZSwgYi5zaGlmdCwgYi5wcmV2ZW50RGVmYXVsdCwgYi5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3VuZDtcbn1cbmxldCBjdXJyZW50S2V5RXZlbnQgPSBudWxsO1xuZnVuY3Rpb24gcnVuSGFuZGxlcnMobWFwLCBldmVudCwgdmlldywgc2NvcGUpIHtcbiAgICBjdXJyZW50S2V5RXZlbnQgPSBldmVudDtcbiAgICBsZXQgbmFtZSA9IGtleU5hbWUoZXZlbnQpO1xuICAgIGxldCBjaGFyQ29kZSA9IGNvZGVQb2ludEF0KG5hbWUsIDApLCBpc0NoYXIgPSBjb2RlUG9pbnRTaXplKGNoYXJDb2RlKSA9PSBuYW1lLmxlbmd0aCAmJiBuYW1lICE9IFwiIFwiO1xuICAgIGxldCBwcmVmaXggPSBcIlwiLCBoYW5kbGVkID0gZmFsc2UsIHByZXZlbnRlZCA9IGZhbHNlLCBzdG9wUHJvcGFnYXRpb24gPSBmYWxzZTtcbiAgICBpZiAoc3RvcmVkUHJlZml4ICYmIHN0b3JlZFByZWZpeC52aWV3ID09IHZpZXcgJiYgc3RvcmVkUHJlZml4LnNjb3BlID09IHNjb3BlKSB7XG4gICAgICAgIHByZWZpeCA9IHN0b3JlZFByZWZpeC5wcmVmaXggKyBcIiBcIjtcbiAgICAgICAgaWYgKG1vZGlmaWVyQ29kZXMuaW5kZXhPZihldmVudC5rZXlDb2RlKSA8IDApIHtcbiAgICAgICAgICAgIHByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICBzdG9yZWRQcmVmaXggPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByYW4gPSBuZXcgU2V0O1xuICAgIGxldCBydW5Gb3IgPSAoYmluZGluZykgPT4ge1xuICAgICAgICBpZiAoYmluZGluZykge1xuICAgICAgICAgICAgZm9yIChsZXQgY21kIG9mIGJpbmRpbmcucnVuKVxuICAgICAgICAgICAgICAgIGlmICghcmFuLmhhcyhjbWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbi5hZGQoY21kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtZCh2aWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiaW5kaW5nLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgbGV0IHNjb3BlT2JqID0gbWFwW3Njb3BlXSwgYmFzZU5hbWUsIHNoaWZ0TmFtZTtcbiAgICBpZiAoc2NvcGVPYmopIHtcbiAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsICFpc0NoYXIpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ2hhciAmJiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgICAgIC8vIEN0cmwtQWx0IG1heSBiZSB1c2VkIGZvciBBbHRHciBvbiBXaW5kb3dzXG4gICAgICAgICAgICAhKGJyb3dzZXIud2luZG93cyAmJiBldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSkgJiZcbiAgICAgICAgICAgIChiYXNlTmFtZSA9IGJhc2VbZXZlbnQua2V5Q29kZV0pICYmIGJhc2VOYW1lICE9IG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgKHNoaWZ0TmFtZSA9IHNoaWZ0W2V2ZW50LmtleUNvZGVdKSAhPSBuYW1lICYmIHNoaWZ0TmFtZSAhPSBiYXNlTmFtZSAmJlxuICAgICAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMoc2hpZnROYW1lLCBldmVudCwgZmFsc2UpXSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NoYXIgJiYgZXZlbnQuc2hpZnRLZXkgJiZcbiAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsIHRydWUpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlZCAmJiBydW5Gb3Ioc2NvcGVPYmouX2FueSkpXG4gICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHByZXZlbnRlZClcbiAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgaWYgKGhhbmRsZWQgJiYgc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjdXJyZW50S2V5RXZlbnQgPSBudWxsO1xuICAgIHJldHVybiBoYW5kbGVkO1xufVxuXG4vKipcbkltcGxlbWVudGF0aW9uIG9mIFtgTGF5ZXJNYXJrZXJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuTGF5ZXJNYXJrZXIpIHRoYXQgY3JlYXRlc1xuYSByZWN0YW5nbGUgYXQgYSBnaXZlbiBzZXQgb2YgY29vcmRpbmF0ZXMuXG4qL1xuY2xhc3MgUmVjdGFuZ2xlTWFya2VyIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBtYXJrZXIgd2l0aCB0aGUgZ2l2ZW4gY2xhc3MgYW5kIGRpbWVuc2lvbnMuIElmIGB3aWR0aGBcbiAgICBpcyBudWxsLCB0aGUgRE9NIGVsZW1lbnQgd2lsbCBnZXQgbm8gd2lkdGggc3R5bGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGFzc05hbWUsIFxuICAgIC8qKlxuICAgIFRoZSBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgKGluIHBpeGVscywgZG9jdW1lbnQtcmVsYXRpdmUpLlxuICAgICovXG4gICAgbGVmdCwgXG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyLlxuICAgICovXG4gICAgdG9wLCBcbiAgICAvKipcbiAgICBUaGUgd2lkdGggb2YgdGhlIG1hcmtlciwgb3IgbnVsbCBpZiBpdCBzaG91bGRuJ3QgZ2V0IGEgd2lkdGggYXNzaWduZWQuXG4gICAgKi9cbiAgICB3aWR0aCwgXG4gICAgLyoqXG4gICAgVGhlIGhlaWdodCBvZiB0aGUgbWFya2VyLlxuICAgICovXG4gICAgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgZHJhdygpIHtcbiAgICAgICAgbGV0IGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsdC5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5hZGp1c3QoZWx0KTtcbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgdXBkYXRlKGVsdCwgcHJldikge1xuICAgICAgICBpZiAocHJldi5jbGFzc05hbWUgIT0gdGhpcy5jbGFzc05hbWUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRqdXN0KGVsdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBhZGp1c3QoZWx0KSB7XG4gICAgICAgIGVsdC5zdHlsZS5sZWZ0ID0gdGhpcy5sZWZ0ICsgXCJweFwiO1xuICAgICAgICBlbHQuc3R5bGUudG9wID0gdGhpcy50b3AgKyBcInB4XCI7XG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9IG51bGwpXG4gICAgICAgICAgICBlbHQuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuICAgIGVxKHApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PSBwLmxlZnQgJiYgdGhpcy50b3AgPT0gcC50b3AgJiYgdGhpcy53aWR0aCA9PSBwLndpZHRoICYmIHRoaXMuaGVpZ2h0ID09IHAuaGVpZ2h0ICYmXG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9PSBwLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IG9mIHJlY3RhbmdsZXMgZm9yIHRoZSBnaXZlbiBzZWxlY3Rpb24gcmFuZ2UsXG4gICAgYXNzaWduaW5nIHRoZW0gdGhlY2xhc3NgY2xhc3NOYW1lYC4gV2lsbCBjcmVhdGUgYSBzaW5nbGVcbiAgICByZWN0YW5nbGUgZm9yIGVtcHR5IHJhbmdlcywgYW5kIGEgc2V0IG9mIHNlbGVjdGlvbi1zdHlsZVxuICAgIHJlY3RhbmdsZXMgY292ZXJpbmcgdGhlIHJhbmdlJ3MgY29udGVudCAoaW4gYSBiaWRpLWF3YXJlXG4gICAgd2F5KSBmb3Igbm9uLWVtcHR5IG9uZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgZm9yUmFuZ2UodmlldywgY2xhc3NOYW1lLCByYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSB2aWV3LmNvb3Jkc0F0UG9zKHJhbmdlLmhlYWQsIHJhbmdlLmFzc29jIHx8IDEpO1xuICAgICAgICAgICAgaWYgKCFwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgbGV0IGJhc2UgPSBnZXRCYXNlKHZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgcG9zLmxlZnQgLSBiYXNlLmxlZnQsIHBvcy50b3AgLSBiYXNlLnRvcCwgbnVsbCwgcG9zLmJvdHRvbSAtIHBvcy50b3ApXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZWN0YW5nbGVzRm9yUmFuZ2UodmlldywgY2xhc3NOYW1lLCByYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXRCYXNlKHZpZXcpIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBsZWZ0ID0gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0IC0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGggKiB2aWV3LnNjYWxlWDtcbiAgICByZXR1cm4geyBsZWZ0OiBsZWZ0IC0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCAqIHZpZXcuc2NhbGVYLCB0b3A6IHJlY3QudG9wIC0gdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICogdmlldy5zY2FsZVkgfTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRMaW5lKHZpZXcsIHBvcywgc2lkZSwgaW5zaWRlKSB7XG4gICAgbGV0IGNvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MocG9zLCBzaWRlICogMik7XG4gICAgaWYgKCFjb29yZHMpXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgbGV0IGVkaXRvclJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeSA9IChjb29yZHMudG9wICsgY29vcmRzLmJvdHRvbSkgLyAyO1xuICAgIGxldCBsZWZ0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGVkaXRvclJlY3QubGVmdCArIDEsIHkgfSk7XG4gICAgbGV0IHJpZ2h0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGVkaXRvclJlY3QucmlnaHQgLSAxLCB5IH0pO1xuICAgIGlmIChsZWZ0ID09IG51bGwgfHwgcmlnaHQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICByZXR1cm4geyBmcm9tOiBNYXRoLm1heChpbnNpZGUuZnJvbSwgTWF0aC5taW4obGVmdCwgcmlnaHQpKSwgdG86IE1hdGgubWluKGluc2lkZS50bywgTWF0aC5tYXgobGVmdCwgcmlnaHQpKSB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlc0ZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpIHtcbiAgICBpZiAocmFuZ2UudG8gPD0gdmlldy52aWV3cG9ydC5mcm9tIHx8IHJhbmdlLmZyb20gPj0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGxldCBmcm9tID0gTWF0aC5tYXgocmFuZ2UuZnJvbSwgdmlldy52aWV3cG9ydC5mcm9tKSwgdG8gPSBNYXRoLm1pbihyYW5nZS50bywgdmlldy52aWV3cG9ydC50byk7XG4gICAgbGV0IGx0ciA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLCBjb250ZW50UmVjdCA9IGNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGJhc2UgPSBnZXRCYXNlKHZpZXcpO1xuICAgIGxldCBsaW5lRWx0ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNtLWxpbmVcIiksIGxpbmVTdHlsZSA9IGxpbmVFbHQgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUobGluZUVsdCk7XG4gICAgbGV0IGxlZnRTaWRlID0gY29udGVudFJlY3QubGVmdCArXG4gICAgICAgIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ0xlZnQpICsgTWF0aC5taW4oMCwgcGFyc2VJbnQobGluZVN0eWxlLnRleHRJbmRlbnQpKSA6IDApO1xuICAgIGxldCByaWdodFNpZGUgPSBjb250ZW50UmVjdC5yaWdodCAtIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ1JpZ2h0KSA6IDApO1xuICAgIGxldCBzdGFydEJsb2NrID0gYmxvY2tBdCh2aWV3LCBmcm9tLCAxKSwgZW5kQmxvY2sgPSBibG9ja0F0KHZpZXcsIHRvLCAtMSk7XG4gICAgbGV0IHZpc3VhbFN0YXJ0ID0gc3RhcnRCbG9jay50eXBlID09IEJsb2NrVHlwZS5UZXh0ID8gc3RhcnRCbG9jayA6IG51bGw7XG4gICAgbGV0IHZpc3VhbEVuZCA9IGVuZEJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgPyBlbmRCbG9jayA6IG51bGw7XG4gICAgaWYgKHZpc3VhbFN0YXJ0ICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MpKVxuICAgICAgICB2aXN1YWxTdGFydCA9IHdyYXBwZWRMaW5lKHZpZXcsIGZyb20sIDEsIHZpc3VhbFN0YXJ0KTtcbiAgICBpZiAodmlzdWFsRW5kICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBlbmRCbG9jay53aWRnZXRMaW5lQnJlYWtzKSlcbiAgICAgICAgdmlzdWFsRW5kID0gd3JhcHBlZExpbmUodmlldywgdG8sIC0xLCB2aXN1YWxFbmQpO1xuICAgIGlmICh2aXN1YWxTdGFydCAmJiB2aXN1YWxFbmQgJiYgdmlzdWFsU3RhcnQuZnJvbSA9PSB2aXN1YWxFbmQuZnJvbSAmJiB2aXN1YWxTdGFydC50byA9PSB2aXN1YWxFbmQudG8pIHtcbiAgICAgICAgcmV0dXJuIHBpZWNlcyhkcmF3Rm9yTGluZShyYW5nZS5mcm9tLCByYW5nZS50bywgdmlzdWFsU3RhcnQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0b3AgPSB2aXN1YWxTdGFydCA/IGRyYXdGb3JMaW5lKHJhbmdlLmZyb20sIG51bGwsIHZpc3VhbFN0YXJ0KSA6IGRyYXdGb3JXaWRnZXQoc3RhcnRCbG9jaywgZmFsc2UpO1xuICAgICAgICBsZXQgYm90dG9tID0gdmlzdWFsRW5kID8gZHJhd0ZvckxpbmUobnVsbCwgcmFuZ2UudG8sIHZpc3VhbEVuZCkgOiBkcmF3Rm9yV2lkZ2V0KGVuZEJsb2NrLCB0cnVlKTtcbiAgICAgICAgbGV0IGJldHdlZW4gPSBbXTtcbiAgICAgICAgaWYgKCh2aXN1YWxTdGFydCB8fCBzdGFydEJsb2NrKS50byA8ICh2aXN1YWxFbmQgfHwgZW5kQmxvY2spLmZyb20gLSAodmlzdWFsU3RhcnQgJiYgdmlzdWFsRW5kID8gMSA6IDApIHx8XG4gICAgICAgICAgICBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MgPiAxICYmIHRvcC5ib3R0b20gKyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC8gMiA8IGJvdHRvbS50b3ApXG4gICAgICAgICAgICBiZXR3ZWVuLnB1c2gocGllY2UobGVmdFNpZGUsIHRvcC5ib3R0b20sIHJpZ2h0U2lkZSwgYm90dG9tLnRvcCkpO1xuICAgICAgICBlbHNlIGlmICh0b3AuYm90dG9tIDwgYm90dG9tLnRvcCAmJiB2aWV3LmVsZW1lbnRBdEhlaWdodCgodG9wLmJvdHRvbSArIGJvdHRvbS50b3ApIC8gMikudHlwZSA9PSBCbG9ja1R5cGUuVGV4dClcbiAgICAgICAgICAgIHRvcC5ib3R0b20gPSBib3R0b20udG9wID0gKHRvcC5ib3R0b20gKyBib3R0b20udG9wKSAvIDI7XG4gICAgICAgIHJldHVybiBwaWVjZXModG9wKS5jb25jYXQoYmV0d2VlbikuY29uY2F0KHBpZWNlcyhib3R0b20pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2UobGVmdCwgdG9wLCByaWdodCwgYm90dG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgbGVmdCAtIGJhc2UubGVmdCwgdG9wIC0gYmFzZS50b3AsIHJpZ2h0IC0gbGVmdCwgYm90dG9tIC0gdG9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2VzKHsgdG9wLCBib3R0b20sIGhvcml6b250YWwgfSkge1xuICAgICAgICBsZXQgcGllY2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9yaXpvbnRhbC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgICAgIHBpZWNlcy5wdXNoKHBpZWNlKGhvcml6b250YWxbaV0sIHRvcCwgaG9yaXpvbnRhbFtpICsgMV0sIGJvdHRvbSkpO1xuICAgICAgICByZXR1cm4gcGllY2VzO1xuICAgIH1cbiAgICAvLyBHZXRzIHBhc3NlZCBmcm9tL3RvIGluIGxpbmUtbG9jYWwgcG9zaXRpb25zXG4gICAgZnVuY3Rpb24gZHJhd0ZvckxpbmUoZnJvbSwgdG8sIGxpbmUpIHtcbiAgICAgICAgbGV0IHRvcCA9IDFlOSwgYm90dG9tID0gLTFlOSwgaG9yaXpvbnRhbCA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRTcGFuKGZyb20sIGZyb21PcGVuLCB0bywgdG9PcGVuLCBkaXIpIHtcbiAgICAgICAgICAgIC8vIFBhc3NpbmcgMi8tMiBpcyBhIGtsdWRnZSB0byBmb3JjZSB0aGUgdmlldyB0byByZXR1cm5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9uIHRoZSBwcm9wZXIgc2lkZSBvZiBibG9jayB3aWRnZXRzLCBzaW5jZVxuICAgICAgICAgICAgLy8gbm9ybWFsaXppbmcgdGhlIHNpZGUgdGhlcmUsIHRob3VnaCBhcHByb3ByaWF0ZSBmb3IgbW9zdFxuICAgICAgICAgICAgLy8gY29vcmRzQXRQb3MgcXVlcmllcywgd291bGQgYnJlYWsgc2VsZWN0aW9uIGRyYXdpbmcuXG4gICAgICAgICAgICBsZXQgZnJvbUNvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MoZnJvbSwgKGZyb20gPT0gbGluZS50byA/IC0yIDogMikpO1xuICAgICAgICAgICAgbGV0IHRvQ29vcmRzID0gdmlldy5jb29yZHNBdFBvcyh0bywgKHRvID09IGxpbmUuZnJvbSA/IDIgOiAtMikpO1xuICAgICAgICAgICAgaWYgKCFmcm9tQ29vcmRzIHx8ICF0b0Nvb3JkcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0b3AgPSBNYXRoLm1pbihmcm9tQ29vcmRzLnRvcCwgdG9Db29yZHMudG9wLCB0b3ApO1xuICAgICAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoZnJvbUNvb3Jkcy5ib3R0b20sIHRvQ29vcmRzLmJvdHRvbSwgYm90dG9tKTtcbiAgICAgICAgICAgIGlmIChkaXIgPT0gRGlyZWN0aW9uLkxUUilcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsLnB1c2gobHRyICYmIGZyb21PcGVuID8gbGVmdFNpZGUgOiBmcm9tQ29vcmRzLmxlZnQsIGx0ciAmJiB0b09wZW4gPyByaWdodFNpZGUgOiB0b0Nvb3Jkcy5yaWdodCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbC5wdXNoKCFsdHIgJiYgdG9PcGVuID8gbGVmdFNpZGUgOiB0b0Nvb3Jkcy5sZWZ0LCAhbHRyICYmIGZyb21PcGVuID8gcmlnaHRTaWRlIDogZnJvbUNvb3Jkcy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0ID0gZnJvbSAhPT0gbnVsbCAmJiBmcm9tICE9PSB2b2lkIDAgPyBmcm9tIDogbGluZS5mcm9tLCBlbmQgPSB0byAhPT0gbnVsbCAmJiB0byAhPT0gdm9pZCAwID8gdG8gOiBsaW5lLnRvO1xuICAgICAgICAvLyBTcGxpdCB0aGUgcmFuZ2UgYnkgdmlzaWJsZSByYW5nZSBhbmQgZG9jdW1lbnQgbGluZVxuICAgICAgICBmb3IgKGxldCByIG9mIHZpZXcudmlzaWJsZVJhbmdlcylcbiAgICAgICAgICAgIGlmIChyLnRvID4gc3RhcnQgJiYgci5mcm9tIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gTWF0aC5tYXgoci5mcm9tLCBzdGFydCksIGVuZFBvcyA9IE1hdGgubWluKHIudG8sIGVuZCk7Oykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZG9jTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzcGFuIG9mIHZpZXcuYmlkaVNwYW5zKGRvY0xpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3BhbkZyb20gPSBzcGFuLmZyb20gKyBkb2NMaW5lLmZyb20sIHNwYW5UbyA9IHNwYW4udG8gKyBkb2NMaW5lLmZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BhbkZyb20gPj0gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5UbyA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTcGFuKE1hdGgubWF4KHNwYW5Gcm9tLCBwb3MpLCBmcm9tID09IG51bGwgJiYgc3BhbkZyb20gPD0gc3RhcnQsIE1hdGgubWluKHNwYW5UbywgZW5kUG9zKSwgdG8gPT0gbnVsbCAmJiBzcGFuVG8gPj0gZW5kLCBzcGFuLmRpcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcG9zID0gZG9jTGluZS50byArIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBpZiAoaG9yaXpvbnRhbC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGFkZFNwYW4oc3RhcnQsIGZyb20gPT0gbnVsbCwgZW5kLCB0byA9PSBudWxsLCB2aWV3LnRleHREaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4geyB0b3AsIGJvdHRvbSwgaG9yaXpvbnRhbCB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkcmF3Rm9yV2lkZ2V0KGJsb2NrLCB0b3ApIHtcbiAgICAgICAgbGV0IHkgPSBjb250ZW50UmVjdC50b3AgKyAodG9wID8gYmxvY2sudG9wIDogYmxvY2suYm90dG9tKTtcbiAgICAgICAgcmV0dXJuIHsgdG9wOiB5LCBib3R0b206IHksIGhvcml6b250YWw6IFtdIH07XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZU1hcmtlcihhLCBiKSB7XG4gICAgcmV0dXJuIGEuY29uc3RydWN0b3IgPT0gYi5jb25zdHJ1Y3RvciAmJiBhLmVxKGIpO1xufVxuY2xhc3MgTGF5ZXJWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBsYXllcikge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuZHJhd24gPSBbXTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSAxO1xuICAgICAgICB0aGlzLnNjYWxlWSA9IDE7XG4gICAgICAgIHRoaXMubWVhc3VyZVJlcSA9IHsgcmVhZDogdGhpcy5tZWFzdXJlLmJpbmQodGhpcyksIHdyaXRlOiB0aGlzLmRyYXcuYmluZCh0aGlzKSB9O1xuICAgICAgICB0aGlzLmRvbSA9IHZpZXcuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGF5ZXJcIik7XG4gICAgICAgIGlmIChsYXllci5hYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1sYXllci1hYm92ZVwiKTtcbiAgICAgICAgaWYgKGxheWVyLmNsYXNzKVxuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChsYXllci5jbGFzcyk7XG4gICAgICAgIHRoaXMuc2NhbGUoKTtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLnNldE9yZGVyKHZpZXcuc3RhdGUpO1xuICAgICAgICB2aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgIGlmIChsYXllci5tb3VudClcbiAgICAgICAgICAgIGxheWVyLm1vdW50KHRoaXMuZG9tLCB2aWV3KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGF5ZXJPcmRlcikgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KGxheWVyT3JkZXIpKVxuICAgICAgICAgICAgdGhpcy5zZXRPcmRlcih1cGRhdGUuc3RhdGUpO1xuICAgICAgICBpZiAodGhpcy5sYXllci51cGRhdGUodXBkYXRlLCB0aGlzLmRvbSkgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZSgpO1xuICAgICAgICAgICAgdXBkYXRlLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb2NWaWV3VXBkYXRlKHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXIudXBkYXRlT25Eb2NWaWV3VXBkYXRlICE9PSBmYWxzZSlcbiAgICAgICAgICAgIHZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICB9XG4gICAgc2V0T3JkZXIoc3RhdGUpIHtcbiAgICAgICAgbGV0IHBvcyA9IDAsIG9yZGVyID0gc3RhdGUuZmFjZXQobGF5ZXJPcmRlcik7XG4gICAgICAgIHdoaWxlIChwb3MgPCBvcmRlci5sZW5ndGggJiYgb3JkZXJbcG9zXSAhPSB0aGlzLmxheWVyKVxuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgIHRoaXMuZG9tLnN0eWxlLnpJbmRleCA9IFN0cmluZygodGhpcy5sYXllci5hYm92ZSA/IDE1MCA6IC0xKSAtIHBvcyk7XG4gICAgfVxuICAgIG1lYXN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyLm1hcmtlcnModGhpcy52aWV3KTtcbiAgICB9XG4gICAgc2NhbGUoKSB7XG4gICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChzY2FsZVggIT0gdGhpcy5zY2FsZVggfHwgc2NhbGVZICE9IHRoaXMuc2NhbGVZKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7MSAvIHNjYWxlWH0sICR7MSAvIHNjYWxlWX0pYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KG1hcmtlcnMpIHtcbiAgICAgICAgaWYgKG1hcmtlcnMubGVuZ3RoICE9IHRoaXMuZHJhd24ubGVuZ3RoIHx8IG1hcmtlcnMuc29tZSgocCwgaSkgPT4gIXNhbWVNYXJrZXIocCwgdGhpcy5kcmF3bltpXSkpKSB7XG4gICAgICAgICAgICBsZXQgb2xkID0gdGhpcy5kb20uZmlyc3RDaGlsZCwgb2xkSSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBtYXJrZXIgb2YgbWFya2Vycykge1xuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIudXBkYXRlICYmIG9sZCAmJiBtYXJrZXIuY29uc3RydWN0b3IgJiYgdGhpcy5kcmF3bltvbGRJXS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIudXBkYXRlKG9sZCwgdGhpcy5kcmF3bltvbGRJXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkID0gb2xkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBvbGRJKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUobWFya2VyLmRyYXcoKSwgb2xkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAob2xkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBvbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgb2xkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIG9sZCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXduID0gbWFya2VycztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5sYXllci5kZXN0cm95KVxuICAgICAgICAgICAgdGhpcy5sYXllci5kZXN0cm95KHRoaXMuZG9tLCB0aGlzLnZpZXcpO1xuICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICB9XG59XG5jb25zdCBsYXllck9yZGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5EZWZpbmUgYSBsYXllci5cbiovXG5mdW5jdGlvbiBsYXllcihjb25maWcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2ID0+IG5ldyBMYXllclZpZXcodiwgY29uZmlnKSksXG4gICAgICAgIGxheWVyT3JkZXIub2YoY29uZmlnKVxuICAgIF07XG59XG5cbmNvbnN0IHNlbGVjdGlvbkNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBjdXJzb3JCbGlua1JhdGU6IDEyMDAsXG4gICAgICAgICAgICBkcmF3UmFuZ2VDdXJzb3I6IHRydWVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY3Vyc29yQmxpbmtSYXRlOiAoYSwgYikgPT4gTWF0aC5taW4oYSwgYiksXG4gICAgICAgICAgICBkcmF3UmFuZ2VDdXJzb3I6IChhLCBiKSA9PiBhIHx8IGJcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgaGlkZXMgdGhlIGJyb3dzZXIncyBuYXRpdmUgc2VsZWN0aW9uIGFuZFxuY3Vyc29yLCByZXBsYWNpbmcgdGhlIHNlbGVjdGlvbiB3aXRoIGEgYmFja2dyb3VuZCBiZWhpbmQgdGhlIHRleHRcbih3aXRoIHRoZSBgY20tc2VsZWN0aW9uQmFja2dyb3VuZGAgY2xhc3MpLCBhbmQgdGhlXG5jdXJzb3JzIHdpdGggZWxlbWVudHMgb3ZlcmxhaWQgb3ZlciB0aGUgY29kZSAodXNpbmdcbmBjbS1jdXJzb3ItcHJpbWFyeWAgYW5kIGBjbS1jdXJzb3Itc2Vjb25kYXJ5YCkuXG5cblRoaXMgYWxsb3dzIHRoZSBlZGl0b3IgdG8gZGlzcGxheSBzZWNvbmRhcnkgc2VsZWN0aW9uIHJhbmdlcywgYW5kXG50ZW5kcyB0byBwcm9kdWNlIGEgdHlwZSBvZiBzZWxlY3Rpb24gbW9yZSBpbiBsaW5lIHdpdGggdGhhdCB1c2Vyc1xuZXhwZWN0IGluIGEgdGV4dCBlZGl0b3IgKHRoZSBuYXRpdmUgc2VsZWN0aW9uIHN0eWxpbmcgd2lsbCBvZnRlblxubGVhdmUgZ2FwcyBiZXR3ZWVuIGxpbmVzIGFuZCB3b24ndCBmaWxsIHRoZSBob3Jpem9udGFsIHNwYWNlIGFmdGVyXG5hIGxpbmUgd2hlbiB0aGUgc2VsZWN0aW9uIGNvbnRpbnVlcyBwYXN0IGl0KS5cblxuSXQgZG9lcyBoYXZlIGEgcGVyZm9ybWFuY2UgY29zdCwgaW4gdGhhdCBpdCByZXF1aXJlcyBhbiBleHRyYSBET01cbmxheW91dCBjeWNsZSBmb3IgbWFueSB1cGRhdGVzICh0aGUgc2VsZWN0aW9uIGlzIGRyYXduIGJhc2VkIG9uIERPTVxubGF5b3V0IGluZm9ybWF0aW9uIHRoYXQncyBvbmx5IGF2YWlsYWJsZSBhZnRlciBsYXlpbmcgb3V0IHRoZVxuY29udGVudCkuXG4qL1xuZnVuY3Rpb24gZHJhd1NlbGVjdGlvbihjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIHNlbGVjdGlvbkNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBjdXJzb3JMYXllcixcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIsXG4gICAgICAgIGhpZGVOYXRpdmVTZWxlY3Rpb24sXG4gICAgICAgIG5hdGl2ZVNlbGVjdGlvbkhpZGRlbi5vZih0cnVlKVxuICAgIF07XG59XG4vKipcblJldHJpZXZlIHRoZSBbYGRyYXdTZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuZHJhd1NlbGVjdGlvbikgY29uZmlndXJhdGlvblxuZm9yIHRoaXMgc3RhdGUuIChOb3RlIHRoYXQgdGhpcyB3aWxsIHJldHVybiBhIHNldCBvZiBkZWZhdWx0cyBldmVuXG5pZiBgZHJhd1NlbGVjdGlvbmAgaXNuJ3QgZW5hYmxlZC4pXG4qL1xuZnVuY3Rpb24gZ2V0RHJhd1NlbGVjdGlvbkNvbmZpZyhzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xufVxuZnVuY3Rpb24gY29uZmlnQ2hhbmdlZCh1cGRhdGUpIHtcbiAgICByZXR1cm4gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKTtcbn1cbmNvbnN0IGN1cnNvckxheWVyID0gLypAX19QVVJFX18qL2xheWVyKHtcbiAgICBhYm92ZTogdHJ1ZSxcbiAgICBtYXJrZXJzKHZpZXcpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNvbmYgPSBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xuICAgICAgICBsZXQgY3Vyc29ycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCByIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBwcmltID0gciA9PSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgICAgIGlmIChyLmVtcHR5IHx8IGNvbmYuZHJhd1JhbmdlQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHByaW0gPyBcImNtLWN1cnNvciBjbS1jdXJzb3ItcHJpbWFyeVwiIDogXCJjbS1jdXJzb3IgY20tY3Vyc29yLXNlY29uZGFyeVwiO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3IgPSByLmVtcHR5ID8gciA6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioci5oZWFkLCByLmhlYWQgPiByLmFuY2hvciA/IC0xIDogMSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGllY2Ugb2YgUmVjdGFuZ2xlTWFya2VyLmZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgY3Vyc29yKSlcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29ycy5wdXNoKHBpZWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3Vyc29ycztcbiAgICB9LFxuICAgIHVwZGF0ZSh1cGRhdGUsIGRvbSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICBkb20uc3R5bGUuYW5pbWF0aW9uTmFtZSA9IGRvbS5zdHlsZS5hbmltYXRpb25OYW1lID09IFwiY20tYmxpbmtcIiA/IFwiY20tYmxpbmsyXCIgOiBcImNtLWJsaW5rXCI7XG4gICAgICAgIGxldCBjb25mQ2hhbmdlID0gY29uZmlnQ2hhbmdlZCh1cGRhdGUpO1xuICAgICAgICBpZiAoY29uZkNoYW5nZSlcbiAgICAgICAgICAgIHNldEJsaW5rUmF0ZSh1cGRhdGUuc3RhdGUsIGRvbSk7XG4gICAgICAgIHJldHVybiB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IGNvbmZDaGFuZ2U7XG4gICAgfSxcbiAgICBtb3VudChkb20sIHZpZXcpIHtcbiAgICAgICAgc2V0QmxpbmtSYXRlKHZpZXcuc3RhdGUsIGRvbSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1jdXJzb3JMYXllclwiXG59KTtcbmZ1bmN0aW9uIHNldEJsaW5rUmF0ZShzdGF0ZSwgZG9tKSB7XG4gICAgZG9tLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKS5jdXJzb3JCbGlua1JhdGUgKyBcIm1zXCI7XG59XG5jb25zdCBzZWxlY3Rpb25MYXllciA9IC8qQF9fUFVSRV9fKi9sYXllcih7XG4gICAgYWJvdmU6IGZhbHNlLFxuICAgIG1hcmtlcnModmlldykge1xuICAgICAgICByZXR1cm4gdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLm1hcChyID0+IHIuZW1wdHkgPyBbXSA6IFJlY3RhbmdsZU1hcmtlci5mb3JSYW5nZSh2aWV3LCBcImNtLXNlbGVjdGlvbkJhY2tncm91bmRcIiwgcikpXG4gICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSk7XG4gICAgfSxcbiAgICB1cGRhdGUodXBkYXRlLCBkb20pIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fCBjb25maWdDaGFuZ2VkKHVwZGF0ZSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1zZWxlY3Rpb25MYXllclwiXG59KTtcbmNvbnN0IGhpZGVOYXRpdmVTZWxlY3Rpb24gPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoZXN0KC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LnRoZW1lKHtcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgXCImIDo6c2VsZWN0aW9uLCAmOjpzZWxlY3Rpb25cIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIGNhcmV0Q29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgY2FyZXRDb2xvcjogXCJ0cmFuc3BhcmVudCAhaW1wb3J0YW50XCIsXG4gICAgICAgIFwiJiA6Zm9jdXNcIjoge1xuICAgICAgICAgICAgY2FyZXRDb2xvcjogXCJpbml0aWFsICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIFwiJjo6c2VsZWN0aW9uLCAmIDo6c2VsZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiSGlnaGxpZ2h0ICFpbXBvcnRhbnRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkpO1xuXG5jb25zdCBzZXREcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHBvcywgbWFwcGluZykgeyByZXR1cm4gcG9zID09IG51bGwgPyBudWxsIDogbWFwcGluZy5tYXBQb3MocG9zKTsgfVxufSk7XG5jb25zdCBkcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHVwZGF0ZShwb3MsIHRyKSB7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHBvcyA9IHRyLmNoYW5nZXMubWFwUG9zKHBvcyk7XG4gICAgICAgIHJldHVybiB0ci5lZmZlY3RzLnJlZHVjZSgocG9zLCBlKSA9PiBlLmlzKHNldERyb3BDdXJzb3JQb3MpID8gZS52YWx1ZSA6IHBvcywgcG9zKTtcbiAgICB9XG59KTtcbmNvbnN0IGRyYXdEcm9wQ3Vyc29yID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB0aGlzLnJlYWRQb3MuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMuZHJhd0N1cnNvci5iaW5kKHRoaXMpIH07XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY3Vyc29yUG9zID0gdXBkYXRlLnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpO1xuICAgICAgICBpZiAoY3Vyc29yUG9zID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jdXJzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB0aGlzLnZpZXcuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLmNsYXNzTmFtZSA9IFwiY20tZHJvcEN1cnNvclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpICE9IGN1cnNvclBvcyB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWRQb3MoKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXM7XG4gICAgICAgIGxldCBwb3MgPSB2aWV3LnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpO1xuICAgICAgICBsZXQgcmVjdCA9IHBvcyAhPSBudWxsICYmIHZpZXcuY29vcmRzQXRQb3MocG9zKTtcbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBvdXRlciA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gb3V0ZXIubGVmdCArIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgKiB2aWV3LnNjYWxlWCxcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgLSBvdXRlci50b3AgKyB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgKiB2aWV3LnNjYWxlWSxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3Q3Vyc29yKHBvcykge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3IpIHtcbiAgICAgICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSB0aGlzLnZpZXc7XG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5sZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLnRvcCA9IHBvcy50b3AgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gcG9zLmhlaWdodCAvIHNjYWxlWSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQgPSBcIi0xMDAwMDBweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvcilcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yLnJlbW92ZSgpO1xuICAgIH1cbiAgICBzZXREcm9wUG9zKHBvcykge1xuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpICE9IHBvcylcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldERyb3BDdXJzb3JQb3Mub2YocG9zKSB9KTtcbiAgICB9XG59LCB7XG4gICAgZXZlbnRPYnNlcnZlcnM6IHtcbiAgICAgICAgZHJhZ292ZXIoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RHJvcFBvcyh0aGlzLnZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZHJhZ2xlYXZlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHRoaXMudmlldy5jb250ZW50RE9NIHx8ICF0aGlzLnZpZXcuY29udGVudERPTS5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdlbmQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyb3AoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbi8qKlxuRHJhd3MgYSBjdXJzb3IgYXQgdGhlIGN1cnJlbnQgZHJvcCBwb3NpdGlvbiB3aGVuIHNvbWV0aGluZyBpc1xuZHJhZ2dlZCBvdmVyIHRoZSBlZGl0b3IuXG4qL1xuZnVuY3Rpb24gZHJvcEN1cnNvcigpIHtcbiAgICByZXR1cm4gW2Ryb3BDdXJzb3JQb3MsIGRyYXdEcm9wQ3Vyc29yXTtcbn1cblxuZnVuY3Rpb24gaXRlck1hdGNoZXMoZG9jLCByZSwgZnJvbSwgdG8sIGYpIHtcbiAgICByZS5sYXN0SW5kZXggPSAwO1xuICAgIGZvciAobGV0IGN1cnNvciA9IGRvYy5pdGVyUmFuZ2UoZnJvbSwgdG8pLCBwb3MgPSBmcm9tLCBtOyAhY3Vyc29yLm5leHQoKS5kb25lOyBwb3MgKz0gY3Vyc29yLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWN1cnNvci5saW5lQnJlYWspXG4gICAgICAgICAgICB3aGlsZSAobSA9IHJlLmV4ZWMoY3Vyc29yLnZhbHVlKSlcbiAgICAgICAgICAgICAgICBmKHBvcyArIG0uaW5kZXgsIG0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hdGNoUmFuZ2VzKHZpZXcsIG1heExlbmd0aCkge1xuICAgIGxldCB2aXNpYmxlID0gdmlldy52aXNpYmxlUmFuZ2VzO1xuICAgIGlmICh2aXNpYmxlLmxlbmd0aCA9PSAxICYmIHZpc2libGVbMF0uZnJvbSA9PSB2aWV3LnZpZXdwb3J0LmZyb20gJiZcbiAgICAgICAgdmlzaWJsZVswXS50byA9PSB2aWV3LnZpZXdwb3J0LnRvKVxuICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHZpc2libGUpIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKS5mcm9tLCBmcm9tIC0gbWF4TGVuZ3RoKTtcbiAgICAgICAgdG8gPSBNYXRoLm1pbih2aWV3LnN0YXRlLmRvYy5saW5lQXQodG8pLnRvLCB0byArIG1heExlbmd0aCk7XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0udG8gPj0gZnJvbSlcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0udG8gPSB0bztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuSGVscGVyIGNsYXNzIHVzZWQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gbWFpbnRhaW4gZGVjb3JhdGlvbnMgb25cbnZpc2libGUgY29kZSB0aGF0IG1hdGNoZXMgYSBnaXZlbiByZWd1bGFyIGV4cHJlc3Npb24uIFRvIGJlIHVzZWRcbmluIGEgW3ZpZXcgcGx1Z2luXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuVmlld1BsdWdpbikuIEluc3RhbmNlcyBvZiB0aGlzIG9iamVjdFxucmVwcmVzZW50IGEgbWF0Y2hpbmcgY29uZmlndXJhdGlvbi5cbiovXG5jbGFzcyBNYXRjaERlY29yYXRvciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgZGVjb3JhdG9yLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHsgcmVnZXhwLCBkZWNvcmF0aW9uLCBkZWNvcmF0ZSwgYm91bmRhcnksIG1heExlbmd0aCA9IDEwMDAgfSA9IGNvbmZpZztcbiAgICAgICAgaWYgKCFyZWdleHAuZ2xvYmFsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcmVndWxhciBleHByZXNzaW9uIGdpdmVuIHRvIE1hdGNoRGVjb3JhdG9yIHNob3VsZCBoYXZlIGl0cyAnZycgZmxhZyBzZXRcIik7XG4gICAgICAgIHRoaXMucmVnZXhwID0gcmVnZXhwO1xuICAgICAgICBpZiAoZGVjb3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2ggPSAobWF0Y2gsIHZpZXcsIGZyb20sIGFkZCkgPT4gZGVjb3JhdGUoYWRkLCBmcm9tLCBmcm9tICsgbWF0Y2hbMF0ubGVuZ3RoLCBtYXRjaCwgdmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlY29yYXRpb24gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCB2aWV3LCBmcm9tLCBhZGQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGVjbyA9IGRlY29yYXRpb24obWF0Y2gsIHZpZXcsIGZyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkZWNvKVxuICAgICAgICAgICAgICAgICAgICBhZGQoZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgZGVjbyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlY29yYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2ggPSAobWF0Y2gsIF92aWV3LCBmcm9tLCBhZGQpID0+IGFkZChmcm9tLCBmcm9tICsgbWF0Y2hbMF0ubGVuZ3RoLCBkZWNvcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRWl0aGVyICdkZWNvcmF0ZScgb3IgJ2RlY29yYXRpb24nIHNob3VsZCBiZSBwcm92aWRlZCB0byBNYXRjaERlY29yYXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5kYXJ5ID0gYm91bmRhcnk7XG4gICAgICAgIHRoaXMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wdXRlIHRoZSBmdWxsIHNldCBvZiBkZWNvcmF0aW9ucyBmb3IgbWF0Y2hlcyBpbiB0aGUgZ2l2ZW5cbiAgICB2aWV3J3Mgdmlld3BvcnQuIFlvdSdsbCB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIGluaXRpYWxpemluZyB5b3VyXG4gICAgcGx1Z2luLlxuICAgICovXG4gICAgY3JlYXRlRGVjbyh2aWV3KSB7XG4gICAgICAgIGxldCBidWlsZCA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKSwgYWRkID0gYnVpbGQuYWRkLmJpbmQoYnVpbGQpO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgbWF0Y2hSYW5nZXModmlldywgdGhpcy5tYXhMZW5ndGgpKVxuICAgICAgICAgICAgaXRlck1hdGNoZXModmlldy5zdGF0ZS5kb2MsIHRoaXMucmVnZXhwLCBmcm9tLCB0bywgKGZyb20sIG0pID0+IHRoaXMuYWRkTWF0Y2gobSwgdmlldywgZnJvbSwgYWRkKSk7XG4gICAgICAgIHJldHVybiBidWlsZC5maW5pc2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXBkYXRlIGEgc2V0IG9mIGRlY29yYXRpb25zIGZvciBhIHZpZXcgdXBkYXRlLiBgZGVjb2AgX211c3RfIGJlXG4gICAgdGhlIHNldCBvZiBkZWNvcmF0aW9ucyBwcm9kdWNlZCBieSBfdGhpc18gYE1hdGNoRGVjb3JhdG9yYCBmb3JcbiAgICB0aGUgdmlldyBzdGF0ZSBiZWZvcmUgdGhlIHVwZGF0ZS5cbiAgICAqL1xuICAgIHVwZGF0ZURlY28odXBkYXRlLCBkZWNvKSB7XG4gICAgICAgIGxldCBjaGFuZ2VGcm9tID0gMWU5LCBjaGFuZ2VUbyA9IC0xO1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB1cGRhdGUuY2hhbmdlcy5pdGVyQ2hhbmdlcygoX2YsIF90LCBmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0byA+PSB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tICYmIGZyb20gPD0gdXBkYXRlLnZpZXcudmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRnJvbSA9IE1hdGgubWluKGZyb20sIGNoYW5nZUZyb20pO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VUbyA9IE1hdGgubWF4KHRvLCBjaGFuZ2VUbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmICh1cGRhdGUudmlld3BvcnRNb3ZlZCB8fCBjaGFuZ2VUbyAtIGNoYW5nZUZyb20gPiAxMDAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRGVjbyh1cGRhdGUudmlldyk7XG4gICAgICAgIGlmIChjaGFuZ2VUbyA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlUmFuZ2UodXBkYXRlLnZpZXcsIGRlY28ubWFwKHVwZGF0ZS5jaGFuZ2VzKSwgY2hhbmdlRnJvbSwgY2hhbmdlVG8pO1xuICAgICAgICByZXR1cm4gZGVjbztcbiAgICB9XG4gICAgdXBkYXRlUmFuZ2UodmlldywgZGVjbywgdXBkYXRlRnJvbSwgdXBkYXRlVG8pIHtcbiAgICAgICAgZm9yIChsZXQgciBvZiB2aWV3LnZpc2libGVSYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gTWF0aC5tYXgoci5mcm9tLCB1cGRhdGVGcm9tKSwgdG8gPSBNYXRoLm1pbihyLnRvLCB1cGRhdGVUbyk7XG4gICAgICAgICAgICBpZiAodG8gPj0gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKSwgdG9MaW5lID0gZnJvbUxpbmUudG8gPCB0byA/IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh0bykgOiBmcm9tTGluZTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChyLmZyb20sIGZyb21MaW5lLmZyb20pLCBlbmQgPSBNYXRoLm1pbihyLnRvLCB0b0xpbmUudG8pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBmcm9tID4gZnJvbUxpbmUuZnJvbTsgZnJvbS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRhcnkudGVzdChmcm9tTGluZS50ZXh0W2Zyb20gLSAxIC0gZnJvbUxpbmUuZnJvbV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgdG8gPCB0b0xpbmUudG87IHRvKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZGFyeS50ZXN0KHRvTGluZS50ZXh0W3RvIC0gdG9MaW5lLmZyb21dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gW10sIG07XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IChmcm9tLCB0bywgZGVjbykgPT4gcmFuZ2VzLnB1c2goZGVjby5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tTGluZSA9PSB0b0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gc3RhcnQgLSBmcm9tTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSB0aGlzLnJlZ2V4cC5leGVjKGZyb21MaW5lLnRleHQpKSAmJiBtLmluZGV4IDwgZW5kIC0gZnJvbUxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2gobSwgdmlldywgbS5pbmRleCArIGZyb21MaW5lLmZyb20sIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVyTWF0Y2hlcyh2aWV3LnN0YXRlLmRvYywgdGhpcy5yZWdleHAsIHN0YXJ0LCBlbmQsIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvID0gZGVjby51cGRhdGUoeyBmaWx0ZXJGcm9tOiBzdGFydCwgZmlsdGVyVG86IGVuZCwgZmlsdGVyOiAoZnJvbSwgdG8pID0+IGZyb20gPCBzdGFydCB8fCB0byA+IGVuZCwgYWRkOiByYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxufVxuXG5jb25zdCBVbmljb2RlUmVnZXhwU3VwcG9ydCA9IC94Ly51bmljb2RlICE9IG51bGwgPyBcImd1XCIgOiBcImdcIjtcbmNvbnN0IFNwZWNpYWxzID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFx1MDAwMC1cXHUwMDA4XFx1MDAwYS1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MWNcXHUyMDBiXFx1MjAwZVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMmRcXHUyMDJlXFx1MjA2NlxcdTIwNjdcXHUyMDY5XFx1ZmVmZlxcdWZmZjktXFx1ZmZmY11cIiwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuY29uc3QgTmFtZXMgPSB7XG4gICAgMDogXCJudWxsXCIsXG4gICAgNzogXCJiZWxsXCIsXG4gICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAxMDogXCJuZXdsaW5lXCIsXG4gICAgMTE6IFwidmVydGljYWwgdGFiXCIsXG4gICAgMTM6IFwiY2FycmlhZ2UgcmV0dXJuXCIsXG4gICAgMjc6IFwiZXNjYXBlXCIsXG4gICAgODIwMzogXCJ6ZXJvIHdpZHRoIHNwYWNlXCIsXG4gICAgODIwNDogXCJ6ZXJvIHdpZHRoIG5vbi1qb2luZXJcIixcbiAgICA4MjA1OiBcInplcm8gd2lkdGggam9pbmVyXCIsXG4gICAgODIwNjogXCJsZWZ0LXRvLXJpZ2h0IG1hcmtcIixcbiAgICA4MjA3OiBcInJpZ2h0LXRvLWxlZnQgbWFya1wiLFxuICAgIDgyMzI6IFwibGluZSBzZXBhcmF0b3JcIixcbiAgICA4MjM3OiBcImxlZnQtdG8tcmlnaHQgb3ZlcnJpZGVcIixcbiAgICA4MjM4OiBcInJpZ2h0LXRvLWxlZnQgb3ZlcnJpZGVcIixcbiAgICA4Mjk0OiBcImxlZnQtdG8tcmlnaHQgaXNvbGF0ZVwiLFxuICAgIDgyOTU6IFwicmlnaHQtdG8tbGVmdCBpc29sYXRlXCIsXG4gICAgODI5NzogXCJwb3AgZGlyZWN0aW9uYWwgaXNvbGF0ZVwiLFxuICAgIDgyMzM6IFwicGFyYWdyYXBoIHNlcGFyYXRvclwiLFxuICAgIDY1Mjc5OiBcInplcm8gd2lkdGggbm8tYnJlYWsgc3BhY2VcIixcbiAgICA2NTUzMjogXCJvYmplY3QgcmVwbGFjZW1lbnRcIlxufTtcbmxldCBfc3VwcG9ydHNUYWJTaXplID0gbnVsbDtcbmZ1bmN0aW9uIHN1cHBvcnRzVGFiU2l6ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKF9zdXBwb3J0c1RhYlNpemUgPT0gbnVsbCAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCBzdHlsZXMgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICBfc3VwcG9ydHNUYWJTaXplID0gKChfYSA9IHN0eWxlcy50YWJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzdHlsZXMuTW96VGFiU2l6ZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9zdXBwb3J0c1RhYlNpemUgfHwgZmFsc2U7XG59XG5jb25zdCBzcGVjaWFsQ2hhckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgY29uZmlnID0gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgICAgICBzcGVjaWFsQ2hhcnM6IFNwZWNpYWxzLFxuICAgICAgICAgICAgYWRkU3BlY2lhbENoYXJzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnJlcGxhY2VUYWJzID0gIXN1cHBvcnRzVGFiU2l6ZSgpKVxuICAgICAgICAgICAgY29uZmlnLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAoXCJcXHR8XCIgKyBjb25maWcuc3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICBpZiAoY29uZmlnLmFkZFNwZWNpYWxDaGFycylcbiAgICAgICAgICAgIGNvbmZpZy5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKGNvbmZpZy5zcGVjaWFsQ2hhcnMuc291cmNlICsgXCJ8XCIgKyBjb25maWcuYWRkU3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGluc3RhbGxzIGhpZ2hsaWdodGluZyBvZiBzcGVjaWFsXG5jaGFyYWN0ZXJzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFNwZWNpYWxDaGFycyhcbi8qKlxuQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuKi9cbmNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtzcGVjaWFsQ2hhckNvbmZpZy5vZihjb25maWcpLCBzcGVjaWFsQ2hhclBsdWdpbigpXTtcbn1cbmxldCBfcGx1Z2luID0gbnVsbDtcbmZ1bmN0aW9uIHNwZWNpYWxDaGFyUGx1Z2luKCkge1xuICAgIHJldHVybiBfcGx1Z2luIHx8IChfcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbkNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKHZpZXcuc3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VEZWNvcmF0b3IoY29uZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRjaERlY29yYXRvcih7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjb25mLnNwZWNpYWxDaGFycyxcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiAobSwgdmlldywgcG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGRvYyB9ID0gdmlldy5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb2RlUG9pbnRBdChtWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBkb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHZpZXcuc3RhdGUudGFiU2l6ZSwgY29sID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBzaXplLCBwb3MgLSBsaW5lLmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ucmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBuZXcgVGFiV2lkZ2V0KChzaXplIC0gKGNvbCAlIHNpemUpKSAqIHRoaXMudmlldy5kZWZhdWx0Q2hhcmFjdGVyV2lkdGggLyB0aGlzLnZpZXcuc2NhbGVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbkNhY2hlW2NvZGVdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5kZWNvcmF0aW9uQ2FjaGVbY29kZV0gPSBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBTcGVjaWFsQ2hhcldpZGdldChjb25mLCBjb2RlKSB9KSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib3VuZGFyeTogY29uZi5yZXBsYWNlVGFicyA/IHVuZGVmaW5lZCA6IC9bXl0vXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBsZXQgY29uZiA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZyk7XG4gICAgICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpICE9IGNvbmYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRvciA9IHRoaXMubWFrZURlY29yYXRvcihjb25mKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IuY3JlYXRlRGVjbyh1cGRhdGUudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0b3IudXBkYXRlRGVjbyh1cGRhdGUsIHRoaXMuZGVjb3JhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG4gICAgfSkpO1xufVxuY29uc3QgRGVmYXVsdFBsYWNlaG9sZGVyID0gXCJcXHUyMDIyXCI7XG4vLyBBc3NpZ25zIHBsYWNlaG9sZGVyIGNoYXJhY3RlcnMgZnJvbSB0aGUgQ29udHJvbCBQaWN0dXJlcyBibG9jayB0b1xuLy8gQVNDSUkgY29udHJvbCBjaGFyYWN0ZXJzXG5mdW5jdGlvbiBwbGFjZWhvbGRlciQxKGNvZGUpIHtcbiAgICBpZiAoY29kZSA+PSAzMilcbiAgICAgICAgcmV0dXJuIERlZmF1bHRQbGFjZWhvbGRlcjtcbiAgICBpZiAoY29kZSA9PSAxMClcbiAgICAgICAgcmV0dXJuIFwiXFx1MjQyNFwiO1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDkyMTYgKyBjb2RlKTtcbn1cbmNsYXNzIFNwZWNpYWxDaGFyV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY29kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuY29kZSA9PSB0aGlzLmNvZGU7IH1cbiAgICB0b0RPTSh2aWV3KSB7XG4gICAgICAgIGxldCBwaCA9IHBsYWNlaG9sZGVyJDEodGhpcy5jb2RlKTtcbiAgICAgICAgbGV0IGRlc2MgPSB2aWV3LnN0YXRlLnBocmFzZShcIkNvbnRyb2wgY2hhcmFjdGVyXCIpICsgXCIgXCIgKyAoTmFtZXNbdGhpcy5jb2RlXSB8fCBcIjB4XCIgKyB0aGlzLmNvZGUudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMub3B0aW9ucy5yZW5kZXIgJiYgdGhpcy5vcHRpb25zLnJlbmRlcih0aGlzLmNvZGUsIGRlc2MsIHBoKTtcbiAgICAgICAgaWYgKGN1c3RvbSlcbiAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBwaDtcbiAgICAgICAgc3Bhbi50aXRsZSA9IGRlc2M7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBkZXNjKTtcbiAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLXNwZWNpYWxDaGFyXCI7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5jbGFzcyBUYWJXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci53aWR0aCA9PSB0aGlzLndpZHRoOyB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIlxcdFwiO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tdGFiXCI7XG4gICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG4gICAgaWdub3JlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuXG5jb25zdCBwbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IDEwMDA7XG4gICAgICAgIHRoaXMuYXR0cnMgPSB7IHN0eWxlOiBcInBhZGRpbmctYm90dG9tOiAxMDAwcHhcIiB9O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHVwZGF0ZTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHZpZXcudmlld1N0YXRlLmVkaXRvckhlaWdodCAtXG4gICAgICAgICAgICB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC0gdmlldy5kb2N1bWVudFBhZGRpbmcudG9wIC0gMC41O1xuICAgICAgICBpZiAoaGVpZ2h0ID49IDAgJiYgaGVpZ2h0ICE9IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSB7IHN0eWxlOiBgcGFkZGluZy1ib3R0b206ICR7aGVpZ2h0fXB4YCB9O1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgbWFrZXMgc3VyZSB0aGUgY29udGVudCBoYXMgYSBib3R0b21cbm1hcmdpbiBlcXVpdmFsZW50IHRvIHRoZSBoZWlnaHQgb2YgdGhlIGVkaXRvciwgbWludXMgb25lIGxpbmVcbmhlaWdodCwgc28gdGhhdCBldmVyeSBsaW5lIGluIHRoZSBkb2N1bWVudCBjYW4gYmUgc2Nyb2xsZWQgdG8gdGhlXG50b3Agb2YgdGhlIGVkaXRvci5cblxuVGhpcyBpcyBvbmx5IG1lYW5pbmdmdWwgd2hlbiB0aGUgZWRpdG9yIGlzIHNjcm9sbGFibGUsIGFuZCBzaG91bGRcbm5vdCBiZSBlbmFibGVkIGluIGVkaXRvcnMgdGhhdCB0YWtlIHRoZSBzaXplIG9mIHRoZWlyIGNvbnRlbnQuXG4qL1xuZnVuY3Rpb24gc2Nyb2xsUGFzdEVuZCgpIHtcbiAgICByZXR1cm4gW3BsdWdpbiwgY29udGVudEF0dHJpYnV0ZXMub2YodmlldyA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSB2aWV3LnBsdWdpbihwbHVnaW4pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXR0cnMpIHx8IG51bGw7IH0pXTtcbn1cblxuLyoqXG5NYXJrIGxpbmVzIHRoYXQgaGF2ZSBhIGN1cnNvciBvbiB0aGVtIHdpdGggdGhlIGBcImNtLWFjdGl2ZUxpbmVcImBcbkRPTSBjbGFzcy5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRBY3RpdmVMaW5lKCkge1xuICAgIHJldHVybiBhY3RpdmVMaW5lSGlnaGxpZ2h0ZXI7XG59XG5jb25zdCBsaW5lRGVjbyA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLmxpbmUoeyBjbGFzczogXCJjbS1hY3RpdmVMaW5lXCIgfSk7XG5jb25zdCBhY3RpdmVMaW5lSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZ2V0RGVjbyh2aWV3KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLnNlbGVjdGlvblNldClcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmdldERlY28odXBkYXRlLnZpZXcpO1xuICAgIH1cbiAgICBnZXREZWNvKHZpZXcpIHtcbiAgICAgICAgbGV0IGxhc3RMaW5lU3RhcnQgPSAtMSwgZGVjbyA9IFtdO1xuICAgICAgICBmb3IgKGxldCByIG9mIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHIuaGVhZCk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID4gbGFzdExpbmVTdGFydCkge1xuICAgICAgICAgICAgICAgIGRlY28ucHVzaChsaW5lRGVjby5yYW5nZShsaW5lLmZyb20pKTtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVN0YXJ0ID0gbGluZS5mcm9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvKTtcbiAgICB9XG59LCB7XG4gICAgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9uc1xufSk7XG5cbmNsYXNzIFBsYWNlaG9sZGVyIGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IoY29udGVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbiAgICB0b0RPTSh2aWV3KSB7XG4gICAgICAgIGxldCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHdyYXAuY2xhc3NOYW1lID0gXCJjbS1wbGFjZWhvbGRlclwiO1xuICAgICAgICB3cmFwLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZCh0eXBlb2YgdGhpcy5jb250ZW50ID09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmNvbnRlbnQpIDpcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmNvbnRlbnQgPT0gXCJmdW5jdGlvblwiID8gdGhpcy5jb250ZW50KHZpZXcpIDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgd3JhcC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgIHJldHVybiB3cmFwO1xuICAgIH1cbiAgICBjb29yZHNBdChkb20pIHtcbiAgICAgICAgbGV0IHJlY3RzID0gZG9tLmZpcnN0Q2hpbGQgPyBjbGllbnRSZWN0c0Zvcihkb20uZmlyc3RDaGlsZCkgOiBbXTtcbiAgICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tLnBhcmVudE5vZGUpO1xuICAgICAgICBsZXQgcmVjdCA9IGZsYXR0ZW5SZWN0KHJlY3RzWzBdLCBzdHlsZS5kaXJlY3Rpb24gIT0gXCJydGxcIik7XG4gICAgICAgIGxldCBsaW5lSGVpZ2h0ID0gcGFyc2VJbnQoc3R5bGUubGluZUhlaWdodCk7XG4gICAgICAgIGlmIChyZWN0LmJvdHRvbSAtIHJlY3QudG9wID4gbGluZUhlaWdodCAqIDEuNSlcbiAgICAgICAgICAgIHJldHVybiB7IGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QucmlnaHQsIHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC50b3AgKyBsaW5lSGVpZ2h0IH07XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG4vKipcbkV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgYSBwbGFjZWhvbGRlclx1MjAxNGEgcGllY2Ugb2YgZXhhbXBsZSBjb250ZW50XG50byBzaG93IHdoZW4gdGhlIGVkaXRvciBpcyBlbXB0eS5cbiovXG5mdW5jdGlvbiBwbGFjZWhvbGRlcihjb250ZW50KSB7XG4gICAgbGV0IHBsdWdpbiA9IFZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICAgICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBjb250ZW50XG4gICAgICAgICAgICAgICAgPyBEZWNvcmF0aW9uLnNldChbRGVjb3JhdGlvbi53aWRnZXQoeyB3aWRnZXQ6IG5ldyBQbGFjZWhvbGRlcihjb250ZW50KSwgc2lkZTogMSB9KS5yYW5nZSgwKV0pXG4gICAgICAgICAgICAgICAgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGRlY29yYXRpb25zKCkgeyByZXR1cm4gdGhpcy52aWV3LnN0YXRlLmRvYy5sZW5ndGggPyBEZWNvcmF0aW9uLm5vbmUgOiB0aGlzLnBsYWNlaG9sZGVyOyB9XG4gICAgfSwgeyBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zIH0pO1xuICAgIHJldHVybiB0eXBlb2YgY29udGVudCA9PSBcInN0cmluZ1wiID8gW1xuICAgICAgICBwbHVnaW4sIEVkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMub2YoeyBcImFyaWEtcGxhY2Vob2xkZXJcIjogY29udGVudCB9KVxuICAgIF0gOiBwbHVnaW47XG59XG5cbi8vIERvbid0IGNvbXB1dGUgcHJlY2lzZSBjb2x1bW4gcG9zaXRpb25zIGZvciBsaW5lIG9mZnNldHMgYWJvdmUgdGhpc1xuLy8gKHNpbmNlIGl0IGNvdWxkIGdldCBleHBlbnNpdmUpLiBBc3N1bWUgb2Zmc2V0PT1jb2x1bW4gZm9yIHRoZW0uXG5jb25zdCBNYXhPZmYgPSAyMDAwO1xuZnVuY3Rpb24gcmVjdGFuZ2xlRm9yKHN0YXRlLCBhLCBiKSB7XG4gICAgbGV0IHN0YXJ0TGluZSA9IE1hdGgubWluKGEubGluZSwgYi5saW5lKSwgZW5kTGluZSA9IE1hdGgubWF4KGEubGluZSwgYi5saW5lKTtcbiAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgaWYgKGEub2ZmID4gTWF4T2ZmIHx8IGIub2ZmID4gTWF4T2ZmIHx8IGEuY29sIDwgMCB8fCBiLmNvbCA8IDApIHtcbiAgICAgICAgbGV0IHN0YXJ0T2ZmID0gTWF0aC5taW4oYS5vZmYsIGIub2ZmKSwgZW5kT2ZmID0gTWF0aC5tYXgoYS5vZmYsIGIub2ZmKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0TGluZTsgaSA8PSBlbmRMaW5lOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmUoaSk7XG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPD0gZW5kT2ZmKVxuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKEVkaXRvclNlbGVjdGlvbi5yYW5nZShsaW5lLmZyb20gKyBzdGFydE9mZiwgbGluZS50byArIGVuZE9mZikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgc3RhcnRDb2wgPSBNYXRoLm1pbihhLmNvbCwgYi5jb2wpLCBlbmRDb2wgPSBNYXRoLm1heChhLmNvbCwgYi5jb2wpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShpKTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IGZpbmRDb2x1bW4obGluZS50ZXh0LCBzdGFydENvbCwgc3RhdGUudGFiU2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihsaW5lLnRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kID0gZmluZENvbHVtbihsaW5lLnRleHQsIGVuZENvbCwgc3RhdGUudGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGxpbmUuZnJvbSArIHN0YXJ0LCBsaW5lLmZyb20gKyBlbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuZnVuY3Rpb24gYWJzb2x1dGVDb2x1bW4odmlldywgeCkge1xuICAgIGxldCByZWYgPSB2aWV3LmNvb3Jkc0F0UG9zKHZpZXcudmlld3BvcnQuZnJvbSk7XG4gICAgcmV0dXJuIHJlZiA/IE1hdGgucm91bmQoTWF0aC5hYnMoKHJlZi5sZWZ0IC0geCkgLyB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCkpIDogLTE7XG59XG5mdW5jdGlvbiBnZXRQb3ModmlldywgZXZlbnQpIHtcbiAgICBsZXQgb2Zmc2V0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KG9mZnNldCksIG9mZiA9IG9mZnNldCAtIGxpbmUuZnJvbTtcbiAgICBsZXQgY29sID0gb2ZmID4gTWF4T2ZmID8gLTFcbiAgICAgICAgOiBvZmYgPT0gbGluZS5sZW5ndGggPyBhYnNvbHV0ZUNvbHVtbih2aWV3LCBldmVudC5jbGllbnRYKVxuICAgICAgICAgICAgOiBjb3VudENvbHVtbihsaW5lLnRleHQsIHZpZXcuc3RhdGUudGFiU2l6ZSwgb2Zmc2V0IC0gbGluZS5mcm9tKTtcbiAgICByZXR1cm4geyBsaW5lOiBsaW5lLm51bWJlciwgY29sLCBvZmYgfTtcbn1cbmZ1bmN0aW9uIHJlY3RhbmdsZVNlbGVjdGlvblN0eWxlKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gZ2V0UG9zKHZpZXcsIGV2ZW50KSwgc3RhcnRTZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoIXN0YXJ0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U3RhcnQgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModXBkYXRlLnN0YXJ0U3RhdGUuZG9jLmxpbmUoc3RhcnQubGluZSkuZnJvbSk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0xpbmUgPSB1cGRhdGUuc3RhdGUuZG9jLmxpbmVBdChuZXdTdGFydCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB7IGxpbmU6IG5ld0xpbmUubnVtYmVyLCBjb2w6IHN0YXJ0LmNvbCwgb2ZmOiBNYXRoLm1pbihzdGFydC5vZmYsIG5ld0xpbmUubGVuZ3RoKSB9O1xuICAgICAgICAgICAgICAgIHN0YXJ0U2VsID0gc3RhcnRTZWwubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KGV2ZW50LCBfZXh0ZW5kLCBtdWx0aXBsZSkge1xuICAgICAgICAgICAgbGV0IGN1ciA9IGdldFBvcyh2aWV3LCBldmVudCk7XG4gICAgICAgICAgICBpZiAoIWN1cilcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRTZWw7XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gcmVjdGFuZ2xlRm9yKHZpZXcuc3RhdGUsIHN0YXJ0LCBjdXIpO1xuICAgICAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbDtcbiAgICAgICAgICAgIGlmIChtdWx0aXBsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMuY29uY2F0KHN0YXJ0U2VsLnJhbmdlcykpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG5DcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyByZWN0YW5ndWxhciBzZWxlY3Rpb25zLiBCeVxuZGVmYXVsdCwgaXQgd2lsbCByZWFjdCB0byBsZWZ0IG1vdXNlIGRyYWcgd2l0aCB0aGUgQWx0IGtleSBoZWxkXG5kb3duLiBXaGVuIHN1Y2ggYSBzZWxlY3Rpb24gb2NjdXJzLCB0aGUgdGV4dCB3aXRoaW4gdGhlIHJlY3RhbmdsZVxudGhhdCB3YXMgZHJhZ2dlZCBvdmVyIHdpbGwgYmUgc2VsZWN0ZWQsIGFzIG9uZSBzZWxlY3Rpb25cbltyYW5nZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZSkgcGVyIGxpbmUuXG4qL1xuZnVuY3Rpb24gcmVjdGFuZ3VsYXJTZWxlY3Rpb24ob3B0aW9ucykge1xuICAgIGxldCBmaWx0ZXIgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmV2ZW50RmlsdGVyKSB8fCAoZSA9PiBlLmFsdEtleSAmJiBlLmJ1dHRvbiA9PSAwKTtcbiAgICByZXR1cm4gRWRpdG9yVmlldy5tb3VzZVNlbGVjdGlvblN0eWxlLm9mKCh2aWV3LCBldmVudCkgPT4gZmlsdGVyKGV2ZW50KSA/IHJlY3RhbmdsZVNlbGVjdGlvblN0eWxlKHZpZXcsIGV2ZW50KSA6IG51bGwpO1xufVxuY29uc3Qga2V5cyA9IHtcbiAgICBBbHQ6IFsxOCwgZSA9PiAhIWUuYWx0S2V5XSxcbiAgICBDb250cm9sOiBbMTcsIGUgPT4gISFlLmN0cmxLZXldLFxuICAgIFNoaWZ0OiBbMTYsIGUgPT4gISFlLnNoaWZ0S2V5XSxcbiAgICBNZXRhOiBbOTEsIGUgPT4gISFlLm1ldGFLZXldXG59O1xuY29uc3Qgc2hvd0Nyb3NzaGFpciA9IHsgc3R5bGU6IFwiY3Vyc29yOiBjcm9zc2hhaXJcIiB9O1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IHR1cm5zIHRoZSBwb2ludGVyIGN1cnNvciBpbnRvIGFcbmNyb3NzaGFpciB3aGVuIGEgZ2l2ZW4gbW9kaWZpZXIga2V5LCBkZWZhdWx0aW5nIHRvIEFsdCwgaXMgaGVsZFxuZG93bi4gQ2FuIHNlcnZlIGFzIGEgdmlzdWFsIGhpbnQgdGhhdCByZWN0YW5ndWxhciBzZWxlY3Rpb24gaXNcbmdvaW5nIHRvIGhhcHBlbiB3aGVuIHBhaXJlZCB3aXRoXG5bYHJlY3Rhbmd1bGFyU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LnJlY3Rhbmd1bGFyU2VsZWN0aW9uKS5cbiovXG5mdW5jdGlvbiBjcm9zc2hhaXJDdXJzb3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IFtjb2RlLCBnZXR0ZXJdID0ga2V5c1tvcHRpb25zLmtleSB8fCBcIkFsdFwiXTtcbiAgICBsZXQgcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQoaXNEb3duKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rvd24gIT0gaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBpc0Rvd247XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgICAgICBrZXlkb3duKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlLmtleUNvZGUgPT0gY29kZSB8fCBnZXR0ZXIoZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleXVwKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IGNvZGUgfHwgIWdldHRlcihlKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vdXNlbW92ZShlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZ2V0dGVyKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIHBsdWdpbixcbiAgICAgICAgRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcy5vZih2aWV3ID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0Rvd24pID8gc2hvd0Nyb3NzaGFpciA6IG51bGw7IH0pXG4gICAgXTtcbn1cblxuY29uc3QgT3V0c2lkZSA9IFwiLTEwMDAwcHhcIjtcbmNsYXNzIFRvb2x0aXBWaWV3TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IodmlldywgZmFjZXQsIGNyZWF0ZVRvb2x0aXBWaWV3LCByZW1vdmVUb29sdGlwVmlldykge1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMuY3JlYXRlVG9vbHRpcFZpZXcgPSBjcmVhdGVUb29sdGlwVmlldztcbiAgICAgICAgdGhpcy5yZW1vdmVUb29sdGlwVmlldyA9IHJlbW92ZVRvb2x0aXBWaWV3O1xuICAgICAgICB0aGlzLmlucHV0ID0gdmlldy5zdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgIHRoaXMudG9vbHRpcHMgPSB0aGlzLmlucHV0LmZpbHRlcih0ID0+IHQpO1xuICAgICAgICBsZXQgcHJldiA9IG51bGw7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdGhpcy50b29sdGlwcy5tYXAodCA9PiBwcmV2ID0gY3JlYXRlVG9vbHRpcFZpZXcodCwgcHJldikpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlLCBhYm92ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0aGlzLmZhY2V0KTtcbiAgICAgICAgbGV0IHRvb2x0aXBzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICBpZiAodC51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHQudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRvb2x0aXBWaWV3cyA9IFtdLCBuZXdBYm92ZSA9IGFib3ZlID8gW10gOiBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlwID0gdG9vbHRpcHNbaV0sIGtub3duID0gLTE7XG4gICAgICAgICAgICBpZiAoIXRpcClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IHRoaXMudG9vbHRpcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyICYmIG90aGVyLmNyZWF0ZSA9PSB0aXAuY3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICBrbm93biA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcFZpZXdzW2ldID0gdGhpcy5jcmVhdGVUb29sdGlwVmlldyh0aXAsIGkgPyB0b29sdGlwVmlld3NbaSAtIDFdIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0Fib3ZlKVxuICAgICAgICAgICAgICAgICAgICBuZXdBYm92ZVtpXSA9ICEhdGlwLmFib3ZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvb2x0aXBWaWV3ID0gdG9vbHRpcFZpZXdzW2ldID0gdGhpcy50b29sdGlwVmlld3Nba25vd25dO1xuICAgICAgICAgICAgICAgIGlmIChuZXdBYm92ZSlcbiAgICAgICAgICAgICAgICAgICAgbmV3QWJvdmVbaV0gPSBhYm92ZVtrbm93bl07XG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBWaWV3LnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIGlmICh0b29sdGlwVmlld3MuaW5kZXhPZih0KSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRvb2x0aXBWaWV3KHQpO1xuICAgICAgICAgICAgICAgIChfYSA9IHQuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChhYm92ZSkge1xuICAgICAgICAgICAgbmV3QWJvdmUuZm9yRWFjaCgodmFsLCBpKSA9PiBhYm92ZVtpXSA9IHZhbCk7XG4gICAgICAgICAgICBhYm92ZS5sZW5ndGggPSBuZXdBYm92ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnRvb2x0aXBzID0gdG9vbHRpcHM7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdG9vbHRpcFZpZXdzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vKipcbkNyZWF0ZXMgYW4gZXh0ZW5zaW9uIHRoYXQgY29uZmlndXJlcyB0b29sdGlwIGJlaGF2aW9yLlxuKi9cbmZ1bmN0aW9uIHRvb2x0aXBzKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIHRvb2x0aXBDb25maWcub2YoY29uZmlnKTtcbn1cbmZ1bmN0aW9uIHdpbmRvd1NwYWNlKHZpZXcpIHtcbiAgICBsZXQgZG9jRWx0ID0gdmlldy5kb20ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IGRvY0VsdC5jbGllbnRIZWlnaHQsIHJpZ2h0OiBkb2NFbHQuY2xpZW50V2lkdGggfTtcbn1cbmNvbnN0IHRvb2x0aXBDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICBwb3NpdGlvbjogYnJvd3Nlci5pb3MgPyBcImFic29sdXRlXCIgOiAoKF9hID0gdmFsdWVzLmZpbmQoY29uZiA9PiBjb25mLnBvc2l0aW9uKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc2l0aW9uKSB8fCBcImZpeGVkXCIsXG4gICAgICAgICAgICBwYXJlbnQ6ICgoX2IgPSB2YWx1ZXMuZmluZChjb25mID0+IGNvbmYucGFyZW50KSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhcmVudCkgfHwgbnVsbCxcbiAgICAgICAgICAgIHRvb2x0aXBTcGFjZTogKChfYyA9IHZhbHVlcy5maW5kKGNvbmYgPT4gY29uZi50b29sdGlwU3BhY2UpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9vbHRpcFNwYWNlKSB8fCB3aW5kb3dTcGFjZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCBrbm93bkhlaWdodCA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuY29uc3QgdG9vbHRpcFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmFib3ZlID0gW107XG4gICAgICAgIHRoaXMuaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYWRlQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY29uZmlnLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNvbmZpZy5wYXJlbnQ7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IHZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHRoaXMucmVhZE1lYXN1cmUuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMud3JpdGVNZWFzdXJlLmJpbmQodGhpcyksIGtleTogdGhpcyB9O1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gdHlwZW9mIFJlc2l6ZU9ic2VydmVyID09IFwiZnVuY3Rpb25cIiA/IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB0aGlzLm1lYXN1cmVTb29uKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5tYW5hZ2VyID0gbmV3IFRvb2x0aXBWaWV3TWFuYWdlcih2aWV3LCBzaG93VG9vbHRpcCwgKHQsIHApID0+IHRoaXMuY3JlYXRlVG9vbHRpcCh0LCBwKSwgdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcilcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZSh0LmRvbSk7XG4gICAgICAgICAgICB0LmRvbS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWJvdmUgPSB0aGlzLm1hbmFnZXIudG9vbHRpcHMubWFwKHQgPT4gISF0LmFib3ZlKTtcbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIgPyBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSA+IHRoaXMubGFzdFRyYW5zYWN0aW9uIC0gNTAgJiZcbiAgICAgICAgICAgICAgICBlbnRyaWVzLmxlbmd0aCA+IDAgJiYgZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdLmludGVyc2VjdGlvblJhdGlvIDwgMSlcbiAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVTb29uKCk7XG4gICAgICAgIH0sIHsgdGhyZXNob2xkOiBbMV0gfSkgOiBudWxsO1xuICAgICAgICB0aGlzLm9ic2VydmVJbnRlcnNlY3Rpb24oKTtcbiAgICAgICAgdmlldy53aW4uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm1lYXN1cmVTb29uID0gdGhpcy5tZWFzdXJlU29vbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICB9XG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy52aWV3LnRoZW1lQ2xhc3NlcztcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy52aWV3LmRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvYnNlcnZlSW50ZXJzZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCB0b29sdGlwIG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRvb2x0aXAuZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtZWFzdXJlU29vbigpIHtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLm1heWJlTWVhc3VyZSgpO1xuICAgICAgICAgICAgfSwgNTApO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMubGFzdFRyYW5zYWN0aW9uID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHVwZGF0ZWQgPSB0aGlzLm1hbmFnZXIudXBkYXRlKHVwZGF0ZSwgdGhpcy5hYm92ZSk7XG4gICAgICAgIGlmICh1cGRhdGVkKVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW50ZXJzZWN0aW9uKCk7XG4gICAgICAgIGxldCBzaG91bGRNZWFzdXJlID0gdXBkYXRlZCB8fCB1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkO1xuICAgICAgICBsZXQgbmV3Q29uZmlnID0gdXBkYXRlLnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpO1xuICAgICAgICBpZiAobmV3Q29uZmlnLnBvc2l0aW9uICE9IHRoaXMucG9zaXRpb24gJiYgIXRoaXMubWFkZUFic29sdXRlKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3Q29uZmlnLnBvc2l0aW9uO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHQuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgICAgIHNob3VsZE1lYXN1cmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdDb25maWcucGFyZW50ICE9IHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IG5ld0NvbmZpZy5wYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHQuZG9tKTtcbiAgICAgICAgICAgIHNob3VsZE1lYXN1cmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMudmlldy50aGVtZUNsYXNzZXMgIT0gdGhpcy5jbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRNZWFzdXJlKVxuICAgICAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICB9XG4gICAgY3JlYXRlVG9vbHRpcCh0b29sdGlwLCBwcmV2KSB7XG4gICAgICAgIGxldCB0b29sdGlwVmlldyA9IHRvb2x0aXAuY3JlYXRlKHRoaXMudmlldyk7XG4gICAgICAgIGxldCBiZWZvcmUgPSBwcmV2ID8gcHJldi5kb20gOiBudWxsO1xuICAgICAgICB0b29sdGlwVmlldy5kb20uY2xhc3NMaXN0LmFkZChcImNtLXRvb2x0aXBcIik7XG4gICAgICAgIGlmICh0b29sdGlwLmFycm93ICYmICF0b29sdGlwVmlldy5kb20ucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwID4gLmNtLXRvb2x0aXAtYXJyb3dcIikpIHtcbiAgICAgICAgICAgIGxldCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBhcnJvdy5jbGFzc05hbWUgPSBcImNtLXRvb2x0aXAtYXJyb3dcIjtcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3LmRvbS5hcHBlbmRDaGlsZChhcnJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRvb2x0aXBWaWV3LmRvbSwgYmVmb3JlKTtcbiAgICAgICAgaWYgKHRvb2x0aXBWaWV3Lm1vdW50KVxuICAgICAgICAgICAgdG9vbHRpcFZpZXcubW91bnQodGhpcy52aWV3KTtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplT2JzZXJ2ZXIpXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodG9vbHRpcFZpZXcuZG9tKTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBWaWV3O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdGhpcy52aWV3Lndpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMubWVhc3VyZVNvb24pO1xuICAgICAgICBmb3IgKGxldCB0b29sdGlwVmlldyBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKSB7XG4gICAgICAgICAgICB0b29sdGlwVmlldy5kb20ucmVtb3ZlKCk7XG4gICAgICAgICAgICAoX2EgPSB0b29sdGlwVmlldy5kZXN0cm95KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0b29sdGlwVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIChfYiA9IHRoaXMucmVzaXplT2JzZXJ2ZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYyA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1lYXN1cmVUaW1lb3V0KTtcbiAgICB9XG4gICAgcmVhZE1lYXN1cmUoKSB7XG4gICAgICAgIGxldCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxLCBtYWtlQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gXCJmaXhlZFwiICYmIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyBkb20gfSA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbMF07XG4gICAgICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbykge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggc2V0cyB0aGUgZWxlbWVudCdzIGBvZmZzZXRQYXJlbnRgIHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybWVkIGVsZW1lbnQgd2hlbiBhIHRyYW5zZm9ybSBpbnRlcmZlcmVzIHdpdGggZml4ZWRcbiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbmluZy5cbiAgICAgICAgICAgICAgICBtYWtlQWJzb2x1dGUgPSBkb20ub2Zmc2V0UGFyZW50ICE9IHRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbS5zdHlsZS50b3AgPT0gT3V0c2lkZSAmJiBkb20uc3R5bGUubGVmdCA9PSBcIjBweFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gT24gb3RoZXIgYnJvd3NlcnMsIHdlIGhhdmUgdG8gYXdrd2FyZGx5IHRyeSBhbmQgdXNlIG90aGVyXG4gICAgICAgICAgICAgICAgLy8gaW5mb3JtYXRpb24gdG8gZGV0ZWN0IGEgdHJhbnNmb3JtLlxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIG1ha2VBYnNvbHV0ZSA9IE1hdGguYWJzKHJlY3QudG9wICsgMTAwMDApID4gMSB8fCBNYXRoLmFicyhyZWN0LmxlZnQpID4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFrZUFic29sdXRlIHx8IHRoaXMucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMucGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlWCA9IHJlY3Qud2lkdGggLyB0aGlzLnBhcmVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVZID0gcmVjdC5oZWlnaHQgLyB0aGlzLnBhcmVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHsgc2NhbGVYLCBzY2FsZVkgfSA9IHRoaXMudmlldy52aWV3U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB2aXNpYmxlID0gdGhpcy52aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbWFyZ2lucyA9IGdldFNjcm9sbE1hcmdpbnModGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZpc2libGU6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiB2aXNpYmxlLmxlZnQgKyBtYXJnaW5zLmxlZnQsIHRvcDogdmlzaWJsZS50b3AgKyBtYXJnaW5zLnRvcCxcbiAgICAgICAgICAgICAgICByaWdodDogdmlzaWJsZS5yaWdodCAtIG1hcmdpbnMucmlnaHQsIGJvdHRvbTogdmlzaWJsZS5ib3R0b20gLSBtYXJnaW5zLmJvdHRvbVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5wYXJlbnQgPyB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHRoaXMudmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBwb3M6IHRoaXMubWFuYWdlci50b29sdGlwcy5tYXAoKHQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdHYgPSB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiB0di5nZXRDb29yZHMgPyB0di5nZXRDb29yZHModC5wb3MpIDogdGhpcy52aWV3LmNvb3Jkc0F0UG9zKHQucG9zKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cy5tYXAoKHsgZG9tIH0pID0+IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksXG4gICAgICAgICAgICBzcGFjZTogdGhpcy52aWV3LnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpLnRvb2x0aXBTcGFjZSh0aGlzLnZpZXcpLFxuICAgICAgICAgICAgc2NhbGVYLCBzY2FsZVksIG1ha2VBYnNvbHV0ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICB3cml0ZU1lYXN1cmUobWVhc3VyZWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobWVhc3VyZWQubWFrZUFic29sdXRlKSB7XG4gICAgICAgICAgICB0aGlzLm1hZGVBYnNvbHV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHQuZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IHZpc2libGUsIHNwYWNlLCBzY2FsZVgsIHNjYWxlWSB9ID0gbWVhc3VyZWQ7XG4gICAgICAgIGxldCBvdGhlcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hbmFnZXIudG9vbHRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0b29sdGlwID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBzW2ldLCB0VmlldyA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbaV0sIHsgZG9tIH0gPSB0VmlldztcbiAgICAgICAgICAgIGxldCBwb3MgPSBtZWFzdXJlZC5wb3NbaV0sIHNpemUgPSBtZWFzdXJlZC5zaXplW2ldO1xuICAgICAgICAgICAgLy8gSGlkZSB0b29sdGlwcyB0aGF0IGFyZSBvdXRzaWRlIG9mIHRoZSBlZGl0b3IuXG4gICAgICAgICAgICBpZiAoIXBvcyB8fCB0b29sdGlwLmNsaXAgIT09IGZhbHNlICYmIChwb3MuYm90dG9tIDw9IE1hdGgubWF4KHZpc2libGUudG9wLCBzcGFjZS50b3ApIHx8XG4gICAgICAgICAgICAgICAgcG9zLnRvcCA+PSBNYXRoLm1pbih2aXNpYmxlLmJvdHRvbSwgc3BhY2UuYm90dG9tKSB8fFxuICAgICAgICAgICAgICAgIHBvcy5yaWdodCA8IE1hdGgubWF4KHZpc2libGUubGVmdCwgc3BhY2UubGVmdCkgLSAuMSB8fFxuICAgICAgICAgICAgICAgIHBvcy5sZWZ0ID4gTWF0aC5taW4odmlzaWJsZS5yaWdodCwgc3BhY2UucmlnaHQpICsgLjEpKSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYXJyb3cgPSB0b29sdGlwLmFycm93ID8gdFZpZXcuZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tdG9vbHRpcC1hcnJvd1wiKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgYXJyb3dIZWlnaHQgPSBhcnJvdyA/IDcgLyogQXJyb3cuU2l6ZSAqLyA6IDA7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBzaXplLnJpZ2h0IC0gc2l6ZS5sZWZ0LCBoZWlnaHQgPSAoX2EgPSBrbm93bkhlaWdodC5nZXQodFZpZXcpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzaXplLmJvdHRvbSAtIHNpemUudG9wO1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHRWaWV3Lm9mZnNldCB8fCBub09mZnNldCwgbHRyID0gdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gc2l6ZS53aWR0aCA+IHNwYWNlLnJpZ2h0IC0gc3BhY2UubGVmdFxuICAgICAgICAgICAgICAgID8gKGx0ciA/IHNwYWNlLmxlZnQgOiBzcGFjZS5yaWdodCAtIHNpemUud2lkdGgpXG4gICAgICAgICAgICAgICAgOiBsdHIgPyBNYXRoLm1heChzcGFjZS5sZWZ0LCBNYXRoLm1pbihwb3MubGVmdCAtIChhcnJvdyA/IDE0IC8qIEFycm93Lk9mZnNldCAqLyA6IDApICsgb2Zmc2V0LngsIHNwYWNlLnJpZ2h0IC0gd2lkdGgpKVxuICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWluKE1hdGgubWF4KHNwYWNlLmxlZnQsIHBvcy5sZWZ0IC0gd2lkdGggKyAoYXJyb3cgPyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gOiAwKSAtIG9mZnNldC54KSwgc3BhY2UucmlnaHQgLSB3aWR0aCk7XG4gICAgICAgICAgICBsZXQgYWJvdmUgPSB0aGlzLmFib3ZlW2ldO1xuICAgICAgICAgICAgaWYgKCF0b29sdGlwLnN0cmljdFNpZGUgJiYgKGFib3ZlXG4gICAgICAgICAgICAgICAgPyBwb3MudG9wIC0gaGVpZ2h0IC0gYXJyb3dIZWlnaHQgLSBvZmZzZXQueSA8IHNwYWNlLnRvcFxuICAgICAgICAgICAgICAgIDogcG9zLmJvdHRvbSArIGhlaWdodCArIGFycm93SGVpZ2h0ICsgb2Zmc2V0LnkgPiBzcGFjZS5ib3R0b20pICYmXG4gICAgICAgICAgICAgICAgYWJvdmUgPT0gKHNwYWNlLmJvdHRvbSAtIHBvcy5ib3R0b20gPiBwb3MudG9wIC0gc3BhY2UudG9wKSlcbiAgICAgICAgICAgICAgICBhYm92ZSA9IHRoaXMuYWJvdmVbaV0gPSAhYWJvdmU7XG4gICAgICAgICAgICBsZXQgc3BhY2VWZXJ0ID0gKGFib3ZlID8gcG9zLnRvcCAtIHNwYWNlLnRvcCA6IHNwYWNlLmJvdHRvbSAtIHBvcy5ib3R0b20pIC0gYXJyb3dIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoc3BhY2VWZXJ0IDwgaGVpZ2h0ICYmIHRWaWV3LnJlc2l6ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3BhY2VWZXJ0IDwgdGhpcy52aWV3LmRlZmF1bHRMaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSBPdXRzaWRlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAga25vd25IZWlnaHQuc2V0KHRWaWV3LCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS5oZWlnaHQgPSAoaGVpZ2h0ID0gc3BhY2VWZXJ0KSAvIHNjYWxlWSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbS5zdHlsZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUuaGVpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0b3AgPSBhYm92ZSA/IHBvcy50b3AgLSBoZWlnaHQgLSBhcnJvd0hlaWdodCAtIG9mZnNldC55IDogcG9zLmJvdHRvbSArIGFycm93SGVpZ2h0ICsgb2Zmc2V0Lnk7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG4gICAgICAgICAgICBpZiAodFZpZXcub3ZlcmxhcCAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIG90aGVycylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIubGVmdCA8IHJpZ2h0ICYmIHIucmlnaHQgPiBsZWZ0ICYmIHIudG9wIDwgdG9wICsgaGVpZ2h0ICYmIHIuYm90dG9tID4gdG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gYWJvdmUgPyByLnRvcCAtIGhlaWdodCAtIDIgLSBhcnJvd0hlaWdodCA6IHIuYm90dG9tICsgYXJyb3dIZWlnaHQgKyAyO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9ICh0b3AgLSBtZWFzdXJlZC5wYXJlbnQudG9wKSAvIHNjYWxlWSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBzZXRMZWZ0U3R5bGUoZG9tLCAobGVmdCAtIG1lYXN1cmVkLnBhcmVudC5sZWZ0KSAvIHNjYWxlWCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gdG9wIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHNldExlZnRTdHlsZShkb20sIGxlZnQgLyBzY2FsZVgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycm93KSB7XG4gICAgICAgICAgICAgICAgbGV0IGFycm93TGVmdCA9IHBvcy5sZWZ0ICsgKGx0ciA/IG9mZnNldC54IDogLW9mZnNldC54KSAtIChsZWZ0ICsgMTQgLyogQXJyb3cuT2Zmc2V0ICovIC0gNyAvKiBBcnJvdy5TaXplICovKTtcbiAgICAgICAgICAgICAgICBhcnJvdy5zdHlsZS5sZWZ0ID0gYXJyb3dMZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRWaWV3Lm92ZXJsYXAgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgb3RoZXJzLnB1c2goeyBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b206IHRvcCArIGhlaWdodCB9KTtcbiAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1hYm92ZVwiLCBhYm92ZSk7XG4gICAgICAgICAgICBkb20uY2xhc3NMaXN0LnRvZ2dsZShcImNtLXRvb2x0aXAtYmVsb3dcIiwgIWFib3ZlKTtcbiAgICAgICAgICAgIGlmICh0Vmlldy5wb3NpdGlvbmVkKVxuICAgICAgICAgICAgICAgIHRWaWV3LnBvc2l0aW9uZWQobWVhc3VyZWQuc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heWJlTWVhc3VyZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcuaW5WaWV3KVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5WaWV3ICE9IHRoaXMudmlldy5pblZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlldyA9IHRoaXMudmlldy5pblZpZXc7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluVmlldylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHYgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICAgICAgICAgIHR2LmRvbS5zdHlsZS50b3AgPSBPdXRzaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIGV2ZW50T2JzZXJ2ZXJzOiB7XG4gICAgICAgIHNjcm9sbCgpIHsgdGhpcy5tYXliZU1lYXN1cmUoKTsgfVxuICAgIH1cbn0pO1xuZnVuY3Rpb24gc2V0TGVmdFN0eWxlKGVsdCwgdmFsdWUpIHtcbiAgICBsZXQgY3VycmVudCA9IHBhcnNlSW50KGVsdC5zdHlsZS5sZWZ0LCAxMCk7XG4gICAgaWYgKGlzTmFOKGN1cnJlbnQpIHx8IE1hdGguYWJzKHZhbHVlIC0gY3VycmVudCkgPiAxKVxuICAgICAgICBlbHQuc3R5bGUubGVmdCA9IHZhbHVlICsgXCJweFwiO1xufVxuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgekluZGV4OiA1MDAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjYmJiXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLXNlY3Rpb246bm90KDpmaXJzdC1jaGlsZClcIjoge1xuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNiYmJcIixcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRvb2x0aXBcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgaGVpZ2h0OiBgJHs3IC8qIEFycm93LlNpemUgKi99cHhgLFxuICAgICAgICB3aWR0aDogYCR7NyAvKiBBcnJvdy5TaXplICovICogMn1weGAsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBcIiY6YmVmb3JlLCAmOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJydcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIGJvcmRlckxlZnQ6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICAgICAgICBib3JkZXJSaWdodDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkIHRyYW5zcGFyZW50YCxcbiAgICAgICAgfSxcbiAgICAgICAgXCIuY20tdG9vbHRpcC1hYm92ZSAmXCI6IHtcbiAgICAgICAgICAgIGJvdHRvbTogYC0kezcgLyogQXJyb3cuU2l6ZSAqL31weGAsXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjYmJiYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlclRvcDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNmNWY1ZjVgLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxcHhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIi5jbS10b29sdGlwLWJlbG93ICZcIjoge1xuICAgICAgICAgICAgdG9wOiBgLSR7NyAvKiBBcnJvdy5TaXplICovfXB4YCxcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNiYmJgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2Y1ZjVmNWAsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjFweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwIC5jbS10b29sdGlwLWFycm93XCI6IHtcbiAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICBib3JkZXJUb3BDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCIjMzMzMzM4XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIH1cbiAgICB9XG59KTtcbmNvbnN0IG5vT2Zmc2V0ID0geyB4OiAwLCB5OiAwIH07XG4vKipcbkZhY2V0IHRvIHdoaWNoIGFuIGV4dGVuc2lvbiBjYW4gYWRkIGEgdmFsdWUgdG8gc2hvdyBhIHRvb2x0aXAuXG4qL1xuY29uc3Qgc2hvd1Rvb2x0aXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBbdG9vbHRpcFBsdWdpbiwgYmFzZVRoZW1lXVxufSk7XG5jb25zdCBzaG93SG92ZXJUb29sdGlwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogaW5wdXRzID0+IGlucHV0cy5yZWR1Y2UoKGEsIGkpID0+IGEuY29uY2F0KGkpLCBbXSlcbn0pO1xuY2xhc3MgSG92ZXJUb29sdGlwSG9zdCB7XG4gICAgLy8gTmVlZHMgdG8gYmUgc3RhdGljIHNvIHRoYXQgaG9zdCB0b29sdGlwIGluc3RhbmNlcyBhbHdheXMgbWF0Y2hcbiAgICBzdGF0aWMgY3JlYXRlKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb3ZlclRvb2x0aXBIb3N0KHZpZXcpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwLWhvdmVyXCIpO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dIb3ZlclRvb2x0aXAsICh0LCBwKSA9PiB0aGlzLmNyZWF0ZUhvc3RlZFZpZXcodCwgcCksIHQgPT4gdC5kb20ucmVtb3ZlKCkpO1xuICAgIH1cbiAgICBjcmVhdGVIb3N0ZWRWaWV3KHRvb2x0aXAsIHByZXYpIHtcbiAgICAgICAgbGV0IGhvc3RlZFZpZXcgPSB0b29sdGlwLmNyZWF0ZSh0aGlzLnZpZXcpO1xuICAgICAgICBob3N0ZWRWaWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tdG9vbHRpcC1zZWN0aW9uXCIpO1xuICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUoaG9zdGVkVmlldy5kb20sIHByZXYgPyBwcmV2LmRvbS5uZXh0U2libGluZyA6IHRoaXMuZG9tLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpZiAodGhpcy5tb3VudGVkICYmIGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICBob3N0ZWRWaWV3Lm1vdW50KHRoaXMudmlldyk7XG4gICAgICAgIHJldHVybiBob3N0ZWRWaWV3O1xuICAgIH1cbiAgICBtb3VudCh2aWV3KSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcubW91bnQpXG4gICAgICAgICAgICAgICAgaG9zdGVkVmlldy5tb3VudCh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBwb3NpdGlvbmVkKHNwYWNlKSB7XG4gICAgICAgIGZvciAobGV0IGhvc3RlZFZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgaWYgKGhvc3RlZFZpZXcucG9zaXRpb25lZClcbiAgICAgICAgICAgICAgICBob3N0ZWRWaWV3LnBvc2l0aW9uZWQoc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIChfYSA9IHQuZGVzdHJveSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodCk7XG4gICAgfVxuICAgIHBhc3NQcm9wKG5hbWUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIGxldCBnaXZlbiA9IHZpZXdbbmFtZV07XG4gICAgICAgICAgICBpZiAoZ2l2ZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGdpdmVuO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSBnaXZlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGdldCBvZmZzZXQoKSB7IHJldHVybiB0aGlzLnBhc3NQcm9wKFwib2Zmc2V0XCIpOyB9XG4gICAgZ2V0IGdldENvb3JkcygpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJnZXRDb29yZHNcIik7IH1cbiAgICBnZXQgb3ZlcmxhcCgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJvdmVybGFwXCIpOyB9XG4gICAgZ2V0IHJlc2l6ZSgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJyZXNpemVcIik7IH1cbn1cbmNvbnN0IHNob3dIb3ZlclRvb2x0aXBIb3N0ID0gLypAX19QVVJFX18qL3Nob3dUb29sdGlwLmNvbXB1dGUoW3Nob3dIb3ZlclRvb2x0aXBdLCBzdGF0ZSA9PiB7XG4gICAgbGV0IHRvb2x0aXBzID0gc3RhdGUuZmFjZXQoc2hvd0hvdmVyVG9vbHRpcCk7XG4gICAgaWYgKHRvb2x0aXBzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zOiBNYXRoLm1pbiguLi50b29sdGlwcy5tYXAodCA9PiB0LnBvcykpLFxuICAgICAgICBlbmQ6IE1hdGgubWF4KC4uLnRvb2x0aXBzLm1hcCh0ID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdC5lbmQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHQucG9zOyB9KSksXG4gICAgICAgIGNyZWF0ZTogSG92ZXJUb29sdGlwSG9zdC5jcmVhdGUsXG4gICAgICAgIGFib3ZlOiB0b29sdGlwc1swXS5hYm92ZSxcbiAgICAgICAgYXJyb3c6IHRvb2x0aXBzLnNvbWUodCA9PiB0LmFycm93KSxcbiAgICB9O1xufSk7XG5jbGFzcyBIb3ZlclBsdWdpbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgc291cmNlLCBmaWVsZCwgc2V0SG92ZXIsIGhvdmVyVGltZSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLnNldEhvdmVyID0gc2V0SG92ZXI7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lID0gaG92ZXJUaW1lO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdE1vdmUgPSB7IHg6IDAsIHk6IDAsIHRhcmdldDogdmlldy5kb20sIHRpbWU6IDAgfTtcbiAgICAgICAgdGhpcy5jaGVja0hvdmVyID0gdGhpcy5jaGVja0hvdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMubW91c2VsZWF2ZSA9IHRoaXMubW91c2VsZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZSA9IHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0YXJ0SG92ZXIoKSwgMjApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZmllbGQodGhpcy5maWVsZCk7XG4gICAgfVxuICAgIGNoZWNrSG92ZXIoKSB7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gLTE7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBob3ZlcmVkID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmUudGltZTtcbiAgICAgICAgaWYgKGhvdmVyZWQgPCB0aGlzLmhvdmVyVGltZSlcbiAgICAgICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNoZWNrSG92ZXIsIHRoaXMuaG92ZXJUaW1lIC0gaG92ZXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIb3ZlcigpO1xuICAgIH1cbiAgICBzdGFydEhvdmVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgIGxldCB7IHZpZXcsIGxhc3RNb3ZlIH0gPSB0aGlzO1xuICAgICAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0KGxhc3RNb3ZlLnRhcmdldCk7XG4gICAgICAgIGlmICghZGVzYylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHBvcywgc2lkZSA9IDE7XG4gICAgICAgIGlmIChkZXNjIGluc3RhbmNlb2YgV2lkZ2V0Vmlldykge1xuICAgICAgICAgICAgcG9zID0gZGVzYy5wb3NBdFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zID0gdmlldy5wb3NBdENvb3JkcyhsYXN0TW92ZSk7XG4gICAgICAgICAgICBpZiAocG9zID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHBvc0Nvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MocG9zKTtcbiAgICAgICAgICAgIGlmICghcG9zQ29vcmRzIHx8XG4gICAgICAgICAgICAgICAgbGFzdE1vdmUueSA8IHBvc0Nvb3Jkcy50b3AgfHwgbGFzdE1vdmUueSA+IHBvc0Nvb3Jkcy5ib3R0b20gfHxcbiAgICAgICAgICAgICAgICBsYXN0TW92ZS54IDwgcG9zQ29vcmRzLmxlZnQgLSB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCB8fFxuICAgICAgICAgICAgICAgIGxhc3RNb3ZlLnggPiBwb3NDb29yZHMucmlnaHQgKyB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgYmlkaSA9IHZpZXcuYmlkaVNwYW5zKHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpKS5maW5kKHMgPT4gcy5mcm9tIDw9IHBvcyAmJiBzLnRvID49IHBvcyk7XG4gICAgICAgICAgICBsZXQgcnRsID0gYmlkaSAmJiBiaWRpLmRpciA9PSBEaXJlY3Rpb24uUlRMID8gLTEgOiAxO1xuICAgICAgICAgICAgc2lkZSA9IChsYXN0TW92ZS54IDwgcG9zQ29vcmRzLmxlZnQgPyAtcnRsIDogcnRsKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3BlbiA9IHRoaXMuc291cmNlKHZpZXcsIHBvcywgc2lkZSk7XG4gICAgICAgIGlmIChvcGVuID09PSBudWxsIHx8IG9wZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wZW4udGhlbikge1xuICAgICAgICAgICAgbGV0IHBlbmRpbmcgPSB0aGlzLnBlbmRpbmcgPSB7IHBvcyB9O1xuICAgICAgICAgICAgb3Blbi50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZyA9PSBwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgIShBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgIXJlc3VsdC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogW3Jlc3VsdF0pIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGUgPT4gbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUsIFwiaG92ZXIgdG9vbHRpcFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3BlbiAmJiAhKEFycmF5LmlzQXJyYXkob3BlbikgJiYgIW9wZW4ubGVuZ3RoKSkge1xuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoQXJyYXkuaXNBcnJheShvcGVuKSA/IG9wZW4gOiBbb3Blbl0pIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0b29sdGlwKCkge1xuICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy52aWV3LnBsdWdpbih0b29sdGlwUGx1Z2luKTtcbiAgICAgICAgbGV0IGluZGV4ID0gcGx1Z2luID8gcGx1Z2luLm1hbmFnZXIudG9vbHRpcHMuZmluZEluZGV4KHQgPT4gdC5jcmVhdGUgPT0gSG92ZXJUb29sdGlwSG9zdC5jcmVhdGUpIDogLTE7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2luZGV4XSA6IG51bGw7XG4gICAgfVxuICAgIG1vdXNlbW92ZShldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0YXJnZXQ6IGV2ZW50LnRhcmdldCwgdGltZTogRGF0ZS5ub3coKSB9O1xuICAgICAgICBpZiAodGhpcy5ob3ZlclRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUpO1xuICAgICAgICBsZXQgeyBhY3RpdmUsIHRvb2x0aXAgfSA9IHRoaXM7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoICYmIHRvb2x0aXAgJiYgIWlzSW5Ub29sdGlwKHRvb2x0aXAuZG9tLCBldmVudCkgfHwgdGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICBsZXQgeyBwb3MgfSA9IGFjdGl2ZVswXSB8fCB0aGlzLnBlbmRpbmcsIGVuZCA9IChfYiA9IChfYSA9IGFjdGl2ZVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVuZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogcG9zO1xuICAgICAgICAgICAgaWYgKChwb3MgPT0gZW5kID8gdGhpcy52aWV3LnBvc0F0Q29vcmRzKHRoaXMubGFzdE1vdmUpICE9IHBvc1xuICAgICAgICAgICAgICAgIDogIWlzT3ZlclJhbmdlKHRoaXMudmlldywgcG9zLCBlbmQsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoW10pIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW91c2VsZWF2ZShldmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICBsZXQgeyBhY3RpdmUgfSA9IHRoaXM7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyB0b29sdGlwIH0gPSB0aGlzO1xuICAgICAgICAgICAgbGV0IGluVG9vbHRpcCA9IHRvb2x0aXAgJiYgdG9vbHRpcC5kb20uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIWluVG9vbHRpcClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB0aGlzLnNldEhvdmVyLm9mKFtdKSB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLndhdGNoVG9vbHRpcExlYXZlKHRvb2x0aXAuZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3YXRjaFRvb2x0aXBMZWF2ZSh0b29sdGlwKSB7XG4gICAgICAgIGxldCB3YXRjaCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB3YXRjaCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUubGVuZ3RoICYmICF0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoW10pIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0b29sdGlwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHdhdGNoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm1vdXNlbGVhdmUpO1xuICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZW1vdmUpO1xuICAgIH1cbn1cbmNvbnN0IHRvb2x0aXBNYXJnaW4gPSA0O1xuZnVuY3Rpb24gaXNJblRvb2x0aXAodG9vbHRpcCwgZXZlbnQpIHtcbiAgICBsZXQgeyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gfSA9IHRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGFycm93O1xuICAgIGlmIChhcnJvdyA9IHRvb2x0aXAucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwLWFycm93XCIpKSB7XG4gICAgICAgIGxldCBhcnJvd1JlY3QgPSBhcnJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdG9wID0gTWF0aC5taW4oYXJyb3dSZWN0LnRvcCwgdG9wKTtcbiAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoYXJyb3dSZWN0LmJvdHRvbSwgYm90dG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LmNsaWVudFggPj0gbGVmdCAtIHRvb2x0aXBNYXJnaW4gJiYgZXZlbnQuY2xpZW50WCA8PSByaWdodCArIHRvb2x0aXBNYXJnaW4gJiZcbiAgICAgICAgZXZlbnQuY2xpZW50WSA+PSB0b3AgLSB0b29sdGlwTWFyZ2luICYmIGV2ZW50LmNsaWVudFkgPD0gYm90dG9tICsgdG9vbHRpcE1hcmdpbjtcbn1cbmZ1bmN0aW9uIGlzT3ZlclJhbmdlKHZpZXcsIGZyb20sIHRvLCB4LCB5LCBtYXJnaW4pIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBkb2NCb3R0b20gPSB2aWV3LmRvY3VtZW50VG9wICsgdmlldy5kb2N1bWVudFBhZGRpbmcudG9wICsgdmlldy5jb250ZW50SGVpZ2h0O1xuICAgIGlmIChyZWN0LmxlZnQgPiB4IHx8IHJlY3QucmlnaHQgPCB4IHx8IHJlY3QudG9wID4geSB8fCBNYXRoLm1pbihyZWN0LmJvdHRvbSwgZG9jQm90dG9tKSA8IHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHgsIHkgfSwgZmFsc2UpO1xuICAgIHJldHVybiBwb3MgPj0gZnJvbSAmJiBwb3MgPD0gdG87XG59XG4vKipcblNldCB1cCBhIGhvdmVyIHRvb2x0aXAsIHdoaWNoIHNob3dzIHVwIHdoZW4gdGhlIHBvaW50ZXIgaG92ZXJzXG5vdmVyIHJhbmdlcyBvZiB0ZXh0LiBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIGhvdmVyc1xub3ZlciB0aGUgZG9jdW1lbnQgdGV4dC4gSXQgc2hvdWxkLCBpZiB0aGVyZSBpcyBhIHRvb2x0aXBcbmFzc29jaWF0ZWQgd2l0aCBwb3NpdGlvbiBgcG9zYCwgcmV0dXJuIHRoZSB0b29sdGlwIGRlc2NyaXB0aW9uXG4oZWl0aGVyIGRpcmVjdGx5IG9yIGluIGEgcHJvbWlzZSkuIFRoZSBgc2lkZWAgYXJndW1lbnQgaW5kaWNhdGVzXG5vbiB3aGljaCBzaWRlIG9mIHRoZSBwb3NpdGlvbiB0aGUgcG9pbnRlciBpc1x1MjAxNGl0IHdpbGwgYmUgLTEgaWYgdGhlXG5wb2ludGVyIGlzIGJlZm9yZSB0aGUgcG9zaXRpb24sIDEgaWYgYWZ0ZXIgdGhlIHBvc2l0aW9uLlxuXG5Ob3RlIHRoYXQgYWxsIGhvdmVyIHRvb2x0aXBzIGFyZSBob3N0ZWQgd2l0aGluIGEgc2luZ2xlIHRvb2x0aXBcbmNvbnRhaW5lciBlbGVtZW50LiBUaGlzIGFsbG93cyBtdWx0aXBsZSB0b29sdGlwcyBvdmVyIHRoZSBzYW1lXG5yYW5nZSB0byBiZSBcIm1lcmdlZFwiIHRvZ2V0aGVyIHdpdGhvdXQgb3ZlcmxhcHBpbmcuXG5cblRoZSByZXR1cm4gdmFsdWUgaXMgYSB2YWxpZCBbZWRpdG9yIGV4dGVuc2lvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FeHRlbnNpb24pXG5idXQgYWxzbyBwcm92aWRlcyBhbiBgYWN0aXZlYCBwcm9wZXJ0eSBob2xkaW5nIGEgc3RhdGUgZmllbGQgdGhhdFxuY2FuIGJlIHVzZWQgdG8gcmVhZCB0aGUgY3VycmVudGx5IGFjdGl2ZSB0b29sdGlwcyBwcm9kdWNlZCBieSB0aGlzXG5leHRlbnNpb24uXG4qL1xuZnVuY3Rpb24gaG92ZXJUb29sdGlwKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHNldEhvdmVyID0gU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4gICAgbGV0IGhvdmVyU3RhdGUgPSBTdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgICAgIGNyZWF0ZSgpIHsgcmV0dXJuIFtdOyB9LFxuICAgICAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZU9uQ2hhbmdlICYmICh0ci5kb2NDaGFuZ2VkIHx8IHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5oaWRlT24pXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuZmlsdGVyKHYgPT4gIW9wdGlvbnMuaGlkZU9uKHRyLCB2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHRyLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcHBlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b29sdGlwIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3UG9zID0gdHIuY2hhbmdlcy5tYXBQb3ModG9vbHRpcC5wb3MsIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQb3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3B5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5LnBvcyA9IG5ld1BvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29weS5lbmQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weS5lbmQgPSB0ci5jaGFuZ2VzLm1hcFBvcyhjb3B5LmVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkLnB1c2goY29weSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEhvdmVyKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhjbG9zZUhvdmVyVG9vbHRpcEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGU6IGYgPT4gc2hvd0hvdmVyVG9vbHRpcC5mcm9tKGYpXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlOiBob3ZlclN0YXRlLFxuICAgICAgICBleHRlbnNpb246IFtcbiAgICAgICAgICAgIGhvdmVyU3RhdGUsXG4gICAgICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBIb3ZlclBsdWdpbih2aWV3LCBzb3VyY2UsIGhvdmVyU3RhdGUsIHNldEhvdmVyLCBvcHRpb25zLmhvdmVyVGltZSB8fCAzMDAgLyogSG92ZXIuVGltZSAqLykpLFxuICAgICAgICAgICAgc2hvd0hvdmVyVG9vbHRpcEhvc3RcbiAgICAgICAgXVxuICAgIH07XG59XG4vKipcbkdldCB0aGUgYWN0aXZlIHRvb2x0aXAgdmlldyBmb3IgYSBnaXZlbiB0b29sdGlwLCBpZiBhdmFpbGFibGUuXG4qL1xuZnVuY3Rpb24gZ2V0VG9vbHRpcCh2aWV3LCB0b29sdGlwKSB7XG4gICAgbGV0IHBsdWdpbiA9IHZpZXcucGx1Z2luKHRvb2x0aXBQbHVnaW4pO1xuICAgIGlmICghcGx1Z2luKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZm91bmQgPSBwbHVnaW4ubWFuYWdlci50b29sdGlwcy5pbmRleE9mKHRvb2x0aXApO1xuICAgIHJldHVybiBmb3VuZCA8IDAgPyBudWxsIDogcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ZvdW5kXTtcbn1cbi8qKlxuUmV0dXJucyB0cnVlIGlmIGFueSBob3ZlciB0b29sdGlwcyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiovXG5mdW5jdGlvbiBoYXNIb3ZlclRvb2x0aXBzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZhY2V0KHNob3dIb3ZlclRvb2x0aXApLnNvbWUoeCA9PiB4KTtcbn1cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5UcmFuc2FjdGlvbiBlZmZlY3QgdGhhdCBjbG9zZXMgYWxsIGhvdmVyIHRvb2x0aXBzLlxuKi9cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwcyA9IC8qQF9fUFVSRV9fKi9jbG9zZUhvdmVyVG9vbHRpcEVmZmVjdC5vZihudWxsKTtcbi8qKlxuVGVsbCB0aGUgdG9vbHRpcCBleHRlbnNpb24gdG8gcmVjb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYWN0aXZlXG50b29sdGlwcy4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgKHN1Y2ggYXMgYVxucmUtcG9zaXRpb25pbmcgb3IgQ1NTIGNoYW5nZSBhZmZlY3RpbmcgdGhlIGVkaXRvcikgdGhhdCBjb3VsZFxuaW52YWxpZGF0ZSB0aGUgZXhpc3RpbmcgdG9vbHRpcCBwb3NpdGlvbnMuXG4qL1xuZnVuY3Rpb24gcmVwb3NpdGlvblRvb2x0aXBzKHZpZXcpIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4odG9vbHRpcFBsdWdpbik7XG4gICAgaWYgKHBsdWdpbilcbiAgICAgICAgcGx1Z2luLm1heWJlTWVhc3VyZSgpO1xufVxuXG5jb25zdCBwYW5lbENvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgdG9wQ29udGFpbmVyLCBib3R0b21Db250YWluZXI7XG4gICAgICAgIGZvciAobGV0IGMgb2YgY29uZmlncykge1xuICAgICAgICAgICAgdG9wQ29udGFpbmVyID0gdG9wQ29udGFpbmVyIHx8IGMudG9wQ29udGFpbmVyO1xuICAgICAgICAgICAgYm90dG9tQ29udGFpbmVyID0gYm90dG9tQ29udGFpbmVyIHx8IGMuYm90dG9tQ29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcENvbnRhaW5lciwgYm90dG9tQ29udGFpbmVyIH07XG4gICAgfVxufSk7XG4vKipcbkNvbmZpZ3VyZXMgdGhlIHBhbmVsLW1hbmFnaW5nIGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBwYW5lbHMoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZyA/IFtwYW5lbENvbmZpZy5vZihjb25maWcpXSA6IFtdO1xufVxuLyoqXG5HZXQgdGhlIGFjdGl2ZSBwYW5lbCBjcmVhdGVkIGJ5IHRoZSBnaXZlbiBjb25zdHJ1Y3RvciwgaWYgYW55LlxuVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4geW91IG5lZWQgYWNjZXNzIHRvIHlvdXIgcGFuZWxzJyBET01cbnN0cnVjdHVyZS5cbiovXG5mdW5jdGlvbiBnZXRQYW5lbCh2aWV3LCBwYW5lbCkge1xuICAgIGxldCBwbHVnaW4gPSB2aWV3LnBsdWdpbihwYW5lbFBsdWdpbik7XG4gICAgbGV0IGluZGV4ID0gcGx1Z2luID8gcGx1Z2luLnNwZWNzLmluZGV4T2YocGFuZWwpIDogLTE7XG4gICAgcmV0dXJuIGluZGV4ID4gLTEgPyBwbHVnaW4ucGFuZWxzW2luZGV4XSA6IG51bGw7XG59XG5jb25zdCBwYW5lbFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmlucHV0ID0gdmlldy5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICB0aGlzLnNwZWNzID0gdGhpcy5pbnB1dC5maWx0ZXIocyA9PiBzKTtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSB0aGlzLnNwZWNzLm1hcChzcGVjID0+IHNwZWModmlldykpO1xuICAgICAgICBsZXQgY29uZiA9IHZpZXcuc3RhdGUuZmFjZXQocGFuZWxDb25maWcpO1xuICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHZpZXcsIHRydWUsIGNvbmYudG9wQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSBuZXcgUGFuZWxHcm91cCh2aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB0aGlzLnRvcC5zeW5jKHRoaXMucGFuZWxzLmZpbHRlcihwID0+IHAudG9wKSk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmModGhpcy5wYW5lbHMuZmlsdGVyKHAgPT4gIXAudG9wKSk7XG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIHAuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1wYW5lbFwiKTtcbiAgICAgICAgICAgIGlmIChwLm1vdW50KVxuICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KHBhbmVsQ29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMudG9wLmNvbnRhaW5lciAhPSBjb25mLnRvcENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy50b3Auc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLnRvcCA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCB0cnVlLCBjb25mLnRvcENvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm90dG9tLmNvbnRhaW5lciAhPSBjb25mLmJvdHRvbUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5ib3R0b20uc3luYyhbXSk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IG5ldyBQYW5lbEdyb3VwKHVwZGF0ZS52aWV3LCBmYWxzZSwgY29uZi5ib3R0b21Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9wLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmNDbGFzc2VzKCk7XG4gICAgICAgIGxldCBpbnB1dCA9IHVwZGF0ZS5zdGF0ZS5mYWNldChzaG93UGFuZWwpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gdGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgbGV0IHNwZWNzID0gaW5wdXQuZmlsdGVyKHggPT4geCk7XG4gICAgICAgICAgICBsZXQgcGFuZWxzID0gW10sIHRvcCA9IFtdLCBib3R0b20gPSBbXSwgbW91bnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHNwZWMgb2Ygc3BlY3MpIHtcbiAgICAgICAgICAgICAgICBsZXQga25vd24gPSB0aGlzLnNwZWNzLmluZGV4T2Yoc3BlYyksIHBhbmVsO1xuICAgICAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwgPSBzcGVjKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgbW91bnQucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbCA9IHRoaXMucGFuZWxzW2tub3duXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhbmVsLnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYW5lbHMucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgKHBhbmVsLnRvcCA/IHRvcCA6IGJvdHRvbSkucHVzaChwYW5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgICAgICAgICB0aGlzLnBhbmVscyA9IHBhbmVscztcbiAgICAgICAgICAgIHRoaXMudG9wLnN5bmModG9wKTtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tLnN5bmMoYm90dG9tKTtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgbW91bnQpIHtcbiAgICAgICAgICAgICAgICBwLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tcGFuZWxcIik7XG4gICAgICAgICAgICAgICAgaWYgKHAubW91bnQpXG4gICAgICAgICAgICAgICAgICAgIHAubW91bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpXG4gICAgICAgICAgICAgICAgaWYgKHAudXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBwLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG9wLnN5bmMoW10pO1xuICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKFtdKTtcbiAgICB9XG59LCB7XG4gICAgcHJvdmlkZTogcGx1Z2luID0+IEVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucy5vZih2aWV3ID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmlldy5wbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHsgdG9wOiB2YWx1ZS50b3Auc2Nyb2xsTWFyZ2luKCksIGJvdHRvbTogdmFsdWUuYm90dG9tLnNjcm9sbE1hcmdpbigpIH07XG4gICAgfSlcbn0pO1xuY2xhc3MgUGFuZWxHcm91cCB7XG4gICAgY29uc3RydWN0b3IodmlldywgdG9wLCBjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gXCJcIjtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBbXTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcygpO1xuICAgIH1cbiAgICBzeW5jKHBhbmVscykge1xuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFuZWxzKVxuICAgICAgICAgICAgaWYgKHAuZGVzdHJveSAmJiBwYW5lbHMuaW5kZXhPZihwKSA8IDApXG4gICAgICAgICAgICAgICAgcC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGFuZWxzID0gcGFuZWxzO1xuICAgICAgICB0aGlzLnN5bmNET00oKTtcbiAgICB9XG4gICAgc3luY0RPTSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFuZWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSB0aGlzLnRvcCA/IFwiY20tcGFuZWxzIGNtLXBhbmVscy10b3BcIiA6IFwiY20tcGFuZWxzIGNtLXBhbmVscy1ib3R0b21cIjtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlW3RoaXMudG9wID8gXCJ0b3BcIiA6IFwiYm90dG9tXCJdID0gXCIwXCI7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5jb250YWluZXIgfHwgdGhpcy52aWV3LmRvbTtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5kb20sIHRoaXMudG9wID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VyRE9NID0gdGhpcy5kb20uZmlyc3RDaGlsZDtcbiAgICAgICAgZm9yIChsZXQgcGFuZWwgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIGlmIChwYW5lbC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJET00gIT0gcGFuZWwuZG9tKVxuICAgICAgICAgICAgICAgICAgICBjdXJET00gPSBybShjdXJET00pO1xuICAgICAgICAgICAgICAgIGN1ckRPTSA9IGN1ckRPTS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShwYW5lbC5kb20sIGN1ckRPTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGN1ckRPTSlcbiAgICAgICAgICAgIGN1ckRPTSA9IHJtKGN1ckRPTSk7XG4gICAgfVxuICAgIHNjcm9sbE1hcmdpbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRvbSB8fCB0aGlzLmNvbnRhaW5lciA/IDBcbiAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgdGhpcy50b3AgP1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSAtIE1hdGgubWF4KDAsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSA6XG4gICAgICAgICAgICAgICAgTWF0aC5taW4oaW5uZXJIZWlnaHQsIHRoaXMudmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKSAtIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgfVxuICAgIHN5bmNDbGFzc2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyIHx8IHRoaXMuY2xhc3NlcyA9PSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgdGhpcy5jbGFzc2VzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShjbHMpO1xuICAgICAgICBmb3IgKGxldCBjbHMgb2YgKHRoaXMuY2xhc3NlcyA9IHRoaXMudmlldy50aGVtZUNsYXNzZXMpLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChjbHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgbm9kZS5yZW1vdmUoKTtcbiAgICByZXR1cm4gbmV4dDtcbn1cbi8qKlxuT3BlbmluZyBhIHBhbmVsIGlzIGRvbmUgYnkgcHJvdmlkaW5nIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yXG50aGUgcGFuZWwgdGhyb3VnaCB0aGlzIGZhY2V0LiAoVGhlIHBhbmVsIGlzIGNsb3NlZCBhZ2FpbiB3aGVuIGl0c1xuY29uc3RydWN0b3IgaXMgbm8gbG9uZ2VyIHByb3ZpZGVkLikgVmFsdWVzIG9mIGBudWxsYCBhcmUgaWdub3JlZC5cbiovXG5jb25zdCBzaG93UGFuZWwgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBlbmFibGVzOiBwYW5lbFBsdWdpblxufSk7XG5cbi8qKlxuU2hvdyBhIHBhbmVsIGFib3ZlIG9yIGJlbG93IHRoZSBlZGl0b3IgdG8gc2hvdyB0aGUgdXNlciBhIG1lc3NhZ2Vcbm9yIHByb21wdCB0aGVtIGZvciBpbnB1dC4gUmV0dXJucyBhbiBlZmZlY3QgdGhhdCBjYW4gYmUgZGlzcGF0Y2hlZFxudG8gY2xvc2UgdGhlIGRpYWxvZywgYW5kIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGRpYWxvZ1xuaXMgY2xvc2VkIG9yIGEgZm9ybSBpbnNpZGUgb2YgaXQgaXMgc3VibWl0dGVkLlxuXG5Zb3UgYXJlIGVuY291cmFnZWQsIGlmIHlvdXIgaGFuZGxpbmcgb2YgdGhlIHJlc3VsdCBvZiB0aGUgcHJvbWlzZVxuZGlzcGF0Y2hlcyBhIHRyYW5zYWN0aW9uLCB0byBpbmNsdWRlIHRoZSBgY2xvc2VgIGVmZmVjdCBpbiBpdC4gSWZcbnlvdSBkb24ndCwgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGlzcGF0Y2ggYSBzZXBhcmF0ZVxudHJhbnNhY3Rpb24gcmlnaHQgYWZ0ZXIuXG4qL1xuZnVuY3Rpb24gc2hvd0RpYWxvZyh2aWV3LCBjb25maWcpIHtcbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHIgPT4gcmVzb2x2ZSA9IHIpO1xuICAgIGxldCBwYW5lbEN0b3IgPSAodmlldykgPT4gY3JlYXRlRGlhbG9nKHZpZXcsIGNvbmZpZywgcmVzb2x2ZSk7XG4gICAgaWYgKHZpZXcuc3RhdGUuZmllbGQoZGlhbG9nRmllbGQsIGZhbHNlKSkge1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogb3BlbkRpYWxvZ0VmZmVjdC5vZihwYW5lbEN0b3IpIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZy5vZihkaWFsb2dGaWVsZC5pbml0KCgpID0+IFtwYW5lbEN0b3JdKSkgfSk7XG4gICAgfVxuICAgIGxldCBjbG9zZSA9IGNsb3NlRGlhbG9nRWZmZWN0Lm9mKHBhbmVsQ3Rvcik7XG4gICAgcmV0dXJuIHsgY2xvc2UsIHJlc3VsdDogcHJvbWlzZS50aGVuKGZvcm0gPT4ge1xuICAgICAgICAgICAgbGV0IHF1ZXVlID0gdmlldy53aW4ucXVldWVNaWNyb3Rhc2sgfHwgKChmKSA9PiB2aWV3Lndpbi5zZXRUaW1lb3V0KGYsIDEwKSk7XG4gICAgICAgICAgICBxdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmllbGQoZGlhbG9nRmllbGQpLmluZGV4T2YocGFuZWxDdG9yKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogY2xvc2UgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtO1xuICAgICAgICB9KSB9O1xufVxuLyoqXG5GaW5kIHRoZSBbYFBhbmVsYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlBhbmVsKSBmb3IgYW4gb3BlbiBkaWFsb2csIHVzaW5nIGEgY2xhc3Ncbm5hbWUgYXMgaWRlbnRpZmllci5cbiovXG5mdW5jdGlvbiBnZXREaWFsb2codmlldywgY2xhc3NOYW1lKSB7XG4gICAgbGV0IGRpYWxvZ3MgPSB2aWV3LnN0YXRlLmZpZWxkKGRpYWxvZ0ZpZWxkLCBmYWxzZSkgfHwgW107XG4gICAgZm9yIChsZXQgb3BlbiBvZiBkaWFsb2dzKSB7XG4gICAgICAgIGxldCBwYW5lbCA9IGdldFBhbmVsKHZpZXcsIG9wZW4pO1xuICAgICAgICBpZiAocGFuZWwgJiYgcGFuZWwuZG9tLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKVxuICAgICAgICAgICAgcmV0dXJuIHBhbmVsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IGRpYWxvZ0ZpZWxkID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBbXTsgfSxcbiAgICB1cGRhdGUoZGlhbG9ncywgdHIpIHtcbiAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZS5pcyhvcGVuRGlhbG9nRWZmZWN0KSlcbiAgICAgICAgICAgICAgICBkaWFsb2dzID0gW2UudmFsdWVdLmNvbmNhdChkaWFsb2dzKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGUuaXMoY2xvc2VEaWFsb2dFZmZlY3QpKVxuICAgICAgICAgICAgICAgIGRpYWxvZ3MgPSBkaWFsb2dzLmZpbHRlcihkID0+IGQgIT0gZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpYWxvZ3M7XG4gICAgfSxcbiAgICBwcm92aWRlOiBmID0+IHNob3dQYW5lbC5jb21wdXRlTihbZl0sIHN0YXRlID0+IHN0YXRlLmZpZWxkKGYpKVxufSk7XG5jb25zdCBvcGVuRGlhbG9nRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuY29uc3QgY2xvc2VEaWFsb2dFZmZlY3QgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5mdW5jdGlvbiBjcmVhdGVEaWFsb2codmlldywgY29uZmlnLCByZXN1bHQpIHtcbiAgICBsZXQgY29udGVudCA9IGNvbmZpZy5jb250ZW50ID8gY29uZmlnLmNvbnRlbnQodmlldywgKCkgPT4gZG9uZShudWxsKSkgOiBudWxsO1xuICAgIGlmICghY29udGVudCkge1xuICAgICAgICBjb250ZW50ID0gZWx0KFwiZm9ybVwiKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pbnB1dCkge1xuICAgICAgICAgICAgbGV0IGlucHV0ID0gZWx0KFwiaW5wdXRcIiwgY29uZmlnLmlucHV0KTtcbiAgICAgICAgICAgIGlmICgvXih0ZXh0fHBhc3N3b3JkfG51bWJlcnxlbWFpbHx0ZWx8dXJsKSQvLnRlc3QoaW5wdXQudHlwZSkpXG4gICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImNtLXRleHRmaWVsZFwiKTtcbiAgICAgICAgICAgIGlmICghaW5wdXQubmFtZSlcbiAgICAgICAgICAgICAgICBpbnB1dC5uYW1lID0gXCJpbnB1dFwiO1xuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJsYWJlbFwiLCAoY29uZmlnLmxhYmVsIHx8IFwiXCIpICsgXCI6IFwiLCBpbnB1dCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb25maWcubGFiZWwgfHwgXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJidXR0b25cIiwgeyBjbGFzczogXCJjbS1idXR0b25cIiwgdHlwZTogXCJzdWJtaXRcIiB9LCBjb25maWcuc3VibWl0TGFiZWwgfHwgXCJPS1wiKSk7XG4gICAgfVxuICAgIGxldCBmb3JtcyA9IGNvbnRlbnQubm9kZU5hbWUgPT0gXCJGT1JNXCIgPyBbY29udGVudF0gOiBjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJmb3JtXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGZvcm0gPSBmb3Jtc1tpXTtcbiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDI3KSB7IC8vIEVzY2FwZVxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZG9uZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHsgLy8gRW50ZXJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGRvbmUoZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZG9uZShmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBwYW5lbCA9IGVsdChcImRpdlwiLCBjb250ZW50LCBlbHQoXCJidXR0b25cIiwge1xuICAgICAgICBvbmNsaWNrOiAoKSA9PiBkb25lKG51bGwpLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogdmlldy5zdGF0ZS5waHJhc2UoXCJjbG9zZVwiKSxcbiAgICAgICAgY2xhc3M6IFwiY20tZGlhbG9nLWNsb3NlXCIsXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9LCBbXCJcdTAwRDdcIl0pKTtcbiAgICBpZiAoY29uZmlnLmNsYXNzKVxuICAgICAgICBwYW5lbC5jbGFzc05hbWUgPSBjb25maWcuY2xhc3M7XG4gICAgcGFuZWwuY2xhc3NMaXN0LmFkZChcImNtLWRpYWxvZ1wiKTtcbiAgICBmdW5jdGlvbiBkb25lKGZvcm0pIHtcbiAgICAgICAgaWYgKHBhbmVsLmNvbnRhaW5zKHBhbmVsLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpXG4gICAgICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgIHJlc3VsdChmb3JtKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZG9tOiBwYW5lbCxcbiAgICAgICAgdG9wOiBjb25maWcudG9wLFxuICAgICAgICBtb3VudDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5mb2N1cykge1xuICAgICAgICAgICAgICAgIGxldCBmb2N1cztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5mb2N1cyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICBmb2N1cyA9IGNvbnRlbnQucXVlcnlTZWxlY3Rvcihjb25maWcuZm9jdXMpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZm9jdXMgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKSB8fCBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzICYmIFwic2VsZWN0XCIgaW4gZm9jdXMpXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvY3VzICYmIFwiZm9jdXNcIiBpbiBmb2N1cylcbiAgICAgICAgICAgICAgICAgICAgZm9jdXMuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuQSBndXR0ZXIgbWFya2VyIHJlcHJlc2VudHMgYSBiaXQgb2YgaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gYSBsaW5lXG5pbiBhIHNwZWNpZmljIGd1dHRlci4gWW91ciBvd24gY3VzdG9tIG1hcmtlcnMgaGF2ZSB0byBleHRlbmQgdGhpc1xuY2xhc3MuXG4qL1xuY2xhc3MgR3V0dGVyTWFya2VyIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyBtYXJrZXIgdG8gYW5vdGhlciBtYXJrZXIgb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIENhbGxlZCBpZiB0aGUgbWFya2VyIGhhcyBhIGB0b0RPTWAgbWV0aG9kIGFuZCBpdHMgcmVwcmVzZW50YXRpb25cbiAgICB3YXMgcmVtb3ZlZCBmcm9tIGEgZ3V0dGVyLlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5lbGVtZW50Q2xhc3MgPSBcIlwiO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS50b0RPTSA9IHVuZGVmaW5lZDtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLnN0YXJ0U2lkZSA9IEd1dHRlck1hcmtlci5wcm90b3R5cGUuZW5kU2lkZSA9IC0xO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG4vKipcbkZhY2V0IHVzZWQgdG8gYWRkIGEgY2xhc3MgdG8gYWxsIGd1dHRlciBlbGVtZW50cyBmb3IgYSBnaXZlbiBsaW5lLlxuTWFya2VycyBnaXZlbiB0byB0aGlzIGZhY2V0IHNob3VsZCBfb25seV8gZGVmaW5lIGFuXG5bYGVsZW1lbnRjbGFzc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5HdXR0ZXJNYXJrZXIuZWxlbWVudENsYXNzKSwgbm90IGFcbltgdG9ET01gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuR3V0dGVyTWFya2VyLnRvRE9NKSAob3IgdGhlIG1hcmtlciB3aWxsIGFwcGVhclxuaW4gYWxsIGd1dHRlcnMgZm9yIHRoZSBsaW5lKS5cbiovXG5jb25zdCBndXR0ZXJMaW5lQ2xhc3MgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IHVzZWQgdG8gYWRkIGEgY2xhc3MgdG8gYWxsIGd1dHRlciBlbGVtZW50cyBuZXh0IHRvIGEgd2lkZ2V0LlxuU2hvdWxkIG5vdCBwcm92aWRlIHdpZGdldHMgd2l0aCBhIGB0b0RPTWAgbWV0aG9kLlxuKi9cbmNvbnN0IGd1dHRlcldpZGdldENsYXNzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgY2xhc3M6IFwiXCIsXG4gICAgcmVuZGVyRW1wdHlFbGVtZW50czogZmFsc2UsXG4gICAgZWxlbWVudFN0eWxlOiBcIlwiLFxuICAgIG1hcmtlcnM6ICgpID0+IFJhbmdlU2V0LmVtcHR5LFxuICAgIGxpbmVNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgd2lkZ2V0TWFya2VyOiAoKSA9PiBudWxsLFxuICAgIGxpbmVNYXJrZXJDaGFuZ2U6IG51bGwsXG4gICAgaW5pdGlhbFNwYWNlcjogbnVsbCxcbiAgICB1cGRhdGVTcGFjZXI6IG51bGwsXG4gICAgZG9tRXZlbnRIYW5kbGVyczoge31cbn07XG5jb25zdCBhY3RpdmVHdXR0ZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5EZWZpbmUgYW4gZWRpdG9yIGd1dHRlci4gVGhlIG9yZGVyIGluIHdoaWNoIHRoZSBndXR0ZXJzIGFwcGVhciBpc1xuZGV0ZXJtaW5lZCBieSB0aGVpciBleHRlbnNpb24gcHJpb3JpdHkuXG4qL1xuZnVuY3Rpb24gZ3V0dGVyKGNvbmZpZykge1xuICAgIHJldHVybiBbZ3V0dGVycygpLCBhY3RpdmVHdXR0ZXJzLm9mKHsgLi4uZGVmYXVsdHMsIC4uLmNvbmZpZyB9KV07XG59XG5jb25zdCB1bmZpeEd1dHRlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG4vKipcblRoZSBndXR0ZXItZHJhd2luZyBwbHVnaW4gaXMgYXV0b21hdGljYWxseSBlbmFibGVkIHdoZW4geW91IGFkZCBhXG5ndXR0ZXIsIGJ1dCB5b3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGV4cGxpY2l0bHkgY29uZmlndXJlIGl0LlxuXG5Vbmxlc3MgYGZpeGVkYCBpcyBleHBsaWNpdGx5IHNldCB0byBgZmFsc2VgLCB0aGUgZ3V0dGVycyBhcmVcbmZpeGVkLCBtZWFuaW5nIHRoZXkgZG9uJ3Qgc2Nyb2xsIGFsb25nIHdpdGggdGhlIGNvbnRlbnRcbmhvcml6b250YWxseSAoZXhjZXB0IG9uIEludGVybmV0IEV4cGxvcmVyLCB3aGljaCBkb2Vzbid0IHN1cHBvcnRcbkNTUyBbYHBvc2l0aW9uOlxuc3RpY2t5YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3Bvc2l0aW9uI3N0aWNreSkpLlxuKi9cbmZ1bmN0aW9uIGd1dHRlcnMoY29uZmlnKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtcbiAgICAgICAgZ3V0dGVyVmlldyxcbiAgICBdO1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLmZpeGVkID09PSBmYWxzZSlcbiAgICAgICAgcmVzdWx0LnB1c2godW5maXhHdXR0ZXJzLm9mKHRydWUpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ3V0dGVyVmlldyA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnByZXZWaWV3cG9ydCA9IHZpZXcudmlld3BvcnQ7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJzXCI7XG4gICAgICAgIHRoaXMuZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgdGhpcy5kb20uc3R5bGUubWluSGVpZ2h0ID0gKHRoaXMudmlldy5jb250ZW50SGVpZ2h0IC8gdGhpcy52aWV3LnNjYWxlWSkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZ3V0dGVycyA9IHZpZXcuc3RhdGUuZmFjZXQoYWN0aXZlR3V0dGVycykubWFwKGNvbmYgPT4gbmV3IFNpbmdsZUd1dHRlclZpZXcodmlldywgY29uZikpO1xuICAgICAgICBmb3IgKGxldCBndXR0ZXIgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoZ3V0dGVyLmRvbSk7XG4gICAgICAgIHRoaXMuZml4ZWQgPSAhdmlldy5zdGF0ZS5mYWNldCh1bmZpeEd1dHRlcnMpO1xuICAgICAgICBpZiAodGhpcy5maXhlZCkge1xuICAgICAgICAgICAgLy8gRklYTUUgSUUxMSBmYWxsYmFjaywgd2hpY2ggZG9lc24ndCBzdXBwb3J0IHBvc2l0aW9uOiBzdGlja3ksXG4gICAgICAgICAgICAvLyBieSB1c2luZyBwb3NpdGlvbjogcmVsYXRpdmUgKyBldmVudCBoYW5kbGVycyB0aGF0IHJlYWxpZ24gdGhlXG4gICAgICAgICAgICAvLyBndXR0ZXIgKG9yIGp1c3QgZm9yY2UgZml4ZWQ9ZmFsc2Ugb24gSUUxMT8pXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5wb3NpdGlvbiA9IFwic3RpY2t5XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeW5jR3V0dGVycyhmYWxzZSk7XG4gICAgICAgIHZpZXcuc2Nyb2xsRE9NLmluc2VydEJlZm9yZSh0aGlzLmRvbSwgdmlldy5jb250ZW50RE9NKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVHdXR0ZXJzKHVwZGF0ZSkpIHtcbiAgICAgICAgICAgIC8vIERldGFjaCBkdXJpbmcgc3luYyB3aGVuIHRoZSB2aWV3cG9ydCBjaGFuZ2VkIHNpZ25pZmljYW50bHlcbiAgICAgICAgICAgIC8vIChzdWNoIGFzIGR1cmluZyBzY3JvbGxpbmcpLCBzaW5jZSBmb3IgbGFyZ2UgdXBkYXRlcyB0aGF0IGlzXG4gICAgICAgICAgICAvLyBmYXN0ZXIuXG4gICAgICAgICAgICBsZXQgdnBBID0gdGhpcy5wcmV2Vmlld3BvcnQsIHZwQiA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgICAgICAgICAgbGV0IHZwT3ZlcmxhcCA9IE1hdGgubWluKHZwQS50bywgdnBCLnRvKSAtIE1hdGgubWF4KHZwQS5mcm9tLCB2cEIuZnJvbSk7XG4gICAgICAgICAgICB0aGlzLnN5bmNHdXR0ZXJzKHZwT3ZlcmxhcCA8ICh2cEIudG8gLSB2cEIuZnJvbSkgKiAwLjgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSAodGhpcy52aWV3LmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZKSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlLmZhY2V0KHVuZml4R3V0dGVycykgIT0gIXRoaXMuZml4ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWQgPSAhdGhpcy5maXhlZDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5maXhlZCA/IFwic3RpY2t5XCIgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJldlZpZXdwb3J0ID0gdXBkYXRlLnZpZXcudmlld3BvcnQ7XG4gICAgfVxuICAgIHN5bmNHdXR0ZXJzKGRldGFjaCkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmRvbS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICBsZXQgbGluZUNsYXNzZXMgPSBSYW5nZVNldC5pdGVyKHRoaXMudmlldy5zdGF0ZS5mYWNldChndXR0ZXJMaW5lQ2xhc3MpLCB0aGlzLnZpZXcudmlld3BvcnQuZnJvbSk7XG4gICAgICAgIGxldCBjbGFzc1NldCA9IFtdO1xuICAgICAgICBsZXQgY29udGV4dHMgPSB0aGlzLmd1dHRlcnMubWFwKGd1dHRlciA9PiBuZXcgVXBkYXRlQ29udGV4dChndXR0ZXIsIHRoaXMudmlldy52aWV3cG9ydCwgLXRoaXMudmlldy5kb2N1bWVudFBhZGRpbmcudG9wKSk7XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy52aWV3LnZpZXdwb3J0TGluZUJsb2Nrcykge1xuICAgICAgICAgICAgaWYgKGNsYXNzU2V0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICBjbGFzc1NldCA9IFtdO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSkge1xuICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYiBvZiBsaW5lLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCAmJiBmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUN1cnNvcihsaW5lQ2xhc3NlcywgY2xhc3NTZXQsIGIuZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeC5saW5lKHRoaXMudmlldywgYiwgY2xhc3NTZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChiLndpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gud2lkZ2V0KHRoaXMudmlldywgYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQpIHtcbiAgICAgICAgICAgICAgICBhZHZhbmNlQ3Vyc29yKGxpbmVDbGFzc2VzLCBjbGFzc1NldCwgbGluZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgY3gubGluZSh0aGlzLnZpZXcsIGxpbmUsIGNsYXNzU2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUud2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgICAgIGN4LndpZGdldCh0aGlzLnZpZXcsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgY3guZmluaXNoKCk7XG4gICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsRE9NLmluc2VydEJlZm9yZSh0aGlzLmRvbSwgYWZ0ZXIpO1xuICAgIH1cbiAgICB1cGRhdGVHdXR0ZXJzKHVwZGF0ZSkge1xuICAgICAgICBsZXQgcHJldiA9IHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGFjdGl2ZUd1dHRlcnMpLCBjdXIgPSB1cGRhdGUuc3RhdGUuZmFjZXQoYWN0aXZlR3V0dGVycyk7XG4gICAgICAgIGxldCBjaGFuZ2UgPSB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuaGVpZ2h0Q2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAhUmFuZ2VTZXQuZXEodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoZ3V0dGVyTGluZUNsYXNzKSwgdXBkYXRlLnN0YXRlLmZhY2V0KGd1dHRlckxpbmVDbGFzcyksIHVwZGF0ZS52aWV3LnZpZXdwb3J0LmZyb20sIHVwZGF0ZS52aWV3LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKHByZXYgPT0gY3VyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBndXR0ZXIgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgICAgIGlmIChndXR0ZXIudXBkYXRlKHVwZGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGd1dHRlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbmYgb2YgY3VyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtub3duID0gcHJldi5pbmRleE9mKGNvbmYpO1xuICAgICAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVycy5wdXNoKG5ldyBTaW5nbGVHdXR0ZXJWaWV3KHRoaXMudmlldywgY29uZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ndXR0ZXJzW2tub3duXS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVycy5wdXNoKHRoaXMuZ3V0dGVyc1trbm93bl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGcgb2YgdGhpcy5ndXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgZy5kb20ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGd1dHRlcnMuaW5kZXhPZihnKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIGcuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZyBvZiBndXR0ZXJzKVxuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGcuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuZ3V0dGVycyA9IGd1dHRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICB2aWV3LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiBFZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMub2YodmlldyA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHZpZXcucGx1Z2luKHBsdWdpbik7XG4gICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUuZ3V0dGVycy5sZW5ndGggPT0gMCB8fCAhdmFsdWUuZml4ZWQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSXG4gICAgICAgICAgICA/IHsgbGVmdDogdmFsdWUuZG9tLm9mZnNldFdpZHRoICogdmlldy5zY2FsZVggfVxuICAgICAgICAgICAgOiB7IHJpZ2h0OiB2YWx1ZS5kb20ub2Zmc2V0V2lkdGggKiB2aWV3LnNjYWxlWCB9O1xuICAgIH0pXG59KTtcbmZ1bmN0aW9uIGFzQXJyYXkodmFsKSB7IHJldHVybiAoQXJyYXkuaXNBcnJheSh2YWwpID8gdmFsIDogW3ZhbF0pOyB9XG5mdW5jdGlvbiBhZHZhbmNlQ3Vyc29yKGN1cnNvciwgY29sbGVjdCwgcG9zKSB7XG4gICAgd2hpbGUgKGN1cnNvci52YWx1ZSAmJiBjdXJzb3IuZnJvbSA8PSBwb3MpIHtcbiAgICAgICAgaWYgKGN1cnNvci5mcm9tID09IHBvcylcbiAgICAgICAgICAgIGNvbGxlY3QucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgIH1cbn1cbmNsYXNzIFVwZGF0ZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKGd1dHRlciwgdmlld3BvcnQsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmd1dHRlciA9IGd1dHRlcjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gUmFuZ2VTZXQuaXRlcihndXR0ZXIubWFya2Vycywgdmlld3BvcnQuZnJvbSk7XG4gICAgfVxuICAgIGFkZEVsZW1lbnQodmlldywgYmxvY2ssIG1hcmtlcnMpIHtcbiAgICAgICAgbGV0IHsgZ3V0dGVyIH0gPSB0aGlzLCBhYm92ZSA9IChibG9jay50b3AgLSB0aGlzLmhlaWdodCkgLyB2aWV3LnNjYWxlWSwgaGVpZ2h0ID0gYmxvY2suaGVpZ2h0IC8gdmlldy5zY2FsZVk7XG4gICAgICAgIGlmICh0aGlzLmkgPT0gZ3V0dGVyLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5ld0VsdCA9IG5ldyBHdXR0ZXJFbGVtZW50KHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgICAgICAgICAgZ3V0dGVyLmVsZW1lbnRzLnB1c2gobmV3RWx0KTtcbiAgICAgICAgICAgIGd1dHRlci5kb20uYXBwZW5kQ2hpbGQobmV3RWx0LmRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBndXR0ZXIuZWxlbWVudHNbdGhpcy5pXS51cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBibG9jay5ib3R0b207XG4gICAgICAgIHRoaXMuaSsrO1xuICAgIH1cbiAgICBsaW5lKHZpZXcsIGxpbmUsIGV4dHJhTWFya2Vycykge1xuICAgICAgICBsZXQgbG9jYWxNYXJrZXJzID0gW107XG4gICAgICAgIGFkdmFuY2VDdXJzb3IodGhpcy5jdXJzb3IsIGxvY2FsTWFya2VycywgbGluZS5mcm9tKTtcbiAgICAgICAgaWYgKGV4dHJhTWFya2Vycy5sZW5ndGgpXG4gICAgICAgICAgICBsb2NhbE1hcmtlcnMgPSBsb2NhbE1hcmtlcnMuY29uY2F0KGV4dHJhTWFya2Vycyk7XG4gICAgICAgIGxldCBmb3JMaW5lID0gdGhpcy5ndXR0ZXIuY29uZmlnLmxpbmVNYXJrZXIodmlldywgbGluZSwgbG9jYWxNYXJrZXJzKTtcbiAgICAgICAgaWYgKGZvckxpbmUpXG4gICAgICAgICAgICBsb2NhbE1hcmtlcnMudW5zaGlmdChmb3JMaW5lKTtcbiAgICAgICAgbGV0IGd1dHRlciA9IHRoaXMuZ3V0dGVyO1xuICAgICAgICBpZiAobG9jYWxNYXJrZXJzLmxlbmd0aCA9PSAwICYmICFndXR0ZXIuY29uZmlnLnJlbmRlckVtcHR5RWxlbWVudHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudCh2aWV3LCBsaW5lLCBsb2NhbE1hcmtlcnMpO1xuICAgIH1cbiAgICB3aWRnZXQodmlldywgYmxvY2spIHtcbiAgICAgICAgbGV0IG1hcmtlciA9IHRoaXMuZ3V0dGVyLmNvbmZpZy53aWRnZXRNYXJrZXIodmlldywgYmxvY2sud2lkZ2V0LCBibG9jayksIG1hcmtlcnMgPSBtYXJrZXIgPyBbbWFya2VyXSA6IG51bGw7XG4gICAgICAgIGZvciAobGV0IGNscyBvZiB2aWV3LnN0YXRlLmZhY2V0KGd1dHRlcldpZGdldENsYXNzKSkge1xuICAgICAgICAgICAgbGV0IG1hcmtlciA9IGNscyh2aWV3LCBibG9jay53aWRnZXQsIGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChtYXJrZXIpXG4gICAgICAgICAgICAgICAgKG1hcmtlcnMgfHwgKG1hcmtlcnMgPSBbXSkpLnB1c2gobWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFya2VycylcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudCh2aWV3LCBibG9jaywgbWFya2Vycyk7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgbGV0IGd1dHRlciA9IHRoaXMuZ3V0dGVyO1xuICAgICAgICB3aGlsZSAoZ3V0dGVyLmVsZW1lbnRzLmxlbmd0aCA+IHRoaXMuaSkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBndXR0ZXIuZWxlbWVudHMucG9wKCk7XG4gICAgICAgICAgICBndXR0ZXIuZG9tLnJlbW92ZUNoaWxkKGxhc3QuZG9tKTtcbiAgICAgICAgICAgIGxhc3QuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2luZ2xlR3V0dGVyVmlldyB7XG4gICAgY29uc3RydWN0b3IodmlldywgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuc3BhY2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlclwiICsgKHRoaXMuY29uZmlnLmNsYXNzID8gXCIgXCIgKyB0aGlzLmNvbmZpZy5jbGFzcyA6IFwiXCIpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGNvbmZpZy5kb21FdmVudEhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKHByb3AsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQsIHk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSB0aGlzLmRvbSAmJiB0aGlzLmRvbS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAhPSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IChyZWN0LnRvcCArIHJlY3QuYm90dG9tKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0SGVpZ2h0KHkgLSB2aWV3LmRvY3VtZW50VG9wKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmRvbUV2ZW50SGFuZGxlcnNbcHJvcF0odmlldywgbGluZSwgZXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheShjb25maWcubWFya2Vycyh2aWV3KSk7XG4gICAgICAgIGlmIChjb25maWcuaW5pdGlhbFNwYWNlcikge1xuICAgICAgICAgICAgdGhpcy5zcGFjZXIgPSBuZXcgR3V0dGVyRWxlbWVudCh2aWV3LCAwLCAwLCBbY29uZmlnLmluaXRpYWxTcGFjZXIodmlldyldKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuc3BhY2VyLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnNwYWNlci5kb20uc3R5bGUuY3NzVGV4dCArPSBcInZpc2liaWxpdHk6IGhpZGRlbjsgcG9pbnRlci1ldmVudHM6IG5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2TWFya2VycyA9IHRoaXMubWFya2VycztcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gYXNBcnJheSh0aGlzLmNvbmZpZy5tYXJrZXJzKHVwZGF0ZS52aWV3KSk7XG4gICAgICAgIGlmICh0aGlzLnNwYWNlciAmJiB0aGlzLmNvbmZpZy51cGRhdGVTcGFjZXIpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5jb25maWcudXBkYXRlU3BhY2VyKHRoaXMuc3BhY2VyLm1hcmtlcnNbMF0sIHVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodXBkYXRlZCAhPSB0aGlzLnNwYWNlci5tYXJrZXJzWzBdKVxuICAgICAgICAgICAgICAgIHRoaXMuc3BhY2VyLnVwZGF0ZSh1cGRhdGUudmlldywgMCwgMCwgW3VwZGF0ZWRdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdnAgPSB1cGRhdGUudmlldy52aWV3cG9ydDtcbiAgICAgICAgcmV0dXJuICFSYW5nZVNldC5lcSh0aGlzLm1hcmtlcnMsIHByZXZNYXJrZXJzLCB2cC5mcm9tLCB2cC50bykgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbmZpZy5saW5lTWFya2VyQ2hhbmdlID8gdGhpcy5jb25maWcubGluZU1hcmtlckNoYW5nZSh1cGRhdGUpIDogZmFsc2UpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBlbHQgb2YgdGhpcy5lbGVtZW50cylcbiAgICAgICAgICAgIGVsdC5kZXN0cm95KCk7XG4gICAgfVxufVxuY2xhc3MgR3V0dGVyRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICB0aGlzLmFib3ZlID0gMDtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gW107XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJFbGVtZW50XCI7XG4gICAgICAgIHRoaXMudXBkYXRlKHZpZXcsIGhlaWdodCwgYWJvdmUsIG1hcmtlcnMpO1xuICAgIH1cbiAgICB1cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycykge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm92ZSAhPSBhYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLmFib3ZlID0gYWJvdmUpID8gYWJvdmUgKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICBpZiAoIXNhbWVNYXJrZXJzKHRoaXMubWFya2VycywgbWFya2VycykpXG4gICAgICAgICAgICB0aGlzLnNldE1hcmtlcnModmlldywgbWFya2Vycyk7XG4gICAgfVxuICAgIHNldE1hcmtlcnModmlldywgbWFya2Vycykge1xuICAgICAgICBsZXQgY2xzID0gXCJjbS1ndXR0ZXJFbGVtZW50XCIsIGRvbVBvcyA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGZvciAobGV0IGlOZXcgPSAwLCBpT2xkID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgc2tpcFRvID0gaU9sZCwgbWFya2VyID0gaU5ldyA8IG1hcmtlcnMubGVuZ3RoID8gbWFya2Vyc1tpTmV3KytdIDogbnVsbCwgbWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgICAgIGxldCBjID0gbWFya2VyLmVsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiICsgYztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaU9sZDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5jb21wYXJlKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUbyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwVG8gPSB0aGlzLm1hcmtlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGlPbGQgPCBza2lwVG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubWFya2Vyc1tpT2xkKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZGVzdHJveShkb21Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBkb21Qb3MubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zID0gYWZ0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXJrZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobWFya2VyLnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcyA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShtYXJrZXIudG9ET00odmlldyksIGRvbVBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgICAgICBpT2xkKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gY2xzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldE1hcmtlcnMobnVsbCwgW10pOyAvLyBGaXJzdCBhcmd1bWVudCBub3QgdXNlZCB1bmxlc3MgY3JlYXRpbmcgbWFya2Vyc1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghYVtpXS5jb21wYXJlKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5GYWNldCB1c2VkIHRvIHByb3ZpZGUgbWFya2VycyB0byB0aGUgbGluZSBudW1iZXIgZ3V0dGVyLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJNYXJrZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNyZWF0ZSBtYXJrZXJzIGluIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgbmV4dCB0byB3aWRnZXRzLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBsaW5lTnVtYmVyQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcodmFsdWVzLCB7IGZvcm1hdE51bWJlcjogU3RyaW5nLCBkb21FdmVudEhhbmRsZXJzOiB7fSB9LCB7XG4gICAgICAgICAgICBkb21FdmVudEhhbmRsZXJzKGEsIGIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgYSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gYikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXhpc3RzID0gcmVzdWx0W2V2ZW50XSwgYWRkID0gYltldmVudF07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtldmVudF0gPSBleGlzdHMgPyAodmlldywgbGluZSwgZXZlbnQpID0+IGV4aXN0cyh2aWV3LCBsaW5lLCBldmVudCkgfHwgYWRkKHZpZXcsIGxpbmUsIGV2ZW50KSA6IGFkZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jbGFzcyBOdW1iZXJNYXJrZXIgZXh0ZW5kcyBHdXR0ZXJNYXJrZXIge1xuICAgIGNvbnN0cnVjdG9yKG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIHRoaXMubnVtYmVyID09IG90aGVyLm51bWJlcjsgfVxuICAgIHRvRE9NKCkgeyByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5udW1iZXIpOyB9XG59XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIodmlldywgbnVtYmVyKSB7XG4gICAgcmV0dXJuIHZpZXcuc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZykuZm9ybWF0TnVtYmVyKG51bWJlciwgdmlldy5zdGF0ZSk7XG59XG5jb25zdCBsaW5lTnVtYmVyR3V0dGVyID0gLypAX19QVVJFX18qL2FjdGl2ZUd1dHRlcnMuY29tcHV0ZShbbGluZU51bWJlckNvbmZpZ10sIHN0YXRlID0+ICh7XG4gICAgY2xhc3M6IFwiY20tbGluZU51bWJlcnNcIixcbiAgICByZW5kZXJFbXB0eUVsZW1lbnRzOiBmYWxzZSxcbiAgICBtYXJrZXJzKHZpZXcpIHsgcmV0dXJuIHZpZXcuc3RhdGUuZmFjZXQobGluZU51bWJlck1hcmtlcnMpOyB9LFxuICAgIGxpbmVNYXJrZXIodmlldywgbGluZSwgb3RoZXJzKSB7XG4gICAgICAgIGlmIChvdGhlcnMuc29tZShtID0+IG0udG9ET00pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyTWFya2VyKGZvcm1hdE51bWJlcih2aWV3LCB2aWV3LnN0YXRlLmRvYy5saW5lQXQobGluZS5mcm9tKS5udW1iZXIpKTtcbiAgICB9LFxuICAgIHdpZGdldE1hcmtlcjogKHZpZXcsIHdpZGdldCwgYmxvY2spID0+IHtcbiAgICAgICAgZm9yIChsZXQgbSBvZiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbSh2aWV3LCB3aWRnZXQsIGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGxpbmVNYXJrZXJDaGFuZ2U6IHVwZGF0ZSA9PiB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZyksXG4gICAgaW5pdGlhbFNwYWNlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyTWFya2VyKGZvcm1hdE51bWJlcih2aWV3LCBtYXhMaW5lTnVtYmVyKHZpZXcuc3RhdGUuZG9jLmxpbmVzKSkpO1xuICAgIH0sXG4gICAgdXBkYXRlU3BhY2VyKHNwYWNlciwgdXBkYXRlKSB7XG4gICAgICAgIGxldCBtYXggPSBmb3JtYXROdW1iZXIodXBkYXRlLnZpZXcsIG1heExpbmVOdW1iZXIodXBkYXRlLnZpZXcuc3RhdGUuZG9jLmxpbmVzKSk7XG4gICAgICAgIHJldHVybiBtYXggPT0gc3BhY2VyLm51bWJlciA/IHNwYWNlciA6IG5ldyBOdW1iZXJNYXJrZXIobWF4KTtcbiAgICB9LFxuICAgIGRvbUV2ZW50SGFuZGxlcnM6IHN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpLmRvbUV2ZW50SGFuZGxlcnNcbn0pKTtcbi8qKlxuQ3JlYXRlIGEgbGluZSBudW1iZXIgZ3V0dGVyIGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBsaW5lTnVtYmVycyhjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIGxpbmVOdW1iZXJDb25maWcub2YoY29uZmlnKSxcbiAgICAgICAgZ3V0dGVycygpLFxuICAgICAgICBsaW5lTnVtYmVyR3V0dGVyXG4gICAgXTtcbn1cbmZ1bmN0aW9uIG1heExpbmVOdW1iZXIobGluZXMpIHtcbiAgICBsZXQgbGFzdCA9IDk7XG4gICAgd2hpbGUgKGxhc3QgPCBsaW5lcylcbiAgICAgICAgbGFzdCA9IGxhc3QgKiAxMCArIDk7XG4gICAgcmV0dXJuIGxhc3Q7XG59XG5jb25zdCBhY3RpdmVMaW5lR3V0dGVyTWFya2VyID0gLypAX19QVVJFX18qL25ldyBjbGFzcyBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZWxlbWVudENsYXNzID0gXCJjbS1hY3RpdmVMaW5lR3V0dGVyXCI7XG4gICAgfVxufTtcbmNvbnN0IGFjdGl2ZUxpbmVHdXR0ZXJIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9ndXR0ZXJMaW5lQ2xhc3MuY29tcHV0ZShbXCJzZWxlY3Rpb25cIl0sIHN0YXRlID0+IHtcbiAgICBsZXQgbWFya3MgPSBbXSwgbGFzdCA9IC0xO1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgbGV0IGxpbmVQb3MgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmhlYWQpLmZyb207XG4gICAgICAgIGlmIChsaW5lUG9zID4gbGFzdCkge1xuICAgICAgICAgICAgbGFzdCA9IGxpbmVQb3M7XG4gICAgICAgICAgICBtYXJrcy5wdXNoKGFjdGl2ZUxpbmVHdXR0ZXJNYXJrZXIucmFuZ2UobGluZVBvcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSYW5nZVNldC5vZihtYXJrcyk7XG59KTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBhZGRzIGEgYGNtLWFjdGl2ZUxpbmVHdXR0ZXJgIGNsYXNzIHRvXG5hbGwgZ3V0dGVyIGVsZW1lbnRzIG9uIHRoZSBbYWN0aXZlXG5saW5lXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuaGlnaGxpZ2h0QWN0aXZlTGluZSkuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlcigpIHtcbiAgICByZXR1cm4gYWN0aXZlTGluZUd1dHRlckhpZ2hsaWdodGVyO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyKGRlY29yYXRvcikge1xuICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+ICh7XG4gICAgICAgIGRlY29yYXRpb25zOiBkZWNvcmF0b3IuY3JlYXRlRGVjbyh2aWV3KSxcbiAgICAgICAgdXBkYXRlKHUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBkZWNvcmF0b3IudXBkYXRlRGVjbyh1LCB0aGlzLmRlY29yYXRpb25zKTtcbiAgICAgICAgfSxcbiAgICB9KSwge1xuICAgICAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG4gICAgfSk7XG59XG5jb25zdCB0YWJEZWNvID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLWhpZ2hsaWdodFRhYlwiIH0pO1xuY29uc3Qgc3BhY2VEZWNvID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLWhpZ2hsaWdodFNwYWNlXCIgfSk7XG5jb25zdCB3aGl0ZXNwYWNlSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovbWF0Y2hlcigvKkBfX1BVUkVfXyovbmV3IE1hdGNoRGVjb3JhdG9yKHtcbiAgICByZWdleHA6IC9cXHR8IC9nLFxuICAgIGRlY29yYXRpb246IG1hdGNoID0+IG1hdGNoWzBdID09IFwiXFx0XCIgPyB0YWJEZWNvIDogc3BhY2VEZWNvLFxuICAgIGJvdW5kYXJ5OiAvXFxTLyxcbn0pKTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBoaWdobGlnaHRzIHdoaXRlc3BhY2UsIGFkZGluZyBhXG5gY20taGlnaGxpZ2h0U3BhY2VgIGNsYXNzIHRvIHN0cmV0Y2hlcyBvZiBzcGFjZXMsIGFuZCBhXG5gY20taGlnaGxpZ2h0VGFiYCBjbGFzcyB0byBpbmRpdmlkdWFsIHRhYiBjaGFyYWN0ZXJzLiBCeSBkZWZhdWx0LFxudGhlIGZvcm1lciBhcmUgc2hvd24gYXMgZmFpbnQgZG90cywgYW5kIHRoZSBsYXR0ZXIgYXMgYXJyb3dzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFdoaXRlc3BhY2UoKSB7XG4gICAgcmV0dXJuIHdoaXRlc3BhY2VIaWdobGlnaHRlcjtcbn1cbmNvbnN0IHRyYWlsaW5nSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovbWF0Y2hlcigvKkBfX1BVUkVfXyovbmV3IE1hdGNoRGVjb3JhdG9yKHtcbiAgICByZWdleHA6IC9cXHMrJC9nLFxuICAgIGRlY29yYXRpb246IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS10cmFpbGluZ1NwYWNlXCIgfSlcbn0pKTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBhZGRzIGEgYGNtLXRyYWlsaW5nU3BhY2VgIGNsYXNzIHRvIGFsbFxudHJhaWxpbmcgd2hpdGVzcGFjZS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRyYWlsaW5nSGlnaGxpZ2h0ZXI7XG59XG5cbi8qKlxuQGludGVybmFsXG4qL1xuY29uc3QgX190ZXN0ID0geyBIZWlnaHRNYXAsIEhlaWdodE9yYWNsZSwgTWVhc3VyZWRIZWlnaHRzLCBRdWVyeVR5cGUsIENoYW5nZWRSYW5nZSwgY29tcHV0ZU9yZGVyLFxuICAgIG1vdmVWaXN1YWxseSwgY2xlYXJIZWlnaHRDaGFuZ2VGbGFnLCBnZXRIZWlnaHRDaGFuZ2VGbGFnOiAoKSA9PiBoZWlnaHRDaGFuZ2VGbGFnIH07XG5cbmV4cG9ydCB7IEJpZGlTcGFuLCBCbG9ja0luZm8sIEJsb2NrVHlwZSwgRGVjb3JhdGlvbiwgRGlyZWN0aW9uLCBFZGl0b3JWaWV3LCBHdXR0ZXJNYXJrZXIsIE1hdGNoRGVjb3JhdG9yLCBSZWN0YW5nbGVNYXJrZXIsIFZpZXdQbHVnaW4sIFZpZXdVcGRhdGUsIFdpZGdldFR5cGUsIF9fdGVzdCwgY2xvc2VIb3ZlclRvb2x0aXBzLCBjcm9zc2hhaXJDdXJzb3IsIGRyYXdTZWxlY3Rpb24sIGRyb3BDdXJzb3IsIGdldERpYWxvZywgZ2V0RHJhd1NlbGVjdGlvbkNvbmZpZywgZ2V0UGFuZWwsIGdldFRvb2x0aXAsIGd1dHRlciwgZ3V0dGVyTGluZUNsYXNzLCBndXR0ZXJXaWRnZXRDbGFzcywgZ3V0dGVycywgaGFzSG92ZXJUb29sdGlwcywgaGlnaGxpZ2h0QWN0aXZlTGluZSwgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlciwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzLCBoaWdobGlnaHRUcmFpbGluZ1doaXRlc3BhY2UsIGhpZ2hsaWdodFdoaXRlc3BhY2UsIGhvdmVyVG9vbHRpcCwga2V5bWFwLCBsYXllciwgbGluZU51bWJlck1hcmtlcnMsIGxpbmVOdW1iZXJXaWRnZXRNYXJrZXIsIGxpbmVOdW1iZXJzLCBsb2dFeGNlcHRpb24sIHBhbmVscywgcGxhY2Vob2xkZXIsIHJlY3Rhbmd1bGFyU2VsZWN0aW9uLCByZXBvc2l0aW9uVG9vbHRpcHMsIHJ1blNjb3BlSGFuZGxlcnMsIHNjcm9sbFBhc3RFbmQsIHNob3dEaWFsb2csIHNob3dQYW5lbCwgc2hvd1Rvb2x0aXAsIHRvb2x0aXBzIH07XG4iLCAiLyoqXG5UaGUgZGVmYXVsdCBtYXhpbXVtIGxlbmd0aCBvZiBhIGBUcmVlQnVmZmVyYCBub2RlLlxuKi9cbmNvbnN0IERlZmF1bHRCdWZmZXJMZW5ndGggPSAxMDI0O1xubGV0IG5leHRQcm9wSUQgPSAwO1xuY2xhc3MgUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG59XG4vKipcbkVhY2ggW25vZGUgdHlwZV0oI2NvbW1vbi5Ob2RlVHlwZSkgb3IgW2luZGl2aWR1YWwgdHJlZV0oI2NvbW1vbi5UcmVlKVxuY2FuIGhhdmUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGl0IGluIHByb3BzLiBJbnN0YW5jZXMgb2YgdGhpc1xuY2xhc3MgcmVwcmVzZW50IHByb3AgbmFtZXMuXG4qL1xuY2xhc3MgTm9kZVByb3Age1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIG5ldyBub2RlIHByb3AgdHlwZS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0UHJvcElEKys7XG4gICAgICAgIHRoaXMucGVyTm9kZSA9ICEhY29uZmlnLnBlck5vZGU7XG4gICAgICAgIHRoaXMuZGVzZXJpYWxpemUgPSBjb25maWcuZGVzZXJpYWxpemUgfHwgKCgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgbm9kZSB0eXBlIGRvZXNuJ3QgZGVmaW5lIGEgZGVzZXJpYWxpemUgZnVuY3Rpb25cIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGlzIGlzIG1lYW50IHRvIGJlIHVzZWQgd2l0aFxuICAgIFtgTm9kZVNldC5leHRlbmRgXSgjY29tbW9uLk5vZGVTZXQuZXh0ZW5kKSBvclxuICAgIFtgTFJQYXJzZXIuY29uZmlndXJlYF0oI2xyLlBhcnNlckNvbmZpZy5wcm9wcykgdG8gY29tcHV0ZVxuICAgIHByb3AgdmFsdWVzIGZvciBlYWNoIG5vZGUgdHlwZSBpbiB0aGUgc2V0LiBUYWtlcyBhIFttYXRjaFxuICAgIG9iamVjdF0oI2NvbW1vbi5Ob2RlVHlwZV5tYXRjaCkgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHVuZGVmaW5lZFxuICAgIGlmIHRoZSBub2RlIHR5cGUgZG9lc24ndCBnZXQgdGhpcyBwcm9wLCBhbmQgdGhlIHByb3AncyB2YWx1ZSBpZlxuICAgIGl0IGRvZXMuXG4gICAgKi9cbiAgICBhZGQobWF0Y2gpIHtcbiAgICAgICAgaWYgKHRoaXMucGVyTm9kZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ2FuJ3QgYWRkIHBlci1ub2RlIHByb3BzIHRvIG5vZGUgdHlwZXNcIik7XG4gICAgICAgIGlmICh0eXBlb2YgbWF0Y2ggIT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgbWF0Y2ggPSBOb2RlVHlwZS5tYXRjaChtYXRjaCk7XG4gICAgICAgIHJldHVybiAodHlwZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IG1hdGNoKHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IFt0aGlzLCByZXN1bHRdO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuUHJvcCB0aGF0IGlzIHVzZWQgdG8gZGVzY3JpYmUgbWF0Y2hpbmcgZGVsaW1pdGVycy4gRm9yIG9wZW5pbmdcbmRlbGltaXRlcnMsIHRoaXMgaG9sZHMgYW4gYXJyYXkgb2Ygbm9kZSBuYW1lcyAod3JpdHRlbiBhcyBhXG5zcGFjZS1zZXBhcmF0ZWQgc3RyaW5nIHdoZW4gZGVjbGFyaW5nIHRoaXMgcHJvcCBpbiBhIGdyYW1tYXIpXG5mb3IgdGhlIG5vZGUgdHlwZXMgb2YgY2xvc2luZyBkZWxpbWl0ZXJzIHRoYXQgbWF0Y2ggaXQuXG4qL1xuTm9kZVByb3AuY2xvc2VkQnkgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogc3RyID0+IHN0ci5zcGxpdChcIiBcIikgfSk7XG4vKipcblRoZSBpbnZlcnNlIG9mIFtgY2xvc2VkQnlgXSgjY29tbW9uLk5vZGVQcm9wXmNsb3NlZEJ5KS4gVGhpcyBpc1xuYXR0YWNoZWQgdG8gY2xvc2luZyBkZWxpbWl0ZXJzLCBob2xkaW5nIGFuIGFycmF5IG9mIG5vZGUgbmFtZXNcbm9mIHR5cGVzIG9mIG1hdGNoaW5nIG9wZW5pbmcgZGVsaW1pdGVycy5cbiovXG5Ob2RlUHJvcC5vcGVuZWRCeSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuVXNlZCB0byBhc3NpZ24gbm9kZSB0eXBlcyB0byBncm91cHMgKGZvciBleGFtcGxlLCBhbGwgbm9kZVxudHlwZXMgdGhhdCByZXByZXNlbnQgYW4gZXhwcmVzc2lvbiBjb3VsZCBiZSB0YWdnZWQgd2l0aCBhblxuYFwiRXhwcmVzc2lvblwiYCBncm91cCkuXG4qL1xuTm9kZVByb3AuZ3JvdXAgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogc3RyID0+IHN0ci5zcGxpdChcIiBcIikgfSk7XG4vKipcbkF0dGFjaGVkIHRvIG5vZGVzIHRvIGluZGljYXRlIHRoZXNlIHNob3VsZCBiZVxuW2Rpc3BsYXllZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC9kb2NzL3JlZi8jbGFuZ3VhZ2Uuc3ludGF4VHJlZSlcbmluIGEgYmlkaXJlY3Rpb25hbCB0ZXh0IGlzb2xhdGUsIHNvIHRoYXQgZGlyZWN0aW9uLW5ldXRyYWxcbmNoYXJhY3RlcnMgb24gdGhlaXIgc2lkZXMgZG9uJ3QgaW5jb3JyZWN0bHkgZ2V0IGFzc29jaWF0ZWQgd2l0aFxuc3Vycm91bmRpbmcgdGV4dC4gWW91J2xsIGdlbmVyYWxseSB3YW50IHRvIHNldCB0aGlzIGZvciBub2Rlc1xudGhhdCBjb250YWluIGFyYml0cmFyeSB0ZXh0LCBsaWtlIHN0cmluZ3MgYW5kIGNvbW1lbnRzLCBhbmQgZm9yXG5ub2RlcyB0aGF0IGFwcGVhciBfaW5zaWRlXyBhcmJpdHJhcnkgdGV4dCwgbGlrZSBIVE1MIHRhZ3MuIFdoZW5cbm5vdCBnaXZlbiBhIHZhbHVlLCBpbiBhIGdyYW1tYXIgZGVjbGFyYXRpb24sIGRlZmF1bHRzIHRvXG5gXCJhdXRvXCJgLlxuKi9cbk5vZGVQcm9wLmlzb2xhdGUgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogdmFsdWUgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT0gXCJydGxcIiAmJiB2YWx1ZSAhPSBcImx0clwiICYmIHZhbHVlICE9IFwiYXV0b1wiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBpc29sYXRlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlIHx8IFwiYXV0b1wiO1xuICAgIH0gfSk7XG4vKipcblRoZSBoYXNoIG9mIHRoZSBbY29udGV4dF0oI2xyLkNvbnRleHRUcmFja2VyLmNvbnN0cnVjdG9yKVxudGhhdCB0aGUgbm9kZSB3YXMgcGFyc2VkIGluLCBpZiBhbnkuIFVzZWQgdG8gbGltaXQgcmV1c2Ugb2ZcbmNvbnRleHR1YWwgbm9kZXMuXG4qL1xuTm9kZVByb3AuY29udGV4dEhhc2ggPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLyoqXG5UaGUgZGlzdGFuY2UgYmV5b25kIHRoZSBlbmQgb2YgdGhlIG5vZGUgdGhhdCB0aGUgdG9rZW5pemVyXG5sb29rZWQgYWhlYWQgZm9yIGFueSBvZiB0aGUgdG9rZW5zIGluc2lkZSB0aGUgbm9kZS4gKFRoZSBMUlxucGFyc2VyIG9ubHkgc3RvcmVzIHRoaXMgd2hlbiBpdCBpcyBsYXJnZXIgdGhhbiAyNSwgZm9yXG5lZmZpY2llbmN5IHJlYXNvbnMuKVxuKi9cbk5vZGVQcm9wLmxvb2tBaGVhZCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vKipcblRoaXMgcGVyLW5vZGUgcHJvcCBpcyB1c2VkIHRvIHJlcGxhY2UgYSBnaXZlbiBub2RlLCBvciBwYXJ0IG9mIGFcbm5vZGUsIHdpdGggYW5vdGhlciB0cmVlLiBUaGlzIGlzIHVzZWZ1bCB0byBpbmNsdWRlIHRyZWVzIGZyb21cbmRpZmZlcmVudCBsYW5ndWFnZXMgaW4gbWl4ZWQtbGFuZ3VhZ2UgcGFyc2Vycy5cbiovXG5Ob2RlUHJvcC5tb3VudGVkID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbi8qKlxuQSBtb3VudGVkIHRyZWUsIHdoaWNoIGNhbiBiZSBbc3RvcmVkXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIG9uXG5hIHRyZWUgbm9kZSB0byBpbmRpY2F0ZSB0aGF0IHBhcnRzIG9mIGl0cyBjb250ZW50IGFyZVxucmVwcmVzZW50ZWQgYnkgYW5vdGhlciB0cmVlLlxuKi9cbmNsYXNzIE1vdW50ZWRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgaW5uZXIgdHJlZS5cbiAgICAqL1xuICAgIHRyZWUsIFxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgbnVsbCwgdGhpcyB0cmVlIHJlcGxhY2VzIHRoZSBlbnRpcmUgbm9kZSAoaXQgd2lsbFxuICAgIGJlIGluY2x1ZGVkIGluIHRoZSByZWd1bGFyIGl0ZXJhdGlvbiBpbnN0ZWFkIG9mIGl0cyBob3N0XG4gICAgbm9kZSkuIElmIG5vdCwgb25seSB0aGUgZ2l2ZW4gcmFuZ2VzIGFyZSBjb25zaWRlcmVkIHRvIGJlXG4gICAgY292ZXJlZCBieSB0aGlzIHRyZWUuIFRoaXMgaXMgdXNlZCBmb3IgdHJlZXMgdGhhdCBhcmUgbWl4ZWQgaW5cbiAgICBhIHdheSB0aGF0IGlzbid0IHN0cmljdGx5IGhpZXJhcmNoaWNhbC4gU3VjaCBtb3VudGVkIHRyZWVzIGFyZVxuICAgIG9ubHkgZW50ZXJlZCBieSBbYHJlc29sdmVJbm5lcmBdKCNjb21tb24uVHJlZS5yZXNvbHZlSW5uZXIpXG4gICAgYW5kIFtgZW50ZXJgXSgjY29tbW9uLlN5bnRheE5vZGUuZW50ZXIpLlxuICAgICovXG4gICAgb3ZlcmxheSwgXG4gICAgLyoqXG4gICAgVGhlIHBhcnNlciB1c2VkIHRvIGNyZWF0ZSB0aGlzIHN1YnRyZWUuXG4gICAgKi9cbiAgICBwYXJzZXIpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gb3ZlcmxheTtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGdldCh0cmVlKSB7XG4gICAgICAgIHJldHVybiB0cmVlICYmIHRyZWUucHJvcHMgJiYgdHJlZS5wcm9wc1tOb2RlUHJvcC5tb3VudGVkLmlkXTtcbiAgICB9XG59XG5jb25zdCBub1Byb3BzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuRWFjaCBub2RlIGluIGEgc3ludGF4IHRyZWUgaGFzIGEgbm9kZSB0eXBlIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiovXG5jbGFzcyBOb2RlVHlwZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbmFtZSBvZiB0aGUgbm9kZSB0eXBlLiBOb3QgbmVjZXNzYXJpbHkgdW5pcXVlLCBidXQgaWYgdGhlXG4gICAgZ3JhbW1hciB3YXMgd3JpdHRlbiBwcm9wZXJseSwgZGlmZmVyZW50IG5vZGUgdHlwZXMgd2l0aCB0aGVcbiAgICBzYW1lIG5hbWUgd2l0aGluIGEgbm9kZSBzZXQgc2hvdWxkIHBsYXkgdGhlIHNhbWUgc2VtYW50aWNcbiAgICByb2xlLlxuICAgICovXG4gICAgbmFtZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBwcm9wcywgXG4gICAgLyoqXG4gICAgVGhlIGlkIG9mIHRoaXMgbm9kZSBpbiBpdHMgc2V0LiBDb3JyZXNwb25kcyB0byB0aGUgdGVybSBpZHNcbiAgICB1c2VkIGluIHRoZSBwYXJzZXIuXG4gICAgKi9cbiAgICBpZCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmbGFncyA9IDApIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbm9kZSB0eXBlLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjKSB7XG4gICAgICAgIGxldCBwcm9wcyA9IHNwZWMucHJvcHMgJiYgc3BlYy5wcm9wcy5sZW5ndGggPyBPYmplY3QuY3JlYXRlKG51bGwpIDogbm9Qcm9wcztcbiAgICAgICAgbGV0IGZsYWdzID0gKHNwZWMudG9wID8gMSAvKiBOb2RlRmxhZy5Ub3AgKi8gOiAwKSB8IChzcGVjLnNraXBwZWQgPyAyIC8qIE5vZGVGbGFnLlNraXBwZWQgKi8gOiAwKSB8XG4gICAgICAgICAgICAoc3BlYy5lcnJvciA/IDQgLyogTm9kZUZsYWcuRXJyb3IgKi8gOiAwKSB8IChzcGVjLm5hbWUgPT0gbnVsbCA/IDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovIDogMCk7XG4gICAgICAgIGxldCB0eXBlID0gbmV3IE5vZGVUeXBlKHNwZWMubmFtZSB8fCBcIlwiLCBwcm9wcywgc3BlYy5pZCwgZmxhZ3MpO1xuICAgICAgICBpZiAoc3BlYy5wcm9wcylcbiAgICAgICAgICAgIGZvciAobGV0IHNyYyBvZiBzcGVjLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNyYykpXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYyh0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcmNbMF0ucGVyTm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ2FuJ3Qgc3RvcmUgYSBwZXItbm9kZSBwcm9wIG9uIGEgbm9kZSB0eXBlXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9wc1tzcmNbMF0uaWRdID0gc3JjWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlcyBhIG5vZGUgcHJvcCBmb3IgdGhpcyB0eXBlLiBXaWxsIHJldHVybiBgdW5kZWZpbmVkYCBpZlxuICAgIHRoZSBwcm9wIGlzbid0IHByZXNlbnQgb24gdGhpcyBub2RlLlxuICAgICovXG4gICAgcHJvcChwcm9wKSB7IHJldHVybiB0aGlzLnByb3BzW3Byb3AuaWRdOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIHRoaXMgaXMgdGhlIHRvcCBub2RlIG9mIGEgZ3JhbW1hci5cbiAgICAqL1xuICAgIGdldCBpc1RvcCgpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgMSAvKiBOb2RlRmxhZy5Ub3AgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFRydWUgd2hlbiB0aGlzIG5vZGUgaXMgcHJvZHVjZWQgYnkgYSBza2lwIHJ1bGUuXG4gICAgKi9cbiAgICBnZXQgaXNTa2lwcGVkKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyIC8qIE5vZGVGbGFnLlNraXBwZWQgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYW4gZXJyb3Igbm9kZS5cbiAgICAqL1xuICAgIGdldCBpc0Vycm9yKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiA0IC8qIE5vZGVGbGFnLkVycm9yICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBXaGVuIHRydWUsIHRoaXMgbm9kZSB0eXBlIGRvZXNuJ3QgY29ycmVzcG9uZCB0byBhIHVzZXItZGVjbGFyZWRcbiAgICBuYW1lZCBub2RlLCBmb3IgZXhhbXBsZSBiZWNhdXNlIGl0IGlzIHVzZWQgdG8gY2FjaGUgcmVwZXRpdGlvbi5cbiAgICAqL1xuICAgIGdldCBpc0Fub255bW91cygpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgOCAvKiBOb2RlRmxhZy5Bbm9ueW1vdXMgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoaXMgbm9kZSdzIG5hbWUgb3Igb25lIG9mIGl0c1xuICAgIFtncm91cHNdKCNjb21tb24uTm9kZVByb3BeZ3JvdXApIG1hdGNoZXMgdGhlIGdpdmVuIHN0cmluZy5cbiAgICAqL1xuICAgIGlzKG5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lID09IG5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLnByb3AoTm9kZVByb3AuZ3JvdXApO1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwID8gZ3JvdXAuaW5kZXhPZihuYW1lKSA+IC0xIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgPT0gbmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgZnVuY3Rpb24gZnJvbSBub2RlIHR5cGVzIHRvIGFyYml0cmFyeSB2YWx1ZXMgYnlcbiAgICBzcGVjaWZ5aW5nIGFuIG9iamVjdCB3aG9zZSBwcm9wZXJ0eSBuYW1lcyBhcmUgbm9kZSBvclxuICAgIFtncm91cF0oI2NvbW1vbi5Ob2RlUHJvcF5ncm91cCkgbmFtZXMuIE9mdGVuIHVzZWZ1bCB3aXRoXG4gICAgW2BOb2RlUHJvcC5hZGRgXSgjY29tbW9uLk5vZGVQcm9wLmFkZCkuIFlvdSBjYW4gcHV0IG11bHRpcGxlXG4gICAgbmFtZXMsIHNlcGFyYXRlZCBieSBzcGFjZXMsIGluIGEgc2luZ2xlIHByb3BlcnR5IG5hbWUgdG8gbWFwXG4gICAgbXVsdGlwbGUgbm9kZSBuYW1lcyB0byBhIHNpbmdsZSB2YWx1ZS5cbiAgICAqL1xuICAgIHN0YXRpYyBtYXRjaChtYXApIHtcbiAgICAgICAgbGV0IGRpcmVjdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAobGV0IHByb3AgaW4gbWFwKVxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBwcm9wLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgICAgICBkaXJlY3RbbmFtZV0gPSBtYXBbcHJvcF07XG4gICAgICAgIHJldHVybiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JvdXBzID0gbm9kZS5wcm9wKE5vZGVQcm9wLmdyb3VwKSwgaSA9IC0xOyBpIDwgKGdyb3VwcyA/IGdyb3Vwcy5sZW5ndGggOiAwKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gZGlyZWN0W2kgPCAwID8gbm9kZS5uYW1lIDogZ3JvdXBzW2ldXTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbkFuIGVtcHR5IGR1bW15IG5vZGUgdHlwZSB0byB1c2Ugd2hlbiBubyBhY3R1YWwgdHlwZSBpcyBhdmFpbGFibGUuXG4qL1xuTm9kZVR5cGUubm9uZSA9IG5ldyBOb2RlVHlwZShcIlwiLCBPYmplY3QuY3JlYXRlKG51bGwpLCAwLCA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLyk7XG4vKipcbkEgbm9kZSBzZXQgaG9sZHMgYSBjb2xsZWN0aW9uIG9mIG5vZGUgdHlwZXMuIEl0IGlzIHVzZWQgdG9cbmNvbXBhY3RseSByZXByZXNlbnQgdHJlZXMgYnkgc3RvcmluZyB0aGVpciB0eXBlIGlkcywgcmF0aGVyIHRoYW4gYVxuZnVsbCBwb2ludGVyIHRvIHRoZSB0eXBlIG9iamVjdCwgaW4gYSBudW1lcmljIGFycmF5LiBFYWNoIHBhcnNlclxuW2hhc10oI2xyLkxSUGFyc2VyLm5vZGVTZXQpIGEgbm9kZSBzZXQsIGFuZCBbdHJlZVxuYnVmZmVyc10oI2NvbW1vbi5UcmVlQnVmZmVyKSBjYW4gb25seSBzdG9yZSBjb2xsZWN0aW9ucyBvZiBub2Rlc1xuZnJvbSB0aGUgc2FtZSBzZXQuIEEgc2V0IGNhbiBoYXZlIGEgbWF4aW11bSBvZiAyKioxNiAoNjU1MzYpIG5vZGVcbnR5cGVzIGluIGl0LCBzbyB0aGF0IHRoZSBpZHMgZml0IGludG8gMTYtYml0IHR5cGVkIGFycmF5IHNsb3RzLlxuKi9cbmNsYXNzIE5vZGVTZXQge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCB3aXRoIHRoZSBnaXZlbiB0eXBlcy4gVGhlIGBpZGAgcHJvcGVydHkgb2YgZWFjaFxuICAgIHR5cGUgc2hvdWxkIGNvcnJlc3BvbmQgdG8gaXRzIHBvc2l0aW9uIHdpdGhpbiB0aGUgYXJyYXkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbm9kZSB0eXBlcyBpbiB0aGlzIHNldCwgYnkgaWQuXG4gICAgKi9cbiAgICB0eXBlcykge1xuICAgICAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAodHlwZXNbaV0uaWQgIT0gaSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vZGUgdHlwZSBpZHMgc2hvdWxkIGNvcnJlc3BvbmQgdG8gYXJyYXkgcG9zaXRpb25zIHdoZW4gY3JlYXRpbmcgYSBub2RlIHNldFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY29weSBvZiB0aGlzIHNldCB3aXRoIHNvbWUgbm9kZSBwcm9wZXJ0aWVzIGFkZGVkLiBUaGVcbiAgICBhcmd1bWVudHMgdG8gdGhpcyBtZXRob2QgY2FuIGJlIGNyZWF0ZWQgd2l0aFxuICAgIFtgTm9kZVByb3AuYWRkYF0oI2NvbW1vbi5Ob2RlUHJvcC5hZGQpLlxuICAgICovXG4gICAgZXh0ZW5kKC4uLnByb3BzKSB7XG4gICAgICAgIGxldCBuZXdUeXBlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB0eXBlIG9mIHRoaXMudHlwZXMpIHtcbiAgICAgICAgICAgIGxldCBuZXdQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBzb3VyY2Ugb2YgcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgYWRkID0gc291cmNlKHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdQcm9wcylcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdHlwZS5wcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW2FkZFswXS5pZF0gPSBhZGRbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3VHlwZXMucHVzaChuZXdQcm9wcyA/IG5ldyBOb2RlVHlwZSh0eXBlLm5hbWUsIG5ld1Byb3BzLCB0eXBlLmlkLCB0eXBlLmZsYWdzKSA6IHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTm9kZVNldChuZXdUeXBlcyk7XG4gICAgfVxufVxuY29uc3QgQ2FjaGVkTm9kZSA9IG5ldyBXZWFrTWFwKCksIENhY2hlZElubmVyTm9kZSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbk9wdGlvbnMgdGhhdCBjb250cm9sIGl0ZXJhdGlvbi4gQ2FuIGJlIGNvbWJpbmVkIHdpdGggdGhlIGB8YFxub3BlcmF0b3IgdG8gZW5hYmxlIG11bHRpcGxlIG9uZXMuXG4qL1xudmFyIEl0ZXJNb2RlO1xuKGZ1bmN0aW9uIChJdGVyTW9kZSkge1xuICAgIC8qKlxuICAgIFdoZW4gZW5hYmxlZCwgaXRlcmF0aW9uIHdpbGwgb25seSB2aXNpdCBbYFRyZWVgXSgjY29tbW9uLlRyZWUpXG4gICAgb2JqZWN0cywgbm90IG5vZGVzIHBhY2tlZCBpbnRvXG4gICAgW2BUcmVlQnVmZmVyYF0oI2NvbW1vbi5UcmVlQnVmZmVyKXMuXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIkV4Y2x1ZGVCdWZmZXJzXCJdID0gMV0gPSBcIkV4Y2x1ZGVCdWZmZXJzXCI7XG4gICAgLyoqXG4gICAgRW5hYmxlIHRoaXMgdG8gbWFrZSBpdGVyYXRpb24gaW5jbHVkZSBhbm9ueW1vdXMgbm9kZXMgKHN1Y2ggYXNcbiAgICB0aGUgbm9kZXMgdGhhdCB3cmFwIHJlcGVhdGVkIGdyYW1tYXIgY29uc3RydWN0cyBpbnRvIGEgYmFsYW5jZWRcbiAgICB0cmVlKS5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiSW5jbHVkZUFub255bW91c1wiXSA9IDJdID0gXCJJbmNsdWRlQW5vbnltb3VzXCI7XG4gICAgLyoqXG4gICAgQnkgZGVmYXVsdCwgcmVndWxhciBbbW91bnRlZF0oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSBub2Rlc1xuICAgIHJlcGxhY2UgdGhlaXIgYmFzZSBub2RlIGluIGl0ZXJhdGlvbi4gRW5hYmxlIHRoaXMgdG8gaWdub3JlIHRoZW1cbiAgICBpbnN0ZWFkLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJZ25vcmVNb3VudHNcIl0gPSA0XSA9IFwiSWdub3JlTW91bnRzXCI7XG4gICAgLyoqXG4gICAgVGhpcyBvcHRpb24gb25seSBhcHBsaWVzIGluXG4gICAgW2BlbnRlcmBdKCNjb21tb24uU3ludGF4Tm9kZS5lbnRlciktc3R5bGUgbWV0aG9kcy4gSXQgdGVsbHMgdGhlXG4gICAgbGlicmFyeSB0byBub3QgZW50ZXIgbW91bnRlZCBvdmVybGF5cyBpZiBvbmUgY292ZXJzIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJZ25vcmVPdmVybGF5c1wiXSA9IDhdID0gXCJJZ25vcmVPdmVybGF5c1wiO1xufSkoSXRlck1vZGUgfHwgKEl0ZXJNb2RlID0ge30pKTtcbi8qKlxuQSBwaWVjZSBvZiBzeW50YXggdHJlZS4gVGhlcmUgYXJlIHR3byB3YXlzIHRvIGFwcHJvYWNoIHRoZXNlXG50cmVlczogdGhlIHdheSB0aGV5IGFyZSBhY3R1YWxseSBzdG9yZWQgaW4gbWVtb3J5LCBhbmQgdGhlXG5jb252ZW5pZW50IHdheS5cblxuU3ludGF4IHRyZWVzIGFyZSBzdG9yZWQgYXMgYSB0cmVlIG9mIGBUcmVlYCBhbmQgYFRyZWVCdWZmZXJgXG5vYmplY3RzLiBCeSBwYWNraW5nIGRldGFpbCBpbmZvcm1hdGlvbiBpbnRvIGBUcmVlQnVmZmVyYCBsZWFmXG5ub2RlcywgdGhlIHJlcHJlc2VudGF0aW9uIGlzIG1hZGUgYSBsb3QgbW9yZSBtZW1vcnktZWZmaWNpZW50LlxuXG5Ib3dldmVyLCB3aGVuIHlvdSB3YW50IHRvIGFjdHVhbGx5IHdvcmsgd2l0aCB0cmVlIG5vZGVzLCB0aGlzXG5yZXByZXNlbnRhdGlvbiBpcyB2ZXJ5IGF3a3dhcmQsIHNvIG1vc3QgY2xpZW50IGNvZGUgd2lsbCB3YW50IHRvXG51c2UgdGhlIFtgVHJlZUN1cnNvcmBdKCNjb21tb24uVHJlZUN1cnNvcikgb3JcbltgU3ludGF4Tm9kZWBdKCNjb21tb24uU3ludGF4Tm9kZSkgaW50ZXJmYWNlIGluc3RlYWQsIHdoaWNoIHByb3ZpZGVzXG5hIHZpZXcgb24gc29tZSBwYXJ0IG9mIHRoaXMgZGF0YSBzdHJ1Y3R1cmUsIGFuZCBjYW4gYmUgdXNlZCB0b1xubW92ZSBhcm91bmQgdG8gYWRqYWNlbnQgbm9kZXMuXG4qL1xuY2xhc3MgVHJlZSB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgbmV3IHRyZWUuIFNlZSBhbHNvIFtgVHJlZS5idWlsZGBdKCNjb21tb24uVHJlZV5idWlsZCkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgdHlwZSBvZiB0aGUgdG9wIG5vZGUuXG4gICAgKi9cbiAgICB0eXBlLCBcbiAgICAvKipcbiAgICBUaGlzIG5vZGUncyBjaGlsZCBub2Rlcy5cbiAgICAqL1xuICAgIGNoaWxkcmVuLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb25zIChvZmZzZXRzIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGlzIHRyZWUpIG9mXG4gICAgdGhlIGNoaWxkcmVuLlxuICAgICovXG4gICAgcG9zaXRpb25zLCBcbiAgICAvKipcbiAgICBUaGUgdG90YWwgbGVuZ3RoIG9mIHRoaXMgdHJlZVxuICAgICovXG4gICAgbGVuZ3RoLCBcbiAgICAvKipcbiAgICBQZXItbm9kZSBbbm9kZSBwcm9wc10oI2NvbW1vbi5Ob2RlUHJvcCkgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBub2RlLlxuICAgICovXG4gICAgcHJvcHMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9wcyA9IG51bGw7XG4gICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgZm9yIChsZXQgW3Byb3AsIHZhbHVlXSBvZiBwcm9wcylcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzW3R5cGVvZiBwcm9wID09IFwibnVtYmVyXCIgPyBwcm9wIDogcHJvcC5pZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgbW91bnRlZCA9IE1vdW50ZWRUcmVlLmdldCh0aGlzKTtcbiAgICAgICAgaWYgKG1vdW50ZWQgJiYgIW1vdW50ZWQub3ZlcmxheSlcbiAgICAgICAgICAgIHJldHVybiBtb3VudGVkLnRyZWUudG9TdHJpbmcoKTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgY2ggb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IHN0ciA9IGNoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiArPSBcIixcIjtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiArPSBzdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICF0aGlzLnR5cGUubmFtZSA/IGNoaWxkcmVuIDpcbiAgICAgICAgICAgICgvXFxXLy50ZXN0KHRoaXMudHlwZS5uYW1lKSAmJiAhdGhpcy50eXBlLmlzRXJyb3IgPyBKU09OLnN0cmluZ2lmeSh0aGlzLnR5cGUubmFtZSkgOiB0aGlzLnR5cGUubmFtZSkgK1xuICAgICAgICAgICAgICAgIChjaGlsZHJlbi5sZW5ndGggPyBcIihcIiArIGNoaWxkcmVuICsgXCIpXCIgOiBcIlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3RyZWUgY3Vyc29yXSgjY29tbW9uLlRyZWVDdXJzb3IpIHBvc2l0aW9uZWQgYXQgdGhlIHRvcCBvZlxuICAgIHRoZSB0cmVlLiBNb2RlIGNhbiBiZSB1c2VkIHRvIFtjb250cm9sXSgjY29tbW9uLkl0ZXJNb2RlKSB3aGljaFxuICAgIG5vZGVzIHRoZSBjdXJzb3IgdmlzaXRzLlxuICAgICovXG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLnRvcE5vZGUsIG1vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbdHJlZSBjdXJzb3JdKCNjb21tb24uVHJlZUN1cnNvcikgcG9pbnRpbmcgaW50byB0aGlzIHRyZWVcbiAgICBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHNpZGUgKHNlZVxuICAgIFtgbW92ZVRvYF0oI2NvbW1vbi5UcmVlQ3Vyc29yLm1vdmVUbykuXG4gICAgKi9cbiAgICBjdXJzb3JBdChwb3MsIHNpZGUgPSAwLCBtb2RlID0gMCkge1xuICAgICAgICBsZXQgc2NvcGUgPSBDYWNoZWROb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGU7XG4gICAgICAgIGxldCBjdXJzb3IgPSBuZXcgVHJlZUN1cnNvcihzY29wZSk7XG4gICAgICAgIGN1cnNvci5tb3ZlVG8ocG9zLCBzaWRlKTtcbiAgICAgICAgQ2FjaGVkTm9kZS5zZXQodGhpcywgY3Vyc29yLl90cmVlKTtcbiAgICAgICAgcmV0dXJuIGN1cnNvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIG9iamVjdCBmb3IgdGhlIHRvcCBvZiB0aGVcbiAgICB0cmVlLlxuICAgICovXG4gICAgZ2V0IHRvcE5vZGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZU5vZGUodGhpcywgMCwgMCwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICBJZiBgc2lkZWAgaXMgLTEsIHRoaXMgd2lsbCBtb3ZlIGludG8gbm9kZXMgdGhhdCBlbmQgYXQgdGhlXG4gICAgcG9zaXRpb24uIElmIDEsIGl0J2xsIG1vdmUgaW50byBub2RlcyB0aGF0IHN0YXJ0IGF0IHRoZVxuICAgIHBvc2l0aW9uLiBXaXRoIDAsIGl0J2xsIG9ubHkgZW50ZXIgbm9kZXMgdGhhdCBjb3ZlciB0aGUgcG9zaXRpb25cbiAgICBmcm9tIGJvdGggc2lkZXMuXG4gICAgXG4gICAgTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgZW50ZXJcbiAgICBbb3ZlcmxheXNdKCNjb21tb24uTW91bnRlZFRyZWUub3ZlcmxheSksIGFuZCB5b3Ugb2Z0ZW4gd2FudFxuICAgIFtgcmVzb2x2ZUlubmVyYF0oI2NvbW1vbi5UcmVlLnJlc29sdmVJbm5lcikgaW5zdGVhZC5cbiAgICAqL1xuICAgIHJlc29sdmUocG9zLCBzaWRlID0gMCkge1xuICAgICAgICBsZXQgbm9kZSA9IHJlc29sdmVOb2RlKENhY2hlZE5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZSwgcG9zLCBzaWRlLCBmYWxzZSk7XG4gICAgICAgIENhY2hlZE5vZGUuc2V0KHRoaXMsIG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgTGlrZSBbYHJlc29sdmVgXSgjY29tbW9uLlRyZWUucmVzb2x2ZSksIGJ1dCB3aWxsIGVudGVyXG4gICAgW292ZXJsYWlkXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpIG5vZGVzLCBwcm9kdWNpbmcgYSBzeW50YXggbm9kZVxuICAgIHBvaW50aW5nIGludG8gdGhlIGlubmVybW9zdCBvdmVybGFpZCB0cmVlIGF0IHRoZSBnaXZlbiBwb3NpdGlvblxuICAgICh3aXRoIHBhcmVudCBsaW5rcyBnb2luZyB0aHJvdWdoIGFsbCBwYXJlbnQgc3RydWN0dXJlLCBpbmNsdWRpbmdcbiAgICB0aGUgaG9zdCB0cmVlcykuXG4gICAgKi9cbiAgICByZXNvbHZlSW5uZXIocG9zLCBzaWRlID0gMCkge1xuICAgICAgICBsZXQgbm9kZSA9IHJlc29sdmVOb2RlKENhY2hlZElubmVyTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlLCBwb3MsIHNpZGUsIHRydWUpO1xuICAgICAgICBDYWNoZWRJbm5lck5vZGUuc2V0KHRoaXMsIG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgSW4gc29tZSBzaXR1YXRpb25zLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGl0ZXJhdGUgdGhyb3VnaCBhbGxcbiAgICBub2RlcyBhcm91bmQgYSBwb3NpdGlvbiwgaW5jbHVkaW5nIHRob3NlIGluIG92ZXJsYXlzIHRoYXQgZG9uJ3RcbiAgICBkaXJlY3RseSBjb3ZlciB0aGUgcG9zaXRpb24uIFRoaXMgbWV0aG9kIGdpdmVzIHlvdSBhbiBpdGVyYXRvclxuICAgIHRoYXQgd2lsbCBwcm9kdWNlIGFsbCBub2RlcywgZnJvbSBzbWFsbCB0byBiaWcsIGFyb3VuZCB0aGUgZ2l2ZW5cbiAgICBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHJlc29sdmVTdGFjayhwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiBzdGFja0l0ZXJhdG9yKHRoaXMsIHBvcywgc2lkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgdHJlZSBhbmQgaXRzIGNoaWxkcmVuLCBjYWxsaW5nIGBlbnRlcmAgZm9yIGFueVxuICAgIG5vZGUgdGhhdCB0b3VjaGVzIHRoZSBgZnJvbWAvYHRvYCByZWdpb24gKGlmIGdpdmVuKSBiZWZvcmVcbiAgICBydW5uaW5nIG92ZXIgc3VjaCBhIG5vZGUncyBjaGlsZHJlbiwgYW5kIGBsZWF2ZWAgKGlmIGdpdmVuKSB3aGVuXG4gICAgbGVhdmluZyB0aGUgbm9kZS4gV2hlbiBgZW50ZXJgIHJldHVybnMgYGZhbHNlYCwgdGhhdCBub2RlIHdpbGxcbiAgICBub3QgaGF2ZSBpdHMgY2hpbGRyZW4gaXRlcmF0ZWQgb3ZlciAob3IgYGxlYXZlYCBjYWxsZWQpLlxuICAgICovXG4gICAgaXRlcmF0ZShzcGVjKSB7XG4gICAgICAgIGxldCB7IGVudGVyLCBsZWF2ZSwgZnJvbSA9IDAsIHRvID0gdGhpcy5sZW5ndGggfSA9IHNwZWM7XG4gICAgICAgIGxldCBtb2RlID0gc3BlYy5tb2RlIHx8IDAsIGFub24gPSAobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpID4gMDtcbiAgICAgICAgZm9yIChsZXQgYyA9IHRoaXMuY3Vyc29yKG1vZGUgfCBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKTs7KSB7XG4gICAgICAgICAgICBsZXQgZW50ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGMuZnJvbSA8PSB0byAmJiBjLnRvID49IGZyb20gJiYgKCFhbm9uICYmIGMudHlwZS5pc0Fub255bW91cyB8fCBlbnRlcihjKSAhPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMuZmlyc3RDaGlsZCgpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50ZXJlZCAmJiBsZWF2ZSAmJiAoYW5vbiB8fCAhYy50eXBlLmlzQW5vbnltb3VzKSlcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUoYyk7XG4gICAgICAgICAgICAgICAgaWYgKGMubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKCFjLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZW50ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gW25vZGUgcHJvcF0oI2NvbW1vbi5Ob2RlUHJvcCkgZm9yIHRoaXNcbiAgICBub2RlLiBXb3JrcyB3aXRoIGJvdGggcGVyLW5vZGUgYW5kIHBlci10eXBlIHByb3BzLlxuICAgICovXG4gICAgcHJvcChwcm9wKSB7XG4gICAgICAgIHJldHVybiAhcHJvcC5wZXJOb2RlID8gdGhpcy50eXBlLnByb3AocHJvcCkgOiB0aGlzLnByb3BzID8gdGhpcy5wcm9wc1twcm9wLmlkXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgbm9kZSdzIFtwZXItbm9kZSBwcm9wc10oI2NvbW1vbi5Ob2RlUHJvcC5wZXJOb2RlKSBpbiBhXG4gICAgZm9ybWF0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgW2BUcmVlYF0oI2NvbW1vbi5UcmVlKVxuICAgIGNvbnN0cnVjdG9yLlxuICAgICovXG4gICAgZ2V0IHByb3BWYWx1ZXMoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLnByb3BzKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFsraWQsIHRoaXMucHJvcHNbaWRdXSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEJhbGFuY2UgdGhlIGRpcmVjdCBjaGlsZHJlbiBvZiB0aGlzIHRyZWUsIHByb2R1Y2luZyBhIGNvcHkgb2ZcbiAgICB3aGljaCBtYXkgaGF2ZSBjaGlsZHJlbiBncm91cGVkIGludG8gc3VidHJlZXMgd2l0aCB0eXBlXG4gICAgW2BOb2RlVHlwZS5ub25lYF0oI2NvbW1vbi5Ob2RlVHlwZV5ub25lKS5cbiAgICAqL1xuICAgIGJhbGFuY2UoY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIDw9IDggLyogQmFsYW5jZS5CcmFuY2hGYWN0b3IgKi8gPyB0aGlzIDpcbiAgICAgICAgICAgIGJhbGFuY2VSYW5nZShOb2RlVHlwZS5ub25lLCB0aGlzLmNoaWxkcmVuLCB0aGlzLnBvc2l0aW9ucywgMCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgsIDAsIHRoaXMubGVuZ3RoLCAoY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSA9PiBuZXcgVHJlZSh0aGlzLnR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgdGhpcy5wcm9wVmFsdWVzKSwgY29uZmlnLm1ha2VUcmVlIHx8ICgoY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSA9PiBuZXcgVHJlZShOb2RlVHlwZS5ub25lLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEJ1aWxkIGEgdHJlZSBmcm9tIGEgcG9zdGZpeC1vcmRlcmVkIGJ1ZmZlciBvZiBub2RlIGluZm9ybWF0aW9uLFxuICAgIG9yIGEgY3Vyc29yIG92ZXIgc3VjaCBhIGJ1ZmZlci5cbiAgICAqL1xuICAgIHN0YXRpYyBidWlsZChkYXRhKSB7IHJldHVybiBidWlsZFRyZWUoZGF0YSk7IH1cbn1cbi8qKlxuVGhlIGVtcHR5IHRyZWVcbiovXG5UcmVlLmVtcHR5ID0gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgW10sIFtdLCAwKTtcbmNsYXNzIEZsYXRCdWZmZXJDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDRdOyB9XG4gICAgZ2V0IHN0YXJ0KCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDNdOyB9XG4gICAgZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAyXTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDFdOyB9XG4gICAgZ2V0IHBvcygpIHsgcmV0dXJuIHRoaXMuaW5kZXg7IH1cbiAgICBuZXh0KCkgeyB0aGlzLmluZGV4IC09IDQ7IH1cbiAgICBmb3JrKCkgeyByZXR1cm4gbmV3IEZsYXRCdWZmZXJDdXJzb3IodGhpcy5idWZmZXIsIHRoaXMuaW5kZXgpOyB9XG59XG4vKipcblRyZWUgYnVmZmVycyBjb250YWluICh0eXBlLCBzdGFydCwgZW5kLCBlbmRJbmRleCkgcXVhZHMgZm9yIGVhY2hcbm5vZGUuIEluIHN1Y2ggYSBidWZmZXIsIG5vZGVzIGFyZSBzdG9yZWQgaW4gcHJlZml4IG9yZGVyIChwYXJlbnRzXG5iZWZvcmUgY2hpbGRyZW4sIHdpdGggdGhlIGVuZEluZGV4IG9mIHRoZSBwYXJlbnQgaW5kaWNhdGluZyB3aGljaFxuY2hpbGRyZW4gYmVsb25nIHRvIGl0KS5cbiovXG5jbGFzcyBUcmVlQnVmZmVyIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSB0cmVlIGJ1ZmZlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBidWZmZXIncyBjb250ZW50LlxuICAgICovXG4gICAgYnVmZmVyLCBcbiAgICAvKipcbiAgICBUaGUgdG90YWwgbGVuZ3RoIG9mIHRoZSBncm91cCBvZiBub2RlcyBpbiB0aGUgYnVmZmVyLlxuICAgICovXG4gICAgbGVuZ3RoLCBcbiAgICAvKipcbiAgICBUaGUgbm9kZSBzZXQgdXNlZCBpbiB0aGlzIGJ1ZmZlci5cbiAgICAqL1xuICAgIHNldCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gTm9kZVR5cGUubm9uZTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuYnVmZmVyLmxlbmd0aDspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2hpbGRTdHJpbmcoaW5kZXgpKTtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5idWZmZXJbaW5kZXggKyAzXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCIsXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNoaWxkU3RyaW5nKGluZGV4KSB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuYnVmZmVyW2luZGV4XSwgZW5kSW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuc2V0LnR5cGVzW2lkXSwgcmVzdWx0ID0gdHlwZS5uYW1lO1xuICAgICAgICBpZiAoL1xcVy8udGVzdChyZXN1bHQpICYmICF0eXBlLmlzRXJyb3IpXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICBpZiAoZW5kSW5kZXggPT0gaW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5jaGlsZFN0cmluZyhpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQgKyBcIihcIiArIGNoaWxkcmVuLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmluZENoaWxkKHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBkaXIsIHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMsIHBpY2sgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgIT0gZW5kSW5kZXg7IGkgPSBidWZmZXJbaSArIDNdKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tTaWRlKHNpZGUsIHBvcywgYnVmZmVyW2kgKyAxXSwgYnVmZmVyW2kgKyAyXSkpIHtcbiAgICAgICAgICAgICAgICBwaWNrID0gaTtcbiAgICAgICAgICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpY2s7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSB7XG4gICAgICAgIGxldCBiID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGxldCBjb3B5ID0gbmV3IFVpbnQxNkFycmF5KGVuZEkgLSBzdGFydEkpLCBsZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJLCBqID0gMDsgaSA8IGVuZEk7KSB7XG4gICAgICAgICAgICBjb3B5W2orK10gPSBiW2krK107XG4gICAgICAgICAgICBjb3B5W2orK10gPSBiW2krK10gLSBmcm9tO1xuICAgICAgICAgICAgbGV0IHRvID0gY29weVtqKytdID0gYltpKytdIC0gZnJvbTtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXSAtIHN0YXJ0STtcbiAgICAgICAgICAgIGxlbiA9IE1hdGgubWF4KGxlbiwgdG8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVHJlZUJ1ZmZlcihjb3B5LCBsZW4sIHRoaXMuc2V0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1NpZGUoc2lkZSwgcG9zLCBmcm9tLCB0bykge1xuICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICBjYXNlIC0yIC8qIFNpZGUuQmVmb3JlICovOiByZXR1cm4gZnJvbSA8IHBvcztcbiAgICAgICAgY2FzZSAtMSAvKiBTaWRlLkF0T3JCZWZvcmUgKi86IHJldHVybiB0byA+PSBwb3MgJiYgZnJvbSA8IHBvcztcbiAgICAgICAgY2FzZSAwIC8qIFNpZGUuQXJvdW5kICovOiByZXR1cm4gZnJvbSA8IHBvcyAmJiB0byA+IHBvcztcbiAgICAgICAgY2FzZSAxIC8qIFNpZGUuQXRPckFmdGVyICovOiByZXR1cm4gZnJvbSA8PSBwb3MgJiYgdG8gPiBwb3M7XG4gICAgICAgIGNhc2UgMiAvKiBTaWRlLkFmdGVyICovOiByZXR1cm4gdG8gPiBwb3M7XG4gICAgICAgIGNhc2UgNCAvKiBTaWRlLkRvbnRDYXJlICovOiByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlTm9kZShub2RlLCBwb3MsIHNpZGUsIG92ZXJsYXlzKSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIE1vdmUgdXAgdG8gYSBub2RlIHRoYXQgYWN0dWFsbHkgaG9sZHMgdGhlIHBvc2l0aW9uLCBpZiBwb3NzaWJsZVxuICAgIHdoaWxlIChub2RlLmZyb20gPT0gbm9kZS50byB8fFxuICAgICAgICAoc2lkZSA8IDEgPyBub2RlLmZyb20gPj0gcG9zIDogbm9kZS5mcm9tID4gcG9zKSB8fFxuICAgICAgICAoc2lkZSA+IC0xID8gbm9kZS50byA8PSBwb3MgOiBub2RlLnRvIDwgcG9zKSkge1xuICAgICAgICBsZXQgcGFyZW50ID0gIW92ZXJsYXlzICYmIG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBub2RlLmluZGV4IDwgMCA/IG51bGwgOiBub2RlLnBhcmVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgbGV0IG1vZGUgPSBvdmVybGF5cyA/IDAgOiBJdGVyTW9kZS5JZ25vcmVPdmVybGF5cztcbiAgICAvLyBNdXN0IGdvIHVwIG91dCBvZiBvdmVybGF5cyB3aGVuIHRob3NlIGRvIG5vdCBvdmVybGFwIHdpdGggcG9zXG4gICAgaWYgKG92ZXJsYXlzKVxuICAgICAgICBmb3IgKGxldCBzY2FuID0gbm9kZSwgcGFyZW50ID0gc2Nhbi5wYXJlbnQ7IHBhcmVudDsgc2NhbiA9IHBhcmVudCwgcGFyZW50ID0gc2Nhbi5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChzY2FuIGluc3RhbmNlb2YgVHJlZU5vZGUgJiYgc2Nhbi5pbmRleCA8IDAgJiYgKChfYSA9IHBhcmVudC5lbnRlcihwb3MsIHNpZGUsIG1vZGUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnJvbSkgIT0gc2Nhbi5mcm9tKVxuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBpbm5lciA9IG5vZGUuZW50ZXIocG9zLCBzaWRlLCBtb2RlKTtcbiAgICAgICAgaWYgKCFpbm5lcilcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gaW5uZXI7XG4gICAgfVxufVxuY2xhc3MgQmFzZU5vZGUge1xuICAgIGN1cnNvcihtb2RlID0gMCkgeyByZXR1cm4gbmV3IFRyZWVDdXJzb3IodGhpcywgbW9kZSk7IH1cbiAgICBnZXRDaGlsZCh0eXBlLCBiZWZvcmUgPSBudWxsLCBhZnRlciA9IG51bGwpIHtcbiAgICAgICAgbGV0IHIgPSBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgcmV0dXJuIHIubGVuZ3RoID8gclswXSA6IG51bGw7XG4gICAgfVxuICAgIGdldENoaWxkcmVuKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hpbGRyZW4odGhpcywgdHlwZSwgYmVmb3JlLCBhZnRlcik7XG4gICAgfVxuICAgIHJlc29sdmUocG9zLCBzaWRlID0gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZU5vZGUodGhpcywgcG9zLCBzaWRlLCBmYWxzZSk7XG4gICAgfVxuICAgIHJlc29sdmVJbm5lcihwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIHRydWUpO1xuICAgIH1cbiAgICBtYXRjaENvbnRleHQoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLnBhcmVudCwgY29udGV4dCk7XG4gICAgfVxuICAgIGVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcykge1xuICAgICAgICBsZXQgc2NhbiA9IHRoaXMuY2hpbGRCZWZvcmUocG9zKSwgbm9kZSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChzY2FuKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHNjYW4ubGFzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFsYXN0IHx8IGxhc3QudG8gIT0gc2Nhbi50bylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChsYXN0LnR5cGUuaXNFcnJvciAmJiBsYXN0LmZyb20gPT0gbGFzdC50bykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBzY2FuO1xuICAgICAgICAgICAgICAgIHNjYW4gPSBsYXN0LnByZXZTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NhbiA9IGxhc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGdldCBub2RlKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIGdldCBuZXh0KCkgeyByZXR1cm4gdGhpcy5wYXJlbnQ7IH1cbn1cbmNsYXNzIFRyZWVOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKF90cmVlLCBmcm9tLCBcbiAgICAvLyBJbmRleCBpbiBwYXJlbnQgbm9kZSwgc2V0IHRvIC0xIGlmIHRoZSBub2RlIGlzIG5vdCBhIGRpcmVjdCBjaGlsZCBvZiBfcGFyZW50Lm5vZGUgKG92ZXJsYXkpXG4gICAgaW5kZXgsIF9wYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdHJlZSA9IF90cmVlO1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gdGhpcy5fdHJlZS50eXBlOyB9XG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLl90cmVlLnR5cGUubmFtZTsgfVxuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMuX3RyZWUubGVuZ3RoOyB9XG4gICAgbmV4dENoaWxkKGksIGRpciwgcG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzOzspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHsgY2hpbGRyZW4sIHBvc2l0aW9ucyB9ID0gcGFyZW50Ll90cmVlLCBlID0gZGlyID4gMCA/IGNoaWxkcmVuLmxlbmd0aCA6IC0xOyBpICE9IGU7IGkgKz0gZGlyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBjaGlsZHJlbltpXSwgc3RhcnQgPSBwb3NpdGlvbnNbaV0gKyBwYXJlbnQuZnJvbTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrU2lkZShzaWRlLCBwb3MsIHN0YXJ0LCBzdGFydCArIG5leHQubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBUcmVlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gbmV4dC5maW5kQ2hpbGQoMCwgbmV4dC5idWZmZXIubGVuZ3RoLCBkaXIsIHBvcyAtIHN0YXJ0LCBzaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUobmV3IEJ1ZmZlckNvbnRleHQocGFyZW50LCBuZXh0LCBpLCBzdGFydCksIG51bGwsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAoIW5leHQudHlwZS5pc0Fub255bW91cyB8fCBoYXNDaGlsZChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vdW50ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG1vZGUgJiBJdGVyTW9kZS5JZ25vcmVNb3VudHMpICYmIChtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KG5leHQpKSAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZShtb3VudGVkLnRyZWUsIHN0YXJ0LCBpLCBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBuZXcgVHJlZU5vZGUobmV4dCwgc3RhcnQsIGksIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICFpbm5lci50eXBlLmlzQW5vbnltb3VzID8gaW5uZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5uZXIubmV4dENoaWxkKGRpciA8IDAgPyBuZXh0LmNoaWxkcmVuLmxlbmd0aCAtIDEgOiAwLCBkaXIsIHBvcywgc2lkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgIXBhcmVudC50eXBlLmlzQW5vbnltb3VzKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5pbmRleCA+PSAwKVxuICAgICAgICAgICAgICAgIGkgPSBwYXJlbnQuaW5kZXggKyBkaXI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fcGFyZW50Ll90cmVlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5fcGFyZW50O1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKHRoaXMuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQoMCwgMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgY2hpbGRCZWZvcmUocG9zKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCh0aGlzLl90cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCBwb3MsIC0yIC8qIFNpZGUuQmVmb3JlICovKTsgfVxuICAgIGVudGVyKHBvcywgc2lkZSwgbW9kZSA9IDApIHtcbiAgICAgICAgbGV0IG1vdW50ZWQ7XG4gICAgICAgIGlmICghKG1vZGUgJiBJdGVyTW9kZS5JZ25vcmVPdmVybGF5cykgJiYgKG1vdW50ZWQgPSBNb3VudGVkVHJlZS5nZXQodGhpcy5fdHJlZSkpICYmIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IHJQb3MgPSBwb3MgLSB0aGlzLmZyb207XG4gICAgICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKChzaWRlID4gMCA/IGZyb20gPD0gclBvcyA6IGZyb20gPCByUG9zKSAmJlxuICAgICAgICAgICAgICAgICAgICAoc2lkZSA8IDAgPyB0byA+PSByUG9zIDogdG8gPiByUG9zKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZShtb3VudGVkLnRyZWUsIG1vdW50ZWQub3ZlcmxheVswXS5mcm9tICsgdGhpcy5mcm9tLCAtMSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIHBvcywgc2lkZSwgbW9kZSk7XG4gICAgfVxuICAgIG5leHRTaWduaWZpY2FudFBhcmVudCgpIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXM7XG4gICAgICAgIHdoaWxlICh2YWwudHlwZS5pc0Fub255bW91cyAmJiB2YWwuX3BhcmVudClcbiAgICAgICAgICAgIHZhbCA9IHZhbC5fcGFyZW50O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50Lm5leHRTaWduaWZpY2FudFBhcmVudCgpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ICYmIHRoaXMuaW5kZXggPj0gMCA/IHRoaXMuX3BhcmVudC5uZXh0Q2hpbGQodGhpcy5pbmRleCArIDEsIDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgcHJldlNpYmxpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgJiYgdGhpcy5pbmRleCA+PSAwID8gdGhpcy5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLmluZGV4IC0gMSwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgdHJlZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWU7IH1cbiAgICB0b1RyZWUoKSB7IHJldHVybiB0aGlzLl90cmVlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuX3RyZWUudG9TdHJpbmcoKTsgfVxufVxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW4obm9kZSwgdHlwZSwgYmVmb3JlLCBhZnRlcikge1xuICAgIGxldCBjdXIgPSBub2RlLmN1cnNvcigpLCByZXN1bHQgPSBbXTtcbiAgICBpZiAoIWN1ci5maXJzdENoaWxkKCkpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKGJlZm9yZSAhPSBudWxsKVxuICAgICAgICBmb3IgKGxldCBmb3VuZCA9IGZhbHNlOyAhZm91bmQ7KSB7XG4gICAgICAgICAgICBmb3VuZCA9IGN1ci50eXBlLmlzKGJlZm9yZSk7XG4gICAgICAgICAgICBpZiAoIWN1ci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChhZnRlciAhPSBudWxsICYmIGN1ci50eXBlLmlzKGFmdGVyKSlcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGlmIChjdXIudHlwZS5pcyh0eXBlKSlcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1ci5ub2RlKTtcbiAgICAgICAgaWYgKCFjdXIubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgIHJldHVybiBhZnRlciA9PSBudWxsID8gcmVzdWx0IDogW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWF0Y2hOb2RlQ29udGV4dChub2RlLCBjb250ZXh0LCBpID0gY29udGV4dC5sZW5ndGggLSAxKSB7XG4gICAgZm9yIChsZXQgcCA9IG5vZGU7IGkgPj0gMDsgcCA9IHAucGFyZW50KSB7XG4gICAgICAgIGlmICghcClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwLnR5cGUuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0W2ldICYmIGNvbnRleHRbaV0gIT0gcC5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNsYXNzIEJ1ZmZlckNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgYnVmZmVyLCBpbmRleCwgc3RhcnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB9XG59XG5jbGFzcyBCdWZmZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy50eXBlLm5hbWU7IH1cbiAgICBnZXQgZnJvbSgpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5zdGFydCArIHRoaXMuY29udGV4dC5idWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAxXTsgfVxuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5zdGFydCArIHRoaXMuY29udGV4dC5idWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAyXTsgfVxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIF9wYXJlbnQsIGluZGV4KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy50eXBlID0gY29udGV4dC5idWZmZXIuc2V0LnR5cGVzW2NvbnRleHQuYnVmZmVyLmJ1ZmZlcltpbmRleF1dO1xuICAgIH1cbiAgICBjaGlsZChkaXIsIHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIGRpciwgcG9zIC0gdGhpcy5jb250ZXh0LnN0YXJ0LCBzaWRlKTtcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IG51bGwgOiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNoaWxkKDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZCgtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLmNoaWxkKDEsIHBvcywgMiAvKiBTaWRlLkFmdGVyICovKTsgfVxuICAgIGNoaWxkQmVmb3JlKHBvcykgeyByZXR1cm4gdGhpcy5jaGlsZCgtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGlmIChtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBzaWRlID4gMCA/IDEgOiAtMSwgcG9zIC0gdGhpcy5jb250ZXh0LnN0YXJ0LCBzaWRlKTtcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IG51bGwgOiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCB8fCB0aGlzLmNvbnRleHQucGFyZW50Lm5leHRTaWduaWZpY2FudFBhcmVudCgpO1xuICAgIH1cbiAgICBleHRlcm5hbFNpYmxpbmcoZGlyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyBudWxsIDogdGhpcy5jb250ZXh0LnBhcmVudC5uZXh0Q2hpbGQodGhpcy5jb250ZXh0LmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7XG4gICAgfVxuICAgIGdldCBuZXh0U2libGluZygpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBhZnRlciA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICBpZiAoYWZ0ZXIgPCAodGhpcy5fcGFyZW50ID8gYnVmZmVyLmJ1ZmZlclt0aGlzLl9wYXJlbnQuaW5kZXggKyAzXSA6IGJ1ZmZlci5idWZmZXIubGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuX3BhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlcm5hbFNpYmxpbmcoMSk7XG4gICAgfVxuICAgIGdldCBwcmV2U2libGluZygpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBwYXJlbnRTdGFydCA9IHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5pbmRleCArIDQgOiAwO1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSBwYXJlbnRTdGFydClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVybmFsU2libGluZygtMSk7XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuX3BhcmVudCwgYnVmZmVyLmZpbmRDaGlsZChwYXJlbnRTdGFydCwgdGhpcy5pbmRleCwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpO1xuICAgIH1cbiAgICBnZXQgdHJlZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB0b1RyZWUoKSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBzdGFydEkgPSB0aGlzLmluZGV4ICsgNCwgZW5kSSA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICBpZiAoZW5kSSA+IHN0YXJ0SSkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goYnVmZmVyLnNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkpO1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgdGhpcy50byAtIHRoaXMuZnJvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLmNvbnRleHQuYnVmZmVyLmNoaWxkU3RyaW5nKHRoaXMuaW5kZXgpOyB9XG59XG5mdW5jdGlvbiBpdGVyU3RhY2soaGVhZHMpIHtcbiAgICBpZiAoIWhlYWRzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHBpY2sgPSAwLCBwaWNrZWQgPSBoZWFkc1swXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGhlYWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gaGVhZHNbaV07XG4gICAgICAgIGlmIChub2RlLmZyb20gPiBwaWNrZWQuZnJvbSB8fCBub2RlLnRvIDwgcGlja2VkLnRvKSB7XG4gICAgICAgICAgICBwaWNrZWQgPSBub2RlO1xuICAgICAgICAgICAgcGljayA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHQgPSBwaWNrZWQgaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBwaWNrZWQuaW5kZXggPCAwID8gbnVsbCA6IHBpY2tlZC5wYXJlbnQ7XG4gICAgbGV0IG5ld0hlYWRzID0gaGVhZHMuc2xpY2UoKTtcbiAgICBpZiAobmV4dClcbiAgICAgICAgbmV3SGVhZHNbcGlja10gPSBuZXh0O1xuICAgIGVsc2VcbiAgICAgICAgbmV3SGVhZHMuc3BsaWNlKHBpY2ssIDEpO1xuICAgIHJldHVybiBuZXcgU3RhY2tJdGVyYXRvcihuZXdIZWFkcywgcGlja2VkKTtcbn1cbmNsYXNzIFN0YWNrSXRlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGhlYWRzLCBub2RlKSB7XG4gICAgICAgIHRoaXMuaGVhZHMgPSBoZWFkcztcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB9XG4gICAgZ2V0IG5leHQoKSB7IHJldHVybiBpdGVyU3RhY2sodGhpcy5oZWFkcyk7IH1cbn1cbmZ1bmN0aW9uIHN0YWNrSXRlcmF0b3IodHJlZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGlubmVyID0gdHJlZS5yZXNvbHZlSW5uZXIocG9zLCBzaWRlKSwgbGF5ZXJzID0gbnVsbDtcbiAgICBmb3IgKGxldCBzY2FuID0gaW5uZXIgaW5zdGFuY2VvZiBUcmVlTm9kZSA/IGlubmVyIDogaW5uZXIuY29udGV4dC5wYXJlbnQ7IHNjYW47IHNjYW4gPSBzY2FuLnBhcmVudCkge1xuICAgICAgICBpZiAoc2Nhbi5pbmRleCA8IDApIHsgLy8gVGhpcyBpcyBhbiBvdmVybGF5IHJvb3RcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzY2FuLnBhcmVudDtcbiAgICAgICAgICAgIChsYXllcnMgfHwgKGxheWVycyA9IFtpbm5lcl0pKS5wdXNoKHBhcmVudC5yZXNvbHZlKHBvcywgc2lkZSkpO1xuICAgICAgICAgICAgc2NhbiA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtb3VudCA9IE1vdW50ZWRUcmVlLmdldChzY2FuLnRyZWUpO1xuICAgICAgICAgICAgLy8gUmVsZXZhbnQgb3ZlcmxheSBicmFuY2hpbmcgb2ZmXG4gICAgICAgICAgICBpZiAobW91bnQgJiYgbW91bnQub3ZlcmxheSAmJiBtb3VudC5vdmVybGF5WzBdLmZyb20gPD0gcG9zICYmIG1vdW50Lm92ZXJsYXlbbW91bnQub3ZlcmxheS5sZW5ndGggLSAxXS50byA+PSBwb3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgcm9vdCA9IG5ldyBUcmVlTm9kZShtb3VudC50cmVlLCBtb3VudC5vdmVybGF5WzBdLmZyb20gKyBzY2FuLmZyb20sIC0xLCBzY2FuKTtcbiAgICAgICAgICAgICAgICAobGF5ZXJzIHx8IChsYXllcnMgPSBbaW5uZXJdKSkucHVzaChyZXNvbHZlTm9kZShyb290LCBwb3MsIHNpZGUsIGZhbHNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxheWVycyA/IGl0ZXJTdGFjayhsYXllcnMpIDogaW5uZXI7XG59XG4vKipcbkEgdHJlZSBjdXJzb3Igb2JqZWN0IGZvY3VzZXMgb24gYSBnaXZlbiBub2RlIGluIGEgc3ludGF4IHRyZWUsIGFuZFxuYWxsb3dzIHlvdSB0byBtb3ZlIHRvIGFkamFjZW50IG5vZGVzLlxuKi9cbmNsYXNzIFRyZWVDdXJzb3Ige1xuICAgIC8qKlxuICAgIFNob3J0aGFuZCBmb3IgYC50eXBlLm5hbWVgLlxuICAgICovXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLnR5cGUubmFtZTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3Iobm9kZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBtb2RlID0gMCkge1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmJ1ZmZlck5vZGUgPSBudWxsO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnlpZWxkTm9kZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWUgPSBub2RlLmNvbnRleHQucGFyZW50O1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gbm9kZS5fcGFyZW50OyBuOyBuID0gbi5fcGFyZW50KVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sudW5zaGlmdChuLmluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHlpZWxkTm9kZShub2RlKSB7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5fdHJlZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudHlwZSA9IG5vZGUudHlwZTtcbiAgICAgICAgdGhpcy5mcm9tID0gbm9kZS5mcm9tO1xuICAgICAgICB0aGlzLnRvID0gbm9kZS50bztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHlpZWxkQnVmKGluZGV4LCB0eXBlKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgbGV0IHsgc3RhcnQsIGJ1ZmZlciB9ID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgYnVmZmVyLnNldC50eXBlc1tidWZmZXIuYnVmZmVyW2luZGV4XV07XG4gICAgICAgIHRoaXMuZnJvbSA9IHN0YXJ0ICsgYnVmZmVyLmJ1ZmZlcltpbmRleCArIDFdO1xuICAgICAgICB0aGlzLnRvID0gc3RhcnQgKyBidWZmZXIuYnVmZmVyW2luZGV4ICsgMl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHlpZWxkKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgsIG5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IHRoaXMuYnVmZmVyLmJ1ZmZlci5jaGlsZFN0cmluZyh0aGlzLmluZGV4KSA6IHRoaXMuX3RyZWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBlbnRlckNoaWxkKGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZCh0aGlzLl90cmVlLm5leHRDaGlsZChkaXIgPCAwID8gdGhpcy5fdHJlZS5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxIDogMCwgZGlyLCBwb3MsIHNpZGUsIHRoaXMubW9kZSkpO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgZGlyLCBwb3MgLSB0aGlzLmJ1ZmZlci5zdGFydCwgc2lkZSk7XG4gICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhpcyBub2RlJ3MgZmlyc3QgY2hpbGQuIFdoZW4gdGhpcyByZXR1cm5zXG4gICAgZmFsc2UsIHRoZSBub2RlIGhhcyBubyBjaGlsZCwgYW5kIHRoZSBjdXJzb3IgaGFzIG5vdCBiZWVuIG1vdmVkLlxuICAgICovXG4gICAgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoaXMgbm9kZSdzIGxhc3QgY2hpbGQuXG4gICAgKi9cbiAgICBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGZpcnN0IGNoaWxkIHRoYXQgZW5kcyBhZnRlciBgcG9zYC5cbiAgICAqL1xuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbGFzdCBjaGlsZCB0aGF0IHN0YXJ0cyBiZWZvcmUgYHBvc2AuXG4gICAgKi9cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgtMSwgcG9zLCAtMiAvKiBTaWRlLkJlZm9yZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGNoaWxkIGFyb3VuZCBgcG9zYC4gSWYgc2lkZSBpcyAtMSB0aGVcbiAgICBjaGlsZCBtYXkgZW5kIGF0IHRoYXQgcG9zaXRpb24sIHdoZW4gMSBpdCBtYXkgc3RhcnQgdGhlcmUuIFRoaXNcbiAgICB3aWxsIGFsc28gZW50ZXIgW292ZXJsYWlkXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpXG4gICAgW21vdW50ZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgdHJlZXMgdW5sZXNzIGBvdmVybGF5c2AgaXNcbiAgICBzZXQgdG8gZmFsc2UuXG4gICAgKi9cbiAgICBlbnRlcihwb3MsIHNpZGUsIG1vZGUgPSB0aGlzLm1vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkKHRoaXMuX3RyZWUuZW50ZXIocG9zLCBzaWRlLCBtb2RlKSk7XG4gICAgICAgIHJldHVybiBtb2RlICYgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMgPyBmYWxzZSA6IHRoaXMuZW50ZXJDaGlsZCgxLCBwb3MsIHNpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBub2RlJ3MgcGFyZW50IG5vZGUsIGlmIHRoaXMgaXNuJ3QgdGhlIHRvcCBub2RlLlxuICAgICovXG4gICAgcGFyZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKCh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA/IHRoaXMuX3RyZWUuX3BhcmVudCA6IHRoaXMuX3RyZWUucGFyZW50KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYodGhpcy5zdGFjay5wb3AoKSk7XG4gICAgICAgIGxldCBwYXJlbnQgPSAodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPyB0aGlzLmJ1ZmZlci5wYXJlbnQgOiB0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKHBhcmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2libGluZyhkaXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fdHJlZS5fcGFyZW50ID8gZmFsc2VcbiAgICAgICAgICAgICAgICA6IHRoaXMueWllbGQodGhpcy5fdHJlZS5pbmRleCA8IDAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fdHJlZS5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLl90cmVlLmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLywgdGhpcy5tb2RlKSk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXIsIGQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChkaXIgPCAwKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50U3RhcnQgPSBkIDwgMCA/IDAgOiB0aGlzLnN0YWNrW2RdICsgNDtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICE9IHBhcmVudFN0YXJ0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGJ1ZmZlci5maW5kQ2hpbGQocGFyZW50U3RhcnQsIHRoaXMuaW5kZXgsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdO1xuICAgICAgICAgICAgaWYgKGFmdGVyIDwgKGQgPCAwID8gYnVmZmVyLmJ1ZmZlci5sZW5ndGggOiBidWZmZXIuYnVmZmVyW3RoaXMuc3RhY2tbZF0gKyAzXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoYWZ0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkIDwgMCA/IHRoaXMueWllbGQodGhpcy5idWZmZXIucGFyZW50Lm5leHRDaGlsZCh0aGlzLmJ1ZmZlci5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8sIHRoaXMubW9kZSkpIDogZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgbmV4dCBzaWJsaW5nLCBpZiBhbnkuXG4gICAgKi9cbiAgICBuZXh0U2libGluZygpIHsgcmV0dXJuIHRoaXMuc2libGluZygxKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhpcyBub2RlJ3MgcHJldmlvdXMgc2libGluZywgaWYgYW55LlxuICAgICovXG4gICAgcHJldlNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoLTEpOyB9XG4gICAgYXRMYXN0Tm9kZShkaXIpIHtcbiAgICAgICAgbGV0IGluZGV4LCBwYXJlbnQsIHsgYnVmZmVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgYnVmZmVyLmJ1ZmZlci5idWZmZXIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kZXg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5idWZmZXIuYnVmZmVyW2kgKyAzXSA8IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoeyBpbmRleCwgcGFyZW50IH0gPSBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKHsgaW5kZXgsIF9wYXJlbnQ6IHBhcmVudCB9ID0gdGhpcy5fdHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IHBhcmVudDsgeyBpbmRleCwgX3BhcmVudDogcGFyZW50IH0gPSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIGRpciwgZSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fdHJlZS5jaGlsZHJlbi5sZW5ndGg7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50Ll90cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC50eXBlLmlzQW5vbnltb3VzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGlsZChjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBtb3ZlKGRpciwgZW50ZXIpIHtcbiAgICAgICAgaWYgKGVudGVyICYmIHRoaXMuZW50ZXJDaGlsZChkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2libGluZyhkaXIpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXRMYXN0Tm9kZShkaXIpIHx8ICF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IG5vZGUgaW4gYVxuICAgIFtwcmUtb3JkZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RyZWVfdHJhdmVyc2FsI1ByZS1vcmRlcixfTkxSKVxuICAgIHRyYXZlcnNhbCwgZ29pbmcgZnJvbSBhIG5vZGUgdG8gaXRzIGZpcnN0IGNoaWxkIG9yLCBpZiB0aGVcbiAgICBjdXJyZW50IG5vZGUgaXMgZW1wdHkgb3IgYGVudGVyYCBpcyBmYWxzZSwgaXRzIG5leHQgc2libGluZyBvclxuICAgIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudCBub2RlIHRoYXQgaGFzIG9uZS5cbiAgICAqL1xuICAgIG5leHQoZW50ZXIgPSB0cnVlKSB7IHJldHVybiB0aGlzLm1vdmUoMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBub2RlIGluIGEgbGFzdC10by1maXJzdCBwcmUtb3JkZXIgdHJhdmVyc2FsLiBBXG4gICAgbm9kZSBpcyBmb2xsb3dlZCBieSBpdHMgbGFzdCBjaGlsZCBvciwgaWYgaXQgaGFzIG5vbmUsIGl0c1xuICAgIHByZXZpb3VzIHNpYmxpbmcgb3IgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgdGhlIGZpcnN0IHBhcmVudFxuICAgIG5vZGUgdGhhdCBoYXMgb25lLlxuICAgICovXG4gICAgcHJldihlbnRlciA9IHRydWUpIHsgcmV0dXJuIHRoaXMubW92ZSgtMSwgZW50ZXIpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBpbm5lcm1vc3Qgbm9kZSB0aGF0IGNvdmVycyBgcG9zYC4gSWZcbiAgICBgc2lkZWAgaXMgLTEsIGl0IHdpbGwgZW50ZXIgbm9kZXMgdGhhdCBlbmQgYXQgYHBvc2AuIElmIGl0IGlzIDEsXG4gICAgaXQgd2lsbCBlbnRlciBub2RlcyB0aGF0IHN0YXJ0IGF0IGBwb3NgLlxuICAgICovXG4gICAgbW92ZVRvKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmZyb20gPT0gdGhpcy50byB8fFxuICAgICAgICAgICAgKHNpZGUgPCAxID8gdGhpcy5mcm9tID49IHBvcyA6IHRoaXMuZnJvbSA+IHBvcykgfHxcbiAgICAgICAgICAgIChzaWRlID4gLTEgPyB0aGlzLnRvIDw9IHBvcyA6IHRoaXMudG8gPCBwb3MpKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBUaGVuIHNjYW4gZG93biBpbnRvIGNoaWxkIG5vZGVzIGFzIGZhciBhcyBwb3NzaWJsZVxuICAgICAgICB3aGlsZSAodGhpcy5lbnRlckNoaWxkKDEsIHBvcywgc2lkZSkpIHsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIGF0IHRoZSBjdXJzb3IncyBjdXJyZW50XG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmVlO1xuICAgICAgICBsZXQgY2FjaGUgPSB0aGlzLmJ1ZmZlck5vZGUsIHJlc3VsdCA9IG51bGwsIGRlcHRoID0gMDtcbiAgICAgICAgaWYgKGNhY2hlICYmIGNhY2hlLmNvbnRleHQgPT0gdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIHNjYW46IGZvciAobGV0IGluZGV4ID0gdGhpcy5pbmRleCwgZCA9IHRoaXMuc3RhY2subGVuZ3RoOyBkID49IDA7KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IGNhY2hlOyBjOyBjID0gYy5fcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5pbmRleCA9PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGggPSBkICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuc3RhY2tbLS1kXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gZGVwdGg7IGkgPCB0aGlzLnN0YWNrLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJ1ZmZlck5vZGUodGhpcy5idWZmZXIsIHJlc3VsdCwgdGhpcy5zdGFja1tpXSk7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlck5vZGUgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLmluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbdHJlZV0oI2NvbW1vbi5UcmVlKSB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgbm9kZSwgaWZcbiAgICBhbnkuIFdpbGwgcmV0dXJuIG51bGwgd2hlbiB0aGUgbm9kZSBpcyBpbiBhIFt0cmVlXG4gICAgYnVmZmVyXSgjY29tbW9uLlRyZWVCdWZmZXIpLlxuICAgICovXG4gICAgZ2V0IHRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IG51bGwgOiB0aGlzLl90cmVlLl90cmVlO1xuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIGN1cnJlbnQgbm9kZSBhbmQgYWxsIGl0cyBkZXNjZW5kYW50cywgY2FsbGluZ1xuICAgIGBlbnRlcmAgd2hlbiBlbnRlcmluZyBhIG5vZGUgYW5kIGBsZWF2ZWAsIGlmIGdpdmVuLCB3aGVuIGxlYXZpbmdcbiAgICBvbmUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIGFueSBjaGlsZHJlbiBvZiB0aGF0IG5vZGUgYXJlXG4gICAgc2tpcHBlZCwgYW5kIGBsZWF2ZWAgaXNuJ3QgY2FsbGVkIGZvciBpdC5cbiAgICAqL1xuICAgIGl0ZXJhdGUoZW50ZXIsIGxlYXZlKSB7XG4gICAgICAgIGZvciAobGV0IGRlcHRoID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbXVzdExlYXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKHRoaXMpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgICAgIG11c3RMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11c3RMZWF2ZSAmJiBsZWF2ZSlcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdGhpcy50eXBlLmlzQW5vbnltb3VzO1xuICAgICAgICAgICAgICAgIGlmICghZGVwdGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBtYXRjaGVzIGEgZ2l2ZW4gY29udGV4dFx1MjAxNGEgc2VxdWVuY2VcbiAgICBvZiBkaXJlY3QgcGFyZW50IG5vZGUgbmFtZXMuIEVtcHR5IHN0cmluZ3MgaW4gdGhlIGNvbnRleHQgYXJyYXlcbiAgICBhcmUgdHJlYXRlZCBhcyB3aWxkY2FyZHMuXG4gICAgKi9cbiAgICBtYXRjaENvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5ub2RlLnBhcmVudCwgY29udGV4dCk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXIsIHsgdHlwZXMgfSA9IGJ1ZmZlci5zZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBjb250ZXh0Lmxlbmd0aCAtIDEsIGQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgZC0tKSB7XG4gICAgICAgICAgICBpZiAoZCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5fdHJlZSwgY29udGV4dCwgaSk7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2J1ZmZlci5idWZmZXJbdGhpcy5zdGFja1tkXV1dO1xuICAgICAgICAgICAgaWYgKCF0eXBlLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHRbaV0gJiYgY29udGV4dFtpXSAhPSB0eXBlLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzQ2hpbGQodHJlZSkge1xuICAgIHJldHVybiB0cmVlLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8ICFjaC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKGNoKSk7XG59XG5mdW5jdGlvbiBidWlsZFRyZWUoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgeyBidWZmZXIsIG5vZGVTZXQsIG1heEJ1ZmZlckxlbmd0aCA9IERlZmF1bHRCdWZmZXJMZW5ndGgsIHJldXNlZCA9IFtdLCBtaW5SZXBlYXRUeXBlID0gbm9kZVNldC50eXBlcy5sZW5ndGggfSA9IGRhdGE7XG4gICAgbGV0IGN1cnNvciA9IEFycmF5LmlzQXJyYXkoYnVmZmVyKSA/IG5ldyBGbGF0QnVmZmVyQ3Vyc29yKGJ1ZmZlciwgYnVmZmVyLmxlbmd0aCkgOiBidWZmZXI7XG4gICAgbGV0IHR5cGVzID0gbm9kZVNldC50eXBlcztcbiAgICBsZXQgY29udGV4dEhhc2ggPSAwLCBsb29rQWhlYWQgPSAwO1xuICAgIGZ1bmN0aW9uIHRha2VOb2RlKHBhcmVudFN0YXJ0LCBtaW5Qb3MsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGluUmVwZWF0LCBkZXB0aCkge1xuICAgICAgICBsZXQgeyBpZCwgc3RhcnQsIGVuZCwgc2l6ZSB9ID0gY3Vyc29yO1xuICAgICAgICBsZXQgbG9va0FoZWFkQXRTdGFydCA9IGxvb2tBaGVhZCwgY29udGV4dEF0U3RhcnQgPSBjb250ZXh0SGFzaDtcbiAgICAgICAgd2hpbGUgKHNpemUgPCAwKSB7XG4gICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKHNpemUgPT0gLTEgLyogU3BlY2lhbFJlY29yZC5SZXVzZSAqLykge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gcmV1c2VkW2lkXTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHN0YXJ0IC0gcGFyZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKSB7IC8vIENvbnRleHQgY2hhbmdlXG4gICAgICAgICAgICAgICAgY29udGV4dEhhc2ggPSBpZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaXplID09IC00IC8qIFNwZWNpYWxSZWNvcmQuTG9va0FoZWFkICovKSB7XG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFVucmVjb2duaXplZCByZWNvcmQgc2l6ZTogJHtzaXplfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0eXBlID0gdHlwZXNbaWRdLCBub2RlLCBidWZmZXI7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHN0YXJ0IC0gcGFyZW50U3RhcnQ7XG4gICAgICAgIGlmIChlbmQgLSBzdGFydCA8PSBtYXhCdWZmZXJMZW5ndGggJiYgKGJ1ZmZlciA9IGZpbmRCdWZmZXJTaXplKGN1cnNvci5wb3MgLSBtaW5Qb3MsIGluUmVwZWF0KSkpIHtcbiAgICAgICAgICAgIC8vIFNtYWxsIGVub3VnaCBmb3IgYSBidWZmZXIsIGFuZCBubyByZXVzZWQgbm9kZXMgaW5zaWRlXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShidWZmZXIuc2l6ZSAtIGJ1ZmZlci5za2lwKTtcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gYnVmZmVyLnNpemUsIGluZGV4ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcylcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvcHlUb0J1ZmZlcihidWZmZXIuc3RhcnQsIGRhdGEsIGluZGV4KTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgVHJlZUJ1ZmZlcihkYXRhLCBlbmQgLSBidWZmZXIuc3RhcnQsIG5vZGVTZXQpO1xuICAgICAgICAgICAgc3RhcnRQb3MgPSBidWZmZXIuc3RhcnQgLSBwYXJlbnRTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gTWFrZSBpdCBhIG5vZGVcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gc2l6ZTtcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgbGV0IGxvY2FsSW5SZXBlYXQgPSBpZCA+PSBtaW5SZXBlYXRUeXBlID8gaWQgOiAtMTtcbiAgICAgICAgICAgIGxldCBsYXN0R3JvdXAgPSAwLCBsYXN0RW5kID0gZW5kO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+PSAwICYmIGN1cnNvci5pZCA9PSBsb2NhbEluUmVwZWF0ICYmIGN1cnNvci5zaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci5lbmQgPD0gbGFzdEVuZCAtIG1heEJ1ZmZlckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlcGVhdExlYWYobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIHN0YXJ0LCBsYXN0R3JvdXAsIGN1cnNvci5lbmQsIGxhc3RFbmQsIGxvY2FsSW5SZXBlYXQsIGxvb2tBaGVhZEF0U3RhcnQsIGNvbnRleHRBdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHcm91cCA9IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVuZCA9IGN1cnNvci5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGggPiAyNTAwIC8qIEN1dE9mZi5EZXB0aCAqLykge1xuICAgICAgICAgICAgICAgICAgICB0YWtlRmxhdE5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFrZU5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxvY2FsSW5SZXBlYXQsIGRlcHRoICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvY2FsSW5SZXBlYXQgPj0gMCAmJiBsYXN0R3JvdXAgPiAwICYmIGxhc3RHcm91cCA8IGxvY2FsQ2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIG1ha2VSZXBlYXRMZWFmKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBzdGFydCwgbGFzdEdyb3VwLCBzdGFydCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCwgY29udGV4dEF0U3RhcnQpO1xuICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+IC0xICYmIGxhc3RHcm91cCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFrZSA9IG1ha2VCYWxhbmNlZCh0eXBlLCBjb250ZXh0QXRTdGFydCk7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGJhbGFuY2VSYW5nZSh0eXBlLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgMCwgbG9jYWxDaGlsZHJlbi5sZW5ndGgsIDAsIGVuZCAtIHN0YXJ0LCBtYWtlLCBtYWtlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBtYWtlVHJlZSh0eXBlLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgZW5kIC0gc3RhcnQsIGxvb2tBaGVhZEF0U3RhcnQgLSBlbmQsIGNvbnRleHRBdFN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydFBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRha2VGbGF0Tm9kZShwYXJlbnRTdGFydCwgbWluUG9zLCBjaGlsZHJlbiwgcG9zaXRpb25zKSB7XG4gICAgICAgIGxldCBub2RlcyA9IFtdOyAvLyBUZW1wb3JhcnksIGludmVydGVkIGFycmF5IG9mIGxlYWYgbm9kZXMgZm91bmQsIHdpdGggYWJzb2x1dGUgcG9zaXRpb25zXG4gICAgICAgIGxldCBub2RlQ291bnQgPSAwLCBzdG9wQXQgPSAtMTtcbiAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBtaW5Qb3MpIHtcbiAgICAgICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHsgLy8gTm90IGEgbGVhZlxuICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdG9wQXQgPiAtMSAmJiBzdGFydCA8IHN0b3BBdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BBdCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCA9IGVuZCAtIG1heEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGlkLCBzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBub2RlQ291bnQrKztcbiAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlQ291bnQpIHtcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkobm9kZUNvdW50ICogNCk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5sZW5ndGggLSAzLCBqID0gMDsgaSA+PSAwOyBpIC09IDMpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltqKytdID0gbm9kZXNbaSArIDFdIC0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyW2orK10gPSBub2Rlc1tpICsgMl0gLSBzdGFydDtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IGo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5ldyBUcmVlQnVmZmVyKGJ1ZmZlciwgbm9kZXNbMl0gLSBzdGFydCwgbm9kZVNldCkpO1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnQgLSBwYXJlbnRTdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUJhbGFuY2VkKHR5cGUsIGNvbnRleHRIYXNoKSB7XG4gICAgICAgIHJldHVybiAoY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gMCwgbGFzdEkgPSBjaGlsZHJlbi5sZW5ndGggLSAxLCBsYXN0LCBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgaWYgKGxhc3RJID49IDAgJiYgKGxhc3QgPSBjaGlsZHJlbltsYXN0SV0pIGluc3RhbmNlb2YgVHJlZSkge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdEkgJiYgbGFzdC50eXBlID09IHR5cGUgJiYgbGFzdC5sZW5ndGggPT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgICAgICAgICBpZiAobG9va0FoZWFkUHJvcCA9IGxhc3QucHJvcChOb2RlUHJvcC5sb29rQWhlYWQpKVxuICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWQgPSBwb3NpdGlvbnNbbGFzdEldICsgbGFzdC5sZW5ndGggKyBsb29rQWhlYWRQcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ha2VUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgbG9va0FoZWFkLCBjb250ZXh0SGFzaCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VSZXBlYXRMZWFmKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGJhc2UsIGksIGZyb20sIHRvLCB0eXBlLCBsb29rQWhlYWQsIGNvbnRleHRIYXNoKSB7XG4gICAgICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgICAgIHdoaWxlIChjaGlsZHJlbi5sZW5ndGggPiBpKSB7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goY2hpbGRyZW4ucG9wKCkpO1xuICAgICAgICAgICAgbG9jYWxQb3NpdGlvbnMucHVzaChwb3NpdGlvbnMucG9wKCkgKyBiYXNlIC0gZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4ucHVzaChtYWtlVHJlZShub2RlU2V0LnR5cGVzW3R5cGVdLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgdG8gLSBmcm9tLCBsb29rQWhlYWQgLSB0bywgY29udGV4dEhhc2gpKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIGJhc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIGxvb2tBaGVhZCwgY29udGV4dEhhc2gsIHByb3BzKSB7XG4gICAgICAgIGlmIChjb250ZXh0SGFzaCkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSBbTm9kZVByb3AuY29udGV4dEhhc2gsIGNvbnRleHRIYXNoXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9va0FoZWFkID4gMjUpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gW05vZGVQcm9wLmxvb2tBaGVhZCwgbG9va0FoZWFkXTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMgPyBbcGFpcl0uY29uY2F0KHByb3BzKSA6IFtwYWlyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBwcm9wcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRCdWZmZXJTaXplKG1heFNpemUsIGluUmVwZWF0KSB7XG4gICAgICAgIC8vIFNjYW4gdGhyb3VnaCB0aGUgYnVmZmVyIHRvIGZpbmQgcHJldmlvdXMgc2libGluZ3MgdGhhdCBmaXRcbiAgICAgICAgLy8gdG9nZXRoZXIgaW4gYSBUcmVlQnVmZmVyLCBhbmQgZG9uJ3QgY29udGFpbiBhbnkgcmV1c2VkIG5vZGVzXG4gICAgICAgIC8vICh3aGljaCBjYW4ndCBiZSBzdG9yZWQgaW4gYSBidWZmZXIpLlxuICAgICAgICAvLyBJZiBgaW5SZXBlYXRgIGlzID4gLTEsIGlnbm9yZSBub2RlIGJvdW5kYXJpZXMgb2YgdGhhdCB0eXBlIGZvclxuICAgICAgICAvLyBuZXN0aW5nLCBidXQgbWFrZSBzdXJlIHRoZSBlbmQgZmFsbHMgZWl0aGVyIGF0IHRoZSBzdGFydFxuICAgICAgICAvLyAoYG1heFNpemVgKSBvciBiZWZvcmUgc3VjaCBhIG5vZGUuXG4gICAgICAgIGxldCBmb3JrID0gY3Vyc29yLmZvcmsoKTtcbiAgICAgICAgbGV0IHNpemUgPSAwLCBzdGFydCA9IDAsIHNraXAgPSAwLCBtaW5TdGFydCA9IGZvcmsuZW5kIC0gbWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICBsZXQgcmVzdWx0ID0geyBzaXplOiAwLCBzdGFydDogMCwgc2tpcDogMCB9O1xuICAgICAgICBzY2FuOiBmb3IgKGxldCBtaW5Qb3MgPSBmb3JrLnBvcyAtIG1heFNpemU7IGZvcmsucG9zID4gbWluUG9zOykge1xuICAgICAgICAgICAgbGV0IG5vZGVTaXplID0gZm9yay5zaXplO1xuICAgICAgICAgICAgLy8gUHJldGVuZCBuZXN0ZWQgcmVwZWF0IG5vZGVzIG9mIHRoZSBzYW1lIHR5cGUgZG9uJ3QgZXhpc3RcbiAgICAgICAgICAgIGlmIChmb3JrLmlkID09IGluUmVwZWF0ICYmIG5vZGVTaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFeGNlcHQgdGhhdCB3ZSBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBhcyBhIHZhbGlkIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHZhbHVlLlxuICAgICAgICAgICAgICAgIHJlc3VsdC5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2tpcCA9IHNraXA7XG4gICAgICAgICAgICAgICAgc2tpcCArPSA0O1xuICAgICAgICAgICAgICAgIHNpemUgKz0gNDtcbiAgICAgICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGZvcmsucG9zIC0gbm9kZVNpemU7XG4gICAgICAgICAgICBpZiAobm9kZVNpemUgPCAwIHx8IHN0YXJ0UG9zIDwgbWluUG9zIHx8IGZvcmsuc3RhcnQgPCBtaW5TdGFydClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCBsb2NhbFNraXBwZWQgPSBmb3JrLmlkID49IG1pblJlcGVhdFR5cGUgPyA0IDogMDtcbiAgICAgICAgICAgIGxldCBub2RlU3RhcnQgPSBmb3JrLnN0YXJ0O1xuICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICB3aGlsZSAoZm9yay5wb3MgPiBzdGFydFBvcykge1xuICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JrLnNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTa2lwcGVkICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvcmsuaWQgPj0gbWluUmVwZWF0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFNraXBwZWQgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydCA9IG5vZGVTdGFydDtcbiAgICAgICAgICAgIHNpemUgKz0gbm9kZVNpemU7XG4gICAgICAgICAgICBza2lwICs9IGxvY2FsU2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5SZXBlYXQgPCAwIHx8IHNpemUgPT0gbWF4U2l6ZSkge1xuICAgICAgICAgICAgcmVzdWx0LnNpemUgPSBzaXplO1xuICAgICAgICAgICAgcmVzdWx0LnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICByZXN1bHQuc2tpcCA9IHNraXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zaXplID4gNCA/IHJlc3VsdCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVRvQnVmZmVyKGJ1ZmZlclN0YXJ0LCBidWZmZXIsIGluZGV4KSB7XG4gICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgIGlmIChzaXplID49IDAgJiYgaWQgPCBtaW5SZXBlYXRUeXBlKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgaWYgKHNpemUgPiA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSAoc2l6ZSAtIDQpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJzb3IucG9zID4gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvcHlUb0J1ZmZlcihidWZmZXJTdGFydCwgYnVmZmVyLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gZW5kIC0gYnVmZmVyU3RhcnQ7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBzdGFydCAtIGJ1ZmZlclN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pIHtcbiAgICAgICAgICAgIGNvbnRleHRIYXNoID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtNCAvKiBTcGVjaWFsUmVjb3JkLkxvb2tBaGVhZCAqLykge1xuICAgICAgICAgICAgbG9va0FoZWFkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBsZXQgY2hpbGRyZW4gPSBbXSwgcG9zaXRpb25zID0gW107XG4gICAgd2hpbGUgKGN1cnNvci5wb3MgPiAwKVxuICAgICAgICB0YWtlTm9kZShkYXRhLnN0YXJ0IHx8IDAsIGRhdGEuYnVmZmVyU3RhcnQgfHwgMCwgY2hpbGRyZW4sIHBvc2l0aW9ucywgLTEsIDApO1xuICAgIGxldCBsZW5ndGggPSAoX2EgPSBkYXRhLmxlbmd0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGNoaWxkcmVuLmxlbmd0aCA/IHBvc2l0aW9uc1swXSArIGNoaWxkcmVuWzBdLmxlbmd0aCA6IDApO1xuICAgIHJldHVybiBuZXcgVHJlZSh0eXBlc1tkYXRhLnRvcElEXSwgY2hpbGRyZW4ucmV2ZXJzZSgpLCBwb3NpdGlvbnMucmV2ZXJzZSgpLCBsZW5ndGgpO1xufVxuY29uc3Qgbm9kZVNpemVDYWNoZSA9IG5ldyBXZWFrTWFwO1xuZnVuY3Rpb24gbm9kZVNpemUoYmFsYW5jZVR5cGUsIG5vZGUpIHtcbiAgICBpZiAoIWJhbGFuY2VUeXBlLmlzQW5vbnltb3VzIHx8IG5vZGUgaW5zdGFuY2VvZiBUcmVlQnVmZmVyIHx8IG5vZGUudHlwZSAhPSBiYWxhbmNlVHlwZSlcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgbGV0IHNpemUgPSBub2RlU2l6ZUNhY2hlLmdldChub2RlKTtcbiAgICBpZiAoc2l6ZSA9PSBudWxsKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPSBiYWxhbmNlVHlwZSB8fCAhKGNoaWxkIGluc3RhbmNlb2YgVHJlZSkpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpemUgKz0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlU2l6ZUNhY2hlLnNldChub2RlLCBzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59XG5mdW5jdGlvbiBiYWxhbmNlUmFuZ2UoXG4vLyBUaGUgdHlwZSB0aGUgYmFsYW5jZWQgdHJlZSdzIGlubmVyIG5vZGVzLlxuYmFsYW5jZVR5cGUsIFxuLy8gVGhlIGRpcmVjdCBjaGlsZHJlbiBhbmQgdGhlaXIgcG9zaXRpb25zXG5jaGlsZHJlbiwgcG9zaXRpb25zLCBcbi8vIFRoZSBpbmRleCByYW5nZSBpbiBjaGlsZHJlbi9wb3NpdGlvbnMgdG8gdXNlXG5mcm9tLCB0bywgXG4vLyBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG5vZGVzLCByZWxhdGl2ZSB0byB0aGVpciBwYXJlbnQuXG5zdGFydCwgXG4vLyBMZW5ndGggb2YgdGhlIG91dGVyIG5vZGVcbmxlbmd0aCwgXG4vLyBGdW5jdGlvbiB0byBidWlsZCB0aGUgdG9wIG5vZGUgb2YgdGhlIGJhbGFuY2VkIHRyZWVcbm1rVG9wLCBcbi8vIEZ1bmN0aW9uIHRvIGJ1aWxkIGludGVybmFsIG5vZGVzIGZvciB0aGUgYmFsYW5jZWQgdHJlZVxubWtUcmVlKSB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspXG4gICAgICAgIHRvdGFsICs9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgbGV0IG1heENoaWxkID0gTWF0aC5jZWlsKCh0b3RhbCAqIDEuNSkgLyA4IC8qIEJhbGFuY2UuQnJhbmNoRmFjdG9yICovKTtcbiAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgIGZ1bmN0aW9uIGRpdmlkZShjaGlsZHJlbiwgcG9zaXRpb25zLCBmcm9tLCB0bywgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87KSB7XG4gICAgICAgICAgICBsZXQgZ3JvdXBGcm9tID0gaSwgZ3JvdXBTdGFydCA9IHBvc2l0aW9uc1tpXSwgZ3JvdXBTaXplID0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGZvciAoOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0U2l6ZSA9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwU2l6ZSArIG5leHRTaXplID49IG1heENoaWxkKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBncm91cFNpemUgKz0gbmV4dFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PSBncm91cEZyb20gKyAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwU2l6ZSA+IG1heENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmx5ID0gY2hpbGRyZW5bZ3JvdXBGcm9tXTsgLy8gT25seSB0cmVlcyBjYW4gaGF2ZSBhIHNpemUgPiAxXG4gICAgICAgICAgICAgICAgICAgIGRpdmlkZShvbmx5LmNoaWxkcmVuLCBvbmx5LnBvc2l0aW9ucywgMCwgb25seS5jaGlsZHJlbi5sZW5ndGgsIHBvc2l0aW9uc1tncm91cEZyb21dICsgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChjaGlsZHJlbltncm91cEZyb21dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBwb3NpdGlvbnNbaSAtIDFdICsgY2hpbGRyZW5baSAtIDFdLmxlbmd0aCAtIGdyb3VwU3RhcnQ7XG4gICAgICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5wdXNoKGJhbGFuY2VSYW5nZShiYWxhbmNlVHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgZ3JvdXBGcm9tLCBpLCBncm91cFN0YXJ0LCBsZW5ndGgsIG51bGwsIG1rVHJlZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxQb3NpdGlvbnMucHVzaChncm91cFN0YXJ0ICsgb2Zmc2V0IC0gc3RhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpdmlkZShjaGlsZHJlbiwgcG9zaXRpb25zLCBmcm9tLCB0bywgMCk7XG4gICAgcmV0dXJuIChta1RvcCB8fCBta1RyZWUpKGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBsZW5ndGgpO1xufVxuLyoqXG5Qcm92aWRlcyBhIHdheSB0byBhc3NvY2lhdGUgdmFsdWVzIHdpdGggcGllY2VzIG9mIHRyZWVzLiBBcyBsb25nXG5hcyB0aGF0IHBhcnQgb2YgdGhlIHRyZWUgaXMgcmV1c2VkLCB0aGUgYXNzb2NpYXRlZCB2YWx1ZXMgY2FuIGJlXG5yZXRyaWV2ZWQgZnJvbSBhbiB1cGRhdGVkIHRyZWUuXG4qL1xuY2xhc3MgTm9kZVdlYWtNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHNldEJ1ZmZlcihidWZmZXIsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLm1hcC5nZXQoYnVmZmVyKTtcbiAgICAgICAgaWYgKCFpbm5lcilcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChidWZmZXIsIGlubmVyID0gbmV3IE1hcCk7XG4gICAgICAgIGlubmVyLnNldChpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgICBnZXRCdWZmZXIoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLm1hcC5nZXQoYnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGlubmVyICYmIGlubmVyLmdldChpbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNldCB0aGUgdmFsdWUgZm9yIHRoaXMgc3ludGF4IG5vZGUuXG4gICAgKi9cbiAgICBzZXQobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleCwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQobm9kZS50cmVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIHZhbHVlIGZvciB0aGlzIHN5bnRheCBub2RlLCBpZiBpdCBleGlzdHMgaW4gdGhlIG1hcC5cbiAgICAqL1xuICAgIGdldChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgQnVmZmVyTm9kZSA/IHRoaXMuZ2V0QnVmZmVyKG5vZGUuY29udGV4dC5idWZmZXIsIG5vZGUuaW5kZXgpXG4gICAgICAgICAgICA6IG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSA/IHRoaXMubWFwLmdldChub2RlLnRyZWUpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBTZXQgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHMgdG8uXG4gICAgKi9cbiAgICBjdXJzb3JTZXQoY3Vyc29yLCB2YWx1ZSkge1xuICAgICAgICBpZiAoY3Vyc29yLmJ1ZmZlcilcbiAgICAgICAgICAgIHRoaXMuc2V0QnVmZmVyKGN1cnNvci5idWZmZXIuYnVmZmVyLCBjdXJzb3IuaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGN1cnNvci50cmVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIHRoZSB2YWx1ZSBmb3IgdGhlIG5vZGUgdGhhdCBhIGN1cnNvciBjdXJyZW50bHkgcG9pbnRzXG4gICAgdG8uXG4gICAgKi9cbiAgICBjdXJzb3JHZXQoY3Vyc29yKSB7XG4gICAgICAgIHJldHVybiBjdXJzb3IuYnVmZmVyID8gdGhpcy5nZXRCdWZmZXIoY3Vyc29yLmJ1ZmZlci5idWZmZXIsIGN1cnNvci5pbmRleCkgOiB0aGlzLm1hcC5nZXQoY3Vyc29yLnRyZWUpO1xuICAgIH1cbn1cblxuLyoqXG5UcmVlIGZyYWdtZW50cyBhcmUgdXNlZCBkdXJpbmcgW2luY3JlbWVudGFsXG5wYXJzaW5nXSgjY29tbW9uLlBhcnNlci5zdGFydFBhcnNlKSB0byB0cmFjayBwYXJ0cyBvZiBvbGQgdHJlZXNcbnRoYXQgY2FuIGJlIHJldXNlZCBpbiBhIG5ldyBwYXJzZS4gQW4gYXJyYXkgb2YgZnJhZ21lbnRzIGlzIHVzZWRcbnRvIHRyYWNrIHJlZ2lvbnMgb2YgYW4gb2xkIHRyZWUgd2hvc2Ugbm9kZXMgbWlnaHQgYmUgcmV1c2VkIGluIG5ld1xucGFyc2VzLiBVc2UgdGhlIHN0YXRpY1xuW2BhcHBseUNoYW5nZXNgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hcHBseUNoYW5nZXMpIG1ldGhvZCB0b1xudXBkYXRlIGZyYWdtZW50cyBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cbiovXG5jbGFzcyBUcmVlRnJhZ21lbnQge1xuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIHRyZWUgZnJhZ21lbnQuIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gdXNlXG4gICAgW2BhZGRUcmVlYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnReYWRkVHJlZSkgYW5kXG4gICAgW2BhcHBseUNoYW5nZXNgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hcHBseUNoYW5nZXMpIGluc3RlYWQgb2ZcbiAgICBjYWxsaW5nIHRoaXMgZGlyZWN0bHkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIHVuY2hhbmdlZCByYW5nZSBwb2ludGVkIHRvIGJ5IHRoaXMgZnJhZ21lbnQuXG4gICAgVGhpcyByZWZlcnMgdG8gYW4gb2Zmc2V0IGluIHRoZSBfdXBkYXRlZF8gZG9jdW1lbnQgKGFzIG9wcG9zZWRcbiAgICB0byB0aGUgb3JpZ2luYWwgdHJlZSkuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgZW5kIG9mIHRoZSB1bmNoYW5nZWQgcmFuZ2UuXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIHRyZWUgdGhhdCB0aGlzIGZyYWdtZW50IGlzIGJhc2VkIG9uLlxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgVGhlIG9mZnNldCBiZXR3ZWVuIHRoZSBmcmFnbWVudCdzIHRyZWUgYW5kIHRoZSBkb2N1bWVudCB0aGF0XG4gICAgdGhpcyBmcmFnbWVudCBjYW4gYmUgdXNlZCBhZ2FpbnN0LiBBZGQgdGhpcyB3aGVuIGdvaW5nIGZyb21cbiAgICBkb2N1bWVudCB0byB0cmVlIHBvc2l0aW9ucywgc3VidHJhY3QgaXQgdG8gZ28gZnJvbSB0cmVlIHRvXG4gICAgZG9jdW1lbnQgcG9zaXRpb25zLlxuICAgICovXG4gICAgb2Zmc2V0LCBvcGVuU3RhcnQgPSBmYWxzZSwgb3BlbkVuZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMub3BlbiA9IChvcGVuU3RhcnQgPyAxIC8qIE9wZW4uU3RhcnQgKi8gOiAwKSB8IChvcGVuRW5kID8gMiAvKiBPcGVuLkVuZCAqLyA6IDApO1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBzdGFydCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgc3RhcnQgb2YgYVxuICAgIHBhcnNlLCBvciB0aGUgZW5kIG9mIGEgY2hhbmdlLiAoSW4gdGhlIHNlY29uZCBjYXNlLCBpdCBtYXkgbm90XG4gICAgYmUgc2FmZSB0byByZXVzZSBzb21lIG5vZGVzIGF0IHRoZSBzdGFydCwgZGVwZW5kaW5nIG9uIHRoZVxuICAgIHBhcnNpbmcgYWxnb3JpdGhtLilcbiAgICAqL1xuICAgIGdldCBvcGVuU3RhcnQoKSB7IHJldHVybiAodGhpcy5vcGVuICYgMSAvKiBPcGVuLlN0YXJ0ICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50IHJlcHJlc2VudHMgdGhlIGVuZCBvZiBhXG4gICAgZnVsbC1kb2N1bWVudCBwYXJzZSwgb3IgdGhlIHN0YXJ0IG9mIGEgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IG9wZW5FbmQoKSB7IHJldHVybiAodGhpcy5vcGVuICYgMiAvKiBPcGVuLkVuZCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IG9mIGZyYWdtZW50cyBmcm9tIGEgZnJlc2hseSBwYXJzZWQgdHJlZSwgb3IgdXBkYXRlXG4gICAgYW4gZXhpc3Rpbmcgc2V0IG9mIGZyYWdtZW50cyBieSByZXBsYWNpbmcgdGhlIG9uZXMgdGhhdCBvdmVybGFwXG4gICAgd2l0aCBhIHRyZWUgd2l0aCBjb250ZW50IGZyb20gdGhlIG5ldyB0cmVlLiBXaGVuIGBwYXJ0aWFsYCBpc1xuICAgIHRydWUsIHRoZSBwYXJzZSBpcyB0cmVhdGVkIGFzIGluY29tcGxldGUsIGFuZCB0aGUgcmVzdWx0aW5nXG4gICAgZnJhZ21lbnQgaGFzIFtgb3BlbkVuZGBdKCNjb21tb24uVHJlZUZyYWdtZW50Lm9wZW5FbmQpIHNldCB0b1xuICAgIHRydWUuXG4gICAgKi9cbiAgICBzdGF0aWMgYWRkVHJlZSh0cmVlLCBmcmFnbWVudHMgPSBbXSwgcGFydGlhbCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbbmV3IFRyZWVGcmFnbWVudCgwLCB0cmVlLmxlbmd0aCwgdHJlZSwgMCwgZmFsc2UsIHBhcnRpYWwpXTtcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmcmFnbWVudHMpXG4gICAgICAgICAgICBpZiAoZi50byA+IHRyZWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGYpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBBcHBseSBhIHNldCBvZiBlZGl0cyB0byBhbiBhcnJheSBvZiBmcmFnbWVudHMsIHJlbW92aW5nIG9yXG4gICAgc3BsaXR0aW5nIGZyYWdtZW50cyBhcyBuZWNlc3NhcnkgdG8gcmVtb3ZlIGVkaXRlZCByYW5nZXMsIGFuZFxuICAgIGFkanVzdGluZyBvZmZzZXRzIGZvciBmcmFnbWVudHMgdGhhdCBtb3ZlZC5cbiAgICAqL1xuICAgIHN0YXRpYyBhcHBseUNoYW5nZXMoZnJhZ21lbnRzLCBjaGFuZ2VzLCBtaW5HYXAgPSAxMjgpIHtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGZJID0gMSwgbmV4dEYgPSBmcmFnbWVudHMubGVuZ3RoID8gZnJhZ21lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgY0kgPSAwLCBwb3MgPSAwLCBvZmYgPSAwOzsgY0krKykge1xuICAgICAgICAgICAgbGV0IG5leHRDID0gY0kgPCBjaGFuZ2VzLmxlbmd0aCA/IGNoYW5nZXNbY0ldIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBuZXh0UG9zID0gbmV4dEMgPyBuZXh0Qy5mcm9tQSA6IDFlOTtcbiAgICAgICAgICAgIGlmIChuZXh0UG9zIC0gcG9zID49IG1pbkdhcClcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dEYgJiYgbmV4dEYuZnJvbSA8IG5leHRQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1dCA9IG5leHRGO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID49IGN1dC5mcm9tIHx8IG5leHRQb3MgPD0gY3V0LnRvIHx8IG9mZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZGcm9tID0gTWF0aC5tYXgoY3V0LmZyb20sIHBvcykgLSBvZmYsIGZUbyA9IE1hdGgubWluKGN1dC50bywgbmV4dFBvcykgLSBvZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXQgPSBmRnJvbSA+PSBmVG8gPyBudWxsIDogbmV3IFRyZWVGcmFnbWVudChmRnJvbSwgZlRvLCBjdXQudHJlZSwgY3V0Lm9mZnNldCArIG9mZiwgY0kgPiAwLCAhIW5leHRDKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRGLnRvID4gbmV4dFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBuZXh0RiA9IGZJIDwgZnJhZ21lbnRzLmxlbmd0aCA/IGZyYWdtZW50c1tmSSsrXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0QylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHBvcyA9IG5leHRDLnRvQTtcbiAgICAgICAgICAgIG9mZiA9IG5leHRDLnRvQSAtIG5leHRDLnRvQjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuQSBzdXBlcmNsYXNzIHRoYXQgcGFyc2VycyBzaG91bGQgZXh0ZW5kLlxuKi9cbmNsYXNzIFBhcnNlciB7XG4gICAgLyoqXG4gICAgU3RhcnQgYSBwYXJzZSwgcmV0dXJuaW5nIGEgW3BhcnRpYWwgcGFyc2VdKCNjb21tb24uUGFydGlhbFBhcnNlKVxuICAgIG9iamVjdC4gW2BmcmFnbWVudHNgXSgjY29tbW9uLlRyZWVGcmFnbWVudCkgY2FuIGJlIHBhc3NlZCBpbiB0b1xuICAgIG1ha2UgdGhlIHBhcnNlIGluY3JlbWVudGFsLlxuICAgIFxuICAgIEJ5IGRlZmF1bHQsIHRoZSBlbnRpcmUgaW5wdXQgaXMgcGFyc2VkLiBZb3UgY2FuIHBhc3MgYHJhbmdlc2AsXG4gICAgd2hpY2ggc2hvdWxkIGJlIGEgc29ydGVkIGFycmF5IG9mIG5vbi1lbXB0eSwgbm9uLW92ZXJsYXBwaW5nXG4gICAgcmFuZ2VzLCB0byBwYXJzZSBvbmx5IHRob3NlIHJhbmdlcy4gVGhlIHRyZWUgcmV0dXJuZWQgaW4gdGhhdFxuICAgIGNhc2Ugd2lsbCBzdGFydCBhdCBgcmFuZ2VzWzBdLmZyb21gLlxuICAgICovXG4gICAgc3RhcnRQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgU3RyaW5nSW5wdXQoaW5wdXQpO1xuICAgICAgICByYW5nZXMgPSAhcmFuZ2VzID8gW25ldyBSYW5nZSgwLCBpbnB1dC5sZW5ndGgpXSA6IHJhbmdlcy5sZW5ndGggPyByYW5nZXMubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSwgci50bykpIDogW25ldyBSYW5nZSgwLCAwKV07XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBhcnNlKGlucHV0LCBmcmFnbWVudHMgfHwgW10sIHJhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJ1biBhIGZ1bGwgcGFyc2UsIHJldHVybmluZyB0aGUgcmVzdWx0aW5nIHRyZWUuXG4gICAgKi9cbiAgICBwYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgbGV0IHBhcnNlID0gdGhpcy5zdGFydFBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBkb25lID0gcGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmU7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTdHJpbmdJbnB1dCB7XG4gICAgY29uc3RydWN0b3Ioc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5zdHJpbmcubGVuZ3RoOyB9XG4gICAgY2h1bmsoZnJvbSkgeyByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSk7IH1cbiAgICBnZXQgbGluZUNodW5rcygpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgcmVhZChmcm9tLCB0bykgeyByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSwgdG8pOyB9XG59XG5cbi8qKlxuQ3JlYXRlIGEgcGFyc2Ugd3JhcHBlciB0aGF0LCBhZnRlciB0aGUgaW5uZXIgcGFyc2UgY29tcGxldGVzLFxuc2NhbnMgaXRzIHRyZWUgZm9yIG1peGVkIGxhbmd1YWdlIHJlZ2lvbnMgd2l0aCB0aGUgYG5lc3RgXG5mdW5jdGlvbiwgcnVucyB0aGUgcmVzdWx0aW5nIFtpbm5lciBwYXJzZXNdKCNjb21tb24uTmVzdGVkUGFyc2UpLFxuYW5kIHRoZW4gW21vdW50c10oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSB0aGVpciByZXN1bHRzIG9udG8gdGhlXG50cmVlLlxuKi9cbmZ1bmN0aW9uIHBhcnNlTWl4ZWQobmVzdCkge1xuICAgIHJldHVybiAocGFyc2UsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykgPT4gbmV3IE1peGVkUGFyc2UocGFyc2UsIG5lc3QsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG59XG5jbGFzcyBJbm5lclBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIHBhcnNlLCBvdmVybGF5LCB0YXJnZXQsIGZyb20pIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gb3ZlcmxheTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tSYW5nZXMocmFuZ2VzKSB7XG4gICAgaWYgKCFyYW5nZXMubGVuZ3RoIHx8IHJhbmdlcy5zb21lKHIgPT4gci5mcm9tID49IHIudG8pKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5uZXIgcGFyc2UgcmFuZ2VzIGdpdmVuOiBcIiArIEpTT04uc3RyaW5naWZ5KHJhbmdlcykpO1xufVxuY2xhc3MgQWN0aXZlT3ZlcmxheSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBwcmVkaWNhdGUsIG1vdW50cywgaW5kZXgsIHN0YXJ0LCB0YXJnZXQsIHByZXYpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLm1vdW50cyA9IG1vdW50cztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgICAgICB0aGlzLmRlcHRoID0gMDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICB9XG59XG5jb25zdCBzdG9wcGVkSW5uZXIgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuY2xhc3MgTWl4ZWRQYXJzZSB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgbmVzdCwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgIHRoaXMubmVzdCA9IG5lc3Q7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLmlubmVyID0gW107XG4gICAgICAgIHRoaXMuaW5uZXJEb25lID0gMDtcbiAgICAgICAgdGhpcy5iYXNlVHJlZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXNlUGFyc2UgPSBiYXNlO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpIHtcbiAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5iYXNlUGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGFyc2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5iYXNlVHJlZSA9IGRvbmU7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SW5uZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlubmVyIG9mIHRoaXMuaW5uZXIpXG4gICAgICAgICAgICAgICAgICAgIGlubmVyLnBhcnNlLnN0b3BBdCh0aGlzLnN0b3BwZWRBdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5uZXJEb25lID09IHRoaXMuaW5uZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5iYXNlVHJlZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBUcmVlKHJlc3VsdC50eXBlLCByZXN1bHQuY2hpbGRyZW4sIHJlc3VsdC5wb3NpdGlvbnMsIHJlc3VsdC5sZW5ndGgsIHJlc3VsdC5wcm9wVmFsdWVzLmNvbmNhdChbW3N0b3BwZWRJbm5lciwgdGhpcy5zdG9wcGVkQXRdXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5uZXIgPSB0aGlzLmlubmVyW3RoaXMuaW5uZXJEb25lXSwgZG9uZSA9IGlubmVyLnBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXJEb25lKys7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgc29tZXdoYXQgZG9kZ3kgYnV0IHN1cGVyIGhlbHBmdWwgaGFjayB3aGVyZSB3ZVxuICAgICAgICAgICAgLy8gcGF0Y2ggdXAgbm9kZXMgY3JlYXRlZCBieSB0aGUgaW5uZXIgcGFyc2UgKGFuZCB0aHVzXG4gICAgICAgICAgICAvLyBwcmVzdW1hYmx5IG5vdCBhbGlhc2VkIGFueXdoZXJlIGVsc2UpIHRvIGhvbGQgdGhlIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAvLyBhYm91dCB0aGUgaW5uZXIgcGFyc2UuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGlubmVyLnRhcmdldC5wcm9wcyk7XG4gICAgICAgICAgICBwcm9wc1tOb2RlUHJvcC5tb3VudGVkLmlkXSA9IG5ldyBNb3VudGVkVHJlZShkb25lLCBpbm5lci5vdmVybGF5LCBpbm5lci5wYXJzZXIpO1xuICAgICAgICAgICAgaW5uZXIudGFyZ2V0LnByb3BzID0gcHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldCBwYXJzZWRQb3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5pbnB1dC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmlubmVyRG9uZTsgaSA8IHRoaXMuaW5uZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlubmVyW2ldLmZyb20gPCBwb3MpXG4gICAgICAgICAgICAgICAgcG9zID0gTWF0aC5taW4ocG9zLCB0aGlzLmlubmVyW2ldLnBhcnNlLnBhcnNlZFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IHBvcztcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKVxuICAgICAgICAgICAgdGhpcy5iYXNlUGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmlubmVyRG9uZTsgaSA8IHRoaXMuaW5uZXIubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lcltpXS5wYXJzZS5zdG9wQXQocG9zKTtcbiAgICB9XG4gICAgc3RhcnRJbm5lcigpIHtcbiAgICAgICAgbGV0IGZyYWdtZW50Q3Vyc29yID0gbmV3IEZyYWdtZW50Q3Vyc29yKHRoaXMuZnJhZ21lbnRzKTtcbiAgICAgICAgbGV0IG92ZXJsYXkgPSBudWxsO1xuICAgICAgICBsZXQgY292ZXJlZCA9IG51bGw7XG4gICAgICAgIGxldCBjdXJzb3IgPSBuZXcgVHJlZUN1cnNvcihuZXcgVHJlZU5vZGUodGhpcy5iYXNlVHJlZSwgdGhpcy5yYW5nZXNbMF0uZnJvbSwgMCwgbnVsbCksIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMgfCBJdGVyTW9kZS5JZ25vcmVNb3VudHMpO1xuICAgICAgICBzY2FuOiBmb3IgKGxldCBuZXN0LCBpc0NvdmVyZWQ7Oykge1xuICAgICAgICAgICAgbGV0IGVudGVyID0gdHJ1ZSwgcmFuZ2U7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBjdXJzb3IuZnJvbSA+PSB0aGlzLnN0b3BwZWRBdCkge1xuICAgICAgICAgICAgICAgIGVudGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcmFnbWVudEN1cnNvci5oYXNOb2RlKGN1cnNvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBvdmVybGF5Lm1vdW50cy5maW5kKG0gPT4gbS5mcmFnLmZyb20gPD0gY3Vyc29yLmZyb20gJiYgbS5mcmFnLnRvID49IGN1cnNvci50byAmJiBtLm1vdW50Lm92ZXJsYXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIG1hdGNoLm1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHIuZnJvbSArIG1hdGNoLnBvcywgdG8gPSByLnRvICsgbWF0Y2gucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tID49IGN1cnNvci5mcm9tICYmIHRvIDw9IGN1cnNvci50byAmJiAhb3ZlcmxheS5yYW5nZXMuc29tZShyID0+IHIuZnJvbSA8IHRvICYmIHIudG8gPiBmcm9tKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY292ZXJlZCAmJiAoaXNDb3ZlcmVkID0gY2hlY2tDb3Zlcihjb3ZlcmVkLnJhbmdlcywgY3Vyc29yLmZyb20sIGN1cnNvci50bykpKSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBpc0NvdmVyZWQgIT0gMiAvKiBDb3Zlci5GdWxsICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWN1cnNvci50eXBlLmlzQW5vbnltb3VzICYmIChuZXN0ID0gdGhpcy5uZXN0KGN1cnNvciwgdGhpcy5pbnB1dCkpICYmXG4gICAgICAgICAgICAgICAgKGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvIHx8ICFuZXN0Lm92ZXJsYXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxpemUoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkTW91bnRzID0gZnJhZ21lbnRDdXJzb3IuZmluZE1vdW50cyhjdXJzb3IuZnJvbSwgbmVzdC5wYXJzZXIpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmVzdC5vdmVybGF5ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5ID0gbmV3IEFjdGl2ZU92ZXJsYXkobmVzdC5wYXJzZXIsIG5lc3Qub3ZlcmxheSwgb2xkTW91bnRzLCB0aGlzLmlubmVyLmxlbmd0aCwgY3Vyc29yLmZyb20sIGN1cnNvci50cmVlLCBvdmVybGF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZXMgPSBwdW5jaFJhbmdlcyh0aGlzLnJhbmdlcywgbmVzdC5vdmVybGF5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoY3Vyc29yLmZyb20gPCBjdXJzb3IudG8gPyBbbmV3IFJhbmdlKGN1cnNvci5mcm9tLCBjdXJzb3IudG8pXSA6IFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSYW5nZXMocmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggfHwgIW5lc3Qub3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIucHVzaChuZXcgSW5uZXJQYXJzZShuZXN0LnBhcnNlciwgcmFuZ2VzLmxlbmd0aCA/IG5lc3QucGFyc2VyLnN0YXJ0UGFyc2UodGhpcy5pbnB1dCwgZW50ZXJGcmFnbWVudHMob2xkTW91bnRzLCByYW5nZXMpLCByYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXN0LnBhcnNlci5zdGFydFBhcnNlKFwiXCIpLCBuZXN0Lm92ZXJsYXkgPyBuZXN0Lm92ZXJsYXkubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSAtIGN1cnNvci5mcm9tLCByLnRvIC0gY3Vyc29yLmZyb20pKSA6IG51bGwsIGN1cnNvci50cmVlLCByYW5nZXMubGVuZ3RoID8gcmFuZ2VzWzBdLmZyb20gOiBjdXJzb3IuZnJvbSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5lc3Qub3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0geyByYW5nZXMsIGRlcHRoOiAwLCBwcmV2OiBjb3ZlcmVkIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3ZlcmxheSAmJiAocmFuZ2UgPSBvdmVybGF5LnByZWRpY2F0ZShjdXJzb3IpKSkge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoY3Vyc29yLmZyb20sIGN1cnNvci50byk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmZyb20gPCByYW5nZS50bykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IG92ZXJsYXkucmFuZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ID49IDAgJiYgb3ZlcmxheS5yYW5nZXNbbGFzdF0udG8gPT0gcmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXkucmFuZ2VzW2xhc3RdID0geyBmcm9tOiBvdmVybGF5LnJhbmdlc1tsYXN0XS5mcm9tLCB0bzogcmFuZ2UudG8gfTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVudGVyICYmIGN1cnNvci5maXJzdENoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5kZXB0aCsrO1xuICAgICAgICAgICAgICAgIGlmIChjb3ZlcmVkKVxuICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkLmRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvci5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHNjYW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGF5ICYmICEtLW92ZXJsYXkuZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYW5nZXMgPSBwdW5jaFJhbmdlcyh0aGlzLnJhbmdlcywgb3ZlcmxheS5yYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JhbmdlcyhyYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIuc3BsaWNlKG92ZXJsYXkuaW5kZXgsIDAsIG5ldyBJbm5lclBhcnNlKG92ZXJsYXkucGFyc2VyLCBvdmVybGF5LnBhcnNlci5zdGFydFBhcnNlKHRoaXMuaW5wdXQsIGVudGVyRnJhZ21lbnRzKG92ZXJsYXkubW91bnRzLCByYW5nZXMpLCByYW5nZXMpLCBvdmVybGF5LnJhbmdlcy5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tIC0gb3ZlcmxheS5zdGFydCwgci50byAtIG92ZXJsYXkuc3RhcnQpKSwgb3ZlcmxheS50YXJnZXQsIHJhbmdlc1swXS5mcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5ID0gb3ZlcmxheS5wcmV2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3ZlcmVkICYmICEtLWNvdmVyZWQuZGVwdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0gY292ZXJlZC5wcmV2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrQ292ZXIoY292ZXJlZCwgZnJvbSwgdG8pIHtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBjb3ZlcmVkKSB7XG4gICAgICAgIGlmIChyYW5nZS5mcm9tID49IHRvKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChyYW5nZS50byA+IGZyb20pXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2UuZnJvbSA8PSBmcm9tICYmIHJhbmdlLnRvID49IHRvID8gMiAvKiBDb3Zlci5GdWxsICovIDogMSAvKiBDb3Zlci5QYXJ0aWFsICovO1xuICAgIH1cbiAgICByZXR1cm4gMCAvKiBDb3Zlci5Ob25lICovO1xufVxuLy8gVGFrZSBhIHBpZWNlIG9mIGJ1ZmZlciBhbmQgY29udmVydCBpdCBpbnRvIGEgc3RhbmQtYWxvbmVcbi8vIFRyZWVCdWZmZXIuXG5mdW5jdGlvbiBzbGljZUJ1ZihidWYsIHN0YXJ0SSwgZW5kSSwgbm9kZXMsIHBvc2l0aW9ucywgb2ZmKSB7XG4gICAgaWYgKHN0YXJ0SSA8IGVuZEkpIHtcbiAgICAgICAgbGV0IGZyb20gPSBidWYuYnVmZmVyW3N0YXJ0SSArIDFdO1xuICAgICAgICBub2Rlcy5wdXNoKGJ1Zi5zbGljZShzdGFydEksIGVuZEksIGZyb20pKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIG9mZik7XG4gICAgfVxufVxuLy8gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIG5vZGUgdGhhdCdzIGluIGEgYnVmZmVyLCBhbmQgY29udmVydHMgaXQsIGFuZFxuLy8gaXRzIHBhcmVudCBidWZmZXIgbm9kZXMsIGludG8gYSBUcmVlLiBUaGlzIGlzIGFnYWluIGFjdGluZyBvbiB0aGVcbi8vIGFzc3VtcHRpb24gdGhhdCB0aGUgdHJlZXMgYW5kIGJ1ZmZlcnMgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGJ5IHRoZVxuLy8gcGFyc2UgdGhhdCB3YXMgcmFuIHZpYSB0aGUgbWl4IHBhcnNlciwgYW5kIHRodXMgYXJlbid0IHNoYXJlZCB3aXRoXG4vLyBhbnkgb3RoZXIgY29kZSwgbWFraW5nIHZpb2xhdGlvbnMgb2YgdGhlIGltbXV0YWJpbGl0eSBzYWZlLlxuZnVuY3Rpb24gbWF0ZXJpYWxpemUoY3Vyc29yKSB7XG4gICAgbGV0IHsgbm9kZSB9ID0gY3Vyc29yLCBzdGFjayA9IFtdO1xuICAgIGxldCBidWZmZXIgPSBub2RlLmNvbnRleHQuYnVmZmVyO1xuICAgIC8vIFNjYW4gdXAgdG8gdGhlIG5lYXJlc3QgdHJlZVxuICAgIGRvIHtcbiAgICAgICAgc3RhY2sucHVzaChjdXJzb3IuaW5kZXgpO1xuICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgfSB3aGlsZSAoIWN1cnNvci50cmVlKTtcbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYnVmZmVyIGluIHRoYXQgdHJlZVxuICAgIGxldCBiYXNlID0gY3Vyc29yLnRyZWUsIGkgPSBiYXNlLmNoaWxkcmVuLmluZGV4T2YoYnVmZmVyKTtcbiAgICBsZXQgYnVmID0gYmFzZS5jaGlsZHJlbltpXSwgYiA9IGJ1Zi5idWZmZXIsIG5ld1N0YWNrID0gW2ldO1xuICAgIC8vIFNwbGl0IGEgbGV2ZWwgaW4gdGhlIGJ1ZmZlciwgcHV0dGluZyB0aGUgbm9kZXMgYmVmb3JlIGFuZCBhZnRlclxuICAgIC8vIHRoZSBjaGlsZCB0aGF0IGNvbnRhaW5zIGBub2RlYCBpbnRvIG5ldyBidWZmZXJzLlxuICAgIGZ1bmN0aW9uIHNwbGl0KHN0YXJ0SSwgZW5kSSwgdHlwZSwgaW5uZXJPZmZzZXQsIGxlbmd0aCwgc3RhY2tQb3MpIHtcbiAgICAgICAgbGV0IHRhcmdldEkgPSBzdGFja1tzdGFja1Bvc107XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgc2xpY2VCdWYoYnVmLCBzdGFydEksIHRhcmdldEksIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGlubmVyT2Zmc2V0KTtcbiAgICAgICAgbGV0IGZyb20gPSBiW3RhcmdldEkgKyAxXSwgdG8gPSBiW3RhcmdldEkgKyAyXTtcbiAgICAgICAgbmV3U3RhY2sucHVzaChjaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICBsZXQgY2hpbGQgPSBzdGFja1Bvc1xuICAgICAgICAgICAgPyBzcGxpdCh0YXJnZXRJICsgNCwgYlt0YXJnZXRJICsgM10sIGJ1Zi5zZXQudHlwZXNbYlt0YXJnZXRJXV0sIGZyb20sIHRvIC0gZnJvbSwgc3RhY2tQb3MgLSAxKVxuICAgICAgICAgICAgOiBub2RlLnRvVHJlZSgpO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goZnJvbSAtIGlubmVyT2Zmc2V0KTtcbiAgICAgICAgc2xpY2VCdWYoYnVmLCBiW3RhcmdldEkgKyAzXSwgZW5kSSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgaW5uZXJPZmZzZXQpO1xuICAgICAgICByZXR1cm4gbmV3IFRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoKTtcbiAgICB9XG4gICAgYmFzZS5jaGlsZHJlbltpXSA9IHNwbGl0KDAsIGIubGVuZ3RoLCBOb2RlVHlwZS5ub25lLCAwLCBidWYubGVuZ3RoLCBzdGFjay5sZW5ndGggLSAxKTtcbiAgICAvLyBNb3ZlIHRoZSBjdXJzb3IgYmFjayB0byB0aGUgdGFyZ2V0IG5vZGVcbiAgICBmb3IgKGxldCBpbmRleCBvZiBuZXdTdGFjaykge1xuICAgICAgICBsZXQgdHJlZSA9IGN1cnNvci50cmVlLmNoaWxkcmVuW2luZGV4XSwgcG9zID0gY3Vyc29yLnRyZWUucG9zaXRpb25zW2luZGV4XTtcbiAgICAgICAgY3Vyc29yLnlpZWxkKG5ldyBUcmVlTm9kZSh0cmVlLCBwb3MgKyBjdXJzb3IuZnJvbSwgaW5kZXgsIGN1cnNvci5fdHJlZSkpO1xuICAgIH1cbn1cbmNsYXNzIFN0cnVjdHVyZUN1cnNvciB7XG4gICAgY29uc3RydWN0b3Iocm9vdCwgb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSByb290LmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzIHwgSXRlck1vZGUuSWdub3JlTW91bnRzKTtcbiAgICB9XG4gICAgLy8gTW92ZSB0byB0aGUgZmlyc3Qgbm9kZSAoaW4gcHJlLW9yZGVyKSB0aGF0IHN0YXJ0cyBhdCBvciBhZnRlciBgcG9zYC5cbiAgICBtb3ZlVG8ocG9zKSB7XG4gICAgICAgIGxldCB7IGN1cnNvciB9ID0gdGhpcywgcCA9IHBvcyAtIHRoaXMub2Zmc2V0O1xuICAgICAgICB3aGlsZSAoIXRoaXMuZG9uZSAmJiBjdXJzb3IuZnJvbSA8IHApIHtcbiAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPj0gcG9zICYmIGN1cnNvci5lbnRlcihwLCAxLCBJdGVyTW9kZS5JZ25vcmVPdmVybGF5cyB8IEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKSkgO1xuICAgICAgICAgICAgZWxzZSBpZiAoIWN1cnNvci5uZXh0KGZhbHNlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc05vZGUoY3Vyc29yKSB7XG4gICAgICAgIHRoaXMubW92ZVRvKGN1cnNvci5mcm9tKTtcbiAgICAgICAgaWYgKCF0aGlzLmRvbmUgJiYgdGhpcy5jdXJzb3IuZnJvbSArIHRoaXMub2Zmc2V0ID09IGN1cnNvci5mcm9tICYmIHRoaXMuY3Vyc29yLnRyZWUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRyZWUgPSB0aGlzLmN1cnNvci50cmVlOzspIHtcbiAgICAgICAgICAgICAgICBpZiAodHJlZSA9PSBjdXJzb3IudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRyZWUuY2hpbGRyZW4ubGVuZ3RoICYmIHRyZWUucG9zaXRpb25zWzBdID09IDAgJiYgdHJlZS5jaGlsZHJlblswXSBpbnN0YW5jZW9mIFRyZWUpXG4gICAgICAgICAgICAgICAgICAgIHRyZWUgPSB0cmVlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmNsYXNzIEZyYWdtZW50Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihmcmFnbWVudHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5jdXJUbyA9IDA7XG4gICAgICAgIHRoaXMuZnJhZ0kgPSAwO1xuICAgICAgICBpZiAoZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdGhpcy5jdXJGcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgICAgICAgICAgdGhpcy5jdXJUbyA9IChfYSA9IGZpcnN0LnRyZWUucHJvcChzdG9wcGVkSW5uZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmaXJzdC50bztcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBuZXcgU3RydWN0dXJlQ3Vyc29yKGZpcnN0LnRyZWUsIC1maXJzdC5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJGcmFnID0gdGhpcy5pbm5lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzTm9kZShub2RlKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmN1ckZyYWcgJiYgbm9kZS5mcm9tID49IHRoaXMuY3VyVG8pXG4gICAgICAgICAgICB0aGlzLm5leHRGcmFnKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmN1ckZyYWcgJiYgdGhpcy5jdXJGcmFnLmZyb20gPD0gbm9kZS5mcm9tICYmIHRoaXMuY3VyVG8gPj0gbm9kZS50byAmJiB0aGlzLmlubmVyLmhhc05vZGUobm9kZSk7XG4gICAgfVxuICAgIG5leHRGcmFnKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZnJhZ0krKztcbiAgICAgICAgaWYgKHRoaXMuZnJhZ0kgPT0gdGhpcy5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmN1ckZyYWcgPSB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmcmFnID0gdGhpcy5jdXJGcmFnID0gdGhpcy5mcmFnbWVudHNbdGhpcy5mcmFnSV07XG4gICAgICAgICAgICB0aGlzLmN1clRvID0gKF9hID0gZnJhZy50cmVlLnByb3Aoc3RvcHBlZElubmVyKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZnJhZy50bztcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBuZXcgU3RydWN0dXJlQ3Vyc29yKGZyYWcudHJlZSwgLWZyYWcub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kTW91bnRzKHBvcywgcGFyc2VyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5pbm5lcikge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5jdXJzb3IubW92ZVRvKHBvcywgMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSB0aGlzLmlubmVyLmN1cnNvci5ub2RlOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91bnQgPSAoX2EgPSBwb3MudHJlZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb3AoTm9kZVByb3AubW91bnRlZCk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdW50ICYmIG1vdW50LnBhcnNlciA9PSBwYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZnJhZ0k7IGkgPCB0aGlzLmZyYWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyYWcgPSB0aGlzLmZyYWdtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLmZyb20gPj0gcG9zLnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcudHJlZSA9PSB0aGlzLmN1ckZyYWcudHJlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLmZyb20gLSBmcmFnLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHB1bmNoUmFuZ2VzKG91dGVyLCByYW5nZXMpIHtcbiAgICBsZXQgY29weSA9IG51bGwsIGN1cnJlbnQgPSByYW5nZXM7XG4gICAgZm9yIChsZXQgaSA9IDEsIGogPSAwOyBpIDwgb3V0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGdhcEZyb20gPSBvdXRlcltpIC0gMV0udG8sIGdhcFRvID0gb3V0ZXJbaV0uZnJvbTtcbiAgICAgICAgZm9yICg7IGogPCBjdXJyZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgciA9IGN1cnJlbnRbal07XG4gICAgICAgICAgICBpZiAoci5mcm9tID49IGdhcFRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHIudG8gPD0gZ2FwRnJvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghY29weSlcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY29weSA9IHJhbmdlcy5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHIuZnJvbSA8IGdhcEZyb20pIHtcbiAgICAgICAgICAgICAgICBjb3B5W2pdID0gbmV3IFJhbmdlKHIuZnJvbSwgZ2FwRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKHIudG8gPiBnYXBUbylcbiAgICAgICAgICAgICAgICAgICAgY29weS5zcGxpY2UoaiArIDEsIDAsIG5ldyBSYW5nZShnYXBUbywgci50bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoci50byA+IGdhcFRvKSB7XG4gICAgICAgICAgICAgICAgY29weVtqLS1dID0gbmV3IFJhbmdlKGdhcFRvLCByLnRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvcHkuc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBmaW5kQ292ZXJDaGFuZ2VzKGEsIGIsIGZyb20sIHRvKSB7XG4gICAgbGV0IGlBID0gMCwgaUIgPSAwLCBpbkEgPSBmYWxzZSwgaW5CID0gZmFsc2UsIHBvcyA9IC0xZTk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG5leHRBID0gaUEgPT0gYS5sZW5ndGggPyAxZTkgOiBpbkEgPyBhW2lBXS50byA6IGFbaUFdLmZyb207XG4gICAgICAgIGxldCBuZXh0QiA9IGlCID09IGIubGVuZ3RoID8gMWU5IDogaW5CID8gYltpQl0udG8gOiBiW2lCXS5mcm9tO1xuICAgICAgICBpZiAoaW5BICE9IGluQikge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5tYXgocG9zLCBmcm9tKSwgZW5kID0gTWF0aC5taW4obmV4dEEsIG5leHRCLCB0byk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBlbmQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBlbmQpKTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSBNYXRoLm1pbihuZXh0QSwgbmV4dEIpO1xuICAgICAgICBpZiAocG9zID09IDFlOSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAobmV4dEEgPT0gcG9zKSB7XG4gICAgICAgICAgICBpZiAoIWluQSlcbiAgICAgICAgICAgICAgICBpbkEgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5BID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaUErKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dEIgPT0gcG9zKSB7XG4gICAgICAgICAgICBpZiAoIWluQilcbiAgICAgICAgICAgICAgICBpbkIgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5CID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaUIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gR2l2ZW4gYSBudW1iZXIgb2YgZnJhZ21lbnRzIGZvciB0aGUgb3V0ZXIgdHJlZSwgYW5kIGEgc2V0IG9mIHJhbmdlc1xuLy8gdG8gcGFyc2UsIGZpbmQgZnJhZ21lbnRzIGZvciBpbm5lciB0cmVlcyBtb3VudGVkIGFyb3VuZCB0aG9zZVxuLy8gcmFuZ2VzLCBpZiBhbnkuXG5mdW5jdGlvbiBlbnRlckZyYWdtZW50cyhtb3VudHMsIHJhbmdlcykge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCB7IHBvcywgbW91bnQsIGZyYWcgfSBvZiBtb3VudHMpIHtcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gcG9zICsgKG1vdW50Lm92ZXJsYXkgPyBtb3VudC5vdmVybGF5WzBdLmZyb20gOiAwKSwgZW5kUG9zID0gc3RhcnRQb3MgKyBtb3VudC50cmVlLmxlbmd0aDtcbiAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1heChmcmFnLmZyb20sIHN0YXJ0UG9zKSwgdG8gPSBNYXRoLm1pbihmcmFnLnRvLCBlbmRQb3MpO1xuICAgICAgICBpZiAobW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IG92ZXJsYXkgPSBtb3VudC5vdmVybGF5Lm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gKyBwb3MsIHIudG8gKyBwb3MpKTtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VzID0gZmluZENvdmVyQ2hhbmdlcyhyYW5nZXMsIG92ZXJsYXksIGZyb20sIHRvKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSBmcm9tOzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBpID09IGNoYW5nZXMubGVuZ3RoLCBlbmQgPSBsYXN0ID8gdG8gOiBjaGFuZ2VzW2ldLmZyb207XG4gICAgICAgICAgICAgICAgaWYgKGVuZCA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFRyZWVGcmFnbWVudChwb3MsIGVuZCwgbW91bnQudHJlZSwgLXN0YXJ0UG9zLCBmcmFnLmZyb20gPj0gcG9zIHx8IGZyYWcub3BlblN0YXJ0LCBmcmFnLnRvIDw9IGVuZCB8fCBmcmFnLm9wZW5FbmQpKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zID0gY2hhbmdlc1tpXS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBUcmVlRnJhZ21lbnQoZnJvbSwgdG8sIG1vdW50LnRyZWUsIC1zdGFydFBvcywgZnJhZy5mcm9tID49IHN0YXJ0UG9zIHx8IGZyYWcub3BlblN0YXJ0LCBmcmFnLnRvIDw9IGVuZFBvcyB8fCBmcmFnLm9wZW5FbmQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBEZWZhdWx0QnVmZmVyTGVuZ3RoLCBJdGVyTW9kZSwgTW91bnRlZFRyZWUsIE5vZGVQcm9wLCBOb2RlU2V0LCBOb2RlVHlwZSwgTm9kZVdlYWtNYXAsIFBhcnNlciwgVHJlZSwgVHJlZUJ1ZmZlciwgVHJlZUN1cnNvciwgVHJlZUZyYWdtZW50LCBwYXJzZU1peGVkIH07XG4iLCAiaW1wb3J0IHsgTm9kZVByb3AgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxubGV0IG5leHRUYWdJRCA9IDA7XG4vKipcbkhpZ2hsaWdodGluZyB0YWdzIGFyZSBtYXJrZXJzIHRoYXQgZGVub3RlIGEgaGlnaGxpZ2h0aW5nIGNhdGVnb3J5LlxuVGhleSBhcmUgW2Fzc29jaWF0ZWRdKCNoaWdobGlnaHQuc3R5bGVUYWdzKSB3aXRoIHBhcnRzIG9mIGEgc3ludGF4XG50cmVlIGJ5IGEgbGFuZ3VhZ2UgbW9kZSwgYW5kIHRoZW4gbWFwcGVkIHRvIGFuIGFjdHVhbCBDU1Mgc3R5bGUgYnlcbmEgW2hpZ2hsaWdodGVyXSgjaGlnaGxpZ2h0LkhpZ2hsaWdodGVyKS5cblxuQmVjYXVzZSBzeW50YXggdHJlZSBub2RlIHR5cGVzIGFuZCBoaWdobGlnaHQgc3R5bGVzIGhhdmUgdG8gYmVcbmFibGUgdG8gdGFsayB0aGUgc2FtZSBsYW5ndWFnZSwgQ29kZU1pcnJvciB1c2VzIGEgbW9zdGx5IF9jbG9zZWRfXG5bdm9jYWJ1bGFyeV0oI2hpZ2hsaWdodC50YWdzKSBvZiBzeW50YXggdGFncyAoYXMgb3Bwb3NlZCB0b1xudHJhZGl0aW9uYWwgb3BlbiBzdHJpbmctYmFzZWQgc3lzdGVtcywgd2hpY2ggbWFrZSBpdCBoYXJkIGZvclxuaGlnaGxpZ2h0aW5nIHRoZW1lcyB0byBjb3ZlciBhbGwgdGhlIHRva2VucyBwcm9kdWNlZCBieSB0aGVcbnZhcmlvdXMgbGFuZ3VhZ2VzKS5cblxuSXQgX2lzXyBwb3NzaWJsZSB0byBbZGVmaW5lXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmUpIHlvdXIgb3duXG5oaWdobGlnaHRpbmcgdGFncyBmb3Igc3lzdGVtLWludGVybmFsIHVzZSAod2hlcmUgeW91IGNvbnRyb2wgYm90aFxudGhlIGxhbmd1YWdlIHBhY2thZ2UgYW5kIHRoZSBoaWdobGlnaHRlciksIGJ1dCBzdWNoIHRhZ3Mgd2lsbCBub3RcbmJlIHBpY2tlZCB1cCBieSByZWd1bGFyIGhpZ2hsaWdodGVycyAodGhvdWdoIHlvdSBjYW4gZGVyaXZlIHRoZW1cbmZyb20gc3RhbmRhcmQgdGFncyB0byBhbGxvdyBoaWdobGlnaHRlcnMgdG8gZmFsbCBiYWNrIHRvIHRob3NlKS5cbiovXG5jbGFzcyBUYWcge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIG9wdGlvbmFsIG5hbWUgb2YgdGhlIGJhc2UgdGFnIEBpbnRlcm5hbFxuICAgICovXG4gICAgbmFtZSwgXG4gICAgLyoqXG4gICAgVGhlIHNldCBvZiB0aGlzIHRhZyBhbmQgYWxsIGl0cyBwYXJlbnQgdGFncywgc3RhcnRpbmcgd2l0aFxuICAgIHRoaXMgb25lIGl0c2VsZiBhbmQgc29ydGVkIGluIG9yZGVyIG9mIGRlY3JlYXNpbmcgc3BlY2lmaWNpdHkuXG4gICAgKi9cbiAgICBzZXQsIFxuICAgIC8qKlxuICAgIFRoZSBiYXNlIHVubW9kaWZpZWQgdGFnIHRoYXQgdGhpcyBvbmUgaXMgYmFzZWQgb24sIGlmIGl0J3NcbiAgICBtb2RpZmllZCBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGJhc2UsIFxuICAgIC8qKlxuICAgIFRoZSBtb2RpZmllcnMgYXBwbGllZCB0byB0aGlzLmJhc2UgQGludGVybmFsXG4gICAgKi9cbiAgICBtb2RpZmllZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNldCA9IHNldDtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCA9IG1vZGlmaWVkO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaWQgPSBuZXh0VGFnSUQrKztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCB7IG5hbWUgfSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IG1vZCBvZiB0aGlzLm1vZGlmaWVkKVxuICAgICAgICAgICAgaWYgKG1vZC5uYW1lKVxuICAgICAgICAgICAgICAgIG5hbWUgPSBgJHttb2QubmFtZX0oJHtuYW1lfSlgO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmluZShuYW1lT3JQYXJlbnQsIHBhcmVudCkge1xuICAgICAgICBsZXQgbmFtZSA9IHR5cGVvZiBuYW1lT3JQYXJlbnQgPT0gXCJzdHJpbmdcIiA/IG5hbWVPclBhcmVudCA6IFwiP1wiO1xuICAgICAgICBpZiAobmFtZU9yUGFyZW50IGluc3RhbmNlb2YgVGFnKVxuICAgICAgICAgICAgcGFyZW50ID0gbmFtZU9yUGFyZW50O1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmJhc2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGRlcml2ZSBmcm9tIGEgbW9kaWZpZWQgdGFnXCIpO1xuICAgICAgICBsZXQgdGFnID0gbmV3IFRhZyhuYW1lLCBbXSwgbnVsbCwgW10pO1xuICAgICAgICB0YWcuc2V0LnB1c2godGFnKTtcbiAgICAgICAgaWYgKHBhcmVudClcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgcGFyZW50LnNldClcbiAgICAgICAgICAgICAgICB0YWcuc2V0LnB1c2godCk7XG4gICAgICAgIHJldHVybiB0YWc7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHRhZyBfbW9kaWZpZXJfLCB3aGljaCBpcyBhIGZ1bmN0aW9uIHRoYXQsIGdpdmVuIGEgdGFnLFxuICAgIHdpbGwgcmV0dXJuIGEgdGFnIHRoYXQgaXMgYSBzdWJ0YWcgb2YgdGhlIG9yaWdpbmFsLiBBcHBseWluZyB0aGVcbiAgICBzYW1lIG1vZGlmaWVyIHRvIGEgdHdpY2UgdGFnIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlIChgbTEodDEpXG4gICAgPT0gbTEodDEpYCkgYW5kIGFwcGx5aW5nIG11bHRpcGxlIG1vZGlmaWVycyB3aWxsLCByZWdhcmRsZXNzIG9yXG4gICAgb3JkZXIsIHByb2R1Y2UgdGhlIHNhbWUgdGFnIChgbTEobTIodDEpKSA9PSBtMihtMSh0MSkpYCkuXG4gICAgXG4gICAgV2hlbiBtdWx0aXBsZSBtb2RpZmllcnMgYXJlIGFwcGxpZWQgdG8gYSBnaXZlbiBiYXNlIHRhZywgZWFjaFxuICAgIHNtYWxsZXIgc2V0IG9mIG1vZGlmaWVycyBpcyByZWdpc3RlcmVkIGFzIGEgcGFyZW50LCBzbyB0aGF0IGZvclxuICAgIGV4YW1wbGUgYG0xKG0yKG0zKHQxKSkpYCBpcyBhIHN1YnR5cGUgb2YgYG0xKG0yKHQxKSlgLFxuICAgIGBtMShtMyh0MSlgLCBhbmQgc28gb24uXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lTW9kaWZpZXIobmFtZSkge1xuICAgICAgICBsZXQgbW9kID0gbmV3IE1vZGlmaWVyKG5hbWUpO1xuICAgICAgICByZXR1cm4gKHRhZykgPT4ge1xuICAgICAgICAgICAgaWYgKHRhZy5tb2RpZmllZC5pbmRleE9mKG1vZCkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICAgICAgcmV0dXJuIE1vZGlmaWVyLmdldCh0YWcuYmFzZSB8fCB0YWcsIHRhZy5tb2RpZmllZC5jb25jYXQobW9kKS5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmxldCBuZXh0TW9kaWZpZXJJRCA9IDA7XG5jbGFzcyBNb2RpZmllciB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmlkID0gbmV4dE1vZGlmaWVySUQrKztcbiAgICB9XG4gICAgc3RhdGljIGdldChiYXNlLCBtb2RzKSB7XG4gICAgICAgIGlmICghbW9kcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgbGV0IGV4aXN0cyA9IG1vZHNbMF0uaW5zdGFuY2VzLmZpbmQodCA9PiB0LmJhc2UgPT0gYmFzZSAmJiBzYW1lQXJyYXkobW9kcywgdC5tb2RpZmllZCkpO1xuICAgICAgICBpZiAoZXhpc3RzKVxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0cztcbiAgICAgICAgbGV0IHNldCA9IFtdLCB0YWcgPSBuZXcgVGFnKGJhc2UubmFtZSwgc2V0LCBiYXNlLCBtb2RzKTtcbiAgICAgICAgZm9yIChsZXQgbSBvZiBtb2RzKVxuICAgICAgICAgICAgbS5pbnN0YW5jZXMucHVzaCh0YWcpO1xuICAgICAgICBsZXQgY29uZmlncyA9IHBvd2VyU2V0KG1vZHMpO1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgb2YgYmFzZS5zZXQpXG4gICAgICAgICAgICBpZiAoIXBhcmVudC5tb2RpZmllZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29uZmlnIG9mIGNvbmZpZ3MpXG4gICAgICAgICAgICAgICAgICAgIHNldC5wdXNoKE1vZGlmaWVyLmdldChwYXJlbnQsIGNvbmZpZykpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEubGVuZ3RoID09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHgsIGkpID0+IHggPT0gYltpXSk7XG59XG5mdW5jdGlvbiBwb3dlclNldChhcnJheSkge1xuICAgIGxldCBzZXRzID0gW1tdXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBlID0gc2V0cy5sZW5ndGg7IGogPCBlOyBqKyspIHtcbiAgICAgICAgICAgIHNldHMucHVzaChzZXRzW2pdLmNvbmNhdChhcnJheVtpXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXRzLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xufVxuLyoqXG5UaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWRkIGEgc2V0IG9mIHRhZ3MgdG8gYSBsYW5ndWFnZSBzeW50YXhcbnZpYSBbYE5vZGVTZXQuZXh0ZW5kYF0oI2NvbW1vbi5Ob2RlU2V0LmV4dGVuZCkgb3JcbltgTFJQYXJzZXIuY29uZmlndXJlYF0oI2xyLkxSUGFyc2VyLmNvbmZpZ3VyZSkuXG5cblRoZSBhcmd1bWVudCBvYmplY3QgbWFwcyBub2RlIHNlbGVjdG9ycyB0byBbaGlnaGxpZ2h0aW5nXG50YWdzXSgjaGlnaGxpZ2h0LlRhZykgb3IgYXJyYXlzIG9mIHRhZ3MuXG5cbk5vZGUgc2VsZWN0b3JzIG1heSBob2xkIG9uZSBvciBtb3JlIChzcGFjZS1zZXBhcmF0ZWQpIG5vZGUgcGF0aHMuXG5TdWNoIGEgcGF0aCBjYW4gYmUgYSBbbm9kZSBuYW1lXSgjY29tbW9uLk5vZGVUeXBlLm5hbWUpLCBvclxubXVsdGlwbGUgbm9kZSBuYW1lcyAob3IgYCpgIHdpbGRjYXJkcykgc2VwYXJhdGVkIGJ5IHNsYXNoXG5jaGFyYWN0ZXJzLCBhcyBpbiBgXCJCbG9jay9EZWNsYXJhdGlvbi9WYXJpYWJsZU5hbWVcImAuIFN1Y2ggYSBwYXRoXG5tYXRjaGVzIHRoZSBmaW5hbCBub2RlIGJ1dCBvbmx5IGlmIGl0cyBkaXJlY3QgcGFyZW50IG5vZGVzIGFyZSB0aGVcbm90aGVyIG5vZGVzIG1lbnRpb25lZC4gQSBgKmAgaW4gc3VjaCBhIHBhdGggbWF0Y2hlcyBhbnkgcGFyZW50LFxuYnV0IG9ubHkgYSBzaW5nbGUgbGV2ZWxcdTIwMTR3aWxkY2FyZHMgdGhhdCBtYXRjaCBtdWx0aXBsZSBwYXJlbnRzXG5hcmVuJ3Qgc3VwcG9ydGVkLCBib3RoIGZvciBlZmZpY2llbmN5IHJlYXNvbnMgYW5kIGJlY2F1c2UgTGV6ZXJcbnRyZWVzIG1ha2UgaXQgcmF0aGVyIGhhcmQgdG8gcmVhc29uIGFib3V0IHdoYXQgdGhleSB3b3VsZCBtYXRjaC4pXG5cbkEgcGF0aCBjYW4gYmUgZW5kZWQgd2l0aCBgLy4uLmAgdG8gaW5kaWNhdGUgdGhhdCB0aGUgdGFnIGFzc2lnbmVkXG50byB0aGUgbm9kZSBzaG91bGQgYWxzbyBhcHBseSB0byBhbGwgY2hpbGQgbm9kZXMsIGV2ZW4gaWYgdGhleVxubWF0Y2ggdGhlaXIgb3duIHN0eWxlIChieSBkZWZhdWx0LCBvbmx5IHRoZSBpbm5lcm1vc3Qgc3R5bGUgaXNcbnVzZWQpLlxuXG5XaGVuIGEgcGF0aCBlbmRzIGluIGAhYCwgYXMgaW4gYEF0dHJpYnV0ZSFgLCBubyBmdXJ0aGVyIG1hdGNoaW5nXG5oYXBwZW5zIGZvciB0aGUgbm9kZSdzIGNoaWxkIG5vZGVzLCBhbmQgdGhlIGVudGlyZSBub2RlIGdldHMgdGhlXG5naXZlbiBzdHlsZS5cblxuSW4gdGhpcyBub3RhdGlvbiwgbm9kZSBuYW1lcyB0aGF0IGNvbnRhaW4gYC9gLCBgIWAsIGAqYCwgb3IgYC4uLmBcbm11c3QgYmUgcXVvdGVkIGFzIEpTT04gc3RyaW5ncy5cblxuRm9yIGV4YW1wbGU6XG5cbmBgYGphdmFzY3JpcHRcbnBhcnNlci53aXRoUHJvcHMoXG4gIHN0eWxlVGFncyh7XG4gICAgLy8gU3R5bGUgTnVtYmVyIGFuZCBCaWdOdW1iZXIgbm9kZXNcbiAgICBcIk51bWJlciBCaWdOdW1iZXJcIjogdGFncy5udW1iZXIsXG4gICAgLy8gU3R5bGUgRXNjYXBlIG5vZGVzIHdob3NlIHBhcmVudCBpcyBTdHJpbmdcbiAgICBcIlN0cmluZy9Fc2NhcGVcIjogdGFncy5lc2NhcGUsXG4gICAgLy8gU3R5bGUgYW55dGhpbmcgaW5zaWRlIEF0dHJpYnV0ZXMgbm9kZXNcbiAgICBcIkF0dHJpYnV0ZXMhXCI6IHRhZ3MubWV0YSxcbiAgICAvLyBBZGQgYSBzdHlsZSB0byBhbGwgY29udGVudCBpbnNpZGUgSXRhbGljIG5vZGVzXG4gICAgXCJJdGFsaWMvLi4uXCI6IHRhZ3MuZW1waGFzaXMsXG4gICAgLy8gU3R5bGUgSW52YWxpZFN0cmluZyBub2RlcyBhcyBib3RoIGBzdHJpbmdgIGFuZCBgaW52YWxpZGBcbiAgICBcIkludmFsaWRTdHJpbmdcIjogW3RhZ3Muc3RyaW5nLCB0YWdzLmludmFsaWRdLFxuICAgIC8vIFN0eWxlIHRoZSBub2RlIG5hbWVkIFwiL1wiIGFzIHB1bmN0dWF0aW9uXG4gICAgJ1wiL1wiJzogdGFncy5wdW5jdHVhdGlvblxuICB9KVxuKVxuYGBgXG4qL1xuZnVuY3Rpb24gc3R5bGVUYWdzKHNwZWMpIHtcbiAgICBsZXQgYnlOYW1lID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHtcbiAgICAgICAgbGV0IHRhZ3MgPSBzcGVjW3Byb3BdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGFncykpXG4gICAgICAgICAgICB0YWdzID0gW3RhZ3NdO1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGllY2VzID0gW10sIG1vZGUgPSAyIC8qIE1vZGUuTm9ybWFsICovLCByZXN0ID0gcGFydDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3MgPSAwOzspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QgPT0gXCIuLi5cIiAmJiBwb3MgPiAwICYmIHBvcyArIDMgPT0gcGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSAxIC8qIE1vZGUuSW5oZXJpdCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBtID0gL15cIig/OlteXCJcXFxcXXxcXFxcLikqP1wifFteXFwvIV0rLy5leGVjKHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcGF0aDogXCIgKyBwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2gobVswXSA9PSBcIipcIiA/IFwiXCIgOiBtWzBdWzBdID09ICdcIicgPyBKU09OLnBhcnNlKG1bMF0pIDogbVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA9PSBwYXJ0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHBhcnRbcG9zKytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09IHBhcnQubGVuZ3RoICYmIG5leHQgPT0gXCIhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSAwIC8qIE1vZGUuT3BhcXVlICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT0gXCIvXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcGF0aDogXCIgKyBwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHBhcnQuc2xpY2UocG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBwaWVjZXMubGVuZ3RoIC0gMSwgaW5uZXIgPSBwaWVjZXNbbGFzdF07XG4gICAgICAgICAgICAgICAgaWYgKCFpbm5lcilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgbGV0IHJ1bGUgPSBuZXcgUnVsZSh0YWdzLCBtb2RlLCBsYXN0ID4gMCA/IHBpZWNlcy5zbGljZSgwLCBsYXN0KSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIGJ5TmFtZVtpbm5lcl0gPSBydWxlLnNvcnQoYnlOYW1lW2lubmVyXSk7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydWxlTm9kZVByb3AuYWRkKGJ5TmFtZSk7XG59XG5jb25zdCBydWxlTm9kZVByb3AgPSBuZXcgTm9kZVByb3AoKTtcbmNsYXNzIFJ1bGUge1xuICAgIGNvbnN0cnVjdG9yKHRhZ3MsIG1vZGUsIGNvbnRleHQsIG5leHQpIHtcbiAgICAgICAgdGhpcy50YWdzID0gdGFncztcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICB9XG4gICAgZ2V0IG9wYXF1ZSgpIHsgcmV0dXJuIHRoaXMubW9kZSA9PSAwIC8qIE1vZGUuT3BhcXVlICovOyB9XG4gICAgZ2V0IGluaGVyaXQoKSB7IHJldHVybiB0aGlzLm1vZGUgPT0gMSAvKiBNb2RlLkluaGVyaXQgKi87IH1cbiAgICBzb3J0KG90aGVyKSB7XG4gICAgICAgIGlmICghb3RoZXIgfHwgb3RoZXIuZGVwdGggPCB0aGlzLmRlcHRoKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBvdGhlcjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyLm5leHQgPSB0aGlzLnNvcnQob3RoZXIubmV4dCk7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0ID8gdGhpcy5jb250ZXh0Lmxlbmd0aCA6IDA7IH1cbn1cblJ1bGUuZW1wdHkgPSBuZXcgUnVsZShbXSwgMiAvKiBNb2RlLk5vcm1hbCAqLywgbnVsbCk7XG4vKipcbkRlZmluZSBhIFtoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikgZnJvbSBhbiBhcnJheSBvZlxudGFnL2NsYXNzIHBhaXJzLiBDbGFzc2VzIGFzc29jaWF0ZWQgd2l0aCBtb3JlIHNwZWNpZmljIHRhZ3Mgd2lsbFxudGFrZSBwcmVjZWRlbmNlLlxuKi9cbmZ1bmN0aW9uIHRhZ0hpZ2hsaWdodGVyKHRhZ3MsIG9wdGlvbnMpIHtcbiAgICBsZXQgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBzdHlsZSBvZiB0YWdzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS50YWcpKVxuICAgICAgICAgICAgbWFwW3N0eWxlLnRhZy5pZF0gPSBzdHlsZS5jbGFzcztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgdGFnIG9mIHN0eWxlLnRhZylcbiAgICAgICAgICAgICAgICBtYXBbdGFnLmlkXSA9IHN0eWxlLmNsYXNzO1xuICAgIH1cbiAgICBsZXQgeyBzY29wZSwgYWxsID0gbnVsbCB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdHlsZTogKHRhZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBjbHMgPSBhbGw7XG4gICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHN1YiBvZiB0YWcuc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWdDbGFzcyA9IG1hcFtzdWIuaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscyA9IGNscyA/IGNscyArIFwiIFwiICsgdGFnQ2xhc3MgOiB0YWdDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgfSxcbiAgICAgICAgc2NvcGVcbiAgICB9O1xufVxuZnVuY3Rpb24gaGlnaGxpZ2h0VGFncyhoaWdobGlnaHRlcnMsIHRhZ3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICBmb3IgKGxldCBoaWdobGlnaHRlciBvZiBoaWdobGlnaHRlcnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gaGlnaGxpZ2h0ZXIuc3R5bGUodGFncyk7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCA/IHJlc3VsdCArIFwiIFwiICsgdmFsdWUgOiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuSGlnaGxpZ2h0IHRoZSBnaXZlbiBbdHJlZV0oI2NvbW1vbi5UcmVlKSB3aXRoIHRoZSBnaXZlblxuW2hpZ2hsaWdodGVyXSgjaGlnaGxpZ2h0LkhpZ2hsaWdodGVyKS4gT2Z0ZW4sIHRoZSBoaWdoZXItbGV2ZWxcbltgaGlnaGxpZ2h0Q29kZWBdKCNoaWdobGlnaHQuaGlnaGxpZ2h0Q29kZSkgZnVuY3Rpb24gaXMgZWFzaWVyIHRvXG51c2UuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0VHJlZSh0cmVlLCBoaWdobGlnaHRlciwgXG4vKipcbkFzc2lnbiBzdHlsaW5nIHRvIGEgcmVnaW9uIG9mIHRoZSB0ZXh0LiBXaWxsIGJlIGNhbGxlZCwgaW4gb3JkZXJcbm9mIHBvc2l0aW9uLCBmb3IgYW55IHJhbmdlcyB3aGVyZSBtb3JlIHRoYW4gemVybyBjbGFzc2VzIGFwcGx5LlxuYGNsYXNzZXNgIGlzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBDU1MgY2xhc3Nlcy5cbiovXG5wdXRTdHlsZSwgXG4vKipcblRoZSBzdGFydCBvZiB0aGUgcmFuZ2UgdG8gaGlnaGxpZ2h0LlxuKi9cbmZyb20gPSAwLCBcbi8qKlxuVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4qL1xudG8gPSB0cmVlLmxlbmd0aCkge1xuICAgIGxldCBidWlsZGVyID0gbmV3IEhpZ2hsaWdodEJ1aWxkZXIoZnJvbSwgQXJyYXkuaXNBcnJheShoaWdobGlnaHRlcikgPyBoaWdobGlnaHRlciA6IFtoaWdobGlnaHRlcl0sIHB1dFN0eWxlKTtcbiAgICBidWlsZGVyLmhpZ2hsaWdodFJhbmdlKHRyZWUuY3Vyc29yKCksIGZyb20sIHRvLCBcIlwiLCBidWlsZGVyLmhpZ2hsaWdodGVycyk7XG4gICAgYnVpbGRlci5mbHVzaCh0byk7XG59XG4vKipcbkhpZ2hsaWdodCB0aGUgZ2l2ZW4gdHJlZSB3aXRoIHRoZSBnaXZlbiBoaWdobGlnaHRlciwgY2FsbGluZ1xuYHB1dFRleHRgIGZvciBldmVyeSBwaWVjZSBvZiB0ZXh0LCBlaXRoZXIgd2l0aCBhIHNldCBvZiBjbGFzc2VzIG9yXG53aXRoIHRoZSBlbXB0eSBzdHJpbmcgd2hlbiB1bnN0eWxlZCwgYW5kIGBwdXRCcmVha2AgZm9yIGV2ZXJ5IGxpbmVcbmJyZWFrLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENvZGUoY29kZSwgdHJlZSwgaGlnaGxpZ2h0ZXIsIHB1dFRleHQsIHB1dEJyZWFrLCBmcm9tID0gMCwgdG8gPSBjb2RlLmxlbmd0aCkge1xuICAgIGxldCBwb3MgPSBmcm9tO1xuICAgIGZ1bmN0aW9uIHdyaXRlVG8ocCwgY2xhc3Nlcykge1xuICAgICAgICBpZiAocCA8PSBwb3MpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IHRleHQgPSBjb2RlLnNsaWNlKHBvcywgcCksIGkgPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBuZXh0QnJlYWsgPSB0ZXh0LmluZGV4T2YoXCJcXG5cIiwgaSk7XG4gICAgICAgICAgICBsZXQgdXB0byA9IG5leHRCcmVhayA8IDAgPyB0ZXh0Lmxlbmd0aCA6IG5leHRCcmVhaztcbiAgICAgICAgICAgIGlmICh1cHRvID4gaSlcbiAgICAgICAgICAgICAgICBwdXRUZXh0KHRleHQuc2xpY2UoaSwgdXB0byksIGNsYXNzZXMpO1xuICAgICAgICAgICAgaWYgKG5leHRCcmVhayA8IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwdXRCcmVhaygpO1xuICAgICAgICAgICAgaSA9IG5leHRCcmVhayArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gcDtcbiAgICB9XG4gICAgaGlnaGxpZ2h0VHJlZSh0cmVlLCBoaWdobGlnaHRlciwgKGZyb20sIHRvLCBjbGFzc2VzKSA9PiB7XG4gICAgICAgIHdyaXRlVG8oZnJvbSwgXCJcIik7XG4gICAgICAgIHdyaXRlVG8odG8sIGNsYXNzZXMpO1xuICAgIH0sIGZyb20sIHRvKTtcbiAgICB3cml0ZVRvKHRvLCBcIlwiKTtcbn1cbmNsYXNzIEhpZ2hsaWdodEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGF0LCBoaWdobGlnaHRlcnMsIHNwYW4pIHtcbiAgICAgICAgdGhpcy5hdCA9IGF0O1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVycyA9IGhpZ2hsaWdodGVycztcbiAgICAgICAgdGhpcy5zcGFuID0gc3BhbjtcbiAgICAgICAgdGhpcy5jbGFzcyA9IFwiXCI7XG4gICAgfVxuICAgIHN0YXJ0U3BhbihhdCwgY2xzKSB7XG4gICAgICAgIGlmIChjbHMgIT0gdGhpcy5jbGFzcykge1xuICAgICAgICAgICAgdGhpcy5mbHVzaChhdCk7XG4gICAgICAgICAgICBpZiAoYXQgPiB0aGlzLmF0KVxuICAgICAgICAgICAgICAgIHRoaXMuYXQgPSBhdDtcbiAgICAgICAgICAgIHRoaXMuY2xhc3MgPSBjbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmx1c2godG8pIHtcbiAgICAgICAgaWYgKHRvID4gdGhpcy5hdCAmJiB0aGlzLmNsYXNzKVxuICAgICAgICAgICAgdGhpcy5zcGFuKHRoaXMuYXQsIHRvLCB0aGlzLmNsYXNzKTtcbiAgICB9XG4gICAgaGlnaGxpZ2h0UmFuZ2UoY3Vyc29yLCBmcm9tLCB0bywgaW5oZXJpdGVkQ2xhc3MsIGhpZ2hsaWdodGVycykge1xuICAgICAgICBsZXQgeyB0eXBlLCBmcm9tOiBzdGFydCwgdG86IGVuZCB9ID0gY3Vyc29yO1xuICAgICAgICBpZiAoc3RhcnQgPj0gdG8gfHwgZW5kIDw9IGZyb20pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0eXBlLmlzVG9wKVxuICAgICAgICAgICAgaGlnaGxpZ2h0ZXJzID0gdGhpcy5oaWdobGlnaHRlcnMuZmlsdGVyKGggPT4gIWguc2NvcGUgfHwgaC5zY29wZSh0eXBlKSk7XG4gICAgICAgIGxldCBjbHMgPSBpbmhlcml0ZWRDbGFzcztcbiAgICAgICAgbGV0IHJ1bGUgPSBnZXRTdHlsZVRhZ3MoY3Vyc29yKSB8fCBSdWxlLmVtcHR5O1xuICAgICAgICBsZXQgdGFnQ2xzID0gaGlnaGxpZ2h0VGFncyhoaWdobGlnaHRlcnMsIHJ1bGUudGFncyk7XG4gICAgICAgIGlmICh0YWdDbHMpIHtcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiO1xuICAgICAgICAgICAgY2xzICs9IHRhZ0NscztcbiAgICAgICAgICAgIGlmIChydWxlLm1vZGUgPT0gMSAvKiBNb2RlLkluaGVyaXQgKi8pXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkQ2xhc3MgKz0gKGluaGVyaXRlZENsYXNzID8gXCIgXCIgOiBcIlwiKSArIHRhZ0NscztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1heChmcm9tLCBzdGFydCksIGNscyk7XG4gICAgICAgIGlmIChydWxlLm9wYXF1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IG1vdW50ZWQgPSBjdXJzb3IudHJlZSAmJiBjdXJzb3IudHJlZS5wcm9wKE5vZGVQcm9wLm1vdW50ZWQpO1xuICAgICAgICBpZiAobW91bnRlZCAmJiBtb3VudGVkLm92ZXJsYXkpIHtcbiAgICAgICAgICAgIGxldCBpbm5lciA9IGN1cnNvci5ub2RlLmVudGVyKG1vdW50ZWQub3ZlcmxheVswXS5mcm9tICsgc3RhcnQsIDEpO1xuICAgICAgICAgICAgbGV0IGlubmVySGlnaGxpZ2h0ZXJzID0gdGhpcy5oaWdobGlnaHRlcnMuZmlsdGVyKGggPT4gIWguc2NvcGUgfHwgaC5zY29wZShtb3VudGVkLnRyZWUudHlwZSkpO1xuICAgICAgICAgICAgbGV0IGhhc0NoaWxkID0gY3Vyc29yLmZpcnN0Q2hpbGQoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSBzdGFydDs7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gaSA8IG1vdW50ZWQub3ZlcmxheS5sZW5ndGggPyBtb3VudGVkLm92ZXJsYXlbaV0gOiBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBuZXh0UG9zID0gbmV4dCA/IG5leHQuZnJvbSArIHN0YXJ0IDogZW5kO1xuICAgICAgICAgICAgICAgIGxldCByYW5nZUZyb20gPSBNYXRoLm1heChmcm9tLCBwb3MpLCByYW5nZVRvID0gTWF0aC5taW4odG8sIG5leHRQb3MpO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZUZyb20gPCByYW5nZVRvICYmIGhhc0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJzb3IuZnJvbSA8IHJhbmdlVG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0UmFuZ2UoY3Vyc29yLCByYW5nZUZyb20sIHJhbmdlVG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5taW4ocmFuZ2VUbywgY3Vyc29yLnRvKSwgY2xzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPj0gbmV4dFBvcyB8fCAhY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0IHx8IG5leHRQb3MgPiB0bylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zID0gbmV4dC50byArIHN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0UmFuZ2UoaW5uZXIuY3Vyc29yKCksIE1hdGgubWF4KGZyb20sIG5leHQuZnJvbSArIHN0YXJ0KSwgTWF0aC5taW4odG8sIHBvcyksIFwiXCIsIGlubmVySGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5taW4odG8sIHBvcyksIGNscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0NoaWxkKVxuICAgICAgICAgICAgICAgIGN1cnNvci5wYXJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJzb3IuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICBpZiAobW91bnRlZClcbiAgICAgICAgICAgICAgICBpbmhlcml0ZWRDbGFzcyA9IFwiXCI7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvci50byA8PSBmcm9tKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLmZyb20gPj0gdG8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0UmFuZ2UoY3Vyc29yLCBmcm9tLCB0bywgaW5oZXJpdGVkQ2xhc3MsIGhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5taW4odG8sIGN1cnNvci50byksIGNscyk7XG4gICAgICAgICAgICB9IHdoaWxlIChjdXJzb3IubmV4dFNpYmxpbmcoKSk7XG4gICAgICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbk1hdGNoIGEgc3ludGF4IG5vZGUncyBbaGlnaGxpZ2h0IHJ1bGVzXSgjaGlnaGxpZ2h0LnN0eWxlVGFncykuIElmXG50aGVyZSdzIGEgbWF0Y2gsIHJldHVybiBpdHMgc2V0IG9mIHRhZ3MsIGFuZCB3aGV0aGVyIGl0IGlzXG5vcGFxdWUgKHVzZXMgYSBgIWApIG9yIGFwcGxpZXMgdG8gYWxsIGNoaWxkIG5vZGVzIChgLy4uLmApLlxuKi9cbmZ1bmN0aW9uIGdldFN0eWxlVGFncyhub2RlKSB7XG4gICAgbGV0IHJ1bGUgPSBub2RlLnR5cGUucHJvcChydWxlTm9kZVByb3ApO1xuICAgIHdoaWxlIChydWxlICYmIHJ1bGUuY29udGV4dCAmJiAhbm9kZS5tYXRjaENvbnRleHQocnVsZS5jb250ZXh0KSlcbiAgICAgICAgcnVsZSA9IHJ1bGUubmV4dDtcbiAgICByZXR1cm4gcnVsZSB8fCBudWxsO1xufVxuY29uc3QgdCA9IFRhZy5kZWZpbmU7XG5jb25zdCBjb21tZW50ID0gdCgpLCBuYW1lID0gdCgpLCB0eXBlTmFtZSA9IHQobmFtZSksIHByb3BlcnR5TmFtZSA9IHQobmFtZSksIGxpdGVyYWwgPSB0KCksIHN0cmluZyA9IHQobGl0ZXJhbCksIG51bWJlciA9IHQobGl0ZXJhbCksIGNvbnRlbnQgPSB0KCksIGhlYWRpbmcgPSB0KGNvbnRlbnQpLCBrZXl3b3JkID0gdCgpLCBvcGVyYXRvciA9IHQoKSwgcHVuY3R1YXRpb24gPSB0KCksIGJyYWNrZXQgPSB0KHB1bmN0dWF0aW9uKSwgbWV0YSA9IHQoKTtcbi8qKlxuVGhlIGRlZmF1bHQgc2V0IG9mIGhpZ2hsaWdodGluZyBbdGFnc10oI2hpZ2hsaWdodC5UYWcpLlxuXG5UaGlzIGNvbGxlY3Rpb24gaXMgaGVhdmlseSBiaWFzZWQgdG93YXJkcyBwcm9ncmFtbWluZyBsYW5ndWFnZXMsXG5hbmQgbmVjZXNzYXJpbHkgaW5jb21wbGV0ZS4gQSBmdWxsIG9udG9sb2d5IG9mIHN5bnRhY3RpY1xuY29uc3RydWN0cyB3b3VsZCBmaWxsIGEgc3RhY2sgb2YgYm9va3MsIGFuZCBiZSBpbXByYWN0aWNhbCB0b1xud3JpdGUgdGhlbWVzIGZvci4gU28gdHJ5IHRvIG1ha2UgZG8gd2l0aCB0aGlzIHNldC4gSWYgYWxsIGVsc2VcbmZhaWxzLCBbb3BlbiBhblxuaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlbWlycm9yL2NvZGVtaXJyb3IubmV4dCkgdG8gcHJvcG9zZSBhXG5uZXcgdGFnLCBvciBbZGVmaW5lXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmUpIGEgbG9jYWwgY3VzdG9tIHRhZyBmb3JcbnlvdXIgdXNlIGNhc2UuXG5cbk5vdGUgdGhhdCBpdCBpcyBub3Qgb2JsaWdhdG9yeSB0byBhbHdheXMgYXR0YWNoIHRoZSBtb3N0IHNwZWNpZmljXG50YWcgcG9zc2libGUgdG8gYW4gZWxlbWVudFx1MjAxNGlmIHlvdXIgZ3JhbW1hciBjYW4ndCBlYXNpbHlcbmRpc3Rpbmd1aXNoIGEgY2VydGFpbiB0eXBlIG9mIGVsZW1lbnQgKHN1Y2ggYXMgYSBsb2NhbCB2YXJpYWJsZSksXG5pdCBpcyBva2F5IHRvIHN0eWxlIGl0IGFzIGl0cyBtb3JlIGdlbmVyYWwgdmFyaWFudCAoYSB2YXJpYWJsZSkuXG5cbkZvciB0YWdzIHRoYXQgZXh0ZW5kIHNvbWUgcGFyZW50IHRhZywgdGhlIGRvY3VtZW50YXRpb24gbGlua3MgdG9cbnRoZSBwYXJlbnQuXG4qL1xuY29uc3QgdGFncyA9IHtcbiAgICAvKipcbiAgICBBIGNvbW1lbnQuXG4gICAgKi9cbiAgICBjb21tZW50LFxuICAgIC8qKlxuICAgIEEgbGluZSBbY29tbWVudF0oI2hpZ2hsaWdodC50YWdzLmNvbW1lbnQpLlxuICAgICovXG4gICAgbGluZUNvbW1lbnQ6IHQoY29tbWVudCksXG4gICAgLyoqXG4gICAgQSBibG9jayBbY29tbWVudF0oI2hpZ2hsaWdodC50YWdzLmNvbW1lbnQpLlxuICAgICovXG4gICAgYmxvY2tDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8qKlxuICAgIEEgZG9jdW1lbnRhdGlvbiBbY29tbWVudF0oI2hpZ2hsaWdodC50YWdzLmNvbW1lbnQpLlxuICAgICovXG4gICAgZG9jQ29tbWVudDogdChjb21tZW50KSxcbiAgICAvKipcbiAgICBBbnkga2luZCBvZiBpZGVudGlmaWVyLlxuICAgICovXG4gICAgbmFtZSxcbiAgICAvKipcbiAgICBUaGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSBvZiBhIHZhcmlhYmxlLlxuICAgICovXG4gICAgdmFyaWFibGVOYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgdHlwZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgdHlwZU5hbWU6IHR5cGVOYW1lLFxuICAgIC8qKlxuICAgIEEgdGFnIG5hbWUgKHN1YnRhZyBvZiBbYHR5cGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnR5cGVOYW1lKSkuXG4gICAgKi9cbiAgICB0YWdOYW1lOiB0KHR5cGVOYW1lKSxcbiAgICAvKipcbiAgICBBIHByb3BlcnR5IG9yIGZpZWxkIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkuXG4gICAgKi9cbiAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSxcbiAgICAvKipcbiAgICBBbiBhdHRyaWJ1dGUgbmFtZSAoc3VidGFnIG9mIFtgcHJvcGVydHlOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSkpLlxuICAgICovXG4gICAgYXR0cmlidXRlTmFtZTogdChwcm9wZXJ0eU5hbWUpLFxuICAgIC8qKlxuICAgIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgY2xhc3MuXG4gICAgKi9cbiAgICBjbGFzc05hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSBsYWJlbCBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgbGFiZWxOYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgbmFtZXNwYWNlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkuXG4gICAgKi9cbiAgICBuYW1lc3BhY2U6IHQobmFtZSksXG4gICAgLyoqXG4gICAgVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSBtYWNyby5cbiAgICAqL1xuICAgIG1hY3JvTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIGxpdGVyYWwgdmFsdWUuXG4gICAgKi9cbiAgICBsaXRlcmFsLFxuICAgIC8qKlxuICAgIEEgc3RyaW5nIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBzdHJpbmcsXG4gICAgLyoqXG4gICAgQSBkb2N1bWVudGF0aW9uIFtzdHJpbmddKCNoaWdobGlnaHQudGFncy5zdHJpbmcpLlxuICAgICovXG4gICAgZG9jU3RyaW5nOiB0KHN0cmluZyksXG4gICAgLyoqXG4gICAgQSBjaGFyYWN0ZXIgbGl0ZXJhbCAoc3VidGFnIG9mIFtzdHJpbmddKCNoaWdobGlnaHQudGFncy5zdHJpbmcpKS5cbiAgICAqL1xuICAgIGNoYXJhY3RlcjogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEFuIGF0dHJpYnV0ZSB2YWx1ZSAoc3VidGFnIG9mIFtzdHJpbmddKCNoaWdobGlnaHQudGFncy5zdHJpbmcpKS5cbiAgICAqL1xuICAgIGF0dHJpYnV0ZVZhbHVlOiB0KHN0cmluZyksXG4gICAgLyoqXG4gICAgQSBudW1iZXIgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIG51bWJlcixcbiAgICAvKipcbiAgICBBbiBpbnRlZ2VyIFtudW1iZXJdKCNoaWdobGlnaHQudGFncy5udW1iZXIpIGxpdGVyYWwuXG4gICAgKi9cbiAgICBpbnRlZ2VyOiB0KG51bWJlciksXG4gICAgLyoqXG4gICAgQSBmbG9hdGluZy1wb2ludCBbbnVtYmVyXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKSBsaXRlcmFsLlxuICAgICovXG4gICAgZmxvYXQ6IHQobnVtYmVyKSxcbiAgICAvKipcbiAgICBBIGJvb2xlYW4gW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIGJvb2w6IHQobGl0ZXJhbCksXG4gICAgLyoqXG4gICAgUmVndWxhciBleHByZXNzaW9uIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICByZWdleHA6IHQobGl0ZXJhbCksXG4gICAgLyoqXG4gICAgQW4gZXNjYXBlIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCksIGZvciBleGFtcGxlIGFcbiAgICBiYWNrc2xhc2ggZXNjYXBlIGluIGEgc3RyaW5nLlxuICAgICovXG4gICAgZXNjYXBlOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEEgY29sb3IgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICAqL1xuICAgIGNvbG9yOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEEgVVJMIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICB1cmw6IHQobGl0ZXJhbCksXG4gICAgLyoqXG4gICAgQSBsYW5ndWFnZSBrZXl3b3JkLlxuICAgICovXG4gICAga2V5d29yZCxcbiAgICAvKipcbiAgICBUaGUgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSBmb3IgdGhlIHNlbGYgb3IgdGhpc1xuICAgIG9iamVjdC5cbiAgICAqL1xuICAgIHNlbGY6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgVGhlIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZm9yIG51bGwuXG4gICAgKi9cbiAgICBudWxsOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSBkZW5vdGluZyBzb21lIGF0b21pYyB2YWx1ZS5cbiAgICAqL1xuICAgIGF0b206IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHRoYXQgcmVwcmVzZW50cyBhIHVuaXQuXG4gICAgKi9cbiAgICB1bml0OiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgbW9kaWZpZXIgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKS5cbiAgICAqL1xuICAgIG1vZGlmaWVyOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGFjdHMgYXMgYW4gb3BlcmF0b3IuXG4gICAgKi9cbiAgICBvcGVyYXRvcktleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBjb250cm9sLWZsb3cgcmVsYXRlZCBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpLlxuICAgICovXG4gICAgY29udHJvbEtleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHRoYXQgZGVmaW5lcyBzb21ldGhpbmcuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uS2V5d29yZDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgcmVsYXRlZCB0byBkZWZpbmluZyBvclxuICAgIGludGVyZmFjaW5nIHdpdGggbW9kdWxlcy5cbiAgICAqL1xuICAgIG1vZHVsZUtleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQW4gb3BlcmF0b3IuXG4gICAgKi9cbiAgICBvcGVyYXRvcixcbiAgICAvKipcbiAgICBBbiBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikgdGhhdCBkZXJlZmVyZW5jZXMgc29tZXRoaW5nLlxuICAgICovXG4gICAgZGVyZWZPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQXJpdGhtZXRpYy1yZWxhdGVkIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGFyaXRobWV0aWNPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgTG9naWNhbCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBsb2dpY09wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBCaXQgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgYml0d2lzZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBDb21wYXJpc29uIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGNvbXBhcmVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgW09wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgdXBkYXRlcyBpdHMgb3BlcmFuZC5cbiAgICAqL1xuICAgIHVwZGF0ZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvKipcbiAgICBbT3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikgdGhhdCBkZWZpbmVzIHNvbWV0aGluZy5cbiAgICAqL1xuICAgIGRlZmluaXRpb25PcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgVHlwZS1yZWxhdGVkIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIHR5cGVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQ29udHJvbC1mbG93IFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGNvbnRyb2xPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgUHJvZ3JhbSBvciBtYXJrdXAgcHVuY3R1YXRpb24uXG4gICAgKi9cbiAgICBwdW5jdHVhdGlvbixcbiAgICAvKipcbiAgICBbUHVuY3R1YXRpb25dKCNoaWdobGlnaHQudGFncy5wdW5jdHVhdGlvbikgdGhhdCBzZXBhcmF0ZXNcbiAgICB0aGluZ3MuXG4gICAgKi9cbiAgICBzZXBhcmF0b3I6IHQocHVuY3R1YXRpb24pLFxuICAgIC8qKlxuICAgIEJyYWNrZXQtc3R5bGUgW3B1bmN0dWF0aW9uXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pLlxuICAgICovXG4gICAgYnJhY2tldCxcbiAgICAvKipcbiAgICBBbmdsZSBbYnJhY2tldHNdKCNoaWdobGlnaHQudGFncy5icmFja2V0KSAodXN1YWxseSBgPGAgYW5kIGA+YFxuICAgIHRva2VucykuXG4gICAgKi9cbiAgICBhbmdsZUJyYWNrZXQ6IHQoYnJhY2tldCksXG4gICAgLyoqXG4gICAgU3F1YXJlIFticmFja2V0c10oI2hpZ2hsaWdodC50YWdzLmJyYWNrZXQpICh1c3VhbGx5IGBbYCBhbmQgYF1gXG4gICAgdG9rZW5zKS5cbiAgICAqL1xuICAgIHNxdWFyZUJyYWNrZXQ6IHQoYnJhY2tldCksXG4gICAgLyoqXG4gICAgUGFyZW50aGVzZXMgKHVzdWFsbHkgYChgIGFuZCBgKWAgdG9rZW5zKS4gU3VidGFnIG9mXG4gICAgW2JyYWNrZXRdKCNoaWdobGlnaHQudGFncy5icmFja2V0KS5cbiAgICAqL1xuICAgIHBhcmVuOiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIEJyYWNlcyAodXN1YWxseSBge2AgYW5kIGB9YCB0b2tlbnMpLiBTdWJ0YWcgb2ZcbiAgICBbYnJhY2tldF0oI2hpZ2hsaWdodC50YWdzLmJyYWNrZXQpLlxuICAgICovXG4gICAgYnJhY2U6IHQoYnJhY2tldCksXG4gICAgLyoqXG4gICAgQ29udGVudCwgZm9yIGV4YW1wbGUgcGxhaW4gdGV4dCBpbiBYTUwgb3IgbWFya3VwIGRvY3VtZW50cy5cbiAgICAqL1xuICAgIGNvbnRlbnQsXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IHJlcHJlc2VudHMgYSBoZWFkaW5nLlxuICAgICovXG4gICAgaGVhZGluZyxcbiAgICAvKipcbiAgICBBIGxldmVsIDEgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmcxOiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgMiBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzI6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCAzIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nMzogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDQgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmc0OiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgNSBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzU6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCA2IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nNjogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIHByb3NlIFtjb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgc2VwYXJhdG9yIChzdWNoIGFzIGEgaG9yaXpvbnRhbCBydWxlKS5cbiAgICAqL1xuICAgIGNvbnRlbnRTZXBhcmF0b3I6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IHJlcHJlc2VudHMgYSBsaXN0LlxuICAgICovXG4gICAgbGlzdDogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIHF1b3RlLlxuICAgICovXG4gICAgcXVvdGU6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIGVtcGhhc2l6ZWQuXG4gICAgKi9cbiAgICBlbXBoYXNpczogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgc3R5bGVkIHN0cm9uZy5cbiAgICAqL1xuICAgIHN0cm9uZzogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgcGFydCBvZiBhIGxpbmsuXG4gICAgKi9cbiAgICBsaW5rOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBzdHlsZWQgYXMgY29kZSBvclxuICAgIG1vbm9zcGFjZS5cbiAgICAqL1xuICAgIG1vbm9zcGFjZTogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaGFzIGEgc3RyaWtlLXRocm91Z2hcbiAgICBzdHlsZS5cbiAgICAqL1xuICAgIHN0cmlrZXRocm91Z2g6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgSW5zZXJ0ZWQgdGV4dCBpbiBhIGNoYW5nZS10cmFja2luZyBmb3JtYXQuXG4gICAgKi9cbiAgICBpbnNlcnRlZDogdCgpLFxuICAgIC8qKlxuICAgIERlbGV0ZWQgdGV4dC5cbiAgICAqL1xuICAgIGRlbGV0ZWQ6IHQoKSxcbiAgICAvKipcbiAgICBDaGFuZ2VkIHRleHQuXG4gICAgKi9cbiAgICBjaGFuZ2VkOiB0KCksXG4gICAgLyoqXG4gICAgQW4gaW52YWxpZCBvciB1bnN5bnRhY3RpYyBlbGVtZW50LlxuICAgICovXG4gICAgaW52YWxpZDogdCgpLFxuICAgIC8qKlxuICAgIE1ldGFkYXRhIG9yIG1ldGEtaW5zdHJ1Y3Rpb24uXG4gICAgKi9cbiAgICBtZXRhLFxuICAgIC8qKlxuICAgIFtNZXRhZGF0YV0oI2hpZ2hsaWdodC50YWdzLm1ldGEpIHRoYXQgYXBwbGllcyB0byB0aGUgZW50aXJlXG4gICAgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBkb2N1bWVudE1ldGE6IHQobWV0YSksXG4gICAgLyoqXG4gICAgW01ldGFkYXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkgdGhhdCBhbm5vdGF0ZXMgb3IgYWRkc1xuICAgIGF0dHJpYnV0ZXMgdG8gYSBnaXZlbiBzeW50YWN0aWMgZWxlbWVudC5cbiAgICAqL1xuICAgIGFubm90YXRpb246IHQobWV0YSksXG4gICAgLyoqXG4gICAgUHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBvciBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlLiBTdWJ0YWcgb2ZcbiAgICBbbWV0YV0oI2hpZ2hsaWdodC50YWdzLm1ldGEpLlxuICAgICovXG4gICAgcHJvY2Vzc2luZ0luc3RydWN0aW9uOiB0KG1ldGEpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIHRoYXQgYVxuICAgIGdpdmVuIGVsZW1lbnQgaXMgYmVpbmcgZGVmaW5lZC4gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIHRoZVxuICAgIHZhcmlvdXMgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSB0YWdzLlxuICAgICovXG4gICAgZGVmaW5pdGlvbjogVGFnLmRlZmluZU1vZGlmaWVyKFwiZGVmaW5pdGlvblwiKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGluZGljYXRlcyB0aGF0XG4gICAgc29tZXRoaW5nIGlzIGNvbnN0YW50LiBNb3N0bHkgZXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoXG4gICAgW3ZhcmlhYmxlIG5hbWVzXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKS5cbiAgICAqL1xuICAgIGNvbnN0YW50OiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJjb25zdGFudFwiKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB1c2VkIHRvIGluZGljYXRlIHRoYXRcbiAgICBhIFt2YXJpYWJsZV0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkgb3IgW3Byb3BlcnR5XG4gICAgbmFtZV0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSkgaXMgYmVpbmcgY2FsbGVkIG9yIGRlZmluZWRcbiAgICBhcyBhIGZ1bmN0aW9uLlxuICAgICovXG4gICAgZnVuY3Rpb246IFRhZy5kZWZpbmVNb2RpZmllcihcImZ1bmN0aW9uXCIpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG9cbiAgICBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSB0byBpbmRpY2F0ZSB0aGF0IHRoZXkgYmVsb25nIHRvXG4gICAgdGhlIGxhbmd1YWdlJ3Mgc3RhbmRhcmQgZW52aXJvbm1lbnQuXG4gICAgKi9cbiAgICBzdGFuZGFyZDogVGFnLmRlZmluZU1vZGlmaWVyKFwic3RhbmRhcmRcIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgYSBnaXZlblxuICAgIFtuYW1lc10oI2hpZ2hsaWdodC50YWdzLm5hbWUpIGlzIGxvY2FsIHRvIHNvbWUgc2NvcGUuXG4gICAgKi9cbiAgICBsb2NhbDogVGFnLmRlZmluZU1vZGlmaWVyKFwibG9jYWxcIiksXG4gICAgLyoqXG4gICAgQSBnZW5lcmljIHZhcmlhbnQgW21vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdFxuICAgIGNhbiBiZSB1c2VkIHRvIHRhZyBsYW5ndWFnZS1zcGVjaWZpYyBhbHRlcm5hdGl2ZSB2YXJpYW50cyBvZlxuICAgIHNvbWUgY29tbW9uIHRhZy4gSXQgaXMgcmVjb21tZW5kZWQgZm9yIHRoZW1lcyB0byBkZWZpbmUgc3BlY2lhbFxuICAgIGZvcm1zIG9mIGF0IGxlYXN0IHRoZSBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSBhbmRcbiAgICBbdmFyaWFibGUgbmFtZV0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkgdGFncywgc2luY2UgdGhvc2VcbiAgICBjb21lIHVwIGEgbG90LlxuICAgICovXG4gICAgc3BlY2lhbDogVGFnLmRlZmluZU1vZGlmaWVyKFwic3BlY2lhbFwiKVxufTtcbmZvciAobGV0IG5hbWUgaW4gdGFncykge1xuICAgIGxldCB2YWwgPSB0YWdzW25hbWVdO1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBUYWcpXG4gICAgICAgIHZhbC5uYW1lID0gbmFtZTtcbn1cbi8qKlxuVGhpcyBpcyBhIGhpZ2hsaWdodGVyIHRoYXQgYWRkcyBzdGFibGUsIHByZWRpY3RhYmxlIGNsYXNzZXMgdG9cbnRva2VucywgZm9yIHN0eWxpbmcgd2l0aCBleHRlcm5hbCBDU1MuXG5cblRoZSBmb2xsb3dpbmcgdGFncyBhcmUgbWFwcGVkIHRvIHRoZWlyIG5hbWUgcHJlZml4ZWQgd2l0aCBgXCJ0b2stXCJgXG4oZm9yIGV4YW1wbGUgYFwidG9rLWNvbW1lbnRcImApOlxuXG4qIFtgbGlua2BdKCNoaWdobGlnaHQudGFncy5saW5rKVxuKiBbYGhlYWRpbmdgXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZylcbiogW2BlbXBoYXNpc2BdKCNoaWdobGlnaHQudGFncy5lbXBoYXNpcylcbiogW2BzdHJvbmdgXSgjaGlnaGxpZ2h0LnRhZ3Muc3Ryb25nKVxuKiBbYGtleXdvcmRgXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZClcbiogW2BhdG9tYF0oI2hpZ2hsaWdodC50YWdzLmF0b20pXG4qIFtgYm9vbGBdKCNoaWdobGlnaHQudGFncy5ib29sKVxuKiBbYHVybGBdKCNoaWdobGlnaHQudGFncy51cmwpXG4qIFtgbGFiZWxOYW1lYF0oI2hpZ2hsaWdodC50YWdzLmxhYmVsTmFtZSlcbiogW2BpbnNlcnRlZGBdKCNoaWdobGlnaHQudGFncy5pbnNlcnRlZClcbiogW2BkZWxldGVkYF0oI2hpZ2hsaWdodC50YWdzLmRlbGV0ZWQpXG4qIFtgbGl0ZXJhbGBdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKVxuKiBbYHN0cmluZ2BdKCNoaWdobGlnaHQudGFncy5zdHJpbmcpXG4qIFtgbnVtYmVyYF0oI2hpZ2hsaWdodC50YWdzLm51bWJlcilcbiogW2B2YXJpYWJsZU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuKiBbYHR5cGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnR5cGVOYW1lKVxuKiBbYG5hbWVzcGFjZWBdKCNoaWdobGlnaHQudGFncy5uYW1lc3BhY2UpXG4qIFtgY2xhc3NOYW1lYF0oI2hpZ2hsaWdodC50YWdzLmNsYXNzTmFtZSlcbiogW2BtYWNyb05hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MubWFjcm9OYW1lKVxuKiBbYHByb3BlcnR5TmFtZWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpXG4qIFtgb3BlcmF0b3JgXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpXG4qIFtgY29tbWVudGBdKCNoaWdobGlnaHQudGFncy5jb21tZW50KVxuKiBbYG1ldGFgXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSlcbiogW2BwdW5jdHVhdGlvbmBdKCNoaWdobGlnaHQudGFncy5wdW5jdHVhdGlvbilcbiogW2BpbnZhbGlkYF0oI2hpZ2hsaWdodC50YWdzLmludmFsaWQpXG5cbkluIGFkZGl0aW9uLCB0aGVzZSBtYXBwaW5ncyBhcmUgcHJvdmlkZWQ6XG5cbiogW2ByZWdleHBgXSgjaGlnaGxpZ2h0LnRhZ3MucmVnZXhwKSxcbiAgW2Blc2NhcGVgXSgjaGlnaGxpZ2h0LnRhZ3MuZXNjYXBlKSwgYW5kXG4gIFtgc3BlY2lhbGBdKCNoaWdobGlnaHQudGFncy5zcGVjaWFsKVtgKHN0cmluZylgXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKVxuICBhcmUgbWFwcGVkIHRvIGBcInRvay1zdHJpbmcyXCJgXG4qIFtgc3BlY2lhbGBdKCNoaWdobGlnaHQudGFncy5zcGVjaWFsKVtgKHZhcmlhYmxlTmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuICB0byBgXCJ0b2stdmFyaWFibGVOYW1lMlwiYFxuKiBbYGxvY2FsYF0oI2hpZ2hsaWdodC50YWdzLmxvY2FsKVtgKHZhcmlhYmxlTmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuICB0byBgXCJ0b2stdmFyaWFibGVOYW1lIHRvay1sb2NhbFwiYFxuKiBbYGRlZmluaXRpb25gXSgjaGlnaGxpZ2h0LnRhZ3MuZGVmaW5pdGlvbilbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiYFxuKiBbYGRlZmluaXRpb25gXSgjaGlnaGxpZ2h0LnRhZ3MuZGVmaW5pdGlvbilbYChwcm9wZXJ0eU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSlcbiAgdG8gYFwidG9rLXByb3BlcnR5TmFtZSB0b2stZGVmaW5pdGlvblwiYFxuKi9cbmNvbnN0IGNsYXNzSGlnaGxpZ2h0ZXIgPSB0YWdIaWdobGlnaHRlcihbXG4gICAgeyB0YWc6IHRhZ3MubGluaywgY2xhc3M6IFwidG9rLWxpbmtcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmhlYWRpbmcsIGNsYXNzOiBcInRvay1oZWFkaW5nXCIgfSxcbiAgICB7IHRhZzogdGFncy5lbXBoYXNpcywgY2xhc3M6IFwidG9rLWVtcGhhc2lzXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJvbmcsIGNsYXNzOiBcInRvay1zdHJvbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmtleXdvcmQsIGNsYXNzOiBcInRvay1rZXl3b3JkXCIgfSxcbiAgICB7IHRhZzogdGFncy5hdG9tLCBjbGFzczogXCJ0b2stYXRvbVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuYm9vbCwgY2xhc3M6IFwidG9rLWJvb2xcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnVybCwgY2xhc3M6IFwidG9rLXVybFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubGFiZWxOYW1lLCBjbGFzczogXCJ0b2stbGFiZWxOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5pbnNlcnRlZCwgY2xhc3M6IFwidG9rLWluc2VydGVkXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWxldGVkLCBjbGFzczogXCJ0b2stZGVsZXRlZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubGl0ZXJhbCwgY2xhc3M6IFwidG9rLWxpdGVyYWxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cmluZywgY2xhc3M6IFwidG9rLXN0cmluZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MubnVtYmVyLCBjbGFzczogXCJ0b2stbnVtYmVyXCIgfSxcbiAgICB7IHRhZzogW3RhZ3MucmVnZXhwLCB0YWdzLmVzY2FwZSwgdGFncy5zcGVjaWFsKHRhZ3Muc3RyaW5nKV0sIGNsYXNzOiBcInRvay1zdHJpbmcyXCIgfSxcbiAgICB7IHRhZzogdGFncy52YXJpYWJsZU5hbWUsIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxvY2FsKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZSB0b2stbG9jYWxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lIHRvay1kZWZpbml0aW9uXCIgfSxcbiAgICB7IHRhZzogdGFncy5zcGVjaWFsKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZTJcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmRlZmluaXRpb24odGFncy5wcm9wZXJ0eU5hbWUpLCBjbGFzczogXCJ0b2stcHJvcGVydHlOYW1lIHRvay1kZWZpbml0aW9uXCIgfSxcbiAgICB7IHRhZzogdGFncy50eXBlTmFtZSwgY2xhc3M6IFwidG9rLXR5cGVOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5uYW1lc3BhY2UsIGNsYXNzOiBcInRvay1uYW1lc3BhY2VcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmNsYXNzTmFtZSwgY2xhc3M6IFwidG9rLWNsYXNzTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubWFjcm9OYW1lLCBjbGFzczogXCJ0b2stbWFjcm9OYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5wcm9wZXJ0eU5hbWUsIGNsYXNzOiBcInRvay1wcm9wZXJ0eU5hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm9wZXJhdG9yLCBjbGFzczogXCJ0b2stb3BlcmF0b3JcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmNvbW1lbnQsIGNsYXNzOiBcInRvay1jb21tZW50XCIgfSxcbiAgICB7IHRhZzogdGFncy5tZXRhLCBjbGFzczogXCJ0b2stbWV0YVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW52YWxpZCwgY2xhc3M6IFwidG9rLWludmFsaWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnB1bmN0dWF0aW9uLCBjbGFzczogXCJ0b2stcHVuY3R1YXRpb25cIiB9XG5dKTtcblxuZXhwb3J0IHsgVGFnLCBjbGFzc0hpZ2hsaWdodGVyLCBnZXRTdHlsZVRhZ3MsIGhpZ2hsaWdodENvZGUsIGhpZ2hsaWdodFRyZWUsIHN0eWxlVGFncywgdGFnSGlnaGxpZ2h0ZXIsIHRhZ3MgfTtcbiIsICJpbXBvcnQgeyBOb2RlUHJvcCwgSXRlck1vZGUsIFRyZWUsIFRyZWVGcmFnbWVudCwgUGFyc2VyLCBOb2RlVHlwZSwgTm9kZVNldCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuaW1wb3J0IHsgU3RhdGVFZmZlY3QsIFN0YXRlRmllbGQsIEZhY2V0LCBFZGl0b3JTdGF0ZSwgY291bnRDb2x1bW4sIGNvbWJpbmVDb25maWcsIFJhbmdlU2V0LCBSYW5nZVNldEJ1aWxkZXIsIFByZWMgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBWaWV3UGx1Z2luLCBsb2dFeGNlcHRpb24sIEVkaXRvclZpZXcsIERlY29yYXRpb24sIFdpZGdldFR5cGUsIGd1dHRlciwgR3V0dGVyTWFya2VyLCBEaXJlY3Rpb24gfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcbmltcG9ydCB7IFN0eWxlTW9kdWxlIH0gZnJvbSAnc3R5bGUtbW9kJztcblxudmFyIF9hO1xuLyoqXG5Ob2RlIHByb3Agc3RvcmVkIGluIGEgcGFyc2VyJ3MgdG9wIHN5bnRheCBub2RlIHRvIHByb3ZpZGUgdGhlXG5mYWNldCB0aGF0IHN0b3JlcyBsYW5ndWFnZS1zcGVjaWZpYyBkYXRhIGZvciB0aGF0IGxhbmd1YWdlLlxuKi9cbmNvbnN0IGxhbmd1YWdlRGF0YVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkhlbHBlciBmdW5jdGlvbiB0byBkZWZpbmUgYSBmYWNldCAodG8gYmUgYWRkZWQgdG8gdGhlIHRvcCBzeW50YXhcbm5vZGUocykgZm9yIGEgbGFuZ3VhZ2UgdmlhXG5bYGxhbmd1YWdlRGF0YVByb3BgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApKSwgdGhhdCB3aWxsIGJlXG51c2VkIHRvIGFzc29jaWF0ZSBsYW5ndWFnZSBkYXRhIHdpdGggdGhlIGxhbmd1YWdlLiBZb3VcbnByb2JhYmx5IG9ubHkgbmVlZCB0aGlzIHdoZW4gc3ViY2xhc3NpbmdcbltgTGFuZ3VhZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlKS5cbiovXG5mdW5jdGlvbiBkZWZpbmVMYW5ndWFnZUZhY2V0KGJhc2VEYXRhKSB7XG4gICAgcmV0dXJuIEZhY2V0LmRlZmluZSh7XG4gICAgICAgIGNvbWJpbmU6IGJhc2VEYXRhID8gdmFsdWVzID0+IHZhbHVlcy5jb25jYXQoYmFzZURhdGEpIDogdW5kZWZpbmVkXG4gICAgfSk7XG59XG4vKipcblN5bnRheCBub2RlIHByb3AgdXNlZCB0byByZWdpc3RlciBzdWJsYW5ndWFnZXMuIFNob3VsZCBiZSBhZGRlZCB0b1xudGhlIHRvcCBsZXZlbCBub2RlIHR5cGUgZm9yIHRoZSBsYW5ndWFnZS5cbiovXG5jb25zdCBzdWJsYW5ndWFnZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkEgbGFuZ3VhZ2Ugb2JqZWN0IG1hbmFnZXMgcGFyc2luZyBhbmQgcGVyLWxhbmd1YWdlXG5bbWV0YWRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpLiBQYXJzZSBkYXRhIGlzXG5tYW5hZ2VkIGFzIGEgW0xlemVyXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0KSB0cmVlLiBUaGUgY2xhc3NcbmNhbiBiZSB1c2VkIGRpcmVjdGx5LCB2aWEgdGhlIFtgTFJMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTFJMYW5ndWFnZSlcbnN1YmNsYXNzIGZvciBbTGV6ZXJdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvKSBMUiBwYXJzZXJzLCBvclxudmlhIHRoZSBbYFN0cmVhbUxhbmd1YWdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1MYW5ndWFnZSkgc3ViY2xhc3NcbmZvciBzdHJlYW0gcGFyc2Vycy5cbiovXG5jbGFzcyBMYW5ndWFnZSB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgbGFuZ3VhZ2Ugb2JqZWN0LiBJZiB5b3UgbmVlZCB0byBpbnZva2UgdGhpc1xuICAgIGRpcmVjdGx5LCBmaXJzdCBkZWZpbmUgYSBkYXRhIGZhY2V0IHdpdGhcbiAgICBbYGRlZmluZUxhbmd1YWdlRmFjZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmRlZmluZUxhbmd1YWdlRmFjZXQpLCBhbmQgdGhlblxuICAgIGNvbmZpZ3VyZSB5b3VyIHBhcnNlciB0byBbYXR0YWNoXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApIGl0XG4gICAgdG8gdGhlIGxhbmd1YWdlJ3Mgb3V0ZXIgc3ludGF4IG5vZGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgW2xhbmd1YWdlIGRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpIGZhY2V0XG4gICAgdXNlZCBmb3IgdGhpcyBsYW5ndWFnZS5cbiAgICAqL1xuICAgIGRhdGEsIHBhcnNlciwgZXh0cmFFeHRlbnNpb25zID0gW10sIFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2UgbmFtZS5cbiAgICAqL1xuICAgIG5hbWUgPSBcIlwiKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIC8vIEtsdWRnZSB0byBkZWZpbmUgRWRpdG9yU3RhdGUudHJlZSBhcyBhIGRlYnVnZ2luZyBoZWxwZXIsXG4gICAgICAgIC8vIHdpdGhvdXQgdGhlIEVkaXRvclN0YXRlIHBhY2thZ2UgYWN0dWFsbHkga25vd2luZyBhYm91dFxuICAgICAgICAvLyBsYW5ndWFnZXMgYW5kIGxlemVyIHRyZWVzLlxuICAgICAgICBpZiAoIUVkaXRvclN0YXRlLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInRyZWVcIikpXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWRpdG9yU3RhdGUucHJvdG90eXBlLCBcInRyZWVcIiwgeyBnZXQoKSB7IHJldHVybiBzeW50YXhUcmVlKHRoaXMpOyB9IH0pO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSBbXG4gICAgICAgICAgICBsYW5ndWFnZS5vZih0aGlzKSxcbiAgICAgICAgICAgIEVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YS5vZigoc3RhdGUsIHBvcywgc2lkZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0b3AgPSB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSksIGRhdGEgPSB0b3AudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gc3RhdGUuZmFjZXQoZGF0YSksIHN1YiA9IHRvcC50eXBlLnByb3Aoc3VibGFuZ3VhZ2VQcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lck5vZGUgPSB0b3AucmVzb2x2ZShwb3MgLSB0b3AuZnJvbSwgc2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1Ymxhbmcgb2Ygc3ViKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmxhbmcudGVzdChpbm5lck5vZGUsIHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gc3RhdGUuZmFjZXQoc3VibGFuZy5mYWNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmxhbmcudHlwZSA9PSBcInJlcGxhY2VcIiA/IGRhdGEgOiBkYXRhLmNvbmNhdChiYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICBdLmNvbmNhdChleHRyYUV4dGVuc2lvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBRdWVyeSB3aGV0aGVyIHRoaXMgbGFuZ3VhZ2UgaXMgYWN0aXZlIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGlzQWN0aXZlQXQoc3RhdGUsIHBvcywgc2lkZSA9IC0xKSB7XG4gICAgICAgIHJldHVybiB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSkudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHRoaXMuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgZG9jdW1lbnQgcmVnaW9ucyB0aGF0IHdlcmUgcGFyc2VkIHVzaW5nIHRoaXMgbGFuZ3VhZ2UuXG4gICAgVGhlIHJldHVybmVkIHJlZ2lvbnMgd2lsbCBfaW5jbHVkZV8gYW55IG5lc3RlZCBsYW5ndWFnZXMgcm9vdGVkXG4gICAgaW4gdGhpcyBsYW5ndWFnZSwgd2hlbiB0aG9zZSBleGlzdC5cbiAgICAqL1xuICAgIGZpbmRSZWdpb25zKHN0YXRlKSB7XG4gICAgICAgIGxldCBsYW5nID0gc3RhdGUuZmFjZXQobGFuZ3VhZ2UpO1xuICAgICAgICBpZiAoKGxhbmcgPT09IG51bGwgfHwgbGFuZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFuZy5kYXRhKSA9PSB0aGlzLmRhdGEpXG4gICAgICAgICAgICByZXR1cm4gW3sgZnJvbTogMCwgdG86IHN0YXRlLmRvYy5sZW5ndGggfV07XG4gICAgICAgIGlmICghbGFuZyB8fCAhbGFuZy5hbGxvd3NOZXN0aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBleHBsb3JlID0gKHRyZWUsIGZyb20pID0+IHtcbiAgICAgICAgICAgIGlmICh0cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tLCB0bzogZnJvbSArIHRyZWUubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtb3VudCA9IHRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgICAgIGlmIChtb3VudCkge1xuICAgICAgICAgICAgICAgIGlmIChtb3VudC50cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbTogci5mcm9tICsgZnJvbSwgdG86IHIudG8gKyBmcm9tIH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGZyb206IGZyb20sIHRvOiBmcm9tICsgdHJlZS5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUobW91bnQudHJlZSwgbW91bnQub3ZlcmxheVswXS5mcm9tICsgZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gc2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2ggPSB0cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaCBpbnN0YW5jZW9mIFRyZWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUoY2gsIHRyZWUucG9zaXRpb25zW2ldICsgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGV4cGxvcmUoc3ludGF4VHJlZShzdGF0ZSksIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGxhbmd1YWdlIGFsbG93cyBuZXN0ZWQgbGFuZ3VhZ2VzLiBUaGVcbiAgICBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZS5cbiAgICAqL1xuICAgIGdldCBhbGxvd3NOZXN0aW5nKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuLyoqXG5AaW50ZXJuYWxcbiovXG5MYW5ndWFnZS5zZXRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmZ1bmN0aW9uIHRvcE5vZGVBdChzdGF0ZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IHRvcExhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSksIHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKS50b3BOb2RlO1xuICAgIGlmICghdG9wTGFuZyB8fCB0b3BMYW5nLmFsbG93c05lc3RpbmcpIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHRyZWU7IG5vZGU7IG5vZGUgPSBub2RlLmVudGVyKHBvcywgc2lkZSwgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpKVxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZS5pc1RvcClcbiAgICAgICAgICAgICAgICB0cmVlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWU7XG59XG4vKipcbkEgc3ViY2xhc3Mgb2YgW2BMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGZvciB1c2Ugd2l0aCBMZXplclxuW0xSIHBhcnNlcnNdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjbHIuTFJQYXJzZXIpXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExSTGFuZ3VhZ2UgZXh0ZW5kcyBMYW5ndWFnZSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcGFyc2VyLCBuYW1lKSB7XG4gICAgICAgIHN1cGVyKGRhdGEsIHBhcnNlciwgW10sIG5hbWUpO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbGFuZ3VhZ2UgZnJvbSBhIHBhcnNlci5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQoc3BlYy5sYW5ndWFnZURhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UoZGF0YSwgc3BlYy5wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgICAgIHByb3BzOiBbbGFuZ3VhZ2VEYXRhUHJvcC5hZGQodHlwZSA9PiB0eXBlLmlzVG9wID8gZGF0YSA6IHVuZGVmaW5lZCldXG4gICAgICAgIH0pLCBzcGVjLm5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhpcyBsYW5ndWFnZSB3aXRoIGEgcmVjb25maWd1cmVkXG4gICAgdmVyc2lvbiBvZiBpdHMgcGFyc2VyIGFuZCBvcHRpb25hbGx5IGEgbmV3IG5hbWUuXG4gICAgKi9cbiAgICBjb25maWd1cmUob3B0aW9ucywgbmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UodGhpcy5kYXRhLCB0aGlzLnBhcnNlci5jb25maWd1cmUob3B0aW9ucyksIG5hbWUgfHwgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiB0aGlzLnBhcnNlci5oYXNXcmFwcGVycygpOyB9XG59XG4vKipcbkdldCB0aGUgc3ludGF4IHRyZWUgZm9yIGEgc3RhdGUsIHdoaWNoIGlzIHRoZSBjdXJyZW50IChwb3NzaWJseVxuaW5jb21wbGV0ZSkgcGFyc2UgdHJlZSBvZiB0aGUgYWN0aXZlXG5bbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpLCBvciB0aGUgZW1wdHkgdHJlZSBpZiB0aGVyZSBpcyBub1xubGFuZ3VhZ2UgYXZhaWxhYmxlLlxuKi9cbmZ1bmN0aW9uIHN5bnRheFRyZWUoc3RhdGUpIHtcbiAgICBsZXQgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpO1xuICAgIHJldHVybiBmaWVsZCA/IGZpZWxkLnRyZWUgOiBUcmVlLmVtcHR5O1xufVxuLyoqXG5UcnkgdG8gZ2V0IGEgcGFyc2UgdHJlZSB0aGF0IHNwYW5zIGF0IGxlYXN0IHVwIHRvIGB1cHRvYC4gVGhlXG5tZXRob2Qgd2lsbCBkbyBhdCBtb3N0IGB0aW1lb3V0YCBtaWxsaXNlY29uZHMgb2Ygd29yayB0byBwYXJzZVxudXAgdG8gdGhhdCBwb2ludCBpZiB0aGUgdHJlZSBpc24ndCBhbHJlYWR5IGF2YWlsYWJsZS5cbiovXG5mdW5jdGlvbiBlbnN1cmVTeW50YXhUcmVlKHN0YXRlLCB1cHRvLCB0aW1lb3V0ID0gNTApIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHBhcnNlID0gKF9hID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRleHQ7XG4gICAgaWYgKCFwYXJzZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IG9sZFZpZXBvcnQgPSBwYXJzZS52aWV3cG9ydDtcbiAgICBwYXJzZS51cGRhdGVWaWV3cG9ydCh7IGZyb206IDAsIHRvOiB1cHRvIH0pO1xuICAgIGxldCByZXN1bHQgPSBwYXJzZS5pc0RvbmUodXB0bykgfHwgcGFyc2Uud29yayh0aW1lb3V0LCB1cHRvKSA/IHBhcnNlLnRyZWUgOiBudWxsO1xuICAgIHBhcnNlLnVwZGF0ZVZpZXdwb3J0KG9sZFZpZXBvcnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcblF1ZXJpZXMgd2hldGhlciB0aGVyZSBpcyBhIGZ1bGwgc3ludGF4IHRyZWUgYXZhaWxhYmxlIHVwIHRvIHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIElmIHRoZXJlIGlzbid0LCB0aGUgYmFja2dyb3VuZCBwYXJzZVxucHJvY2VzcyBfbWlnaHRfIHN0aWxsIGJlIHdvcmtpbmcgYW5kIHVwZGF0ZSB0aGUgdHJlZSBmdXJ0aGVyLCBidXRcbnRoZXJlIGlzIG5vIGd1YXJhbnRlZSBvZiB0aGF0XHUyMDE0dGhlIHBhcnNlciB3aWxsIFtzdG9wXG53b3JraW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFBhcnNlclJ1bm5pbmcpIHdoZW4gaXQgaGFzIHNwZW50IGFcbmNlcnRhaW4gYW1vdW50IG9mIHRpbWUgb3IgaGFzIG1vdmVkIGJleW9uZCB0aGUgdmlzaWJsZSB2aWV3cG9ydC5cbkFsd2F5cyByZXR1cm5zIGZhbHNlIGlmIG5vIGxhbmd1YWdlIGhhcyBiZWVuIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4VHJlZUF2YWlsYWJsZShzdGF0ZSwgdXB0byA9IHN0YXRlLmRvYy5sZW5ndGgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGV4dC5pc0RvbmUodXB0bykpIHx8IGZhbHNlO1xufVxuLyoqXG5Nb3ZlIHBhcnNpbmcgZm9yd2FyZCwgYW5kIHVwZGF0ZSB0aGUgZWRpdG9yIHN0YXRlIGFmdGVyd2FyZHMgdG9cbnJlZmxlY3QgdGhlIG5ldyB0cmVlLiBXaWxsIHdvcmsgZm9yIGF0IG1vc3QgYHRpbWVvdXRgXG5taWxsaXNlY29uZHMuIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyc2VyIG1hbmFnZWQgZ2V0IHRvIHRoZSBnaXZlblxucG9zaXRpb24gaW4gdGhhdCB0aW1lLlxuKi9cbmZ1bmN0aW9uIGZvcmNlUGFyc2luZyh2aWV3LCB1cHRvID0gdmlldy52aWV3cG9ydC50bywgdGltZW91dCA9IDEwMCkge1xuICAgIGxldCBzdWNjZXNzID0gZW5zdXJlU3ludGF4VHJlZSh2aWV3LnN0YXRlLCB1cHRvLCB0aW1lb3V0KTtcbiAgICBpZiAoc3VjY2VzcyAhPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHt9KTtcbiAgICByZXR1cm4gISFzdWNjZXNzO1xufVxuLyoqXG5UZWxscyB5b3Ugd2hldGhlciB0aGUgbGFuZ3VhZ2UgcGFyc2VyIGlzIHBsYW5uaW5nIHRvIGRvIG1vcmVcbnBhcnNpbmcgd29yayAoaW4gYSBgcmVxdWVzdElkbGVDYWxsYmFja2AgcHNldWRvLXRocmVhZCkgb3IgaGFzXG5zdG9wcGVkIHJ1bm5pbmcsIGVpdGhlciBiZWNhdXNlIGl0IHBhcnNlZCB0aGUgZW50aXJlIGRvY3VtZW50LFxuYmVjYXVzZSBpdCBzcGVudCB0b28gbXVjaCB0aW1lIGFuZCB3YXMgY3V0IG9mZiwgb3IgYmVjYXVzZSB0aGVyZVxuaXMgbm8gbGFuZ3VhZ2UgcGFyc2VyIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4UGFyc2VyUnVubmluZyh2aWV3KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGFyc2VXb3JrZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNXb3JraW5nKCkpIHx8IGZhbHNlO1xufVxuLyoqXG5MZXplci1zdHlsZVxuW2BJbnB1dGBdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjY29tbW9uLklucHV0KVxub2JqZWN0IGZvciBhIFtgVGV4dGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dCkgb2JqZWN0LlxuKi9cbmNsYXNzIERvY0lucHV0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5wdXQgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAgICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gMDtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBcIlwiO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmRvYy5sZW5ndGg7IH1cbiAgICBzeW5jVG8ocG9zKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gdGhpcy5jdXJzb3IubmV4dChwb3MgLSB0aGlzLmN1cnNvclBvcykudmFsdWU7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gcG9zICsgdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNodW5rKHBvcykge1xuICAgICAgICB0aGlzLnN5bmNUbyhwb3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmc7XG4gICAgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIHJlYWQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IHN0cmluZ1N0YXJ0ID0gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgICAgIGlmIChmcm9tIDwgc3RyaW5nU3RhcnQgfHwgdG8gPj0gdGhpcy5jdXJzb3JQb3MpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSAtIHN0cmluZ1N0YXJ0LCB0byAtIHN0cmluZ1N0YXJ0KTtcbiAgICB9XG59XG5sZXQgY3VycmVudENvbnRleHQgPSBudWxsO1xuLyoqXG5BIHBhcnNlIGNvbnRleHQgcHJvdmlkZWQgdG8gcGFyc2VycyB3b3JraW5nIG9uIHRoZSBlZGl0b3IgY29udGVudC5cbiovXG5jbGFzcyBQYXJzZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8qKlxuICAgIFRyZWUgZnJhZ21lbnRzIHRoYXQgY2FuIGJlIHJldXNlZCBieSBpbmNyZW1lbnRhbCByZS1wYXJzZXMuXG4gICAgKi9cbiAgICBmcmFnbWVudHMgPSBbXSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRyZWVMZW4sIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciB2aWV3cG9ydCAob3Igc29tZSBvdmVyYXBwcm94aW1hdGlvblxuICAgIHRoZXJlb2YpLiBJbnRlbmRlZCB0byBiZSB1c2VkIGZvciBvcHBvcnR1bmlzdGljYWxseSBhdm9pZGluZ1xuICAgIHdvcmsgKGluIHdoaWNoIGNhc2VcbiAgICBbYHNraXBVbnRpbEluVmlld2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuUGFyc2VDb250ZXh0LnNraXBVbnRpbEluVmlldylcbiAgICBzaG91bGQgYmUgY2FsbGVkIHRvIG1ha2Ugc3VyZSB0aGUgcGFyc2VyIGlzIHJlc3RhcnRlZCB3aGVuIHRoZVxuICAgIHNraXBwZWQgcmVnaW9uIGJlY29tZXMgdmlzaWJsZSkuXG4gICAgKi9cbiAgICB2aWV3cG9ydCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBza2lwcGVkLCBcbiAgICAvKipcbiAgICBUaGlzIGlzIHdoZXJlIHNraXBwaW5nIHBhcnNlcnMgY2FuIHJlZ2lzdGVyIGEgcHJvbWlzZSB0aGF0LFxuICAgIHdoZW4gcmVzb2x2ZWQsIHdpbGwgc2NoZWR1bGUgYSBuZXcgcGFyc2UuIEl0IGlzIGNsZWFyZWQgd2hlblxuICAgIHRoZSBwYXJzZSB3b3JrZXIgcGlja3MgdXAgdGhlIHByb21pc2UuIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2NoZWR1bGVPbikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy50cmVlTGVuID0gdHJlZUxlbjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLnNraXBwZWQgPSBza2lwcGVkO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT24gPSBzY2hlZHVsZU9uO1xuICAgICAgICB0aGlzLnBhcnNlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBTa2lwcGVkID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShwYXJzZXIsIHN0YXRlLCB2aWV3cG9ydCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dChwYXJzZXIsIHN0YXRlLCBbXSwgVHJlZS5lbXB0eSwgMCwgdmlld3BvcnQsIFtdLCBudWxsKTtcbiAgICB9XG4gICAgc3RhcnRQYXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLnN0YXJ0UGFyc2UobmV3IERvY0lucHV0KHRoaXMuc3RhdGUuZG9jKSwgdGhpcy5mcmFnbWVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHdvcmsodW50aWwsIHVwdG8pIHtcbiAgICAgICAgaWYgKHVwdG8gIT0gbnVsbCAmJiB1cHRvID49IHRoaXMuc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHVwdG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLnRyZWUgIT0gVHJlZS5lbXB0eSAmJiB0aGlzLmlzRG9uZSh1cHRvICE9PSBudWxsICYmIHVwdG8gIT09IHZvaWQgMCA/IHVwdG8gOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnRha2VUcmVlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoQ29udGV4dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVudGlsID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kVGltZSA9IERhdGUubm93KCkgKyB1bnRpbDtcbiAgICAgICAgICAgICAgICB1bnRpbCA9ICgpID0+IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoKTtcbiAgICAgICAgICAgIGlmICh1cHRvICE9IG51bGwgJiYgKHRoaXMucGFyc2Uuc3RvcHBlZEF0ID09IG51bGwgfHwgdGhpcy5wYXJzZS5zdG9wcGVkQXQgPiB1cHRvKSAmJlxuICAgICAgICAgICAgICAgIHVwdG8gPCB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZS5zdG9wQXQodXB0byk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLnBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50cyA9IHRoaXMud2l0aG91dFRlbXBTa2lwcGVkKFRyZWVGcmFnbWVudC5hZGRUcmVlKGRvbmUsIHRoaXMuZnJhZ21lbnRzLCB0aGlzLnBhcnNlLnN0b3BwZWRBdCAhPSBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZUxlbiA9IChfYSA9IHRoaXMucGFyc2Uuc3RvcHBlZEF0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZSA9IGRvbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmVlTGVuIDwgKHVwdG8gIT09IG51bGwgJiYgdXB0byAhPT0gdm9pZCAwID8gdXB0byA6IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5zdGFydFBhcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodW50aWwoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0YWtlVHJlZSgpIHtcbiAgICAgICAgbGV0IHBvcywgdHJlZTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2UgJiYgKHBvcyA9IHRoaXMucGFyc2UucGFyc2VkUG9zKSA+PSB0aGlzLnRyZWVMZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlLnN0b3BwZWRBdCA9PSBudWxsIHx8IHRoaXMucGFyc2Uuc3RvcHBlZEF0ID4gcG9zKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgICAgICAgICB0aGlzLndpdGhDb250ZXh0KCgpID0+IHsgd2hpbGUgKCEodHJlZSA9IHRoaXMucGFyc2UuYWR2YW5jZSgpKSkgeyB9IH0pO1xuICAgICAgICAgICAgdGhpcy50cmVlTGVuID0gcG9zO1xuICAgICAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gdGhpcy53aXRob3V0VGVtcFNraXBwZWQoVHJlZUZyYWdtZW50LmFkZFRyZWUodGhpcy50cmVlLCB0aGlzLmZyYWdtZW50cywgdHJ1ZSkpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2l0aENvbnRleHQoZikge1xuICAgICAgICBsZXQgcHJldiA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZigpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpdGhvdXRUZW1wU2tpcHBlZChmcmFnbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgcjsgciA9IHRoaXMudGVtcFNraXBwZWQucG9wKCk7KVxuICAgICAgICAgICAgZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgci5mcm9tLCByLnRvKTtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjaGFuZ2VzKGNoYW5nZXMsIG5ld1N0YXRlKSB7XG4gICAgICAgIGxldCB7IGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQgfSA9IHRoaXM7XG4gICAgICAgIHRoaXMudGFrZVRyZWUoKTtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgICAgICBjaGFuZ2VzLml0ZXJDaGFuZ2VkUmFuZ2VzKChmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSA9PiByYW5nZXMucHVzaCh7IGZyb21BLCB0b0EsIGZyb21CLCB0b0IgfSkpO1xuICAgICAgICAgICAgZnJhZ21lbnRzID0gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB0cmVlID0gVHJlZS5lbXB0eTtcbiAgICAgICAgICAgIHRyZWVMZW4gPSAwO1xuICAgICAgICAgICAgdmlld3BvcnQgPSB7IGZyb206IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG86IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LnRvLCAxKSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpcHBlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnNraXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyhyLmZyb20sIDEpLCB0byA9IGNoYW5nZXMubWFwUG9zKHIudG8sIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPCB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dCh0aGlzLnBhcnNlciwgbmV3U3RhdGUsIGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQsIHRoaXMuc2NoZWR1bGVPbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdXBkYXRlVmlld3BvcnQodmlld3BvcnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZnJvbSA9PSB2aWV3cG9ydC5mcm9tICYmIHRoaXMudmlld3BvcnQudG8gPT0gdmlld3BvcnQudG8pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgbGV0IHN0YXJ0TGVuID0gdGhpcy5za2lwcGVkLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNraXBwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLnNraXBwZWRbaV07XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHZpZXdwb3J0LnRvICYmIHRvID4gdmlld3BvcnQuZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKHRoaXMuZnJhZ21lbnRzLCBmcm9tLCB0byk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwcGVkLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNraXBwZWQubGVuZ3RoID49IHN0YXJ0TGVuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5wYXJzZSkge1xuICAgICAgICAgICAgdGhpcy50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgTm90aWZ5IHRoZSBwYXJzZSBzY2hlZHVsZXIgdGhhdCB0aGUgZ2l2ZW4gcmVnaW9uIHdhcyBza2lwcGVkXG4gICAgYmVjYXVzZSBpdCB3YXNuJ3QgaW4gdmlldywgYW5kIHRoZSBwYXJzZSBzaG91bGQgYmUgcmVzdGFydGVkXG4gICAgd2hlbiBpdCBjb21lcyBpbnRvIHZpZXcuXG4gICAgKi9cbiAgICBza2lwVW50aWxJblZpZXcoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5za2lwcGVkLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhIHBhcnNlciBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIHBsYWNlaG9sZGVyIHdoZW5cbiAgICBhc3luY2hyb25vdXNseSBsb2FkaW5nIGEgbmVzdGVkIHBhcnNlci4gSXQnbGwgc2tpcCBpdHMgaW5wdXQgYW5kXG4gICAgbWFyayBpdCBhcyBub3QtcmVhbGx5LXBhcnNlZCwgc28gdGhhdCB0aGUgbmV4dCB1cGRhdGUgd2lsbCBwYXJzZVxuICAgIGl0IGFnYWluLlxuICAgIFxuICAgIFdoZW4gYHVudGlsYCBpcyBnaXZlbiwgYSByZXBhcnNlIHdpbGwgYmUgc2NoZWR1bGVkIHdoZW4gdGhhdFxuICAgIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0U2tpcHBpbmdQYXJzZXIodW50aWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1swXS5mcm9tLCB0byA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkUG9zOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN4ID0gY3VycmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gudGVtcFNraXBwZWQucHVzaChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodW50aWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LnNjaGVkdWxlT24gPSBjeC5zY2hlZHVsZU9uID8gUHJvbWlzZS5hbGwoW2N4LnNjaGVkdWxlT24sIHVudGlsXSkgOiB1bnRpbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkUG9zID0gdG87XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgW10sIFtdLCB0byAtIGZyb20pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkQXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCgpIHsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpc0RvbmUodXB0bykge1xuICAgICAgICB1cHRvID0gTWF0aC5taW4odXB0bywgdGhpcy5zdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IGZyYWdzID0gdGhpcy5mcmFnbWVudHM7XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVMZW4gPj0gdXB0byAmJiBmcmFncy5sZW5ndGggJiYgZnJhZ3NbMF0uZnJvbSA9PSAwICYmIGZyYWdzWzBdLnRvID49IHVwdG87XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgcGFyc2UsIG9yIGBudWxsYCBpZiBubyBlZGl0b3JcbiAgICBwYXJzZSBpcyBpbiBwcm9ncmVzcy5cbiAgICAqL1xuICAgIHN0YXRpYyBnZXQoKSB7IHJldHVybiBjdXJyZW50Q29udGV4dDsgfVxufVxuZnVuY3Rpb24gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgZnJvbSwgdG8pIHtcbiAgICByZXR1cm4gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIFt7IGZyb21BOiBmcm9tLCB0b0E6IHRvLCBmcm9tQjogZnJvbSwgdG9COiB0byB9XSk7XG59XG5jbGFzcyBMYW5ndWFnZVN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBBIG11dGFibGUgcGFyc2Ugc3RhdGUgdGhhdCBpcyB1c2VkIHRvIHByZXNlcnZlIHdvcmsgZG9uZSBkdXJpbmdcbiAgICAvLyB0aGUgbGlmZXRpbWUgb2YgYSBzdGF0ZSB3aGVuIG1vdmluZyB0byB0aGUgbmV4dCBzdGF0ZS5cbiAgICBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHJlZSA9IGNvbnRleHQudHJlZTtcbiAgICB9XG4gICAgYXBwbHkodHIpIHtcbiAgICAgICAgaWYgKCF0ci5kb2NDaGFuZ2VkICYmIHRoaXMudHJlZSA9PSB0aGlzLmNvbnRleHQudHJlZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgbmV3Q3ggPSB0aGlzLmNvbnRleHQuY2hhbmdlcyh0ci5jaGFuZ2VzLCB0ci5zdGF0ZSk7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBwYXJzZSB3YXNuJ3QgZG9uZSwgZ28gZm9yd2FyZCBvbmx5IHVwIHRvIGl0c1xuICAgICAgICAvLyBlbmQgcG9zaXRpb24gb3IgdGhlIGVuZCBvZiB0aGUgdmlld3BvcnQsIHRvIGF2b2lkIHNsb3dpbmcgZG93blxuICAgICAgICAvLyBzdGF0ZSB1cGRhdGVzIHdpdGggcGFyc2Ugd29yayBiZXlvbmQgdGhlIHZpZXdwb3J0LlxuICAgICAgICBsZXQgdXB0byA9IHRoaXMuY29udGV4dC50cmVlTGVuID09IHRyLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBNYXRoLm1heCh0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmNvbnRleHQudHJlZUxlbiksIG5ld0N4LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKCFuZXdDeC53b3JrKDIwIC8qIFdvcmsuQXBwbHkgKi8sIHVwdG8pKVxuICAgICAgICAgICAgbmV3Q3gudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKG5ld0N4KTtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoc3RhdGUpIHtcbiAgICAgICAgbGV0IHZwVG8gPSBNYXRoLm1pbigzMDAwIC8qIFdvcmsuSW5pdFZpZXdwb3J0ICovLCBzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IHBhcnNlU3RhdGUgPSBQYXJzZUNvbnRleHQuY3JlYXRlKHN0YXRlLmZhY2V0KGxhbmd1YWdlKS5wYXJzZXIsIHN0YXRlLCB7IGZyb206IDAsIHRvOiB2cFRvIH0pO1xuICAgICAgICBpZiAoIXBhcnNlU3RhdGUud29yaygyMCAvKiBXb3JrLkFwcGx5ICovLCB2cFRvKSlcbiAgICAgICAgICAgIHBhcnNlU3RhdGUudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKHBhcnNlU3RhdGUpO1xuICAgIH1cbn1cbkxhbmd1YWdlLnN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGU6IExhbmd1YWdlU3RhdGUuaW5pdCxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlLmlzKExhbmd1YWdlLnNldFN0YXRlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZTtcbiAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHRyLnN0YXRlLmZhY2V0KGxhbmd1YWdlKSlcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZVN0YXRlLmluaXQodHIuc3RhdGUpO1xuICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodHIpO1xuICAgIH1cbn0pO1xubGV0IHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgbGV0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKCksIDUwMCAvKiBXb3JrLk1heFBhdXNlICovKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufTtcbmlmICh0eXBlb2YgcmVxdWVzdElkbGVDYWxsYmFjayAhPSBcInVuZGVmaW5lZFwiKVxuICAgIHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGxldCBpZGxlID0gLTEsIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlkbGUgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGNhbGxiYWNrLCB7IHRpbWVvdXQ6IDUwMCAvKiBXb3JrLk1heFBhdXNlICovIC0gMTAwIC8qIFdvcmsuTWluUGF1c2UgKi8gfSk7XG4gICAgICAgIH0sIDEwMCAvKiBXb3JrLk1pblBhdXNlICovKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGlkbGUgPCAwID8gY2xlYXJUaW1lb3V0KHRpbWVvdXQpIDogY2FuY2VsSWRsZUNhbGxiYWNrKGlkbGUpO1xuICAgIH07XG5jb25zdCBpc0lucHV0UGVuZGluZyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9hID0gbmF2aWdhdG9yLnNjaGVkdWxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0lucHV0UGVuZGluZylcbiAgICA/ICgpID0+IG5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nKCkgOiBudWxsO1xuY29uc3QgcGFyc2VXb3JrZXIgPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3MgUGFyc2VXb3JrZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy53b3JraW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkID0gMDtcbiAgICAgICAgLy8gRW5kIG9mIHRoZSBjdXJyZW50IHRpbWUgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0VuZCA9IC0xO1xuICAgICAgICAvLyBNaWxsaXNlY29uZHMgb2YgYnVkZ2V0IGxlZnQgZm9yIHRoaXMgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0J1ZGdldCA9IC0xO1xuICAgICAgICB0aGlzLndvcmsgPSB0aGlzLndvcmsuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgY3ggPSB0aGlzLnZpZXcuc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpLmNvbnRleHQ7XG4gICAgICAgIGlmIChjeC51cGRhdGVWaWV3cG9ydCh1cGRhdGUudmlldy52aWV3cG9ydCkgfHwgdGhpcy52aWV3LnZpZXdwb3J0LnRvID4gY3gudHJlZUxlbilcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3Lmhhc0ZvY3VzKVxuICAgICAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgKz0gNTAgLyogV29yay5DaGFuZ2VCb251cyAqLztcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoY3gpO1xuICAgIH1cbiAgICBzY2hlZHVsZVdvcmsoKSB7XG4gICAgICAgIGlmICh0aGlzLndvcmtpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0aGlzLnZpZXcsIGZpZWxkID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpO1xuICAgICAgICBpZiAoZmllbGQudHJlZSAhPSBmaWVsZC5jb250ZXh0LnRyZWUgfHwgIWZpZWxkLmNvbnRleHQuaXNEb25lKHN0YXRlLmRvYy5sZW5ndGgpKVxuICAgICAgICAgICAgdGhpcy53b3JraW5nID0gcmVxdWVzdElkbGUodGhpcy53b3JrKTtcbiAgICB9XG4gICAgd29yayhkZWFkbGluZSkge1xuICAgICAgICB0aGlzLndvcmtpbmcgPSBudWxsO1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtFbmQgPCBub3cgJiYgKHRoaXMuY2h1bmtFbmQgPCAwIHx8IHRoaXMudmlldy5oYXNGb2N1cykpIHsgLy8gU3RhcnQgYSBuZXcgY2h1bmtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtFbmQgPSBub3cgKyAzMDAwMCAvKiBXb3JrLkNodW5rVGltZSAqLztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgPSAzMDAwIC8qIFdvcmsuQ2h1bmtCdWRnZXQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtCdWRnZXQgPD0gMClcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm8gbW9yZSBidWRnZXRcbiAgICAgICAgbGV0IHsgc3RhdGUsIHZpZXdwb3J0OiB7IHRvOiB2cFRvIH0gfSA9IHRoaXMudmlldywgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSk7XG4gICAgICAgIGlmIChmaWVsZC50cmVlID09IGZpZWxkLmNvbnRleHQudHJlZSAmJiBmaWVsZC5jb250ZXh0LmlzRG9uZSh2cFRvICsgMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBlbmRUaW1lID0gRGF0ZS5ub3coKSArIE1hdGgubWluKHRoaXMuY2h1bmtCdWRnZXQsIDEwMCAvKiBXb3JrLlNsaWNlICovLCBkZWFkbGluZSAmJiAhaXNJbnB1dFBlbmRpbmcgPyBNYXRoLm1heCgyNSAvKiBXb3JrLk1pblNsaWNlICovLCBkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgLSA1KSA6IDFlOSk7XG4gICAgICAgIGxldCB2aWV3cG9ydEZpcnN0ID0gZmllbGQuY29udGV4dC50cmVlTGVuIDwgdnBUbyAmJiBzdGF0ZS5kb2MubGVuZ3RoID4gdnBUbyArIDEwMDA7XG4gICAgICAgIGxldCBkb25lID0gZmllbGQuY29udGV4dC53b3JrKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpc0lucHV0UGVuZGluZyAmJiBpc0lucHV0UGVuZGluZygpIHx8IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICB9LCB2cFRvICsgKHZpZXdwb3J0Rmlyc3QgPyAwIDogMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpO1xuICAgICAgICB0aGlzLmNodW5rQnVkZ2V0IC09IERhdGUubm93KCkgLSBub3c7XG4gICAgICAgIGlmIChkb25lIHx8IHRoaXMuY2h1bmtCdWRnZXQgPD0gMCkge1xuICAgICAgICAgICAgZmllbGQuY29udGV4dC50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogTGFuZ3VhZ2Uuc2V0U3RhdGUub2YobmV3IExhbmd1YWdlU3RhdGUoZmllbGQuY29udGV4dCkpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNodW5rQnVkZ2V0ID4gMCAmJiAhKGRvbmUgJiYgIXZpZXdwb3J0Rmlyc3QpKVxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoZmllbGQuY29udGV4dCk7XG4gICAgfVxuICAgIGNoZWNrQXN5bmNTY2hlZHVsZShjeCkge1xuICAgICAgICBpZiAoY3guc2NoZWR1bGVPbikge1xuICAgICAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkKys7XG4gICAgICAgICAgICBjeC5zY2hlZHVsZU9uXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zY2hlZHVsZVdvcmsoKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGVycikpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy53b3JrU2NoZWR1bGVkLS0pO1xuICAgICAgICAgICAgY3guc2NoZWR1bGVPbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZylcbiAgICAgICAgICAgIHRoaXMud29ya2luZygpO1xuICAgIH1cbiAgICBpc1dvcmtpbmcoKSB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLndvcmtpbmcgfHwgdGhpcy53b3JrU2NoZWR1bGVkID4gMCk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50SGFuZGxlcnM6IHsgZm9jdXMoKSB7IHRoaXMuc2NoZWR1bGVXb3JrKCk7IH0gfVxufSk7XG4vKipcblRoZSBmYWNldCB1c2VkIHRvIGFzc29jaWF0ZSBhIGxhbmd1YWdlIHdpdGggYW4gZWRpdG9yIHN0YXRlLiBVc2VkXG5ieSBgTGFuZ3VhZ2VgIG9iamVjdCdzIGBleHRlbnNpb25gIHByb3BlcnR5IChzbyB5b3UgZG9uJ3QgbmVlZCB0b1xubWFudWFsbHkgd3JhcCB5b3VyIGxhbmd1YWdlcyBpbiB0aGlzKS4gQ2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZVxuY3VycmVudCBsYW5ndWFnZSBvbiBhIHN0YXRlLlxuKi9cbmNvbnN0IGxhbmd1YWdlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShsYW5ndWFnZXMpIHsgcmV0dXJuIGxhbmd1YWdlcy5sZW5ndGggPyBsYW5ndWFnZXNbMF0gOiBudWxsOyB9LFxuICAgIGVuYWJsZXM6IGxhbmd1YWdlID0+IFtcbiAgICAgICAgTGFuZ3VhZ2Uuc3RhdGUsXG4gICAgICAgIHBhcnNlV29ya2VyLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLmNvbXB1dGUoW2xhbmd1YWdlXSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgbGV0IGxhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSk7XG4gICAgICAgICAgICByZXR1cm4gbGFuZyAmJiBsYW5nLm5hbWUgPyB7IFwiZGF0YS1sYW5ndWFnZVwiOiBsYW5nLm5hbWUgfSA6IHt9O1xuICAgICAgICB9KVxuICAgIF1cbn0pO1xuLyoqXG5UaGlzIGNsYXNzIGJ1bmRsZXMgYSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIHdpdGggYW5cbm9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIExhbmd1YWdlIHBhY2thZ2VzIGFyZVxuZW5jb3VyYWdlZCB0byBleHBvcnQgYSBmdW5jdGlvbiB0aGF0IG9wdGlvbmFsbHkgdGFrZXMgYVxuY29uZmlndXJhdGlvbiBvYmplY3QgYW5kIHJldHVybnMgYSBgTGFuZ3VhZ2VTdXBwb3J0YCBpbnN0YW5jZSwgYXNcbnRoZSBtYWluIHdheSBmb3IgY2xpZW50IGNvZGUgdG8gdXNlIHRoZSBwYWNrYWdlLlxuKi9cbmNsYXNzIExhbmd1YWdlU3VwcG9ydCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2Ugc3VwcG9ydCBvYmplY3QuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbGFuZ3VhZ2Ugb2JqZWN0LlxuICAgICovXG4gICAgbGFuZ3VhZ2UsIFxuICAgIC8qKlxuICAgIEFuIG9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIFdoZW4gbmVzdGluZyBhXG4gICAgbGFuZ3VhZ2UgaW4gYW5vdGhlciBsYW5ndWFnZSwgdGhlIG91dGVyIGxhbmd1YWdlIGlzIGVuY291cmFnZWRcbiAgICB0byBpbmNsdWRlIHRoZSBzdXBwb3J0aW5nIGV4dGVuc2lvbnMgZm9yIGl0cyBpbm5lciBsYW5ndWFnZXNcbiAgICBpbiBpdHMgb3duIHNldCBvZiBzdXBwb3J0IGV4dGVuc2lvbnMuXG4gICAgKi9cbiAgICBzdXBwb3J0ID0gW10pIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0O1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IFtsYW5ndWFnZSwgc3VwcG9ydF07XG4gICAgfVxufVxuLyoqXG5MYW5ndWFnZSBkZXNjcmlwdGlvbnMgYXJlIHVzZWQgdG8gc3RvcmUgbWV0YWRhdGEgYWJvdXQgbGFuZ3VhZ2VzXG5hbmQgdG8gZHluYW1pY2FsbHkgbG9hZCB0aGVtLiBUaGVpciBtYWluIHJvbGUgaXMgZmluZGluZyB0aGVcbmFwcHJvcHJpYXRlIGxhbmd1YWdlIGZvciBhIGZpbGVuYW1lIG9yIGR5bmFtaWNhbGx5IGxvYWRpbmcgbmVzdGVkXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExhbmd1YWdlRGVzY3JpcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBBbHRlcm5hdGl2ZSBuYW1lcyBmb3IgdGhlIG1vZGUgKGxvd2VyY2FzZWQsIGluY2x1ZGVzIGB0aGlzLm5hbWVgKS5cbiAgICAqL1xuICAgIGFsaWFzLCBcbiAgICAvKipcbiAgICBGaWxlIGV4dGVuc2lvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBleHRlbnNpb25zLCBcbiAgICAvKipcbiAgICBPcHRpb25hbCBmaWxlbmFtZSBwYXR0ZXJuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGlzXG4gICAgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBmaWxlbmFtZSwgbG9hZEZ1bmMsIFxuICAgIC8qKlxuICAgIElmIHRoZSBsYW5ndWFnZSBoYXMgYmVlbiBsb2FkZWQsIHRoaXMgd2lsbCBob2xkIGl0cyB2YWx1ZS5cbiAgICAqL1xuICAgIHN1cHBvcnQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubG9hZEZ1bmMgPSBsb2FkRnVuYztcbiAgICAgICAgdGhpcy5zdXBwb3J0ID0gc3VwcG9ydDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgU3RhcnQgbG9hZGluZyB0aGUgdGhlIGxhbmd1YWdlLiBXaWxsIHJldHVybiBhIHByb21pc2UgdGhhdFxuICAgIHJlc29sdmVzIHRvIGEgW2BMYW5ndWFnZVN1cHBvcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlU3VwcG9ydClcbiAgICBvYmplY3Qgd2hlbiB0aGUgbGFuZ3VhZ2Ugc3VjY2Vzc2Z1bGx5IGxvYWRzLlxuICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyB8fCAodGhpcy5sb2FkaW5nID0gdGhpcy5sb2FkRnVuYygpLnRoZW4oc3VwcG9ydCA9PiB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0LCBlcnIgPT4geyB0aGlzLmxvYWRpbmcgPSBudWxsOyB0aHJvdyBlcnI7IH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2UgZGVzY3JpcHRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgb2Yoc3BlYykge1xuICAgICAgICBsZXQgeyBsb2FkLCBzdXBwb3J0IH0gPSBzcGVjO1xuICAgICAgICBpZiAoIWxvYWQpIHtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk11c3QgcGFzcyBlaXRoZXIgJ2xvYWQnIG9yICdzdXBwb3J0JyB0byBMYW5ndWFnZURlc2NyaXB0aW9uLm9mXCIpO1xuICAgICAgICAgICAgbG9hZCA9ICgpID0+IFByb21pc2UucmVzb2x2ZShzdXBwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExhbmd1YWdlRGVzY3JpcHRpb24oc3BlYy5uYW1lLCAoc3BlYy5hbGlhcyB8fCBbXSkuY29uY2F0KHNwZWMubmFtZSkubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKSwgc3BlYy5leHRlbnNpb25zIHx8IFtdLCBzcGVjLmZpbGVuYW1lLCBsb2FkLCBzdXBwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgTG9vayBmb3IgYSBsYW5ndWFnZSBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVzY3JpcHRpb25zIHRoYXRcbiAgICBtYXRjaGVzIHRoZSBmaWxlbmFtZS4gV2lsbCBmaXJzdCBtYXRjaFxuICAgIFtgZmlsZW5hbWVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZmlsZW5hbWUpIHBhdHRlcm5zLFxuICAgIGFuZCB0aGVuIFtleHRlbnNpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZXh0ZW5zaW9ucyksXG4gICAgYW5kIHJldHVybiB0aGUgZmlyc3QgbGFuZ3VhZ2UgdGhhdCBtYXRjaGVzLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoRmlsZW5hbWUoZGVzY3MsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICBpZiAoZC5maWxlbmFtZSAmJiBkLmZpbGVuYW1lLnRlc3QoZmlsZW5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBsZXQgZXh0ID0gL1xcLihbXi5dKykkLy5leGVjKGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGV4dClcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICAgICAgaWYgKGQuZXh0ZW5zaW9ucy5pbmRleE9mKGV4dFsxXSkgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBMb29rIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWUgb3IgYWxpYXMgbWF0Y2hlcyB0aGUgdGhlIGdpdmVuXG4gICAgbmFtZSAoY2FzZS1pbnNlbnNpdGl2ZWx5KS4gSWYgYGZ1enp5YCBpcyB0cnVlLCBhbmQgbm8gZGlyZWN0XG4gICAgbWF0Y2hzIGlzIGZvdW5kLCB0aGlzJ2xsIGFsc28gc2VhcmNoIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWVcbiAgICBvciBhbGlhcyBvY2N1cnMgaW4gdGhlIHN0cmluZyAoZm9yIG5hbWVzIHNob3J0ZXIgdGhhbiB0aHJlZVxuICAgIGNoYXJhY3RlcnMsIG9ubHkgd2hlbiBzdXJyb3VuZGVkIGJ5IG5vbi13b3JkIGNoYXJhY3RlcnMpLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoTGFuZ3VhZ2VOYW1lKGRlc2NzLCBuYW1lLCBmdXp6eSA9IHRydWUpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZm9yIChsZXQgZCBvZiBkZXNjcylcbiAgICAgICAgICAgIGlmIChkLmFsaWFzLnNvbWUoYSA9PiBhID09IG5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBpZiAoZnV6enkpXG4gICAgICAgICAgICBmb3IgKGxldCBkIG9mIGRlc2NzKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgZC5hbGlhcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBuYW1lLmluZGV4T2YoYSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IC0xICYmIChhLmxlbmd0aCA+IDIgfHwgIS9cXHcvLnRlc3QobmFtZVtmb3VuZCAtIDFdKSAmJiAhL1xcdy8udGVzdChuYW1lW2ZvdW5kICsgYS5sZW5ndGhdKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG5GYWNldCB0aGF0IGRlZmluZXMgYSB3YXkgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgdGhlXG5hcHByb3ByaWF0ZSBpbmRlbnRhdGlvbiBkZXB0aCwgYXMgYSBjb2x1bW4gbnVtYmVyIChzZWVcbltgaW5kZW50U3RyaW5nYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTdHJpbmcpKSwgYXQgdGhlIHN0YXJ0IG9mIGEgZ2l2ZW5cbmxpbmUuIEEgcmV0dXJuIHZhbHVlIG9mIGBudWxsYCBpbmRpY2F0ZXMgbm8gaW5kZW50YXRpb24gY2FuIGJlXG5kZXRlcm1pbmVkLCBhbmQgdGhlIGxpbmUgc2hvdWxkIGluaGVyaXQgdGhlIGluZGVudGF0aW9uIG9mIHRoZSBvbmVcbmFib3ZlIGl0LiBBIHJldHVybiB2YWx1ZSBvZiBgdW5kZWZpbmVkYCBkZWZlcnMgdG8gdGhlIG5leHQgaW5kZW50XG5zZXJ2aWNlLlxuKi9cbmNvbnN0IGluZGVudFNlcnZpY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IGZvciBvdmVycmlkaW5nIHRoZSB1bml0IGJ5IHdoaWNoIGluZGVudGF0aW9uIGhhcHBlbnMuIFNob3VsZFxuYmUgYSBzdHJpbmcgY29uc2lzdGluZyBlbnRpcmVseSBvZiB0aGUgc2FtZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbldoZW4gbm90IHNldCwgdGhpcyBkZWZhdWx0cyB0byAyIHNwYWNlcy5cbiovXG5jb25zdCBpbmRlbnRVbml0ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIFwiICBcIjtcbiAgICAgICAgbGV0IHVuaXQgPSB2YWx1ZXNbMF07XG4gICAgICAgIGlmICghdW5pdCB8fCAvXFxTLy50ZXN0KHVuaXQpIHx8IEFycmF5LmZyb20odW5pdCkuc29tZShlID0+IGUgIT0gdW5pdFswXSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGluZGVudCB1bml0OiBcIiArIEpTT04uc3RyaW5naWZ5KHZhbHVlc1swXSkpO1xuICAgICAgICByZXR1cm4gdW5pdDtcbiAgICB9XG59KTtcbi8qKlxuUmV0dXJuIHRoZSBfY29sdW1uIHdpZHRoXyBvZiBhbiBpbmRlbnQgdW5pdCBpbiB0aGUgc3RhdGUuXG5EZXRlcm1pbmVkIGJ5IHRoZSBbYGluZGVudFVuaXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpXG5mYWNldCwgYW5kIFtgdGFiU2l6ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSkgd2hlbiB0aGF0XG5jb250YWlucyB0YWJzLlxuKi9cbmZ1bmN0aW9uIGdldEluZGVudFVuaXQoc3RhdGUpIHtcbiAgICBsZXQgdW5pdCA9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpO1xuICAgIHJldHVybiB1bml0LmNoYXJDb2RlQXQoMCkgPT0gOSA/IHN0YXRlLnRhYlNpemUgKiB1bml0Lmxlbmd0aCA6IHVuaXQubGVuZ3RoO1xufVxuLyoqXG5DcmVhdGUgYW4gaW5kZW50YXRpb24gc3RyaW5nIHRoYXQgY292ZXJzIGNvbHVtbnMgMCB0byBgY29sc2AuXG5XaWxsIHVzZSB0YWJzIGZvciBhcyBtdWNoIG9mIHRoZSBjb2x1bW5zIGFzIHBvc3NpYmxlIHdoZW4gdGhlXG5bYGluZGVudFVuaXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIGZhY2V0IGNvbnRhaW5zXG50YWJzLlxuKi9cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdGF0ZSwgY29scykge1xuICAgIGxldCByZXN1bHQgPSBcIlwiLCB0cyA9IHN0YXRlLnRhYlNpemUsIGNoID0gc3RhdGUuZmFjZXQoaW5kZW50VW5pdClbMF07XG4gICAgaWYgKGNoID09IFwiXFx0XCIpIHtcbiAgICAgICAgd2hpbGUgKGNvbHMgPj0gdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcdFwiO1xuICAgICAgICAgICAgY29scyAtPSB0cztcbiAgICAgICAgfVxuICAgICAgICBjaCA9IFwiIFwiO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7IGkrKylcbiAgICAgICAgcmVzdWx0ICs9IGNoO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkdldCB0aGUgaW5kZW50YXRpb24sIGFzIGEgY29sdW1uIG51bWJlciwgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuV2lsbCBmaXJzdCBjb25zdWx0IGFueSBbaW5kZW50IHNlcnZpY2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFNlcnZpY2UpXG50aGF0IGFyZSByZWdpc3RlcmVkLCBhbmQgaWYgbm9uZSBvZiB0aG9zZSByZXR1cm4gYW4gaW5kZW50YXRpb24sXG50aGlzIHdpbGwgY2hlY2sgdGhlIHN5bnRheCB0cmVlIGZvciB0aGUgW2luZGVudCBub2RlXG5wcm9wXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudE5vZGVQcm9wKSBhbmQgdXNlIHRoYXQgaWYgZm91bmQuIFJldHVybnMgYVxubnVtYmVyIHdoZW4gYW4gaW5kZW50YXRpb24gY291bGQgYmUgZGV0ZXJtaW5lZCwgYW5kIG51bGxcbm90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBnZXRJbmRlbnRhdGlvbihjb250ZXh0LCBwb3MpIHtcbiAgICBpZiAoY29udGV4dCBpbnN0YW5jZW9mIEVkaXRvclN0YXRlKVxuICAgICAgICBjb250ZXh0ID0gbmV3IEluZGVudENvbnRleHQoY29udGV4dCk7XG4gICAgZm9yIChsZXQgc2VydmljZSBvZiBjb250ZXh0LnN0YXRlLmZhY2V0KGluZGVudFNlcnZpY2UpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzZXJ2aWNlKGNvbnRleHQsIHBvcyk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxldCB0cmVlID0gc3ludGF4VHJlZShjb250ZXh0LnN0YXRlKTtcbiAgICByZXR1cm4gdHJlZS5sZW5ndGggPj0gcG9zID8gc3ludGF4SW5kZW50YXRpb24oY29udGV4dCwgdHJlZSwgcG9zKSA6IG51bGw7XG59XG4vKipcbkNyZWF0ZSBhIGNoYW5nZSBzZXQgdGhhdCBhdXRvLWluZGVudHMgYWxsIGxpbmVzIHRvdWNoZWQgYnkgdGhlXG5naXZlbiBkb2N1bWVudCByYW5nZS5cbiovXG5mdW5jdGlvbiBpbmRlbnRSYW5nZShzdGF0ZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgdXBkYXRlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGNvbnRleHQgPSBuZXcgSW5kZW50Q29udGV4dChzdGF0ZSwgeyBvdmVycmlkZUluZGVudGF0aW9uOiBzdGFydCA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHVwZGF0ZWRbc3RhcnRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAtMTsgfSB9KTtcbiAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IGZyb207IHBvcyA8PSB0bzspIHtcbiAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIHBvcyA9IGxpbmUudG8gKyAxO1xuICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oY29udGV4dCwgbGluZS5mcm9tKTtcbiAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmICghL1xcUy8udGVzdChsaW5lLnRleHQpKVxuICAgICAgICAgICAgaW5kZW50ID0gMDtcbiAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgaWYgKGN1ciAhPSBub3JtKSB7XG4gICAgICAgICAgICB1cGRhdGVkW2xpbmUuZnJvbV0gPSBpbmRlbnQ7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZXMoY2hhbmdlcyk7XG59XG4vKipcbkluZGVudGF0aW9uIGNvbnRleHRzIGFyZSB1c2VkIHdoZW4gY2FsbGluZyBbaW5kZW50YXRpb25cbnNlcnZpY2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFNlcnZpY2UpLiBUaGV5IHByb3ZpZGUgaGVscGVyIHV0aWxpdGllc1xudXNlZnVsIGluIGluZGVudGF0aW9uIGxvZ2ljLCBhbmQgY2FuIHNlbGVjdGl2ZWx5IG92ZXJyaWRlIHRoZVxuaW5kZW50YXRpb24gcmVwb3J0ZWQgZm9yIHNvbWUgbGluZXMuXG4qL1xuY2xhc3MgSW5kZW50Q29udGV4dCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGluZGVudCBjb250ZXh0LlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMudW5pdCA9IGdldEluZGVudFVuaXQoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBkZXNjcmlwdGlvbiBvZiB0aGUgbGluZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24sIHRha2luZ1xuICAgIFtzaW11bGF0ZWQgbGluZVxuICAgIGJyZWFrc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5JbmRlbnRDb250ZXh0LmNvbnN0cnVjdG9yXm9wdGlvbnMuc2ltdWxhdGVCcmVhaylcbiAgICBpbnRvIGFjY291bnQuIElmIHRoZXJlIGlzIHN1Y2ggYSBicmVhayBhdCBgcG9zYCwgdGhlIGBiaWFzYFxuICAgIGFyZ3VtZW50IGRldGVybWluZXMgd2hldGhlciB0aGUgcGFydCBvZiB0aGUgbGluZSBsaW5lIGJlZm9yZSBvclxuICAgIGFmdGVyIHRoZSBicmVhayBpcyB1c2VkLlxuICAgICovXG4gICAgbGluZUF0KHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IHsgc2ltdWxhdGVCcmVhaywgc2ltdWxhdGVEb3VibGVCcmVhayB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoc2ltdWxhdGVCcmVhayAhPSBudWxsICYmIHNpbXVsYXRlQnJlYWsgPj0gbGluZS5mcm9tICYmIHNpbXVsYXRlQnJlYWsgPD0gbGluZS50bykge1xuICAgICAgICAgICAgaWYgKHNpbXVsYXRlRG91YmxlQnJlYWsgJiYgc2ltdWxhdGVCcmVhayA9PSBwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogXCJcIiwgZnJvbTogcG9zIH07XG4gICAgICAgICAgICBlbHNlIGlmIChiaWFzIDwgMCA/IHNpbXVsYXRlQnJlYWsgPCBwb3MgOiBzaW11bGF0ZUJyZWFrIDw9IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBsaW5lLnRleHQuc2xpY2Uoc2ltdWxhdGVCcmVhayAtIGxpbmUuZnJvbSksIGZyb206IHNpbXVsYXRlQnJlYWsgfTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBsaW5lLnRleHQuc2xpY2UoMCwgc2ltdWxhdGVCcmVhayAtIGxpbmUuZnJvbSksIGZyb206IGxpbmUuZnJvbSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHRleHQgZGlyZWN0bHkgYWZ0ZXIgYHBvc2AsIGVpdGhlciB0aGUgZW50aXJlIGxpbmVcbiAgICBvciB0aGUgbmV4dCAxMDAgY2hhcmFjdGVycywgd2hpY2hldmVyIGlzIHNob3J0ZXIuXG4gICAgKi9cbiAgICB0ZXh0QWZ0ZXJQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbXVsYXRlRG91YmxlQnJlYWsgJiYgcG9zID09IHRoaXMub3B0aW9ucy5zaW11bGF0ZUJyZWFrKVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIHJldHVybiB0ZXh0LnNsaWNlKHBvcyAtIGZyb20sIE1hdGgubWluKHRleHQubGVuZ3RoLCBwb3MgKyAxMDAgLSBmcm9tKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGNvbHVtbiBmb3IgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgY29sdW1uKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgbGV0IHsgdGV4dCwgZnJvbSB9ID0gdGhpcy5saW5lQXQocG9zLCBiaWFzKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY291bnRDb2x1bW4odGV4dCwgcG9zIC0gZnJvbSk7XG4gICAgICAgIGxldCBvdmVycmlkZSA9IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uID8gdGhpcy5vcHRpb25zLm92ZXJyaWRlSW5kZW50YXRpb24oZnJvbSkgOiAtMTtcbiAgICAgICAgaWYgKG92ZXJyaWRlID4gLTEpXG4gICAgICAgICAgICByZXN1bHQgKz0gb3ZlcnJpZGUgLSB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHRleHQuc2VhcmNoKC9cXFN8JC8pKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgY29sdW1uIHBvc2l0aW9uICh0YWtpbmcgdGFicyBpbnRvIGFjY291bnQpIG9mIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uIGluIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICBjb3VudENvbHVtbihsaW5lLCBwb3MgPSBsaW5lLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY291bnRDb2x1bW4obGluZSwgdGhpcy5zdGF0ZS50YWJTaXplLCBwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBpbmRlbnRhdGlvbiBjb2x1bW4gb2YgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHBvaW50LlxuICAgICovXG4gICAgbGluZUluZGVudChwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIGxldCBvdmVycmlkZSA9IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uO1xuICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGxldCBvdmVycmlkZW4gPSBvdmVycmlkZShmcm9tKTtcbiAgICAgICAgICAgIGlmIChvdmVycmlkZW4gPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHRleHQuc2VhcmNoKC9cXFN8JC8pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgW3NpbXVsYXRlZCBsaW5lXG4gICAgYnJlYWtdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuSW5kZW50Q29udGV4dC5jb25zdHJ1Y3Rvcl5vcHRpb25zLnNpbXVsYXRlQnJlYWspXG4gICAgZm9yIHRoaXMgY29udGV4dCwgaWYgYW55LlxuICAgICovXG4gICAgZ2V0IHNpbXVsYXRlZEJyZWFrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnNpbXVsYXRlQnJlYWsgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbkEgc3ludGF4IHRyZWUgbm9kZSBwcm9wIHVzZWQgdG8gYXNzb2NpYXRlIGluZGVudGF0aW9uIHN0cmF0ZWdpZXNcbndpdGggbm9kZSB0eXBlcy4gU3VjaCBhIHN0cmF0ZWd5IGlzIGEgZnVuY3Rpb24gZnJvbSBhbiBpbmRlbnRhdGlvblxuY29udGV4dCB0byBhIGNvbHVtbiBudW1iZXIgKHNlZSBhbHNvXG5bYGluZGVudFN0cmluZ2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50U3RyaW5nKSkgb3IgbnVsbCwgd2hlcmUgbnVsbFxuaW5kaWNhdGVzIHRoYXQgbm8gZGVmaW5pdGl2ZSBpbmRlbnRhdGlvbiBjYW4gYmUgZGV0ZXJtaW5lZC5cbiovXG5jb25zdCBpbmRlbnROb2RlUHJvcCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbi8vIENvbXB1dGUgdGhlIGluZGVudGF0aW9uIGZvciBhIGdpdmVuIHBvc2l0aW9uIGZyb20gdGhlIHN5bnRheCB0cmVlLlxuZnVuY3Rpb24gc3ludGF4SW5kZW50YXRpb24oY3gsIGFzdCwgcG9zKSB7XG4gICAgbGV0IHN0YWNrID0gYXN0LnJlc29sdmVTdGFjayhwb3MpO1xuICAgIGxldCBpbm5lciA9IGFzdC5yZXNvbHZlSW5uZXIocG9zLCAtMSkucmVzb2x2ZShwb3MsIDApLmVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcyk7XG4gICAgaWYgKGlubmVyICE9IHN0YWNrLm5vZGUpIHtcbiAgICAgICAgbGV0IGFkZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBpbm5lcjsgY3VyICYmICEoY3VyLmZyb20gPCBzdGFjay5ub2RlLmZyb20gfHwgY3VyLnRvID4gc3RhY2subm9kZS50byB8fFxuICAgICAgICAgICAgY3VyLmZyb20gPT0gc3RhY2subm9kZS5mcm9tICYmIGN1ci50eXBlID09IHN0YWNrLm5vZGUudHlwZSk7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgICAgICBhZGQucHVzaChjdXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gYWRkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgc3RhY2sgPSB7IG5vZGU6IGFkZFtpXSwgbmV4dDogc3RhY2sgfTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGVudEZvcihzdGFjaywgY3gsIHBvcyk7XG59XG5mdW5jdGlvbiBpbmRlbnRGb3Ioc3RhY2ssIGN4LCBwb3MpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBzdGFjazsgY3VyOyBjdXIgPSBjdXIubmV4dCkge1xuICAgICAgICBsZXQgc3RyYXRlZ3kgPSBpbmRlbnRTdHJhdGVneShjdXIubm9kZSk7XG4gICAgICAgIGlmIChzdHJhdGVneSlcbiAgICAgICAgICAgIHJldHVybiBzdHJhdGVneShUcmVlSW5kZW50Q29udGV4dC5jcmVhdGUoY3gsIHBvcywgY3VyKSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gaWdub3JlQ2xvc2VkKGN4KSB7XG4gICAgcmV0dXJuIGN4LnBvcyA9PSBjeC5vcHRpb25zLnNpbXVsYXRlQnJlYWsgJiYgY3gub3B0aW9ucy5zaW11bGF0ZURvdWJsZUJyZWFrO1xufVxuZnVuY3Rpb24gaW5kZW50U3RyYXRlZ3kodHJlZSkge1xuICAgIGxldCBzdHJhdGVneSA9IHRyZWUudHlwZS5wcm9wKGluZGVudE5vZGVQcm9wKTtcbiAgICBpZiAoc3RyYXRlZ3kpXG4gICAgICAgIHJldHVybiBzdHJhdGVneTtcbiAgICBsZXQgZmlyc3QgPSB0cmVlLmZpcnN0Q2hpbGQsIGNsb3NlO1xuICAgIGlmIChmaXJzdCAmJiAoY2xvc2UgPSBmaXJzdC50eXBlLnByb3AoTm9kZVByb3AuY2xvc2VkQnkpKSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRyZWUubGFzdENoaWxkLCBjbG9zZWQgPSBsYXN0ICYmIGNsb3NlLmluZGV4T2YobGFzdC5uYW1lKSA+IC0xO1xuICAgICAgICByZXR1cm4gY3ggPT4gZGVsaW1pdGVkU3RyYXRlZ3koY3gsIHRydWUsIDEsIHVuZGVmaW5lZCwgY2xvc2VkICYmICFpZ25vcmVDbG9zZWQoY3gpID8gbGFzdC5mcm9tIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWUucGFyZW50ID09IG51bGwgPyB0b3BJbmRlbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gdG9wSW5kZW50KCkgeyByZXR1cm4gMDsgfVxuLyoqXG5PYmplY3RzIG9mIHRoaXMgdHlwZSBwcm92aWRlIGNvbnRleHQgaW5mb3JtYXRpb24gYW5kIGhlbHBlclxubWV0aG9kcyB0byBpbmRlbnRhdGlvbiBmdW5jdGlvbnMgcmVnaXN0ZXJlZCBvbiBzeW50YXggbm9kZXMuXG4qL1xuY2xhc3MgVHJlZUluZGVudENvbnRleHQgZXh0ZW5kcyBJbmRlbnRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgd2hpY2ggaW5kZW50YXRpb24gaXMgYmVpbmcgY29tcHV0ZWQuXG4gICAgKi9cbiAgICBwb3MsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29udGV4dCkge1xuICAgICAgICBzdXBlcihiYXNlLnN0YXRlLCBiYXNlLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIHN5bnRheCB0cmVlIG5vZGUgdG8gd2hpY2ggdGhlIGluZGVudGF0aW9uIHN0cmF0ZWd5XG4gICAgYXBwbGllcy5cbiAgICAqL1xuICAgIGdldCBub2RlKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0Lm5vZGU7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoYmFzZSwgcG9zLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZUluZGVudENvbnRleHQoYmFzZSwgcG9zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB0ZXh0IGRpcmVjdGx5IGFmdGVyIGB0aGlzLnBvc2AsIGVpdGhlciB0aGUgZW50aXJlIGxpbmVcbiAgICBvciB0aGUgbmV4dCAxMDAgY2hhcmFjdGVycywgd2hpY2hldmVyIGlzIHNob3J0ZXIuXG4gICAgKi9cbiAgICBnZXQgdGV4dEFmdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QWZ0ZXJQb3ModGhpcy5wb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGluZGVudGF0aW9uIGF0IHRoZSByZWZlcmVuY2UgbGluZSBmb3IgYHRoaXMubm9kZWAsIHdoaWNoXG4gICAgaXMgdGhlIGxpbmUgb24gd2hpY2ggaXQgc3RhcnRzLCB1bmxlc3MgdGhlcmUgaXMgYSBub2RlIHRoYXQgaXNcbiAgICBfbm90XyBhIHBhcmVudCBvZiB0aGlzIG5vZGUgY292ZXJpbmcgdGhlIHN0YXJ0IG9mIHRoYXQgbGluZS4gSWZcbiAgICBzbywgdGhlIGxpbmUgYXQgdGhlIHN0YXJ0IG9mIHRoYXQgbm9kZSBpcyB0cmllZCwgYWdhaW4gc2tpcHBpbmdcbiAgICBvbiBpZiBpdCBpcyBjb3ZlcmVkIGJ5IGFub3RoZXIgc3VjaCBub2RlLlxuICAgICovXG4gICAgZ2V0IGJhc2VJbmRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VJbmRlbnRGb3IodGhpcy5ub2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBpbmRlbnRhdGlvbiBmb3IgdGhlIHJlZmVyZW5jZSBsaW5lIG9mIHRoZSBnaXZlbiBub2RlXG4gICAgKHNlZSBbYGJhc2VJbmRlbnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLlRyZWVJbmRlbnRDb250ZXh0LmJhc2VJbmRlbnQpKS5cbiAgICAqL1xuICAgIGJhc2VJbmRlbnRGb3Iobm9kZSkge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdChub2RlLmZyb20pO1xuICAgICAgICAvLyBTa2lwIGxpbmUgc3RhcnRzIHRoYXQgYXJlIGNvdmVyZWQgYnkgYSBzaWJsaW5nIChvciBjb3VzaW4sIGV0YylcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGF0QnJlYWsgPSBub2RlLnJlc29sdmUobGluZS5mcm9tKTtcbiAgICAgICAgICAgIHdoaWxlIChhdEJyZWFrLnBhcmVudCAmJiBhdEJyZWFrLnBhcmVudC5mcm9tID09IGF0QnJlYWsuZnJvbSlcbiAgICAgICAgICAgICAgICBhdEJyZWFrID0gYXRCcmVhay5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoaXNQYXJlbnQoYXRCcmVhaywgbm9kZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KGF0QnJlYWsuZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUluZGVudChsaW5lLmZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBDb250aW51ZSBsb29raW5nIGZvciBpbmRlbnRhdGlvbnMgaW4gdGhlIG5vZGUncyBwYXJlbnQgbm9kZXMsXG4gICAgYW5kIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoYXQuXG4gICAgKi9cbiAgICBjb250aW51ZSgpIHtcbiAgICAgICAgcmV0dXJuIGluZGVudEZvcih0aGlzLmNvbnRleHQubmV4dCwgdGhpcy5iYXNlLCB0aGlzLnBvcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQYXJlbnQocGFyZW50LCBvZikge1xuICAgIGZvciAobGV0IGN1ciA9IG9mOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgIGlmIChwYXJlbnQgPT0gY3VyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQ2hlY2sgd2hldGhlciBhIGRlbGltaXRlZCBub2RlIGlzIGFsaWduZWQgKG1lYW5pbmcgdGhlcmUgYXJlXG4vLyBub24tc2tpcHBlZCBub2RlcyBvbiB0aGUgc2FtZSBsaW5lIGFzIHRoZSBvcGVuaW5nIGRlbGltaXRlcikuIEFuZFxuLy8gaWYgc28sIHJldHVybiB0aGUgb3BlbmluZyB0b2tlbi5cbmZ1bmN0aW9uIGJyYWNrZXRlZEFsaWduZWQoY29udGV4dCkge1xuICAgIGxldCB0cmVlID0gY29udGV4dC5ub2RlO1xuICAgIGxldCBvcGVuVG9rZW4gPSB0cmVlLmNoaWxkQWZ0ZXIodHJlZS5mcm9tKSwgbGFzdCA9IHRyZWUubGFzdENoaWxkO1xuICAgIGlmICghb3BlblRva2VuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgc2ltID0gY29udGV4dC5vcHRpb25zLnNpbXVsYXRlQnJlYWs7XG4gICAgbGV0IG9wZW5MaW5lID0gY29udGV4dC5zdGF0ZS5kb2MubGluZUF0KG9wZW5Ub2tlbi5mcm9tKTtcbiAgICBsZXQgbGluZUVuZCA9IHNpbSA9PSBudWxsIHx8IHNpbSA8PSBvcGVuTGluZS5mcm9tID8gb3BlbkxpbmUudG8gOiBNYXRoLm1pbihvcGVuTGluZS50bywgc2ltKTtcbiAgICBmb3IgKGxldCBwb3MgPSBvcGVuVG9rZW4udG87Oykge1xuICAgICAgICBsZXQgbmV4dCA9IHRyZWUuY2hpbGRBZnRlcihwb3MpO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dCA9PSBsYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghbmV4dC50eXBlLmlzU2tpcHBlZCkge1xuICAgICAgICAgICAgaWYgKG5leHQuZnJvbSA+PSBsaW5lRW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IHNwYWNlID0gL14gKi8uZXhlYyhvcGVuTGluZS50ZXh0LnNsaWNlKG9wZW5Ub2tlbi50byAtIG9wZW5MaW5lLmZyb20pKVswXS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tOiBvcGVuVG9rZW4uZnJvbSwgdG86IG9wZW5Ub2tlbi50byArIHNwYWNlIH07XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gbmV4dC50bztcbiAgICB9XG59XG4vKipcbkFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IGZvciBkZWxpbWl0ZWQgKHVzdWFsbHkgYnJhY2tldGVkKSBub2Rlcy5cbldpbGwsIGJ5IGRlZmF1bHQsIGluZGVudCBvbmUgdW5pdCBtb3JlIHRoYW4gdGhlIHBhcmVudCdzIGJhc2VcbmluZGVudCB1bmxlc3MgdGhlIGxpbmUgc3RhcnRzIHdpdGggYSBjbG9zaW5nIHRva2VuLiBXaGVuIGBhbGlnbmBcbmlzIHRydWUgYW5kIHRoZXJlIGFyZSBub24tc2tpcHBlZCBub2RlcyBvbiB0aGUgbm9kZSdzIG9wZW5pbmdcbmxpbmUsIHRoZSBjb250ZW50IG9mIHRoZSBub2RlIHdpbGwgYmUgYWxpZ25lZCB3aXRoIHRoZSBlbmQgb2YgdGhlXG5vcGVuaW5nIG5vZGUsIGxpa2UgdGhpczpcblxuICAgIGZvbyhiYXIsXG4gICAgICAgIGJheilcbiovXG5mdW5jdGlvbiBkZWxpbWl0ZWRJbmRlbnQoeyBjbG9zaW5nLCBhbGlnbiA9IHRydWUsIHVuaXRzID0gMSB9KSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiBkZWxpbWl0ZWRTdHJhdGVneShjb250ZXh0LCBhbGlnbiwgdW5pdHMsIGNsb3NpbmcpO1xufVxuZnVuY3Rpb24gZGVsaW1pdGVkU3RyYXRlZ3koY29udGV4dCwgYWxpZ24sIHVuaXRzLCBjbG9zaW5nLCBjbG9zZWRBdCkge1xuICAgIGxldCBhZnRlciA9IGNvbnRleHQudGV4dEFmdGVyLCBzcGFjZSA9IGFmdGVyLm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcbiAgICBsZXQgY2xvc2VkID0gY2xvc2luZyAmJiBhZnRlci5zbGljZShzcGFjZSwgc3BhY2UgKyBjbG9zaW5nLmxlbmd0aCkgPT0gY2xvc2luZyB8fCBjbG9zZWRBdCA9PSBjb250ZXh0LnBvcyArIHNwYWNlO1xuICAgIGxldCBhbGlnbmVkID0gYWxpZ24gPyBicmFja2V0ZWRBbGlnbmVkKGNvbnRleHQpIDogbnVsbDtcbiAgICBpZiAoYWxpZ25lZClcbiAgICAgICAgcmV0dXJuIGNsb3NlZCA/IGNvbnRleHQuY29sdW1uKGFsaWduZWQuZnJvbSkgOiBjb250ZXh0LmNvbHVtbihhbGlnbmVkLnRvKTtcbiAgICByZXR1cm4gY29udGV4dC5iYXNlSW5kZW50ICsgKGNsb3NlZCA/IDAgOiBjb250ZXh0LnVuaXQgKiB1bml0cyk7XG59XG4vKipcbkFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IHRoYXQgYWxpZ25zIGEgbm9kZSdzIGNvbnRlbnQgdG8gaXRzIGJhc2VcbmluZGVudGF0aW9uLlxuKi9cbmNvbnN0IGZsYXRJbmRlbnQgPSAoY29udGV4dCkgPT4gY29udGV4dC5iYXNlSW5kZW50O1xuLyoqXG5DcmVhdGVzIGFuIGluZGVudGF0aW9uIHN0cmF0ZWd5IHRoYXQsIGJ5IGRlZmF1bHQsIGluZGVudHNcbmNvbnRpbnVlZCBsaW5lcyBvbmUgdW5pdCBtb3JlIHRoYW4gdGhlIG5vZGUncyBiYXNlIGluZGVudGF0aW9uLlxuWW91IGNhbiBwcm92aWRlIGBleGNlcHRgIHRvIHByZXZlbnQgaW5kZW50YXRpb24gb2YgbGluZXMgdGhhdFxubWF0Y2ggYSBwYXR0ZXJuIChmb3IgZXhhbXBsZSBgL15lbHNlXFxiL2AgaW4gYGlmYC9gZWxzZWBcbmNvbnN0cnVjdHMpLCBhbmQgeW91IGNhbiBjaGFuZ2UgdGhlIGFtb3VudCBvZiB1bml0cyB1c2VkIHdpdGggdGhlXG5gdW5pdHNgIG9wdGlvbi5cbiovXG5mdW5jdGlvbiBjb250aW51ZWRJbmRlbnQoeyBleGNlcHQsIHVuaXRzID0gMSB9ID0ge30pIHtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IG1hdGNoRXhjZXB0ID0gZXhjZXB0ICYmIGV4Y2VwdC50ZXN0KGNvbnRleHQudGV4dEFmdGVyKTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuYmFzZUluZGVudCArIChtYXRjaEV4Y2VwdCA/IDAgOiB1bml0cyAqIGNvbnRleHQudW5pdCk7XG4gICAgfTtcbn1cbmNvbnN0IERvbnRJbmRlbnRCZXlvbmQgPSAyMDA7XG4vKipcbkVuYWJsZXMgcmVpbmRlbnRhdGlvbiBvbiBpbnB1dC4gV2hlbiBhIGxhbmd1YWdlIGRlZmluZXMgYW5cbmBpbmRlbnRPbklucHV0YCBmaWVsZCBpbiBpdHMgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KSwgd2hpY2ggbXVzdCBob2xkIGEgcmVndWxhclxuZXhwcmVzc2lvbiwgdGhlIGxpbmUgYXQgdGhlIGN1cnNvciB3aWxsIGJlIHJlaW5kZW50ZWQgd2hlbmV2ZXIgbmV3XG50ZXh0IGlzIHR5cGVkIGFuZCB0aGUgaW5wdXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGxpbmUgdXAgdG8gdGhlXG5jdXJzb3IgbWF0Y2hlcyB0aGF0IHJlZ2V4cC5cblxuVG8gYXZvaWQgdW5uZWNjZXNhcnkgcmVpbmRlbnRzLCBpdCBpcyByZWNvbW1lbmRlZCB0byBzdGFydCB0aGVcbnJlZ2V4cCB3aXRoIGBeYCAodXN1YWxseSBmb2xsb3dlZCBieSBgXFxzKmApLCBhbmQgZW5kIGl0IHdpdGggYCRgLlxuRm9yIGV4YW1wbGUsIGAvXlxccypcXH0kL2Agd2lsbCByZWluZGVudCB3aGVuIGEgY2xvc2luZyBicmFjZSBpc1xuYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIGEgbGluZS5cbiovXG5mdW5jdGlvbiBpbmRlbnRPbklucHV0KCkge1xuICAgIHJldHVybiBFZGl0b3JTdGF0ZS50cmFuc2FjdGlvbkZpbHRlci5vZih0ciA9PiB7XG4gICAgICAgIGlmICghdHIuZG9jQ2hhbmdlZCB8fCAhdHIuaXNVc2VyRXZlbnQoXCJpbnB1dC50eXBlXCIpICYmICF0ci5pc1VzZXJFdmVudChcImlucHV0LmNvbXBsZXRlXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICBsZXQgcnVsZXMgPSB0ci5zdGFydFN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiaW5kZW50T25JbnB1dFwiLCB0ci5zdGFydFN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgICAgICBpZiAoIXJ1bGVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IGRvYyA9IHRyLm5ld0RvYywgeyBoZWFkIH0gPSB0ci5uZXdTZWxlY3Rpb24ubWFpbiwgbGluZSA9IGRvYy5saW5lQXQoaGVhZCk7XG4gICAgICAgIGlmIChoZWFkID4gbGluZS5mcm9tICsgRG9udEluZGVudEJleW9uZClcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IGxpbmVTdGFydCA9IGRvYy5zbGljZVN0cmluZyhsaW5lLmZyb20sIGhlYWQpO1xuICAgICAgICBpZiAoIXJ1bGVzLnNvbWUociA9PiByLnRlc3QobGluZVN0YXJ0KSkpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0ciwgbGFzdCA9IC0xLCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgaGVhZCB9IG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChoZWFkKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPT0gbGFzdClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxhc3QgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oc3RhdGUsIGxpbmUuZnJvbSk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ID09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgY3VyID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF07XG4gICAgICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgICAgIGlmIChjdXIgIT0gbm9ybSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID8gW3RyLCB7IGNoYW5nZXMsIHNlcXVlbnRpYWw6IHRydWUgfV0gOiB0cjtcbiAgICB9KTtcbn1cblxuLyoqXG5BIGZhY2V0IHRoYXQgcmVnaXN0ZXJzIGEgY29kZSBmb2xkaW5nIHNlcnZpY2UuIFdoZW4gY2FsbGVkIHdpdGhcbnRoZSBleHRlbnQgb2YgYSBsaW5lLCBzdWNoIGEgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIGZvbGRhYmxlXG5yYW5nZSB0aGF0IHN0YXJ0cyBvbiB0aGF0IGxpbmUgKGJ1dCBjb250aW51ZXMgYmV5b25kIGl0KSwgaWYgb25lXG5jYW4gYmUgZm91bmQuXG4qL1xuY29uc3QgZm9sZFNlcnZpY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcblRoaXMgbm9kZSBwcm9wIGlzIHVzZWQgdG8gYXNzb2NpYXRlIGZvbGRpbmcgaW5mb3JtYXRpb24gd2l0aFxuc3ludGF4IG5vZGUgdHlwZXMuIEdpdmVuIGEgc3ludGF4IG5vZGUsIGl0IHNob3VsZCBjaGVjayB3aGV0aGVyXG50aGF0IHRyZWUgaXMgZm9sZGFibGUgYW5kIHJldHVybiB0aGUgcmFuZ2UgdGhhdCBjYW4gYmUgY29sbGFwc2VkXG53aGVuIGl0IGlzLlxuKi9cbmNvbnN0IGZvbGROb2RlUHJvcCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbi8qKlxuW0ZvbGRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZE5vZGVQcm9wKSBmdW5jdGlvbiB0aGF0IGZvbGRzIGV2ZXJ5dGhpbmcgYnV0XG50aGUgZmlyc3QgYW5kIHRoZSBsYXN0IGNoaWxkIG9mIGEgc3ludGF4IG5vZGUuIFVzZWZ1bCBmb3Igbm9kZXNcbnRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIGRlbGltaXRlcnMuXG4qL1xuZnVuY3Rpb24gZm9sZEluc2lkZShub2RlKSB7XG4gICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkLCBsYXN0ID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgcmV0dXJuIGZpcnN0ICYmIGZpcnN0LnRvIDwgbGFzdC5mcm9tID8geyBmcm9tOiBmaXJzdC50bywgdG86IGxhc3QudHlwZS5pc0Vycm9yID8gbm9kZS50byA6IGxhc3QuZnJvbSB9IDogbnVsbDtcbn1cbmZ1bmN0aW9uIHN5bnRheEZvbGRpbmcoc3RhdGUsIHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoc3RhdGUpO1xuICAgIGlmICh0cmVlLmxlbmd0aCA8IGVuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHN0YWNrID0gdHJlZS5yZXNvbHZlU3RhY2soZW5kLCAxKTtcbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIGZvciAobGV0IGl0ZXIgPSBzdGFjazsgaXRlcjsgaXRlciA9IGl0ZXIubmV4dCkge1xuICAgICAgICBsZXQgY3VyID0gaXRlci5ub2RlO1xuICAgICAgICBpZiAoY3VyLnRvIDw9IGVuZCB8fCBjdXIuZnJvbSA+IGVuZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoZm91bmQgJiYgY3VyLmZyb20gPCBzdGFydClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsZXQgcHJvcCA9IGN1ci50eXBlLnByb3AoZm9sZE5vZGVQcm9wKTtcbiAgICAgICAgaWYgKHByb3AgJiYgKGN1ci50byA8IHRyZWUubGVuZ3RoIC0gNTAgfHwgdHJlZS5sZW5ndGggPT0gc3RhdGUuZG9jLmxlbmd0aCB8fCAhaXNVbmZpbmlzaGVkKGN1cikpKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBwcm9wKGN1ciwgc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmZyb20gPD0gZW5kICYmIHZhbHVlLmZyb20gPj0gc3RhcnQgJiYgdmFsdWUudG8gPiBlbmQpXG4gICAgICAgICAgICAgICAgZm91bmQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBpc1VuZmluaXNoZWQobm9kZSkge1xuICAgIGxldCBjaCA9IG5vZGUubGFzdENoaWxkO1xuICAgIHJldHVybiBjaCAmJiBjaC50byA9PSBub2RlLnRvICYmIGNoLnR5cGUuaXNFcnJvcjtcbn1cbi8qKlxuQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gbGluZSBpcyBmb2xkYWJsZS4gRmlyc3QgYXNrcyBhbnkgZm9sZFxuc2VydmljZXMgcmVnaXN0ZXJlZCB0aHJvdWdoXG5bYGZvbGRTZXJ2aWNlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkU2VydmljZSksIGFuZCBpZiBub25lIG9mIHRoZW0gcmV0dXJuXG5hIHJlc3VsdCwgdHJpZXMgdG8gcXVlcnkgdGhlIFtmb2xkIG5vZGVcbnByb3BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZE5vZGVQcm9wKSBvZiBzeW50YXggbm9kZXMgdGhhdCBjb3ZlciB0aGUgZW5kXG5vZiB0aGUgbGluZS5cbiovXG5mdW5jdGlvbiBmb2xkYWJsZShzdGF0ZSwgbGluZVN0YXJ0LCBsaW5lRW5kKSB7XG4gICAgZm9yIChsZXQgc2VydmljZSBvZiBzdGF0ZS5mYWNldChmb2xkU2VydmljZSkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNlcnZpY2Uoc3RhdGUsIGxpbmVTdGFydCwgbGluZUVuZCk7XG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gc3ludGF4Rm9sZGluZyhzdGF0ZSwgbGluZVN0YXJ0LCBsaW5lRW5kKTtcbn1cbmZ1bmN0aW9uIG1hcFJhbmdlKHJhbmdlLCBtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFBvcyhyYW5nZS5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFBvcyhyYW5nZS50bywgLTEpO1xuICAgIHJldHVybiBmcm9tID49IHRvID8gdW5kZWZpbmVkIDogeyBmcm9tLCB0byB9O1xufVxuLyoqXG5TdGF0ZSBlZmZlY3QgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYSB0cmFuc2FjdGlvbiB0byBmb2xkIHRoZVxuZ2l2ZW4gcmFuZ2UuIChZb3UgcHJvYmFibHkgb25seSBuZWVkIHRoaXMgaW4gZXhjZXB0aW9uYWxcbmNpcmN1bXN0YW5jZXNcdTIwMTR1c3VhbGx5IHlvdSdsbCBqdXN0IHdhbnQgdG8gbGV0XG5bYGZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkQ29kZSkgYW5kIHRoZSBbZm9sZFxuZ3V0dGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRHdXR0ZXIpIGNyZWF0ZSB0aGUgdHJhbnNhY3Rpb25zLilcbiovXG5jb25zdCBmb2xkRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7IG1hcDogbWFwUmFuZ2UgfSk7XG4vKipcblN0YXRlIGVmZmVjdCB0aGF0IHVuZm9sZHMgdGhlIGdpdmVuIHJhbmdlIChpZiBpdCB3YXMgZm9sZGVkKS5cbiovXG5jb25zdCB1bmZvbGRFZmZlY3QgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHsgbWFwOiBtYXBSYW5nZSB9KTtcbmZ1bmN0aW9uIHNlbGVjdGVkTGluZXModmlldykge1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGZvciAobGV0IHsgaGVhZCB9IG9mIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBpZiAobGluZXMuc29tZShsID0+IGwuZnJvbSA8PSBoZWFkICYmIGwudG8gPj0gaGVhZCkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgbGluZXMucHVzaCh2aWV3LmxpbmVCbG9ja0F0KGhlYWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xufVxuLyoqXG5UaGUgc3RhdGUgZmllbGQgdGhhdCBzdG9yZXMgdGhlIGZvbGRlZCByYW5nZXMgKGFzIGEgW2RlY29yYXRpb25cbnNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25TZXQpKS4gQ2FuIGJlIHBhc3NlZCB0b1xuW2BFZGl0b3JTdGF0ZS50b0pTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnRvSlNPTikgYW5kXG5bYGZyb21KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5mcm9tSlNPTikgdG8gc2VyaWFsaXplIHRoZSBmb2xkXG5zdGF0ZS5cbiovXG5jb25zdCBmb2xkU3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICB9LFxuICAgIHVwZGF0ZShmb2xkZWQsIHRyKSB7XG4gICAgICAgIGZvbGRlZCA9IGZvbGRlZC5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgaWYgKGUuaXMoZm9sZEVmZmVjdCkgJiYgIWZvbGRFeGlzdHMoZm9sZGVkLCBlLnZhbHVlLmZyb20sIGUudmFsdWUudG8pKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgcHJlcGFyZVBsYWNlaG9sZGVyIH0gPSB0ci5zdGF0ZS5mYWNldChmb2xkQ29uZmlnKTtcbiAgICAgICAgICAgICAgICBsZXQgd2lkZ2V0ID0gIXByZXBhcmVQbGFjZWhvbGRlciA/IGZvbGRXaWRnZXQgOlxuICAgICAgICAgICAgICAgICAgICBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBQcmVwYXJlZEZvbGRXaWRnZXQocHJlcGFyZVBsYWNlaG9sZGVyKHRyLnN0YXRlLCBlLnZhbHVlKSkgfSk7XG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7IGFkZDogW3dpZGdldC5yYW5nZShlLnZhbHVlLmZyb20sIGUudmFsdWUudG8pXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUuaXModW5mb2xkRWZmZWN0KSkge1xuICAgICAgICAgICAgICAgIGZvbGRlZCA9IGZvbGRlZC51cGRhdGUoeyBmaWx0ZXI6IChmcm9tLCB0bykgPT4gZS52YWx1ZS5mcm9tICE9IGZyb20gfHwgZS52YWx1ZS50byAhPSB0byxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJvbTogZS52YWx1ZS5mcm9tLCBmaWx0ZXJUbzogZS52YWx1ZS50byB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciBmb2xkZWQgcmFuZ2VzIHRoYXQgY292ZXIgdGhlIHNlbGVjdGlvbiBoZWFkXG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGxldCBvblNlbGVjdGlvbiA9IGZhbHNlLCB7IGhlYWQgfSA9IHRyLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICAgICAgZm9sZGVkLmJldHdlZW4oaGVhZCwgaGVhZCwgKGEsIGIpID0+IHsgaWYgKGEgPCBoZWFkICYmIGIgPiBoZWFkKVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uID0gdHJ1ZTsgfSk7XG4gICAgICAgICAgICBpZiAob25TZWxlY3Rpb24pXG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckZyb206IGhlYWQsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRvOiBoZWFkLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IChhLCBiKSA9PiBiIDw9IGhlYWQgfHwgYSA+PSBoZWFkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbGRlZDtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5mcm9tKGYpLFxuICAgIHRvSlNPTihmb2xkZWQsIHN0YXRlKSB7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9sZGVkLmJldHdlZW4oMCwgc3RhdGUuZG9jLmxlbmd0aCwgKGZyb20sIHRvKSA9PiB7IHJhbmdlcy5wdXNoKGZyb20sIHRvKTsgfSk7XG4gICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgfSxcbiAgICBmcm9tSlNPTih2YWx1ZSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCAlIDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiBmb3IgZm9sZCBzdGF0ZVwiKTtcbiAgICAgICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gdmFsdWVbaSsrXSwgdG8gPSB2YWx1ZVtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIHRvICE9IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gZm9yIGZvbGQgc3RhdGVcIik7XG4gICAgICAgICAgICByYW5nZXMucHVzaChmb2xkV2lkZ2V0LnJhbmdlKGZyb20sIHRvKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KHJhbmdlcywgdHJ1ZSk7XG4gICAgfVxufSk7XG4vKipcbkdldCBhIFtyYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQpIGNvbnRhaW5pbmcgdGhlIGZvbGRlZCByYW5nZXNcbmluIHRoZSBnaXZlbiBzdGF0ZS5cbiovXG5mdW5jdGlvbiBmb2xkZWRSYW5nZXMoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgfHwgUmFuZ2VTZXQuZW1wdHk7XG59XG5mdW5jdGlvbiBmaW5kRm9sZChzdGF0ZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICAoX2EgPSBzdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJldHdlZW4oZnJvbSwgdG8sIChmcm9tLCB0bykgPT4ge1xuICAgICAgICBpZiAoIWZvdW5kIHx8IGZvdW5kLmZyb20gPiBmcm9tKVxuICAgICAgICAgICAgZm91bmQgPSB7IGZyb20sIHRvIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZnVuY3Rpb24gZm9sZEV4aXN0cyhmb2xkZWQsIGZyb20sIHRvKSB7XG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgZm9sZGVkLmJldHdlZW4oZnJvbSwgZnJvbSwgKGEsIGIpID0+IHsgaWYgKGEgPT0gZnJvbSAmJiBiID09IHRvKVxuICAgICAgICBmb3VuZCA9IHRydWU7IH0pO1xuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIG1heWJlRW5hYmxlKHN0YXRlLCBvdGhlcikge1xuICAgIHJldHVybiBzdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSA/IG90aGVyIDogb3RoZXIuY29uY2F0KFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZy5vZihjb2RlRm9sZGluZygpKSk7XG59XG4vKipcbkZvbGQgdGhlIGxpbmVzIHRoYXQgYXJlIHNlbGVjdGVkLCBpZiBwb3NzaWJsZS5cbiovXG5jb25zdCBmb2xkQ29kZSA9IHZpZXcgPT4ge1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgcmFuZ2UgPSBmb2xkYWJsZSh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pO1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBtYXliZUVuYWJsZSh2aWV3LnN0YXRlLCBbZm9sZEVmZmVjdC5vZihyYW5nZSksIGFubm91bmNlRm9sZCh2aWV3LCByYW5nZSldKSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4vKipcblVuZm9sZCBmb2xkZWQgcmFuZ2VzIG9uIHNlbGVjdGVkIGxpbmVzLlxuKi9cbmNvbnN0IHVuZm9sZENvZGUgPSB2aWV3ID0+IHtcbiAgICBpZiAoIXZpZXcuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZClcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaCh1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSwgYW5ub3VuY2VGb2xkKHZpZXcsIGZvbGRlZCwgZmFsc2UpKTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0cyB9KTtcbiAgICByZXR1cm4gZWZmZWN0cy5sZW5ndGggPiAwO1xufTtcbmZ1bmN0aW9uIGFubm91bmNlRm9sZCh2aWV3LCByYW5nZSwgZm9sZCA9IHRydWUpIHtcbiAgICBsZXQgbGluZUZyb20gPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocmFuZ2UuZnJvbSkubnVtYmVyLCBsaW5lVG8gPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocmFuZ2UudG8pLm51bWJlcjtcbiAgICByZXR1cm4gRWRpdG9yVmlldy5hbm5vdW5jZS5vZihgJHt2aWV3LnN0YXRlLnBocmFzZShmb2xkID8gXCJGb2xkZWQgbGluZXNcIiA6IFwiVW5mb2xkZWQgbGluZXNcIil9ICR7bGluZUZyb219ICR7dmlldy5zdGF0ZS5waHJhc2UoXCJ0b1wiKX0gJHtsaW5lVG99LmApO1xufVxuLyoqXG5Gb2xkIGFsbCB0b3AtbGV2ZWwgZm9sZGFibGUgcmFuZ2VzLiBOb3RlIHRoYXQsIGluIG1vc3QgY2FzZXMsXG5mb2xkaW5nIGluZm9ybWF0aW9uIHdpbGwgZGVwZW5kIG9uIHRoZSBbc3ludGF4XG50cmVlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFRyZWUpLCBhbmQgZm9sZGluZyBldmVyeXRoaW5nIG1heSBub3Qgd29ya1xucmVsaWFibHkgd2hlbiB0aGUgZG9jdW1lbnQgaGFzbid0IGJlZW4gZnVsbHkgcGFyc2VkIChlaXRoZXJcbmJlY2F1c2UgdGhlIGVkaXRvciBzdGF0ZSB3YXMgb25seSBqdXN0IGluaXRpYWxpemVkLCBvciBiZWNhdXNlIHRoZVxuZG9jdW1lbnQgaXMgc28gYmlnIHRoYXQgdGhlIHBhcnNlciBkZWNpZGVkIG5vdCB0byBwYXJzZSBpdFxuZW50aXJlbHkpLlxuKi9cbmNvbnN0IGZvbGRBbGwgPSB2aWV3ID0+IHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHN0YXRlLmRvYy5sZW5ndGg7KSB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChwb3MpLCByYW5nZSA9IGZvbGRhYmxlKHN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pO1xuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICBlZmZlY3RzLnB1c2goZm9sZEVmZmVjdC5vZihyYW5nZSkpO1xuICAgICAgICBwb3MgPSAocmFuZ2UgPyB2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLnRvKSA6IGxpbmUpLnRvICsgMTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogbWF5YmVFbmFibGUodmlldy5zdGF0ZSwgZWZmZWN0cykgfSk7XG4gICAgcmV0dXJuICEhZWZmZWN0cy5sZW5ndGg7XG59O1xuLyoqXG5VbmZvbGQgYWxsIGZvbGRlZCBjb2RlLlxuKi9cbmNvbnN0IHVuZm9sZEFsbCA9IHZpZXcgPT4ge1xuICAgIGxldCBmaWVsZCA9IHZpZXcuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFmaWVsZCB8fCAhZmllbGQuc2l6ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlZmZlY3RzID0gW107XG4gICAgZmllbGQuYmV0d2VlbigwLCB2aWV3LnN0YXRlLmRvYy5sZW5ndGgsIChmcm9tLCB0bykgPT4geyBlZmZlY3RzLnB1c2godW5mb2xkRWZmZWN0Lm9mKHsgZnJvbSwgdG8gfSkpOyB9KTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0cyB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyBGaW5kIHRoZSBmb2xkYWJsZSByZWdpb24gY29udGFpbmluZyB0aGUgZ2l2ZW4gbGluZSwgaWYgb25lIGV4aXN0c1xuZnVuY3Rpb24gZm9sZGFibGVDb250YWluZXIodmlldywgbGluZUJsb2NrKSB7XG4gICAgLy8gTG9vayBiYWNrd2FyZHMgdGhyb3VnaCBsaW5lIGJsb2NrcyB1bnRpbCB3ZSBmaW5kIGEgZm9sZGFibGUgcmVnaW9uIHRoYXRcbiAgICAvLyBpbnRlcnNlY3RzIHdpdGggdGhlIGxpbmVcbiAgICBmb3IgKGxldCBsaW5lID0gbGluZUJsb2NrOzspIHtcbiAgICAgICAgbGV0IGZvbGRhYmxlUmVnaW9uID0gZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRhYmxlUmVnaW9uICYmIGZvbGRhYmxlUmVnaW9uLnRvID4gbGluZUJsb2NrLmZyb20pXG4gICAgICAgICAgICByZXR1cm4gZm9sZGFibGVSZWdpb247XG4gICAgICAgIGlmICghbGluZS5mcm9tKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KGxpbmUuZnJvbSAtIDEpO1xuICAgIH1cbn1cbi8qKlxuVG9nZ2xlIGZvbGRpbmcgYXQgY3Vyc29ycy4gVW5mb2xkcyBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBmb2xkXG5zdGFydGluZyBpbiB0aGF0IGxpbmUsIHRyaWVzIHRvIGZpbmQgYSBmb2xkYWJsZSByYW5nZSBhcm91bmQgaXRcbm90aGVyd2lzZS5cbiovXG5jb25zdCB0b2dnbGVGb2xkID0gKHZpZXcpID0+IHtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IGxpbmUgb2Ygc2VsZWN0ZWRMaW5lcyh2aWV3KSkge1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZCkge1xuICAgICAgICAgICAgZWZmZWN0cy5wdXNoKHVuZm9sZEVmZmVjdC5vZihmb2xkZWQpLCBhbm5vdW5jZUZvbGQodmlldywgZm9sZGVkLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZvbGRSYW5nZSA9IGZvbGRhYmxlQ29udGFpbmVyKHZpZXcsIGxpbmUpO1xuICAgICAgICAgICAgaWYgKGZvbGRSYW5nZSlcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goZm9sZEVmZmVjdC5vZihmb2xkUmFuZ2UpLCBhbm5vdW5jZUZvbGQodmlldywgZm9sZFJhbmdlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVmZmVjdHMubGVuZ3RoID4gMClcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IG1heWJlRW5hYmxlKHZpZXcuc3RhdGUsIGVmZmVjdHMpIH0pO1xuICAgIHJldHVybiAhIWVmZmVjdHMubGVuZ3RoO1xufTtcbi8qKlxuRGVmYXVsdCBmb2xkLXJlbGF0ZWQga2V5IGJpbmRpbmdzLlxuXG4gLSBDdHJsLVNoaWZ0LVsgKENtZC1BbHQtWyBvbiBtYWNPUyk6IFtgZm9sZENvZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRDb2RlKS5cbiAtIEN0cmwtU2hpZnQtXSAoQ21kLUFsdC1dIG9uIG1hY09TKTogW2B1bmZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS51bmZvbGRDb2RlKS5cbiAtIEN0cmwtQWx0LVs6IFtgZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZEFsbCkuXG4gLSBDdHJsLUFsdC1dOiBbYHVuZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UudW5mb2xkQWxsKS5cbiovXG5jb25zdCBmb2xkS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtU2hpZnQtW1wiLCBtYWM6IFwiQ21kLUFsdC1bXCIsIHJ1bjogZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLVNoaWZ0LV1cIiwgbWFjOiBcIkNtZC1BbHQtXVwiLCBydW46IHVuZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1bXCIsIHJ1bjogZm9sZEFsbCB9LFxuICAgIHsga2V5OiBcIkN0cmwtQWx0LV1cIiwgcnVuOiB1bmZvbGRBbGwgfVxuXTtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgcGxhY2Vob2xkZXJET006IG51bGwsXG4gICAgcHJlcGFyZVBsYWNlaG9sZGVyOiBudWxsLFxuICAgIHBsYWNlaG9sZGVyVGV4dDogXCJcdTIwMjZcIlxufTtcbmNvbnN0IGZvbGRDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKHZhbHVlcykgeyByZXR1cm4gY29tYmluZUNvbmZpZyh2YWx1ZXMsIGRlZmF1bHRDb25maWcpOyB9XG59KTtcbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGNvbmZpZ3VyZXMgY29kZSBmb2xkaW5nLlxuKi9cbmZ1bmN0aW9uIGNvZGVGb2xkaW5nKGNvbmZpZykge1xuICAgIGxldCByZXN1bHQgPSBbZm9sZFN0YXRlLCBiYXNlVGhlbWUkMV07XG4gICAgaWYgKGNvbmZpZylcbiAgICAgICAgcmVzdWx0LnB1c2goZm9sZENvbmZpZy5vZihjb25maWcpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gd2lkZ2V0VG9ET00odmlldywgcHJlcGFyZWQpIHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY29uZiA9IHN0YXRlLmZhY2V0KGZvbGRDb25maWcpO1xuICAgIGxldCBvbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdCh2aWV3LnBvc0F0RE9NKGV2ZW50LnRhcmdldCkpO1xuICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKGZvbGRlZClcbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSB9KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIGlmIChjb25mLnBsYWNlaG9sZGVyRE9NKVxuICAgICAgICByZXR1cm4gY29uZi5wbGFjZWhvbGRlckRPTSh2aWV3LCBvbmNsaWNrLCBwcmVwYXJlZCk7XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gY29uZi5wbGFjZWhvbGRlclRleHQ7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHN0YXRlLnBocmFzZShcImZvbGRlZCBjb2RlXCIpKTtcbiAgICBlbGVtZW50LnRpdGxlID0gc3RhdGUucGhyYXNlKFwidW5mb2xkXCIpO1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJjbS1mb2xkUGxhY2Vob2xkZXJcIjtcbiAgICBlbGVtZW50Lm9uY2xpY2sgPSBvbmNsaWNrO1xuICAgIHJldHVybiBlbGVtZW50O1xufVxuY29uc3QgZm9sZFdpZGdldCA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IC8qQF9fUFVSRV9fKi9uZXcgY2xhc3MgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICAgICAgdG9ET00odmlldykgeyByZXR1cm4gd2lkZ2V0VG9ET00odmlldywgbnVsbCk7IH1cbiAgICB9IH0pO1xuY2xhc3MgUHJlcGFyZWRGb2xkV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy52YWx1ZSA9PSBvdGhlci52YWx1ZTsgfVxuICAgIHRvRE9NKHZpZXcpIHsgcmV0dXJuIHdpZGdldFRvRE9NKHZpZXcsIHRoaXMudmFsdWUpOyB9XG59XG5jb25zdCBmb2xkR3V0dGVyRGVmYXVsdHMgPSB7XG4gICAgb3BlblRleHQ6IFwiXHUyMzA0XCIsXG4gICAgY2xvc2VkVGV4dDogXCJcdTIwM0FcIixcbiAgICBtYXJrZXJET006IG51bGwsXG4gICAgZG9tRXZlbnRIYW5kbGVyczoge30sXG4gICAgZm9sZGluZ0NoYW5nZWQ6ICgpID0+IGZhbHNlXG59O1xuY2xhc3MgRm9sZE1hcmtlciBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBvcGVuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy5jb25maWcgPT0gb3RoZXIuY29uZmlnICYmIHRoaXMub3BlbiA9PSBvdGhlci5vcGVuOyB9XG4gICAgdG9ET00odmlldykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubWFya2VyRE9NKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1hcmtlckRPTSh0aGlzLm9wZW4pO1xuICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdGhpcy5vcGVuID8gdGhpcy5jb25maWcub3BlblRleHQgOiB0aGlzLmNvbmZpZy5jbG9zZWRUZXh0O1xuICAgICAgICBzcGFuLnRpdGxlID0gdmlldy5zdGF0ZS5waHJhc2UodGhpcy5vcGVuID8gXCJGb2xkIGxpbmVcIiA6IFwiVW5mb2xkIGxpbmVcIik7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IHJlZ2lzdGVycyBhIGZvbGQgZ3V0dGVyLCB3aGljaCBzaG93cyBhXG5mb2xkIHN0YXR1cyBpbmRpY2F0b3IgYmVmb3JlIGZvbGRhYmxlIGxpbmVzICh3aGljaCBjYW4gYmUgY2xpY2tlZFxudG8gZm9sZCBvciB1bmZvbGQgdGhlIGxpbmUpLlxuKi9cbmZ1bmN0aW9uIGZvbGRHdXR0ZXIoY29uZmlnID0ge30pIHtcbiAgICBsZXQgZnVsbENvbmZpZyA9IHsgLi4uZm9sZEd1dHRlckRlZmF1bHRzLCAuLi5jb25maWcgfTtcbiAgICBsZXQgY2FuRm9sZCA9IG5ldyBGb2xkTWFya2VyKGZ1bGxDb25maWcsIHRydWUpLCBjYW5VbmZvbGQgPSBuZXcgRm9sZE1hcmtlcihmdWxsQ29uZmlnLCBmYWxzZSk7XG4gICAgbGV0IG1hcmtlcnMgPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbSA9IHZpZXcudmlld3BvcnQuZnJvbTtcbiAgICAgICAgICAgIHRoaXMubWFya2VycyA9IHRoaXMuYnVpbGRNYXJrZXJzKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsYW5ndWFnZSkgfHxcbiAgICAgICAgICAgICAgICB1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSAhPSB1cGRhdGUuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICBzeW50YXhUcmVlKHVwZGF0ZS5zdGFydFN0YXRlKSAhPSBzeW50YXhUcmVlKHVwZGF0ZS5zdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICBmdWxsQ29uZmlnLmZvbGRpbmdDaGFuZ2VkKHVwZGF0ZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzID0gdGhpcy5idWlsZE1hcmtlcnModXBkYXRlLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkTWFya2Vycyh2aWV3KSB7XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGxpbmUgb2Ygdmlldy52aWV3cG9ydExpbmVCbG9ja3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFyayA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50bykgPyBjYW5VbmZvbGRcbiAgICAgICAgICAgICAgICAgICAgOiBmb2xkYWJsZSh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pID8gY2FuRm9sZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmspXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYWRkKGxpbmUuZnJvbSwgbGluZS5mcm9tLCBtYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHsgZG9tRXZlbnRIYW5kbGVycyB9ID0gZnVsbENvbmZpZztcbiAgICByZXR1cm4gW1xuICAgICAgICBtYXJrZXJzLFxuICAgICAgICBndXR0ZXIoe1xuICAgICAgICAgICAgY2xhc3M6IFwiY20tZm9sZEd1dHRlclwiLFxuICAgICAgICAgICAgbWFya2Vycyh2aWV3KSB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSB2aWV3LnBsdWdpbihtYXJrZXJzKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcmtlcnMpIHx8IFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZvbGRNYXJrZXIoZnVsbENvbmZpZywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvbUV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICAgICAgICAuLi5kb21FdmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgICAgIGNsaWNrOiAodmlldywgbGluZSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbUV2ZW50SGFuZGxlcnMuY2xpY2sgJiYgZG9tRXZlbnRIYW5kbGVycy5jbGljayh2aWV3LCBsaW5lLCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGRlZCA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGZvbGRhYmxlKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGZvbGRFZmZlY3Qub2YocmFuZ2UpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGNvZGVGb2xkaW5nKClcbiAgICBdO1xufVxuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiLmNtLWZvbGRQbGFjZWhvbGRlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZWVlXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIuMmVtXCIsXG4gICAgICAgIG1hcmdpbjogXCIwIDFweFwiLFxuICAgICAgICBwYWRkaW5nOiBcIjAgMXB4XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIFwiLmNtLWZvbGRHdXR0ZXIgc3BhblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMCAxcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH1cbn0pO1xuXG4vKipcbkEgaGlnaGxpZ2h0IHN0eWxlIGFzc29jaWF0ZXMgQ1NTIHN0eWxlcyB3aXRoIGhpZ2xpZ2h0aW5nXG5bdGFnc10oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC9kb2NzL3JlZiNoaWdobGlnaHQuVGFnKS5cbiovXG5jbGFzcyBIaWdobGlnaHRTdHlsZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHRhZyBzdHlsZXMgdXNlZCB0byBjcmVhdGUgdGhpcyBoaWdobGlnaHQgc3R5bGUuXG4gICAgKi9cbiAgICBzcGVjcywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgICAgIGxldCBtb2RTcGVjO1xuICAgICAgICBmdW5jdGlvbiBkZWYoc3BlYykge1xuICAgICAgICAgICAgbGV0IGNscyA9IFN0eWxlTW9kdWxlLm5ld05hbWUoKTtcbiAgICAgICAgICAgIChtb2RTcGVjIHx8IChtb2RTcGVjID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW1wiLlwiICsgY2xzXSA9IHNwZWM7XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsbCA9IHR5cGVvZiBvcHRpb25zLmFsbCA9PSBcInN0cmluZ1wiID8gb3B0aW9ucy5hbGwgOiBvcHRpb25zLmFsbCA/IGRlZihvcHRpb25zLmFsbCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHNjb3BlT3B0ID0gb3B0aW9ucy5zY29wZTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlT3B0IGluc3RhbmNlb2YgTGFuZ3VhZ2UgPyAodHlwZSkgPT4gdHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHNjb3BlT3B0LmRhdGFcbiAgICAgICAgICAgIDogc2NvcGVPcHQgPyAodHlwZSkgPT4gdHlwZSA9PSBzY29wZU9wdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHRhZ0hpZ2hsaWdodGVyKHNwZWNzLm1hcChzdHlsZSA9PiAoe1xuICAgICAgICAgICAgdGFnOiBzdHlsZS50YWcsXG4gICAgICAgICAgICBjbGFzczogc3R5bGUuY2xhc3MgfHwgZGVmKE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7IHRhZzogbnVsbCB9KSlcbiAgICAgICAgfSkpLCB7XG4gICAgICAgICAgICBhbGwsXG4gICAgICAgIH0pLnN0eWxlO1xuICAgICAgICB0aGlzLm1vZHVsZSA9IG1vZFNwZWMgPyBuZXcgU3R5bGVNb2R1bGUobW9kU3BlYykgOiBudWxsO1xuICAgICAgICB0aGlzLnRoZW1lVHlwZSA9IG9wdGlvbnMudGhlbWVUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBoaWdobGlnaHRlciBzdHlsZSB0aGF0IGFzc29jaWF0ZXMgdGhlIGdpdmVuIHN0eWxlcyB0b1xuICAgIHRoZSBnaXZlbiB0YWdzLiBUaGUgc3BlY3MgbXVzdCBiZSBvYmplY3RzIHRoYXQgaG9sZCBhIHN0eWxlIHRhZ1xuICAgIG9yIGFycmF5IG9mIHRhZ3MgaW4gdGhlaXIgYHRhZ2AgcHJvcGVydHksIGFuZCBlaXRoZXIgYSBzaW5nbGVcbiAgICBgY2xhc3NgIHByb3BlcnR5IHByb3ZpZGluZyBhIHN0YXRpYyBDU1MgY2xhc3MgKGZvciBoaWdobGlnaHRlclxuICAgIHRoYXQgcmVseSBvbiBleHRlcm5hbCBzdHlsaW5nKSwgb3IgYVxuICAgIFtgc3R5bGUtbW9kYF0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pLXN0eWxlXG4gICAgc2V0IG9mIENTUyBwcm9wZXJ0aWVzICh3aGljaCBkZWZpbmUgdGhlIHN0eWxpbmcgZm9yIHRob3NlIHRhZ3MpLlxuICAgIFxuICAgIFRoZSBDU1MgcnVsZXMgY3JlYXRlZCBmb3IgYSBoaWdobGlnaHRlciB3aWxsIGJlIGVtaXR0ZWQgaW4gdGhlXG4gICAgb3JkZXIgb2YgdGhlIHNwZWMncyBwcm9wZXJ0aWVzLiBUaGF0IG1lYW5zIHRoYXQgZm9yIGVsZW1lbnRzIHRoYXRcbiAgICBoYXZlIG11bHRpcGxlIHRhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZW0sIHN0eWxlcyBkZWZpbmVkIGZ1cnRoZXJcbiAgICBkb3duIGluIHRoZSBsaXN0IHdpbGwgaGF2ZSBhIGhpZ2hlciBDU1MgcHJlY2VkZW5jZSB0aGFuIHN0eWxlc1xuICAgIGRlZmluZWQgZWFybGllci5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlY3MsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaWdobGlnaHRTdHlsZShzcGVjcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgfVxufVxuY29uc3QgaGlnaGxpZ2h0ZXJGYWNldCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGZhbGxiYWNrSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKHZhbHVlcykgeyByZXR1cm4gdmFsdWVzLmxlbmd0aCA/IFt2YWx1ZXNbMF1dIDogbnVsbDsgfVxufSk7XG5mdW5jdGlvbiBnZXRIaWdobGlnaHRlcnMoc3RhdGUpIHtcbiAgICBsZXQgbWFpbiA9IHN0YXRlLmZhY2V0KGhpZ2hsaWdodGVyRmFjZXQpO1xuICAgIHJldHVybiBtYWluLmxlbmd0aCA/IG1haW4gOiBzdGF0ZS5mYWNldChmYWxsYmFja0hpZ2hsaWdodGVyKTtcbn1cbi8qKlxuV3JhcCBhIGhpZ2hsaWdodGVyIGluIGFuIGVkaXRvciBleHRlbnNpb24gdGhhdCB1c2VzIGl0IHRvIGFwcGx5XG5zeW50YXggaGlnaGxpZ2h0aW5nIHRvIHRoZSBlZGl0b3IgY29udGVudC5cblxuV2hlbiBtdWx0aXBsZSAobm9uLWZhbGxiYWNrKSBzdHlsZXMgYXJlIHByb3ZpZGVkLCB0aGUgc3R5bGluZ1xuYXBwbGllZCBpcyB0aGUgdW5pb24gb2YgdGhlIGNsYXNzZXMgdGhleSBlbWl0LlxuKi9cbmZ1bmN0aW9uIHN5bnRheEhpZ2hsaWdodGluZyhoaWdobGlnaHRlciwgb3B0aW9ucykge1xuICAgIGxldCBleHQgPSBbdHJlZUhpZ2hsaWdodGVyXSwgdGhlbWVUeXBlO1xuICAgIGlmIChoaWdobGlnaHRlciBpbnN0YW5jZW9mIEhpZ2hsaWdodFN0eWxlKSB7XG4gICAgICAgIGlmIChoaWdobGlnaHRlci5tb2R1bGUpXG4gICAgICAgICAgICBleHQucHVzaChFZGl0b3JWaWV3LnN0eWxlTW9kdWxlLm9mKGhpZ2hsaWdodGVyLm1vZHVsZSkpO1xuICAgICAgICB0aGVtZVR5cGUgPSBoaWdobGlnaHRlci50aGVtZVR5cGU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZmFsbGJhY2spXG4gICAgICAgIGV4dC5wdXNoKGZhbGxiYWNrSGlnaGxpZ2h0ZXIub2YoaGlnaGxpZ2h0ZXIpKTtcbiAgICBlbHNlIGlmICh0aGVtZVR5cGUpXG4gICAgICAgIGV4dC5wdXNoKGhpZ2hsaWdodGVyRmFjZXQuY29tcHV0ZU4oW0VkaXRvclZpZXcuZGFya1RoZW1lXSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZhY2V0KEVkaXRvclZpZXcuZGFya1RoZW1lKSA9PSAodGhlbWVUeXBlID09IFwiZGFya1wiKSA/IFtoaWdobGlnaHRlcl0gOiBbXTtcbiAgICAgICAgfSkpO1xuICAgIGVsc2VcbiAgICAgICAgZXh0LnB1c2goaGlnaGxpZ2h0ZXJGYWNldC5vZihoaWdobGlnaHRlcikpO1xuICAgIHJldHVybiBleHQ7XG59XG4vKipcblJldHVybnMgdGhlIENTUyBjbGFzc2VzIChpZiBhbnkpIHRoYXQgdGhlIGhpZ2hsaWdodGVycyBhY3RpdmUgaW5cbnRoZSBzdGF0ZSB3b3VsZCBhc3NpZ24gdG8gdGhlIGdpdmVuIHN0eWxlXG5bdGFnc10oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC9kb2NzL3JlZiNoaWdobGlnaHQuVGFnKSBhbmRcbihvcHRpb25hbCkgbGFuZ3VhZ2VcbltzY29wZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5IaWdobGlnaHRTdHlsZV5kZWZpbmVeb3B0aW9ucy5zY29wZSkuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0aW5nRm9yKHN0YXRlLCB0YWdzLCBzY29wZSkge1xuICAgIGxldCBoaWdobGlnaHRlcnMgPSBnZXRIaWdobGlnaHRlcnMoc3RhdGUpO1xuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGlmIChoaWdobGlnaHRlcnMpXG4gICAgICAgIGZvciAobGV0IGhpZ2hsaWdodGVyIG9mIGhpZ2hsaWdodGVycykge1xuICAgICAgICAgICAgaWYgKCFoaWdobGlnaHRlci5zY29wZSB8fCBzY29wZSAmJiBoaWdobGlnaHRlci5zY29wZShzY29wZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2xzID0gaGlnaGxpZ2h0ZXIuc3R5bGUodGFncyk7XG4gICAgICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID8gcmVzdWx0ICsgXCIgXCIgKyBjbHMgOiBjbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgVHJlZUhpZ2hsaWdodGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMubWFya0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy50cmVlID0gc3ludGF4VHJlZSh2aWV3LnN0YXRlKTtcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuYnVpbGREZWNvKHZpZXcsIGdldEhpZ2hsaWdodGVycyh2aWV3LnN0YXRlKSk7XG4gICAgICAgIHRoaXMuZGVjb3JhdGVkVG8gPSB2aWV3LnZpZXdwb3J0LnRvO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCB0cmVlID0gc3ludGF4VHJlZSh1cGRhdGUuc3RhdGUpLCBoaWdobGlnaHRlcnMgPSBnZXRIaWdobGlnaHRlcnModXBkYXRlLnN0YXRlKTtcbiAgICAgICAgbGV0IHN0eWxlQ2hhbmdlID0gaGlnaGxpZ2h0ZXJzICE9IGdldEhpZ2hsaWdodGVycyh1cGRhdGUuc3RhcnRTdGF0ZSk7XG4gICAgICAgIGxldCB7IHZpZXdwb3J0IH0gPSB1cGRhdGUudmlldywgZGVjb3JhdGVkVG9NYXBwZWQgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5kZWNvcmF0ZWRUbywgMSk7XG4gICAgICAgIGlmICh0cmVlLmxlbmd0aCA8IHZpZXdwb3J0LnRvICYmICFzdHlsZUNoYW5nZSAmJiB0cmVlLnR5cGUgPT0gdGhpcy50cmVlLnR5cGUgJiYgZGVjb3JhdGVkVG9NYXBwZWQgPj0gdmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRpb25zLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRlZFRvID0gZGVjb3JhdGVkVG9NYXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJlZSAhPSB0aGlzLnRyZWUgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fCBzdHlsZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmJ1aWxkRGVjbyh1cGRhdGUudmlldywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGVkVG8gPSB2aWV3cG9ydC50bztcbiAgICAgICAgfVxuICAgIH1cbiAgICBidWlsZERlY28odmlldywgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGlmICghaGlnaGxpZ2h0ZXJzIHx8ICF0aGlzLnRyZWUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiB2aWV3LnZpc2libGVSYW5nZXMpIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodFRyZWUodGhpcy50cmVlLCBoaWdobGlnaHRlcnMsIChmcm9tLCB0bywgc3R5bGUpID0+IHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFkZChmcm9tLCB0bywgdGhpcy5tYXJrQ2FjaGVbc3R5bGVdIHx8ICh0aGlzLm1hcmtDYWNoZVtzdHlsZV0gPSBEZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogc3R5bGUgfSkpKTtcbiAgICAgICAgICAgIH0sIGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2goKTtcbiAgICB9XG59XG5jb25zdCB0cmVlSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoKC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhUcmVlSGlnaGxpZ2h0ZXIsIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KSk7XG4vKipcbkEgZGVmYXVsdCBoaWdobGlnaHQgc3R5bGUgKHdvcmtzIHdlbGwgd2l0aCBsaWdodCB0aGVtZXMpLlxuKi9cbmNvbnN0IGRlZmF1bHRIaWdobGlnaHRTdHlsZSA9IC8qQF9fUFVSRV9fKi9IaWdobGlnaHRTdHlsZS5kZWZpbmUoW1xuICAgIHsgdGFnOiB0YWdzLm1ldGEsXG4gICAgICAgIGNvbG9yOiBcIiM0MDQ3NDBcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpbmssXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaGVhZGluZyxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsXG4gICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpa2V0aHJvdWdoLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJsaW5lLXRocm91Z2hcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmtleXdvcmQsXG4gICAgICAgIGNvbG9yOiBcIiM3MDhcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5hdG9tLCB0YWdzLmJvb2wsIHRhZ3MudXJsLCB0YWdzLmNvbnRlbnRTZXBhcmF0b3IsIHRhZ3MubGFiZWxOYW1lXSxcbiAgICAgICAgY29sb3I6IFwiIzIxOVwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLmxpdGVyYWwsIHRhZ3MuaW5zZXJ0ZWRdLFxuICAgICAgICBjb2xvcjogXCIjMTY0XCIgfSxcbiAgICB7IHRhZzogW3RhZ3Muc3RyaW5nLCB0YWdzLmRlbGV0ZWRdLFxuICAgICAgICBjb2xvcjogXCIjYTExXCIgfSxcbiAgICB7IHRhZzogW3RhZ3MucmVnZXhwLCB0YWdzLmVzY2FwZSwgLypAX19QVVJFX18qL3RhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLFxuICAgICAgICBjb2xvcjogXCIjZTQwXCIgfSxcbiAgICB7IHRhZzogLypAX19QVVJFX18qL3RhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksXG4gICAgICAgIGNvbG9yOiBcIiMwMGZcIiB9LFxuICAgIHsgdGFnOiAvKkBfX1BVUkVfXyovdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksXG4gICAgICAgIGNvbG9yOiBcIiMzMGFcIiB9LFxuICAgIHsgdGFnOiBbdGFncy50eXBlTmFtZSwgdGFncy5uYW1lc3BhY2VdLFxuICAgICAgICBjb2xvcjogXCIjMDg1XCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsXG4gICAgICAgIGNvbG9yOiBcIiMxNjdcIiB9LFxuICAgIHsgdGFnOiBbLypAX19QVVJFX18qL3RhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIHRhZ3MubWFjcm9OYW1lXSxcbiAgICAgICAgY29sb3I6IFwiIzI1NlwiIH0sXG4gICAgeyB0YWc6IC8qQF9fUFVSRV9fKi90YWdzLmRlZmluaXRpb24odGFncy5wcm9wZXJ0eU5hbWUpLFxuICAgICAgICBjb2xvcjogXCIjMDBjXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LFxuICAgICAgICBjb2xvcjogXCIjOTQwXCIgfSxcbiAgICB7IHRhZzogdGFncy5pbnZhbGlkLFxuICAgICAgICBjb2xvcjogXCIjZjAwXCIgfVxuXSk7XG5cbmNvbnN0IGJhc2VUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCImLmNtLWZvY3VzZWQgLmNtLW1hdGNoaW5nQnJhY2tldFwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjMzI4YzgyNTJcIiB9LFxuICAgIFwiJi5jbS1mb2N1c2VkIC5jbS1ub25tYXRjaGluZ0JyYWNrZXRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2JiNTU1NTQ0XCIgfVxufSk7XG5jb25zdCBEZWZhdWx0U2NhbkRpc3QgPSAxMDAwMCwgRGVmYXVsdEJyYWNrZXRzID0gXCIoKVtde31cIjtcbmNvbnN0IGJyYWNrZXRNYXRjaGluZ0NvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBhZnRlckN1cnNvcjogdHJ1ZSxcbiAgICAgICAgICAgIGJyYWNrZXRzOiBEZWZhdWx0QnJhY2tldHMsXG4gICAgICAgICAgICBtYXhTY2FuRGlzdGFuY2U6IERlZmF1bHRTY2FuRGlzdCxcbiAgICAgICAgICAgIHJlbmRlck1hdGNoOiBkZWZhdWx0UmVuZGVyTWF0Y2hcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCBtYXRjaGluZ01hcmsgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20tbWF0Y2hpbmdCcmFja2V0XCIgfSksIG5vbm1hdGNoaW5nTWFyayA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1ub25tYXRjaGluZ0JyYWNrZXRcIiB9KTtcbmZ1bmN0aW9uIGRlZmF1bHRSZW5kZXJNYXRjaChtYXRjaCkge1xuICAgIGxldCBkZWNvcmF0aW9ucyA9IFtdO1xuICAgIGxldCBtYXJrID0gbWF0Y2gubWF0Y2hlZCA/IG1hdGNoaW5nTWFyayA6IG5vbm1hdGNoaW5nTWFyaztcbiAgICBkZWNvcmF0aW9ucy5wdXNoKG1hcmsucmFuZ2UobWF0Y2guc3RhcnQuZnJvbSwgbWF0Y2guc3RhcnQudG8pKTtcbiAgICBpZiAobWF0Y2guZW5kKVxuICAgICAgICBkZWNvcmF0aW9ucy5wdXNoKG1hcmsucmFuZ2UobWF0Y2guZW5kLmZyb20sIG1hdGNoLmVuZC50bykpO1xuICAgIHJldHVybiBkZWNvcmF0aW9ucztcbn1cbmNvbnN0IGJyYWNrZXRNYXRjaGluZ1N0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBEZWNvcmF0aW9uLm5vbmU7IH0sXG4gICAgdXBkYXRlKGRlY28sIHRyKSB7XG4gICAgICAgIGlmICghdHIuZG9jQ2hhbmdlZCAmJiAhdHIuc2VsZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGRlY287XG4gICAgICAgIGxldCBkZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgY29uZmlnID0gdHIuc3RhdGUuZmFjZXQoYnJhY2tldE1hdGNoaW5nQ29uZmlnKTtcbiAgICAgICAgZm9yIChsZXQgcmFuZ2Ugb2YgdHIuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQsIC0xLCBjb25maWcpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLmhlYWQgPiAwICYmIG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQgLSAxLCAxLCBjb25maWcpKVxuICAgICAgICAgICAgICAgIHx8IChjb25maWcuYWZ0ZXJDdXJzb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgKG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQsIDEsIGNvbmZpZykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYW5nZS5oZWFkIDwgdHIuc3RhdGUuZG9jLmxlbmd0aCAmJiBtYXRjaEJyYWNrZXRzKHRyLnN0YXRlLCByYW5nZS5oZWFkICsgMSwgLTEsIGNvbmZpZykpKSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICAgICAgZGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucy5jb25jYXQoY29uZmlnLnJlbmRlck1hdGNoKG1hdGNoLCB0ci5zdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvcmF0aW9ucywgdHJ1ZSk7XG4gICAgfSxcbiAgICBwcm92aWRlOiBmID0+IEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuZnJvbShmKVxufSk7XG5jb25zdCBicmFja2V0TWF0Y2hpbmdVbmlxdWUgPSBbXG4gICAgYnJhY2tldE1hdGNoaW5nU3RhdGUsXG4gICAgYmFzZVRoZW1lXG5dO1xuLyoqXG5DcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBicmFja2V0IG1hdGNoaW5nLiBXaGVuZXZlciB0aGVcbmN1cnNvciBpcyBuZXh0IHRvIGEgYnJhY2tldCwgdGhhdCBicmFja2V0IGFuZCB0aGUgb25lIGl0IG1hdGNoZXNcbmFyZSBoaWdobGlnaHRlZC4gT3IsIHdoZW4gbm8gbWF0Y2hpbmcgYnJhY2tldCBpcyBmb3VuZCwgYW5vdGhlclxuaGlnaGxpZ2h0aW5nIHN0eWxlIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhpcy5cbiovXG5mdW5jdGlvbiBicmFja2V0TWF0Y2hpbmcoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW2JyYWNrZXRNYXRjaGluZ0NvbmZpZy5vZihjb25maWcpLCBicmFja2V0TWF0Y2hpbmdVbmlxdWVdO1xufVxuLyoqXG5XaGVuIGxhcmdlciBzeW50YXggbm9kZXMsIHN1Y2ggYXMgSFRNTCB0YWdzLCBhcmUgbWFya2VkIGFzXG5vcGVuaW5nL2Nsb3NpbmcsIGl0IGNhbiBiZSBhIGJpdCBtZXNzeSB0byB0cmVhdCB0aGUgd2hvbGUgbm9kZSBhc1xuYSBtYXRjaGFibGUgYnJhY2tldC4gVGhpcyBub2RlIHByb3AgYWxsb3dzIHlvdSB0byBkZWZpbmUsIGZvciBzdWNoXG5hIG5vZGUsIGEgXHUyMDE4aGFuZGxlXHUyMDE5XHUyMDE0dGhlIHBhcnQgb2YgdGhlIG5vZGUgdGhhdCBpcyBoaWdobGlnaHRlZCwgYW5kXG50aGF0IHRoZSBjdXJzb3IgbXVzdCBiZSBvbiB0byBhY3RpdmF0ZSBoaWdobGlnaHRpbmcgaW4gdGhlIGZpcnN0XG5wbGFjZS5cbiovXG5jb25zdCBicmFja2V0TWF0Y2hpbmdIYW5kbGUgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG5mdW5jdGlvbiBtYXRjaGluZ05vZGVzKG5vZGUsIGRpciwgYnJhY2tldHMpIHtcbiAgICBsZXQgYnlQcm9wID0gbm9kZS5wcm9wKGRpciA8IDAgPyBOb2RlUHJvcC5vcGVuZWRCeSA6IE5vZGVQcm9wLmNsb3NlZEJ5KTtcbiAgICBpZiAoYnlQcm9wKVxuICAgICAgICByZXR1cm4gYnlQcm9wO1xuICAgIGlmIChub2RlLm5hbWUubGVuZ3RoID09IDEpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gYnJhY2tldHMuaW5kZXhPZihub2RlLm5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSAmJiBpbmRleCAlIDIgPT0gKGRpciA8IDAgPyAxIDogMCkpXG4gICAgICAgICAgICByZXR1cm4gW2JyYWNrZXRzW2luZGV4ICsgZGlyXV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZmluZEhhbmRsZShub2RlKSB7XG4gICAgbGV0IGhhc0hhbmRsZSA9IG5vZGUudHlwZS5wcm9wKGJyYWNrZXRNYXRjaGluZ0hhbmRsZSk7XG4gICAgcmV0dXJuIGhhc0hhbmRsZSA/IGhhc0hhbmRsZShub2RlLm5vZGUpIDogbm9kZTtcbn1cbi8qKlxuRmluZCB0aGUgbWF0Y2hpbmcgYnJhY2tldCBmb3IgdGhlIHRva2VuIGF0IGBwb3NgLCBzY2FubmluZ1xuZGlyZWN0aW9uIGBkaXJgLiBPbmx5IHRoZSBgYnJhY2tldHNgIGFuZCBgbWF4U2NhbkRpc3RhbmNlYFxucHJvcGVydGllcyBhcmUgdXNlZCBmcm9tIGBjb25maWdgLCBpZiBnaXZlbi4gUmV0dXJucyBudWxsIGlmIG5vXG5icmFja2V0IHdhcyBmb3VuZCBhdCBgcG9zYCwgb3IgYSBtYXRjaCByZXN1bHQgb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcywgZGlyLCBjb25maWcgPSB7fSkge1xuICAgIGxldCBtYXhTY2FuRGlzdGFuY2UgPSBjb25maWcubWF4U2NhbkRpc3RhbmNlIHx8IERlZmF1bHRTY2FuRGlzdCwgYnJhY2tldHMgPSBjb25maWcuYnJhY2tldHMgfHwgRGVmYXVsdEJyYWNrZXRzO1xuICAgIGxldCB0cmVlID0gc3ludGF4VHJlZShzdGF0ZSksIG5vZGUgPSB0cmVlLnJlc29sdmVJbm5lcihwb3MsIGRpcik7XG4gICAgZm9yIChsZXQgY3VyID0gbm9kZTsgY3VyOyBjdXIgPSBjdXIucGFyZW50KSB7XG4gICAgICAgIGxldCBtYXRjaGVzID0gbWF0Y2hpbmdOb2RlcyhjdXIudHlwZSwgZGlyLCBicmFja2V0cyk7XG4gICAgICAgIGlmIChtYXRjaGVzICYmIGN1ci5mcm9tIDwgY3VyLnRvKSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlID0gZmluZEhhbmRsZShjdXIpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZSAmJiAoZGlyID4gMCA/IHBvcyA+PSBoYW5kbGUuZnJvbSAmJiBwb3MgPCBoYW5kbGUudG8gOiBwb3MgPiBoYW5kbGUuZnJvbSAmJiBwb3MgPD0gaGFuZGxlLnRvKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hNYXJrZWRCcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIGN1ciwgaGFuZGxlLCBtYXRjaGVzLCBicmFja2V0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoUGxhaW5CcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIHRyZWUsIG5vZGUudHlwZSwgbWF4U2NhbkRpc3RhbmNlLCBicmFja2V0cyk7XG59XG5mdW5jdGlvbiBtYXRjaE1hcmtlZEJyYWNrZXRzKF9zdGF0ZSwgX3BvcywgZGlyLCB0b2tlbiwgaGFuZGxlLCBtYXRjaGluZywgYnJhY2tldHMpIHtcbiAgICBsZXQgcGFyZW50ID0gdG9rZW4ucGFyZW50LCBmaXJzdFRva2VuID0geyBmcm9tOiBoYW5kbGUuZnJvbSwgdG86IGhhbmRsZS50byB9O1xuICAgIGxldCBkZXB0aCA9IDAsIGN1cnNvciA9IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jdXJzb3IoKTtcbiAgICBpZiAoY3Vyc29yICYmIChkaXIgPCAwID8gY3Vyc29yLmNoaWxkQmVmb3JlKHRva2VuLmZyb20pIDogY3Vyc29yLmNoaWxkQWZ0ZXIodG9rZW4udG8pKSlcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGRpciA8IDAgPyBjdXJzb3IudG8gPD0gdG9rZW4uZnJvbSA6IGN1cnNvci5mcm9tID49IHRva2VuLnRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDAgJiYgbWF0Y2hpbmcuaW5kZXhPZihjdXJzb3IudHlwZS5uYW1lKSA+IC0xICYmIGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRIYW5kbGUgPSBmaW5kSGFuZGxlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBmaXJzdFRva2VuLCBlbmQ6IGVuZEhhbmRsZSA/IHsgZnJvbTogZW5kSGFuZGxlLmZyb20sIHRvOiBlbmRIYW5kbGUudG8gfSA6IHVuZGVmaW5lZCwgbWF0Y2hlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCBkaXIsIGJyYWNrZXRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCAtZGlyLCBicmFja2V0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmRIYW5kbGUgPSBmaW5kSGFuZGxlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmaXJzdFRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZW5kSGFuZGxlICYmIGVuZEhhbmRsZS5mcm9tIDwgZW5kSGFuZGxlLnRvID8geyBmcm9tOiBlbmRIYW5kbGUuZnJvbSwgdG86IGVuZEhhbmRsZS50byB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaXIgPCAwID8gY3Vyc29yLnByZXZTaWJsaW5nKCkgOiBjdXJzb3IubmV4dFNpYmxpbmcoKSk7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IGZpcnN0VG9rZW4sIG1hdGNoZWQ6IGZhbHNlIH07XG59XG5mdW5jdGlvbiBtYXRjaFBsYWluQnJhY2tldHMoc3RhdGUsIHBvcywgZGlyLCB0cmVlLCB0b2tlblR5cGUsIG1heFNjYW5EaXN0YW5jZSwgYnJhY2tldHMpIHtcbiAgICBsZXQgc3RhcnRDaCA9IGRpciA8IDAgPyBzdGF0ZS5zbGljZURvYyhwb3MgLSAxLCBwb3MpIDogc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyAxKTtcbiAgICBsZXQgYnJhY2tldCA9IGJyYWNrZXRzLmluZGV4T2Yoc3RhcnRDaCk7XG4gICAgaWYgKGJyYWNrZXQgPCAwIHx8IChicmFja2V0ICUgMiA9PSAwKSAhPSAoZGlyID4gMCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBzdGFydFRva2VuID0geyBmcm9tOiBkaXIgPCAwID8gcG9zIC0gMSA6IHBvcywgdG86IGRpciA+IDAgPyBwb3MgKyAxIDogcG9zIH07XG4gICAgbGV0IGl0ZXIgPSBzdGF0ZS5kb2MuaXRlclJhbmdlKHBvcywgZGlyID4gMCA/IHN0YXRlLmRvYy5sZW5ndGggOiAwKSwgZGVwdGggPSAwO1xuICAgIGZvciAobGV0IGRpc3RhbmNlID0gMDsgIShpdGVyLm5leHQoKSkuZG9uZSAmJiBkaXN0YW5jZSA8PSBtYXhTY2FuRGlzdGFuY2U7KSB7XG4gICAgICAgIGxldCB0ZXh0ID0gaXRlci52YWx1ZTtcbiAgICAgICAgaWYgKGRpciA8IDApXG4gICAgICAgICAgICBkaXN0YW5jZSArPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGJhc2VQb3MgPSBwb3MgKyBkaXN0YW5jZSAqIGRpcjtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gZGlyID4gMCA/IDAgOiB0ZXh0Lmxlbmd0aCAtIDEsIGVuZCA9IGRpciA+IDAgPyB0ZXh0Lmxlbmd0aCA6IC0xOyBwb3MgIT0gZW5kOyBwb3MgKz0gZGlyKSB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBicmFja2V0cy5pbmRleE9mKHRleHRbcG9zXSk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPCAwIHx8IHRyZWUucmVzb2x2ZUlubmVyKGJhc2VQb3MgKyBwb3MsIDEpLnR5cGUgIT0gdG9rZW5UeXBlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKChmb3VuZCAlIDIgPT0gMCkgPT0gKGRpciA+IDApKSB7XG4gICAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRlcHRoID09IDEpIHsgLy8gQ2xvc2luZ1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydFRva2VuLCBlbmQ6IHsgZnJvbTogYmFzZVBvcyArIHBvcywgdG86IGJhc2VQb3MgKyBwb3MgKyAxIH0sIG1hdGNoZWQ6IChmb3VuZCA+PiAxKSA9PSAoYnJhY2tldCA+PiAxKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gaXRlci5kb25lID8geyBzdGFydDogc3RhcnRUb2tlbiwgbWF0Y2hlZDogZmFsc2UgfSA6IG51bGw7XG59XG5cbi8vIENvdW50cyB0aGUgY29sdW1uIG9mZnNldCBpbiBhIHN0cmluZywgdGFraW5nIHRhYnMgaW50byBhY2NvdW50LlxuLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbmZ1bmN0aW9uIGNvdW50Q29sKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4ID0gMCwgc3RhcnRWYWx1ZSA9IDApIHtcbiAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RyaW5nLnNlYXJjaCgvW15cXHNcXHUwMGEwXS8pO1xuICAgICAgICBpZiAoZW5kID09IC0xKVxuICAgICAgICAgICAgZW5kID0gc3RyaW5nLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IG4gPSBzdGFydFZhbHVlO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkpXG4gICAgICAgICAgICBuICs9IHRhYlNpemUgLSAobiAlIHRhYlNpemUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBuKys7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG5FbmNhcHN1bGF0ZXMgYSBzaW5nbGUgbGluZSBvZiBpbnB1dC4gR2l2ZW4gdG8gc3RyZWFtIHN5bnRheCBjb2RlLFxud2hpY2ggdXNlcyBpdCB0byB0b2tlbml6ZSB0aGUgY29udGVudC5cbiovXG5jbGFzcyBTdHJpbmdTdHJlYW0ge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHN0cmVhbS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBsaW5lLlxuICAgICovXG4gICAgc3RyaW5nLCB0YWJTaXplLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBpbmRlbnQgdW5pdCBzaXplLlxuICAgICovXG4gICAgaW5kZW50VW5pdCwgb3ZlcnJpZGVJbmRlbnQpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemU7XG4gICAgICAgIHRoaXMuaW5kZW50VW5pdCA9IGluZGVudFVuaXQ7XG4gICAgICAgIHRoaXMub3ZlcnJpZGVJbmRlbnQgPSBvdmVycmlkZUluZGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgIFRoZSBjdXJyZW50IHBvc2l0aW9uIG9uIHRoZSBsaW5lLlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgdG9rZW4uXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFRydWUgaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBlb2woKSB7IHJldHVybiB0aGlzLnBvcyA+PSB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICAvKipcbiAgICBUcnVlIGlmIHdlIGFyZSBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBzb2woKSB7IHJldHVybiB0aGlzLnBvcyA9PSAwOyB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBuZXh0IGNvZGUgdW5pdCBhZnRlciB0aGUgY3VycmVudCBwb3NpdGlvbiwgb3IgdW5kZWZpbmVkXG4gICAgaWYgd2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIHBlZWsoKSB7IHJldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpIHx8IHVuZGVmaW5lZDsgfVxuICAgIC8qKlxuICAgIFJlYWQgdGhlIG5leHQgY29kZSB1bml0IGFuZCBhZHZhbmNlIGB0aGlzLnBvc2AuXG4gICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5wb3MgPCB0aGlzLnN0cmluZy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXRjaCB0aGUgbmV4dCBjaGFyYWN0ZXIgYWdhaW5zdCB0aGUgZ2l2ZW4gc3RyaW5nLCByZWd1bGFyXG4gICAgZXhwcmVzc2lvbiwgb3IgcHJlZGljYXRlLiBDb25zdW1lIGFuZCByZXR1cm4gaXQgaWYgaXQgbWF0Y2hlcy5cbiAgICAqL1xuICAgIGVhdChtYXRjaCkge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpO1xuICAgICAgICBsZXQgb2s7XG4gICAgICAgIGlmICh0eXBlb2YgbWF0Y2ggPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIG9rID0gY2ggPT0gbWF0Y2g7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG9rID0gY2ggJiYgKG1hdGNoIGluc3RhbmNlb2YgUmVnRXhwID8gbWF0Y2gudGVzdChjaCkgOiBtYXRjaChjaCkpO1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICAgICsrdGhpcy5wb3M7XG4gICAgICAgICAgICByZXR1cm4gY2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ29udGludWUgbWF0Y2hpbmcgY2hhcmFjdGVycyB0aGF0IG1hdGNoIHRoZSBnaXZlbiBzdHJpbmcsXG4gICAgcmVndWxhciBleHByZXNzaW9uLCBvciBwcmVkaWNhdGUgZnVuY3Rpb24uIFJldHVybiB0cnVlIGlmIGFueVxuICAgIGNoYXJhY3RlcnMgd2VyZSBjb25zdW1lZC5cbiAgICAqL1xuICAgIGVhdFdoaWxlKG1hdGNoKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB3aGlsZSAodGhpcy5lYXQobWF0Y2gpKSB7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbnN1bWUgd2hpdGVzcGFjZSBhaGVhZCBvZiBgdGhpcy5wb3NgLiBSZXR1cm4gdHJ1ZSBpZiBhbnkgd2FzXG4gICAgZm91bmQuXG4gICAgKi9cbiAgICBlYXRTcGFjZSgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHdoaWxlICgvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpKVxuICAgICAgICAgICAgKyt0aGlzLnBvcztcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIHNraXBUb0VuZCgpIHsgdGhpcy5wb3MgPSB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIGRpcmVjdGx5IGJlZm9yZSB0aGUgZ2l2ZW4gY2hhcmFjdGVyLCBpZiBmb3VuZCBvbiB0aGVcbiAgICBjdXJyZW50IGxpbmUuXG4gICAgKi9cbiAgICBza2lwVG8oY2gpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpO1xuICAgICAgICBpZiAoZm91bmQgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBmb3VuZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYmFjayBgbmAgY2hhcmFjdGVycy5cbiAgICAqL1xuICAgIGJhY2tVcChuKSB7IHRoaXMucG9zIC09IG47IH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGNvbHVtbiBwb3NpdGlvbiBhdCBgdGhpcy5wb3NgLlxuICAgICovXG4gICAgY29sdW1uKCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q29sdW1uUG9zIDwgdGhpcy5zdGFydCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSBjb3VudENvbCh0aGlzLnN0cmluZywgdGhpcy5zdGFydCwgdGhpcy50YWJTaXplLCB0aGlzLmxhc3RDb2x1bW5Qb3MsIHRoaXMubGFzdENvbHVtblZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbHVtblZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGluZGVudGF0aW9uIGNvbHVtbiBvZiB0aGUgY3VycmVudCBsaW5lLlxuICAgICovXG4gICAgaW5kZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMub3ZlcnJpZGVJbmRlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvdW50Q29sKHRoaXMuc3RyaW5nLCBudWxsLCB0aGlzLnRhYlNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXRjaCB0aGUgaW5wdXQgYWdhaW5zdCB0aGUgZ2l2ZW4gc3RyaW5nIG9yIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgICh3aGljaCBzaG91bGQgc3RhcnQgd2l0aCBhIGBeYCkuIFJldHVybiB0cnVlIG9yIHRoZSByZWdleHAgbWF0Y2hcbiAgICBpZiBpdCBtYXRjaGVzLlxuICAgIFxuICAgIFVubGVzcyBgY29uc3VtZWAgaXMgc2V0IHRvIGBmYWxzZWAsIHRoaXMgd2lsbCBtb3ZlIGB0aGlzLnBvc2BcbiAgICBwYXN0IHRoZSBtYXRjaGVkIHRleHQuXG4gICAgXG4gICAgV2hlbiBtYXRjaGluZyBhIHN0cmluZyBgY2FzZUluc2Vuc2l0aXZlYCBjYW4gYmUgc2V0IHRvIHRydWUgdG9cbiAgICBtYWtlIHRoZSBtYXRjaCBjYXNlLWluc2Vuc2l0aXZlLlxuICAgICovXG4gICAgbWF0Y2gocGF0dGVybiwgY29uc3VtZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF0dGVybiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBsZXQgY2FzZWQgPSAoc3RyKSA9PiBjYXNlSW5zZW5zaXRpdmUgPyBzdHIudG9Mb3dlckNhc2UoKSA6IHN0cjtcbiAgICAgICAgICAgIGxldCBzdWJzdHIgPSB0aGlzLnN0cmluZy5zdWJzdHIodGhpcy5wb3MsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChjYXNlZChzdWJzdHIpID09IGNhc2VkKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN1bWUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY3VycmVudCB0b2tlbi5cbiAgICAqL1xuICAgIGN1cnJlbnQoKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLnBvcyk7IH1cbn1cblxuZnVuY3Rpb24gZnVsbFBhcnNlcihzcGVjKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogc3BlYy5uYW1lIHx8IFwiXCIsXG4gICAgICAgIHRva2VuOiBzcGVjLnRva2VuLFxuICAgICAgICBibGFua0xpbmU6IHNwZWMuYmxhbmtMaW5lIHx8ICgoKSA9PiB7IH0pLFxuICAgICAgICBzdGFydFN0YXRlOiBzcGVjLnN0YXJ0U3RhdGUgfHwgKCgpID0+IHRydWUpLFxuICAgICAgICBjb3B5U3RhdGU6IHNwZWMuY29weVN0YXRlIHx8IGRlZmF1bHRDb3B5U3RhdGUsXG4gICAgICAgIGluZGVudDogc3BlYy5pbmRlbnQgfHwgKCgpID0+IG51bGwpLFxuICAgICAgICBsYW5ndWFnZURhdGE6IHNwZWMubGFuZ3VhZ2VEYXRhIHx8IHt9LFxuICAgICAgICB0b2tlblRhYmxlOiBzcGVjLnRva2VuVGFibGUgfHwgbm9Ub2tlbnMsXG4gICAgICAgIG1lcmdlVG9rZW5zOiBzcGVjLm1lcmdlVG9rZW5zICE9PSBmYWxzZVxuICAgIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0Q29weVN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgbGV0IG5ld1N0YXRlID0ge307XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzdGF0ZSkge1xuICAgICAgICBsZXQgdmFsID0gc3RhdGVbcHJvcF07XG4gICAgICAgIG5ld1N0YXRlW3Byb3BdID0gKHZhbCBpbnN0YW5jZW9mIEFycmF5ID8gdmFsLnNsaWNlKCkgOiB2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG59XG5jb25zdCBJbmRlbnRlZEZyb20gPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbi8qKlxuQSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGNsYXNzIGJhc2VkIG9uIGEgQ29kZU1pcnJvclxuNS1zdHlsZSBbc3RyZWFtaW5nIHBhcnNlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1QYXJzZXIpLlxuKi9cbmNsYXNzIFN0cmVhbUxhbmd1YWdlIGV4dGVuZHMgTGFuZ3VhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlcikge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQocGFyc2VyLmxhbmd1YWdlRGF0YSk7XG4gICAgICAgIGxldCBwID0gZnVsbFBhcnNlcihwYXJzZXIpLCBzZWxmO1xuICAgICAgICBsZXQgaW1wbCA9IG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcnNlKHNlbGYsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyKGRhdGEsIGltcGwsIFtdLCBwYXJzZXIubmFtZSk7XG4gICAgICAgIHRoaXMudG9wTm9kZSA9IGRvY0lEKGRhdGEsIHRoaXMpO1xuICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zdHJlYW1QYXJzZXIgPSBwO1xuICAgICAgICB0aGlzLnN0YXRlQWZ0ZXIgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnRva2VuVGFibGUgPSBwYXJzZXIudG9rZW5UYWJsZSA/IG5ldyBUb2tlblRhYmxlKHAudG9rZW5UYWJsZSkgOiBkZWZhdWx0VG9rZW5UYWJsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgc3RyZWFtIGxhbmd1YWdlLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjKSB7IHJldHVybiBuZXcgU3RyZWFtTGFuZ3VhZ2Uoc3BlYyk7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldEluZGVudChjeCkge1xuICAgICAgICBsZXQgZnJvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHsgb3ZlcnJpZGVJbmRlbnRhdGlvbiB9ID0gY3gub3B0aW9ucztcbiAgICAgICAgaWYgKG92ZXJyaWRlSW5kZW50YXRpb24pIHtcbiAgICAgICAgICAgIGZyb20gPSBJbmRlbnRlZEZyb20uZ2V0KGN4LnN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmcm9tICE9IG51bGwgJiYgZnJvbSA8IGN4LnBvcyAtIDFlNClcbiAgICAgICAgICAgICAgICBmcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGZpbmRTdGF0ZSh0aGlzLCBjeC5ub2RlLnRyZWUsIGN4Lm5vZGUuZnJvbSwgY3gubm9kZS5mcm9tLCBmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiBjeC5wb3MpLCBzdGF0ZVBvcywgc3RhdGU7XG4gICAgICAgIGlmIChzdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBzdGFydC5zdGF0ZTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gc3RhcnQucG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShjeC51bml0KTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gY3gubm9kZS5mcm9tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjeC5wb3MgLSBzdGF0ZVBvcyA+IDEwMDAwIC8qIEMuTWF4SW5kZW50U2NhbkRpc3QgKi8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgd2hpbGUgKHN0YXRlUG9zIDwgY3gucG9zKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGN4LnN0YXRlLmRvYy5saW5lQXQoc3RhdGVQb3MpLCBlbmQgPSBNYXRoLm1pbihjeC5wb3MsIGxpbmUudG8pO1xuICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGVudGF0aW9uID0gb3ZlcnJpZGVJbmRlbnRhdGlvbiA/IG92ZXJyaWRlSW5kZW50YXRpb24obGluZS5mcm9tKSA6IC0xO1xuICAgICAgICAgICAgICAgIGxldCBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUudGV4dCwgY3guc3RhdGUudGFiU2l6ZSwgY3gudW5pdCwgaW5kZW50YXRpb24gPCAwID8gdW5kZWZpbmVkIDogaW5kZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdHJlYW0ucG9zIDwgZW5kIC0gbGluZS5mcm9tKVxuICAgICAgICAgICAgICAgICAgICByZWFkVG9rZW4odGhpcy5zdHJlYW1QYXJzZXIudG9rZW4sIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1QYXJzZXIuYmxhbmtMaW5lKHN0YXRlLCBjeC51bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmQgPT0gY3gucG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3RhdGVQb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGluZSA9IGN4LmxpbmVBdChjeC5wb3MpO1xuICAgICAgICBpZiAob3ZlcnJpZGVJbmRlbnRhdGlvbiAmJiBmcm9tID09IG51bGwpXG4gICAgICAgICAgICBJbmRlbnRlZEZyb20uc2V0KGN4LnN0YXRlLCBsaW5lLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW1QYXJzZXIuaW5kZW50KHN0YXRlLCAvXlxccyooLiopLy5leGVjKGxpbmUudGV4dClbMV0sIGN4KTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuZnVuY3Rpb24gZmluZFN0YXRlKGxhbmcsIHRyZWUsIG9mZiwgc3RhcnRQb3MsIGJlZm9yZSkge1xuICAgIGxldCBzdGF0ZSA9IG9mZiA+PSBzdGFydFBvcyAmJiBvZmYgKyB0cmVlLmxlbmd0aCA8PSBiZWZvcmUgJiYgdHJlZS5wcm9wKGxhbmcuc3RhdGVBZnRlcik7XG4gICAgaWYgKHN0YXRlKVxuICAgICAgICByZXR1cm4geyBzdGF0ZTogbGFuZy5zdHJlYW1QYXJzZXIuY29weVN0YXRlKHN0YXRlKSwgcG9zOiBvZmYgKyB0cmVlLmxlbmd0aCB9O1xuICAgIGZvciAobGV0IGkgPSB0cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHRyZWUuY2hpbGRyZW5baV0sIHBvcyA9IG9mZiArIHRyZWUucG9zaXRpb25zW2ldO1xuICAgICAgICBsZXQgZm91bmQgPSBjaGlsZCBpbnN0YW5jZW9mIFRyZWUgJiYgcG9zIDwgYmVmb3JlICYmIGZpbmRTdGF0ZShsYW5nLCBjaGlsZCwgcG9zLCBzdGFydFBvcywgYmVmb3JlKTtcbiAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGN1dFRyZWUobGFuZywgdHJlZSwgZnJvbSwgdG8sIGluc2lkZSkge1xuICAgIGlmIChpbnNpZGUgJiYgZnJvbSA8PSAwICYmIHRvID49IHRyZWUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICBpZiAoIWluc2lkZSAmJiBmcm9tID09IDAgJiYgdHJlZS50eXBlID09IGxhbmcudG9wTm9kZSlcbiAgICAgICAgaW5zaWRlID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgcG9zID0gdHJlZS5wb3NpdGlvbnNbaV0sIGNoaWxkID0gdHJlZS5jaGlsZHJlbltpXSwgaW5uZXI7XG4gICAgICAgIGlmIChwb3MgPCB0byAmJiBjaGlsZCBpbnN0YW5jZW9mIFRyZWUpIHtcbiAgICAgICAgICAgIGlmICghKGlubmVyID0gY3V0VHJlZShsYW5nLCBjaGlsZCwgZnJvbSAtIHBvcywgdG8gLSBwb3MsIGluc2lkZSkpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuICFpbnNpZGUgPyBpbm5lclxuICAgICAgICAgICAgICAgIDogbmV3IFRyZWUodHJlZS50eXBlLCB0cmVlLmNoaWxkcmVuLnNsaWNlKDAsIGkpLmNvbmNhdChpbm5lciksIHRyZWUucG9zaXRpb25zLnNsaWNlKDAsIGkgKyAxKSwgcG9zICsgaW5uZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRTdGFydEluRnJhZ21lbnRzKGxhbmcsIGZyYWdtZW50cywgc3RhcnRQb3MsIGVuZFBvcywgZWRpdG9yU3RhdGUpIHtcbiAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cykge1xuICAgICAgICBsZXQgZnJvbSA9IGYuZnJvbSArIChmLm9wZW5TdGFydCA/IDI1IDogMCksIHRvID0gZi50byAtIChmLm9wZW5FbmQgPyAyNSA6IDApO1xuICAgICAgICBsZXQgZm91bmQgPSBmcm9tIDw9IHN0YXJ0UG9zICYmIHRvID4gc3RhcnRQb3MgJiYgZmluZFN0YXRlKGxhbmcsIGYudHJlZSwgMCAtIGYub2Zmc2V0LCBzdGFydFBvcywgdG8pLCB0cmVlO1xuICAgICAgICBpZiAoZm91bmQgJiYgZm91bmQucG9zIDw9IGVuZFBvcyAmJiAodHJlZSA9IGN1dFRyZWUobGFuZywgZi50cmVlLCBzdGFydFBvcyArIGYub2Zmc2V0LCBmb3VuZC5wb3MgKyBmLm9mZnNldCwgZmFsc2UpKSlcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBmb3VuZC5zdGF0ZSwgdHJlZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzdGF0ZTogbGFuZy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShlZGl0b3JTdGF0ZSA/IGdldEluZGVudFVuaXQoZWRpdG9yU3RhdGUpIDogNCksIHRyZWU6IFRyZWUuZW1wdHkgfTtcbn1cbmNsYXNzIFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihsYW5nLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5sYW5nID0gbGFuZztcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1BvcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtSZXVzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMudG8gPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvO1xuICAgICAgICBsZXQgY29udGV4dCA9IFBhcnNlQ29udGV4dC5nZXQoKSwgZnJvbSA9IHJhbmdlc1swXS5mcm9tO1xuICAgICAgICBsZXQgeyBzdGF0ZSwgdHJlZSB9ID0gZmluZFN0YXJ0SW5GcmFnbWVudHMobGFuZywgZnJhZ21lbnRzLCBmcm9tLCB0aGlzLnRvLCBjb250ZXh0ID09PSBudWxsIHx8IGNvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRleHQuc3RhdGUpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucGFyc2VkUG9zID0gdGhpcy5jaHVua1N0YXJ0ID0gZnJvbSArIHRyZWUubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2godHJlZS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godHJlZS5wb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ICYmIHRoaXMucGFyc2VkUG9zIDwgY29udGV4dC52aWV3cG9ydC5mcm9tIC0gMTAwMDAwIC8qIEMuTWF4RGlzdGFuY2VCZWZvcmVWaWV3cG9ydCAqLyAmJlxuICAgICAgICAgICAgcmFuZ2VzLnNvbWUociA9PiByLmZyb20gPD0gY29udGV4dC52aWV3cG9ydC5mcm9tICYmIHIudG8gPj0gY29udGV4dC52aWV3cG9ydC5mcm9tKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMubGFuZy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShnZXRJbmRlbnRVbml0KGNvbnRleHQuc3RhdGUpKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2tpcFVudGlsSW5WaWV3KHRoaXMucGFyc2VkUG9zLCBjb250ZXh0LnZpZXdwb3J0LmZyb20pO1xuICAgICAgICAgICAgdGhpcy5wYXJzZWRQb3MgPSBjb250ZXh0LnZpZXdwb3J0LmZyb207XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlUmFuZ2VJbmRleCgpO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IFBhcnNlQ29udGV4dC5nZXQoKTtcbiAgICAgICAgbGV0IHBhcnNlRW5kID0gdGhpcy5zdG9wcGVkQXQgPT0gbnVsbCA/IHRoaXMudG8gOiBNYXRoLm1pbih0aGlzLnRvLCB0aGlzLnN0b3BwZWRBdCk7XG4gICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbihwYXJzZUVuZCwgdGhpcy5jaHVua1N0YXJ0ICsgMjA0OCAvKiBDLkNodW5rU2l6ZSAqLyk7XG4gICAgICAgIGlmIChjb250ZXh0KVxuICAgICAgICAgICAgZW5kID0gTWF0aC5taW4oZW5kLCBjb250ZXh0LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgd2hpbGUgKHRoaXMucGFyc2VkUG9zIDwgZW5kKVxuICAgICAgICAgICAgdGhpcy5wYXJzZUxpbmUoY29udGV4dCk7XG4gICAgICAgIGlmICh0aGlzLmNodW5rU3RhcnQgPCB0aGlzLnBhcnNlZFBvcylcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2VkUG9zID49IHBhcnNlRW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKCk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIHRoaXMucGFyc2VkUG9zID49IGNvbnRleHQudmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2tpcFVudGlsSW5WaWV3KHRoaXMucGFyc2VkUG9zLCBwYXJzZUVuZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IHBvcztcbiAgICB9XG4gICAgbGluZUFmdGVyKHBvcykge1xuICAgICAgICBsZXQgY2h1bmsgPSB0aGlzLmlucHV0LmNodW5rKHBvcyk7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dC5saW5lQ2h1bmtzKSB7XG4gICAgICAgICAgICBsZXQgZW9sID0gY2h1bmsuaW5kZXhPZihcIlxcblwiKTtcbiAgICAgICAgICAgIGlmIChlb2wgPiAtMSlcbiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLnNsaWNlKDAsIGVvbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2h1bmsgPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgY2h1bmsgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3MgKyBjaHVuay5sZW5ndGggPD0gdGhpcy50byA/IGNodW5rIDogY2h1bmsuc2xpY2UoMCwgdGhpcy50byAtIHBvcyk7XG4gICAgfVxuICAgIG5leHRMaW5lKCkge1xuICAgICAgICBsZXQgZnJvbSA9IHRoaXMucGFyc2VkUG9zLCBsaW5lID0gdGhpcy5saW5lQWZ0ZXIoZnJvbSksIGVuZCA9IGZyb20gKyBsaW5lLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSB0aGlzLnJhbmdlSW5kZXg7Oykge1xuICAgICAgICAgICAgbGV0IHJhbmdlRW5kID0gdGhpcy5yYW5nZXNbaW5kZXhdLnRvO1xuICAgICAgICAgICAgaWYgKHJhbmdlRW5kID49IGVuZClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIHJhbmdlRW5kIC0gKGVuZCAtIGxpbmUubGVuZ3RoKSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCByYW5nZVN0YXJ0ID0gdGhpcy5yYW5nZXNbaW5kZXhdLmZyb207XG4gICAgICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmxpbmVBZnRlcihyYW5nZVN0YXJ0KTtcbiAgICAgICAgICAgIGxpbmUgKz0gYWZ0ZXI7XG4gICAgICAgICAgICBlbmQgPSByYW5nZVN0YXJ0ICsgYWZ0ZXIubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGxpbmUsIGVuZCB9O1xuICAgIH1cbiAgICBza2lwR2Fwc1RvKHBvcywgb2Zmc2V0LCBzaWRlKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXhdLnRvLCBvZmZQb3MgPSBwb3MgKyBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoc2lkZSA+IDAgPyBlbmQgPiBvZmZQb3MgOiBlbmQgPj0gb2ZmUG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5yYW5nZXNbKyt0aGlzLnJhbmdlSW5kZXhdLmZyb207XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RhcnQgLSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgbW92ZVJhbmdlSW5kZXgoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXhdLnRvIDwgdGhpcy5wYXJzZWRQb3MpXG4gICAgICAgICAgICB0aGlzLnJhbmdlSW5kZXgrKztcbiAgICB9XG4gICAgZW1pdFRva2VuKGlkLCBmcm9tLCB0bywgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBzaXplID0gNDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuc2tpcEdhcHNUbyhmcm9tLCBvZmZzZXQsIDEpO1xuICAgICAgICAgICAgZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgICBsZXQgbGVuMCA9IHRoaXMuY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5za2lwR2Fwc1RvKHRvLCBvZmZzZXQsIC0xKTtcbiAgICAgICAgICAgIHRvICs9IG9mZnNldDtcbiAgICAgICAgICAgIHNpemUgKz0gdGhpcy5jaHVuay5sZW5ndGggLSBsZW4wO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5jaHVuay5sZW5ndGggLSA0O1xuICAgICAgICBpZiAodGhpcy5sYW5nLnN0cmVhbVBhcnNlci5tZXJnZVRva2VucyAmJiBzaXplID09IDQgJiYgbGFzdCA+PSAwICYmXG4gICAgICAgICAgICB0aGlzLmNodW5rW2xhc3RdID09IGlkICYmIHRoaXMuY2h1bmtbbGFzdCArIDJdID09IGZyb20pXG4gICAgICAgICAgICB0aGlzLmNodW5rW2xhc3QgKyAyXSA9IHRvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmNodW5rLnB1c2goaWQsIGZyb20sIHRvLCBzaXplKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgcGFyc2VMaW5lKGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHsgbGluZSwgZW5kIH0gPSB0aGlzLm5leHRMaW5lKCksIG9mZnNldCA9IDAsIHsgc3RyZWFtUGFyc2VyIH0gPSB0aGlzLmxhbmc7XG4gICAgICAgIGxldCBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUsIGNvbnRleHQgPyBjb250ZXh0LnN0YXRlLnRhYlNpemUgOiA0LCBjb250ZXh0ID8gZ2V0SW5kZW50VW5pdChjb250ZXh0LnN0YXRlKSA6IDIpO1xuICAgICAgICBpZiAoc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgICBzdHJlYW1QYXJzZXIuYmxhbmtMaW5lKHRoaXMuc3RhdGUsIHN0cmVhbS5pbmRlbnRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gcmVhZFRva2VuKHN0cmVhbVBhcnNlci50b2tlbiwgc3RyZWFtLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZW1pdFRva2VuKHRoaXMubGFuZy50b2tlblRhYmxlLnJlc29sdmUodG9rZW4pLCB0aGlzLnBhcnNlZFBvcyArIHN0cmVhbS5zdGFydCwgdGhpcy5wYXJzZWRQb3MgKyBzdHJlYW0ucG9zLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uc3RhcnQgPiAxMDAwMCAvKiBDLk1heExpbmVMZW5ndGggKi8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyc2VkUG9zID0gZW5kO1xuICAgICAgICB0aGlzLm1vdmVSYW5nZUluZGV4KCk7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZFBvcyA8IHRoaXMudG8pXG4gICAgICAgICAgICB0aGlzLnBhcnNlZFBvcysrO1xuICAgIH1cbiAgICBmaW5pc2hDaHVuaygpIHtcbiAgICAgICAgbGV0IHRyZWUgPSBUcmVlLmJ1aWxkKHtcbiAgICAgICAgICAgIGJ1ZmZlcjogdGhpcy5jaHVuayxcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNodW5rU3RhcnQsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMucGFyc2VkUG9zIC0gdGhpcy5jaHVua1N0YXJ0LFxuICAgICAgICAgICAgbm9kZVNldCxcbiAgICAgICAgICAgIHRvcElEOiAwLFxuICAgICAgICAgICAgbWF4QnVmZmVyTGVuZ3RoOiAyMDQ4IC8qIEMuQ2h1bmtTaXplICovLFxuICAgICAgICAgICAgcmV1c2VkOiB0aGlzLmNodW5rUmV1c2VkXG4gICAgICAgIH0pO1xuICAgICAgICB0cmVlID0gbmV3IFRyZWUodHJlZS50eXBlLCB0cmVlLmNoaWxkcmVuLCB0cmVlLnBvc2l0aW9ucywgdHJlZS5sZW5ndGgsIFtbdGhpcy5sYW5nLnN0YXRlQWZ0ZXIsIHRoaXMubGFuZy5zdHJlYW1QYXJzZXIuY29weVN0YXRlKHRoaXMuc3RhdGUpXV0pO1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRyZWUpO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0IC0gdGhpcy5yYW5nZXNbMF0uZnJvbSk7XG4gICAgICAgIHRoaXMuY2h1bmsgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1JldXNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gdGhpcy5wYXJzZWRQb3M7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHRoaXMubGFuZy50b3BOb2RlLCB0aGlzLmNodW5rcywgdGhpcy5jaHVua1BvcywgdGhpcy5wYXJzZWRQb3MgLSB0aGlzLnJhbmdlc1swXS5mcm9tKS5iYWxhbmNlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZFRva2VuKHRva2VuLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICBpZiAoc3RyZWFtLnBvcyA+IHN0cmVhbS5zdGFydClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBwYXJzZXIgZmFpbGVkIHRvIGFkdmFuY2Ugc3RyZWFtLlwiKTtcbn1cbmNvbnN0IG5vVG9rZW5zID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCB0eXBlQXJyYXkgPSBbTm9kZVR5cGUubm9uZV07XG5jb25zdCBub2RlU2V0ID0gLypAX19QVVJFX18qL25ldyBOb2RlU2V0KHR5cGVBcnJheSk7XG5jb25zdCB3YXJuZWQgPSBbXTtcbi8vIENhY2hlIG9mIG5vZGUgdHlwZXMgYnkgbmFtZSBhbmQgdGFnc1xuY29uc3QgYnlUYWcgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGRlZmF1bHRUYWJsZSA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuZm9yIChsZXQgW2xlZ2FjeU5hbWUsIG5hbWVdIG9mIFtcbiAgICBbXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlTmFtZVwiXSxcbiAgICBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGVOYW1lLnNwZWNpYWxcIl0sXG4gICAgW1wic3RyaW5nLTJcIiwgXCJzdHJpbmcuc3BlY2lhbFwiXSxcbiAgICBbXCJkZWZcIiwgXCJ2YXJpYWJsZU5hbWUuZGVmaW5pdGlvblwiXSxcbiAgICBbXCJ0YWdcIiwgXCJ0YWdOYW1lXCJdLFxuICAgIFtcImF0dHJpYnV0ZVwiLCBcImF0dHJpYnV0ZU5hbWVcIl0sXG4gICAgW1widHlwZVwiLCBcInR5cGVOYW1lXCJdLFxuICAgIFtcImJ1aWx0aW5cIiwgXCJ2YXJpYWJsZU5hbWUuc3RhbmRhcmRcIl0sXG4gICAgW1wicXVhbGlmaWVyXCIsIFwibW9kaWZpZXJcIl0sXG4gICAgW1wiZXJyb3JcIiwgXCJpbnZhbGlkXCJdLFxuICAgIFtcImhlYWRlclwiLCBcImhlYWRpbmdcIl0sXG4gICAgW1wicHJvcGVydHlcIiwgXCJwcm9wZXJ0eU5hbWVcIl1cbl0pXG4gICAgZGVmYXVsdFRhYmxlW2xlZ2FjeU5hbWVdID0gLypAX19QVVJFX18qL2NyZWF0ZVRva2VuVHlwZShub1Rva2VucywgbmFtZSk7XG5jbGFzcyBUb2tlblRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihleHRyYSkge1xuICAgICAgICB0aGlzLmV4dHJhID0gZXh0cmE7XG4gICAgICAgIHRoaXMudGFibGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGRlZmF1bHRUYWJsZSk7XG4gICAgfVxuICAgIHJlc29sdmUodGFnKSB7XG4gICAgICAgIHJldHVybiAhdGFnID8gMCA6IHRoaXMudGFibGVbdGFnXSB8fCAodGhpcy50YWJsZVt0YWddID0gY3JlYXRlVG9rZW5UeXBlKHRoaXMuZXh0cmEsIHRhZykpO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHRUb2tlblRhYmxlID0gLypAX19QVVJFX18qL25ldyBUb2tlblRhYmxlKG5vVG9rZW5zKTtcbmZ1bmN0aW9uIHdhcm5Gb3JQYXJ0KHBhcnQsIG1zZykge1xuICAgIGlmICh3YXJuZWQuaW5kZXhPZihwYXJ0KSA+IC0xKVxuICAgICAgICByZXR1cm47XG4gICAgd2FybmVkLnB1c2gocGFydCk7XG4gICAgY29uc29sZS53YXJuKG1zZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVUb2tlblR5cGUoZXh0cmEsIHRhZ1N0cikge1xuICAgIGxldCB0YWdzJDEgPSBbXTtcbiAgICBmb3IgKGxldCBuYW1lIG9mIHRhZ1N0ci5zcGxpdChcIiBcIikpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gW107XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2YgbmFtZS5zcGxpdChcIi5cIikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IChleHRyYVtwYXJ0XSB8fCB0YWdzW3BhcnRdKTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuRm9yUGFydChwYXJ0LCBgVW5rbm93biBoaWdobGlnaHRpbmcgdGFnICR7cGFydH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclBhcnQocGFydCwgYE1vZGlmaWVyICR7cGFydH0gdXNlZCBhdCBzdGFydCBvZiB0YWdgKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZm91bmQubWFwKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQYXJ0KHBhcnQsIGBUYWcgJHtwYXJ0fSB1c2VkIGFzIG1vZGlmaWVyYCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHRhZyBvZiBmb3VuZClcbiAgICAgICAgICAgIHRhZ3MkMS5wdXNoKHRhZyk7XG4gICAgfVxuICAgIGlmICghdGFncyQxLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgbGV0IG5hbWUgPSB0YWdTdHIucmVwbGFjZSgvIC9nLCBcIl9cIiksIGtleSA9IG5hbWUgKyBcIiBcIiArIHRhZ3MkMS5tYXAodCA9PiB0LmlkKTtcbiAgICBsZXQga25vd24gPSBieVRhZ1trZXldO1xuICAgIGlmIChrbm93bilcbiAgICAgICAgcmV0dXJuIGtub3duLmlkO1xuICAgIGxldCB0eXBlID0gYnlUYWdba2V5XSA9IE5vZGVUeXBlLmRlZmluZSh7XG4gICAgICAgIGlkOiB0eXBlQXJyYXkubGVuZ3RoLFxuICAgICAgICBuYW1lLFxuICAgICAgICBwcm9wczogW3N0eWxlVGFncyh7IFtuYW1lXTogdGFncyQxIH0pXVxuICAgIH0pO1xuICAgIHR5cGVBcnJheS5wdXNoKHR5cGUpO1xuICAgIHJldHVybiB0eXBlLmlkO1xufVxuZnVuY3Rpb24gZG9jSUQoZGF0YSwgbGFuZykge1xuICAgIGxldCB0eXBlID0gTm9kZVR5cGUuZGVmaW5lKHsgaWQ6IHR5cGVBcnJheS5sZW5ndGgsIG5hbWU6IFwiRG9jdW1lbnRcIiwgcHJvcHM6IFtcbiAgICAgICAgICAgIGxhbmd1YWdlRGF0YVByb3AuYWRkKCgpID0+IGRhdGEpLFxuICAgICAgICAgICAgaW5kZW50Tm9kZVByb3AuYWRkKCgpID0+IGN4ID0+IGxhbmcuZ2V0SW5kZW50KGN4KSlcbiAgICAgICAgXSwgdG9wOiB0cnVlIH0pO1xuICAgIHR5cGVBcnJheS5wdXNoKHR5cGUpO1xuICAgIHJldHVybiB0eXBlO1xufVxuXG5mdW5jdGlvbiBidWlsZEZvckxpbmUobGluZSkge1xuICAgIHJldHVybiBsaW5lLmxlbmd0aCA8PSA0MDk2ICYmIC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1ZmI1MC1cXHVmZGZmXS8udGVzdChsaW5lKTtcbn1cbmZ1bmN0aW9uIHRleHRIYXNSVEwodGV4dCkge1xuICAgIGZvciAobGV0IGkgPSB0ZXh0Lml0ZXIoKTsgIWkubmV4dCgpLmRvbmU7KVxuICAgICAgICBpZiAoYnVpbGRGb3JMaW5lKGkudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2hhbmdlQWRkc1JUTChjaGFuZ2UpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBjaGFuZ2UuaXRlckNoYW5nZXMoKGZBLCB0QSwgZkIsIHRCLCBpbnMpID0+IHtcbiAgICAgICAgaWYgKCFhZGRlZCAmJiB0ZXh0SGFzUlRMKGlucykpXG4gICAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFkZGVkO1xufVxuY29uc3QgYWx3YXlzSXNvbGF0ZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KSB9KTtcbi8qKlxuTWFrZSBzdXJlIG5vZGVzXG5bbWFya2VkXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmLyNjb21tb24uTm9kZVByb3BeaXNvbGF0ZSlcbmFzIGlzb2xhdGluZyBmb3IgYmlkaXJlY3Rpb25hbCB0ZXh0IGFyZSByZW5kZXJlZCBpbiBhIHdheSB0aGF0XG5pc29sYXRlcyB0aGVtIGZyb20gdGhlIHN1cnJvdW5kaW5nIHRleHQuXG4qL1xuZnVuY3Rpb24gYmlkaUlzb2xhdGVzKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBleHRlbnNpb25zID0gW2lzb2xhdGVNYXJrc107XG4gICAgaWYgKG9wdGlvbnMuYWx3YXlzSXNvbGF0ZSlcbiAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKGFsd2F5c0lzb2xhdGUub2YodHJ1ZSkpO1xuICAgIHJldHVybiBleHRlbnNpb25zO1xufVxuY29uc3QgaXNvbGF0ZU1hcmtzID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzID0gdmlldy5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdmlldy50ZXh0RGlyZWN0aW9uICE9IERpcmVjdGlvbi5MVFIgfHxcbiAgICAgICAgICAgIHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuaGFzUlRMID0gIXRoaXMuYWx3YXlzICYmIHRleHRIYXNSVEwodmlldy5zdGF0ZS5kb2MpO1xuICAgICAgICB0aGlzLnRyZWUgPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpO1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5hbHdheXMgfHwgdGhpcy5oYXNSVEwgPyBidWlsZERlY28odmlldywgdGhpcy50cmVlLCB0aGlzLmFsd2F5cykgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGFsd2F5cyA9IHVwZGF0ZS5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdXBkYXRlLnZpZXcudGV4dERpcmVjdGlvbiAhPSBEaXJlY3Rpb24uTFRSIHx8XG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIGlmICghYWx3YXlzICYmICF0aGlzLmhhc1JUTCAmJiBjaGFuZ2VBZGRzUlRMKHVwZGF0ZS5jaGFuZ2VzKSlcbiAgICAgICAgICAgIHRoaXMuaGFzUlRMID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbHdheXMgJiYgIXRoaXMuaGFzUlRMKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKGFsd2F5cyAhPSB0aGlzLmFsd2F5cyB8fCB0cmVlICE9IHRoaXMudHJlZSB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICAgICAgdGhpcy5hbHdheXMgPSBhbHdheXM7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gYnVpbGREZWNvKHVwZGF0ZS52aWV3LCB0cmVlLCBhbHdheXMpO1xuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIGFjY2Vzcyh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWNvcmF0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbRWRpdG9yVmlldy5vdXRlckRlY29yYXRpb25zLm9mKGFjY2VzcyksXG4gICAgICAgICAgICBQcmVjLmxvd2VzdChFZGl0b3JWaWV3LmJpZGlJc29sYXRlZFJhbmdlcy5vZihhY2Nlc3MpKV07XG4gICAgfVxufSk7XG5mdW5jdGlvbiBidWlsZERlY28odmlldywgdHJlZSwgYWx3YXlzKSB7XG4gICAgbGV0IGRlY28gPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgbGV0IHJhbmdlcyA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAoIWFsd2F5cylcbiAgICAgICAgcmFuZ2VzID0gY2xpcFJUTExpbmVzKHJhbmdlcywgdmlldy5zdGF0ZS5kb2MpO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgdHJlZS5pdGVyYXRlKHtcbiAgICAgICAgICAgIGVudGVyOiBub2RlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXNvID0gbm9kZS50eXBlLnByb3AoTm9kZVByb3AuaXNvbGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzbylcbiAgICAgICAgICAgICAgICAgICAgZGVjby5hZGQobm9kZS5mcm9tLCBub2RlLnRvLCBtYXJrc1tpc29dKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tLCB0b1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY28uZmluaXNoKCk7XG59XG5mdW5jdGlvbiBjbGlwUlRMTGluZXMocmFuZ2VzLCBkb2MpIHtcbiAgICBsZXQgY3VyID0gZG9jLml0ZXIoKSwgcG9zID0gMCwgcmVzdWx0ID0gW10sIGxhc3QgPSBudWxsO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IGZyb20pIHtcbiAgICAgICAgICAgIGZyb20gPSBsYXN0LnRvO1xuICAgICAgICAgICAgaWYgKGZyb20gPj0gdG8pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyArIGN1ci52YWx1ZS5sZW5ndGggPCBmcm9tKSB7XG4gICAgICAgICAgICBjdXIubmV4dChmcm9tIC0gKHBvcyArIGN1ci52YWx1ZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIHBvcyA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9zLCBlbmQgPSBwb3MgKyBjdXIudmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCFjdXIubGluZUJyZWFrICYmIGJ1aWxkRm9yTGluZShjdXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IHN0YXJ0IC0gMTApXG4gICAgICAgICAgICAgICAgICAgIGxhc3QudG8gPSBNYXRoLm1pbih0bywgZW5kKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhc3QgPSB7IGZyb206IHN0YXJ0LCB0bzogTWF0aC5taW4odG8sIGVuZCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID49IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgbWFya3MgPSB7XG4gICAgcnRsOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwicnRsXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5SVEwgfSksXG4gICAgbHRyOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwibHRyXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5MVFIgfSksXG4gICAgYXV0bzogLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLWlzb1wiLCBpbmNsdXNpdmU6IHRydWUsIGF0dHJpYnV0ZXM6IHsgZGlyOiBcImF1dG9cIiB9LCBiaWRpSXNvbGF0ZTogbnVsbCB9KVxufTtcblxuZXhwb3J0IHsgRG9jSW5wdXQsIEhpZ2hsaWdodFN0eWxlLCBJbmRlbnRDb250ZXh0LCBMUkxhbmd1YWdlLCBMYW5ndWFnZSwgTGFuZ3VhZ2VEZXNjcmlwdGlvbiwgTGFuZ3VhZ2VTdXBwb3J0LCBQYXJzZUNvbnRleHQsIFN0cmVhbUxhbmd1YWdlLCBTdHJpbmdTdHJlYW0sIFRyZWVJbmRlbnRDb250ZXh0LCBiaWRpSXNvbGF0ZXMsIGJyYWNrZXRNYXRjaGluZywgYnJhY2tldE1hdGNoaW5nSGFuZGxlLCBjb2RlRm9sZGluZywgY29udGludWVkSW5kZW50LCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIGRlZmluZUxhbmd1YWdlRmFjZXQsIGRlbGltaXRlZEluZGVudCwgZW5zdXJlU3ludGF4VHJlZSwgZmxhdEluZGVudCwgZm9sZEFsbCwgZm9sZENvZGUsIGZvbGRFZmZlY3QsIGZvbGRHdXR0ZXIsIGZvbGRJbnNpZGUsIGZvbGRLZXltYXAsIGZvbGROb2RlUHJvcCwgZm9sZFNlcnZpY2UsIGZvbGRTdGF0ZSwgZm9sZGFibGUsIGZvbGRlZFJhbmdlcywgZm9yY2VQYXJzaW5nLCBnZXRJbmRlbnRVbml0LCBnZXRJbmRlbnRhdGlvbiwgaGlnaGxpZ2h0aW5nRm9yLCBpbmRlbnROb2RlUHJvcCwgaW5kZW50T25JbnB1dCwgaW5kZW50UmFuZ2UsIGluZGVudFNlcnZpY2UsIGluZGVudFN0cmluZywgaW5kZW50VW5pdCwgbGFuZ3VhZ2UsIGxhbmd1YWdlRGF0YVByb3AsIG1hdGNoQnJhY2tldHMsIHN1Ymxhbmd1YWdlUHJvcCwgc3ludGF4SGlnaGxpZ2h0aW5nLCBzeW50YXhQYXJzZXJSdW5uaW5nLCBzeW50YXhUcmVlLCBzeW50YXhUcmVlQXZhaWxhYmxlLCB0b2dnbGVGb2xkLCB1bmZvbGRBbGwsIHVuZm9sZENvZGUsIHVuZm9sZEVmZmVjdCB9O1xuIiwgImltcG9ydCB7IEFubm90YXRpb24sIEZhY2V0LCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBUcmFuc2FjdGlvbiwgQ2hhbmdlU2V0LCBDaGFuZ2VEZXNjLCBFZGl0b3JTZWxlY3Rpb24sIFN0YXRlRWZmZWN0LCBUZXh0LCBmaW5kQ2x1c3RlckJyZWFrLCBjb3VudENvbHVtbiwgQ2hhckNhdGVnb3J5IH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgRWRpdG9yVmlldywgRGlyZWN0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBJbmRlbnRDb250ZXh0LCBnZXRJbmRlbnRhdGlvbiwgaW5kZW50U3RyaW5nLCBtYXRjaEJyYWNrZXRzLCBzeW50YXhUcmVlLCBnZXRJbmRlbnRVbml0LCBpbmRlbnRVbml0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgTm9kZVByb3AgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24uIFdpbGwgdXNlIGxpbmUgY29tbWVudHNcbmlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGxpbmcgYmFjayB0byBibG9jayBjb21tZW50cy5cbiovXG5jb25zdCB0b2dnbGVDb21tZW50ID0gdGFyZ2V0ID0+IHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdGFyZ2V0LCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChzdGF0ZS5zZWxlY3Rpb24ubWFpbi5mcm9tKSwgY29uZmlnID0gZ2V0Q29uZmlnKHRhcmdldC5zdGF0ZSwgbGluZS5mcm9tKTtcbiAgICByZXR1cm4gY29uZmlnLmxpbmUgPyB0b2dnbGVMaW5lQ29tbWVudCh0YXJnZXQpIDogY29uZmlnLmJsb2NrID8gdG9nZ2xlQmxvY2tDb21tZW50QnlMaW5lKHRhcmdldCkgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiBjb21tYW5kKGYsIG9wdGlvbikge1xuICAgIHJldHVybiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB0ciA9IGYob3B0aW9uLCBzdGF0ZSk7XG4gICAgICAgIGlmICghdHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh0cikpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgbGluZSBjb21tZW50cy5cblRoZSBsaW5lIGNvbW1lbnQgc3ludGF4IGlzIHRha2VuIGZyb20gdGhlXG5bYGNvbW1lbnRUb2tlbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLkNvbW1lbnRUb2tlbnMpIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkuXG4qL1xuY29uc3QgdG9nZ2xlTGluZUNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VMaW5lQ29tbWVudCwgMCAvKiBDb21tZW50T3B0aW9uLlRvZ2dsZSAqLyk7XG4vKipcbkNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGxpbmUgY29tbWVudHMuXG4qL1xuY29uc3QgbGluZUNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VMaW5lQ29tbWVudCwgMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8pO1xuLyoqXG5VbmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGxpbmUgY29tbWVudHMuXG4qL1xuY29uc3QgbGluZVVuY29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUxpbmVDb21tZW50LCAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovKTtcbi8qKlxuQ29tbWVudCBvciB1bmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGJsb2NrIGNvbW1lbnRzLlxuVGhlIGJsb2NrIGNvbW1lbnQgc3ludGF4IGlzIHRha2VuIGZyb20gdGhlXG5bYGNvbW1lbnRUb2tlbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLkNvbW1lbnRUb2tlbnMpIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkuXG4qL1xuY29uc3QgdG9nZ2xlQmxvY2tDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlQmxvY2tDb21tZW50LCAwIC8qIENvbW1lbnRPcHRpb24uVG9nZ2xlICovKTtcbi8qKlxuQ29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgYmxvY2tDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlQmxvY2tDb21tZW50LCAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyk7XG4vKipcblVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgYmxvY2tVbmNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VCbG9ja0NvbW1lbnQsIDIgLyogQ29tbWVudE9wdGlvbi5VbmNvbW1lbnQgKi8pO1xuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgbGluZXMgYXJvdW5kIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZ1xuYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgdG9nZ2xlQmxvY2tDb21tZW50QnlMaW5lID0gLypAX19QVVJFX18qL2NvbW1hbmQoKG8sIHMpID0+IGNoYW5nZUJsb2NrQ29tbWVudChvLCBzLCBzZWxlY3RlZExpbmVSYW5nZXMocykpLCAwIC8qIENvbW1lbnRPcHRpb24uVG9nZ2xlICovKTtcbmZ1bmN0aW9uIGdldENvbmZpZyhzdGF0ZSwgcG9zKSB7XG4gICAgbGV0IGRhdGEgPSBzdGF0ZS5sYW5ndWFnZURhdGFBdChcImNvbW1lbnRUb2tlbnNcIiwgcG9zLCAxKTtcbiAgICByZXR1cm4gZGF0YS5sZW5ndGggPyBkYXRhWzBdIDoge307XG59XG5jb25zdCBTZWFyY2hNYXJnaW4gPSA1MDtcbi8qKlxuRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gcmFuZ2UgaXMgYmxvY2stY29tbWVudGVkIGluIHRoZSBnaXZlblxuc3RhdGUuXG4qL1xuZnVuY3Rpb24gZmluZEJsb2NrQ29tbWVudChzdGF0ZSwgeyBvcGVuLCBjbG9zZSB9LCBmcm9tLCB0bykge1xuICAgIGxldCB0ZXh0QmVmb3JlID0gc3RhdGUuc2xpY2VEb2MoZnJvbSAtIFNlYXJjaE1hcmdpbiwgZnJvbSk7XG4gICAgbGV0IHRleHRBZnRlciA9IHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIFNlYXJjaE1hcmdpbik7XG4gICAgbGV0IHNwYWNlQmVmb3JlID0gL1xccyokLy5leGVjKHRleHRCZWZvcmUpWzBdLmxlbmd0aCwgc3BhY2VBZnRlciA9IC9eXFxzKi8uZXhlYyh0ZXh0QWZ0ZXIpWzBdLmxlbmd0aDtcbiAgICBsZXQgYmVmb3JlT2ZmID0gdGV4dEJlZm9yZS5sZW5ndGggLSBzcGFjZUJlZm9yZTtcbiAgICBpZiAodGV4dEJlZm9yZS5zbGljZShiZWZvcmVPZmYgLSBvcGVuLmxlbmd0aCwgYmVmb3JlT2ZmKSA9PSBvcGVuICYmXG4gICAgICAgIHRleHRBZnRlci5zbGljZShzcGFjZUFmdGVyLCBzcGFjZUFmdGVyICsgY2xvc2UubGVuZ3RoKSA9PSBjbG9zZSkge1xuICAgICAgICByZXR1cm4geyBvcGVuOiB7IHBvczogZnJvbSAtIHNwYWNlQmVmb3JlLCBtYXJnaW46IHNwYWNlQmVmb3JlICYmIDEgfSxcbiAgICAgICAgICAgIGNsb3NlOiB7IHBvczogdG8gKyBzcGFjZUFmdGVyLCBtYXJnaW46IHNwYWNlQWZ0ZXIgJiYgMSB9IH07XG4gICAgfVxuICAgIGxldCBzdGFydFRleHQsIGVuZFRleHQ7XG4gICAgaWYgKHRvIC0gZnJvbSA8PSAyICogU2VhcmNoTWFyZ2luKSB7XG4gICAgICAgIHN0YXJ0VGV4dCA9IGVuZFRleHQgPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0byk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGFydFRleHQgPSBzdGF0ZS5zbGljZURvYyhmcm9tLCBmcm9tICsgU2VhcmNoTWFyZ2luKTtcbiAgICAgICAgZW5kVGV4dCA9IHN0YXRlLnNsaWNlRG9jKHRvIC0gU2VhcmNoTWFyZ2luLCB0byk7XG4gICAgfVxuICAgIGxldCBzdGFydFNwYWNlID0gL15cXHMqLy5leGVjKHN0YXJ0VGV4dClbMF0ubGVuZ3RoLCBlbmRTcGFjZSA9IC9cXHMqJC8uZXhlYyhlbmRUZXh0KVswXS5sZW5ndGg7XG4gICAgbGV0IGVuZE9mZiA9IGVuZFRleHQubGVuZ3RoIC0gZW5kU3BhY2UgLSBjbG9zZS5sZW5ndGg7XG4gICAgaWYgKHN0YXJ0VGV4dC5zbGljZShzdGFydFNwYWNlLCBzdGFydFNwYWNlICsgb3Blbi5sZW5ndGgpID09IG9wZW4gJiZcbiAgICAgICAgZW5kVGV4dC5zbGljZShlbmRPZmYsIGVuZE9mZiArIGNsb3NlLmxlbmd0aCkgPT0gY2xvc2UpIHtcbiAgICAgICAgcmV0dXJuIHsgb3BlbjogeyBwb3M6IGZyb20gKyBzdGFydFNwYWNlICsgb3Blbi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAvXFxzLy50ZXN0KHN0YXJ0VGV4dC5jaGFyQXQoc3RhcnRTcGFjZSArIG9wZW4ubGVuZ3RoKSkgPyAxIDogMCB9LFxuICAgICAgICAgICAgY2xvc2U6IHsgcG9zOiB0byAtIGVuZFNwYWNlIC0gY2xvc2UubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogL1xccy8udGVzdChlbmRUZXh0LmNoYXJBdChlbmRPZmYgLSAxKSkgPyAxIDogMCB9IH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gc2VsZWN0ZWRMaW5lUmFuZ2VzKHN0YXRlKSB7XG4gICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IHIgb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBsZXQgZnJvbUxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHIuZnJvbSk7XG4gICAgICAgIGxldCB0b0xpbmUgPSByLnRvIDw9IGZyb21MaW5lLnRvID8gZnJvbUxpbmUgOiBzdGF0ZS5kb2MubGluZUF0KHIudG8pO1xuICAgICAgICBpZiAodG9MaW5lLmZyb20gPiBmcm9tTGluZS5mcm9tICYmIHRvTGluZS5mcm9tID09IHIudG8pXG4gICAgICAgICAgICB0b0xpbmUgPSByLnRvID09IGZyb21MaW5lLnRvICsgMSA/IGZyb21MaW5lIDogc3RhdGUuZG9jLmxpbmVBdChyLnRvIC0gMSk7XG4gICAgICAgIGxldCBsYXN0ID0gcmFuZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChsYXN0ID49IDAgJiYgcmFuZ2VzW2xhc3RdLnRvID4gZnJvbUxpbmUuZnJvbSlcbiAgICAgICAgICAgIHJhbmdlc1tsYXN0XS50byA9IHRvTGluZS50bztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBmcm9tTGluZS5mcm9tICsgL15cXHMqLy5leGVjKGZyb21MaW5lLnRleHQpWzBdLmxlbmd0aCwgdG86IHRvTGluZS50byB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJhbmdlcztcbn1cbi8vIFBlcmZvcm1zIHRvZ2dsZSwgY29tbWVudCBhbmQgdW5jb21tZW50IG9mIGJsb2NrIGNvbW1lbnRzIGluXG4vLyBsYW5ndWFnZXMgdGhhdCBzdXBwb3J0IHRoZW0uXG5mdW5jdGlvbiBjaGFuZ2VCbG9ja0NvbW1lbnQob3B0aW9uLCBzdGF0ZSwgcmFuZ2VzID0gc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgIGxldCB0b2tlbnMgPSByYW5nZXMubWFwKHIgPT4gZ2V0Q29uZmlnKHN0YXRlLCByLmZyb20pLmJsb2NrKTtcbiAgICBpZiAoIXRva2Vucy5ldmVyeShjID0+IGMpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgY29tbWVudHMgPSByYW5nZXMubWFwKChyLCBpKSA9PiBmaW5kQmxvY2tDb21tZW50KHN0YXRlLCB0b2tlbnNbaV0sIHIuZnJvbSwgci50bykpO1xuICAgIGlmIChvcHRpb24gIT0gMiAvKiBDb21tZW50T3B0aW9uLlVuY29tbWVudCAqLyAmJiAhY29tbWVudHMuZXZlcnkoYyA9PiBjKSkge1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBzdGF0ZS5jaGFuZ2VzKHJhbmdlcy5tYXAoKHJhbmdlLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRzW2ldKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt7IGZyb206IHJhbmdlLmZyb20sIGluc2VydDogdG9rZW5zW2ldLm9wZW4gKyBcIiBcIiB9LCB7IGZyb206IHJhbmdlLnRvLCBpbnNlcnQ6IFwiIFwiICsgdG9rZW5zW2ldLmNsb3NlIH1dO1xuICAgICAgICAgICAgfSkpIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbiAhPSAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyAmJiBjb21tZW50cy5zb21lKGMgPT4gYykpIHtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNvbW1lbnQ7IGkgPCBjb21tZW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChjb21tZW50ID0gY29tbWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV0sIHsgb3BlbiwgY2xvc2UgfSA9IGNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogb3Blbi5wb3MgLSB0b2tlbi5vcGVuLmxlbmd0aCwgdG86IG9wZW4ucG9zICsgb3Blbi5tYXJnaW4gfSwgeyBmcm9tOiBjbG9zZS5wb3MgLSBjbG9zZS5tYXJnaW4sIHRvOiBjbG9zZS5wb3MgKyB0b2tlbi5jbG9zZS5sZW5ndGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBQZXJmb3JtcyB0b2dnbGUsIGNvbW1lbnQgYW5kIHVuY29tbWVudCBvZiBsaW5lIGNvbW1lbnRzLlxuZnVuY3Rpb24gY2hhbmdlTGluZUNvbW1lbnQob3B0aW9uLCBzdGF0ZSwgcmFuZ2VzID0gc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIGxldCBwcmV2TGluZSA9IC0xO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgbGV0IHN0YXJ0SSA9IGxpbmVzLmxlbmd0aCwgbWluSW5kZW50ID0gMWU5O1xuICAgICAgICBsZXQgdG9rZW4gPSBnZXRDb25maWcoc3RhdGUsIGZyb20pLmxpbmU7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gZnJvbTsgcG9zIDw9IHRvOykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID4gcHJldkxpbmUgJiYgKGZyb20gPT0gdG8gfHwgdG8gPiBsaW5lLmZyb20pKSB7XG4gICAgICAgICAgICAgICAgcHJldkxpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICAgICAgbGV0IGluZGVudCA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgZW1wdHkgPSBpbmRlbnQgPT0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1lbnQgPSBsaW5lLnRleHQuc2xpY2UoaW5kZW50LCBpbmRlbnQgKyB0b2tlbi5sZW5ndGgpID09IHRva2VuID8gaW5kZW50IDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKGluZGVudCA8IGxpbmUudGV4dC5sZW5ndGggJiYgaW5kZW50IDwgbWluSW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBtaW5JbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaCh7IGxpbmUsIGNvbW1lbnQsIHRva2VuLCBpbmRlbnQsIGVtcHR5LCBzaW5nbGU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pbkluZGVudCA8IDFlOSlcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEk7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAobGluZXNbaV0uaW5kZW50IDwgbGluZXNbaV0ubGluZS50ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0uaW5kZW50ID0gbWluSW5kZW50O1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoID09IHN0YXJ0SSArIDEpXG4gICAgICAgICAgICBsaW5lc1tzdGFydEldLnNpbmdsZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRpb24gIT0gMiAvKiBDb21tZW50T3B0aW9uLlVuY29tbWVudCAqLyAmJiBsaW5lcy5zb21lKGwgPT4gbC5jb21tZW50IDwgMCAmJiAoIWwuZW1wdHkgfHwgbC5zaW5nbGUpKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGxpbmUsIHRva2VuLCBpbmRlbnQsIGVtcHR5LCBzaW5nbGUgfSBvZiBsaW5lcylcbiAgICAgICAgICAgIGlmIChzaW5nbGUgfHwgIWVtcHR5KVxuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSArIGluZGVudCwgaW5zZXJ0OiB0b2tlbiArIFwiIFwiIH0pO1xuICAgICAgICBsZXQgY2hhbmdlU2V0ID0gc3RhdGUuY2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogY2hhbmdlU2V0LCBzZWxlY3Rpb246IHN0YXRlLnNlbGVjdGlvbi5tYXAoY2hhbmdlU2V0LCAxKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb24gIT0gMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8gJiYgbGluZXMuc29tZShsID0+IGwuY29tbWVudCA+PSAwKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGxpbmUsIGNvbW1lbnQsIHRva2VuIH0gb2YgbGluZXMpXG4gICAgICAgICAgICBpZiAoY29tbWVudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBsaW5lLmZyb20gKyBjb21tZW50LCB0byA9IGZyb20gKyB0b2tlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUudGV4dFt0byAtIGxpbmUuZnJvbV0gPT0gXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IGZyb21IaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcblRyYW5zYWN0aW9uIGFubm90YXRpb24gdGhhdCB3aWxsIHByZXZlbnQgdGhhdCB0cmFuc2FjdGlvbiBmcm9tXG5iZWluZyBjb21iaW5lZCB3aXRoIG90aGVyIHRyYW5zYWN0aW9ucyBpbiB0aGUgdW5kbyBoaXN0b3J5LiBHaXZlblxuYFwiYmVmb3JlXCJgLCBpdCdsbCBwcmV2ZW50IG1lcmdpbmcgd2l0aCBwcmV2aW91cyB0cmFuc2FjdGlvbnMuIFdpdGhcbmBcImFmdGVyXCJgLCBzdWJzZXF1ZW50IHRyYW5zYWN0aW9ucyB3b24ndCBiZSBjb21iaW5lZCB3aXRoIHRoaXNcbm9uZS4gV2l0aCBgXCJmdWxsXCJgLCB0aGUgdHJhbnNhY3Rpb24gaXMgaXNvbGF0ZWQgb24gYm90aCBzaWRlcy5cbiovXG5jb25zdCBpc29sYXRlSGlzdG9yeSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5UaGlzIGZhY2V0IHByb3ZpZGVzIGEgd2F5IHRvIHJlZ2lzdGVyIGZ1bmN0aW9ucyB0aGF0LCBnaXZlbiBhXG50cmFuc2FjdGlvbiwgcHJvdmlkZSBhIHNldCBvZiBlZmZlY3RzIHRoYXQgdGhlIGhpc3Rvcnkgc2hvdWxkXG5zdG9yZSB3aGVuIGludmVydGluZyB0aGUgdHJhbnNhY3Rpb24uIFRoaXMgY2FuIGJlIHVzZWQgdG9cbmludGVncmF0ZSBzb21lIGtpbmRzIG9mIGVmZmVjdHMgaW4gdGhlIGhpc3RvcnksIHNvIHRoYXQgdGhleSBjYW5cbmJlIHVuZG9uZSAoYW5kIHJlZG9uZSBhZ2FpbikuXG4qL1xuY29uc3QgaW52ZXJ0ZWRFZmZlY3RzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgaGlzdG9yeUNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBtaW5EZXB0aDogMTAwLFxuICAgICAgICAgICAgbmV3R3JvdXBEZWxheTogNTAwLFxuICAgICAgICAgICAgam9pblRvRXZlbnQ6IChfdCwgaXNBZGphY2VudCkgPT4gaXNBZGphY2VudCxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbWluRGVwdGg6IE1hdGgubWF4LFxuICAgICAgICAgICAgbmV3R3JvdXBEZWxheTogTWF0aC5taW4sXG4gICAgICAgICAgICBqb2luVG9FdmVudDogKGEsIGIpID0+ICh0ciwgYWRqKSA9PiBhKHRyLCBhZGopIHx8IGIodHIsIGFkailcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCBoaXN0b3J5RmllbGRfID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBIaXN0b3J5U3RhdGUuZW1wdHk7XG4gICAgfSxcbiAgICB1cGRhdGUoc3RhdGUsIHRyKSB7XG4gICAgICAgIGxldCBjb25maWcgPSB0ci5zdGF0ZS5mYWNldChoaXN0b3J5Q29uZmlnKTtcbiAgICAgICAgbGV0IGZyb21IaXN0ID0gdHIuYW5ub3RhdGlvbihmcm9tSGlzdG9yeSk7XG4gICAgICAgIGlmIChmcm9tSGlzdCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBIaXN0RXZlbnQuZnJvbVRyYW5zYWN0aW9uKHRyLCBmcm9tSGlzdC5zZWxlY3Rpb24pLCBmcm9tID0gZnJvbUhpc3Quc2lkZTtcbiAgICAgICAgICAgIGxldCBvdGhlciA9IGZyb20gPT0gMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8gPyBzdGF0ZS51bmRvbmUgOiBzdGF0ZS5kb25lO1xuICAgICAgICAgICAgaWYgKGl0ZW0pXG4gICAgICAgICAgICAgICAgb3RoZXIgPSB1cGRhdGVCcmFuY2gob3RoZXIsIG90aGVyLmxlbmd0aCwgY29uZmlnLm1pbkRlcHRoLCBpdGVtKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvdGhlciA9IGFkZFNlbGVjdGlvbihvdGhlciwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IGZyb21IaXN0LnJlc3QgOiBvdGhlciwgZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IG90aGVyIDogZnJvbUhpc3QucmVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlzb2xhdGUgPSB0ci5hbm5vdGF0aW9uKGlzb2xhdGVIaXN0b3J5KTtcbiAgICAgICAgaWYgKGlzb2xhdGUgPT0gXCJmdWxsXCIgfHwgaXNvbGF0ZSA9PSBcImJlZm9yZVwiKVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5pc29sYXRlKCk7XG4gICAgICAgIGlmICh0ci5hbm5vdGF0aW9uKFRyYW5zYWN0aW9uLmFkZFRvSGlzdG9yeSkgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuICF0ci5jaGFuZ2VzLmVtcHR5ID8gc3RhdGUuYWRkTWFwcGluZyh0ci5jaGFuZ2VzLmRlc2MpIDogc3RhdGU7XG4gICAgICAgIGxldCBldmVudCA9IEhpc3RFdmVudC5mcm9tVHJhbnNhY3Rpb24odHIpO1xuICAgICAgICBsZXQgdGltZSA9IHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24udGltZSksIHVzZXJFdmVudCA9IHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24udXNlckV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50KVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5hZGRDaGFuZ2VzKGV2ZW50LCB0aW1lLCB1c2VyRXZlbnQsIGNvbmZpZywgdHIpO1xuICAgICAgICBlbHNlIGlmICh0ci5zZWxlY3Rpb24pXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmFkZFNlbGVjdGlvbih0ci5zdGFydFN0YXRlLnNlbGVjdGlvbiwgdGltZSwgdXNlckV2ZW50LCBjb25maWcubmV3R3JvdXBEZWxheSk7XG4gICAgICAgIGlmIChpc29sYXRlID09IFwiZnVsbFwiIHx8IGlzb2xhdGUgPT0gXCJhZnRlclwiKVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5pc29sYXRlKCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIHRvSlNPTih2YWx1ZSkge1xuICAgICAgICByZXR1cm4geyBkb25lOiB2YWx1ZS5kb25lLm1hcChlID0+IGUudG9KU09OKCkpLCB1bmRvbmU6IHZhbHVlLnVuZG9uZS5tYXAoZSA9PiBlLnRvSlNPTigpKSB9O1xuICAgIH0sXG4gICAgZnJvbUpTT04oanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShqc29uLmRvbmUubWFwKEhpc3RFdmVudC5mcm9tSlNPTiksIGpzb24udW5kb25lLm1hcChIaXN0RXZlbnQuZnJvbUpTT04pKTtcbiAgICB9XG59KTtcbi8qKlxuQ3JlYXRlIGEgaGlzdG9yeSBleHRlbnNpb24gd2l0aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiovXG5mdW5jdGlvbiBoaXN0b3J5KGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgaGlzdG9yeUZpZWxkXyxcbiAgICAgICAgaGlzdG9yeUNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBFZGl0b3JWaWV3LmRvbUV2ZW50SGFuZGxlcnMoe1xuICAgICAgICAgICAgYmVmb3JlaW5wdXQoZSwgdmlldykge1xuICAgICAgICAgICAgICAgIGxldCBjb21tYW5kID0gZS5pbnB1dFR5cGUgPT0gXCJoaXN0b3J5VW5kb1wiID8gdW5kbyA6IGUuaW5wdXRUeXBlID09IFwiaGlzdG9yeVJlZG9cIiA/IHJlZG8gOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZCh2aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICBdO1xufVxuLyoqXG5UaGUgc3RhdGUgZmllbGQgdXNlZCB0byBzdG9yZSB0aGUgaGlzdG9yeSBkYXRhLiBTaG91bGQgcHJvYmFibHlcbm9ubHkgYmUgdXNlZCB3aGVuIHlvdSB3YW50IHRvXG5bc2VyaWFsaXplXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnRvSlNPTikgb3JcbltkZXNlcmlhbGl6ZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5mcm9tSlNPTikgc3RhdGUgb2JqZWN0cyBpbiBhIHdheVxudGhhdCBwcmVzZXJ2ZXMgaGlzdG9yeS5cbiovXG5jb25zdCBoaXN0b3J5RmllbGQgPSBoaXN0b3J5RmllbGRfO1xuZnVuY3Rpb24gY21kKHNpZGUsIHNlbGVjdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkge1xuICAgICAgICBpZiAoIXNlbGVjdGlvbiAmJiBzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGhpc3RvcnlTdGF0ZSA9IHN0YXRlLmZpZWxkKGhpc3RvcnlGaWVsZF8sIGZhbHNlKTtcbiAgICAgICAgaWYgKCFoaXN0b3J5U3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB0ciA9IGhpc3RvcnlTdGF0ZS5wb3Aoc2lkZSwgc3RhdGUsIHNlbGVjdGlvbik7XG4gICAgICAgIGlmICghdHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRpc3BhdGNoKHRyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuVW5kbyBhIHNpbmdsZSBncm91cCBvZiBoaXN0b3J5IGV2ZW50cy4gUmV0dXJucyBmYWxzZSBpZiBubyBncm91cFxud2FzIGF2YWlsYWJsZS5cbiovXG5jb25zdCB1bmRvID0gLypAX19QVVJFX18qL2NtZCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLywgZmFsc2UpO1xuLyoqXG5SZWRvIGEgZ3JvdXAgb2YgaGlzdG9yeSBldmVudHMuIFJldHVybnMgZmFsc2UgaWYgbm8gZ3JvdXAgd2FzXG5hdmFpbGFibGUuXG4qL1xuY29uc3QgcmVkbyA9IC8qQF9fUFVSRV9fKi9jbWQoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLywgZmFsc2UpO1xuLyoqXG5VbmRvIGEgY2hhbmdlIG9yIHNlbGVjdGlvbiBjaGFuZ2UuXG4qL1xuY29uc3QgdW5kb1NlbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi9jbWQoMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8sIHRydWUpO1xuLyoqXG5SZWRvIGEgY2hhbmdlIG9yIHNlbGVjdGlvbiBjaGFuZ2UuXG4qL1xuY29uc3QgcmVkb1NlbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi9jbWQoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLywgdHJ1ZSk7XG5mdW5jdGlvbiBkZXB0aChzaWRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBsZXQgaGlzdFN0YXRlID0gc3RhdGUuZmllbGQoaGlzdG9yeUZpZWxkXywgZmFsc2UpO1xuICAgICAgICBpZiAoIWhpc3RTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgYnJhbmNoID0gc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IGhpc3RTdGF0ZS5kb25lIDogaGlzdFN0YXRlLnVuZG9uZTtcbiAgICAgICAgcmV0dXJuIGJyYW5jaC5sZW5ndGggLSAoYnJhbmNoLmxlbmd0aCAmJiAhYnJhbmNoWzBdLmNoYW5nZXMgPyAxIDogMCk7XG4gICAgfTtcbn1cbi8qKlxuVGhlIGFtb3VudCBvZiB1bmRvYWJsZSBjaGFuZ2UgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIHN0YXRlLlxuKi9cbmNvbnN0IHVuZG9EZXB0aCA9IC8qQF9fUFVSRV9fKi9kZXB0aCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyk7XG4vKipcblRoZSBhbW91bnQgb2YgcmVkb2FibGUgY2hhbmdlIGV2ZW50cyBhdmFpbGFibGUgaW4gYSBnaXZlbiBzdGF0ZS5cbiovXG5jb25zdCByZWRvRGVwdGggPSAvKkBfX1BVUkVfXyovZGVwdGgoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLyk7XG4vLyBIaXN0b3J5IGV2ZW50cyBzdG9yZSBncm91cHMgb2YgY2hhbmdlcyBvciBlZmZlY3RzIHRoYXQgbmVlZCB0byBiZVxuLy8gdW5kb25lL3JlZG9uZSB0b2dldGhlci5cbmNsYXNzIEhpc3RFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGNoYW5nZXMgaW4gdGhpcyBldmVudC4gTm9ybWFsIGV2ZW50cyBob2xkIGF0IGxlYXN0IG9uZVxuICAgIC8vIGNoYW5nZSBvciBlZmZlY3QuIEJ1dCBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHN0b3JlIHNlbGVjdGlvblxuICAgIC8vIGV2ZW50cyBiZWZvcmUgdGhlIGZpcnN0IGNoYW5nZSwgaW4gd2hpY2ggY2FzZSBhIHNwZWNpYWwgdHlwZSBvZlxuICAgIC8vIGluc3RhbmNlIGlzIGNyZWF0ZWQgd2hpY2ggZG9lc24ndCBob2xkIGFueSBjaGFuZ2VzLCB3aXRoXG4gICAgLy8gY2hhbmdlcyA9PSBzdGFydFNlbGVjdGlvbiA9PSB1bmRlZmluZWRcbiAgICBjaGFuZ2VzLCBcbiAgICAvLyBUaGUgZWZmZWN0cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBldmVudFxuICAgIGVmZmVjdHMsIFxuICAgIC8vIEFjY3VtdWxhdGVkIG1hcHBpbmcgKGZyb20gYWRkVG9IaXN0b3J5PT1mYWxzZSkgdGhhdCBzaG91bGQgYmVcbiAgICAvLyBhcHBsaWVkIHRvIGV2ZW50cyBiZWxvdyB0aGlzIG9uZS5cbiAgICBtYXBwZWQsIFxuICAgIC8vIFRoZSBzZWxlY3Rpb24gYmVmb3JlIHRoaXMgZXZlbnRcbiAgICBzdGFydFNlbGVjdGlvbiwgXG4gICAgLy8gU3RvcmVzIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIHRoaXMgZXZlbnQsIHRvIGJlIHVzZWQgZm9yXG4gICAgLy8gc2VsZWN0aW9uIHVuZG8vcmVkby5cbiAgICBzZWxlY3Rpb25zQWZ0ZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gZWZmZWN0cztcbiAgICAgICAgdGhpcy5tYXBwZWQgPSBtYXBwZWQ7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3Rpb24gPSBzdGFydFNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zQWZ0ZXIgPSBzZWxlY3Rpb25zQWZ0ZXI7XG4gICAgfVxuICAgIHNldFNlbEFmdGVyKGFmdGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHRoaXMuY2hhbmdlcywgdGhpcy5lZmZlY3RzLCB0aGlzLm1hcHBlZCwgdGhpcy5zdGFydFNlbGVjdGlvbiwgYWZ0ZXIpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogKF9hID0gdGhpcy5jaGFuZ2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9KU09OKCksXG4gICAgICAgICAgICBtYXBwZWQ6IChfYiA9IHRoaXMubWFwcGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudG9KU09OKCksXG4gICAgICAgICAgICBzdGFydFNlbGVjdGlvbjogKF9jID0gdGhpcy5zdGFydFNlbGVjdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvSlNPTigpLFxuICAgICAgICAgICAgc2VsZWN0aW9uc0FmdGVyOiB0aGlzLnNlbGVjdGlvbnNBZnRlci5tYXAocyA9PiBzLnRvSlNPTigpKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RFdmVudChqc29uLmNoYW5nZXMgJiYgQ2hhbmdlU2V0LmZyb21KU09OKGpzb24uY2hhbmdlcyksIFtdLCBqc29uLm1hcHBlZCAmJiBDaGFuZ2VEZXNjLmZyb21KU09OKGpzb24ubWFwcGVkKSwganNvbi5zdGFydFNlbGVjdGlvbiAmJiBFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04oanNvbi5zdGFydFNlbGVjdGlvbiksIGpzb24uc2VsZWN0aW9uc0FmdGVyLm1hcChFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04pKTtcbiAgICB9XG4gICAgLy8gVGhpcyBkb2VzIG5vdCBjaGVjayBgYWRkVG9IaXN0b3J5YCBhbmQgc3VjaCwgaXQgYXNzdW1lcyB0aGVcbiAgICAvLyB0cmFuc2FjdGlvbiBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgdG8gYW4gaXRlbS4gUmV0dXJucyBudWxsIHdoZW5cbiAgICAvLyB0aGVyZSBhcmUgbm8gY2hhbmdlcyBvciBlZmZlY3RzIGluIHRoZSB0cmFuc2FjdGlvbi5cbiAgICBzdGF0aWMgZnJvbVRyYW5zYWN0aW9uKHRyLCBzZWxlY3Rpb24pIHtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSBub25lO1xuICAgICAgICBmb3IgKGxldCBpbnZlcnQgb2YgdHIuc3RhcnRTdGF0ZS5mYWNldChpbnZlcnRlZEVmZmVjdHMpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gaW52ZXJ0KHRyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGVmZmVjdHMgPSBlZmZlY3RzLmNvbmNhdChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZWZmZWN0cy5sZW5ndGggJiYgdHIuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RFdmVudCh0ci5jaGFuZ2VzLmludmVydCh0ci5zdGFydFN0YXRlLmRvYyksIGVmZmVjdHMsIHVuZGVmaW5lZCwgc2VsZWN0aW9uIHx8IHRyLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLCBub25lKTtcbiAgICB9XG4gICAgc3RhdGljIHNlbGVjdGlvbihzZWxlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHVuZGVmaW5lZCwgbm9uZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHNlbGVjdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUJyYW5jaChicmFuY2gsIHRvLCBtYXhMZW4sIG5ld0V2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gdG8gKyAxID4gbWF4TGVuICsgMjAgPyB0byAtIG1heExlbiAtIDEgOiAwO1xuICAgIGxldCBuZXdCcmFuY2ggPSBicmFuY2guc2xpY2Uoc3RhcnQsIHRvKTtcbiAgICBuZXdCcmFuY2gucHVzaChuZXdFdmVudCk7XG4gICAgcmV0dXJuIG5ld0JyYW5jaDtcbn1cbmZ1bmN0aW9uIGlzQWRqYWNlbnQoYSwgYikge1xuICAgIGxldCByYW5nZXMgPSBbXSwgaXNBZGphY2VudCA9IGZhbHNlO1xuICAgIGEuaXRlckNoYW5nZWRSYW5nZXMoKGYsIHQpID0+IHJhbmdlcy5wdXNoKGYsIHQpKTtcbiAgICBiLml0ZXJDaGFuZ2VkUmFuZ2VzKChfZiwgX3QsIGYsIHQpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSByYW5nZXNbaSsrXSwgdG8gPSByYW5nZXNbaSsrXTtcbiAgICAgICAgICAgIGlmICh0ID49IGZyb20gJiYgZiA8PSB0bylcbiAgICAgICAgICAgICAgICBpc0FkamFjZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpc0FkamFjZW50O1xufVxuZnVuY3Rpb24gZXFTZWxlY3Rpb25TaGFwZShhLCBiKSB7XG4gICAgcmV0dXJuIGEucmFuZ2VzLmxlbmd0aCA9PSBiLnJhbmdlcy5sZW5ndGggJiZcbiAgICAgICAgYS5yYW5nZXMuZmlsdGVyKChyLCBpKSA9PiByLmVtcHR5ICE9IGIucmFuZ2VzW2ldLmVtcHR5KS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiBjb25jKGEsIGIpIHtcbiAgICByZXR1cm4gIWEubGVuZ3RoID8gYiA6ICFiLmxlbmd0aCA/IGEgOiBhLmNvbmNhdChiKTtcbn1cbmNvbnN0IG5vbmUgPSBbXTtcbmNvbnN0IE1heFNlbGVjdGlvbnNQZXJFdmVudCA9IDIwMDtcbmZ1bmN0aW9uIGFkZFNlbGVjdGlvbihicmFuY2gsIHNlbGVjdGlvbikge1xuICAgIGlmICghYnJhbmNoLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW0hpc3RFdmVudC5zZWxlY3Rpb24oW3NlbGVjdGlvbl0pXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBsYXN0RXZlbnQgPSBicmFuY2hbYnJhbmNoLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgc2VscyA9IGxhc3RFdmVudC5zZWxlY3Rpb25zQWZ0ZXIuc2xpY2UoTWF0aC5tYXgoMCwgbGFzdEV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggLSBNYXhTZWxlY3Rpb25zUGVyRXZlbnQpKTtcbiAgICAgICAgaWYgKHNlbHMubGVuZ3RoICYmIHNlbHNbc2Vscy5sZW5ndGggLSAxXS5lcShzZWxlY3Rpb24pKVxuICAgICAgICAgICAgcmV0dXJuIGJyYW5jaDtcbiAgICAgICAgc2Vscy5wdXNoKHNlbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB1cGRhdGVCcmFuY2goYnJhbmNoLCBicmFuY2gubGVuZ3RoIC0gMSwgMWU5LCBsYXN0RXZlbnQuc2V0U2VsQWZ0ZXIoc2VscykpO1xuICAgIH1cbn1cbi8vIEFzc3VtZXMgdGhlIHRvcCBpdGVtIGhhcyBvbmUgb3IgbW9yZSBzZWxlY3Rpb25BZnRlciB2YWx1ZXNcbmZ1bmN0aW9uIHBvcFNlbGVjdGlvbihicmFuY2gpIHtcbiAgICBsZXQgbGFzdCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV07XG4gICAgbGV0IG5ld0JyYW5jaCA9IGJyYW5jaC5zbGljZSgpO1xuICAgIG5ld0JyYW5jaFticmFuY2gubGVuZ3RoIC0gMV0gPSBsYXN0LnNldFNlbEFmdGVyKGxhc3Quc2VsZWN0aW9uc0FmdGVyLnNsaWNlKDAsIGxhc3Quc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAtIDEpKTtcbiAgICByZXR1cm4gbmV3QnJhbmNoO1xufVxuLy8gQWRkIGEgbWFwcGluZyB0byB0aGUgdG9wIGV2ZW50IGluIHRoZSBnaXZlbiBicmFuY2guIElmIHRoaXMgbWFwc1xuLy8gYXdheSBhbGwgdGhlIGNoYW5nZXMgYW5kIGVmZmVjdHMgaW4gdGhhdCBpdGVtLCBkcm9wIGl0IGFuZFxuLy8gcHJvcGFnYXRlIHRoZSBtYXBwaW5nIHRvIHRoZSBuZXh0IGl0ZW0uXG5mdW5jdGlvbiBhZGRNYXBwaW5nVG9CcmFuY2goYnJhbmNoLCBtYXBwaW5nKSB7XG4gICAgaWYgKCFicmFuY2gubGVuZ3RoKVxuICAgICAgICByZXR1cm4gYnJhbmNoO1xuICAgIGxldCBsZW5ndGggPSBicmFuY2gubGVuZ3RoLCBzZWxlY3Rpb25zID0gbm9uZTtcbiAgICB3aGlsZSAobGVuZ3RoKSB7XG4gICAgICAgIGxldCBldmVudCA9IG1hcEV2ZW50KGJyYW5jaFtsZW5ndGggLSAxXSwgbWFwcGluZywgc2VsZWN0aW9ucyk7XG4gICAgICAgIGlmIChldmVudC5jaGFuZ2VzICYmICFldmVudC5jaGFuZ2VzLmVtcHR5IHx8IGV2ZW50LmVmZmVjdHMubGVuZ3RoKSB7IC8vIEV2ZW50IHN1cnZpdmVkIG1hcHBpbmdcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBicmFuY2guc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHJlc3VsdFtsZW5ndGggLSAxXSA9IGV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gRHJvcCB0aGlzIGV2ZW50LCBzaW5jZSB0aGVyZSdzIG5vIGNoYW5nZXMgb3IgZWZmZWN0cyBsZWZ0XG4gICAgICAgICAgICBtYXBwaW5nID0gZXZlbnQubWFwcGVkO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gZXZlbnQuc2VsZWN0aW9uc0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rpb25zLmxlbmd0aCA/IFtIaXN0RXZlbnQuc2VsZWN0aW9uKHNlbGVjdGlvbnMpXSA6IG5vbmU7XG59XG5mdW5jdGlvbiBtYXBFdmVudChldmVudCwgbWFwcGluZywgZXh0cmFTZWxlY3Rpb25zKSB7XG4gICAgbGV0IHNlbGVjdGlvbnMgPSBjb25jKGV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggPyBldmVudC5zZWxlY3Rpb25zQWZ0ZXIubWFwKHMgPT4gcy5tYXAobWFwcGluZykpIDogbm9uZSwgZXh0cmFTZWxlY3Rpb25zKTtcbiAgICAvLyBDaGFuZ2UtbGVzcyBldmVudHMgZG9uJ3Qgc3RvcmUgbWFwcGluZ3MgKHRoZXkgYXJlIGFsd2F5cyB0aGUgbGFzdCBldmVudCBpbiBhIGJyYW5jaClcbiAgICBpZiAoIWV2ZW50LmNoYW5nZXMpXG4gICAgICAgIHJldHVybiBIaXN0RXZlbnQuc2VsZWN0aW9uKHNlbGVjdGlvbnMpO1xuICAgIGxldCBtYXBwZWRDaGFuZ2VzID0gZXZlbnQuY2hhbmdlcy5tYXAobWFwcGluZyksIGJlZm9yZSA9IG1hcHBpbmcubWFwRGVzYyhldmVudC5jaGFuZ2VzLCB0cnVlKTtcbiAgICBsZXQgZnVsbE1hcHBpbmcgPSBldmVudC5tYXBwZWQgPyBldmVudC5tYXBwZWQuY29tcG9zZURlc2MoYmVmb3JlKSA6IGJlZm9yZTtcbiAgICByZXR1cm4gbmV3IEhpc3RFdmVudChtYXBwZWRDaGFuZ2VzLCBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGV2ZW50LmVmZmVjdHMsIG1hcHBpbmcpLCBmdWxsTWFwcGluZywgZXZlbnQuc3RhcnRTZWxlY3Rpb24ubWFwKGJlZm9yZSksIHNlbGVjdGlvbnMpO1xufVxuY29uc3Qgam9pbmFibGVVc2VyRXZlbnQgPSAvXihpbnB1dFxcLnR5cGV8ZGVsZXRlKSgkfFxcLikvO1xuY2xhc3MgSGlzdG9yeVN0YXRlIHtcbiAgICBjb25zdHJ1Y3Rvcihkb25lLCB1bmRvbmUsIHByZXZUaW1lID0gMCwgcHJldlVzZXJFdmVudCA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmRvbmUgPSBkb25lO1xuICAgICAgICB0aGlzLnVuZG9uZSA9IHVuZG9uZTtcbiAgICAgICAgdGhpcy5wcmV2VGltZSA9IHByZXZUaW1lO1xuICAgICAgICB0aGlzLnByZXZVc2VyRXZlbnQgPSBwcmV2VXNlckV2ZW50O1xuICAgIH1cbiAgICBpc29sYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2VGltZSA/IG5ldyBIaXN0b3J5U3RhdGUodGhpcy5kb25lLCB0aGlzLnVuZG9uZSkgOiB0aGlzO1xuICAgIH1cbiAgICBhZGRDaGFuZ2VzKGV2ZW50LCB0aW1lLCB1c2VyRXZlbnQsIGNvbmZpZywgdHIpIHtcbiAgICAgICAgbGV0IGRvbmUgPSB0aGlzLmRvbmUsIGxhc3RFdmVudCA9IGRvbmVbZG9uZS5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RFdmVudCAmJiBsYXN0RXZlbnQuY2hhbmdlcyAmJiAhbGFzdEV2ZW50LmNoYW5nZXMuZW1wdHkgJiYgZXZlbnQuY2hhbmdlcyAmJlxuICAgICAgICAgICAgKCF1c2VyRXZlbnQgfHwgam9pbmFibGVVc2VyRXZlbnQudGVzdCh1c2VyRXZlbnQpKSAmJlxuICAgICAgICAgICAgKCghbGFzdEV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICB0aW1lIC0gdGhpcy5wcmV2VGltZSA8IGNvbmZpZy5uZXdHcm91cERlbGF5ICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLmpvaW5Ub0V2ZW50KHRyLCBpc0FkamFjZW50KGxhc3RFdmVudC5jaGFuZ2VzLCBldmVudC5jaGFuZ2VzKSkpIHx8XG4gICAgICAgICAgICAgICAgLy8gRm9yIGNvbXBvc2UgKGJ1dCBub3QgY29tcG9zZS5zdGFydCkgZXZlbnRzLCBhbHdheXMgam9pbiB3aXRoIHByZXZpb3VzIGV2ZW50XG4gICAgICAgICAgICAgICAgdXNlckV2ZW50ID09IFwiaW5wdXQudHlwZS5jb21wb3NlXCIpKSB7XG4gICAgICAgICAgICBkb25lID0gdXBkYXRlQnJhbmNoKGRvbmUsIGRvbmUubGVuZ3RoIC0gMSwgY29uZmlnLm1pbkRlcHRoLCBuZXcgSGlzdEV2ZW50KGV2ZW50LmNoYW5nZXMuY29tcG9zZShsYXN0RXZlbnQuY2hhbmdlcyksIGNvbmMoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhldmVudC5lZmZlY3RzLCBsYXN0RXZlbnQuY2hhbmdlcyksIGxhc3RFdmVudC5lZmZlY3RzKSwgbGFzdEV2ZW50Lm1hcHBlZCwgbGFzdEV2ZW50LnN0YXJ0U2VsZWN0aW9uLCBub25lKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb25lID0gdXBkYXRlQnJhbmNoKGRvbmUsIGRvbmUubGVuZ3RoLCBjb25maWcubWluRGVwdGgsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShkb25lLCBub25lLCB0aW1lLCB1c2VyRXZlbnQpO1xuICAgIH1cbiAgICBhZGRTZWxlY3Rpb24oc2VsZWN0aW9uLCB0aW1lLCB1c2VyRXZlbnQsIG5ld0dyb3VwRGVsYXkpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmRvbmUubGVuZ3RoID8gdGhpcy5kb25lW3RoaXMuZG9uZS5sZW5ndGggLSAxXS5zZWxlY3Rpb25zQWZ0ZXIgOiBub25lO1xuICAgICAgICBpZiAobGFzdC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICB0aW1lIC0gdGhpcy5wcmV2VGltZSA8IG5ld0dyb3VwRGVsYXkgJiZcbiAgICAgICAgICAgIHVzZXJFdmVudCA9PSB0aGlzLnByZXZVc2VyRXZlbnQgJiYgdXNlckV2ZW50ICYmIC9ec2VsZWN0KCR8XFwuKS8udGVzdCh1c2VyRXZlbnQpICYmXG4gICAgICAgICAgICBlcVNlbGVjdGlvblNoYXBlKGxhc3RbbGFzdC5sZW5ndGggLSAxXSwgc2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShhZGRTZWxlY3Rpb24odGhpcy5kb25lLCBzZWxlY3Rpb24pLCB0aGlzLnVuZG9uZSwgdGltZSwgdXNlckV2ZW50KTtcbiAgICB9XG4gICAgYWRkTWFwcGluZyhtYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGFkZE1hcHBpbmdUb0JyYW5jaCh0aGlzLmRvbmUsIG1hcHBpbmcpLCBhZGRNYXBwaW5nVG9CcmFuY2godGhpcy51bmRvbmUsIG1hcHBpbmcpLCB0aGlzLnByZXZUaW1lLCB0aGlzLnByZXZVc2VyRXZlbnQpO1xuICAgIH1cbiAgICBwb3Aoc2lkZSwgc3RhdGUsIG9ubHlTZWxlY3Rpb24pIHtcbiAgICAgICAgbGV0IGJyYW5jaCA9IHNpZGUgPT0gMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8gPyB0aGlzLmRvbmUgOiB0aGlzLnVuZG9uZTtcbiAgICAgICAgaWYgKGJyYW5jaC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgZXZlbnQgPSBicmFuY2hbYnJhbmNoLmxlbmd0aCAtIDFdLCBzZWxlY3Rpb24gPSBldmVudC5zZWxlY3Rpb25zQWZ0ZXJbMF0gfHwgc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBpZiAob25seVNlbGVjdGlvbiAmJiBldmVudC5zZWxlY3Rpb25zQWZ0ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGV2ZW50LnNlbGVjdGlvbnNBZnRlcltldmVudC5zZWxlY3Rpb25zQWZ0ZXIubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6IGZyb21IaXN0b3J5Lm9mKHsgc2lkZSwgcmVzdDogcG9wU2VsZWN0aW9uKGJyYW5jaCksIHNlbGVjdGlvbiB9KSxcbiAgICAgICAgICAgICAgICB1c2VyRXZlbnQ6IHNpZGUgPT0gMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8gPyBcInNlbGVjdC51bmRvXCIgOiBcInNlbGVjdC5yZWRvXCIsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFldmVudC5jaGFuZ2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXN0ID0gYnJhbmNoLmxlbmd0aCA9PSAxID8gbm9uZSA6IGJyYW5jaC5zbGljZSgwLCBicmFuY2gubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBpZiAoZXZlbnQubWFwcGVkKVxuICAgICAgICAgICAgICAgIHJlc3QgPSBhZGRNYXBwaW5nVG9CcmFuY2gocmVzdCwgZXZlbnQubWFwcGVkKTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGNoYW5nZXM6IGV2ZW50LmNoYW5nZXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBldmVudC5zdGFydFNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBldmVudC5lZmZlY3RzLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb25zOiBmcm9tSGlzdG9yeS5vZih7IHNpZGUsIHJlc3QsIHNlbGVjdGlvbiB9KSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IFwidW5kb1wiIDogXCJyZWRvXCIsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuSGlzdG9yeVN0YXRlLmVtcHR5ID0gLypAX19QVVJFX18qL25ldyBIaXN0b3J5U3RhdGUobm9uZSwgbm9uZSk7XG4vKipcbkRlZmF1bHQga2V5IGJpbmRpbmdzIGZvciB0aGUgdW5kbyBoaXN0b3J5LlxuXG4tIE1vZC16OiBbYHVuZG9gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnVuZG8pLlxuLSBNb2QteSAoTW9kLVNoaWZ0LXogb24gbWFjT1MpICsgQ3RybC1TaGlmdC16IG9uIExpbnV4OiBbYHJlZG9gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnJlZG8pLlxuLSBNb2QtdTogW2B1bmRvU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy51bmRvU2VsZWN0aW9uKS5cbi0gQWx0LXUgKE1vZC1TaGlmdC11IG9uIG1hY09TKTogW2ByZWRvU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5yZWRvU2VsZWN0aW9uKS5cbiovXG5jb25zdCBoaXN0b3J5S2V5bWFwID0gW1xuICAgIHsga2V5OiBcIk1vZC16XCIsIHJ1bjogdW5kbywgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QteVwiLCBtYWM6IFwiTW9kLVNoaWZ0LXpcIiwgcnVuOiByZWRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbGludXg6IFwiQ3RybC1TaGlmdC16XCIsIHJ1bjogcmVkbywgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtdVwiLCBydW46IHVuZG9TZWxlY3Rpb24sIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQWx0LXVcIiwgbWFjOiBcIk1vZC1TaGlmdC11XCIsIHJ1bjogcmVkb1NlbGVjdGlvbiwgcHJldmVudERlZmF1bHQ6IHRydWUgfVxuXTtcblxuZnVuY3Rpb24gdXBkYXRlU2VsKHNlbCwgYnkpIHtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShzZWwucmFuZ2VzLm1hcChieSksIHNlbC5tYWluSW5kZXgpO1xufVxuZnVuY3Rpb24gc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcInNlbGVjdFwiIH0pO1xufVxuZnVuY3Rpb24gbW92ZVNlbCh7IHN0YXRlLCBkaXNwYXRjaCB9LCBob3cpIHtcbiAgICBsZXQgc2VsZWN0aW9uID0gdXBkYXRlU2VsKHN0YXRlLnNlbGVjdGlvbiwgaG93KTtcbiAgICBpZiAoc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbiwgdHJ1ZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmb3J3YXJkID8gcmFuZ2UudG8gOiByYW5nZS5mcm9tKTtcbn1cbmZ1bmN0aW9uIGN1cnNvckJ5Q2hhcih2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIG1vdmVTZWwodmlldywgcmFuZ2UgPT4gcmFuZ2UuZW1wdHkgPyB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbmZ1bmN0aW9uIGx0ckF0Q3Vyc29yKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldy50ZXh0RGlyZWN0aW9uQXQodmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKSA9PSBEaXJlY3Rpb24uTFRSO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciB0byB0aGUgbGVmdCAod2hpY2ggaXMgYmFja3dhcmQgaW5cbmxlZnQtdG8tcmlnaHQgdGV4dCwgZm9yd2FyZCBpbiByaWdodC10by1sZWZ0IHRleHQpLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJMZWZ0ID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IGN1cnNvckNoYXJSaWdodCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgZm9yd2FyZC5cbiovXG5jb25zdCBjdXJzb3JDaGFyRm9yd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBiYWNrd2FyZC5cbiovXG5jb25zdCBjdXJzb3JDaGFyQmFja3dhcmQgPSB2aWV3ID0+IGN1cnNvckJ5Q2hhcih2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBieUNoYXJMb2dpY2FsKHN0YXRlLCByYW5nZSwgZm9yd2FyZCkge1xuICAgIGxldCBwb3MgPSByYW5nZS5oZWFkLCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgIGlmIChwb3MgPT0gKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tKSlcbiAgICAgICAgcG9zID0gZm9yd2FyZCA/IE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIGxpbmUudG8gKyAxKSA6IE1hdGgubWF4KDAsIGxpbmUuZnJvbSAtIDEpO1xuICAgIGVsc2VcbiAgICAgICAgcG9zID0gbGluZS5mcm9tICsgZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZm9yd2FyZCk7XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBmb3J3YXJkID8gLTEgOiAxKTtcbn1cbmZ1bmN0aW9uIG1vdmVCeUNoYXJMb2dpY2FsKHRhcmdldCwgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHRhcmdldCwgcmFuZ2UgPT4gcmFuZ2UuZW1wdHkgPyBieUNoYXJMb2dpY2FsKHRhcmdldC5zdGF0ZSwgcmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgZm9yd2FyZCwgaW4gbG9naWNhbFxuKG5vbi10ZXh0LWRpcmVjdGlvbi1hd2FyZSkgc3RyaW5nIGluZGV4IG9yZGVyLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJGb3J3YXJkTG9naWNhbCA9IHRhcmdldCA9PiBtb3ZlQnlDaGFyTG9naWNhbCh0YXJnZXQsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBiYWNrd2FyZCwgaW4gbG9naWNhbCBzdHJpbmcgaW5kZXhcbm9yZGVyLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJCYWNrd2FyZExvZ2ljYWwgPSB0YXJnZXQgPT4gbW92ZUJ5Q2hhckxvZ2ljYWwodGFyZ2V0LCBmYWxzZSk7XG5mdW5jdGlvbiBjdXJzb3JCeUdyb3VwKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZUJ5R3JvdXAocmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBsZWZ0IGFjcm9zcyBvbmUgZ3JvdXAgb2Ygd29yZCBvclxubm9uLXdvcmQgKGJ1dCBhbHNvIG5vbi1zcGFjZSkgY2hhcmFjdGVycy5cbiovXG5jb25zdCBjdXJzb3JHcm91cExlZnQgPSB2aWV3ID0+IGN1cnNvckJ5R3JvdXAodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yR3JvdXBSaWdodCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCBsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgZm9yd2FyZC5cbiovXG5jb25zdCBjdXJzb3JHcm91cEZvcndhcmQgPSB2aWV3ID0+IGN1cnNvckJ5R3JvdXAodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgYmFja3dhcmQuXG4qL1xuY29uc3QgY3Vyc29yR3JvdXBCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiB0b0dyb3VwU3RhcnQodmlldywgcG9zLCBzdGFydCkge1xuICAgIGxldCBjYXRlZ29yaXplID0gdmlldy5zdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocG9zKTtcbiAgICBsZXQgY2F0ID0gY2F0ZWdvcml6ZShzdGFydCksIGluaXRpYWwgPSBjYXQgIT0gQ2hhckNhdGVnb3J5LlNwYWNlO1xuICAgIHJldHVybiAobmV4dCkgPT4ge1xuICAgICAgICBsZXQgbmV4dENhdCA9IGNhdGVnb3JpemUobmV4dCk7XG4gICAgICAgIGlmIChuZXh0Q2F0ICE9IENoYXJDYXRlZ29yeS5TcGFjZSlcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsICYmIG5leHRDYXQgPT0gY2F0O1xuICAgICAgICBpbml0aWFsID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbk1vdmUgdGhlIGN1cnNvciBvbmUgZ3JvdXAgZm9yd2FyZCBpbiB0aGUgZGVmYXVsdCBXaW5kb3dzIHN0eWxlLFxud2hlcmUgaXQgbW92ZXMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGdyb3VwLlxuKi9cbmNvbnN0IGN1cnNvckdyb3VwRm9yd2FyZFdpbiA9IHZpZXcgPT4ge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHJhbmdlLmVtcHR5XG4gICAgICAgID8gdmlldy5tb3ZlQnlDaGFyKHJhbmdlLCB0cnVlLCBzdGFydCA9PiB0b0dyb3VwU3RhcnQodmlldywgcmFuZ2UuaGVhZCwgc3RhcnQpKVxuICAgICAgICA6IHJhbmdlRW5kKHJhbmdlLCB0cnVlKSk7XG59O1xuY29uc3Qgc2VnbWVudGVyID0gdHlwZW9mIEludGwgIT0gXCJ1bmRlZmluZWRcIiAmJiBJbnRsLlNlZ21lbnRlciA/XG4gICAgLypAX19QVVJFX18qL25ldyAoSW50bC5TZWdtZW50ZXIpKHVuZGVmaW5lZCwgeyBncmFudWxhcml0eTogXCJ3b3JkXCIgfSkgOiBudWxsO1xuZnVuY3Rpb24gbW92ZUJ5U3Vid29yZCh2aWV3LCByYW5nZSwgZm9yd2FyZCkge1xuICAgIGxldCBjYXRlZ29yaXplID0gdmlldy5zdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocmFuZ2UuZnJvbSk7XG4gICAgbGV0IGNhdCA9IENoYXJDYXRlZ29yeS5TcGFjZSwgcG9zID0gcmFuZ2UuZnJvbSwgc3RlcHMgPSAwO1xuICAgIGxldCBkb25lID0gZmFsc2UsIHNhd1VwcGVyID0gZmFsc2UsIHNhd0xvd2VyID0gZmFsc2U7XG4gICAgbGV0IHN0ZXAgPSAobmV4dCkgPT4ge1xuICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcG9zICs9IGZvcndhcmQgPyBuZXh0Lmxlbmd0aCA6IC1uZXh0Lmxlbmd0aDtcbiAgICAgICAgbGV0IG5leHRDYXQgPSBjYXRlZ29yaXplKG5leHQpLCBhaGVhZDtcbiAgICAgICAgaWYgKG5leHRDYXQgPT0gQ2hhckNhdGVnb3J5LldvcmQgJiYgbmV4dC5jaGFyQ29kZUF0KDApIDwgMTI4ICYmIC9bXFxXX10vLnRlc3QobmV4dCkpXG4gICAgICAgICAgICBuZXh0Q2F0ID0gLTE7IC8vIFRyZWF0IHdvcmQgcHVuY3R1YXRpb24gc3BlY2lhbGx5XG4gICAgICAgIGlmIChjYXQgPT0gQ2hhckNhdGVnb3J5LlNwYWNlKVxuICAgICAgICAgICAgY2F0ID0gbmV4dENhdDtcbiAgICAgICAgaWYgKGNhdCAhPSBuZXh0Q2F0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY2F0ID09IENoYXJDYXRlZ29yeS5Xb3JkKSB7XG4gICAgICAgICAgICBpZiAobmV4dC50b0xvd2VyQ2FzZSgpID09IG5leHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcndhcmQgJiYgc2F3VXBwZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBzYXdMb3dlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzYXdMb3dlcikge1xuICAgICAgICAgICAgICAgIGlmIChmb3J3YXJkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc2F3VXBwZXIgJiYgZm9yd2FyZCAmJiBjYXRlZ29yaXplKGFoZWFkID0gdmlldy5zdGF0ZS5zbGljZURvYyhwb3MsIHBvcyArIDEpKSA9PSBDaGFyQ2F0ZWdvcnkuV29yZCAmJlxuICAgICAgICAgICAgICAgICAgICBhaGVhZC50b0xvd2VyQ2FzZSgpID09IGFoZWFkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2F3VXBwZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0ZXBzKys7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgbGV0IGVuZCA9IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgZm9yd2FyZCwgc3RhcnQgPT4ge1xuICAgICAgICBzdGVwKHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfSk7XG4gICAgaWYgKHNlZ21lbnRlciAmJiBjYXQgPT0gQ2hhckNhdGVnb3J5LldvcmQgJiYgZW5kLmZyb20gPT0gcmFuZ2UuZnJvbSArIHN0ZXBzICogKGZvcndhcmQgPyAxIDogLTEpKSB7XG4gICAgICAgIGxldCBmcm9tID0gTWF0aC5taW4ocmFuZ2UuaGVhZCwgZW5kLmhlYWQpLCB0byA9IE1hdGgubWF4KHJhbmdlLmhlYWQsIGVuZC5oZWFkKTtcbiAgICAgICAgbGV0IHNraXBwZWQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKTtcbiAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMSAmJiAvW1xcdTRFMDAtXFx1ZmZmZl0vLnRlc3Qoc2tpcHBlZCkpIHtcbiAgICAgICAgICAgIGxldCBzZWdtZW50cyA9IEFycmF5LmZyb20oc2VnbWVudGVyLnNlZ21lbnQoc2tpcHBlZCkpO1xuICAgICAgICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuaGVhZCArIHNlZ21lbnRzWzFdLmluZGV4LCAtMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZW5kLmhlYWQgKyBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXS5pbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbn1cbmZ1bmN0aW9uIGN1cnNvckJ5U3Vid29yZCh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIG1vdmVTZWwodmlldywgcmFuZ2UgPT4gcmFuZ2UuZW1wdHkgPyBtb3ZlQnlTdWJ3b3JkKHZpZXcsIHJhbmdlLCBmb3J3YXJkKSA6IHJhbmdlRW5kKHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgb3IgY2FtZWwtY2FzZSBzdWJ3b3JkIGZvcndhcmQuXG4qL1xuY29uc3QgY3Vyc29yU3Vid29yZEZvcndhcmQgPSB2aWV3ID0+IGN1cnNvckJ5U3Vid29yZCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBvciBjYW1lbC1jYXNlIHN1YndvcmQgYmFja3dhcmQuXG4qL1xuY29uc3QgY3Vyc29yU3Vid29yZEJhY2t3YXJkID0gdmlldyA9PiBjdXJzb3JCeVN1YndvcmQodmlldywgZmFsc2UpO1xuZnVuY3Rpb24gaW50ZXJlc3RpbmdOb2RlKHN0YXRlLCBub2RlLCBicmFja2V0UHJvcCkge1xuICAgIGlmIChub2RlLnR5cGUucHJvcChicmFja2V0UHJvcCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCBsZW4gPSBub2RlLnRvIC0gbm9kZS5mcm9tO1xuICAgIHJldHVybiBsZW4gJiYgKGxlbiA+IDIgfHwgL1teXFxzLC47Ol0vLnRlc3Qoc3RhdGUuc2xpY2VEb2Mobm9kZS5mcm9tLCBub2RlLnRvKSkpIHx8IG5vZGUuZmlyc3RDaGlsZDtcbn1cbmZ1bmN0aW9uIG1vdmVCeVN5bnRheChzdGF0ZSwgc3RhcnQsIGZvcndhcmQpIHtcbiAgICBsZXQgcG9zID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKHN0YXJ0LmhlYWQpO1xuICAgIGxldCBicmFja2V0UHJvcCA9IGZvcndhcmQgPyBOb2RlUHJvcC5jbG9zZWRCeSA6IE5vZGVQcm9wLm9wZW5lZEJ5O1xuICAgIC8vIFNjYW4gZm9yd2FyZCB0aHJvdWdoIGNoaWxkIG5vZGVzIHRvIHNlZSBpZiB0aGVyZSdzIGFuIGludGVyZXN0aW5nXG4gICAgLy8gbm9kZSBhaGVhZC5cbiAgICBmb3IgKGxldCBhdCA9IHN0YXJ0LmhlYWQ7Oykge1xuICAgICAgICBsZXQgbmV4dCA9IGZvcndhcmQgPyBwb3MuY2hpbGRBZnRlcihhdCkgOiBwb3MuY2hpbGRCZWZvcmUoYXQpO1xuICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGludGVyZXN0aW5nTm9kZShzdGF0ZSwgbmV4dCwgYnJhY2tldFByb3ApKVxuICAgICAgICAgICAgcG9zID0gbmV4dDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYXQgPSBmb3J3YXJkID8gbmV4dC50byA6IG5leHQuZnJvbTtcbiAgICB9XG4gICAgbGV0IGJyYWNrZXQgPSBwb3MudHlwZS5wcm9wKGJyYWNrZXRQcm9wKSwgbWF0Y2gsIG5ld1BvcztcbiAgICBpZiAoYnJhY2tldCAmJiAobWF0Y2ggPSBmb3J3YXJkID8gbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcG9zLmZyb20sIDEpIDogbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcG9zLnRvLCAtMSkpICYmIG1hdGNoLm1hdGNoZWQpXG4gICAgICAgIG5ld1BvcyA9IGZvcndhcmQgPyBtYXRjaC5lbmQudG8gOiBtYXRjaC5lbmQuZnJvbTtcbiAgICBlbHNlXG4gICAgICAgIG5ld1BvcyA9IGZvcndhcmQgPyBwb3MudG8gOiBwb3MuZnJvbTtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXdQb3MsIGZvcndhcmQgPyAtMSA6IDEpO1xufVxuLyoqXG5Nb3ZlIHRoZSBjdXJzb3Igb3ZlciB0aGUgbmV4dCBzeW50YWN0aWMgZWxlbWVudCB0byB0aGUgbGVmdC5cbiovXG5jb25zdCBjdXJzb3JTeW50YXhMZWZ0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN5bnRheCh2aWV3LnN0YXRlLCByYW5nZSwgIWx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIGN1cnNvciBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBjdXJzb3JTeW50YXhSaWdodCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsIGx0ckF0Q3Vyc29yKHZpZXcpKSk7XG5mdW5jdGlvbiBjdXJzb3JCeUxpbmUodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCk7XG4gICAgICAgIGxldCBtb3ZlZCA9IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQpO1xuICAgICAgICByZXR1cm4gbW92ZWQuaGVhZCAhPSByYW5nZS5oZWFkID8gbW92ZWQgOiB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShyYW5nZSwgZm9yd2FyZCk7XG4gICAgfSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgbGluZSB1cC5cbiovXG5jb25zdCBjdXJzb3JMaW5lVXAgPSB2aWV3ID0+IGN1cnNvckJ5TGluZSh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgbGluZSBkb3duLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVEb3duID0gdmlldyA9PiBjdXJzb3JCeUxpbmUodmlldywgdHJ1ZSk7XG5mdW5jdGlvbiBwYWdlSW5mbyh2aWV3KSB7XG4gICAgbGV0IHNlbGZTY3JvbGwgPSB2aWV3LnNjcm9sbERPTS5jbGllbnRIZWlnaHQgPCB2aWV3LnNjcm9sbERPTS5zY3JvbGxIZWlnaHQgLSAyO1xuICAgIGxldCBtYXJnaW5Ub3AgPSAwLCBtYXJnaW5Cb3R0b20gPSAwLCBoZWlnaHQ7XG4gICAgaWYgKHNlbGZTY3JvbGwpIHtcbiAgICAgICAgZm9yIChsZXQgc291cmNlIG9mIHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zKSkge1xuICAgICAgICAgICAgbGV0IG1hcmdpbnMgPSBzb3VyY2Uodmlldyk7XG4gICAgICAgICAgICBpZiAobWFyZ2lucyA9PT0gbnVsbCB8fCBtYXJnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXJnaW5zLnRvcClcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3AgPSBNYXRoLm1heChtYXJnaW5zID09PSBudWxsIHx8IG1hcmdpbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcmdpbnMudG9wLCBtYXJnaW5Ub3ApO1xuICAgICAgICAgICAgaWYgKG1hcmdpbnMgPT09IG51bGwgfHwgbWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFyZ2lucy5ib3R0b20pXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tID0gTWF0aC5tYXgobWFyZ2lucyA9PT0gbnVsbCB8fCBtYXJnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXJnaW5zLmJvdHRvbSwgbWFyZ2luQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICBoZWlnaHQgPSB2aWV3LnNjcm9sbERPTS5jbGllbnRIZWlnaHQgLSBtYXJnaW5Ub3AgLSBtYXJnaW5Cb3R0b207XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBoZWlnaHQgPSAodmlldy5kb20ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLmlubmVySGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4geyBtYXJnaW5Ub3AsIG1hcmdpbkJvdHRvbSwgc2VsZlNjcm9sbCxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCh2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0LCBoZWlnaHQgLSA1KSB9O1xufVxuZnVuY3Rpb24gY3Vyc29yQnlQYWdlKHZpZXcsIGZvcndhcmQpIHtcbiAgICBsZXQgcGFnZSA9IHBhZ2VJbmZvKHZpZXcpO1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIHJldHVybiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQsIHBhZ2UuaGVpZ2h0KVxuICAgICAgICAgICAgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCk7XG4gICAgfSk7XG4gICAgaWYgKHNlbGVjdGlvbi5lcShzdGF0ZS5zZWxlY3Rpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGVmZmVjdDtcbiAgICBpZiAocGFnZS5zZWxmU2Nyb2xsKSB7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHZpZXcuY29vcmRzQXRQb3Moc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCk7XG4gICAgICAgIGxldCBzY3JvbGxSZWN0ID0gdmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBzY3JvbGxUb3AgPSBzY3JvbGxSZWN0LnRvcCArIHBhZ2UubWFyZ2luVG9wLCBzY3JvbGxCb3R0b20gPSBzY3JvbGxSZWN0LmJvdHRvbSAtIHBhZ2UubWFyZ2luQm90dG9tO1xuICAgICAgICBpZiAoc3RhcnRQb3MgJiYgc3RhcnRQb3MudG9wID4gc2Nyb2xsVG9wICYmIHN0YXJ0UG9zLmJvdHRvbSA8IHNjcm9sbEJvdHRvbSlcbiAgICAgICAgICAgIGVmZmVjdCA9IEVkaXRvclZpZXcuc2Nyb2xsSW50b1ZpZXcoc2VsZWN0aW9uLm1haW4uaGVhZCwgeyB5OiBcInN0YXJ0XCIsIHlNYXJnaW46IHN0YXJ0UG9zLnRvcCAtIHNjcm9sbFRvcCB9KTtcbiAgICB9XG4gICAgdmlldy5kaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbiksIHsgZWZmZWN0czogZWZmZWN0IH0pO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIHBhZ2UgdXAuXG4qL1xuY29uc3QgY3Vyc29yUGFnZVVwID0gdmlldyA9PiBjdXJzb3JCeVBhZ2UodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIHBhZ2UgZG93bi5cbiovXG5jb25zdCBjdXJzb3JQYWdlRG93biA9IHZpZXcgPT4gY3Vyc29yQnlQYWdlKHZpZXcsIHRydWUpO1xuZnVuY3Rpb24gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHN0YXJ0LmhlYWQpLCBtb3ZlZCA9IHZpZXcubW92ZVRvTGluZUJvdW5kYXJ5KHN0YXJ0LCBmb3J3YXJkKTtcbiAgICBpZiAobW92ZWQuaGVhZCA9PSBzdGFydC5oZWFkICYmIG1vdmVkLmhlYWQgIT0gKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tKSlcbiAgICAgICAgbW92ZWQgPSB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShzdGFydCwgZm9yd2FyZCwgZmFsc2UpO1xuICAgIGlmICghZm9yd2FyZCAmJiBtb3ZlZC5oZWFkID09IGxpbmUuZnJvbSAmJiBsaW5lLmxlbmd0aCkge1xuICAgICAgICBsZXQgc3BhY2UgPSAvXlxccyovLmV4ZWModmlldy5zdGF0ZS5zbGljZURvYyhsaW5lLmZyb20sIE1hdGgubWluKGxpbmUuZnJvbSArIDEwMCwgbGluZS50bykpKVswXS5sZW5ndGg7XG4gICAgICAgIGlmIChzcGFjZSAmJiBzdGFydC5oZWFkICE9IGxpbmUuZnJvbSArIHNwYWNlKVxuICAgICAgICAgICAgbW92ZWQgPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGxpbmUuZnJvbSArIHNwYWNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vdmVkO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIG5leHQgbGluZSB3cmFwIHBvaW50LCBvciB0byB0aGUgZW5kIG9mXG50aGUgbGluZSBpZiB0aGVyZSBpc24ndCBvbmUgbGVmdCBvbiB0aGlzIGxpbmUuXG4qL1xuY29uc3QgY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIHRydWUpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHByZXZpb3VzIGxpbmUgd3JhcCBwb2ludCwgb3IgZmFpbGluZyB0aGF0IHRvXG50aGUgc3RhcnQgb2YgdGhlIGxpbmUuIElmIHRoZSBsaW5lIGlzIGluZGVudGVkLCBhbmQgdGhlIGN1cnNvclxuaXNuJ3QgYWxyZWFkeSBhdCB0aGUgZW5kIG9mIHRoZSBpbmRlbnRhdGlvbiwgdGhpcyB3aWxsIG1vdmUgdG8gdGhlXG5lbmQgb2YgdGhlIGluZGVudGF0aW9uIGluc3RlYWQgb2YgdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCByYW5nZSwgZmFsc2UpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBsaW5lIHdyYXAgcG9pbnQgdG8gdGhlIGxlZnQuXG4qL1xuY29uc3QgY3Vyc29yTGluZUJvdW5kYXJ5TGVmdCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgd3JhcCBwb2ludCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yTGluZUJvdW5kYXJ5UmlnaHQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVTdGFydCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkuZnJvbSwgMSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lRW5kID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IEVkaXRvclNlbGVjdGlvbi5jdXJzb3Iodmlldy5saW5lQmxvY2tBdChyYW5nZS5oZWFkKS50bywgLTEpKTtcbmZ1bmN0aW9uIHRvTWF0Y2hpbmdCcmFja2V0KHN0YXRlLCBkaXNwYXRjaCwgZXh0ZW5kKSB7XG4gICAgbGV0IGZvdW5kID0gZmFsc2UsIHNlbGVjdGlvbiA9IHVwZGF0ZVNlbChzdGF0ZS5zZWxlY3Rpb24sIHJhbmdlID0+IHtcbiAgICAgICAgbGV0IG1hdGNoaW5nID0gbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCwgLTEpXG4gICAgICAgICAgICB8fCBtYXRjaEJyYWNrZXRzKHN0YXRlLCByYW5nZS5oZWFkLCAxKVxuICAgICAgICAgICAgfHwgKHJhbmdlLmhlYWQgPiAwICYmIG1hdGNoQnJhY2tldHMoc3RhdGUsIHJhbmdlLmhlYWQgLSAxLCAxKSlcbiAgICAgICAgICAgIHx8IChyYW5nZS5oZWFkIDwgc3RhdGUuZG9jLmxlbmd0aCAmJiBtYXRjaEJyYWNrZXRzKHN0YXRlLCByYW5nZS5oZWFkICsgMSwgLTEpKTtcbiAgICAgICAgaWYgKCFtYXRjaGluZyB8fCAhbWF0Y2hpbmcuZW5kKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGxldCBoZWFkID0gbWF0Y2hpbmcuc3RhcnQuZnJvbSA9PSByYW5nZS5oZWFkID8gbWF0Y2hpbmcuZW5kLnRvIDogbWF0Y2hpbmcuZW5kLmZyb207XG4gICAgICAgIHJldHVybiBleHRlbmQgPyBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yLCBoZWFkKSA6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCk7XG4gICAgfSk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgYnJhY2tldCBtYXRjaGluZyB0aGUgb25lIGl0IGlzIGN1cnJlbnRseVxub24sIGlmIGFueS5cbiovXG5jb25zdCBjdXJzb3JNYXRjaGluZ0JyYWNrZXQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gdG9NYXRjaGluZ0JyYWNrZXQoc3RhdGUsIGRpc3BhdGNoLCBmYWxzZSk7XG4vKipcbkV4dGVuZCB0aGUgc2VsZWN0aW9uIHRvIHRoZSBicmFja2V0IG1hdGNoaW5nIHRoZSBvbmUgdGhlIHNlbGVjdGlvblxuaGVhZCBpcyBjdXJyZW50bHkgb24sIGlmIGFueS5cbiovXG5jb25zdCBzZWxlY3RNYXRjaGluZ0JyYWNrZXQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gdG9NYXRjaGluZ0JyYWNrZXQoc3RhdGUsIGRpc3BhdGNoLCB0cnVlKTtcbmZ1bmN0aW9uIGV4dGVuZFNlbCh0YXJnZXQsIGhvdykge1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwodGFyZ2V0LnN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICBsZXQgaGVhZCA9IGhvdyhyYW5nZSk7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yLCBoZWFkLmhlYWQsIGhlYWQuZ29hbENvbHVtbiwgaGVhZC5iaWRpTGV2ZWwgfHwgdW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgICBpZiAoc2VsZWN0aW9uLmVxKHRhcmdldC5zdGF0ZS5zZWxlY3Rpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGFyZ2V0LmRpc3BhdGNoKHNldFNlbCh0YXJnZXQuc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2VsZWN0QnlDaGFyKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIHRvIHRoZSBsZWZ0LCB3aGlsZSBsZWF2aW5nXG50aGUgYW5jaG9yIGluIHBsYWNlLlxuKi9cbmNvbnN0IHNlbGVjdENoYXJMZWZ0ID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhclJpZ2h0ID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckZvcndhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciBiYWNrd2FyZC5cbiovXG5jb25zdCBzZWxlY3RDaGFyQmFja3dhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBjaGFyYWN0ZXIgZm9yd2FyZCBieSBsb2dpY2FsXG4obm9uLWRpcmVjdGlvbiBhd2FyZSkgc3RyaW5nIGluZGV4IG9yZGVyLlxuKi9cbmNvbnN0IHNlbGVjdENoYXJGb3J3YXJkTG9naWNhbCA9IHRhcmdldCA9PiBleHRlbmRTZWwodGFyZ2V0LCByYW5nZSA9PiBieUNoYXJMb2dpY2FsKHRhcmdldC5zdGF0ZSwgcmFuZ2UsIHRydWUpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciBiYWNrd2FyZCBieSBsb2dpY2FsIHN0cmluZ1xuaW5kZXggb3JkZXIuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckJhY2t3YXJkTG9naWNhbCA9IHRhcmdldCA9PiBleHRlbmRTZWwodGFyZ2V0LCByYW5nZSA9PiBieUNoYXJMb2dpY2FsKHRhcmdldC5zdGF0ZSwgcmFuZ2UsIGZhbHNlKSk7XG5mdW5jdGlvbiBzZWxlY3RCeUdyb3VwKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZUJ5R3JvdXAocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIFtncm91cF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JHcm91cExlZnQpIHRvXG50aGUgbGVmdC5cbiovXG5jb25zdCBzZWxlY3RHcm91cExlZnQgPSB2aWV3ID0+IHNlbGVjdEJ5R3JvdXAodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBzZWxlY3RHcm91cFJpZ2h0ID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBGb3J3YXJkID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgYmFja3dhcmQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBCYWNrd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlHcm91cCh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCBmb3J3YXJkIGluIHRoZSBkZWZhdWx0IFdpbmRvd3NcbnN0eWxlLCBza2lwcGluZyB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHQgZ3JvdXAuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBGb3J3YXJkV2luID0gdmlldyA9PiB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIHRydWUsIHN0YXJ0ID0+IHRvR3JvdXBTdGFydCh2aWV3LCByYW5nZS5oZWFkLCBzdGFydCkpKTtcbn07XG5mdW5jdGlvbiBzZWxlY3RCeVN1YndvcmQodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3Vid29yZCh2aWV3LCByYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgb3IgY2FtZWwtY2FzZSBzdWJ3b3JkIGZvcndhcmQuXG4qL1xuY29uc3Qgc2VsZWN0U3Vid29yZEZvcndhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5U3Vid29yZCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIG9yIHN1YndvcmQgYmFja3dhcmQuXG4qL1xuY29uc3Qgc2VsZWN0U3Vid29yZEJhY2t3YXJkID0gdmlldyA9PiBzZWxlY3RCeVN1YndvcmQodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IHNlbGVjdFN5bnRheExlZnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBzZWxlY3RTeW50YXhSaWdodCA9IHZpZXcgPT4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN5bnRheCh2aWV3LnN0YXRlLCByYW5nZSwgbHRyQXRDdXJzb3IodmlldykpKTtcbmZ1bmN0aW9uIHNlbGVjdEJ5TGluZSh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBsaW5lIHVwLlxuKi9cbmNvbnN0IHNlbGVjdExpbmVVcCA9IHZpZXcgPT4gc2VsZWN0QnlMaW5lKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGxpbmUgZG93bi5cbiovXG5jb25zdCBzZWxlY3RMaW5lRG93biA9IHZpZXcgPT4gc2VsZWN0QnlMaW5lKHZpZXcsIHRydWUpO1xuZnVuY3Rpb24gc2VsZWN0QnlQYWdlKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQsIHBhZ2VJbmZvKHZpZXcpLmhlaWdodCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgcGFnZSB1cC5cbiovXG5jb25zdCBzZWxlY3RQYWdlVXAgPSB2aWV3ID0+IHNlbGVjdEJ5UGFnZSh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBwYWdlIGRvd24uXG4qL1xuY29uc3Qgc2VsZWN0UGFnZURvd24gPSB2aWV3ID0+IHNlbGVjdEJ5UGFnZSh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIG5leHQgbGluZSBib3VuZGFyeS5cbiovXG5jb25zdCBzZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCB0cnVlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBwcmV2aW91cyBsaW5lIGJvdW5kYXJ5LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBmYWxzZSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSBib3VuZGFyeSB0byB0aGUgbGVmdC5cbiovXG5jb25zdCBzZWxlY3RMaW5lQm91bmRhcnlMZWZ0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGxpbmUgYm91bmRhcnkgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3Qgc2VsZWN0TGluZVN0YXJ0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLmZyb20pKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBzZWxlY3RMaW5lRW5kID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLnRvKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgc3RhcnQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IGN1cnNvckRvY1N0YXJ0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiAwIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiovXG5jb25zdCBjdXJzb3JEb2NFbmQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgeyBhbmNob3I6IHN0YXRlLmRvYy5sZW5ndGggfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBkb2N1bWVudC5cbiovXG5jb25zdCBzZWxlY3REb2NTdGFydCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yLCBoZWFkOiAwIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdERvY0VuZCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uYW5jaG9yLCBoZWFkOiBzdGF0ZS5kb2MubGVuZ3RoIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblNlbGVjdCB0aGUgZW50aXJlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdEFsbCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uOiB7IGFuY2hvcjogMCwgaGVhZDogc3RhdGUuZG9jLmxlbmd0aCB9LCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuRXhwYW5kIHRoZSBzZWxlY3Rpb24gdG8gY292ZXIgZW50aXJlIGxpbmVzLlxuKi9cbmNvbnN0IHNlbGVjdExpbmUgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGxldCByYW5nZXMgPSBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpLm1hcCgoeyBmcm9tLCB0byB9KSA9PiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgTWF0aC5taW4odG8gKyAxLCBzdGF0ZS5kb2MubGVuZ3RoKSkpO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7IHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMpLCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2VsZWN0IHRoZSBuZXh0IHN5bnRhY3RpYyBjb25zdHJ1Y3QgdGhhdCBpcyBsYXJnZXIgdGhhbiB0aGVcbnNlbGVjdGlvbi4gTm90ZSB0aGF0IHRoaXMgd2lsbCBvbmx5IHdvcmsgaW5zb2ZhciBhcyB0aGUgbGFuZ3VhZ2Vcbltwcm92aWRlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5sYW5ndWFnZSkgeW91IHVzZSBidWlsZHMgdXAgYSBmdWxsXG5zeW50YXggdHJlZS5cbiovXG5jb25zdCBzZWxlY3RQYXJlbnRTeW50YXggPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIGxldCB0cmVlID0gc3ludGF4VHJlZShzdGF0ZSksIHN0YWNrID0gdHJlZS5yZXNvbHZlU3RhY2socmFuZ2UuZnJvbSwgMSk7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgbGV0IHN0YWNrQmVmb3JlID0gdHJlZS5yZXNvbHZlU3RhY2socmFuZ2UuZnJvbSwgLTEpO1xuICAgICAgICAgICAgaWYgKHN0YWNrQmVmb3JlLm5vZGUuZnJvbSA+PSBzdGFjay5ub2RlLmZyb20gJiYgc3RhY2tCZWZvcmUubm9kZS50byA8PSBzdGFjay5ub2RlLnRvKVxuICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2tCZWZvcmU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY3VyID0gc3RhY2s7IGN1cjsgY3VyID0gY3VyLm5leHQpIHtcbiAgICAgICAgICAgIGxldCB7IG5vZGUgfSA9IGN1cjtcbiAgICAgICAgICAgIGlmICgoKG5vZGUuZnJvbSA8IHJhbmdlLmZyb20gJiYgbm9kZS50byA+PSByYW5nZS50bykgfHxcbiAgICAgICAgICAgICAgICAobm9kZS50byA+IHJhbmdlLnRvICYmIG5vZGUuZnJvbSA8PSByYW5nZS5mcm9tKSkgJiZcbiAgICAgICAgICAgICAgICBjdXIubmV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKG5vZGUudG8sIG5vZGUuZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH0pO1xuICAgIGlmIChzZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5TaW1wbGlmeSB0aGUgY3VycmVudCBzZWxlY3Rpb24uIFdoZW4gbXVsdGlwbGUgcmFuZ2VzIGFyZSBzZWxlY3RlZCxcbnJlZHVjZSBpdCB0byBpdHMgbWFpbiByYW5nZS4gT3RoZXJ3aXNlLCBpZiB0aGUgc2VsZWN0aW9uIGlzXG5ub24tZW1wdHksIGNvbnZlcnQgaXQgdG8gYSBjdXJzb3Igc2VsZWN0aW9uLlxuKi9cbmNvbnN0IHNpbXBsaWZ5U2VsZWN0aW9uID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBsZXQgY3VyID0gc3RhdGUuc2VsZWN0aW9uLCBzZWxlY3Rpb24gPSBudWxsO1xuICAgIGlmIChjdXIucmFuZ2VzLmxlbmd0aCA+IDEpXG4gICAgICAgIHNlbGVjdGlvbiA9IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoW2N1ci5tYWluXSk7XG4gICAgZWxzZSBpZiAoIWN1ci5tYWluLmVtcHR5KVxuICAgICAgICBzZWxlY3Rpb24gPSBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKFtFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGN1ci5tYWluLmhlYWQpXSk7XG4gICAgaWYgKCFzZWxlY3Rpb24pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbmZ1bmN0aW9uIGRlbGV0ZUJ5KHRhcmdldCwgYnkpIHtcbiAgICBpZiAodGFyZ2V0LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGV2ZW50ID0gXCJkZWxldGUuc2VsZWN0aW9uXCIsIHsgc3RhdGUgfSA9IHRhcmdldDtcbiAgICBsZXQgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gcmFuZ2U7XG4gICAgICAgIGlmIChmcm9tID09IHRvKSB7XG4gICAgICAgICAgICBsZXQgdG93YXJkcyA9IGJ5KHJhbmdlKTtcbiAgICAgICAgICAgIGlmICh0b3dhcmRzIDwgZnJvbSkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gXCJkZWxldGUuYmFja3dhcmRcIjtcbiAgICAgICAgICAgICAgICB0b3dhcmRzID0gc2tpcEF0b21pYyh0YXJnZXQsIHRvd2FyZHMsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvd2FyZHMgPiBmcm9tKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBcImRlbGV0ZS5mb3J3YXJkXCI7XG4gICAgICAgICAgICAgICAgdG93YXJkcyA9IHNraXBBdG9taWModGFyZ2V0LCB0b3dhcmRzLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb20gPSBNYXRoLm1pbihmcm9tLCB0b3dhcmRzKTtcbiAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIHRvd2FyZHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IHNraXBBdG9taWModGFyZ2V0LCBmcm9tLCBmYWxzZSk7XG4gICAgICAgICAgICB0byA9IHNraXBBdG9taWModGFyZ2V0LCB0bywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdG8gPyB7IHJhbmdlIH0gOiB7IGNoYW5nZXM6IHsgZnJvbSwgdG8gfSwgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZnJvbSwgZnJvbSA8IHJhbmdlLmhlYWQgPyAtMSA6IDEpIH07XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZXMuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywge1xuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgdXNlckV2ZW50OiBldmVudCxcbiAgICAgICAgZWZmZWN0czogZXZlbnQgPT0gXCJkZWxldGUuc2VsZWN0aW9uXCIgPyBFZGl0b3JWaWV3LmFubm91bmNlLm9mKHN0YXRlLnBocmFzZShcIlNlbGVjdGlvbiBkZWxldGVkXCIpKSA6IHVuZGVmaW5lZFxuICAgIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHNraXBBdG9taWModGFyZ2V0LCBwb3MsIGZvcndhcmQpIHtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRWRpdG9yVmlldylcbiAgICAgICAgZm9yIChsZXQgcmFuZ2VzIG9mIHRhcmdldC5zdGF0ZS5mYWNldChFZGl0b3JWaWV3LmF0b21pY1JhbmdlcykubWFwKGYgPT4gZih0YXJnZXQpKSlcbiAgICAgICAgICAgIHJhbmdlcy5iZXR3ZWVuKHBvcywgcG9zLCAoZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA8IHBvcyAmJiB0byA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gZm9yd2FyZCA/IHRvIDogZnJvbTtcbiAgICAgICAgICAgIH0pO1xuICAgIHJldHVybiBwb3M7XG59XG5jb25zdCBkZWxldGVCeUNoYXIgPSAodGFyZ2V0LCBmb3J3YXJkLCBieUluZGVudFVuaXQpID0+IGRlbGV0ZUJ5KHRhcmdldCwgcmFuZ2UgPT4ge1xuICAgIGxldCBwb3MgPSByYW5nZS5mcm9tLCB7IHN0YXRlIH0gPSB0YXJnZXQsIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyksIGJlZm9yZSwgdGFyZ2V0UG9zO1xuICAgIGlmIChieUluZGVudFVuaXQgJiYgIWZvcndhcmQgJiYgcG9zID4gbGluZS5mcm9tICYmIHBvcyA8IGxpbmUuZnJvbSArIDIwMCAmJlxuICAgICAgICAhL1teIFxcdF0vLnRlc3QoYmVmb3JlID0gbGluZS50ZXh0LnNsaWNlKDAsIHBvcyAtIGxpbmUuZnJvbSkpKSB7XG4gICAgICAgIGlmIChiZWZvcmVbYmVmb3JlLmxlbmd0aCAtIDFdID09IFwiXFx0XCIpXG4gICAgICAgICAgICByZXR1cm4gcG9zIC0gMTtcbiAgICAgICAgbGV0IGNvbCA9IGNvdW50Q29sdW1uKGJlZm9yZSwgc3RhdGUudGFiU2l6ZSksIGRyb3AgPSBjb2wgJSBnZXRJbmRlbnRVbml0KHN0YXRlKSB8fCBnZXRJbmRlbnRVbml0KHN0YXRlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcm9wICYmIGJlZm9yZVtiZWZvcmUubGVuZ3RoIC0gMSAtIGldID09IFwiIFwiOyBpKyspXG4gICAgICAgICAgICBwb3MtLTtcbiAgICAgICAgdGFyZ2V0UG9zID0gcG9zO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0UG9zID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZm9yd2FyZCwgZm9yd2FyZCkgKyBsaW5lLmZyb207XG4gICAgICAgIGlmICh0YXJnZXRQb3MgPT0gcG9zICYmIGxpbmUubnVtYmVyICE9IChmb3J3YXJkID8gc3RhdGUuZG9jLmxpbmVzIDogMSkpXG4gICAgICAgICAgICB0YXJnZXRQb3MgKz0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICAgICAgZWxzZSBpZiAoIWZvcndhcmQgJiYgL1tcXHVmZTAwLVxcdWZlMGZdLy50ZXN0KGxpbmUudGV4dC5zbGljZSh0YXJnZXRQb3MgLSBsaW5lLmZyb20sIHBvcyAtIGxpbmUuZnJvbSkpKVxuICAgICAgICAgICAgdGFyZ2V0UG9zID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHRhcmdldFBvcyAtIGxpbmUuZnJvbSwgZmFsc2UsIGZhbHNlKSArIGxpbmUuZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFBvcztcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGZvciBjdXJzb3Igc2VsZWN0aW9ucywgdGhlIGNoYXJhY3RlciBvclxuaW5kZW50YXRpb24gdW5pdCBiZWZvcmUgdGhlIGN1cnNvci5cbiovXG5jb25zdCBkZWxldGVDaGFyQmFja3dhcmQgPSB2aWV3ID0+IGRlbGV0ZUJ5Q2hhcih2aWV3LCBmYWxzZSwgdHJ1ZSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIHRoZSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBjdXJzb3IuIERvZXMgbm90XG5pbXBsZW1lbnQgYW55IGV4dGVuZGVkIGJlaGF2aW9yIGxpa2UgZGVsZXRpbmcgd2hvbGUgaW5kZW50YXRpb25cbnVuaXRzIGluIG9uZSBnby5cbiovXG5jb25zdCBkZWxldGVDaGFyQmFja3dhcmRTdHJpY3QgPSB2aWV3ID0+IGRlbGV0ZUJ5Q2hhcih2aWV3LCBmYWxzZSwgZmFsc2UpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiBvciB0aGUgY2hhcmFjdGVyIGFmdGVyIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlQ2hhckZvcndhcmQgPSB2aWV3ID0+IGRlbGV0ZUJ5Q2hhcih2aWV3LCB0cnVlLCBmYWxzZSk7XG5jb25zdCBkZWxldGVCeUdyb3VwID0gKHRhcmdldCwgZm9yd2FyZCkgPT4gZGVsZXRlQnkodGFyZ2V0LCByYW5nZSA9PiB7XG4gICAgbGV0IHBvcyA9IHJhbmdlLmhlYWQsIHsgc3RhdGUgfSA9IHRhcmdldCwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGZvciAobGV0IGNhdCA9IG51bGw7Oykge1xuICAgICAgICBpZiAocG9zID09IChmb3J3YXJkID8gbGluZS50byA6IGxpbmUuZnJvbSkpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT0gcmFuZ2UuaGVhZCAmJiBsaW5lLm51bWJlciAhPSAoZm9yd2FyZCA/IHN0YXRlLmRvYy5saW5lcyA6IDEpKVxuICAgICAgICAgICAgICAgIHBvcyArPSBmb3J3YXJkID8gMSA6IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCBmb3J3YXJkKSArIGxpbmUuZnJvbTtcbiAgICAgICAgbGV0IG5leHRDaGFyID0gbGluZS50ZXh0LnNsaWNlKE1hdGgubWluKHBvcywgbmV4dCkgLSBsaW5lLmZyb20sIE1hdGgubWF4KHBvcywgbmV4dCkgLSBsaW5lLmZyb20pO1xuICAgICAgICBsZXQgbmV4dENhdCA9IGNhdGVnb3JpemUobmV4dENoYXIpO1xuICAgICAgICBpZiAoY2F0ICE9IG51bGwgJiYgbmV4dENhdCAhPSBjYXQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKG5leHRDaGFyICE9IFwiIFwiIHx8IHBvcyAhPSByYW5nZS5oZWFkKVxuICAgICAgICAgICAgY2F0ID0gbmV4dENhdDtcbiAgICAgICAgcG9zID0gbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiBvciBiYWNrd2FyZCB1bnRpbCB0aGUgZW5kIG9mIHRoZSBuZXh0XG5bZ3JvdXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVCeUdyb3VwKSwgb25seSBza2lwcGluZyBncm91cHMgb2ZcbndoaXRlc3BhY2Ugd2hlbiB0aGV5IGNvbnNpc3Qgb2YgYSBzaW5nbGUgc3BhY2UuXG4qL1xuY29uc3QgZGVsZXRlR3JvdXBCYWNrd2FyZCA9IHRhcmdldCA9PiBkZWxldGVCeUdyb3VwKHRhcmdldCwgZmFsc2UpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiBvciBmb3J3YXJkIHVudGlsIHRoZSBlbmQgb2YgdGhlIG5leHQgZ3JvdXAuXG4qL1xuY29uc3QgZGVsZXRlR3JvdXBGb3J3YXJkID0gdGFyZ2V0ID0+IGRlbGV0ZUJ5R3JvdXAodGFyZ2V0LCB0cnVlKTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBpZiBpdCBpcyBhIGN1cnNvciBzZWxlY3Rpb24sIGRlbGV0ZSB0b1xudGhlIGVuZCBvZiB0aGUgbGluZS4gSWYgdGhlIGN1cnNvciBpcyBkaXJlY3RseSBhdCB0aGUgZW5kIG9mIHRoZVxubGluZSwgZGVsZXRlIHRoZSBsaW5lIGJyZWFrIGFmdGVyIGl0LlxuKi9cbmNvbnN0IGRlbGV0ZVRvTGluZUVuZCA9IHZpZXcgPT4gZGVsZXRlQnkodmlldywgcmFuZ2UgPT4ge1xuICAgIGxldCBsaW5lRW5kID0gdmlldy5saW5lQmxvY2tBdChyYW5nZS5oZWFkKS50bztcbiAgICByZXR1cm4gcmFuZ2UuaGVhZCA8IGxpbmVFbmQgPyBsaW5lRW5kIDogTWF0aC5taW4odmlldy5zdGF0ZS5kb2MubGVuZ3RoLCByYW5nZS5oZWFkICsgMSk7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBpZiBpdCBpcyBhIGN1cnNvciBzZWxlY3Rpb24sIGRlbGV0ZSB0b1xudGhlIHN0YXJ0IG9mIHRoZSBsaW5lLiBJZiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IGF0IHRoZSBzdGFydCBvZiB0aGVcbmxpbmUsIGRlbGV0ZSB0aGUgbGluZSBicmVhayBiZWZvcmUgaXQuXG4qL1xuY29uc3QgZGVsZXRlVG9MaW5lU3RhcnQgPSB2aWV3ID0+IGRlbGV0ZUJ5KHZpZXcsIHJhbmdlID0+IHtcbiAgICBsZXQgbGluZVN0YXJ0ID0gdmlldy5saW5lQmxvY2tBdChyYW5nZS5oZWFkKS5mcm9tO1xuICAgIHJldHVybiByYW5nZS5oZWFkID4gbGluZVN0YXJ0ID8gbGluZVN0YXJ0IDogTWF0aC5tYXgoMCwgcmFuZ2UuaGVhZCAtIDEpO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uLCBvciwgaWYgaXQgaXMgYSBjdXJzb3Igc2VsZWN0aW9uLCBkZWxldGUgdG9cbnRoZSBzdGFydCBvZiB0aGUgbGluZSBvciB0aGUgbmV4dCBsaW5lIHdyYXAgYmVmb3JlIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQgPSB2aWV3ID0+IGRlbGV0ZUJ5KHZpZXcsIHJhbmdlID0+IHtcbiAgICBsZXQgbGluZVN0YXJ0ID0gdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIGZhbHNlKS5oZWFkO1xuICAgIHJldHVybiByYW5nZS5oZWFkID4gbGluZVN0YXJ0ID8gbGluZVN0YXJ0IDogTWF0aC5tYXgoMCwgcmFuZ2UuaGVhZCAtIDEpO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uLCBvciwgaWYgaXQgaXMgYSBjdXJzb3Igc2VsZWN0aW9uLCBkZWxldGUgdG9cbnRoZSBlbmQgb2YgdGhlIGxpbmUgb3IgdGhlIG5leHQgbGluZSB3cmFwIGFmdGVyIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZCA9IHZpZXcgPT4gZGVsZXRlQnkodmlldywgcmFuZ2UgPT4ge1xuICAgIGxldCBsaW5lU3RhcnQgPSB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShyYW5nZSwgdHJ1ZSkuaGVhZDtcbiAgICByZXR1cm4gcmFuZ2UuaGVhZCA8IGxpbmVTdGFydCA/IGxpbmVTdGFydCA6IE1hdGgubWluKHZpZXcuc3RhdGUuZG9jLmxlbmd0aCwgcmFuZ2UuaGVhZCArIDEpO1xufSk7XG4vKipcbkRlbGV0ZSBhbGwgd2hpdGVzcGFjZSBkaXJlY3RseSBiZWZvcmUgYSBsaW5lIGVuZCBmcm9tIHRoZVxuZG9jdW1lbnQuXG4qL1xuY29uc3QgZGVsZXRlVHJhaWxpbmdXaGl0ZXNwYWNlID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IDAsIHByZXYgPSBcIlwiLCBpdGVyID0gc3RhdGUuZG9jLml0ZXIoKTs7KSB7XG4gICAgICAgIGl0ZXIubmV4dCgpO1xuICAgICAgICBpZiAoaXRlci5saW5lQnJlYWsgfHwgaXRlci5kb25lKSB7XG4gICAgICAgICAgICBsZXQgdHJhaWxpbmcgPSBwcmV2LnNlYXJjaCgvXFxzKyQvKTtcbiAgICAgICAgICAgIGlmICh0cmFpbGluZyA+IC0xKVxuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IHBvcyAtIChwcmV2Lmxlbmd0aCAtIHRyYWlsaW5nKSwgdG86IHBvcyB9KTtcbiAgICAgICAgICAgIGlmIChpdGVyLmRvbmUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwcmV2ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYgPSBpdGVyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHBvcyArPSBpdGVyLnZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7IGNoYW5nZXMsIHVzZXJFdmVudDogXCJkZWxldGVcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5SZXBsYWNlIGVhY2ggc2VsZWN0aW9uIHJhbmdlIHdpdGggYSBsaW5lIGJyZWFrLCBsZWF2aW5nIHRoZSBjdXJzb3Jcbm9uIHRoZSBsaW5lIGJlZm9yZSB0aGUgYnJlYWsuXG4qL1xuY29uc3Qgc3BsaXRMaW5lID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmZyb20sIHRvOiByYW5nZS50bywgaW5zZXJ0OiBUZXh0Lm9mKFtcIlwiLCBcIlwiXSkgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20pIH07XG4gICAgfSk7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkZsaXAgdGhlIGNoYXJhY3RlcnMgYmVmb3JlIGFuZCBhZnRlciB0aGUgY3Vyc29yKHMpLlxuKi9cbmNvbnN0IHRyYW5zcG9zZUNoYXJzID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5IHx8IHJhbmdlLmZyb20gPT0gMCB8fCByYW5nZS5mcm9tID09IHN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICBsZXQgcG9zID0gcmFuZ2UuZnJvbSwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IGZyb20gPSBwb3MgPT0gbGluZS5mcm9tID8gcG9zIC0gMSA6IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBwb3MgLSBsaW5lLmZyb20sIGZhbHNlKSArIGxpbmUuZnJvbTtcbiAgICAgICAgbGV0IHRvID0gcG9zID09IGxpbmUudG8gPyBwb3MgKyAxIDogZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgdHJ1ZSkgKyBsaW5lLmZyb207XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbSwgdG8sIGluc2VydDogc3RhdGUuZG9jLnNsaWNlKHBvcywgdG8pLmFwcGVuZChzdGF0ZS5kb2Muc2xpY2UoZnJvbSwgcG9zKSkgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHRvKSB9O1xuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VzLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcIm1vdmUuY2hhcmFjdGVyXCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbmZ1bmN0aW9uIHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkge1xuICAgIGxldCBibG9ja3MgPSBbXSwgdXB0byA9IC0xO1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgbGV0IHN0YXJ0TGluZSA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UuZnJvbSksIGVuZExpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLnRvKTtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSAmJiByYW5nZS50byA9PSBlbmRMaW5lLmZyb20pXG4gICAgICAgICAgICBlbmRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyYW5nZS50byAtIDEpO1xuICAgICAgICBpZiAodXB0byA+PSBzdGFydExpbmUubnVtYmVyKSB7XG4gICAgICAgICAgICBsZXQgcHJldiA9IGJsb2Nrc1tibG9ja3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBwcmV2LnRvID0gZW5kTGluZS50bztcbiAgICAgICAgICAgIHByZXYucmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goeyBmcm9tOiBzdGFydExpbmUuZnJvbSwgdG86IGVuZExpbmUudG8sIHJhbmdlczogW3JhbmdlXSB9KTtcbiAgICAgICAgfVxuICAgICAgICB1cHRvID0gZW5kTGluZS5udW1iZXIgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gYmxvY2tzO1xufVxuZnVuY3Rpb24gbW92ZUxpbmUoc3RhdGUsIGRpc3BhdGNoLCBmb3J3YXJkKSB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBbXSwgcmFuZ2VzID0gW107XG4gICAgZm9yIChsZXQgYmxvY2sgb2Ygc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKSkge1xuICAgICAgICBpZiAoZm9yd2FyZCA/IGJsb2NrLnRvID09IHN0YXRlLmRvYy5sZW5ndGggOiBibG9jay5mcm9tID09IDApXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgbGV0IG5leHRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChmb3J3YXJkID8gYmxvY2sudG8gKyAxIDogYmxvY2suZnJvbSAtIDEpO1xuICAgICAgICBsZXQgc2l6ZSA9IG5leHRMaW5lLmxlbmd0aCArIDE7XG4gICAgICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBibG9jay50bywgdG86IG5leHRMaW5lLnRvIH0sIHsgZnJvbTogYmxvY2suZnJvbSwgaW5zZXJ0OiBuZXh0TGluZS50ZXh0ICsgc3RhdGUubGluZUJyZWFrIH0pO1xuICAgICAgICAgICAgZm9yIChsZXQgciBvZiBibG9jay5yYW5nZXMpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIHIuYW5jaG9yICsgc2l6ZSksIE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIHIuaGVhZCArIHNpemUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBuZXh0TGluZS5mcm9tLCB0bzogYmxvY2suZnJvbSB9LCB7IGZyb206IGJsb2NrLnRvLCBpbnNlcnQ6IHN0YXRlLmxpbmVCcmVhayArIG5leHRMaW5lLnRleHQgfSk7XG4gICAgICAgICAgICBmb3IgKGxldCByIG9mIGJsb2NrLnJhbmdlcylcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24ucmFuZ2Uoci5hbmNob3IgLSBzaXplLCByLmhlYWQgLSBzaXplKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgIGNoYW5nZXMsXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICBzZWxlY3Rpb246IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCBzdGF0ZS5zZWxlY3Rpb24ubWFpbkluZGV4KSxcbiAgICAgICAgdXNlckV2ZW50OiBcIm1vdmUubGluZVwiXG4gICAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3RlZCBsaW5lcyB1cCBvbmUgbGluZS5cbiovXG5jb25zdCBtb3ZlTGluZVVwID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IG1vdmVMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3RlZCBsaW5lcyBkb3duIG9uZSBsaW5lLlxuKi9cbmNvbnN0IG1vdmVMaW5lRG93biA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBtb3ZlTGluZShzdGF0ZSwgZGlzcGF0Y2gsIHRydWUpO1xuZnVuY3Rpb24gY29weUxpbmUoc3RhdGUsIGRpc3BhdGNoLCBmb3J3YXJkKSB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBibG9jayBvZiBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpKSB7XG4gICAgICAgIGlmIChmb3J3YXJkKVxuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogYmxvY2suZnJvbSwgaW5zZXJ0OiBzdGF0ZS5kb2Muc2xpY2UoYmxvY2suZnJvbSwgYmxvY2sudG8pICsgc3RhdGUubGluZUJyZWFrIH0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBibG9jay50bywgaW5zZXJ0OiBzdGF0ZS5saW5lQnJlYWsgKyBzdGF0ZS5kb2Muc2xpY2UoYmxvY2suZnJvbSwgYmxvY2sudG8pIH0pO1xuICAgIH1cbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBjaGFuZ2VzLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0LmNvcHlsaW5lXCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5DcmVhdGUgYSBjb3B5IG9mIHRoZSBzZWxlY3RlZCBsaW5lcy4gS2VlcCB0aGUgc2VsZWN0aW9uIGluIHRoZSB0b3AgY29weS5cbiovXG5jb25zdCBjb3B5TGluZVVwID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IGNvcHlMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZmFsc2UpO1xuLyoqXG5DcmVhdGUgYSBjb3B5IG9mIHRoZSBzZWxlY3RlZCBsaW5lcy4gS2VlcCB0aGUgc2VsZWN0aW9uIGluIHRoZSBib3R0b20gY29weS5cbiovXG5jb25zdCBjb3B5TGluZURvd24gPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gY29weUxpbmUoc3RhdGUsIGRpc3BhdGNoLCB0cnVlKTtcbi8qKlxuRGVsZXRlIHNlbGVjdGVkIGxpbmVzLlxuKi9cbmNvbnN0IGRlbGV0ZUxpbmUgPSB2aWV3ID0+IHtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlcyhzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpLm1hcCgoeyBmcm9tLCB0byB9KSA9PiB7XG4gICAgICAgIGlmIChmcm9tID4gMClcbiAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgZWxzZSBpZiAodG8gPCBzdGF0ZS5kb2MubGVuZ3RoKVxuICAgICAgICAgICAgdG8rKztcbiAgICAgICAgcmV0dXJuIHsgZnJvbSwgdG8gfTtcbiAgICB9KSk7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbChzdGF0ZS5zZWxlY3Rpb24sIHJhbmdlID0+IHtcbiAgICAgICAgbGV0IGRpc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh2aWV3LmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgbGV0IGJsb2NrID0gdmlldy5saW5lQmxvY2tBdChyYW5nZS5oZWFkKSwgcG9zID0gdmlldy5jb29yZHNBdFBvcyhyYW5nZS5oZWFkLCByYW5nZS5hc3NvYyB8fCAxKTtcbiAgICAgICAgICAgIGlmIChwb3MpXG4gICAgICAgICAgICAgICAgZGlzdCA9IChibG9jay5ib3R0b20gKyB2aWV3LmRvY3VtZW50VG9wKSAtIHBvcy5ib3R0b20gKyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldy5tb3ZlVmVydGljYWxseShyYW5nZSwgdHJ1ZSwgZGlzdCk7XG4gICAgfSkubWFwKGNoYW5nZXMpO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBjaGFuZ2VzLCBzZWxlY3Rpb24sIHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiZGVsZXRlLmxpbmVcIiB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlcGxhY2UgdGhlIHNlbGVjdGlvbiB3aXRoIGEgbmV3bGluZS5cbiovXG5jb25zdCBpbnNlcnROZXdsaW5lID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoc3RhdGUucmVwbGFjZVNlbGVjdGlvbihzdGF0ZS5saW5lQnJlYWspLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5SZXBsYWNlIHRoZSBzZWxlY3Rpb24gd2l0aCBhIG5ld2xpbmUgYW5kIHRoZSBzYW1lIGFtb3VudCBvZlxuaW5kZW50YXRpb24gYXMgdGhlIGxpbmUgYWJvdmUuXG4qL1xuY29uc3QgaW5zZXJ0TmV3bGluZUtlZXBJbmRlbnQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgbGV0IGluZGVudCA9IC9eXFxzKi8uZXhlYyhzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pLnRleHQpWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogc3RhdGUubGluZUJyZWFrICsgaW5kZW50IH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgaW5kZW50Lmxlbmd0aCArIDEpXG4gICAgICAgIH07XG4gICAgfSksIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBpc0JldHdlZW5CcmFja2V0cyhzdGF0ZSwgcG9zKSB7XG4gICAgaWYgKC9cXChcXCl8XFxbXFxdfFxce1xcfS8udGVzdChzdGF0ZS5zbGljZURvYyhwb3MgLSAxLCBwb3MgKyAxKSkpXG4gICAgICAgIHJldHVybiB7IGZyb206IHBvcywgdG86IHBvcyB9O1xuICAgIGxldCBjb250ZXh0ID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKHBvcyk7XG4gICAgbGV0IGJlZm9yZSA9IGNvbnRleHQuY2hpbGRCZWZvcmUocG9zKSwgYWZ0ZXIgPSBjb250ZXh0LmNoaWxkQWZ0ZXIocG9zKSwgY2xvc2VkQnk7XG4gICAgaWYgKGJlZm9yZSAmJiBhZnRlciAmJiBiZWZvcmUudG8gPD0gcG9zICYmIGFmdGVyLmZyb20gPj0gcG9zICYmXG4gICAgICAgIChjbG9zZWRCeSA9IGJlZm9yZS50eXBlLnByb3AoTm9kZVByb3AuY2xvc2VkQnkpKSAmJiBjbG9zZWRCeS5pbmRleE9mKGFmdGVyLm5hbWUpID4gLTEgJiZcbiAgICAgICAgc3RhdGUuZG9jLmxpbmVBdChiZWZvcmUudG8pLmZyb20gPT0gc3RhdGUuZG9jLmxpbmVBdChhZnRlci5mcm9tKS5mcm9tICYmXG4gICAgICAgICEvXFxTLy50ZXN0KHN0YXRlLnNsaWNlRG9jKGJlZm9yZS50bywgYWZ0ZXIuZnJvbSkpKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBiZWZvcmUudG8sIHRvOiBhZnRlci5mcm9tIH07XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcblJlcGxhY2UgdGhlIHNlbGVjdGlvbiB3aXRoIGEgbmV3bGluZSBhbmQgaW5kZW50IHRoZSBuZXdseSBjcmVhdGVkXG5saW5lKHMpLiBJZiB0aGUgY3VycmVudCBsaW5lIGNvbnNpc3RzIG9ubHkgb2Ygd2hpdGVzcGFjZSwgdGhpc1xud2lsbCBhbHNvIGRlbGV0ZSB0aGF0IHdoaXRlc3BhY2UuIFdoZW4gdGhlIGN1cnNvciBpcyBiZXR3ZWVuXG5tYXRjaGluZyBicmFja2V0cywgYW4gYWRkaXRpb25hbCBuZXdsaW5lIHdpbGwgYmUgaW5zZXJ0ZWQgYWZ0ZXJcbnRoZSBjdXJzb3IuXG4qL1xuY29uc3QgaW5zZXJ0TmV3bGluZUFuZEluZGVudCA9IC8qQF9fUFVSRV9fKi9uZXdsaW5lQW5kSW5kZW50KGZhbHNlKTtcbi8qKlxuQ3JlYXRlIGEgYmxhbmssIGluZGVudGVkIGxpbmUgYmVsb3cgdGhlIGN1cnJlbnQgbGluZS5cbiovXG5jb25zdCBpbnNlcnRCbGFua0xpbmUgPSAvKkBfX1BVUkVfXyovbmV3bGluZUFuZEluZGVudCh0cnVlKTtcbmZ1bmN0aW9uIG5ld2xpbmVBbmRJbmRlbnQoYXRFb2YpIHtcbiAgICByZXR1cm4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHJhbmdlLCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChmcm9tKTtcbiAgICAgICAgICAgIGxldCBleHBsb2RlID0gIWF0RW9mICYmIGZyb20gPT0gdG8gJiYgaXNCZXR3ZWVuQnJhY2tldHMoc3RhdGUsIGZyb20pO1xuICAgICAgICAgICAgaWYgKGF0RW9mKVxuICAgICAgICAgICAgICAgIGZyb20gPSB0byA9ICh0byA8PSBsaW5lLnRvID8gbGluZSA6IHN0YXRlLmRvYy5saW5lQXQodG8pKS50bztcbiAgICAgICAgICAgIGxldCBjeCA9IG5ldyBJbmRlbnRDb250ZXh0KHN0YXRlLCB7IHNpbXVsYXRlQnJlYWs6IGZyb20sIHNpbXVsYXRlRG91YmxlQnJlYWs6ICEhZXhwbG9kZSB9KTtcbiAgICAgICAgICAgIGxldCBpbmRlbnQgPSBnZXRJbmRlbnRhdGlvbihjeCwgZnJvbSk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ID09IG51bGwpXG4gICAgICAgICAgICAgICAgaW5kZW50ID0gY291bnRDb2x1bW4oL15cXHMqLy5leGVjKHN0YXRlLmRvYy5saW5lQXQoZnJvbSkudGV4dClbMF0sIHN0YXRlLnRhYlNpemUpO1xuICAgICAgICAgICAgd2hpbGUgKHRvIDwgbGluZS50byAmJiAvXFxzLy50ZXN0KGxpbmUudGV4dFt0byAtIGxpbmUuZnJvbV0pKVxuICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICBpZiAoZXhwbG9kZSlcbiAgICAgICAgICAgICAgICAoeyBmcm9tLCB0byB9ID0gZXhwbG9kZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tID4gbGluZS5mcm9tICYmIGZyb20gPCBsaW5lLmZyb20gKyAxMDAgJiYgIS9cXFMvLnRlc3QobGluZS50ZXh0LnNsaWNlKDAsIGZyb20pKSlcbiAgICAgICAgICAgICAgICBmcm9tID0gbGluZS5mcm9tO1xuICAgICAgICAgICAgbGV0IGluc2VydCA9IFtcIlwiLCBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCldO1xuICAgICAgICAgICAgaWYgKGV4cGxvZGUpXG4gICAgICAgICAgICAgICAgaW5zZXJ0LnB1c2goaW5kZW50U3RyaW5nKHN0YXRlLCBjeC5saW5lSW5kZW50KGxpbmUuZnJvbSwgLTEpKSk7XG4gICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb20sIHRvLCBpbnNlcnQ6IFRleHQub2YoaW5zZXJ0KSB9LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZyb20gKyAxICsgaW5zZXJ0WzFdLmxlbmd0aCkgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG5mdW5jdGlvbiBjaGFuZ2VCeVNlbGVjdGVkTGluZShzdGF0ZSwgZikge1xuICAgIGxldCBhdExpbmUgPSAtMTtcbiAgICByZXR1cm4gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHBvcyA9IHJhbmdlLmZyb207IHBvcyA8PSByYW5nZS50bzspIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAgICAgaWYgKGxpbmUubnVtYmVyID4gYXRMaW5lICYmIChyYW5nZS5lbXB0eSB8fCByYW5nZS50byA+IGxpbmUuZnJvbSkpIHtcbiAgICAgICAgICAgICAgICBmKGxpbmUsIGNoYW5nZXMsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICBhdExpbmUgPSBsaW5lLm51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IGxpbmUudG8gKyAxO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFuZ2VTZXQgPSBzdGF0ZS5jaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzLFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShjaGFuZ2VTZXQubWFwUG9zKHJhbmdlLmFuY2hvciwgMSksIGNoYW5nZVNldC5tYXBQb3MocmFuZ2UuaGVhZCwgMSkpIH07XG4gICAgfSk7XG59XG4vKipcbkF1dG8taW5kZW50IHRoZSBzZWxlY3RlZCBsaW5lcy4gVGhpcyB1c2VzIHRoZSBbaW5kZW50YXRpb24gc2VydmljZVxuZmFjZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50U2VydmljZSkgYXMgc291cmNlIGZvciBhdXRvLWluZGVudFxuaW5mb3JtYXRpb24uXG4qL1xuY29uc3QgaW5kZW50U2VsZWN0aW9uID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgdXBkYXRlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGNvbnRleHQgPSBuZXcgSW5kZW50Q29udGV4dChzdGF0ZSwgeyBvdmVycmlkZUluZGVudGF0aW9uOiBzdGFydCA9PiB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSB1cGRhdGVkW3N0YXJ0XTtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZCA9PSBudWxsID8gLTEgOiBmb3VuZDtcbiAgICAgICAgfSB9KTtcbiAgICBsZXQgY2hhbmdlcyA9IGNoYW5nZUJ5U2VsZWN0ZWRMaW5lKHN0YXRlLCAobGluZSwgY2hhbmdlcywgcmFuZ2UpID0+IHtcbiAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKGNvbnRleHQsIGxpbmUuZnJvbSk7XG4gICAgICAgIGlmIChpbmRlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCEvXFxTLy50ZXN0KGxpbmUudGV4dCkpXG4gICAgICAgICAgICBpbmRlbnQgPSAwO1xuICAgICAgICBsZXQgY3VyID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF07XG4gICAgICAgIGxldCBub3JtID0gaW5kZW50U3RyaW5nKHN0YXRlLCBpbmRlbnQpO1xuICAgICAgICBpZiAoY3VyICE9IG5vcm0gfHwgcmFuZ2UuZnJvbSA8IGxpbmUuZnJvbSArIGN1ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRbbGluZS5mcm9tXSA9IGluZGVudDtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSwgdG86IGxpbmUuZnJvbSArIGN1ci5sZW5ndGgsIGluc2VydDogbm9ybSB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghY2hhbmdlcy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyB1c2VyRXZlbnQ6IFwiaW5kZW50XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuQWRkIGEgW3VuaXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50VW5pdCkgb2YgaW5kZW50YXRpb24gdG8gYWxsIHNlbGVjdGVkXG5saW5lcy5cbiovXG5jb25zdCBpbmRlbnRNb3JlID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIChsaW5lLCBjaGFuZ2VzKSA9PiB7XG4gICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSwgaW5zZXJ0OiBzdGF0ZS5mYWNldChpbmRlbnRVbml0KSB9KTtcbiAgICB9KSwgeyB1c2VyRXZlbnQ6IFwiaW5wdXQuaW5kZW50XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuUmVtb3ZlIGEgW3VuaXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50VW5pdCkgb2YgaW5kZW50YXRpb24gZnJvbSBhbGxcbnNlbGVjdGVkIGxpbmVzLlxuKi9cbmNvbnN0IGluZGVudExlc3MgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VCeVNlbGVjdGVkTGluZShzdGF0ZSwgKGxpbmUsIGNoYW5nZXMpID0+IHtcbiAgICAgICAgbGV0IHNwYWNlID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF07XG4gICAgICAgIGlmICghc3BhY2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBjb2wgPSBjb3VudENvbHVtbihzcGFjZSwgc3RhdGUudGFiU2l6ZSksIGtlZXAgPSAwO1xuICAgICAgICBsZXQgaW5zZXJ0ID0gaW5kZW50U3RyaW5nKHN0YXRlLCBNYXRoLm1heCgwLCBjb2wgLSBnZXRJbmRlbnRVbml0KHN0YXRlKSkpO1xuICAgICAgICB3aGlsZSAoa2VlcCA8IHNwYWNlLmxlbmd0aCAmJiBrZWVwIDwgaW5zZXJ0Lmxlbmd0aCAmJiBzcGFjZS5jaGFyQ29kZUF0KGtlZXApID09IGluc2VydC5jaGFyQ29kZUF0KGtlZXApKVxuICAgICAgICAgICAga2VlcCsrO1xuICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20gKyBrZWVwLCB0bzogbGluZS5mcm9tICsgc3BhY2UubGVuZ3RoLCBpbnNlcnQ6IGluc2VydC5zbGljZShrZWVwKSB9KTtcbiAgICB9KSwgeyB1c2VyRXZlbnQ6IFwiZGVsZXRlLmRlZGVudFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkVuYWJsZXMgb3IgZGlzYWJsZXNcblt0YWItZm9jdXMgbW9kZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuc2V0VGFiRm9jdXNNb2RlKS4gV2hpbGUgb24sIHRoaXNcbnByZXZlbnRzIHRoZSBlZGl0b3IncyBrZXkgYmluZGluZ3MgZnJvbSBjYXB0dXJpbmcgVGFiIG9yXG5TaGlmdC1UYWIsIG1ha2luZyBpdCBwb3NzaWJsZSBmb3IgdGhlIHVzZXIgdG8gbW92ZSBmb2N1cyBvdXQgb2ZcbnRoZSBlZGl0b3Igd2l0aCB0aGUga2V5Ym9hcmQuXG4qL1xuY29uc3QgdG9nZ2xlVGFiRm9jdXNNb2RlID0gdmlldyA9PiB7XG4gICAgdmlldy5zZXRUYWJGb2N1c01vZGUoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblRlbXBvcmFyaWx5IGVuYWJsZXMgW3RhYi1mb2N1c1xubW9kZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuc2V0VGFiRm9jdXNNb2RlKSBmb3IgdHdvIHNlY29uZHMgb3IgdW50aWxcbmFub3RoZXIga2V5IGlzIHByZXNzZWQuXG4qL1xuY29uc3QgdGVtcG9yYXJpbHlTZXRUYWJGb2N1c01vZGUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LnNldFRhYkZvY3VzTW9kZSgyMDAwKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkluc2VydCBhIHRhYiBjaGFyYWN0ZXIgYXQgdGhlIGN1cnNvciBvciwgaWYgc29tZXRoaW5nIGlzIHNlbGVjdGVkLFxudXNlIFtgaW5kZW50TW9yZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50TW9yZSkgdG8gaW5kZW50IHRoZSBlbnRpcmVcbnNlbGVjdGlvbi5cbiovXG5jb25zdCBpbnNlcnRUYWIgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLnNvbWUociA9PiAhci5lbXB0eSkpXG4gICAgICAgIHJldHVybiBpbmRlbnRNb3JlKHsgc3RhdGUsIGRpc3BhdGNoIH0pO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKFwiXFx0XCIpLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5BcnJheSBvZiBrZXkgYmluZGluZ3MgY29udGFpbmluZyB0aGUgRW1hY3Mtc3R5bGUgYmluZGluZ3MgdGhhdCBhcmVcbmF2YWlsYWJsZSBvbiBtYWNPUyBieSBkZWZhdWx0LlxuXG4gLSBDdHJsLWI6IFtgY3Vyc29yQ2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckNoYXJMZWZ0KSAoW2BzZWxlY3RDaGFyTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0Q2hhckxlZnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLWY6IFtgY3Vyc29yQ2hhclJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JDaGFyUmlnaHQpIChbYHNlbGVjdENoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0Q2hhclJpZ2h0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1wOiBbYGN1cnNvckxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZVVwKSAoW2BzZWxlY3RMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVVcCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtbjogW2BjdXJzb3JMaW5lRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZURvd24pIChbYHNlbGVjdExpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lRG93bikgd2l0aCBTaGlmdClcbiAtIEN0cmwtYTogW2BjdXJzb3JMaW5lU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVTdGFydCkgKFtgc2VsZWN0TGluZVN0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lU3RhcnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLWU6IFtgY3Vyc29yTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUVuZCkgKFtgc2VsZWN0TGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZUVuZCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtZDogW2BkZWxldGVDaGFyRm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckZvcndhcmQpXG4gLSBDdHJsLWg6IFtgZGVsZXRlQ2hhckJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVDaGFyQmFja3dhcmQpXG4gLSBDdHJsLWs6IFtgZGVsZXRlVG9MaW5lRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVUb0xpbmVFbmQpXG4gLSBDdHJsLUFsdC1oOiBbYGRlbGV0ZUdyb3VwQmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUdyb3VwQmFja3dhcmQpXG4gLSBDdHJsLW86IFtgc3BsaXRMaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zcGxpdExpbmUpXG4gLSBDdHJsLXQ6IFtgdHJhbnNwb3NlQ2hhcnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnRyYW5zcG9zZUNoYXJzKVxuIC0gQ3RybC12OiBbYGN1cnNvclBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlRG93bilcbiAtIEFsdC12OiBbYGN1cnNvclBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZVVwKVxuKi9cbmNvbnN0IGVtYWNzU3R5bGVLZXltYXAgPSBbXG4gICAgeyBrZXk6IFwiQ3RybC1iXCIsIHJ1bjogY3Vyc29yQ2hhckxlZnQsIHNoaWZ0OiBzZWxlY3RDaGFyTGVmdCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJDdHJsLWZcIiwgcnVuOiBjdXJzb3JDaGFyUmlnaHQsIHNoaWZ0OiBzZWxlY3RDaGFyUmlnaHQgfSxcbiAgICB7IGtleTogXCJDdHJsLXBcIiwgcnVuOiBjdXJzb3JMaW5lVXAsIHNoaWZ0OiBzZWxlY3RMaW5lVXAgfSxcbiAgICB7IGtleTogXCJDdHJsLW5cIiwgcnVuOiBjdXJzb3JMaW5lRG93biwgc2hpZnQ6IHNlbGVjdExpbmVEb3duIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1hXCIsIHJ1bjogY3Vyc29yTGluZVN0YXJ0LCBzaGlmdDogc2VsZWN0TGluZVN0YXJ0IH0sXG4gICAgeyBrZXk6IFwiQ3RybC1lXCIsIHJ1bjogY3Vyc29yTGluZUVuZCwgc2hpZnQ6IHNlbGVjdExpbmVFbmQgfSxcbiAgICB7IGtleTogXCJDdHJsLWRcIiwgcnVuOiBkZWxldGVDaGFyRm9yd2FyZCB9LFxuICAgIHsga2V5OiBcIkN0cmwtaFwiLCBydW46IGRlbGV0ZUNoYXJCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIkN0cmwta1wiLCBydW46IGRlbGV0ZVRvTGluZUVuZCB9LFxuICAgIHsga2V5OiBcIkN0cmwtQWx0LWhcIiwgcnVuOiBkZWxldGVHcm91cEJhY2t3YXJkIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1vXCIsIHJ1bjogc3BsaXRMaW5lIH0sXG4gICAgeyBrZXk6IFwiQ3RybC10XCIsIHJ1bjogdHJhbnNwb3NlQ2hhcnMgfSxcbiAgICB7IGtleTogXCJDdHJsLXZcIiwgcnVuOiBjdXJzb3JQYWdlRG93biB9LFxuXTtcbi8qKlxuQW4gYXJyYXkgb2Yga2V5IGJpbmRpbmdzIGNsb3NlbHkgc3RpY2tpbmcgdG8gcGxhdGZvcm0tc3RhbmRhcmQgb3JcbndpZGVseSB1c2VkIGJpbmRpbmdzLiAoVGhpcyBpbmNsdWRlcyB0aGUgYmluZGluZ3MgZnJvbVxuW2BlbWFjc1N0eWxlS2V5bWFwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5lbWFjc1N0eWxlS2V5bWFwKSwgd2l0aCB0aGVpciBga2V5YFxucHJvcGVydHkgY2hhbmdlZCB0byBgbWFjYC4pXG5cbiAtIEFycm93TGVmdDogW2BjdXJzb3JDaGFyTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhckxlZnQpIChbYHNlbGVjdENoYXJMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RDaGFyTGVmdCkgd2l0aCBTaGlmdClcbiAtIEFycm93UmlnaHQ6IFtgY3Vyc29yQ2hhclJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JDaGFyUmlnaHQpIChbYHNlbGVjdENoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0Q2hhclJpZ2h0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1BcnJvd0xlZnQgKEFsdC1BcnJvd0xlZnQgb24gbWFjT1MpOiBbYGN1cnNvckdyb3VwTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yR3JvdXBMZWZ0KSAoW2BzZWxlY3RHcm91cExlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdEdyb3VwTGVmdCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtQXJyb3dSaWdodCAoQWx0LUFycm93UmlnaHQgb24gbWFjT1MpOiBbYGN1cnNvckdyb3VwUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckdyb3VwUmlnaHQpIChbYHNlbGVjdEdyb3VwUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdEdyb3VwUmlnaHQpIHdpdGggU2hpZnQpXG4gLSBDbWQtQXJyb3dMZWZ0IChvbiBtYWNPUyk6IFtgY3Vyc29yTGluZVN0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lU3RhcnQpIChbYHNlbGVjdExpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVN0YXJ0KSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93UmlnaHQgKG9uIG1hY09TKTogW2BjdXJzb3JMaW5lRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lRW5kKSAoW2BzZWxlY3RMaW5lRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lRW5kKSB3aXRoIFNoaWZ0KVxuIC0gQXJyb3dVcDogW2BjdXJzb3JMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVVcCkgKFtgc2VsZWN0TGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lVXApIHdpdGggU2hpZnQpXG4gLSBBcnJvd0Rvd246IFtgY3Vyc29yTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVEb3duKSAoW2BzZWxlY3RMaW5lRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZURvd24pIHdpdGggU2hpZnQpXG4gLSBDbWQtQXJyb3dVcCAob24gbWFjT1MpOiBbYGN1cnNvckRvY1N0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JEb2NTdGFydCkgKFtgc2VsZWN0RG9jU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdERvY1N0YXJ0KSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93RG93biAob24gbWFjT1MpOiBbYGN1cnNvckRvY0VuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jRW5kKSAoW2BzZWxlY3REb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdERvY0VuZCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtQXJyb3dVcCAob24gbWFjT1MpOiBbYGN1cnNvclBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZVVwKSAoW2BzZWxlY3RQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VVcCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtQXJyb3dEb3duIChvbiBtYWNPUyk6IFtgY3Vyc29yUGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VEb3duKSAoW2BzZWxlY3RQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFnZURvd24pIHdpdGggU2hpZnQpXG4gLSBQYWdlVXA6IFtgY3Vyc29yUGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlVXApIChbYHNlbGVjdFBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFnZVVwKSB3aXRoIFNoaWZ0KVxuIC0gUGFnZURvd246IFtgY3Vyc29yUGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VEb3duKSAoW2BzZWxlY3RQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFnZURvd24pIHdpdGggU2hpZnQpXG4gLSBIb21lOiBbYGN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCkgKFtgc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkKSB3aXRoIFNoaWZ0KVxuIC0gRW5kOiBbYGN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmQpIChbYHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUhvbWUgKENtZC1Ib21lIG9uIG1hY09TKTogW2BjdXJzb3JEb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jU3RhcnQpIChbYHNlbGVjdERvY1N0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NTdGFydCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtRW5kIChDbWQtSG9tZSBvbiBtYWNPUyk6IFtgY3Vyc29yRG9jRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JEb2NFbmQpIChbYHNlbGVjdERvY0VuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0RG9jRW5kKSB3aXRoIFNoaWZ0KVxuIC0gRW50ZXIgYW5kIFNoaWZ0LUVudGVyOiBbYGluc2VydE5ld2xpbmVBbmRJbmRlbnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluc2VydE5ld2xpbmVBbmRJbmRlbnQpXG4gLSBDdHJsLWEgKENtZC1hIG9uIG1hY09TKTogW2BzZWxlY3RBbGxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdEFsbClcbiAtIEJhY2tzcGFjZTogW2BkZWxldGVDaGFyQmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJCYWNrd2FyZClcbiAtIERlbGV0ZTogW2BkZWxldGVDaGFyRm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckZvcndhcmQpXG4gLSBDdHJsLUJhY2tzcGFjZSAoQWx0LUJhY2tzcGFjZSBvbiBtYWNPUyk6IFtgZGVsZXRlR3JvdXBCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlR3JvdXBCYWNrd2FyZClcbiAtIEN0cmwtRGVsZXRlIChBbHQtRGVsZXRlIG9uIG1hY09TKTogW2BkZWxldGVHcm91cEZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUdyb3VwRm9yd2FyZClcbiAtIENtZC1CYWNrc3BhY2UgKG1hY09TKTogW2BkZWxldGVMaW5lQm91bmRhcnlCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQpLlxuIC0gQ21kLURlbGV0ZSAobWFjT1MpOiBbYGRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmQpLlxuKi9cbmNvbnN0IHN0YW5kYXJkS2V5bWFwID0gLypAX19QVVJFX18qL1tcbiAgICB7IGtleTogXCJBcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JDaGFyTGVmdCwgc2hpZnQ6IHNlbGVjdENoYXJMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1BcnJvd0xlZnRcIiwgbWFjOiBcIkFsdC1BcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JHcm91cExlZnQsIHNoaWZ0OiBzZWxlY3RHcm91cExlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93TGVmdFwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeUxlZnQsIHNoaWZ0OiBzZWxlY3RMaW5lQm91bmRhcnlMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIkFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JDaGFyUmlnaHQsIHNoaWZ0OiBzZWxlY3RDaGFyUmlnaHQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUFycm93UmlnaHRcIiwgbWFjOiBcIkFsdC1BcnJvd1JpZ2h0XCIsIHJ1bjogY3Vyc29yR3JvdXBSaWdodCwgc2hpZnQ6IHNlbGVjdEdyb3VwUmlnaHQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JMaW5lQm91bmRhcnlSaWdodCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIkFycm93VXBcIiwgcnVuOiBjdXJzb3JMaW5lVXAsIHNoaWZ0OiBzZWxlY3RMaW5lVXAsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93VXBcIiwgcnVuOiBjdXJzb3JEb2NTdGFydCwgc2hpZnQ6IHNlbGVjdERvY1N0YXJ0IH0sXG4gICAgeyBtYWM6IFwiQ3RybC1BcnJvd1VwXCIsIHJ1bjogY3Vyc29yUGFnZVVwLCBzaGlmdDogc2VsZWN0UGFnZVVwIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dEb3duXCIsIHJ1bjogY3Vyc29yTGluZURvd24sIHNoaWZ0OiBzZWxlY3RMaW5lRG93biwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IG1hYzogXCJDbWQtQXJyb3dEb3duXCIsIHJ1bjogY3Vyc29yRG9jRW5kLCBzaGlmdDogc2VsZWN0RG9jRW5kIH0sXG4gICAgeyBtYWM6IFwiQ3RybC1BcnJvd0Rvd25cIiwgcnVuOiBjdXJzb3JQYWdlRG93biwgc2hpZnQ6IHNlbGVjdFBhZ2VEb3duIH0sXG4gICAgeyBrZXk6IFwiUGFnZVVwXCIsIHJ1bjogY3Vyc29yUGFnZVVwLCBzaGlmdDogc2VsZWN0UGFnZVVwIH0sXG4gICAgeyBrZXk6IFwiUGFnZURvd25cIiwgcnVuOiBjdXJzb3JQYWdlRG93biwgc2hpZnQ6IHNlbGVjdFBhZ2VEb3duIH0sXG4gICAgeyBrZXk6IFwiSG9tZVwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkLCBzaGlmdDogc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUhvbWVcIiwgcnVuOiBjdXJzb3JEb2NTdGFydCwgc2hpZnQ6IHNlbGVjdERvY1N0YXJ0IH0sXG4gICAgeyBrZXk6IFwiRW5kXCIsIHJ1bjogY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUVuZFwiLCBydW46IGN1cnNvckRvY0VuZCwgc2hpZnQ6IHNlbGVjdERvY0VuZCB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIHJ1bjogaW5zZXJ0TmV3bGluZUFuZEluZGVudCwgc2hpZnQ6IGluc2VydE5ld2xpbmVBbmRJbmRlbnQgfSxcbiAgICB7IGtleTogXCJNb2QtYVwiLCBydW46IHNlbGVjdEFsbCB9LFxuICAgIHsga2V5OiBcIkJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZUNoYXJCYWNrd2FyZCwgc2hpZnQ6IGRlbGV0ZUNoYXJCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIkRlbGV0ZVwiLCBydW46IGRlbGV0ZUNoYXJGb3J3YXJkIH0sXG4gICAgeyBrZXk6IFwiTW9kLUJhY2tzcGFjZVwiLCBtYWM6IFwiQWx0LUJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZUdyb3VwQmFja3dhcmQgfSxcbiAgICB7IGtleTogXCJNb2QtRGVsZXRlXCIsIG1hYzogXCJBbHQtRGVsZXRlXCIsIHJ1bjogZGVsZXRlR3JvdXBGb3J3YXJkIH0sXG4gICAgeyBtYWM6IFwiTW9kLUJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZUxpbmVCb3VuZGFyeUJhY2t3YXJkIH0sXG4gICAgeyBtYWM6IFwiTW9kLURlbGV0ZVwiLCBydW46IGRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmQgfVxuXS5jb25jYXQoLypAX19QVVJFX18qL2VtYWNzU3R5bGVLZXltYXAubWFwKGIgPT4gKHsgbWFjOiBiLmtleSwgcnVuOiBiLnJ1biwgc2hpZnQ6IGIuc2hpZnQgfSkpKTtcbi8qKlxuVGhlIGRlZmF1bHQga2V5bWFwLiBJbmNsdWRlcyBhbGwgYmluZGluZ3MgZnJvbVxuW2BzdGFuZGFyZEtleW1hcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc3RhbmRhcmRLZXltYXApIHBsdXMgdGhlIGZvbGxvd2luZzpcblxuLSBBbHQtQXJyb3dMZWZ0IChDdHJsLUFycm93TGVmdCBvbiBtYWNPUyk6IFtgY3Vyc29yU3ludGF4TGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yU3ludGF4TGVmdCkgKFtgc2VsZWN0U3ludGF4TGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0U3ludGF4TGVmdCkgd2l0aCBTaGlmdClcbi0gQWx0LUFycm93UmlnaHQgKEN0cmwtQXJyb3dSaWdodCBvbiBtYWNPUyk6IFtgY3Vyc29yU3ludGF4UmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclN5bnRheFJpZ2h0KSAoW2BzZWxlY3RTeW50YXhSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0U3ludGF4UmlnaHQpIHdpdGggU2hpZnQpXG4tIEFsdC1BcnJvd1VwOiBbYG1vdmVMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLm1vdmVMaW5lVXApXG4tIEFsdC1BcnJvd0Rvd246IFtgbW92ZUxpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5tb3ZlTGluZURvd24pXG4tIFNoaWZ0LUFsdC1BcnJvd1VwOiBbYGNvcHlMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmNvcHlMaW5lVXApXG4tIFNoaWZ0LUFsdC1BcnJvd0Rvd246IFtgY29weUxpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jb3B5TGluZURvd24pXG4tIEVzY2FwZTogW2BzaW1wbGlmeVNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2ltcGxpZnlTZWxlY3Rpb24pXG4tIEN0cmwtRW50ZXIgKENtZC1FbnRlciBvbiBtYWNPUyk6IFtgaW5zZXJ0QmxhbmtMaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbnNlcnRCbGFua0xpbmUpXG4tIEFsdC1sIChDdHJsLWwgb24gbWFjT1MpOiBbYHNlbGVjdExpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmUpXG4tIEN0cmwtaSAoQ21kLWkgb24gbWFjT1MpOiBbYHNlbGVjdFBhcmVudFN5bnRheGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFyZW50U3ludGF4KVxuLSBDdHJsLVsgKENtZC1bIG9uIG1hY09TKTogW2BpbmRlbnRMZXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRMZXNzKVxuLSBDdHJsLV0gKENtZC1dIG9uIG1hY09TKTogW2BpbmRlbnRNb3JlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRNb3JlKVxuLSBDdHJsLUFsdC1cXFxcIChDbWQtQWx0LVxcXFwgb24gbWFjT1MpOiBbYGluZGVudFNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50U2VsZWN0aW9uKVxuLSBTaGlmdC1DdHJsLWsgKFNoaWZ0LUNtZC1rIG9uIG1hY09TKTogW2BkZWxldGVMaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVMaW5lKVxuLSBTaGlmdC1DdHJsLVxcXFwgKFNoaWZ0LUNtZC1cXFxcIG9uIG1hY09TKTogW2BjdXJzb3JNYXRjaGluZ0JyYWNrZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvck1hdGNoaW5nQnJhY2tldClcbi0gQ3RybC0vIChDbWQtLyBvbiBtYWNPUyk6IFtgdG9nZ2xlQ29tbWVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudG9nZ2xlQ29tbWVudCkuXG4tIFNoaWZ0LUFsdC1hOiBbYHRvZ2dsZUJsb2NrQ29tbWVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudG9nZ2xlQmxvY2tDb21tZW50KS5cbi0gQ3RybC1tIChBbHQtU2hpZnQtbSBvbiBtYWNPUyk6IFtgdG9nZ2xlVGFiRm9jdXNNb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50b2dnbGVUYWJGb2N1c01vZGUpLlxuKi9cbmNvbnN0IGRlZmF1bHRLZXltYXAgPSAvKkBfX1BVUkVfXyovW1xuICAgIHsga2V5OiBcIkFsdC1BcnJvd0xlZnRcIiwgbWFjOiBcIkN0cmwtQXJyb3dMZWZ0XCIsIHJ1bjogY3Vyc29yU3ludGF4TGVmdCwgc2hpZnQ6IHNlbGVjdFN5bnRheExlZnQgfSxcbiAgICB7IGtleTogXCJBbHQtQXJyb3dSaWdodFwiLCBtYWM6IFwiQ3RybC1BcnJvd1JpZ2h0XCIsIHJ1bjogY3Vyc29yU3ludGF4UmlnaHQsIHNoaWZ0OiBzZWxlY3RTeW50YXhSaWdodCB9LFxuICAgIHsga2V5OiBcIkFsdC1BcnJvd1VwXCIsIHJ1bjogbW92ZUxpbmVVcCB9LFxuICAgIHsga2V5OiBcIlNoaWZ0LUFsdC1BcnJvd1VwXCIsIHJ1bjogY29weUxpbmVVcCB9LFxuICAgIHsga2V5OiBcIkFsdC1BcnJvd0Rvd25cIiwgcnVuOiBtb3ZlTGluZURvd24gfSxcbiAgICB7IGtleTogXCJTaGlmdC1BbHQtQXJyb3dEb3duXCIsIHJ1bjogY29weUxpbmVEb3duIH0sXG4gICAgeyBrZXk6IFwiRXNjYXBlXCIsIHJ1bjogc2ltcGxpZnlTZWxlY3Rpb24gfSxcbiAgICB7IGtleTogXCJNb2QtRW50ZXJcIiwgcnVuOiBpbnNlcnRCbGFua0xpbmUgfSxcbiAgICB7IGtleTogXCJBbHQtbFwiLCBtYWM6IFwiQ3RybC1sXCIsIHJ1bjogc2VsZWN0TGluZSB9LFxuICAgIHsga2V5OiBcIk1vZC1pXCIsIHJ1bjogc2VsZWN0UGFyZW50U3ludGF4LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1bXCIsIHJ1bjogaW5kZW50TGVzcyB9LFxuICAgIHsga2V5OiBcIk1vZC1dXCIsIHJ1bjogaW5kZW50TW9yZSB9LFxuICAgIHsga2V5OiBcIk1vZC1BbHQtXFxcXFwiLCBydW46IGluZGVudFNlbGVjdGlvbiB9LFxuICAgIHsga2V5OiBcIlNoaWZ0LU1vZC1rXCIsIHJ1bjogZGVsZXRlTGluZSB9LFxuICAgIHsga2V5OiBcIlNoaWZ0LU1vZC1cXFxcXCIsIHJ1bjogY3Vyc29yTWF0Y2hpbmdCcmFja2V0IH0sXG4gICAgeyBrZXk6IFwiTW9kLS9cIiwgcnVuOiB0b2dnbGVDb21tZW50IH0sXG4gICAgeyBrZXk6IFwiQWx0LUFcIiwgcnVuOiB0b2dnbGVCbG9ja0NvbW1lbnQgfSxcbiAgICB7IGtleTogXCJDdHJsLW1cIiwgbWFjOiBcIlNoaWZ0LUFsdC1tXCIsIHJ1bjogdG9nZ2xlVGFiRm9jdXNNb2RlIH0sXG5dLmNvbmNhdChzdGFuZGFyZEtleW1hcCk7XG4vKipcbkEgYmluZGluZyB0aGF0IGJpbmRzIFRhYiB0byBbYGluZGVudE1vcmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudE1vcmUpIGFuZFxuU2hpZnQtVGFiIHRvIFtgaW5kZW50TGVzc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50TGVzcykuXG5QbGVhc2Ugc2VlIHRoZSBbVGFiIGV4YW1wbGVdKC4uLy4uL2V4YW1wbGVzL3RhYi8pIGJlZm9yZSB1c2luZ1xudGhpcy5cbiovXG5jb25zdCBpbmRlbnRXaXRoVGFiID0geyBrZXk6IFwiVGFiXCIsIHJ1bjogaW5kZW50TW9yZSwgc2hpZnQ6IGluZGVudExlc3MgfTtcblxuZXhwb3J0IHsgYmxvY2tDb21tZW50LCBibG9ja1VuY29tbWVudCwgY29weUxpbmVEb3duLCBjb3B5TGluZVVwLCBjdXJzb3JDaGFyQmFja3dhcmQsIGN1cnNvckNoYXJCYWNrd2FyZExvZ2ljYWwsIGN1cnNvckNoYXJGb3J3YXJkLCBjdXJzb3JDaGFyRm9yd2FyZExvZ2ljYWwsIGN1cnNvckNoYXJMZWZ0LCBjdXJzb3JDaGFyUmlnaHQsIGN1cnNvckRvY0VuZCwgY3Vyc29yRG9jU3RhcnQsIGN1cnNvckdyb3VwQmFja3dhcmQsIGN1cnNvckdyb3VwRm9yd2FyZCwgY3Vyc29yR3JvdXBGb3J3YXJkV2luLCBjdXJzb3JHcm91cExlZnQsIGN1cnNvckdyb3VwUmlnaHQsIGN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkLCBjdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkLCBjdXJzb3JMaW5lQm91bmRhcnlMZWZ0LCBjdXJzb3JMaW5lQm91bmRhcnlSaWdodCwgY3Vyc29yTGluZURvd24sIGN1cnNvckxpbmVFbmQsIGN1cnNvckxpbmVTdGFydCwgY3Vyc29yTGluZVVwLCBjdXJzb3JNYXRjaGluZ0JyYWNrZXQsIGN1cnNvclBhZ2VEb3duLCBjdXJzb3JQYWdlVXAsIGN1cnNvclN1YndvcmRCYWNrd2FyZCwgY3Vyc29yU3Vid29yZEZvcndhcmQsIGN1cnNvclN5bnRheExlZnQsIGN1cnNvclN5bnRheFJpZ2h0LCBkZWZhdWx0S2V5bWFwLCBkZWxldGVDaGFyQmFja3dhcmQsIGRlbGV0ZUNoYXJCYWNrd2FyZFN0cmljdCwgZGVsZXRlQ2hhckZvcndhcmQsIGRlbGV0ZUdyb3VwQmFja3dhcmQsIGRlbGV0ZUdyb3VwRm9yd2FyZCwgZGVsZXRlTGluZSwgZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQsIGRlbGV0ZUxpbmVCb3VuZGFyeUZvcndhcmQsIGRlbGV0ZVRvTGluZUVuZCwgZGVsZXRlVG9MaW5lU3RhcnQsIGRlbGV0ZVRyYWlsaW5nV2hpdGVzcGFjZSwgZW1hY3NTdHlsZUtleW1hcCwgaGlzdG9yeSwgaGlzdG9yeUZpZWxkLCBoaXN0b3J5S2V5bWFwLCBpbmRlbnRMZXNzLCBpbmRlbnRNb3JlLCBpbmRlbnRTZWxlY3Rpb24sIGluZGVudFdpdGhUYWIsIGluc2VydEJsYW5rTGluZSwgaW5zZXJ0TmV3bGluZSwgaW5zZXJ0TmV3bGluZUFuZEluZGVudCwgaW5zZXJ0TmV3bGluZUtlZXBJbmRlbnQsIGluc2VydFRhYiwgaW52ZXJ0ZWRFZmZlY3RzLCBpc29sYXRlSGlzdG9yeSwgbGluZUNvbW1lbnQsIGxpbmVVbmNvbW1lbnQsIG1vdmVMaW5lRG93biwgbW92ZUxpbmVVcCwgcmVkbywgcmVkb0RlcHRoLCByZWRvU2VsZWN0aW9uLCBzZWxlY3RBbGwsIHNlbGVjdENoYXJCYWNrd2FyZCwgc2VsZWN0Q2hhckJhY2t3YXJkTG9naWNhbCwgc2VsZWN0Q2hhckZvcndhcmQsIHNlbGVjdENoYXJGb3J3YXJkTG9naWNhbCwgc2VsZWN0Q2hhckxlZnQsIHNlbGVjdENoYXJSaWdodCwgc2VsZWN0RG9jRW5kLCBzZWxlY3REb2NTdGFydCwgc2VsZWN0R3JvdXBCYWNrd2FyZCwgc2VsZWN0R3JvdXBGb3J3YXJkLCBzZWxlY3RHcm91cEZvcndhcmRXaW4sIHNlbGVjdEdyb3VwTGVmdCwgc2VsZWN0R3JvdXBSaWdodCwgc2VsZWN0TGluZSwgc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQsIHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQsIHNlbGVjdExpbmVCb3VuZGFyeUxlZnQsIHNlbGVjdExpbmVCb3VuZGFyeVJpZ2h0LCBzZWxlY3RMaW5lRG93biwgc2VsZWN0TGluZUVuZCwgc2VsZWN0TGluZVN0YXJ0LCBzZWxlY3RMaW5lVXAsIHNlbGVjdE1hdGNoaW5nQnJhY2tldCwgc2VsZWN0UGFnZURvd24sIHNlbGVjdFBhZ2VVcCwgc2VsZWN0UGFyZW50U3ludGF4LCBzZWxlY3RTdWJ3b3JkQmFja3dhcmQsIHNlbGVjdFN1YndvcmRGb3J3YXJkLCBzZWxlY3RTeW50YXhMZWZ0LCBzZWxlY3RTeW50YXhSaWdodCwgc2ltcGxpZnlTZWxlY3Rpb24sIHNwbGl0TGluZSwgc3RhbmRhcmRLZXltYXAsIHRlbXBvcmFyaWx5U2V0VGFiRm9jdXNNb2RlLCB0b2dnbGVCbG9ja0NvbW1lbnQsIHRvZ2dsZUJsb2NrQ29tbWVudEJ5TGluZSwgdG9nZ2xlQ29tbWVudCwgdG9nZ2xlTGluZUNvbW1lbnQsIHRvZ2dsZVRhYkZvY3VzTW9kZSwgdHJhbnNwb3NlQ2hhcnMsIHVuZG8sIHVuZG9EZXB0aCwgdW5kb1NlbGVjdGlvbiB9O1xuIiwgImltcG9ydCB7IHNob3dQYW5lbCwgRWRpdG9yVmlldywgZ2V0UGFuZWwsIERlY29yYXRpb24sIFZpZXdQbHVnaW4sIHJ1blNjb3BlSGFuZGxlcnMgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IGNvZGVQb2ludEF0LCBmcm9tQ29kZVBvaW50LCBjb2RlUG9pbnRTaXplLCBTdGF0ZUVmZmVjdCwgU3RhdGVGaWVsZCwgRWRpdG9yU2VsZWN0aW9uLCBGYWNldCwgY29tYmluZUNvbmZpZywgQ2hhckNhdGVnb3J5LCBSYW5nZVNldEJ1aWxkZXIsIFByZWMsIEVkaXRvclN0YXRlLCBmaW5kQ2x1c3RlckJyZWFrIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IGVsdCBmcm9tICdjcmVsdCc7XG5cbmNvbnN0IGJhc2ljTm9ybWFsaXplID0gdHlwZW9mIFN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplID09IFwiZnVuY3Rpb25cIlxuICAgID8geCA9PiB4Lm5vcm1hbGl6ZShcIk5GS0RcIikgOiB4ID0+IHg7XG4vKipcbkEgc2VhcmNoIGN1cnNvciBwcm92aWRlcyBhbiBpdGVyYXRvciBvdmVyIHRleHQgbWF0Y2hlcyBpbiBhXG5kb2N1bWVudC5cbiovXG5jbGFzcyBTZWFyY2hDdXJzb3Ige1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRleHQgY3Vyc29yLiBUaGUgcXVlcnkgaXMgdGhlIHNlYXJjaCBzdHJpbmcsIGBmcm9tYCB0b1xuICAgIGB0b2AgcHJvdmlkZXMgdGhlIHJlZ2lvbiB0byBzZWFyY2guXG4gICAgXG4gICAgV2hlbiBgbm9ybWFsaXplYCBpcyBnaXZlbiwgaXQgd2lsbCBiZSBjYWxsZWQsIG9uIGJvdGggdGhlIHF1ZXJ5XG4gICAgc3RyaW5nIGFuZCB0aGUgY29udGVudCBpdCBpcyBtYXRjaGVkIGFnYWluc3QsIGJlZm9yZSBjb21wYXJpbmcuXG4gICAgWW91IGNhbiwgZm9yIGV4YW1wbGUsIGNyZWF0ZSBhIGNhc2UtaW5zZW5zaXRpdmUgc2VhcmNoIGJ5XG4gICAgcGFzc2luZyBgcyA9PiBzLnRvTG93ZXJDYXNlKClgLlxuICAgIFxuICAgIFRleHQgaXMgYWx3YXlzIG5vcm1hbGl6ZWQgd2l0aFxuICAgIFtgLm5vcm1hbGl6ZShcIk5GS0RcIilgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbm9ybWFsaXplKVxuICAgICh3aGVuIHN1cHBvcnRlZCkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBxdWVyeSwgZnJvbSA9IDAsIHRvID0gdGV4dC5sZW5ndGgsIG5vcm1hbGl6ZSwgdGVzdCkge1xuICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICAvKipcbiAgICAgICAgVGhlIGN1cnJlbnQgbWF0Y2ggKG9ubHkgaG9sZHMgYSBtZWFuaW5nZnVsIHZhbHVlIGFmdGVyXG4gICAgICAgIFtgbmV4dGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc2VhcmNoLlNlYXJjaEN1cnNvci5uZXh0KSBoYXMgYmVlbiBjYWxsZWQgYW5kIHdoZW5cbiAgICAgICAgYGRvbmVgIGlzIGZhbHNlKS5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZSA9IHsgZnJvbTogMCwgdG86IDAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgIFdoZXRoZXIgdGhlIGVuZCBvZiB0aGUgaXRlcmF0ZWQgcmVnaW9uIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBcIlwiO1xuICAgICAgICB0aGlzLmJ1ZmZlclBvcyA9IDA7XG4gICAgICAgIHRoaXMuaXRlciA9IHRleHQuaXRlclJhbmdlKGZyb20sIHRvKTtcbiAgICAgICAgdGhpcy5idWZmZXJTdGFydCA9IGZyb207XG4gICAgICAgIHRoaXMubm9ybWFsaXplID0gbm9ybWFsaXplID8geCA9PiBub3JtYWxpemUoYmFzaWNOb3JtYWxpemUoeCkpIDogYmFzaWNOb3JtYWxpemU7XG4gICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLm5vcm1hbGl6ZShxdWVyeSk7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlclBvcyA9PSB0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyU3RhcnQgKz0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5pdGVyLm5leHQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZXIuZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlclBvcyA9IDA7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuaXRlci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29kZVBvaW50QXQodGhpcy5idWZmZXIsIHRoaXMuYnVmZmVyUG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTG9vayBmb3IgdGhlIG5leHQgbWF0Y2guIFVwZGF0ZXMgdGhlIGl0ZXJhdG9yJ3NcbiAgICBbYHZhbHVlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guU2VhcmNoQ3Vyc29yLnZhbHVlKSBhbmRcbiAgICBbYGRvbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3NlYXJjaC5TZWFyY2hDdXJzb3IuZG9uZSkgcHJvcGVydGllcy4gU2hvdWxkIGJlIGNhbGxlZFxuICAgIGF0IGxlYXN0IG9uY2UgYmVmb3JlIHVzaW5nIHRoZSBjdXJzb3IuXG4gICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICB3aGlsZSAodGhpcy5tYXRjaGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dE92ZXJsYXBwaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBgbmV4dGAgbWV0aG9kIHdpbGwgaWdub3JlIG1hdGNoZXMgdGhhdCBwYXJ0aWFsbHkgb3ZlcmxhcCBhXG4gICAgcHJldmlvdXMgbWF0Y2guIFRoaXMgbWV0aG9kIGJlaGF2ZXMgbGlrZSBgbmV4dGAsIGJ1dCBpbmNsdWRlc1xuICAgIHN1Y2ggbWF0Y2hlcy5cbiAgICAqL1xuICAgIG5leHRPdmVybGFwcGluZygpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgICAgIGlmIChuZXh0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RyID0gZnJvbUNvZGVQb2ludChuZXh0KSwgc3RhcnQgPSB0aGlzLmJ1ZmZlclN0YXJ0ICsgdGhpcy5idWZmZXJQb3M7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlclBvcyArPSBjb2RlUG9pbnRTaXplKG5leHQpO1xuICAgICAgICAgICAgbGV0IG5vcm0gPSB0aGlzLm5vcm1hbGl6ZShzdHIpO1xuICAgICAgICAgICAgaWYgKG5vcm0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSBzdGFydDs7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IG5vcm0uY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5tYXRjaChjb2RlLCBwb3MsIHRoaXMuYnVmZmVyUG9zICsgdGhpcy5idWZmZXJTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IG5vcm0ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG1hdGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA9PSBzdGFydCAmJiBpIDwgc3RyLmxlbmd0aCAmJiBzdHIuY2hhckNvZGVBdChpKSA9PSBjb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoKGNvZGUsIHBvcywgZW5kKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXRjaGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1hdGNoZXNbaV0sIGtlZXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5LmNoYXJDb2RlQXQoaW5kZXgpID09IGNvZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5xdWVyeS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0geyBmcm9tOiB0aGlzLm1hdGNoZXNbaSArIDFdLCB0bzogZW5kIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXNbaV0rKztcbiAgICAgICAgICAgICAgICAgICAga2VlcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFrZWVwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzLnNwbGljZShpLCAyKTtcbiAgICAgICAgICAgICAgICBpIC09IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVlcnkuY2hhckNvZGVBdCgwKSA9PSBjb2RlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWVyeS5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHsgZnJvbTogcG9zLCB0bzogZW5kIH07XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzLnB1c2goMSwgcG9zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2ggJiYgdGhpcy50ZXN0ICYmICF0aGlzLnRlc3QobWF0Y2guZnJvbSwgbWF0Y2gudG8sIHRoaXMuYnVmZmVyLCB0aGlzLmJ1ZmZlclN0YXJ0KSlcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbn1cbmlmICh0eXBlb2YgU3ltYm9sICE9IFwidW5kZWZpbmVkXCIpXG4gICAgU2VhcmNoQ3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxuY29uc3QgZW1wdHkgPSB7IGZyb206IC0xLCB0bzogLTEsIG1hdGNoOiAvKkBfX1BVUkVfXyovLy4qLy5leGVjKFwiXCIpIH07XG5jb25zdCBiYXNlRmxhZ3MgPSBcImdtXCIgKyAoL3gvLnVuaWNvZGUgPT0gbnVsbCA/IFwiXCIgOiBcInVcIik7XG4vKipcblRoaXMgY2xhc3MgaXMgc2ltaWxhciB0byBbYFNlYXJjaEN1cnNvcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc2VhcmNoLlNlYXJjaEN1cnNvcilcbmJ1dCBzZWFyY2hlcyBmb3IgYSByZWd1bGFyIGV4cHJlc3Npb24gcGF0dGVybiBpbnN0ZWFkIG9mIGEgcGxhaW5cbnN0cmluZy5cbiovXG5jbGFzcyBSZWdFeHBDdXJzb3Ige1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIGN1cnNvciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBnaXZlbiByYW5nZSBpbiB0aGUgZ2l2ZW5cbiAgICBkb2N1bWVudC4gYHF1ZXJ5YCBzaG91bGQgYmUgdGhlIHJhdyBwYXR0ZXJuIChhcyB5b3UnZCBwYXNzIGl0IHRvXG4gICAgYG5ldyBSZWdFeHBgKS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIHF1ZXJ5LCBvcHRpb25zLCBmcm9tID0gMCwgdG8gPSB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IFwiXCI7XG4gICAgICAgIC8qKlxuICAgICAgICBTZXQgdG8gYHRydWVgIHdoZW4gdGhlIGN1cnNvciBoYXMgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBzZWFyY2hcbiAgICAgICAgcmFuZ2UuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgV2lsbCBjb250YWluIGFuIG9iamVjdCB3aXRoIHRoZSBleHRlbnQgb2YgdGhlIG1hdGNoIGFuZCB0aGVcbiAgICAgICAgbWF0Y2ggb2JqZWN0IHdoZW4gW2BuZXh0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guUmVnRXhwQ3Vyc29yLm5leHQpXG4gICAgICAgIHN1Y2Vzc2Z1bGx5IGZpbmRzIGEgbWF0Y2guXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudmFsdWUgPSBlbXB0eTtcbiAgICAgICAgaWYgKC9cXFxcW3NXRG5yXXxcXG58XFxyfFxcW1xcXi8udGVzdChxdWVyeSkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IE11bHRpbGluZVJlZ0V4cEN1cnNvcih0ZXh0LCBxdWVyeSwgb3B0aW9ucywgZnJvbSwgdG8pO1xuICAgICAgICB0aGlzLnJlID0gbmV3IFJlZ0V4cChxdWVyeSwgYmFzZUZsYWdzICsgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaWdub3JlQ2FzZSkgPyBcImlcIiA6IFwiXCIpKTtcbiAgICAgICAgdGhpcy50ZXN0ID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRlc3Q7XG4gICAgICAgIHRoaXMuaXRlciA9IHRleHQuaXRlcigpO1xuICAgICAgICBsZXQgc3RhcnRMaW5lID0gdGV4dC5saW5lQXQoZnJvbSk7XG4gICAgICAgIHRoaXMuY3VyTGluZVN0YXJ0ID0gc3RhcnRMaW5lLmZyb207XG4gICAgICAgIHRoaXMubWF0Y2hQb3MgPSB0b0NoYXJFbmQodGV4dCwgZnJvbSk7XG4gICAgICAgIHRoaXMuZ2V0TGluZSh0aGlzLmN1ckxpbmVTdGFydCk7XG4gICAgfVxuICAgIGdldExpbmUoc2tpcCkge1xuICAgICAgICB0aGlzLml0ZXIubmV4dChza2lwKTtcbiAgICAgICAgaWYgKHRoaXMuaXRlci5saW5lQnJlYWspIHtcbiAgICAgICAgICAgIHRoaXMuY3VyTGluZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1ckxpbmUgPSB0aGlzLml0ZXIudmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJMaW5lU3RhcnQgKyB0aGlzLmN1ckxpbmUubGVuZ3RoID4gdGhpcy50bylcbiAgICAgICAgICAgICAgICB0aGlzLmN1ckxpbmUgPSB0aGlzLmN1ckxpbmUuc2xpY2UoMCwgdGhpcy50byAtIHRoaXMuY3VyTGluZVN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuaXRlci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dExpbmUoKSB7XG4gICAgICAgIHRoaXMuY3VyTGluZVN0YXJ0ID0gdGhpcy5jdXJMaW5lU3RhcnQgKyB0aGlzLmN1ckxpbmUubGVuZ3RoICsgMTtcbiAgICAgICAgaWYgKHRoaXMuY3VyTGluZVN0YXJ0ID4gdGhpcy50bylcbiAgICAgICAgICAgIHRoaXMuY3VyTGluZSA9IFwiXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGUgbmV4dCBtYXRjaCwgaWYgdGhlcmUgaXMgb25lLlxuICAgICovXG4gICAgbmV4dCgpIHtcbiAgICAgICAgZm9yIChsZXQgb2ZmID0gdGhpcy5tYXRjaFBvcyAtIHRoaXMuY3VyTGluZVN0YXJ0OzspIHtcbiAgICAgICAgICAgIHRoaXMucmUubGFzdEluZGV4ID0gb2ZmO1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5tYXRjaFBvcyA8PSB0aGlzLnRvICYmIHRoaXMucmUuZXhlYyh0aGlzLmN1ckxpbmUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSB0aGlzLmN1ckxpbmVTdGFydCArIG1hdGNoLmluZGV4LCB0byA9IGZyb20gKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFBvcyA9IHRvQ2hhckVuZCh0aGlzLnRleHQsIHRvICsgKGZyb20gPT0gdG8gPyAxIDogMCkpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID09IHRoaXMuY3VyTGluZVN0YXJ0ICsgdGhpcy5jdXJMaW5lLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TGluZSgpO1xuICAgICAgICAgICAgICAgIGlmICgoZnJvbSA8IHRvIHx8IGZyb20gPiB0aGlzLnZhbHVlLnRvKSAmJiAoIXRoaXMudGVzdCB8fCB0aGlzLnRlc3QoZnJvbSwgdG8sIG1hdGNoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHsgZnJvbSwgdG8sIG1hdGNoIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmYgPSB0aGlzLm1hdGNoUG9zIC0gdGhpcy5jdXJMaW5lU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1ckxpbmVTdGFydCArIHRoaXMuY3VyTGluZS5sZW5ndGggPCB0aGlzLnRvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGluZSgpO1xuICAgICAgICAgICAgICAgIG9mZiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgZmxhdHRlbmVkID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG4vLyBSZXVzYWJsZSAocGFydGlhbGx5KSBmbGF0dGVuZWQgZG9jdW1lbnQgc3RyaW5nc1xuY2xhc3MgRmxhdHRlbmVkRG9jIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0ZXh0KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMudGV4dC5sZW5ndGg7IH1cbiAgICBzdGF0aWMgZ2V0KGRvYywgZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGNhY2hlZCA9IGZsYXR0ZW5lZC5nZXQoZG9jKTtcbiAgICAgICAgaWYgKCFjYWNoZWQgfHwgY2FjaGVkLmZyb20gPj0gdG8gfHwgY2FjaGVkLnRvIDw9IGZyb20pIHtcbiAgICAgICAgICAgIGxldCBmbGF0ID0gbmV3IEZsYXR0ZW5lZERvYyhmcm9tLCBkb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8pKTtcbiAgICAgICAgICAgIGZsYXR0ZW5lZC5zZXQoZG9jLCBmbGF0KTtcbiAgICAgICAgICAgIHJldHVybiBmbGF0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZWQuZnJvbSA9PSBmcm9tICYmIGNhY2hlZC50byA9PSB0bylcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb206IGNhY2hlZEZyb20gfSA9IGNhY2hlZDtcbiAgICAgICAgaWYgKGNhY2hlZEZyb20gPiBmcm9tKSB7XG4gICAgICAgICAgICB0ZXh0ID0gZG9jLnNsaWNlU3RyaW5nKGZyb20sIGNhY2hlZEZyb20pICsgdGV4dDtcbiAgICAgICAgICAgIGNhY2hlZEZyb20gPSBmcm9tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZWQudG8gPCB0bylcbiAgICAgICAgICAgIHRleHQgKz0gZG9jLnNsaWNlU3RyaW5nKGNhY2hlZC50bywgdG8pO1xuICAgICAgICBmbGF0dGVuZWQuc2V0KGRvYywgbmV3IEZsYXR0ZW5lZERvYyhjYWNoZWRGcm9tLCB0ZXh0KSk7XG4gICAgICAgIHJldHVybiBuZXcgRmxhdHRlbmVkRG9jKGZyb20sIHRleHQuc2xpY2UoZnJvbSAtIGNhY2hlZEZyb20sIHRvIC0gY2FjaGVkRnJvbSkpO1xuICAgIH1cbn1cbmNsYXNzIE11bHRpbGluZVJlZ0V4cEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgcXVlcnksIG9wdGlvbnMsIGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFsdWUgPSBlbXB0eTtcbiAgICAgICAgdGhpcy5tYXRjaFBvcyA9IHRvQ2hhckVuZCh0ZXh0LCBmcm9tKTtcbiAgICAgICAgdGhpcy5yZSA9IG5ldyBSZWdFeHAocXVlcnksIGJhc2VGbGFncyArICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlnbm9yZUNhc2UpID8gXCJpXCIgOiBcIlwiKSk7XG4gICAgICAgIHRoaXMudGVzdCA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50ZXN0O1xuICAgICAgICB0aGlzLmZsYXQgPSBGbGF0dGVuZWREb2MuZ2V0KHRleHQsIGZyb20sIHRoaXMuY2h1bmtFbmQoZnJvbSArIDUwMDAgLyogQ2h1bmsuQmFzZSAqLykpO1xuICAgIH1cbiAgICBjaHVua0VuZChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHBvcyA+PSB0aGlzLnRvID8gdGhpcy50byA6IHRoaXMudGV4dC5saW5lQXQocG9zKS50bztcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IG9mZiA9IHRoaXMucmUubGFzdEluZGV4ID0gdGhpcy5tYXRjaFBvcyAtIHRoaXMuZmxhdC5mcm9tO1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5yZS5leGVjKHRoaXMuZmxhdC50ZXh0KTtcbiAgICAgICAgICAgIC8vIFNraXAgZW1wdHkgbWF0Y2hlcyBkaXJlY3RseSBhZnRlciB0aGUgbGFzdCBtYXRjaFxuICAgICAgICAgICAgaWYgKG1hdGNoICYmICFtYXRjaFswXSAmJiBtYXRjaC5pbmRleCA9PSBvZmYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlLmxhc3RJbmRleCA9IG9mZiArIDE7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSB0aGlzLnJlLmV4ZWModGhpcy5mbGF0LnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSB0aGlzLmZsYXQuZnJvbSArIG1hdGNoLmluZGV4LCB0byA9IGZyb20gKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBtYXRjaCBnb2VzIGFsbW9zdCB0byB0aGUgZW5kIG9mIGEgbm9uY29tcGxldGUgY2h1bmssIHRyeVxuICAgICAgICAgICAgICAgIC8vIGFnYWluLCBzaW5jZSBpdCdsbCBsaWtlbHkgYmUgYWJsZSB0byBtYXRjaCBtb3JlXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmZsYXQudG8gPj0gdGhpcy50byB8fCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA8PSB0aGlzLmZsYXQudGV4dC5sZW5ndGggLSAxMCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCF0aGlzLnRlc3QgfHwgdGhpcy50ZXN0KGZyb20sIHRvLCBtYXRjaCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB7IGZyb20sIHRvLCBtYXRjaCB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoUG9zID0gdG9DaGFyRW5kKHRoaXMudGV4dCwgdG8gKyAoZnJvbSA9PSB0byA/IDEgOiAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZsYXQudG8gPT0gdGhpcy50bykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHcm93IHRoZSBmbGF0dGVuZWQgZG9jXG4gICAgICAgICAgICB0aGlzLmZsYXQgPSBGbGF0dGVuZWREb2MuZ2V0KHRoaXMudGV4dCwgdGhpcy5mbGF0LmZyb20sIHRoaXMuY2h1bmtFbmQodGhpcy5mbGF0LmZyb20gKyB0aGlzLmZsYXQudGV4dC5sZW5ndGggKiAyKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5pZiAodHlwZW9mIFN5bWJvbCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgUmVnRXhwQ3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gTXVsdGlsaW5lUmVnRXhwQ3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID1cbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkUmVnRXhwKHNvdXJjZSkge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBSZWdFeHAoc291cmNlLCBiYXNlRmxhZ3MpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiB0b0NoYXJFbmQodGV4dCwgcG9zKSB7XG4gICAgaWYgKHBvcyA+PSB0ZXh0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICBsZXQgbGluZSA9IHRleHQubGluZUF0KHBvcyksIG5leHQ7XG4gICAgd2hpbGUgKHBvcyA8IGxpbmUudG8gJiYgKG5leHQgPSBsaW5lLnRleHQuY2hhckNvZGVBdChwb3MgLSBsaW5lLmZyb20pKSA+PSAweERDMDAgJiYgbmV4dCA8IDB4RTAwMClcbiAgICAgICAgcG9zKys7XG4gICAgcmV0dXJuIHBvcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGluZURpYWxvZyh2aWV3KSB7XG4gICAgbGV0IGxpbmUgPSBTdHJpbmcodmlldy5zdGF0ZS5kb2MubGluZUF0KHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCkubnVtYmVyKTtcbiAgICBsZXQgaW5wdXQgPSBlbHQoXCJpbnB1dFwiLCB7IGNsYXNzOiBcImNtLXRleHRmaWVsZFwiLCBuYW1lOiBcImxpbmVcIiwgdmFsdWU6IGxpbmUgfSk7XG4gICAgbGV0IGRvbSA9IGVsdChcImZvcm1cIiwge1xuICAgICAgICBjbGFzczogXCJjbS1nb3RvTGluZVwiLFxuICAgICAgICBvbmtleWRvd246IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMjcpIHsgLy8gRXNjYXBlXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogZGlhbG9nRWZmZWN0Lm9mKGZhbHNlKSB9KTtcbiAgICAgICAgICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7IC8vIEVudGVyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbnN1Ym1pdDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfVxuICAgIH0sIGVsdChcImxhYmVsXCIsIHZpZXcuc3RhdGUucGhyYXNlKFwiR28gdG8gbGluZVwiKSwgXCI6IFwiLCBpbnB1dCksIFwiIFwiLCBlbHQoXCJidXR0b25cIiwgeyBjbGFzczogXCJjbS1idXR0b25cIiwgdHlwZTogXCJzdWJtaXRcIiB9LCB2aWV3LnN0YXRlLnBocmFzZShcImdvXCIpKSwgZWx0KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgbmFtZTogXCJjbG9zZVwiLFxuICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogZGlhbG9nRWZmZWN0Lm9mKGZhbHNlKSB9KTtcbiAgICAgICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHZpZXcuc3RhdGUucGhyYXNlKFwiY2xvc2VcIiksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9LCBbXCJcdTAwRDdcIl0pKTtcbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgbGV0IG1hdGNoID0gL14oWystXSk/KFxcZCspPyg6XFxkKyk/KCUpPyQvLmV4ZWMoaW5wdXQudmFsdWUpO1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgc3RhcnRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChzdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgbGV0IFssIHNpZ24sIGxuLCBjbCwgcGVyY2VudF0gPSBtYXRjaDtcbiAgICAgICAgbGV0IGNvbCA9IGNsID8gK2NsLnNsaWNlKDEpIDogMDtcbiAgICAgICAgbGV0IGxpbmUgPSBsbiA/ICtsbiA6IHN0YXJ0TGluZS5udW1iZXI7XG4gICAgICAgIGlmIChsbiAmJiBwZXJjZW50KSB7XG4gICAgICAgICAgICBsZXQgcGMgPSBsaW5lIC8gMTAwO1xuICAgICAgICAgICAgaWYgKHNpZ24pXG4gICAgICAgICAgICAgICAgcGMgPSBwYyAqIChzaWduID09IFwiLVwiID8gLTEgOiAxKSArIChzdGFydExpbmUubnVtYmVyIC8gc3RhdGUuZG9jLmxpbmVzKTtcbiAgICAgICAgICAgIGxpbmUgPSBNYXRoLnJvdW5kKHN0YXRlLmRvYy5saW5lcyAqIHBjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsbiAmJiBzaWduKSB7XG4gICAgICAgICAgICBsaW5lID0gbGluZSAqIChzaWduID09IFwiLVwiID8gLTEgOiAxKSArIHN0YXJ0TGluZS5udW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRvY0xpbmUgPSBzdGF0ZS5kb2MubGluZShNYXRoLm1heCgxLCBNYXRoLm1pbihzdGF0ZS5kb2MubGluZXMsIGxpbmUpKSk7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGRvY0xpbmUuZnJvbSArIE1hdGgubWF4KDAsIE1hdGgubWluKGNvbCwgZG9jTGluZS5sZW5ndGgpKSk7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICAgICAgZWZmZWN0czogW2RpYWxvZ0VmZmVjdC5vZihmYWxzZSksIEVkaXRvclZpZXcuc2Nyb2xsSW50b1ZpZXcoc2VsZWN0aW9uLmZyb20sIHsgeTogJ2NlbnRlcicgfSldLFxuICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgIH1cbiAgICByZXR1cm4geyBkb20gfTtcbn1cbmNvbnN0IGRpYWxvZ0VmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGRpYWxvZ0ZpZWxkID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgaWYgKGUuaXMoZGlhbG9nRWZmZWN0KSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGUudmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gc2hvd1BhbmVsLmZyb20oZiwgdmFsID0+IHZhbCA/IGNyZWF0ZUxpbmVEaWFsb2cgOiBudWxsKVxufSk7XG4vKipcbkNvbW1hbmQgdGhhdCBzaG93cyBhIGRpYWxvZyBhc2tpbmcgdGhlIHVzZXIgZm9yIGEgbGluZSBudW1iZXIsIGFuZFxud2hlbiBhIHZhbGlkIHBvc2l0aW9uIGlzIHByb3ZpZGVkLCBtb3ZlcyB0aGUgY3Vyc29yIHRvIHRoYXQgbGluZS5cblxuU3VwcG9ydHMgbGluZSBudW1iZXJzLCByZWxhdGl2ZSBsaW5lIG9mZnNldHMgcHJlZml4ZWQgd2l0aCBgK2Agb3JcbmAtYCwgZG9jdW1lbnQgcGVyY2VudGFnZXMgc3VmZml4ZWQgd2l0aCBgJWAsIGFuZCBhbiBvcHRpb25hbFxuY29sdW1uIHBvc2l0aW9uIGJ5IGFkZGluZyBgOmAgYW5kIGEgc2Vjb25kIG51bWJlciBhZnRlciB0aGUgbGluZVxubnVtYmVyLlxuKi9cbmNvbnN0IGdvdG9MaW5lID0gdmlldyA9PiB7XG4gICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwodmlldywgY3JlYXRlTGluZURpYWxvZyk7XG4gICAgaWYgKCFwYW5lbCkge1xuICAgICAgICBsZXQgZWZmZWN0cyA9IFtkaWFsb2dFZmZlY3Qub2YodHJ1ZSldO1xuICAgICAgICBpZiAodmlldy5zdGF0ZS5maWVsZChkaWFsb2dGaWVsZCwgZmFsc2UpID09IG51bGwpXG4gICAgICAgICAgICBlZmZlY3RzLnB1c2goU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKFtkaWFsb2dGaWVsZCwgYmFzZVRoZW1lJDFdKSk7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzIH0pO1xuICAgICAgICBwYW5lbCA9IGdldFBhbmVsKHZpZXcsIGNyZWF0ZUxpbmVEaWFsb2cpO1xuICAgIH1cbiAgICBpZiAocGFuZWwpXG4gICAgICAgIHBhbmVsLmRvbS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuc2VsZWN0KCk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiLmNtLXBhbmVsLmNtLWdvdG9MaW5lXCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIycHggNnB4IDRweFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBcIiYgbGFiZWxcIjogeyBmb250U2l6ZTogXCI4MCVcIiB9LFxuICAgICAgICBcIiYgW25hbWU9Y2xvc2VdXCI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB0b3A6IFwiMFwiLCBib3R0b206IFwiMFwiLFxuICAgICAgICAgICAgcmlnaHQ6IFwiNHB4XCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZvbnQ6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCIwXCJcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb25zdCBkZWZhdWx0SGlnaGxpZ2h0T3B0aW9ucyA9IHtcbiAgICBoaWdobGlnaHRXb3JkQXJvdW5kQ3Vyc29yOiBmYWxzZSxcbiAgICBtaW5TZWxlY3Rpb25MZW5ndGg6IDEsXG4gICAgbWF4TWF0Y2hlczogMTAwLFxuICAgIHdob2xlV29yZHM6IGZhbHNlXG59O1xuY29uc3QgaGlnaGxpZ2h0Q29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKG9wdGlvbnMsIGRlZmF1bHRIaWdobGlnaHRPcHRpb25zLCB7XG4gICAgICAgICAgICBoaWdobGlnaHRXb3JkQXJvdW5kQ3Vyc29yOiAoYSwgYikgPT4gYSB8fCBiLFxuICAgICAgICAgICAgbWluU2VsZWN0aW9uTGVuZ3RoOiBNYXRoLm1pbixcbiAgICAgICAgICAgIG1heE1hdGNoZXM6IE1hdGgubWluXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuLyoqXG5UaGlzIGV4dGVuc2lvbiBoaWdobGlnaHRzIHRleHQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3Rpb24uIEl0IHVzZXNcbnRoZSBgXCJjbS1zZWxlY3Rpb25NYXRjaFwiYCBjbGFzcyBmb3IgdGhlIGhpZ2hsaWdodGluZy4gV2hlblxuYGhpZ2hsaWdodFdvcmRBcm91bmRDdXJzb3JgIGlzIGVuYWJsZWQsIHRoZSB3b3JkIGF0IHRoZSBjdXJzb3Jcbml0c2VsZiB3aWxsIGJlIGhpZ2hsaWdodGVkIHdpdGggYFwiY20tc2VsZWN0aW9uTWF0Y2gtbWFpblwiYC5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ID0gW2RlZmF1bHRUaGVtZSwgbWF0Y2hIaWdobGlnaHRlcl07XG4gICAgaWYgKG9wdGlvbnMpXG4gICAgICAgIGV4dC5wdXNoKGhpZ2hsaWdodENvbmZpZy5vZihvcHRpb25zKSk7XG4gICAgcmV0dXJuIGV4dDtcbn1cbmNvbnN0IG1hdGNoRGVjbyA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1zZWxlY3Rpb25NYXRjaFwiIH0pO1xuY29uc3QgbWFpbk1hdGNoRGVjbyA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1zZWxlY3Rpb25NYXRjaCBjbS1zZWxlY3Rpb25NYXRjaC1tYWluXCIgfSk7XG4vLyBXaGV0aGVyIHRoZSBjaGFyYWN0ZXJzIGRpcmVjdGx5IG91dHNpZGUgdGhlIGdpdmVuIHBvc2l0aW9ucyBhcmUgbm9uLXdvcmQgY2hhcmFjdGVyc1xuZnVuY3Rpb24gaW5zaWRlV29yZEJvdW5kYXJpZXMoY2hlY2ssIHN0YXRlLCBmcm9tLCB0bykge1xuICAgIHJldHVybiAoZnJvbSA9PSAwIHx8IGNoZWNrKHN0YXRlLnNsaWNlRG9jKGZyb20gLSAxLCBmcm9tKSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpICYmXG4gICAgICAgICh0byA9PSBzdGF0ZS5kb2MubGVuZ3RoIHx8IGNoZWNrKHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDEpKSAhPSBDaGFyQ2F0ZWdvcnkuV29yZCk7XG59XG4vLyBXaGV0aGVyIHRoZSBjaGFyYWN0ZXJzIGRpcmVjdGx5IGF0IHRoZSBnaXZlbiBwb3NpdGlvbnMgYXJlIHdvcmQgY2hhcmFjdGVyc1xuZnVuY3Rpb24gaW5zaWRlV29yZChjaGVjaywgc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIGNoZWNrKHN0YXRlLnNsaWNlRG9jKGZyb20sIGZyb20gKyAxKSkgPT0gQ2hhckNhdGVnb3J5LldvcmRcbiAgICAgICAgJiYgY2hlY2soc3RhdGUuc2xpY2VEb2ModG8gLSAxLCB0bykpID09IENoYXJDYXRlZ29yeS5Xb3JkO1xufVxuY29uc3QgbWF0Y2hIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5nZXREZWNvKHZpZXcpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS52aWV3cG9ydENoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5nZXREZWNvKHVwZGF0ZS52aWV3KTtcbiAgICB9XG4gICAgZ2V0RGVjbyh2aWV3KSB7XG4gICAgICAgIGxldCBjb25mID0gdmlldy5zdGF0ZS5mYWNldChoaWdobGlnaHRDb25maWcpO1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgc2VsID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoc2VsLnJhbmdlcy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgbGV0IHJhbmdlID0gc2VsLm1haW4sIHF1ZXJ5LCBjaGVjayA9IG51bGw7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgaWYgKCFjb25mLmhpZ2hsaWdodFdvcmRBcm91bmRDdXJzb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIGxldCB3b3JkID0gc3RhdGUud29yZEF0KHJhbmdlLmhlYWQpO1xuICAgICAgICAgICAgaWYgKCF3b3JkKVxuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICBjaGVjayA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihyYW5nZS5oZWFkKTtcbiAgICAgICAgICAgIHF1ZXJ5ID0gc3RhdGUuc2xpY2VEb2Mod29yZC5mcm9tLCB3b3JkLnRvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSByYW5nZS50byAtIHJhbmdlLmZyb207XG4gICAgICAgICAgICBpZiAobGVuIDwgY29uZi5taW5TZWxlY3Rpb25MZW5ndGggfHwgbGVuID4gMjAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICBpZiAoY29uZi53aG9sZVdvcmRzKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgPSBzdGF0ZS5zbGljZURvYyhyYW5nZS5mcm9tLCByYW5nZS50byk7IC8vIFRPRE86IGFsbG93IGFuZCBpbmNsdWRlIGxlYWRpbmcvdHJhaWxpbmcgc3BhY2U/XG4gICAgICAgICAgICAgICAgY2hlY2sgPSBzdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocmFuZ2UuaGVhZCk7XG4gICAgICAgICAgICAgICAgaWYgKCEoaW5zaWRlV29yZEJvdW5kYXJpZXMoY2hlY2ssIHN0YXRlLCByYW5nZS5mcm9tLCByYW5nZS50bykgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5zaWRlV29yZChjaGVjaywgc3RhdGUsIHJhbmdlLmZyb20sIHJhbmdlLnRvKSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHN0YXRlLnNsaWNlRG9jKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkZWNvID0gW107XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFNlYXJjaEN1cnNvcihzdGF0ZS5kb2MsIHF1ZXJ5LCBwYXJ0LmZyb20sIHBhcnQudG8pO1xuICAgICAgICAgICAgd2hpbGUgKCFjdXJzb3IubmV4dCgpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghY2hlY2sgfHwgaW5zaWRlV29yZEJvdW5kYXJpZXMoY2hlY2ssIHN0YXRlLCBmcm9tLCB0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLmVtcHR5ICYmIGZyb20gPD0gcmFuZ2UuZnJvbSAmJiB0byA+PSByYW5nZS50bylcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY28ucHVzaChtYWluTWF0Y2hEZWNvLnJhbmdlKGZyb20sIHRvKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZyb20gPj0gcmFuZ2UudG8gfHwgdG8gPD0gcmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY28ucHVzaChtYXRjaERlY28ucmFuZ2UoZnJvbSwgdG8pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY28ubGVuZ3RoID4gY29uZi5tYXhNYXRjaGVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KGRlY28pO1xuICAgIH1cbn0sIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KTtcbmNvbnN0IGRlZmF1bHRUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tc2VsZWN0aW9uTWF0Y2hcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5ZmY3NzgwXCIgfSxcbiAgICBcIi5jbS1zZWFyY2hNYXRjaCAuY20tc2VsZWN0aW9uTWF0Y2hcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIiB9XG59KTtcbi8vIFNlbGVjdCB0aGUgd29yZHMgYXJvdW5kIHRoZSBjdXJzb3JzLlxuY29uc3Qgc2VsZWN0V29yZCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHsgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcbiAgICBsZXQgbmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShzZWxlY3Rpb24ucmFuZ2VzLm1hcChyYW5nZSA9PiBzdGF0ZS53b3JkQXQocmFuZ2UuaGVhZCkgfHwgRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5oZWFkKSksIHNlbGVjdGlvbi5tYWluSW5kZXgpO1xuICAgIGlmIChuZXdTZWwuZXEoc2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7IHNlbGVjdGlvbjogbmV3U2VsIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vLyBGaW5kIG5leHQgb2NjdXJyZW5jZSBvZiBxdWVyeSByZWxhdGl2ZSB0byBsYXN0IGN1cnNvci4gV3JhcCBhcm91bmRcbi8vIHRoZSBkb2N1bWVudCBpZiB0aGVyZSBhcmUgbm8gbW9yZSBtYXRjaGVzLlxuZnVuY3Rpb24gZmluZE5leHRPY2N1cnJlbmNlKHN0YXRlLCBxdWVyeSkge1xuICAgIGxldCB7IG1haW4sIHJhbmdlcyB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGxldCB3b3JkID0gc3RhdGUud29yZEF0KG1haW4uaGVhZCksIGZ1bGxXb3JkID0gd29yZCAmJiB3b3JkLmZyb20gPT0gbWFpbi5mcm9tICYmIHdvcmQudG8gPT0gbWFpbi50bztcbiAgICBmb3IgKGxldCBjeWNsZWQgPSBmYWxzZSwgY3Vyc29yID0gbmV3IFNlYXJjaEN1cnNvcihzdGF0ZS5kb2MsIHF1ZXJ5LCByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvKTs7KSB7XG4gICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgIGlmIChjdXJzb3IuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGN5Y2xlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGN1cnNvciA9IG5ldyBTZWFyY2hDdXJzb3Ioc3RhdGUuZG9jLCBxdWVyeSwgMCwgTWF0aC5tYXgoMCwgcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXS5mcm9tIC0gMSkpO1xuICAgICAgICAgICAgY3ljbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjeWNsZWQgJiYgcmFuZ2VzLnNvbWUociA9PiByLmZyb20gPT0gY3Vyc29yLnZhbHVlLmZyb20pKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGZ1bGxXb3JkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHdvcmQgPSBzdGF0ZS53b3JkQXQoY3Vyc29yLnZhbHVlLmZyb20pO1xuICAgICAgICAgICAgICAgIGlmICghd29yZCB8fCB3b3JkLmZyb20gIT0gY3Vyc29yLnZhbHVlLmZyb20gfHwgd29yZC50byAhPSBjdXJzb3IudmFsdWUudG8pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnNvci52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuU2VsZWN0IG5leHQgb2NjdXJyZW5jZSBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24uIEV4cGFuZCBzZWxlY3Rpb25cbnRvIHRoZSBzdXJyb3VuZGluZyB3b3JkIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBlbXB0eS5cbiovXG5jb25zdCBzZWxlY3ROZXh0T2NjdXJyZW5jZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHsgcmFuZ2VzIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgaWYgKHJhbmdlcy5zb21lKHNlbCA9PiBzZWwuZnJvbSA9PT0gc2VsLnRvKSlcbiAgICAgICAgcmV0dXJuIHNlbGVjdFdvcmQoeyBzdGF0ZSwgZGlzcGF0Y2ggfSk7XG4gICAgbGV0IHNlYXJjaGVkVGV4dCA9IHN0YXRlLnNsaWNlRG9jKHJhbmdlc1swXS5mcm9tLCByYW5nZXNbMF0udG8pO1xuICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLnNvbWUociA9PiBzdGF0ZS5zbGljZURvYyhyLmZyb20sIHIudG8pICE9IHNlYXJjaGVkVGV4dCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcmFuZ2UgPSBmaW5kTmV4dE9jY3VycmVuY2Uoc3RhdGUsIHNlYXJjaGVkVGV4dCk7XG4gICAgaWYgKCFyYW5nZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgIHNlbGVjdGlvbjogc3RhdGUuc2VsZWN0aW9uLmFkZFJhbmdlKEVkaXRvclNlbGVjdGlvbi5yYW5nZShyYW5nZS5mcm9tLCByYW5nZS50byksIGZhbHNlKSxcbiAgICAgICAgZWZmZWN0czogRWRpdG9yVmlldy5zY3JvbGxJbnRvVmlldyhyYW5nZS50bylcbiAgICB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBzZWFyY2hDb25maWdGYWNldCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICB0b3A6IGZhbHNlLFxuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBsaXRlcmFsOiBmYWxzZSxcbiAgICAgICAgICAgIHJlZ2V4cDogZmFsc2UsXG4gICAgICAgICAgICB3aG9sZVdvcmQ6IGZhbHNlLFxuICAgICAgICAgICAgY3JlYXRlUGFuZWw6IHZpZXcgPT4gbmV3IFNlYXJjaFBhbmVsKHZpZXcpLFxuICAgICAgICAgICAgc2Nyb2xsVG9NYXRjaDogcmFuZ2UgPT4gRWRpdG9yVmlldy5zY3JvbGxJbnRvVmlldyhyYW5nZSlcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4vKipcbkFkZCBzZWFyY2ggc3RhdGUgdG8gdGhlIGVkaXRvciBjb25maWd1cmF0aW9uLCBhbmQgb3B0aW9uYWxseVxuY29uZmlndXJlIHRoZSBzZWFyY2ggZXh0ZW5zaW9uLlxuKFtgb3BlblNlYXJjaFBhbmVsYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2gub3BlblNlYXJjaFBhbmVsKSB3aWxsIGF1dG9tYXRpY2FsbHlcbmVuYWJsZSB0aGlzIGlmIGl0IGlzbid0IGFscmVhZHkgb24pLlxuKi9cbmZ1bmN0aW9uIHNlYXJjaChjb25maWcpIHtcbiAgICByZXR1cm4gY29uZmlnID8gW3NlYXJjaENvbmZpZ0ZhY2V0Lm9mKGNvbmZpZyksIHNlYXJjaEV4dGVuc2lvbnNdIDogc2VhcmNoRXh0ZW5zaW9ucztcbn1cbi8qKlxuQSBzZWFyY2ggcXVlcnkuIFBhcnQgb2YgdGhlIGVkaXRvcidzIHNlYXJjaCBzdGF0ZS5cbiovXG5jbGFzcyBTZWFyY2hRdWVyeSB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcXVlcnkgb2JqZWN0LlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gY29uZmlnLnNlYXJjaDtcbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlID0gISFjb25maWcuY2FzZVNlbnNpdGl2ZTtcbiAgICAgICAgdGhpcy5saXRlcmFsID0gISFjb25maWcubGl0ZXJhbDtcbiAgICAgICAgdGhpcy5yZWdleHAgPSAhIWNvbmZpZy5yZWdleHA7XG4gICAgICAgIHRoaXMucmVwbGFjZSA9IGNvbmZpZy5yZXBsYWNlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudmFsaWQgPSAhIXRoaXMuc2VhcmNoICYmICghdGhpcy5yZWdleHAgfHwgdmFsaWRSZWdFeHAodGhpcy5zZWFyY2gpKTtcbiAgICAgICAgdGhpcy51bnF1b3RlZCA9IHRoaXMudW5xdW90ZSh0aGlzLnNlYXJjaCk7XG4gICAgICAgIHRoaXMud2hvbGVXb3JkID0gISFjb25maWcud2hvbGVXb3JkO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHVucXVvdGUodGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXRlcmFsID8gdGV4dCA6XG4gICAgICAgICAgICB0ZXh0LnJlcGxhY2UoL1xcXFwoW25ydFxcXFxdKS9nLCAoXywgY2gpID0+IGNoID09IFwiblwiID8gXCJcXG5cIiA6IGNoID09IFwiclwiID8gXCJcXHJcIiA6IGNoID09IFwidFwiID8gXCJcXHRcIiA6IFwiXFxcXFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHF1ZXJ5IHRvIGFub3RoZXIgcXVlcnkuXG4gICAgKi9cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2ggPT0gb3RoZXIuc2VhcmNoICYmIHRoaXMucmVwbGFjZSA9PSBvdGhlci5yZXBsYWNlICYmXG4gICAgICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdmUgPT0gb3RoZXIuY2FzZVNlbnNpdGl2ZSAmJiB0aGlzLnJlZ2V4cCA9PSBvdGhlci5yZWdleHAgJiZcbiAgICAgICAgICAgIHRoaXMud2hvbGVXb3JkID09IG90aGVyLndob2xlV29yZDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cCA/IG5ldyBSZWdFeHBRdWVyeSh0aGlzKSA6IG5ldyBTdHJpbmdRdWVyeSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgc2VhcmNoIGN1cnNvciBmb3IgdGhpcyBxdWVyeSwgc2VhcmNoaW5nIHRocm91Z2ggdGhlIGdpdmVuXG4gICAgcmFuZ2UgaW4gdGhlIGdpdmVuIHN0YXRlLlxuICAgICovXG4gICAgZ2V0Q3Vyc29yKHN0YXRlLCBmcm9tID0gMCwgdG8pIHtcbiAgICAgICAgbGV0IHN0ID0gc3RhdGUuZG9jID8gc3RhdGUgOiBFZGl0b3JTdGF0ZS5jcmVhdGUoeyBkb2M6IHN0YXRlIH0pO1xuICAgICAgICBpZiAodG8gPT0gbnVsbClcbiAgICAgICAgICAgIHRvID0gc3QuZG9jLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwID8gcmVnZXhwQ3Vyc29yKHRoaXMsIHN0LCBmcm9tLCB0bykgOiBzdHJpbmdDdXJzb3IodGhpcywgc3QsIGZyb20sIHRvKTtcbiAgICB9XG59XG5jbGFzcyBRdWVyeVR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYztcbiAgICB9XG59XG5mdW5jdGlvbiBzdHJpbmdDdXJzb3Ioc3BlYywgc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIG5ldyBTZWFyY2hDdXJzb3Ioc3RhdGUuZG9jLCBzcGVjLnVucXVvdGVkLCBmcm9tLCB0bywgc3BlYy5jYXNlU2Vuc2l0aXZlID8gdW5kZWZpbmVkIDogeCA9PiB4LnRvTG93ZXJDYXNlKCksIHNwZWMud2hvbGVXb3JkID8gc3RyaW5nV29yZFRlc3Qoc3RhdGUuZG9jLCBzdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIoc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCkpIDogdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ1dvcmRUZXN0KGRvYywgY2F0ZWdvcml6ZXIpIHtcbiAgICByZXR1cm4gKGZyb20sIHRvLCBidWYsIGJ1ZlBvcykgPT4ge1xuICAgICAgICBpZiAoYnVmUG9zID4gZnJvbSB8fCBidWZQb3MgKyBidWYubGVuZ3RoIDwgdG8pIHtcbiAgICAgICAgICAgIGJ1ZlBvcyA9IE1hdGgubWF4KDAsIGZyb20gLSAyKTtcbiAgICAgICAgICAgIGJ1ZiA9IGRvYy5zbGljZVN0cmluZyhidWZQb3MsIE1hdGgubWluKGRvYy5sZW5ndGgsIHRvICsgMikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoY2F0ZWdvcml6ZXIoY2hhckJlZm9yZShidWYsIGZyb20gLSBidWZQb3MpKSAhPSBDaGFyQ2F0ZWdvcnkuV29yZCB8fFxuICAgICAgICAgICAgY2F0ZWdvcml6ZXIoY2hhckFmdGVyKGJ1ZiwgZnJvbSAtIGJ1ZlBvcykpICE9IENoYXJDYXRlZ29yeS5Xb3JkKSAmJlxuICAgICAgICAgICAgKGNhdGVnb3JpemVyKGNoYXJBZnRlcihidWYsIHRvIC0gYnVmUG9zKSkgIT0gQ2hhckNhdGVnb3J5LldvcmQgfHxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaXplcihjaGFyQmVmb3JlKGJ1ZiwgdG8gLSBidWZQb3MpKSAhPSBDaGFyQ2F0ZWdvcnkuV29yZCk7XG4gICAgfTtcbn1cbmNsYXNzIFN0cmluZ1F1ZXJ5IGV4dGVuZHMgUXVlcnlUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHN1cGVyKHNwZWMpO1xuICAgIH1cbiAgICBuZXh0TWF0Y2goc3RhdGUsIGN1ckZyb20sIGN1clRvKSB7XG4gICAgICAgIGxldCBjdXJzb3IgPSBzdHJpbmdDdXJzb3IodGhpcy5zcGVjLCBzdGF0ZSwgY3VyVG8sIHN0YXRlLmRvYy5sZW5ndGgpLm5leHRPdmVybGFwcGluZygpO1xuICAgICAgICBpZiAoY3Vyc29yLmRvbmUpIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCBjdXJGcm9tICsgdGhpcy5zcGVjLnVucXVvdGVkLmxlbmd0aCk7XG4gICAgICAgICAgICBjdXJzb3IgPSBzdHJpbmdDdXJzb3IodGhpcy5zcGVjLCBzdGF0ZSwgMCwgZW5kKS5uZXh0T3ZlcmxhcHBpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3Vyc29yLmRvbmUgfHwgY3Vyc29yLnZhbHVlLmZyb20gPT0gY3VyRnJvbSAmJiBjdXJzb3IudmFsdWUudG8gPT0gY3VyVG8gPyBudWxsIDogY3Vyc29yLnZhbHVlO1xuICAgIH1cbiAgICAvLyBTZWFyY2hpbmcgaW4gcmV2ZXJzZSBpcywgcmF0aGVyIHRoYW4gaW1wbGVtZW50aW5nIGFuIGludmVydGVkIHNlYXJjaFxuICAgIC8vIGN1cnNvciwgZG9uZSBieSBzY2FubmluZyBjaHVuayBhZnRlciBjaHVuayBmb3J3YXJkLlxuICAgIHByZXZNYXRjaEluUmFuZ2Uoc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IHRvOzspIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KGZyb20sIHBvcyAtIDEwMDAwIC8qIEZpbmRQcmV2LkNodW5rU2l6ZSAqLyAtIHRoaXMuc3BlYy51bnF1b3RlZC5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IGN1cnNvciA9IHN0cmluZ0N1cnNvcih0aGlzLnNwZWMsIHN0YXRlLCBzdGFydCwgcG9zKSwgcmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgd2hpbGUgKCFjdXJzb3IubmV4dE92ZXJsYXBwaW5nKCkuZG9uZSlcbiAgICAgICAgICAgICAgICByYW5nZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gZnJvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHBvcyAtPSAxMDAwMCAvKiBGaW5kUHJldi5DaHVua1NpemUgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJldk1hdGNoKHN0YXRlLCBjdXJGcm9tLCBjdXJUbykge1xuICAgICAgICBsZXQgZm91bmQgPSB0aGlzLnByZXZNYXRjaEluUmFuZ2Uoc3RhdGUsIDAsIGN1ckZyb20pO1xuICAgICAgICBpZiAoIWZvdW5kKVxuICAgICAgICAgICAgZm91bmQgPSB0aGlzLnByZXZNYXRjaEluUmFuZ2Uoc3RhdGUsIE1hdGgubWF4KDAsIGN1clRvIC0gdGhpcy5zcGVjLnVucXVvdGVkLmxlbmd0aCksIHN0YXRlLmRvYy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gZm91bmQgJiYgKGZvdW5kLmZyb20gIT0gY3VyRnJvbSB8fCBmb3VuZC50byAhPSBjdXJUbykgPyBmb3VuZCA6IG51bGw7XG4gICAgfVxuICAgIGdldFJlcGxhY2VtZW50KF9yZXN1bHQpIHsgcmV0dXJuIHRoaXMuc3BlYy51bnF1b3RlKHRoaXMuc3BlYy5yZXBsYWNlKTsgfVxuICAgIG1hdGNoQWxsKHN0YXRlLCBsaW1pdCkge1xuICAgICAgICBsZXQgY3Vyc29yID0gc3RyaW5nQ3Vyc29yKHRoaXMuc3BlYywgc3RhdGUsIDAsIHN0YXRlLmRvYy5sZW5ndGgpLCByYW5nZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKCFjdXJzb3IubmV4dCgpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID49IGxpbWl0KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgIH1cbiAgICBoaWdobGlnaHQoc3RhdGUsIGZyb20sIHRvLCBhZGQpIHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHN0cmluZ0N1cnNvcih0aGlzLnNwZWMsIHN0YXRlLCBNYXRoLm1heCgwLCBmcm9tIC0gdGhpcy5zcGVjLnVucXVvdGVkLmxlbmd0aCksIE1hdGgubWluKHRvICsgdGhpcy5zcGVjLnVucXVvdGVkLmxlbmd0aCwgc3RhdGUuZG9jLmxlbmd0aCkpO1xuICAgICAgICB3aGlsZSAoIWN1cnNvci5uZXh0KCkuZG9uZSlcbiAgICAgICAgICAgIGFkZChjdXJzb3IudmFsdWUuZnJvbSwgY3Vyc29yLnZhbHVlLnRvKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWdleHBDdXJzb3Ioc3BlYywgc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHBDdXJzb3Ioc3RhdGUuZG9jLCBzcGVjLnNlYXJjaCwge1xuICAgICAgICBpZ25vcmVDYXNlOiAhc3BlYy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICB0ZXN0OiBzcGVjLndob2xlV29yZCA/IHJlZ2V4cFdvcmRUZXN0KHN0YXRlLmNoYXJDYXRlZ29yaXplcihzdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKSkgOiB1bmRlZmluZWRcbiAgICB9LCBmcm9tLCB0byk7XG59XG5mdW5jdGlvbiBjaGFyQmVmb3JlKHN0ciwgaW5kZXgpIHtcbiAgICByZXR1cm4gc3RyLnNsaWNlKGZpbmRDbHVzdGVyQnJlYWsoc3RyLCBpbmRleCwgZmFsc2UpLCBpbmRleCk7XG59XG5mdW5jdGlvbiBjaGFyQWZ0ZXIoc3RyLCBpbmRleCkge1xuICAgIHJldHVybiBzdHIuc2xpY2UoaW5kZXgsIGZpbmRDbHVzdGVyQnJlYWsoc3RyLCBpbmRleCkpO1xufVxuZnVuY3Rpb24gcmVnZXhwV29yZFRlc3QoY2F0ZWdvcml6ZXIpIHtcbiAgICByZXR1cm4gKF9mcm9tLCBfdG8sIG1hdGNoKSA9PiAhbWF0Y2hbMF0ubGVuZ3RoIHx8XG4gICAgICAgIChjYXRlZ29yaXplcihjaGFyQmVmb3JlKG1hdGNoLmlucHV0LCBtYXRjaC5pbmRleCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkIHx8XG4gICAgICAgICAgICBjYXRlZ29yaXplcihjaGFyQWZ0ZXIobWF0Y2guaW5wdXQsIG1hdGNoLmluZGV4KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpICYmXG4gICAgICAgICAgICAoY2F0ZWdvcml6ZXIoY2hhckFmdGVyKG1hdGNoLmlucHV0LCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkIHx8XG4gICAgICAgICAgICAgICAgY2F0ZWdvcml6ZXIoY2hhckJlZm9yZShtYXRjaC5pbnB1dCwgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpKSAhPSBDaGFyQ2F0ZWdvcnkuV29yZCk7XG59XG5jbGFzcyBSZWdFeHBRdWVyeSBleHRlbmRzIFF1ZXJ5VHlwZSB7XG4gICAgbmV4dE1hdGNoKHN0YXRlLCBjdXJGcm9tLCBjdXJUbykge1xuICAgICAgICBsZXQgY3Vyc29yID0gcmVnZXhwQ3Vyc29yKHRoaXMuc3BlYywgc3RhdGUsIGN1clRvLCBzdGF0ZS5kb2MubGVuZ3RoKS5uZXh0KCk7XG4gICAgICAgIGlmIChjdXJzb3IuZG9uZSlcbiAgICAgICAgICAgIGN1cnNvciA9IHJlZ2V4cEN1cnNvcih0aGlzLnNwZWMsIHN0YXRlLCAwLCBjdXJGcm9tKS5uZXh0KCk7XG4gICAgICAgIHJldHVybiBjdXJzb3IuZG9uZSA/IG51bGwgOiBjdXJzb3IudmFsdWU7XG4gICAgfVxuICAgIHByZXZNYXRjaEluUmFuZ2Uoc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgICAgIGZvciAobGV0IHNpemUgPSAxOzsgc2l6ZSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChmcm9tLCB0byAtIHNpemUgKiAxMDAwMCAvKiBGaW5kUHJldi5DaHVua1NpemUgKi8pO1xuICAgICAgICAgICAgbGV0IGN1cnNvciA9IHJlZ2V4cEN1cnNvcih0aGlzLnNwZWMsIHN0YXRlLCBzdGFydCwgdG8pLCByYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoIWN1cnNvci5uZXh0KCkuZG9uZSlcbiAgICAgICAgICAgICAgICByYW5nZSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZSAmJiAoc3RhcnQgPT0gZnJvbSB8fCByYW5nZS5mcm9tID4gc3RhcnQgKyAxMCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ID09IGZyb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJldk1hdGNoKHN0YXRlLCBjdXJGcm9tLCBjdXJUbykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2TWF0Y2hJblJhbmdlKHN0YXRlLCAwLCBjdXJGcm9tKSB8fFxuICAgICAgICAgICAgdGhpcy5wcmV2TWF0Y2hJblJhbmdlKHN0YXRlLCBjdXJUbywgc3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgfVxuICAgIGdldFJlcGxhY2VtZW50KHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLnVucXVvdGUodGhpcy5zcGVjLnJlcGxhY2UpLnJlcGxhY2UoL1xcJChbJCZdfFxcZCspL2csIChtLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA9PSBcIiZcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Lm1hdGNoWzBdO1xuICAgICAgICAgICAgaWYgKGkgPT0gXCIkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiJFwiO1xuICAgICAgICAgICAgZm9yIChsZXQgbCA9IGkubGVuZ3RoOyBsID4gMDsgbC0tKSB7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSAraS5zbGljZSgwLCBsKTtcbiAgICAgICAgICAgICAgICBpZiAobiA+IDAgJiYgbiA8IHJlc3VsdC5tYXRjaC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQubWF0Y2hbbl0gKyBpLnNsaWNlKGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXRjaEFsbChzdGF0ZSwgbGltaXQpIHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHJlZ2V4cEN1cnNvcih0aGlzLnNwZWMsIHN0YXRlLCAwLCBzdGF0ZS5kb2MubGVuZ3RoKSwgcmFuZ2VzID0gW107XG4gICAgICAgIHdoaWxlICghY3Vyc29yLm5leHQoKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA+PSBsaW1pdClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9XG4gICAgaGlnaGxpZ2h0KHN0YXRlLCBmcm9tLCB0bywgYWRkKSB7XG4gICAgICAgIGxldCBjdXJzb3IgPSByZWdleHBDdXJzb3IodGhpcy5zcGVjLCBzdGF0ZSwgTWF0aC5tYXgoMCwgZnJvbSAtIDI1MCAvKiBSZWdFeHAuSGlnaGxpZ2h0TWFyZ2luICovKSwgTWF0aC5taW4odG8gKyAyNTAgLyogUmVnRXhwLkhpZ2hsaWdodE1hcmdpbiAqLywgc3RhdGUuZG9jLmxlbmd0aCkpO1xuICAgICAgICB3aGlsZSAoIWN1cnNvci5uZXh0KCkuZG9uZSlcbiAgICAgICAgICAgIGFkZChjdXJzb3IudmFsdWUuZnJvbSwgY3Vyc29yLnZhbHVlLnRvKTtcbiAgICB9XG59XG4vKipcbkEgc3RhdGUgZWZmZWN0IHRoYXQgdXBkYXRlcyB0aGUgY3VycmVudCBzZWFyY2ggcXVlcnkuIE5vdGUgdGhhdFxudGhpcyBvbmx5IGhhcyBhbiBlZmZlY3QgaWYgdGhlIHNlYXJjaCBzdGF0ZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuKGJ5IGluY2x1ZGluZyBbYHNlYXJjaGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc2VhcmNoLnNlYXJjaCkgaW4geW91ciBjb25maWd1cmF0aW9uIG9yXG5ieSBydW5uaW5nIFtgb3BlblNlYXJjaFBhbmVsYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2gub3BlblNlYXJjaFBhbmVsKSBhdCBsZWFzdFxub25jZSkuXG4qL1xuY29uc3Qgc2V0U2VhcmNoUXVlcnkgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5jb25zdCB0b2dnbGVQYW5lbCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IHNlYXJjaFN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWFyY2hTdGF0ZShkZWZhdWx0UXVlcnkoc3RhdGUpLmNyZWF0ZSgpLCBudWxsKTtcbiAgICB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0U2VhcmNoUXVlcnkpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IFNlYXJjaFN0YXRlKGVmZmVjdC52YWx1ZS5jcmVhdGUoKSwgdmFsdWUucGFuZWwpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKHRvZ2dsZVBhbmVsKSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBTZWFyY2hTdGF0ZSh2YWx1ZS5xdWVyeSwgZWZmZWN0LnZhbHVlID8gY3JlYXRlU2VhcmNoUGFuZWwgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBwcm92aWRlOiBmID0+IHNob3dQYW5lbC5mcm9tKGYsIHZhbCA9PiB2YWwucGFuZWwpXG59KTtcbi8qKlxuR2V0IHRoZSBjdXJyZW50IHNlYXJjaCBxdWVyeSBmcm9tIGFuIGVkaXRvciBzdGF0ZS5cbiovXG5mdW5jdGlvbiBnZXRTZWFyY2hRdWVyeShzdGF0ZSkge1xuICAgIGxldCBjdXJTdGF0ZSA9IHN0YXRlLmZpZWxkKHNlYXJjaFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuIGN1clN0YXRlID8gY3VyU3RhdGUucXVlcnkuc3BlYyA6IGRlZmF1bHRRdWVyeShzdGF0ZSk7XG59XG4vKipcblF1ZXJ5IHdoZXRoZXIgdGhlIHNlYXJjaCBwYW5lbCBpcyBvcGVuIGluIHRoZSBnaXZlbiBlZGl0b3Igc3RhdGUuXG4qL1xuZnVuY3Rpb24gc2VhcmNoUGFuZWxPcGVuKHN0YXRlKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gc3RhdGUuZmllbGQoc2VhcmNoU3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhbmVsKSAhPSBudWxsO1xufVxuY2xhc3MgU2VhcmNoU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKHF1ZXJ5LCBwYW5lbCkge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIHRoaXMucGFuZWwgPSBwYW5lbDtcbiAgICB9XG59XG5jb25zdCBtYXRjaE1hcmsgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20tc2VhcmNoTWF0Y2hcIiB9KSwgc2VsZWN0ZWRNYXRjaE1hcmsgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20tc2VhcmNoTWF0Y2ggY20tc2VhcmNoTWF0Y2gtc2VsZWN0ZWRcIiB9KTtcbmNvbnN0IHNlYXJjaEhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmhpZ2hsaWdodCh2aWV3LnN0YXRlLmZpZWxkKHNlYXJjaFN0YXRlKSk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHN0YXRlID0gdXBkYXRlLnN0YXRlLmZpZWxkKHNlYXJjaFN0YXRlKTtcbiAgICAgICAgaWYgKHN0YXRlICE9IHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKHNlYXJjaFN0YXRlKSB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IHVwZGF0ZS52aWV3cG9ydENoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5oaWdobGlnaHQoc3RhdGUpO1xuICAgIH1cbiAgICBoaWdobGlnaHQoeyBxdWVyeSwgcGFuZWwgfSkge1xuICAgICAgICBpZiAoIXBhbmVsIHx8ICFxdWVyeS5zcGVjLnZhbGlkKVxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcztcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCByYW5nZXMgPSB2aWV3LnZpc2libGVSYW5nZXMsIGwgPSByYW5nZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBsIC0gMSAmJiB0byA+IHJhbmdlc1tpICsgMV0uZnJvbSAtIDIgKiAyNTAgLyogUmVnRXhwLkhpZ2hsaWdodE1hcmdpbiAqLylcbiAgICAgICAgICAgICAgICB0byA9IHJhbmdlc1srK2ldLnRvO1xuICAgICAgICAgICAgcXVlcnkuaGlnaGxpZ2h0KHZpZXcuc3RhdGUsIGZyb20sIHRvLCAoZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5yYW5nZXMuc29tZShyID0+IHIuZnJvbSA9PSBmcm9tICYmIHIudG8gPT0gdG8pO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIuYWRkKGZyb20sIHRvLCBzZWxlY3RlZCA/IHNlbGVjdGVkTWF0Y2hNYXJrIDogbWF0Y2hNYXJrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgIH1cbn0sIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KTtcbmZ1bmN0aW9uIHNlYXJjaENvbW1hbmQoZikge1xuICAgIHJldHVybiB2aWV3ID0+IHtcbiAgICAgICAgbGV0IHN0YXRlID0gdmlldy5zdGF0ZS5maWVsZChzZWFyY2hTdGF0ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gc3RhdGUgJiYgc3RhdGUucXVlcnkuc3BlYy52YWxpZCA/IGYodmlldywgc3RhdGUpIDogb3BlblNlYXJjaFBhbmVsKHZpZXcpO1xuICAgIH07XG59XG4vKipcbk9wZW4gdGhlIHNlYXJjaCBwYW5lbCBpZiBpdCBpc24ndCBhbHJlYWR5IG9wZW4sIGFuZCBtb3ZlIHRoZVxuc2VsZWN0aW9uIHRvIHRoZSBmaXJzdCBtYXRjaCBhZnRlciB0aGUgY3VycmVudCBtYWluIHNlbGVjdGlvbi5cbldpbGwgd3JhcCBhcm91bmQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBkb2N1bWVudCB3aGVuIGl0IHJlYWNoZXMgdGhlXG5lbmQuXG4qL1xuY29uc3QgZmluZE5leHQgPSAvKkBfX1BVUkVfXyovc2VhcmNoQ29tbWFuZCgodmlldywgeyBxdWVyeSB9KSA9PiB7XG4gICAgbGV0IHsgdG8gfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgbGV0IG5leHQgPSBxdWVyeS5uZXh0TWF0Y2godmlldy5zdGF0ZSwgdG8sIHRvKTtcbiAgICBpZiAoIW5leHQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgc2VsZWN0aW9uID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShuZXh0LmZyb20sIG5leHQudG8pO1xuICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KHNlYXJjaENvbmZpZ0ZhY2V0KTtcbiAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICBlZmZlY3RzOiBbYW5ub3VuY2VNYXRjaCh2aWV3LCBuZXh0KSwgY29uZmlnLnNjcm9sbFRvTWF0Y2goc2VsZWN0aW9uLm1haW4sIHZpZXcpXSxcbiAgICAgICAgdXNlckV2ZW50OiBcInNlbGVjdC5zZWFyY2hcIlxuICAgIH0pO1xuICAgIHNlbGVjdFNlYXJjaElucHV0KHZpZXcpO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgcHJldmlvdXMgaW5zdGFuY2Ugb2YgdGhlIHNlYXJjaCBxdWVyeSxcbmJlZm9yZSB0aGUgY3VycmVudCBtYWluIHNlbGVjdGlvbi4gV2lsbCB3cmFwIHBhc3QgdGhlIHN0YXJ0XG5vZiB0aGUgZG9jdW1lbnQgdG8gc3RhcnQgc2VhcmNoaW5nIGF0IHRoZSBlbmQgYWdhaW4uXG4qL1xuY29uc3QgZmluZFByZXZpb3VzID0gLypAX19QVVJFX18qL3NlYXJjaENvbW1hbmQoKHZpZXcsIHsgcXVlcnkgfSkgPT4ge1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCB7IGZyb20gfSA9IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGxldCBwcmV2ID0gcXVlcnkucHJldk1hdGNoKHN0YXRlLCBmcm9tLCBmcm9tKTtcbiAgICBpZiAoIXByZXYpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgc2VsZWN0aW9uID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShwcmV2LmZyb20sIHByZXYudG8pO1xuICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KHNlYXJjaENvbmZpZ0ZhY2V0KTtcbiAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICBlZmZlY3RzOiBbYW5ub3VuY2VNYXRjaCh2aWV3LCBwcmV2KSwgY29uZmlnLnNjcm9sbFRvTWF0Y2goc2VsZWN0aW9uLm1haW4sIHZpZXcpXSxcbiAgICAgICAgdXNlckV2ZW50OiBcInNlbGVjdC5zZWFyY2hcIlxuICAgIH0pO1xuICAgIHNlbGVjdFNlYXJjaElucHV0KHZpZXcpO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG4vKipcblNlbGVjdCBhbGwgaW5zdGFuY2VzIG9mIHRoZSBzZWFyY2ggcXVlcnkuXG4qL1xuY29uc3Qgc2VsZWN0TWF0Y2hlcyA9IC8qQF9fUFVSRV9fKi9zZWFyY2hDb21tYW5kKCh2aWV3LCB7IHF1ZXJ5IH0pID0+IHtcbiAgICBsZXQgcmFuZ2VzID0gcXVlcnkubWF0Y2hBbGwodmlldy5zdGF0ZSwgMTAwMCk7XG4gICAgaWYgKCFyYW5nZXMgfHwgIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcy5tYXAociA9PiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2Uoci5mcm9tLCByLnRvKSkpLFxuICAgICAgICB1c2VyRXZlbnQ6IFwic2VsZWN0LnNlYXJjaC5tYXRjaGVzXCJcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuLyoqXG5TZWxlY3QgYWxsIGluc3RhbmNlcyBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRleHQuXG4qL1xuY29uc3Qgc2VsZWN0U2VsZWN0aW9uTWF0Y2hlcyA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHNlbCA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoc2VsLnJhbmdlcy5sZW5ndGggPiAxIHx8IHNlbC5tYWluLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHsgZnJvbSwgdG8gfSA9IHNlbC5tYWluO1xuICAgIGxldCByYW5nZXMgPSBbXSwgbWFpbiA9IDA7XG4gICAgZm9yIChsZXQgY3VyID0gbmV3IFNlYXJjaEN1cnNvcihzdGF0ZS5kb2MsIHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKSk7ICFjdXIubmV4dCgpLmRvbmU7KSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID4gMTAwMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGN1ci52YWx1ZS5mcm9tID09IGZyb20pXG4gICAgICAgICAgICBtYWluID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGN1ci52YWx1ZS5mcm9tLCBjdXIudmFsdWUudG8pKTtcbiAgICB9XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHtcbiAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgbWFpbiksXG4gICAgICAgIHVzZXJFdmVudDogXCJzZWxlY3Quc2VhcmNoLm1hdGNoZXNcIlxuICAgIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlcGxhY2UgdGhlIGN1cnJlbnQgbWF0Y2ggb2YgdGhlIHNlYXJjaCBxdWVyeS5cbiovXG5jb25zdCByZXBsYWNlTmV4dCA9IC8qQF9fUFVSRV9fKi9zZWFyY2hDb21tYW5kKCh2aWV3LCB7IHF1ZXJ5IH0pID0+IHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgeyBmcm9tLCB0byB9ID0gc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IG1hdGNoID0gcXVlcnkubmV4dE1hdGNoKHN0YXRlLCBmcm9tLCBmcm9tKTtcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IG5leHQgPSBtYXRjaDtcbiAgICBsZXQgY2hhbmdlcyA9IFtdLCBzZWxlY3Rpb24sIHJlcGxhY2VtZW50O1xuICAgIGxldCBlZmZlY3RzID0gW107XG4gICAgaWYgKG5leHQuZnJvbSA9PSBmcm9tICYmIG5leHQudG8gPT0gdG8pIHtcbiAgICAgICAgcmVwbGFjZW1lbnQgPSBzdGF0ZS50b1RleHQocXVlcnkuZ2V0UmVwbGFjZW1lbnQobmV4dCkpO1xuICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBuZXh0LmZyb20sIHRvOiBuZXh0LnRvLCBpbnNlcnQ6IHJlcGxhY2VtZW50IH0pO1xuICAgICAgICBuZXh0ID0gcXVlcnkubmV4dE1hdGNoKHN0YXRlLCBuZXh0LmZyb20sIG5leHQudG8pO1xuICAgICAgICBlZmZlY3RzLnB1c2goRWRpdG9yVmlldy5hbm5vdW5jZS5vZihzdGF0ZS5waHJhc2UoXCJyZXBsYWNlZCBtYXRjaCBvbiBsaW5lICRcIiwgc3RhdGUuZG9jLmxpbmVBdChmcm9tKS5udW1iZXIpICsgXCIuXCIpKTtcbiAgICB9XG4gICAgbGV0IGNoYW5nZVNldCA9IHZpZXcuc3RhdGUuY2hhbmdlcyhjaGFuZ2VzKTtcbiAgICBpZiAobmV4dCkge1xuICAgICAgICBzZWxlY3Rpb24gPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKG5leHQuZnJvbSwgbmV4dC50bykubWFwKGNoYW5nZVNldCk7XG4gICAgICAgIGVmZmVjdHMucHVzaChhbm5vdW5jZU1hdGNoKHZpZXcsIG5leHQpKTtcbiAgICAgICAgZWZmZWN0cy5wdXNoKHN0YXRlLmZhY2V0KHNlYXJjaENvbmZpZ0ZhY2V0KS5zY3JvbGxUb01hdGNoKHNlbGVjdGlvbi5tYWluLCB2aWV3KSk7XG4gICAgfVxuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzOiBjaGFuZ2VTZXQsXG4gICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgZWZmZWN0cyxcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnJlcGxhY2VcIlxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG4vKipcblJlcGxhY2UgYWxsIGluc3RhbmNlcyBvZiB0aGUgc2VhcmNoIHF1ZXJ5IHdpdGggdGhlIGdpdmVuXG5yZXBsYWNlbWVudC5cbiovXG5jb25zdCByZXBsYWNlQWxsID0gLypAX19QVVJFX18qL3NlYXJjaENvbW1hbmQoKHZpZXcsIHsgcXVlcnkgfSkgPT4ge1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBxdWVyeS5tYXRjaEFsbCh2aWV3LnN0YXRlLCAxZTkpLm1hcChtYXRjaCA9PiB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBtYXRjaDtcbiAgICAgICAgcmV0dXJuIHsgZnJvbSwgdG8sIGluc2VydDogcXVlcnkuZ2V0UmVwbGFjZW1lbnQobWF0Y2gpIH07XG4gICAgfSk7XG4gICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBhbm5vdW5jZVRleHQgPSB2aWV3LnN0YXRlLnBocmFzZShcInJlcGxhY2VkICQgbWF0Y2hlc1wiLCBjaGFuZ2VzLmxlbmd0aCkgKyBcIi5cIjtcbiAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgZWZmZWN0czogRWRpdG9yVmlldy5hbm5vdW5jZS5vZihhbm5vdW5jZVRleHQpLFxuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQucmVwbGFjZS5hbGxcIlxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5mdW5jdGlvbiBjcmVhdGVTZWFyY2hQYW5lbCh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcuc3RhdGUuZmFjZXQoc2VhcmNoQ29uZmlnRmFjZXQpLmNyZWF0ZVBhbmVsKHZpZXcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdFF1ZXJ5KHN0YXRlLCBmYWxsYmFjaykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgbGV0IHNlbCA9IHN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGxldCBzZWxUZXh0ID0gc2VsLmVtcHR5IHx8IHNlbC50byA+IHNlbC5mcm9tICsgMTAwID8gXCJcIiA6IHN0YXRlLnNsaWNlRG9jKHNlbC5mcm9tLCBzZWwudG8pO1xuICAgIGlmIChmYWxsYmFjayAmJiAhc2VsVGV4dClcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIGxldCBjb25maWcgPSBzdGF0ZS5mYWNldChzZWFyY2hDb25maWdGYWNldCk7XG4gICAgcmV0dXJuIG5ldyBTZWFyY2hRdWVyeSh7XG4gICAgICAgIHNlYXJjaDogKChfYSA9IGZhbGxiYWNrID09PSBudWxsIHx8IGZhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmYWxsYmFjay5saXRlcmFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25maWcubGl0ZXJhbCkgPyBzZWxUZXh0IDogc2VsVGV4dC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSxcbiAgICAgICAgY2FzZVNlbnNpdGl2ZTogKF9iID0gZmFsbGJhY2sgPT09IG51bGwgfHwgZmFsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZhbGxiYWNrLmNhc2VTZW5zaXRpdmUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbmZpZy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICBsaXRlcmFsOiAoX2MgPSBmYWxsYmFjayA9PT0gbnVsbCB8fCBmYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmFsbGJhY2subGl0ZXJhbCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY29uZmlnLmxpdGVyYWwsXG4gICAgICAgIHJlZ2V4cDogKF9kID0gZmFsbGJhY2sgPT09IG51bGwgfHwgZmFsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZhbGxiYWNrLnJlZ2V4cCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogY29uZmlnLnJlZ2V4cCxcbiAgICAgICAgd2hvbGVXb3JkOiAoX2UgPSBmYWxsYmFjayA9PT0gbnVsbCB8fCBmYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmFsbGJhY2sud2hvbGVXb3JkKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBjb25maWcud2hvbGVXb3JkXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRTZWFyY2hJbnB1dCh2aWV3KSB7XG4gICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwodmlldywgY3JlYXRlU2VhcmNoUGFuZWwpO1xuICAgIHJldHVybiBwYW5lbCAmJiBwYW5lbC5kb20ucXVlcnlTZWxlY3RvcihcIlttYWluLWZpZWxkXVwiKTtcbn1cbmZ1bmN0aW9uIHNlbGVjdFNlYXJjaElucHV0KHZpZXcpIHtcbiAgICBsZXQgaW5wdXQgPSBnZXRTZWFyY2hJbnB1dCh2aWV3KTtcbiAgICBpZiAoaW5wdXQgJiYgaW5wdXQgPT0gdmlldy5yb290LmFjdGl2ZUVsZW1lbnQpXG4gICAgICAgIGlucHV0LnNlbGVjdCgpO1xufVxuLyoqXG5NYWtlIHN1cmUgdGhlIHNlYXJjaCBwYW5lbCBpcyBvcGVuIGFuZCBmb2N1c2VkLlxuKi9cbmNvbnN0IG9wZW5TZWFyY2hQYW5lbCA9IHZpZXcgPT4ge1xuICAgIGxldCBzdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoc2VhcmNoU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoc3RhdGUgJiYgc3RhdGUucGFuZWwpIHtcbiAgICAgICAgbGV0IHNlYXJjaElucHV0ID0gZ2V0U2VhcmNoSW5wdXQodmlldyk7XG4gICAgICAgIGlmIChzZWFyY2hJbnB1dCAmJiBzZWFyY2hJbnB1dCAhPSB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgbGV0IHF1ZXJ5ID0gZGVmYXVsdFF1ZXJ5KHZpZXcuc3RhdGUsIHN0YXRlLnF1ZXJ5LnNwZWMpO1xuICAgICAgICAgICAgaWYgKHF1ZXJ5LnZhbGlkKVxuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRTZWFyY2hRdWVyeS5vZihxdWVyeSkgfSk7XG4gICAgICAgICAgICBzZWFyY2hJbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgc2VhcmNoSW5wdXQuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBbXG4gICAgICAgICAgICAgICAgdG9nZ2xlUGFuZWwub2YodHJ1ZSksXG4gICAgICAgICAgICAgICAgc3RhdGUgPyBzZXRTZWFyY2hRdWVyeS5vZihkZWZhdWx0UXVlcnkodmlldy5zdGF0ZSwgc3RhdGUucXVlcnkuc3BlYykpIDogU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKHNlYXJjaEV4dGVuc2lvbnMpXG4gICAgICAgICAgICBdIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkNsb3NlIHRoZSBzZWFyY2ggcGFuZWwuXG4qL1xuY29uc3QgY2xvc2VTZWFyY2hQYW5lbCA9IHZpZXcgPT4ge1xuICAgIGxldCBzdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoc2VhcmNoU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5wYW5lbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBwYW5lbCA9IGdldFBhbmVsKHZpZXcsIGNyZWF0ZVNlYXJjaFBhbmVsKTtcbiAgICBpZiAocGFuZWwgJiYgcGFuZWwuZG9tLmNvbnRhaW5zKHZpZXcucm9vdC5hY3RpdmVFbGVtZW50KSlcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB0b2dnbGVQYW5lbC5vZihmYWxzZSkgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5EZWZhdWx0IHNlYXJjaC1yZWxhdGVkIGtleSBiaW5kaW5ncy5cblxuIC0gTW9kLWY6IFtgb3BlblNlYXJjaFBhbmVsYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2gub3BlblNlYXJjaFBhbmVsKVxuIC0gRjMsIE1vZC1nOiBbYGZpbmROZXh0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guZmluZE5leHQpXG4gLSBTaGlmdC1GMywgU2hpZnQtTW9kLWc6IFtgZmluZFByZXZpb3VzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guZmluZFByZXZpb3VzKVxuIC0gTW9kLUFsdC1nOiBbYGdvdG9MaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guZ290b0xpbmUpXG4gLSBNb2QtZDogW2BzZWxlY3ROZXh0T2NjdXJyZW5jZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc2VhcmNoLnNlbGVjdE5leHRPY2N1cnJlbmNlKVxuKi9cbmNvbnN0IHNlYXJjaEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJNb2QtZlwiLCBydW46IG9wZW5TZWFyY2hQYW5lbCwgc2NvcGU6IFwiZWRpdG9yIHNlYXJjaC1wYW5lbFwiIH0sXG4gICAgeyBrZXk6IFwiRjNcIiwgcnVuOiBmaW5kTmV4dCwgc2hpZnQ6IGZpbmRQcmV2aW91cywgc2NvcGU6IFwiZWRpdG9yIHNlYXJjaC1wYW5lbFwiLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1nXCIsIHJ1bjogZmluZE5leHQsIHNoaWZ0OiBmaW5kUHJldmlvdXMsIHNjb3BlOiBcImVkaXRvciBzZWFyY2gtcGFuZWxcIiwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJFc2NhcGVcIiwgcnVuOiBjbG9zZVNlYXJjaFBhbmVsLCBzY29wZTogXCJlZGl0b3Igc2VhcmNoLXBhbmVsXCIgfSxcbiAgICB7IGtleTogXCJNb2QtU2hpZnQtbFwiLCBydW46IHNlbGVjdFNlbGVjdGlvbk1hdGNoZXMgfSxcbiAgICB7IGtleTogXCJNb2QtQWx0LWdcIiwgcnVuOiBnb3RvTGluZSB9LFxuICAgIHsga2V5OiBcIk1vZC1kXCIsIHJ1bjogc2VsZWN0TmV4dE9jY3VycmVuY2UsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG5dO1xuY2xhc3MgU2VhcmNoUGFuZWwge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyeSA9IHZpZXcuc3RhdGUuZmllbGQoc2VhcmNoU3RhdGUpLnF1ZXJ5LnNwZWM7XG4gICAgICAgIHRoaXMuY29tbWl0ID0gdGhpcy5jb21taXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZWFyY2hGaWVsZCA9IGVsdChcImlucHV0XCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBxdWVyeS5zZWFyY2gsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogcGhyYXNlKHZpZXcsIFwiRmluZFwiKSxcbiAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBwaHJhc2UodmlldywgXCJGaW5kXCIpLFxuICAgICAgICAgICAgY2xhc3M6IFwiY20tdGV4dGZpZWxkXCIsXG4gICAgICAgICAgICBuYW1lOiBcInNlYXJjaFwiLFxuICAgICAgICAgICAgZm9ybTogXCJcIixcbiAgICAgICAgICAgIFwibWFpbi1maWVsZFwiOiBcInRydWVcIixcbiAgICAgICAgICAgIG9uY2hhbmdlOiB0aGlzLmNvbW1pdCxcbiAgICAgICAgICAgIG9ua2V5dXA6IHRoaXMuY29tbWl0XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlcGxhY2VGaWVsZCA9IGVsdChcImlucHV0XCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBxdWVyeS5yZXBsYWNlLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHBocmFzZSh2aWV3LCBcIlJlcGxhY2VcIiksXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogcGhyYXNlKHZpZXcsIFwiUmVwbGFjZVwiKSxcbiAgICAgICAgICAgIGNsYXNzOiBcImNtLXRleHRmaWVsZFwiLFxuICAgICAgICAgICAgbmFtZTogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICBmb3JtOiBcIlwiLFxuICAgICAgICAgICAgb25jaGFuZ2U6IHRoaXMuY29tbWl0LFxuICAgICAgICAgICAgb25rZXl1cDogdGhpcy5jb21taXRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FzZUZpZWxkID0gZWx0KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgbmFtZTogXCJjYXNlXCIsXG4gICAgICAgICAgICBmb3JtOiBcIlwiLFxuICAgICAgICAgICAgY2hlY2tlZDogcXVlcnkuY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgICAgIG9uY2hhbmdlOiB0aGlzLmNvbW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZUZpZWxkID0gZWx0KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgbmFtZTogXCJyZVwiLFxuICAgICAgICAgICAgZm9ybTogXCJcIixcbiAgICAgICAgICAgIGNoZWNrZWQ6IHF1ZXJ5LnJlZ2V4cCxcbiAgICAgICAgICAgIG9uY2hhbmdlOiB0aGlzLmNvbW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53b3JkRmllbGQgPSBlbHQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICBuYW1lOiBcIndvcmRcIixcbiAgICAgICAgICAgIGZvcm06IFwiXCIsXG4gICAgICAgICAgICBjaGVja2VkOiBxdWVyeS53aG9sZVdvcmQsXG4gICAgICAgICAgICBvbmNoYW5nZTogdGhpcy5jb21taXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIGJ1dHRvbihuYW1lLCBvbmNsaWNrLCBjb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZWx0KFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiY20tYnV0dG9uXCIsIG5hbWUsIG9uY2xpY2ssIHR5cGU6IFwiYnV0dG9uXCIgfSwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20gPSBlbHQoXCJkaXZcIiwgeyBvbmtleWRvd246IChlKSA9PiB0aGlzLmtleWRvd24oZSksIGNsYXNzOiBcImNtLXNlYXJjaFwiIH0sIFtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoRmllbGQsXG4gICAgICAgICAgICBidXR0b24oXCJuZXh0XCIsICgpID0+IGZpbmROZXh0KHZpZXcpLCBbcGhyYXNlKHZpZXcsIFwibmV4dFwiKV0pLFxuICAgICAgICAgICAgYnV0dG9uKFwicHJldlwiLCAoKSA9PiBmaW5kUHJldmlvdXModmlldyksIFtwaHJhc2UodmlldywgXCJwcmV2aW91c1wiKV0pLFxuICAgICAgICAgICAgYnV0dG9uKFwic2VsZWN0XCIsICgpID0+IHNlbGVjdE1hdGNoZXModmlldyksIFtwaHJhc2UodmlldywgXCJhbGxcIildKSxcbiAgICAgICAgICAgIGVsdChcImxhYmVsXCIsIG51bGwsIFt0aGlzLmNhc2VGaWVsZCwgcGhyYXNlKHZpZXcsIFwibWF0Y2ggY2FzZVwiKV0pLFxuICAgICAgICAgICAgZWx0KFwibGFiZWxcIiwgbnVsbCwgW3RoaXMucmVGaWVsZCwgcGhyYXNlKHZpZXcsIFwicmVnZXhwXCIpXSksXG4gICAgICAgICAgICBlbHQoXCJsYWJlbFwiLCBudWxsLCBbdGhpcy53b3JkRmllbGQsIHBocmFzZSh2aWV3LCBcImJ5IHdvcmRcIildKSxcbiAgICAgICAgICAgIC4uLnZpZXcuc3RhdGUucmVhZE9ubHkgPyBbXSA6IFtcbiAgICAgICAgICAgICAgICBlbHQoXCJiclwiKSxcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2VGaWVsZCxcbiAgICAgICAgICAgICAgICBidXR0b24oXCJyZXBsYWNlXCIsICgpID0+IHJlcGxhY2VOZXh0KHZpZXcpLCBbcGhyYXNlKHZpZXcsIFwicmVwbGFjZVwiKV0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbihcInJlcGxhY2VBbGxcIiwgKCkgPT4gcmVwbGFjZUFsbCh2aWV3KSwgW3BocmFzZSh2aWV3LCBcInJlcGxhY2UgYWxsXCIpXSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbHQoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY2xvc2VcIixcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiBjbG9zZVNlYXJjaFBhbmVsKHZpZXcpLFxuICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBwaHJhc2UodmlldywgXCJjbG9zZVwiKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICAgICAgICB9LCBbXCJcdTAwRDdcIl0pXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGxldCBxdWVyeSA9IG5ldyBTZWFyY2hRdWVyeSh7XG4gICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoRmllbGQudmFsdWUsXG4gICAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiB0aGlzLmNhc2VGaWVsZC5jaGVja2VkLFxuICAgICAgICAgICAgcmVnZXhwOiB0aGlzLnJlRmllbGQuY2hlY2tlZCxcbiAgICAgICAgICAgIHdob2xlV29yZDogdGhpcy53b3JkRmllbGQuY2hlY2tlZCxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRoaXMucmVwbGFjZUZpZWxkLnZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFxdWVyeS5lcSh0aGlzLnF1ZXJ5KSkge1xuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc2V0U2VhcmNoUXVlcnkub2YocXVlcnkpIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGtleWRvd24oZSkge1xuICAgICAgICBpZiAocnVuU2NvcGVIYW5kbGVycyh0aGlzLnZpZXcsIGUsIFwic2VhcmNoLXBhbmVsXCIpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzICYmIGUudGFyZ2V0ID09IHRoaXMuc2VhcmNoRmllbGQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIChlLnNoaWZ0S2V5ID8gZmluZFByZXZpb3VzIDogZmluZE5leHQpKHRoaXMudmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzICYmIGUudGFyZ2V0ID09IHRoaXMucmVwbGFjZUZpZWxkKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXBsYWNlTmV4dCh0aGlzLnZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdXBkYXRlLnRyYW5zYWN0aW9ucylcbiAgICAgICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzZXRTZWFyY2hRdWVyeSkgJiYgIWVmZmVjdC52YWx1ZS5lcSh0aGlzLnF1ZXJ5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRRdWVyeShlZmZlY3QudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBzZXRRdWVyeShxdWVyeSkge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIHRoaXMuc2VhcmNoRmllbGQudmFsdWUgPSBxdWVyeS5zZWFyY2g7XG4gICAgICAgIHRoaXMucmVwbGFjZUZpZWxkLnZhbHVlID0gcXVlcnkucmVwbGFjZTtcbiAgICAgICAgdGhpcy5jYXNlRmllbGQuY2hlY2tlZCA9IHF1ZXJ5LmNhc2VTZW5zaXRpdmU7XG4gICAgICAgIHRoaXMucmVGaWVsZC5jaGVja2VkID0gcXVlcnkucmVnZXhwO1xuICAgICAgICB0aGlzLndvcmRGaWVsZC5jaGVja2VkID0gcXVlcnkud2hvbGVXb3JkO1xuICAgIH1cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hGaWVsZC5zZWxlY3QoKTtcbiAgICB9XG4gICAgZ2V0IHBvcygpIHsgcmV0dXJuIDgwOyB9XG4gICAgZ2V0IHRvcCgpIHsgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5mYWNldChzZWFyY2hDb25maWdGYWNldCkudG9wOyB9XG59XG5mdW5jdGlvbiBwaHJhc2UodmlldywgcGhyYXNlKSB7IHJldHVybiB2aWV3LnN0YXRlLnBocmFzZShwaHJhc2UpOyB9XG5jb25zdCBBbm5vdW5jZU1hcmdpbiA9IDMwO1xuY29uc3QgQnJlYWsgPSAvW1xcc1xcLiw6Oz8hXS87XG5mdW5jdGlvbiBhbm5vdW5jZU1hdGNoKHZpZXcsIHsgZnJvbSwgdG8gfSkge1xuICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KGZyb20pLCBsaW5lRW5kID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHRvKS50bztcbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChsaW5lLmZyb20sIGZyb20gLSBBbm5vdW5jZU1hcmdpbiksIGVuZCA9IE1hdGgubWluKGxpbmVFbmQsIHRvICsgQW5ub3VuY2VNYXJnaW4pO1xuICAgIGxldCB0ZXh0ID0gdmlldy5zdGF0ZS5zbGljZURvYyhzdGFydCwgZW5kKTtcbiAgICBpZiAoc3RhcnQgIT0gbGluZS5mcm9tKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQW5ub3VuY2VNYXJnaW47IGkrKylcbiAgICAgICAgICAgIGlmICghQnJlYWsudGVzdCh0ZXh0W2kgKyAxXSkgJiYgQnJlYWsudGVzdCh0ZXh0W2ldKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKGkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5kICE9IGxpbmVFbmQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+IHRleHQubGVuZ3RoIC0gQW5ub3VuY2VNYXJnaW47IGktLSlcbiAgICAgICAgICAgIGlmICghQnJlYWsudGVzdCh0ZXh0W2kgLSAxXSkgJiYgQnJlYWsudGVzdCh0ZXh0W2ldKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRWRpdG9yVmlldy5hbm5vdW5jZS5vZihgJHt2aWV3LnN0YXRlLnBocmFzZShcImN1cnJlbnQgbWF0Y2hcIil9LiAke3RleHR9ICR7dmlldy5zdGF0ZS5waHJhc2UoXCJvbiBsaW5lXCIpfSAke2xpbmUubnVtYmVyfS5gKTtcbn1cbmNvbnN0IGJhc2VUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tcGFuZWwuY20tc2VhcmNoXCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIycHggNnB4IDRweFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBcIiYgW25hbWU9Y2xvc2VdXCI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgcmlnaHQ6IFwiNHB4XCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZvbnQ6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICB9LFxuICAgICAgICBcIiYgaW5wdXQsICYgYnV0dG9uLCAmIGxhYmVsXCI6IHtcbiAgICAgICAgICAgIG1hcmdpbjogXCIuMmVtIC42ZW0gLjJlbSAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCImIGlucHV0W3R5cGU9Y2hlY2tib3hdXCI6IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcIi4yZW1cIlxuICAgICAgICB9LFxuICAgICAgICBcIiYgbGFiZWxcIjoge1xuICAgICAgICAgICAgZm9udFNpemU6IFwiODAlXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zZWFyY2hNYXRjaFwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjZmZmZjAwNTRcIiB9LFxuICAgIFwiJmRhcmsgLmNtLXNlYXJjaE1hdGNoXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiMwMGZmZmY4YVwiIH0sXG4gICAgXCImbGlnaHQgLmNtLXNlYXJjaE1hdGNoLXNlbGVjdGVkXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNmZjZhMDA1NFwiIH0sXG4gICAgXCImZGFyayAuY20tc2VhcmNoTWF0Y2gtc2VsZWN0ZWRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmMDBmZjhhXCIgfVxufSk7XG5jb25zdCBzZWFyY2hFeHRlbnNpb25zID0gW1xuICAgIHNlYXJjaFN0YXRlLFxuICAgIC8qQF9fUFVSRV9fKi9QcmVjLmxvdyhzZWFyY2hIaWdobGlnaHRlciksXG4gICAgYmFzZVRoZW1lXG5dO1xuXG5leHBvcnQgeyBSZWdFeHBDdXJzb3IsIFNlYXJjaEN1cnNvciwgU2VhcmNoUXVlcnksIGNsb3NlU2VhcmNoUGFuZWwsIGZpbmROZXh0LCBmaW5kUHJldmlvdXMsIGdldFNlYXJjaFF1ZXJ5LCBnb3RvTGluZSwgaGlnaGxpZ2h0U2VsZWN0aW9uTWF0Y2hlcywgb3BlblNlYXJjaFBhbmVsLCByZXBsYWNlQWxsLCByZXBsYWNlTmV4dCwgc2VhcmNoLCBzZWFyY2hLZXltYXAsIHNlYXJjaFBhbmVsT3Blbiwgc2VsZWN0TWF0Y2hlcywgc2VsZWN0TmV4dE9jY3VycmVuY2UsIHNlbGVjdFNlbGVjdGlvbk1hdGNoZXMsIHNldFNlYXJjaFF1ZXJ5IH07XG4iLCAiaW1wb3J0IHsgQW5ub3RhdGlvbiwgU3RhdGVFZmZlY3QsIEVkaXRvclNlbGVjdGlvbiwgY29kZVBvaW50QXQsIGNvZGVQb2ludFNpemUsIGZyb21Db2RlUG9pbnQsIEZhY2V0LCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBQcmVjLCBUZXh0LCBUcmFuc2FjdGlvbiwgTWFwTW9kZSwgUmFuZ2VWYWx1ZSwgUmFuZ2VTZXQsIENoYXJDYXRlZ29yeSB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IERpcmVjdGlvbiwgbG9nRXhjZXB0aW9uLCBzaG93VG9vbHRpcCwgRWRpdG9yVmlldywgVmlld1BsdWdpbiwgZ2V0VG9vbHRpcCwgRGVjb3JhdGlvbiwgV2lkZ2V0VHlwZSwga2V5bWFwIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBzeW50YXhUcmVlLCBpbmRlbnRVbml0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG4vKipcbkFuIGluc3RhbmNlIG9mIHRoaXMgaXMgcGFzc2VkIHRvIGNvbXBsZXRpb24gc291cmNlIGZ1bmN0aW9ucy5cbiovXG5jbGFzcyBDb21wbGV0aW9uQ29udGV4dCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IGNvbXBsZXRpb24gY29udGV4dC4gKE1vc3RseSB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICBjb21wbGV0aW9uIHNvdXJjZXNcdTIwMTRpbiB0aGUgZWRpdG9yLCB0aGUgZXh0ZW5zaW9uIHdpbGwgY3JlYXRlXG4gICAgdGhlc2UgZm9yIHlvdS4pXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgZWRpdG9yIHN0YXRlIHRoYXQgdGhlIGNvbXBsZXRpb24gaGFwcGVucyBpbi5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIGNvbXBsZXRpb24gaXMgaGFwcGVuaW5nLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciBjb21wbGV0aW9uIHdhcyBhY3RpdmF0ZWQgZXhwbGljaXRseSwgb3JcbiAgICBpbXBsaWNpdGx5IGJ5IHR5cGluZy4gVGhlIHVzdWFsIHdheSB0byByZXNwb25kIHRvIHRoaXMgaXMgdG9cbiAgICBvbmx5IHJldHVybiBjb21wbGV0aW9ucyB3aGVuIGVpdGhlciB0aGVyZSBpcyBwYXJ0IG9mIGFcbiAgICBjb21wbGV0YWJsZSBlbnRpdHkgYmVmb3JlIHRoZSBjdXJzb3IsIG9yIGBleHBsaWNpdGAgaXMgdHJ1ZS5cbiAgICAqL1xuICAgIGV4cGxpY2l0LCBcbiAgICAvKipcbiAgICBUaGUgZWRpdG9yIHZpZXcuIE1heSBiZSB1bmRlZmluZWQgaWYgdGhlIGNvbnRleHQgd2FzIGNyZWF0ZWRcbiAgICBpbiBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBubyBzdWNoIHZpZXcgYXZhaWxhYmxlLCBzdWNoIGFzXG4gICAgaW4gc3luY2hyb25vdXMgdXBkYXRlcyB2aWFcbiAgICBbYENvbXBsZXRpb25SZXN1bHQudXBkYXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvblJlc3VsdC51cGRhdGUpXG4gICAgb3Igd2hlbiBjYWxsZWQgYnkgdGVzdCBjb2RlLlxuICAgICovXG4gICAgdmlldykge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLmV4cGxpY2l0ID0gZXhwbGljaXQ7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hYm9ydExpc3RlbmVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuYWJvcnRPbkRvY0NoYW5nZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGV4dGVudCwgY29udGVudCwgYW5kIChpZiB0aGVyZSBpcyBhIHRva2VuKSB0eXBlIG9mIHRoZVxuICAgIHRva2VuIGJlZm9yZSBgdGhpcy5wb3NgLlxuICAgICovXG4gICAgdG9rZW5CZWZvcmUodHlwZXMpIHtcbiAgICAgICAgbGV0IHRva2VuID0gc3ludGF4VHJlZSh0aGlzLnN0YXRlKS5yZXNvbHZlSW5uZXIodGhpcy5wb3MsIC0xKTtcbiAgICAgICAgd2hpbGUgKHRva2VuICYmIHR5cGVzLmluZGV4T2YodG9rZW4ubmFtZSkgPCAwKVxuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbi5wYXJlbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbiA/IHsgZnJvbTogdG9rZW4uZnJvbSwgdG86IHRoaXMucG9zLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5zdGF0ZS5zbGljZURvYyh0b2tlbi5mcm9tLCB0aGlzLnBvcyksXG4gICAgICAgICAgICB0eXBlOiB0b2tlbi50eXBlIH0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIG1hdGNoIG9mIHRoZSBnaXZlbiBleHByZXNzaW9uIGRpcmVjdGx5IGJlZm9yZSB0aGVcbiAgICBjdXJzb3IuXG4gICAgKi9cbiAgICBtYXRjaEJlZm9yZShleHByKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHRoaXMucG9zKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5tYXgobGluZS5mcm9tLCB0aGlzLnBvcyAtIDI1MCk7XG4gICAgICAgIGxldCBzdHIgPSBsaW5lLnRleHQuc2xpY2Uoc3RhcnQgLSBsaW5lLmZyb20sIHRoaXMucG9zIC0gbGluZS5mcm9tKTtcbiAgICAgICAgbGV0IGZvdW5kID0gc3RyLnNlYXJjaChlbnN1cmVBbmNob3IoZXhwciwgZmFsc2UpKTtcbiAgICAgICAgcmV0dXJuIGZvdW5kIDwgMCA/IG51bGwgOiB7IGZyb206IHN0YXJ0ICsgZm91bmQsIHRvOiB0aGlzLnBvcywgdGV4dDogc3RyLnNsaWNlKGZvdW5kKSB9O1xuICAgIH1cbiAgICAvKipcbiAgICBZaWVsZHMgdHJ1ZSB3aGVuIHRoZSBxdWVyeSBoYXMgYmVlbiBhYm9ydGVkLiBDYW4gYmUgdXNlZnVsIGluXG4gICAgYXN5bmNocm9ub3VzIHF1ZXJpZXMgdG8gYXZvaWQgZG9pbmcgd29yayB0aGF0IHdpbGwgYmUgaWdub3JlZC5cbiAgICAqL1xuICAgIGdldCBhYm9ydGVkKCkgeyByZXR1cm4gdGhpcy5hYm9ydExpc3RlbmVycyA9PSBudWxsOyB9XG4gICAgLyoqXG4gICAgQWxsb3dzIHlvdSB0byByZWdpc3RlciBhYm9ydCBoYW5kbGVycywgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlblxuICAgIHRoZSBxdWVyeSBpc1xuICAgIFthYm9ydGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5Db21wbGV0aW9uQ29udGV4dC5hYm9ydGVkKS5cbiAgICBcbiAgICBCeSBkZWZhdWx0LCBydW5uaW5nIHF1ZXJpZXMgd2lsbCBub3QgYmUgYWJvcnRlZCBmb3IgcmVndWxhclxuICAgIHR5cGluZyBvciBiYWNrc3BhY2luZywgb24gdGhlIGFzc3VtcHRpb24gdGhhdCB0aGV5IGFyZSBsaWtlbHkgdG9cbiAgICByZXR1cm4gYSByZXN1bHQgd2l0aCBhXG4gICAgW2B2YWxpZEZvcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLkNvbXBsZXRpb25SZXN1bHQudmFsaWRGb3IpIGZpZWxkIHRoYXRcbiAgICBhbGxvd3MgdGhlIHJlc3VsdCB0byBiZSB1c2VkIGFmdGVyIGFsbC4gUGFzc2luZyBgb25Eb2NDaGFuZ2U6XG4gICAgdHJ1ZWAgd2lsbCBjYXVzZSB0aGlzIHF1ZXJ5IHRvIGJlIGFib3J0ZWQgZm9yIGFueSBkb2N1bWVudFxuICAgIGNoYW5nZS5cbiAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJhYm9ydFwiICYmIHRoaXMuYWJvcnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9uRG9jQ2hhbmdlKVxuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnRPbkRvY0NoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0b1NldChjaGFycykge1xuICAgIGxldCBmbGF0ID0gT2JqZWN0LmtleXMoY2hhcnMpLmpvaW4oXCJcIik7XG4gICAgbGV0IHdvcmRzID0gL1xcdy8udGVzdChmbGF0KTtcbiAgICBpZiAod29yZHMpXG4gICAgICAgIGZsYXQgPSBmbGF0LnJlcGxhY2UoL1xcdy9nLCBcIlwiKTtcbiAgICByZXR1cm4gYFske3dvcmRzID8gXCJcXFxcd1wiIDogXCJcIn0ke2ZsYXQucmVwbGFjZSgvW15cXHdcXHNdL2csIFwiXFxcXCQmXCIpfV1gO1xufVxuZnVuY3Rpb24gcHJlZml4TWF0Y2gob3B0aW9ucykge1xuICAgIGxldCBmaXJzdCA9IE9iamVjdC5jcmVhdGUobnVsbCksIHJlc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IHsgbGFiZWwgfSBvZiBvcHRpb25zKSB7XG4gICAgICAgIGZpcnN0W2xhYmVsWzBdXSA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGFiZWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN0W2xhYmVsW2ldXSA9IHRydWU7XG4gICAgfVxuICAgIGxldCBzb3VyY2UgPSB0b1NldChmaXJzdCkgKyB0b1NldChyZXN0KSArIFwiKiRcIjtcbiAgICByZXR1cm4gW25ldyBSZWdFeHAoXCJeXCIgKyBzb3VyY2UpLCBuZXcgUmVnRXhwKHNvdXJjZSldO1xufVxuLyoqXG5HaXZlbiBhIGEgZml4ZWQgYXJyYXkgb2Ygb3B0aW9ucywgcmV0dXJuIGFuIGF1dG9jb21wbGV0ZXIgdGhhdFxuY29tcGxldGVzIHRoZW0uXG4qL1xuZnVuY3Rpb24gY29tcGxldGVGcm9tTGlzdChsaXN0KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBsaXN0Lm1hcChvID0+IHR5cGVvZiBvID09IFwic3RyaW5nXCIgPyB7IGxhYmVsOiBvIH0gOiBvKTtcbiAgICBsZXQgW3ZhbGlkRm9yLCBtYXRjaF0gPSBvcHRpb25zLmV2ZXJ5KG8gPT4gL15cXHcrJC8udGVzdChvLmxhYmVsKSkgPyBbL1xcdyokLywgL1xcdyskL10gOiBwcmVmaXhNYXRjaChvcHRpb25zKTtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHRva2VuID0gY29udGV4dC5tYXRjaEJlZm9yZShtYXRjaCk7XG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBjb250ZXh0LmV4cGxpY2l0ID8geyBmcm9tOiB0b2tlbiA/IHRva2VuLmZyb20gOiBjb250ZXh0LnBvcywgb3B0aW9ucywgdmFsaWRGb3IgfSA6IG51bGw7XG4gICAgfTtcbn1cbi8qKlxuV3JhcCB0aGUgZ2l2ZW4gY29tcGxldGlvbiBzb3VyY2Ugc28gdGhhdCBpdCB3aWxsIG9ubHkgZmlyZSB3aGVuIHRoZVxuY3Vyc29yIGlzIGluIGEgc3ludGF4IG5vZGUgd2l0aCBvbmUgb2YgdGhlIGdpdmVuIG5hbWVzLlxuKi9cbmZ1bmN0aW9uIGlmSW4obm9kZXMsIHNvdXJjZSkge1xuICAgIHJldHVybiAoY29udGV4dCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChub2Rlcy5pbmRleE9mKHBvcy5uYW1lKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAocG9zLnR5cGUuaXNUb3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbn1cbi8qKlxuV3JhcCB0aGUgZ2l2ZW4gY29tcGxldGlvbiBzb3VyY2Ugc28gdGhhdCBpdCB3aWxsIG5vdCBmaXJlIHdoZW4gdGhlXG5jdXJzb3IgaXMgaW4gYSBzeW50YXggbm9kZSB3aXRoIG9uZSBvZiB0aGUgZ2l2ZW4gbmFtZXMuXG4qL1xuZnVuY3Rpb24gaWZOb3RJbihub2Rlcywgc291cmNlKSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IHN5bnRheFRyZWUoY29udGV4dC5zdGF0ZSkucmVzb2x2ZUlubmVyKGNvbnRleHQucG9zLCAtMSk7IHBvczsgcG9zID0gcG9zLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKG5vZGVzLmluZGV4T2YocG9zLm5hbWUpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocG9zLnR5cGUuaXNUb3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZShjb250ZXh0KTtcbiAgICB9O1xufVxuY2xhc3MgT3B0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wbGV0aW9uLCBzb3VyY2UsIG1hdGNoLCBzY29yZSkge1xuICAgICAgICB0aGlzLmNvbXBsZXRpb24gPSBjb21wbGV0aW9uO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgfVxufVxuZnVuY3Rpb24gY3VyKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5mcm9tOyB9XG4vLyBNYWtlIHN1cmUgdGhlIGdpdmVuIHJlZ2V4cCBoYXMgYSAkIGF0IGl0cyBlbmQgYW5kLCBpZiBgc3RhcnRgIGlzXG4vLyB0cnVlLCBhIF4gYXQgaXRzIHN0YXJ0LlxuZnVuY3Rpb24gZW5zdXJlQW5jaG9yKGV4cHIsIHN0YXJ0KSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCB7IHNvdXJjZSB9ID0gZXhwcjtcbiAgICBsZXQgYWRkU3RhcnQgPSBzdGFydCAmJiBzb3VyY2VbMF0gIT0gXCJeXCIsIGFkZEVuZCA9IHNvdXJjZVtzb3VyY2UubGVuZ3RoIC0gMV0gIT0gXCIkXCI7XG4gICAgaWYgKCFhZGRTdGFydCAmJiAhYWRkRW5kKVxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgJHthZGRTdGFydCA/IFwiXlwiIDogXCJcIn0oPzoke3NvdXJjZX0pJHthZGRFbmQgPyBcIiRcIiA6IFwiXCJ9YCwgKF9hID0gZXhwci5mbGFncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGV4cHIuaWdub3JlQ2FzZSA/IFwiaVwiIDogXCJcIikpO1xufVxuLyoqXG5UaGlzIGFubm90YXRpb24gaXMgYWRkZWQgdG8gdHJhbnNhY3Rpb25zIHRoYXQgYXJlIHByb2R1Y2VkIGJ5XG5waWNraW5nIGEgY29tcGxldGlvbi5cbiovXG5jb25zdCBwaWNrZWRDb21wbGV0aW9uID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcbkhlbHBlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cmFuc2FjdGlvbiBzcGVjIHdoaWNoIGluc2VydHMgYVxuY29tcGxldGlvbidzIHRleHQgaW4gdGhlIG1haW4gc2VsZWN0aW9uIHJhbmdlLCBhbmQgYW55IG90aGVyXG5zZWxlY3Rpb24gcmFuZ2UgdGhhdCBoYXMgdGhlIHNhbWUgdGV4dCBpbiBmcm9udCBvZiBpdC5cbiovXG5mdW5jdGlvbiBpbnNlcnRDb21wbGV0aW9uVGV4dChzdGF0ZSwgdGV4dCwgZnJvbSwgdG8pIHtcbiAgICBsZXQgeyBtYWluIH0gPSBzdGF0ZS5zZWxlY3Rpb24sIGZyb21PZmYgPSBmcm9tIC0gbWFpbi5mcm9tLCB0b09mZiA9IHRvIC0gbWFpbi5mcm9tO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBpZiAocmFuZ2UgIT0gbWFpbiAmJiBmcm9tICE9IHRvICYmXG4gICAgICAgICAgICBzdGF0ZS5zbGljZURvYyhyYW5nZS5mcm9tICsgZnJvbU9mZiwgcmFuZ2UuZnJvbSArIHRvT2ZmKSAhPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0bykpXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICBsZXQgbGluZXMgPSBzdGF0ZS50b1RleHQodGV4dCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmZyb20gKyBmcm9tT2ZmLCB0bzogdG8gPT0gbWFpbi5mcm9tID8gcmFuZ2UudG8gOiByYW5nZS5mcm9tICsgdG9PZmYsIGluc2VydDogbGluZXMgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20gKyBmcm9tT2ZmICsgbGluZXMubGVuZ3RoKVxuICAgICAgICB9O1xuICAgIH0pKSwgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0LmNvbXBsZXRlXCIgfSk7XG59XG5jb25zdCBTb3VyY2VDYWNoZSA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gYXNTb3VyY2Uoc291cmNlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNvdXJjZSkpXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgbGV0IGtub3duID0gU291cmNlQ2FjaGUuZ2V0KHNvdXJjZSk7XG4gICAgaWYgKCFrbm93bilcbiAgICAgICAgU291cmNlQ2FjaGUuc2V0KHNvdXJjZSwga25vd24gPSBjb21wbGV0ZUZyb21MaXN0KHNvdXJjZSkpO1xuICAgIHJldHVybiBrbm93bjtcbn1cbmNvbnN0IHN0YXJ0Q29tcGxldGlvbkVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGNsb3NlQ29tcGxldGlvbkVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcblxuLy8gQSBwYXR0ZXJuIG1hdGNoZXIgZm9yIGZ1enp5IGNvbXBsZXRpb24gbWF0Y2hpbmcuIENyZWF0ZSBhbiBpbnN0YW5jZVxuLy8gb25jZSBmb3IgYSBwYXR0ZXJuLCBhbmQgdGhlbiB1c2UgdGhhdCB0byBtYXRjaCBhbnkgbnVtYmVyIG9mXG4vLyBjb21wbGV0aW9ucy5cbmNsYXNzIEZ1enp5TWF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICB0aGlzLmNoYXJzID0gW107XG4gICAgICAgIHRoaXMuZm9sZGVkID0gW107XG4gICAgICAgIC8vIEJ1ZmZlcnMgcmV1c2VkIGJ5IGNhbGxzIHRvIGBtYXRjaGAgdG8gdHJhY2sgbWF0Y2hlZCBjaGFyYWN0ZXJcbiAgICAgICAgLy8gcG9zaXRpb25zLlxuICAgICAgICB0aGlzLmFueSA9IFtdO1xuICAgICAgICB0aGlzLnByZWNpc2UgPSBbXTtcbiAgICAgICAgdGhpcy5ieVdvcmQgPSBbXTtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMubWF0Y2hlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHBhdHRlcm4ubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGNoYXIgPSBjb2RlUG9pbnRBdChwYXR0ZXJuLCBwKSwgc2l6ZSA9IGNvZGVQb2ludFNpemUoY2hhcik7XG4gICAgICAgICAgICB0aGlzLmNoYXJzLnB1c2goY2hhcik7XG4gICAgICAgICAgICBsZXQgcGFydCA9IHBhdHRlcm4uc2xpY2UocCwgcCArIHNpemUpLCB1cHBlciA9IHBhcnQudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZm9sZGVkLnB1c2goY29kZVBvaW50QXQodXBwZXIgPT0gcGFydCA/IHBhcnQudG9Mb3dlckNhc2UoKSA6IHVwcGVyLCAwKSk7XG4gICAgICAgICAgICBwICs9IHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3RyYWwgPSBwYXR0ZXJuLmxlbmd0aCAhPSB0aGlzLmNoYXJzLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0KHNjb3JlLCBtYXRjaGVkKSB7XG4gICAgICAgIHRoaXMuc2NvcmUgPSBzY29yZTtcbiAgICAgICAgdGhpcy5tYXRjaGVkID0gbWF0Y2hlZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIE1hdGNoZXMgYSBnaXZlbiB3b3JkIChjb21wbGV0aW9uKSBhZ2FpbnN0IHRoZSBwYXR0ZXJuIChpbnB1dCkuXG4gICAgLy8gV2lsbCByZXR1cm4gYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGVyZSB3YXMgYSBtYXRjaCBhbmQsXG4gICAgLy8gb24gc3VjY2Vzcywgc2V0IGB0aGlzLnNjb3JlYCB0byB0aGUgc2NvcmUsIGB0aGlzLm1hdGNoZWRgIHRvIGFuXG4gICAgLy8gYXJyYXkgb2YgYGZyb20sIHRvYCBwYWlycyBpbmRpY2F0aW5nIHRoZSBtYXRjaGVkIHBhcnRzIG9mIGB3b3JkYC5cbiAgICAvL1xuICAgIC8vIFRoZSBzY29yZSBpcyBhIG51bWJlciB0aGF0IGlzIG1vcmUgbmVnYXRpdmUgdGhlIHdvcnNlIHRoZSBtYXRjaFxuICAgIC8vIGlzLiBTZWUgYFBlbmFsdHlgIGFib3ZlLlxuICAgIG1hdGNoKHdvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMucGF0dGVybi5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldCgtMTAwIC8qIFBlbmFsdHkuTm90RnVsbCAqLywgW10pO1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPCB0aGlzLnBhdHRlcm4ubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB7IGNoYXJzLCBmb2xkZWQsIGFueSwgcHJlY2lzZSwgYnlXb3JkIH0gPSB0aGlzO1xuICAgICAgICAvLyBGb3Igc2luZ2xlLWNoYXJhY3RlciBxdWVyaWVzLCBvbmx5IG1hdGNoIHdoZW4gdGhleSBvY2N1ciByaWdodFxuICAgICAgICAvLyBhdCB0aGUgc3RhcnRcbiAgICAgICAgaWYgKGNoYXJzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSBjb2RlUG9pbnRBdCh3b3JkLCAwKSwgZmlyc3RTaXplID0gY29kZVBvaW50U2l6ZShmaXJzdCk7XG4gICAgICAgICAgICBsZXQgc2NvcmUgPSBmaXJzdFNpemUgPT0gd29yZC5sZW5ndGggPyAwIDogLTEwMCAvKiBQZW5hbHR5Lk5vdEZ1bGwgKi87XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT0gY2hhcnNbMF0pIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0ID09IGZvbGRlZFswXSlcbiAgICAgICAgICAgICAgICBzY29yZSArPSAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi87XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXQoc2NvcmUsIFswLCBmaXJzdFNpemVdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlyZWN0ID0gd29yZC5pbmRleE9mKHRoaXMucGF0dGVybik7XG4gICAgICAgIGlmIChkaXJlY3QgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldCh3b3JkLmxlbmd0aCA9PSB0aGlzLnBhdHRlcm4ubGVuZ3RoID8gMCA6IC0xMDAgLyogUGVuYWx0eS5Ob3RGdWxsICovLCBbMCwgdGhpcy5wYXR0ZXJuLmxlbmd0aF0pO1xuICAgICAgICBsZXQgbGVuID0gY2hhcnMubGVuZ3RoLCBhbnlUbyA9IDA7XG4gICAgICAgIGlmIChkaXJlY3QgPCAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgZSA9IE1hdGgubWluKHdvcmQubGVuZ3RoLCAyMDApOyBpIDwgZSAmJiBhbnlUbyA8IGxlbjspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGNvZGVQb2ludEF0KHdvcmQsIGkpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09IGNoYXJzW2FueVRvXSB8fCBuZXh0ID09IGZvbGRlZFthbnlUb10pXG4gICAgICAgICAgICAgICAgICAgIGFueVthbnlUbysrXSA9IGk7XG4gICAgICAgICAgICAgICAgaSArPSBjb2RlUG9pbnRTaXplKG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8gbWF0Y2gsIGV4aXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChhbnlUbyA8IGxlbilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHRyYWNrcyB0aGUgZXh0ZW50IG9mIHRoZSBwcmVjaXNlIChub24tZm9sZGVkLCBub3RcbiAgICAgICAgLy8gbmVjZXNzYXJpbHkgYWRqYWNlbnQpIG1hdGNoXG4gICAgICAgIGxldCBwcmVjaXNlVG8gPSAwO1xuICAgICAgICAvLyBUcmFja3Mgd2hldGhlciB0aGVyZSBpcyBhIG1hdGNoIHRoYXQgaGl0cyBvbmx5IGNoYXJhY3RlcnMgdGhhdFxuICAgICAgICAvLyBhcHBlYXIgdG8gYmUgc3RhcnRpbmcgd29yZHMuIGBieVdvcmRGb2xkZWRgIGlzIHNldCB0byB0cnVlIHdoZW5cbiAgICAgICAgLy8gYSBjYXNlIGZvbGRlZCBjaGFyYWN0ZXIgaXMgZW5jb3VudGVyZWQgaW4gc3VjaCBhIG1hdGNoXG4gICAgICAgIGxldCBieVdvcmRUbyA9IDAsIGJ5V29yZEZvbGRlZCA9IGZhbHNlO1xuICAgICAgICAvLyBJZiB3ZSd2ZSBmb3VuZCBhIHBhcnRpYWwgYWRqYWNlbnQgbWF0Y2gsIHRoZXNlIHRyYWNrIGl0cyBzdGF0ZVxuICAgICAgICBsZXQgYWRqYWNlbnRUbyA9IDAsIGFkamFjZW50U3RhcnQgPSAtMSwgYWRqYWNlbnRFbmQgPSAtMTtcbiAgICAgICAgbGV0IGhhc0xvd2VyID0gL1thLXpdLy50ZXN0KHdvcmQpLCB3b3JkQWRqYWNlbnQgPSB0cnVlO1xuICAgICAgICAvLyBHbyBvdmVyIHRoZSBvcHRpb24ncyB0ZXh0LCBzY2FubmluZyBmb3IgdGhlIHZhcmlvdXMga2luZHMgb2YgbWF0Y2hlc1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgZSA9IE1hdGgubWluKHdvcmQubGVuZ3RoLCAyMDApLCBwcmV2VHlwZSA9IDAgLyogVHAuTm9uV29yZCAqLzsgaSA8IGUgJiYgYnlXb3JkVG8gPCBsZW47KSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGNvZGVQb2ludEF0KHdvcmQsIGkpO1xuICAgICAgICAgICAgaWYgKGRpcmVjdCA8IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocHJlY2lzZVRvIDwgbGVuICYmIG5leHQgPT0gY2hhcnNbcHJlY2lzZVRvXSlcbiAgICAgICAgICAgICAgICAgICAgcHJlY2lzZVtwcmVjaXNlVG8rK10gPSBpO1xuICAgICAgICAgICAgICAgIGlmIChhZGphY2VudFRvIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09IGNoYXJzW2FkamFjZW50VG9dIHx8IG5leHQgPT0gZm9sZGVkW2FkamFjZW50VG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRqYWNlbnRUbyA9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50U3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRFbmQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50VG8rKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50VG8gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNoLCB0eXBlID0gbmV4dCA8IDB4ZmZcbiAgICAgICAgICAgICAgICA/IChuZXh0ID49IDQ4ICYmIG5leHQgPD0gNTcgfHwgbmV4dCA+PSA5NyAmJiBuZXh0IDw9IDEyMiA/IDIgLyogVHAuTG93ZXIgKi8gOiBuZXh0ID49IDY1ICYmIG5leHQgPD0gOTAgPyAxIC8qIFRwLlVwcGVyICovIDogMCAvKiBUcC5Ob25Xb3JkICovKVxuICAgICAgICAgICAgICAgIDogKChjaCA9IGZyb21Db2RlUG9pbnQobmV4dCkpICE9IGNoLnRvTG93ZXJDYXNlKCkgPyAxIC8qIFRwLlVwcGVyICovIDogY2ggIT0gY2gudG9VcHBlckNhc2UoKSA/IDIgLyogVHAuTG93ZXIgKi8gOiAwIC8qIFRwLk5vbldvcmQgKi8pO1xuICAgICAgICAgICAgaWYgKCFpIHx8IHR5cGUgPT0gMSAvKiBUcC5VcHBlciAqLyAmJiBoYXNMb3dlciB8fCBwcmV2VHlwZSA9PSAwIC8qIFRwLk5vbldvcmQgKi8gJiYgdHlwZSAhPSAwIC8qIFRwLk5vbldvcmQgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnNbYnlXb3JkVG9dID09IG5leHQgfHwgKGZvbGRlZFtieVdvcmRUb10gPT0gbmV4dCAmJiAoYnlXb3JkRm9sZGVkID0gdHJ1ZSkpKVxuICAgICAgICAgICAgICAgICAgICBieVdvcmRbYnlXb3JkVG8rK10gPSBpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ5V29yZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHdvcmRBZGphY2VudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldlR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgaSArPSBjb2RlUG9pbnRTaXplKG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChieVdvcmRUbyA9PSBsZW4gJiYgYnlXb3JkWzBdID09IDAgJiYgd29yZEFkamFjZW50KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0KC0xMDAgLyogUGVuYWx0eS5CeVdvcmQgKi8gKyAoYnlXb3JkRm9sZGVkID8gLTIwMCAvKiBQZW5hbHR5LkNhc2VGb2xkICovIDogMCksIGJ5V29yZCwgd29yZCk7XG4gICAgICAgIGlmIChhZGphY2VudFRvID09IGxlbiAmJiBhZGphY2VudFN0YXJ0ID09IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXQoLTIwMCAvKiBQZW5hbHR5LkNhc2VGb2xkICovIC0gd29yZC5sZW5ndGggKyAoYWRqYWNlbnRFbmQgPT0gd29yZC5sZW5ndGggPyAwIDogLTEwMCAvKiBQZW5hbHR5Lk5vdEZ1bGwgKi8pLCBbMCwgYWRqYWNlbnRFbmRdKTtcbiAgICAgICAgaWYgKGRpcmVjdCA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0KC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyAtIHdvcmQubGVuZ3RoLCBbZGlyZWN0LCBkaXJlY3QgKyB0aGlzLnBhdHRlcm4ubGVuZ3RoXSk7XG4gICAgICAgIGlmIChhZGphY2VudFRvID09IGxlbilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldCgtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gKyAtNzAwIC8qIFBlbmFsdHkuTm90U3RhcnQgKi8gLSB3b3JkLmxlbmd0aCwgW2FkamFjZW50U3RhcnQsIGFkamFjZW50RW5kXSk7XG4gICAgICAgIGlmIChieVdvcmRUbyA9PSBsZW4pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQoLTEwMCAvKiBQZW5hbHR5LkJ5V29yZCAqLyArIChieVdvcmRGb2xkZWQgPyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gOiAwKSArIC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyArXG4gICAgICAgICAgICAgICAgKHdvcmRBZGphY2VudCA/IDAgOiAtMTEwMCAvKiBQZW5hbHR5LkdhcCAqLyksIGJ5V29yZCwgd29yZCk7XG4gICAgICAgIHJldHVybiBjaGFycy5sZW5ndGggPT0gMiA/IG51bGxcbiAgICAgICAgICAgIDogdGhpcy5yZXN1bHQoKGFueVswXSA/IC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyA6IDApICsgLTIwMCAvKiBQZW5hbHR5LkNhc2VGb2xkICovICsgLTExMDAgLyogUGVuYWx0eS5HYXAgKi8sIGFueSwgd29yZCk7XG4gICAgfVxuICAgIHJlc3VsdChzY29yZSwgcG9zaXRpb25zLCB3b3JkKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgaSA9IDA7XG4gICAgICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCB0byA9IHBvcyArICh0aGlzLmFzdHJhbCA/IGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQod29yZCwgcG9zKSkgOiAxKTtcbiAgICAgICAgICAgIGlmIChpICYmIHJlc3VsdFtpIC0gMV0gPT0gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtpIC0gMV0gPSB0bztcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpKytdID0gcG9zO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpKytdID0gdG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmV0KHNjb3JlIC0gd29yZC5sZW5ndGgsIHJlc3VsdCk7XG4gICAgfVxufVxuY2xhc3MgU3RyaWN0TWF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSBbXTtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuZm9sZGVkID0gcGF0dGVybi50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBtYXRjaCh3b3JkKSB7XG4gICAgICAgIGlmICh3b3JkLmxlbmd0aCA8IHRoaXMucGF0dGVybi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gd29yZC5zbGljZSgwLCB0aGlzLnBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgbGV0IG1hdGNoID0gc3RhcnQgPT0gdGhpcy5wYXR0ZXJuID8gMCA6IHN0YXJ0LnRvTG93ZXJDYXNlKCkgPT0gdGhpcy5mb2xkZWQgPyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gOiBudWxsO1xuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSBbMCwgc3RhcnQubGVuZ3RoXTtcbiAgICAgICAgdGhpcy5zY29yZSA9IG1hdGNoICsgKHdvcmQubGVuZ3RoID09IHRoaXMucGF0dGVybi5sZW5ndGggPyAwIDogLTEwMCAvKiBQZW5hbHR5Lk5vdEZ1bGwgKi8pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmNvbnN0IGNvbXBsZXRpb25Db25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGNvbmZpZ3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcoY29uZmlncywge1xuICAgICAgICAgICAgYWN0aXZhdGVPblR5cGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGFjdGl2YXRlT25Db21wbGV0aW9uOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGFjdGl2YXRlT25UeXBpbmdEZWxheTogMTAwLFxuICAgICAgICAgICAgc2VsZWN0T25PcGVuOiB0cnVlLFxuICAgICAgICAgICAgb3ZlcnJpZGU6IG51bGwsXG4gICAgICAgICAgICBjbG9zZU9uQmx1cjogdHJ1ZSxcbiAgICAgICAgICAgIG1heFJlbmRlcmVkT3B0aW9uczogMTAwLFxuICAgICAgICAgICAgZGVmYXVsdEtleW1hcDogdHJ1ZSxcbiAgICAgICAgICAgIHRvb2x0aXBDbGFzczogKCkgPT4gXCJcIixcbiAgICAgICAgICAgIG9wdGlvbkNsYXNzOiAoKSA9PiBcIlwiLFxuICAgICAgICAgICAgYWJvdmVDdXJzb3I6IGZhbHNlLFxuICAgICAgICAgICAgaWNvbnM6IHRydWUsXG4gICAgICAgICAgICBhZGRUb09wdGlvbnM6IFtdLFxuICAgICAgICAgICAgcG9zaXRpb25JbmZvOiBkZWZhdWx0UG9zaXRpb25JbmZvLFxuICAgICAgICAgICAgZmlsdGVyU3RyaWN0OiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBhcmVDb21wbGV0aW9uczogKGEsIGIpID0+IGEubGFiZWwubG9jYWxlQ29tcGFyZShiLmxhYmVsKSxcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGVsYXk6IDc1LFxuICAgICAgICAgICAgdXBkYXRlU3luY1RpbWU6IDEwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0S2V5bWFwOiAoYSwgYikgPT4gYSAmJiBiLFxuICAgICAgICAgICAgY2xvc2VPbkJsdXI6IChhLCBiKSA9PiBhICYmIGIsXG4gICAgICAgICAgICBpY29uczogKGEsIGIpID0+IGEgJiYgYixcbiAgICAgICAgICAgIHRvb2x0aXBDbGFzczogKGEsIGIpID0+IGMgPT4gam9pbkNsYXNzKGEoYyksIGIoYykpLFxuICAgICAgICAgICAgb3B0aW9uQ2xhc3M6IChhLCBiKSA9PiBjID0+IGpvaW5DbGFzcyhhKGMpLCBiKGMpKSxcbiAgICAgICAgICAgIGFkZFRvT3B0aW9uczogKGEsIGIpID0+IGEuY29uY2F0KGIpLFxuICAgICAgICAgICAgZmlsdGVyU3RyaWN0OiAoYSwgYikgPT4gYSB8fCBiLFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIGpvaW5DbGFzcyhhLCBiKSB7XG4gICAgcmV0dXJuIGEgPyBiID8gYSArIFwiIFwiICsgYiA6IGEgOiBiO1xufVxuZnVuY3Rpb24gZGVmYXVsdFBvc2l0aW9uSW5mbyh2aWV3LCBsaXN0LCBvcHRpb24sIGluZm8sIHNwYWNlLCB0b29sdGlwKSB7XG4gICAgbGV0IHJ0bCA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uUlRMLCBsZWZ0ID0gcnRsLCBuYXJyb3cgPSBmYWxzZTtcbiAgICBsZXQgc2lkZSA9IFwidG9wXCIsIG9mZnNldCwgbWF4V2lkdGg7XG4gICAgbGV0IHNwYWNlTGVmdCA9IGxpc3QubGVmdCAtIHNwYWNlLmxlZnQsIHNwYWNlUmlnaHQgPSBzcGFjZS5yaWdodCAtIGxpc3QucmlnaHQ7XG4gICAgbGV0IGluZm9XaWR0aCA9IGluZm8ucmlnaHQgLSBpbmZvLmxlZnQsIGluZm9IZWlnaHQgPSBpbmZvLmJvdHRvbSAtIGluZm8udG9wO1xuICAgIGlmIChsZWZ0ICYmIHNwYWNlTGVmdCA8IE1hdGgubWluKGluZm9XaWR0aCwgc3BhY2VSaWdodCkpXG4gICAgICAgIGxlZnQgPSBmYWxzZTtcbiAgICBlbHNlIGlmICghbGVmdCAmJiBzcGFjZVJpZ2h0IDwgTWF0aC5taW4oaW5mb1dpZHRoLCBzcGFjZUxlZnQpKVxuICAgICAgICBsZWZ0ID0gdHJ1ZTtcbiAgICBpZiAoaW5mb1dpZHRoIDw9IChsZWZ0ID8gc3BhY2VMZWZ0IDogc3BhY2VSaWdodCkpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoc3BhY2UudG9wLCBNYXRoLm1pbihvcHRpb24udG9wLCBzcGFjZS5ib3R0b20gLSBpbmZvSGVpZ2h0KSkgLSBsaXN0LnRvcDtcbiAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1pbig0MDAgLyogSW5mby5XaWR0aCAqLywgbGVmdCA/IHNwYWNlTGVmdCA6IHNwYWNlUmlnaHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmFycm93ID0gdHJ1ZTtcbiAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1pbig0MDAgLyogSW5mby5XaWR0aCAqLywgKHJ0bCA/IGxpc3QucmlnaHQgOiBzcGFjZS5yaWdodCAtIGxpc3QubGVmdCkgLSAzMCAvKiBJbmZvLk1hcmdpbiAqLyk7XG4gICAgICAgIGxldCBzcGFjZUJlbG93ID0gc3BhY2UuYm90dG9tIC0gbGlzdC5ib3R0b207XG4gICAgICAgIGlmIChzcGFjZUJlbG93ID49IGluZm9IZWlnaHQgfHwgc3BhY2VCZWxvdyA+IGxpc3QudG9wKSB7IC8vIEJlbG93IHRoZSBjb21wbGV0aW9uXG4gICAgICAgICAgICBvZmZzZXQgPSBvcHRpb24uYm90dG9tIC0gbGlzdC50b3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIEFib3ZlIGl0XG4gICAgICAgICAgICBzaWRlID0gXCJib3R0b21cIjtcbiAgICAgICAgICAgIG9mZnNldCA9IGxpc3QuYm90dG9tIC0gb3B0aW9uLnRvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc2NhbGVZID0gKGxpc3QuYm90dG9tIC0gbGlzdC50b3ApIC8gdG9vbHRpcC5vZmZzZXRIZWlnaHQ7XG4gICAgbGV0IHNjYWxlWCA9IChsaXN0LnJpZ2h0IC0gbGlzdC5sZWZ0KSAvIHRvb2x0aXAub2Zmc2V0V2lkdGg7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3R5bGU6IGAke3NpZGV9OiAke29mZnNldCAvIHNjYWxlWX1weDsgbWF4LXdpZHRoOiAke21heFdpZHRoIC8gc2NhbGVYfXB4YCxcbiAgICAgICAgY2xhc3M6IFwiY20tY29tcGxldGlvbkluZm8tXCIgKyAobmFycm93ID8gKHJ0bCA/IFwibGVmdC1uYXJyb3dcIiA6IFwicmlnaHQtbmFycm93XCIpIDogbGVmdCA/IFwibGVmdFwiIDogXCJyaWdodFwiKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG9wdGlvbkNvbnRlbnQoY29uZmlnKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBjb25maWcuYWRkVG9PcHRpb25zLnNsaWNlKCk7XG4gICAgaWYgKGNvbmZpZy5pY29ucylcbiAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgIHJlbmRlcihjb21wbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZChcImNtLWNvbXBsZXRpb25JY29uXCIpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0aW9uLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCguLi5jb21wbGV0aW9uLnR5cGUuc3BsaXQoL1xccysvZykubWFwKGNscyA9PiBcImNtLWNvbXBsZXRpb25JY29uLVwiICsgY2xzKSk7XG4gICAgICAgICAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zaXRpb246IDIwXG4gICAgICAgIH0pO1xuICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgIHJlbmRlcihjb21wbGV0aW9uLCBfcywgX3YsIG1hdGNoKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGxhYmVsRWx0LmNsYXNzTmFtZSA9IFwiY20tY29tcGxldGlvbkxhYmVsXCI7XG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBjb21wbGV0aW9uLmRpc3BsYXlMYWJlbCB8fCBjb21wbGV0aW9uLmxhYmVsLCBvZmYgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXRjaC5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBtYXRjaFtqKytdLCB0byA9IG1hdGNoW2orK107XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPiBvZmYpXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsRWx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxhYmVsLnNsaWNlKG9mZiwgZnJvbSkpKTtcbiAgICAgICAgICAgICAgICBsZXQgc3BhbiA9IGxhYmVsRWx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTtcbiAgICAgICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxhYmVsLnNsaWNlKGZyb20sIHRvKSkpO1xuICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJjbS1jb21wbGV0aW9uTWF0Y2hlZFRleHRcIjtcbiAgICAgICAgICAgICAgICBvZmYgPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvZmYgPCBsYWJlbC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgbGFiZWxFbHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwuc2xpY2Uob2ZmKSkpO1xuICAgICAgICAgICAgcmV0dXJuIGxhYmVsRWx0O1xuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjogNTBcbiAgICB9LCB7XG4gICAgICAgIHJlbmRlcihjb21wbGV0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIWNvbXBsZXRpb24uZGV0YWlsKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IGRldGFpbEVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgZGV0YWlsRWx0LmNsYXNzTmFtZSA9IFwiY20tY29tcGxldGlvbkRldGFpbFwiO1xuICAgICAgICAgICAgZGV0YWlsRWx0LnRleHRDb250ZW50ID0gY29tcGxldGlvbi5kZXRhaWw7XG4gICAgICAgICAgICByZXR1cm4gZGV0YWlsRWx0O1xuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjogODBcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudC5zb3J0KChhLCBiKSA9PiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvbikubWFwKGEgPT4gYS5yZW5kZXIpO1xufVxuZnVuY3Rpb24gcmFuZ2VBcm91bmRTZWxlY3RlZCh0b3RhbCwgc2VsZWN0ZWQsIG1heCkge1xuICAgIGlmICh0b3RhbCA8PSBtYXgpXG4gICAgICAgIHJldHVybiB7IGZyb206IDAsIHRvOiB0b3RhbCB9O1xuICAgIGlmIChzZWxlY3RlZCA8IDApXG4gICAgICAgIHNlbGVjdGVkID0gMDtcbiAgICBpZiAoc2VsZWN0ZWQgPD0gKHRvdGFsID4+IDEpKSB7XG4gICAgICAgIGxldCBvZmYgPSBNYXRoLmZsb29yKHNlbGVjdGVkIC8gbWF4KTtcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogb2ZmICogbWF4LCB0bzogKG9mZiArIDEpICogbWF4IH07XG4gICAgfVxuICAgIGxldCBvZmYgPSBNYXRoLmZsb29yKCh0b3RhbCAtIHNlbGVjdGVkKSAvIG1heCk7XG4gICAgcmV0dXJuIHsgZnJvbTogdG90YWwgLSAob2ZmICsgMSkgKiBtYXgsIHRvOiB0b3RhbCAtIG9mZiAqIG1heCB9O1xufVxuY2xhc3MgQ29tcGxldGlvblRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXRlRmllbGQsIGFwcGx5Q29tcGxldGlvbikge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnN0YXRlRmllbGQgPSBzdGF0ZUZpZWxkO1xuICAgICAgICB0aGlzLmFwcGx5Q29tcGxldGlvbiA9IGFwcGx5Q29tcGxldGlvbjtcbiAgICAgICAgdGhpcy5pbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmZvRGVzdHJveSA9IG51bGw7XG4gICAgICAgIHRoaXMucGxhY2VJbmZvUmVxID0ge1xuICAgICAgICAgICAgcmVhZDogKCkgPT4gdGhpcy5tZWFzdXJlSW5mbygpLFxuICAgICAgICAgICAgd3JpdGU6IChwb3MpID0+IHRoaXMucGxhY2VJbmZvKHBvcyksXG4gICAgICAgICAgICBrZXk6IHRoaXNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zcGFjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudENsYXNzID0gXCJcIjtcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoc3RhdGVGaWVsZCk7XG4gICAgICAgIGxldCB7IG9wdGlvbnMsIHNlbGVjdGVkIH0gPSBjU3RhdGUub3BlbjtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZyk7XG4gICAgICAgIHRoaXMub3B0aW9uQ29udGVudCA9IG9wdGlvbkNvbnRlbnQoY29uZmlnKTtcbiAgICAgICAgdGhpcy5vcHRpb25DbGFzcyA9IGNvbmZpZy5vcHRpb25DbGFzcztcbiAgICAgICAgdGhpcy50b29sdGlwQ2xhc3MgPSBjb25maWcudG9vbHRpcENsYXNzO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2VBcm91bmRTZWxlY3RlZChvcHRpb25zLmxlbmd0aCwgc2VsZWN0ZWQsIGNvbmZpZy5tYXhSZW5kZXJlZE9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IFwiY20tdG9vbHRpcC1hdXRvY29tcGxldGVcIjtcbiAgICAgICAgdGhpcy51cGRhdGVUb29sdGlwQ2xhc3Modmlldy5zdGF0ZSk7XG4gICAgICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCB7IG9wdGlvbnMgfSA9IHZpZXcuc3RhdGUuZmllbGQoc3RhdGVGaWVsZCkub3BlbjtcbiAgICAgICAgICAgIGZvciAobGV0IGRvbSA9IGUudGFyZ2V0LCBtYXRjaDsgZG9tICYmIGRvbSAhPSB0aGlzLmRvbTsgZG9tID0gZG9tLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9tLm5vZGVOYW1lID09IFwiTElcIiAmJiAobWF0Y2ggPSAvLShcXGQrKSQvLmV4ZWMoZG9tLmlkKSkgJiYgK21hdGNoWzFdIDwgb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvbXBsZXRpb24odmlldywgb3B0aW9uc1srbWF0Y2hbMV1dKTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKHRoaXMuc3RhdGVGaWVsZCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLnRvb2x0aXAgJiYgdmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5jbG9zZU9uQmx1ciAmJlxuICAgICAgICAgICAgICAgIGUucmVsYXRlZFRhcmdldCAhPSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGNsb3NlQ29tcGxldGlvbkVmZmVjdC5vZihudWxsKSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hvd09wdGlvbnMob3B0aW9ucywgY1N0YXRlLmlkKTtcbiAgICB9XG4gICAgbW91bnQoKSB7IHRoaXMudXBkYXRlU2VsKCk7IH1cbiAgICBzaG93T3B0aW9ucyhvcHRpb25zLCBpZCkge1xuICAgICAgICBpZiAodGhpcy5saXN0KVxuICAgICAgICAgICAgdGhpcy5saXN0LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxpc3RCb3gob3B0aW9ucywgaWQsIHRoaXMucmFuZ2UpKTtcbiAgICAgICAgdGhpcy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5mbylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5wbGFjZUluZm9SZXEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjU3RhdGUgPSB1cGRhdGUuc3RhdGUuZmllbGQodGhpcy5zdGF0ZUZpZWxkKTtcbiAgICAgICAgbGV0IHByZXZTdGF0ZSA9IHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKHRoaXMuc3RhdGVGaWVsZCk7XG4gICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcENsYXNzKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIGlmIChjU3RhdGUgIT0gcHJldlN0YXRlKSB7XG4gICAgICAgICAgICBsZXQgeyBvcHRpb25zLCBzZWxlY3RlZCwgZGlzYWJsZWQgfSA9IGNTdGF0ZS5vcGVuO1xuICAgICAgICAgICAgaWYgKCFwcmV2U3RhdGUub3BlbiB8fCBwcmV2U3RhdGUub3Blbi5vcHRpb25zICE9IG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2VBcm91bmRTZWxlY3RlZChvcHRpb25zLmxlbmd0aCwgc2VsZWN0ZWQsIHVwZGF0ZS5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5tYXhSZW5kZXJlZE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd09wdGlvbnMob3B0aW9ucywgY1N0YXRlLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsKCk7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQgIT0gKChfYSA9IHByZXZTdGF0ZS5vcGVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpKVxuICAgICAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC50b2dnbGUoXCJjbS10b29sdGlwLWF1dG9jb21wbGV0ZS1kaXNhYmxlZFwiLCAhIWRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVUb29sdGlwQ2xhc3Moc3RhdGUpIHtcbiAgICAgICAgbGV0IGNscyA9IHRoaXMudG9vbHRpcENsYXNzKHN0YXRlKTtcbiAgICAgICAgaWYgKGNscyAhPSB0aGlzLmN1cnJlbnRDbGFzcykge1xuICAgICAgICAgICAgZm9yIChsZXQgYyBvZiB0aGlzLmN1cnJlbnRDbGFzcy5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNscy5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoYyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDbGFzcyA9IGNscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBwb3NpdGlvbmVkKHNwYWNlKSB7XG4gICAgICAgIHRoaXMuc3BhY2UgPSBzcGFjZTtcbiAgICAgICAgaWYgKHRoaXMuaW5mbylcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLnBsYWNlSW5mb1JlcSk7XG4gICAgfVxuICAgIHVwZGF0ZVNlbCgpIHtcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHRoaXMudmlldy5zdGF0ZS5maWVsZCh0aGlzLnN0YXRlRmllbGQpLCBvcGVuID0gY1N0YXRlLm9wZW47XG4gICAgICAgIGlmIChvcGVuLnNlbGVjdGVkID4gLTEgJiYgb3Blbi5zZWxlY3RlZCA8IHRoaXMucmFuZ2UuZnJvbSB8fCBvcGVuLnNlbGVjdGVkID49IHRoaXMucmFuZ2UudG8pIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZUFyb3VuZFNlbGVjdGVkKG9wZW4ub3B0aW9ucy5sZW5ndGgsIG9wZW4uc2VsZWN0ZWQsIHRoaXMudmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5tYXhSZW5kZXJlZE9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5zaG93T3B0aW9ucyhvcGVuLm9wdGlvbnMsIGNTdGF0ZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU2VsZWN0ZWRPcHRpb24ob3Blbi5zZWxlY3RlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUluZm8oKTtcbiAgICAgICAgICAgIGxldCB7IGNvbXBsZXRpb24gfSA9IG9wZW4ub3B0aW9uc1tvcGVuLnNlbGVjdGVkXTtcbiAgICAgICAgICAgIGxldCB7IGluZm8gfSA9IGNvbXBsZXRpb247XG4gICAgICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGluZm9SZXN1bHQgPSB0eXBlb2YgaW5mbyA9PT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGluZm8pIDogaW5mbyhjb21wbGV0aW9uKTtcbiAgICAgICAgICAgIGlmICghaW5mb1Jlc3VsdClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoXCJ0aGVuXCIgaW4gaW5mb1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIGluZm9SZXN1bHQudGhlbihvYmogPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqICYmIHRoaXMudmlldy5zdGF0ZS5maWVsZCh0aGlzLnN0YXRlRmllbGQsIGZhbHNlKSA9PSBjU3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEluZm9QYW5lKG9iaiwgY29tcGxldGlvbik7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiBsb2dFeGNlcHRpb24odGhpcy52aWV3LnN0YXRlLCBlLCBcImNvbXBsZXRpb24gaW5mb1wiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEluZm9QYW5lKGluZm9SZXN1bHQsIGNvbXBsZXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEluZm9QYW5lKGNvbnRlbnQsIGNvbXBsZXRpb24pIHtcbiAgICAgICAgdGhpcy5kZXN0cm95SW5mbygpO1xuICAgICAgICBsZXQgd3JhcCA9IHRoaXMuaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHdyYXAuY2xhc3NOYW1lID0gXCJjbS10b29sdGlwIGNtLWNvbXBsZXRpb25JbmZvXCI7XG4gICAgICAgIGlmIChjb250ZW50Lm5vZGVUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLmluZm9EZXN0cm95ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCB7IGRvbSwgZGVzdHJveSB9ID0gY29udGVudDtcbiAgICAgICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICAgIHRoaXMuaW5mb0Rlc3Ryb3kgPSBkZXN0cm95IHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQod3JhcCk7XG4gICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLnBsYWNlSW5mb1JlcSk7XG4gICAgfVxuICAgIHVwZGF0ZVNlbGVjdGVkT3B0aW9uKHNlbGVjdGVkKSB7XG4gICAgICAgIGxldCBzZXQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBvcHQgPSB0aGlzLmxpc3QuZmlyc3RDaGlsZCwgaSA9IHRoaXMucmFuZ2UuZnJvbTsgb3B0OyBvcHQgPSBvcHQubmV4dFNpYmxpbmcsIGkrKykge1xuICAgICAgICAgICAgaWYgKG9wdC5ub2RlTmFtZSAhPSBcIkxJXCIgfHwgIW9wdC5pZCkge1xuICAgICAgICAgICAgICAgIGktLTsgLy8gQSBzZWN0aW9uIGhlYWRlclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSA9PSBzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0Lmhhc0F0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXQgPSBvcHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5oYXNBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpKVxuICAgICAgICAgICAgICAgICAgICBvcHQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0KVxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXcodGhpcy5saXN0LCBzZXQpO1xuICAgICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICBtZWFzdXJlSW5mbygpIHtcbiAgICAgICAgbGV0IHNlbCA9IHRoaXMuZG9tLnF1ZXJ5U2VsZWN0b3IoXCJbYXJpYS1zZWxlY3RlZF1cIik7XG4gICAgICAgIGlmICghc2VsIHx8ICF0aGlzLmluZm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IGxpc3RSZWN0ID0gdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBpbmZvUmVjdCA9IHRoaXMuaW5mby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHNlbFJlY3QgPSBzZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBzcGFjZSA9IHRoaXMuc3BhY2U7XG4gICAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgICAgIGxldCBkb2NFbHQgPSB0aGlzLmRvbS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgIHNwYWNlID0geyBsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiBkb2NFbHQuY2xpZW50V2lkdGgsIGJvdHRvbTogZG9jRWx0LmNsaWVudEhlaWdodCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxSZWN0LnRvcCA+IE1hdGgubWluKHNwYWNlLmJvdHRvbSwgbGlzdFJlY3QuYm90dG9tKSAtIDEwIHx8XG4gICAgICAgICAgICBzZWxSZWN0LmJvdHRvbSA8IE1hdGgubWF4KHNwYWNlLnRvcCwgbGlzdFJlY3QudG9wKSArIDEwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykucG9zaXRpb25JbmZvKHRoaXMudmlldywgbGlzdFJlY3QsIHNlbFJlY3QsIGluZm9SZWN0LCBzcGFjZSwgdGhpcy5kb20pO1xuICAgIH1cbiAgICBwbGFjZUluZm8ocG9zKSB7XG4gICAgICAgIGlmICh0aGlzLmluZm8pIHtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zLnN0eWxlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm8uc3R5bGUuY3NzVGV4dCA9IHBvcy5zdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZm8uY2xhc3NOYW1lID0gXCJjbS10b29sdGlwIGNtLWNvbXBsZXRpb25JbmZvIFwiICsgKHBvcy5jbGFzcyB8fCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5mby5zdHlsZS5jc3NUZXh0ID0gXCJ0b3A6IC0xZTZweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUxpc3RCb3gob3B0aW9ucywgaWQsIHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICB1bC5pZCA9IGlkO1xuICAgICAgICB1bC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGJveFwiKTtcbiAgICAgICAgdWwuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG4gICAgICAgIHVsLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdGhpcy52aWV3LnN0YXRlLnBocmFzZShcIkNvbXBsZXRpb25zXCIpKTtcbiAgICAgICAgdWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBlID0+IHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZm9jdXMgY2hhbmdlIHdoZW4gY2xpY2tpbmcgdGhlIHNjcm9sbGJhclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHVsKVxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBjdXJTZWN0aW9uID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhbmdlLmZyb207IGkgPCByYW5nZS50bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeyBjb21wbGV0aW9uLCBtYXRjaCB9ID0gb3B0aW9uc1tpXSwgeyBzZWN0aW9uIH0gPSBjb21wbGV0aW9uO1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHR5cGVvZiBzZWN0aW9uID09IFwic3RyaW5nXCIgPyBzZWN0aW9uIDogc2VjdGlvbi5uYW1lO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lICE9IGN1clNlY3Rpb24gJiYgKGkgPiByYW5nZS5mcm9tIHx8IHJhbmdlLmZyb20gPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyU2VjdGlvbiA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VjdGlvbiAhPSBcInN0cmluZ1wiICYmIHNlY3Rpb24uaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChzZWN0aW9uLmhlYWRlcihzZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVhZGVyID0gdWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbXBsZXRpb24tc2VjdGlvblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGkgPSB1bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIikpO1xuICAgICAgICAgICAgbGkuaWQgPSBpZCArIFwiLVwiICsgaTtcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJvcHRpb25cIik7XG4gICAgICAgICAgICBsZXQgY2xzID0gdGhpcy5vcHRpb25DbGFzcyhjb21wbGV0aW9uKTtcbiAgICAgICAgICAgIGlmIChjbHMpXG4gICAgICAgICAgICAgICAgbGkuY2xhc3NOYW1lID0gY2xzO1xuICAgICAgICAgICAgZm9yIChsZXQgc291cmNlIG9mIHRoaXMub3B0aW9uQ29udGVudCkge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gc291cmNlKGNvbXBsZXRpb24sIHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZS5mcm9tKVxuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZChcImNtLWNvbXBsZXRpb25MaXN0SW5jb21wbGV0ZVRvcFwiKTtcbiAgICAgICAgaWYgKHJhbmdlLnRvIDwgb3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB1bC5jbGFzc0xpc3QuYWRkKFwiY20tY29tcGxldGlvbkxpc3RJbmNvbXBsZXRlQm90dG9tXCIpO1xuICAgICAgICByZXR1cm4gdWw7XG4gICAgfVxuICAgIGRlc3Ryb3lJbmZvKCkge1xuICAgICAgICBpZiAodGhpcy5pbmZvKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmZvRGVzdHJveSlcbiAgICAgICAgICAgICAgICB0aGlzLmluZm9EZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmluZm8ucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLmluZm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUluZm8oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wbGV0aW9uVG9vbHRpcChzdGF0ZUZpZWxkLCBhcHBseUNvbXBsZXRpb24pIHtcbiAgICByZXR1cm4gKHZpZXcpID0+IG5ldyBDb21wbGV0aW9uVG9vbHRpcCh2aWV3LCBzdGF0ZUZpZWxkLCBhcHBseUNvbXBsZXRpb24pO1xufVxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY29udGFpbmVyLCBlbGVtZW50KSB7XG4gICAgbGV0IHBhcmVudCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgc2VsZiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjYWxlWSA9IHBhcmVudC5oZWlnaHQgLyBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgIGlmIChzZWxmLnRvcCA8IHBhcmVudC50b3ApXG4gICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgLT0gKHBhcmVudC50b3AgLSBzZWxmLnRvcCkgLyBzY2FsZVk7XG4gICAgZWxzZSBpZiAoc2VsZi5ib3R0b20gPiBwYXJlbnQuYm90dG9tKVxuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IChzZWxmLmJvdHRvbSAtIHBhcmVudC5ib3R0b20pIC8gc2NhbGVZO1xufVxuXG4vLyBVc2VkIHRvIHBpY2sgYSBwcmVmZXJyZWQgb3B0aW9uIHdoZW4gdHdvIG9wdGlvbnMgd2l0aCB0aGUgc2FtZVxuLy8gbGFiZWwgb2NjdXIgaW4gdGhlIHJlc3VsdC5cbmZ1bmN0aW9uIHNjb3JlKG9wdGlvbikge1xuICAgIHJldHVybiAob3B0aW9uLmJvb3N0IHx8IDApICogMTAwICsgKG9wdGlvbi5hcHBseSA/IDEwIDogMCkgKyAob3B0aW9uLmluZm8gPyA1IDogMCkgK1xuICAgICAgICAob3B0aW9uLnR5cGUgPyAxIDogMCk7XG59XG5mdW5jdGlvbiBzb3J0T3B0aW9ucyhhY3RpdmUsIHN0YXRlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICBsZXQgc2VjdGlvbnMgPSBudWxsO1xuICAgIGxldCBhZGRPcHRpb24gPSAob3B0aW9uKSA9PiB7XG4gICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICBsZXQgeyBzZWN0aW9uIH0gPSBvcHRpb24uY29tcGxldGlvbjtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghc2VjdGlvbnMpXG4gICAgICAgICAgICAgICAgc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHlwZW9mIHNlY3Rpb24gPT0gXCJzdHJpbmdcIiA/IHNlY3Rpb24gOiBzZWN0aW9uLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXNlY3Rpb25zLnNvbWUocyA9PiBzLm5hbWUgPT0gbmFtZSkpXG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaCh0eXBlb2Ygc2VjdGlvbiA9PSBcInN0cmluZ1wiID8geyBuYW1lIH0gOiBzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IGNvbmYgPSBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKTtcbiAgICBmb3IgKGxldCBhIG9mIGFjdGl2ZSlcbiAgICAgICAgaWYgKGEuaGFzUmVzdWx0KCkpIHtcbiAgICAgICAgICAgIGxldCBnZXRNYXRjaCA9IGEucmVzdWx0LmdldE1hdGNoO1xuICAgICAgICAgICAgaWYgKGEucmVzdWx0LmZpbHRlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBvcHRpb24gb2YgYS5yZXN1bHQub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBhZGRPcHRpb24obmV3IE9wdGlvbihvcHRpb24sIGEuc291cmNlLCBnZXRNYXRjaCA/IGdldE1hdGNoKG9wdGlvbikgOiBbXSwgMWU5IC0gb3B0aW9ucy5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IHN0YXRlLnNsaWNlRG9jKGEuZnJvbSwgYS50byksIG1hdGNoO1xuICAgICAgICAgICAgICAgIGxldCBtYXRjaGVyID0gY29uZi5maWx0ZXJTdHJpY3QgPyBuZXcgU3RyaWN0TWF0Y2hlcihwYXR0ZXJuKSA6IG5ldyBGdXp6eU1hdGNoZXIocGF0dGVybik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgb3B0aW9uIG9mIGEucmVzdWx0Lm9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IG1hdGNoZXIubWF0Y2gob3B0aW9uLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZWQgPSAhb3B0aW9uLmRpc3BsYXlMYWJlbCA/IG1hdGNoLm1hdGNoZWQgOiBnZXRNYXRjaCA/IGdldE1hdGNoKG9wdGlvbiwgbWF0Y2gubWF0Y2hlZCkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGlvbihuZXcgT3B0aW9uKG9wdGlvbiwgYS5zb3VyY2UsIG1hdGNoZWQsIG1hdGNoLnNjb3JlICsgKG9wdGlvbi5ib29zdCB8fCAwKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBpZiAoc2VjdGlvbnMpIHtcbiAgICAgICAgbGV0IHNlY3Rpb25PcmRlciA9IE9iamVjdC5jcmVhdGUobnVsbCksIHBvcyA9IDA7XG4gICAgICAgIGxldCBjbXAgPSAoYSwgYikgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gKChfYSA9IGEucmFuaykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMWU5KSAtICgoX2IgPSBiLnJhbmspICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDFlOSkgfHwgKGEubmFtZSA8IGIubmFtZSA/IC0xIDogMSk7IH07XG4gICAgICAgIGZvciAobGV0IHMgb2Ygc2VjdGlvbnMuc29ydChjbXApKSB7XG4gICAgICAgICAgICBwb3MgLT0gMWU1O1xuICAgICAgICAgICAgc2VjdGlvbk9yZGVyW3MubmFtZV0gPSBwb3M7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCB7IHNlY3Rpb24gfSA9IG9wdGlvbi5jb21wbGV0aW9uO1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24pXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNjb3JlICs9IHNlY3Rpb25PcmRlclt0eXBlb2Ygc2VjdGlvbiA9PSBcInN0cmluZ1wiID8gc2VjdGlvbiA6IHNlY3Rpb24ubmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFtdLCBwcmV2ID0gbnVsbDtcbiAgICBsZXQgY29tcGFyZSA9IGNvbmYuY29tcGFyZUNvbXBsZXRpb25zO1xuICAgIGZvciAobGV0IG9wdCBvZiBvcHRpb25zLnNvcnQoKGEsIGIpID0+IChiLnNjb3JlIC0gYS5zY29yZSkgfHwgY29tcGFyZShhLmNvbXBsZXRpb24sIGIuY29tcGxldGlvbikpKSB7XG4gICAgICAgIGxldCBjdXIgPSBvcHQuY29tcGxldGlvbjtcbiAgICAgICAgaWYgKCFwcmV2IHx8IHByZXYubGFiZWwgIT0gY3VyLmxhYmVsIHx8IHByZXYuZGV0YWlsICE9IGN1ci5kZXRhaWwgfHxcbiAgICAgICAgICAgIChwcmV2LnR5cGUgIT0gbnVsbCAmJiBjdXIudHlwZSAhPSBudWxsICYmIHByZXYudHlwZSAhPSBjdXIudHlwZSkgfHxcbiAgICAgICAgICAgIHByZXYuYXBwbHkgIT0gY3VyLmFwcGx5IHx8IHByZXYuYm9vc3QgIT0gY3VyLmJvb3N0KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gob3B0KTtcbiAgICAgICAgZWxzZSBpZiAoc2NvcmUob3B0LmNvbXBsZXRpb24pID4gc2NvcmUocHJldikpXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gb3B0O1xuICAgICAgICBwcmV2ID0gb3B0LmNvbXBsZXRpb247XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBDb21wbGV0aW9uRGlhbG9nIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBhdHRycywgdG9vbHRpcCwgdGltZXN0YW1wLCBzZWxlY3RlZCwgZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLnRvb2x0aXAgPSB0b29sdGlwO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICAgIHNldFNlbGVjdGVkKHNlbGVjdGVkLCBpZCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQgPT0gdGhpcy5zZWxlY3RlZCB8fCBzZWxlY3RlZCA+PSB0aGlzLm9wdGlvbnMubGVuZ3RoID8gdGhpc1xuICAgICAgICAgICAgOiBuZXcgQ29tcGxldGlvbkRpYWxvZyh0aGlzLm9wdGlvbnMsIG1ha2VBdHRycyhpZCwgc2VsZWN0ZWQpLCB0aGlzLnRvb2x0aXAsIHRoaXMudGltZXN0YW1wLCBzZWxlY3RlZCwgdGhpcy5kaXNhYmxlZCk7XG4gICAgfVxuICAgIHN0YXRpYyBidWlsZChhY3RpdmUsIHN0YXRlLCBpZCwgcHJldiwgY29uZiwgZGlkU2V0QWN0aXZlKSB7XG4gICAgICAgIGlmIChwcmV2ICYmICFkaWRTZXRBY3RpdmUgJiYgYWN0aXZlLnNvbWUocyA9PiBzLmlzUGVuZGluZykpXG4gICAgICAgICAgICByZXR1cm4gcHJldi5zZXREaXNhYmxlZCgpO1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHNvcnRPcHRpb25zKGFjdGl2ZSwgc3RhdGUpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHByZXYgJiYgYWN0aXZlLnNvbWUoYSA9PiBhLmlzUGVuZGluZykgPyBwcmV2LnNldERpc2FibGVkKCkgOiBudWxsO1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5zZWxlY3RPbk9wZW4gPyAwIDogLTE7XG4gICAgICAgIGlmIChwcmV2ICYmIHByZXYuc2VsZWN0ZWQgIT0gc2VsZWN0ZWQgJiYgcHJldi5zZWxlY3RlZCAhPSAtMSkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWUgPSBwcmV2Lm9wdGlvbnNbcHJldi5zZWxlY3RlZF0uY29tcGxldGlvbjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1tpXS5jb21wbGV0aW9uID09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0aW9uRGlhbG9nKG9wdGlvbnMsIG1ha2VBdHRycyhpZCwgc2VsZWN0ZWQpLCB7XG4gICAgICAgICAgICBwb3M6IGFjdGl2ZS5yZWR1Y2UoKGEsIGIpID0+IGIuaGFzUmVzdWx0KCkgPyBNYXRoLm1pbihhLCBiLmZyb20pIDogYSwgMWU4KSxcbiAgICAgICAgICAgIGNyZWF0ZTogY3JlYXRlVG9vbHRpcCxcbiAgICAgICAgICAgIGFib3ZlOiBjb25mLmFib3ZlQ3Vyc29yLFxuICAgICAgICB9LCBwcmV2ID8gcHJldi50aW1lc3RhbXAgOiBEYXRlLm5vdygpLCBzZWxlY3RlZCwgZmFsc2UpO1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXRpb25EaWFsb2codGhpcy5vcHRpb25zLCB0aGlzLmF0dHJzLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMudG9vbHRpcCksIHsgcG9zOiBjaGFuZ2VzLm1hcFBvcyh0aGlzLnRvb2x0aXAucG9zKSB9KSwgdGhpcy50aW1lc3RhbXAsIHRoaXMuc2VsZWN0ZWQsIHRoaXMuZGlzYWJsZWQpO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0aW9uRGlhbG9nKHRoaXMub3B0aW9ucywgdGhpcy5hdHRycywgdGhpcy50b29sdGlwLCB0aGlzLnRpbWVzdGFtcCwgdGhpcy5zZWxlY3RlZCwgdHJ1ZSk7XG4gICAgfVxufVxuY2xhc3MgQ29tcGxldGlvblN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihhY3RpdmUsIGlkLCBvcGVuKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3BlbiA9IG9wZW47XG4gICAgfVxuICAgIHN0YXRpYyBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0aW9uU3RhdGUobm9uZSwgXCJjbS1hYy1cIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDJlNikudG9TdHJpbmcoMzYpLCBudWxsKTtcbiAgICB9XG4gICAgdXBkYXRlKHRyKSB7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0ciwgY29uZiA9IHN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpO1xuICAgICAgICBsZXQgc291cmNlcyA9IGNvbmYub3ZlcnJpZGUgfHxcbiAgICAgICAgICAgIHN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiYXV0b2NvbXBsZXRlXCIsIGN1cihzdGF0ZSkpLm1hcChhc1NvdXJjZSk7XG4gICAgICAgIGxldCBhY3RpdmUgPSBzb3VyY2VzLm1hcChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5hY3RpdmUuZmluZChzID0+IHMuc291cmNlID09IHNvdXJjZSkgfHxcbiAgICAgICAgICAgICAgICBuZXcgQWN0aXZlU291cmNlKHNvdXJjZSwgdGhpcy5hY3RpdmUuc29tZShhID0+IGEuc3RhdGUgIT0gMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLykgPyAxIC8qIFN0YXRlLlBlbmRpbmcgKi8gOiAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFjdGl2ZS5sZW5ndGggPT0gdGhpcy5hY3RpdmUubGVuZ3RoICYmIGFjdGl2ZS5ldmVyeSgoYSwgaSkgPT4gYSA9PSB0aGlzLmFjdGl2ZVtpXSkpXG4gICAgICAgICAgICBhY3RpdmUgPSB0aGlzLmFjdGl2ZTtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLm9wZW4sIGRpZFNldCA9IHRyLmVmZmVjdHMuc29tZShlID0+IGUuaXMoc2V0QWN0aXZlRWZmZWN0KSk7XG4gICAgICAgIGlmIChvcGVuICYmIHRyLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICBvcGVuID0gb3Blbi5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24gfHwgYWN0aXZlLnNvbWUoYSA9PiBhLmhhc1Jlc3VsdCgpICYmIHRyLmNoYW5nZXMudG91Y2hlc1JhbmdlKGEuZnJvbSwgYS50bykpIHx8XG4gICAgICAgICAgICAhc2FtZVJlc3VsdHMoYWN0aXZlLCB0aGlzLmFjdGl2ZSkgfHwgZGlkU2V0KVxuICAgICAgICAgICAgb3BlbiA9IENvbXBsZXRpb25EaWFsb2cuYnVpbGQoYWN0aXZlLCBzdGF0ZSwgdGhpcy5pZCwgb3BlbiwgY29uZiwgZGlkU2V0KTtcbiAgICAgICAgZWxzZSBpZiAob3BlbiAmJiBvcGVuLmRpc2FibGVkICYmICFhY3RpdmUuc29tZShhID0+IGEuaXNQZW5kaW5nKSlcbiAgICAgICAgICAgIG9wZW4gPSBudWxsO1xuICAgICAgICBpZiAoIW9wZW4gJiYgYWN0aXZlLmV2ZXJ5KGEgPT4gIWEuaXNQZW5kaW5nKSAmJiBhY3RpdmUuc29tZShhID0+IGEuaGFzUmVzdWx0KCkpKVxuICAgICAgICAgICAgYWN0aXZlID0gYWN0aXZlLm1hcChhID0+IGEuaGFzUmVzdWx0KCkgPyBuZXcgQWN0aXZlU291cmNlKGEuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKSA6IGEpO1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0U2VsZWN0ZWRFZmZlY3QpKVxuICAgICAgICAgICAgICAgIG9wZW4gPSBvcGVuICYmIG9wZW4uc2V0U2VsZWN0ZWQoZWZmZWN0LnZhbHVlLCB0aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZSA9PSB0aGlzLmFjdGl2ZSAmJiBvcGVuID09IHRoaXMub3BlbiA/IHRoaXMgOiBuZXcgQ29tcGxldGlvblN0YXRlKGFjdGl2ZSwgdGhpcy5pZCwgb3Blbik7XG4gICAgfVxuICAgIGdldCB0b29sdGlwKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLnRvb2x0aXAgOiBudWxsOyB9XG4gICAgZ2V0IGF0dHJzKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLmF0dHJzIDogdGhpcy5hY3RpdmUubGVuZ3RoID8gYmFzZUF0dHJzIDogbm9BdHRyczsgfVxufVxuZnVuY3Rpb24gc2FtZVJlc3VsdHMoYSwgYikge1xuICAgIGlmIChhID09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAobGV0IGlBID0gMCwgaUIgPSAwOzspIHtcbiAgICAgICAgd2hpbGUgKGlBIDwgYS5sZW5ndGggJiYgIWFbaUFdLmhhc1Jlc3VsdCgpKVxuICAgICAgICAgICAgaUErKztcbiAgICAgICAgd2hpbGUgKGlCIDwgYi5sZW5ndGggJiYgIWJbaUJdLmhhc1Jlc3VsdCgpKVxuICAgICAgICAgICAgaUIrKztcbiAgICAgICAgbGV0IGVuZEEgPSBpQSA9PSBhLmxlbmd0aCwgZW5kQiA9IGlCID09IGIubGVuZ3RoO1xuICAgICAgICBpZiAoZW5kQSB8fCBlbmRCKVxuICAgICAgICAgICAgcmV0dXJuIGVuZEEgPT0gZW5kQjtcbiAgICAgICAgaWYgKGFbaUErK10ucmVzdWx0ICE9IGJbaUIrK10ucmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmNvbnN0IGJhc2VBdHRycyA9IHtcbiAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibGlzdFwiXG59O1xuY29uc3Qgbm9BdHRycyA9IHt9O1xuZnVuY3Rpb24gbWFrZUF0dHJzKGlkLCBzZWxlY3RlZCkge1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCIsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGlkXG4gICAgfTtcbiAgICBpZiAoc2VsZWN0ZWQgPiAtMSlcbiAgICAgICAgcmVzdWx0W1wiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCJdID0gaWQgKyBcIi1cIiArIHNlbGVjdGVkO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBub25lID0gW107XG5mdW5jdGlvbiBnZXRVcGRhdGVUeXBlKHRyLCBjb25mKSB7XG4gICAgaWYgKHRyLmlzVXNlckV2ZW50KFwiaW5wdXQuY29tcGxldGVcIikpIHtcbiAgICAgICAgbGV0IGNvbXBsZXRpb24gPSB0ci5hbm5vdGF0aW9uKHBpY2tlZENvbXBsZXRpb24pO1xuICAgICAgICBpZiAoY29tcGxldGlvbiAmJiBjb25mLmFjdGl2YXRlT25Db21wbGV0aW9uKGNvbXBsZXRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIDQgLyogVXBkYXRlVHlwZS5BY3RpdmF0ZSAqLyB8IDggLyogVXBkYXRlVHlwZS5SZXNldCAqLztcbiAgICB9XG4gICAgbGV0IHR5cGluZyA9IHRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKTtcbiAgICByZXR1cm4gdHlwaW5nICYmIGNvbmYuYWN0aXZhdGVPblR5cGluZyA/IDQgLyogVXBkYXRlVHlwZS5BY3RpdmF0ZSAqLyB8IDEgLyogVXBkYXRlVHlwZS5UeXBpbmcgKi9cbiAgICAgICAgOiB0eXBpbmcgPyAxIC8qIFVwZGF0ZVR5cGUuVHlwaW5nICovXG4gICAgICAgICAgICA6IHRyLmlzVXNlckV2ZW50KFwiZGVsZXRlLmJhY2t3YXJkXCIpID8gMiAvKiBVcGRhdGVUeXBlLkJhY2tzcGFjaW5nICovXG4gICAgICAgICAgICAgICAgOiB0ci5zZWxlY3Rpb24gPyA4IC8qIFVwZGF0ZVR5cGUuUmVzZXQgKi9cbiAgICAgICAgICAgICAgICAgICAgOiB0ci5kb2NDaGFuZ2VkID8gMTYgLyogVXBkYXRlVHlwZS5SZXNldElmVG91Y2hpbmcgKi8gOiAwIC8qIFVwZGF0ZVR5cGUuTm9uZSAqLztcbn1cbmNsYXNzIEFjdGl2ZVNvdXJjZSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBzdGF0ZSwgZXhwbGljaXQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmV4cGxpY2l0ID0gZXhwbGljaXQ7XG4gICAgfVxuICAgIGhhc1Jlc3VsdCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGlzUGVuZGluZygpIHsgcmV0dXJuIHRoaXMuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovOyB9XG4gICAgdXBkYXRlKHRyLCBjb25mKSB7XG4gICAgICAgIGxldCB0eXBlID0gZ2V0VXBkYXRlVHlwZSh0ciwgY29uZiksIHZhbHVlID0gdGhpcztcbiAgICAgICAgaWYgKCh0eXBlICYgOCAvKiBVcGRhdGVUeXBlLlJlc2V0ICovKSB8fCAodHlwZSAmIDE2IC8qIFVwZGF0ZVR5cGUuUmVzZXRJZlRvdWNoaW5nICovKSAmJiB0aGlzLnRvdWNoZXModHIpKVxuICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLyk7XG4gICAgICAgIGlmICgodHlwZSAmIDQgLyogVXBkYXRlVHlwZS5BY3RpdmF0ZSAqLykgJiYgdmFsdWUuc3RhdGUgPT0gMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLylcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IEFjdGl2ZVNvdXJjZSh0aGlzLnNvdXJjZSwgMSAvKiBTdGF0ZS5QZW5kaW5nICovKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS51cGRhdGVGb3IodHIsIHR5cGUpO1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzdGFydENvbXBsZXRpb25FZmZlY3QpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IEFjdGl2ZVNvdXJjZSh2YWx1ZS5zb3VyY2UsIDEgLyogU3RhdGUuUGVuZGluZyAqLywgZWZmZWN0LnZhbHVlKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyhjbG9zZUNvbXBsZXRpb25FZmZlY3QpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IEFjdGl2ZVNvdXJjZSh2YWx1ZS5zb3VyY2UsIDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pO1xuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKHNldEFjdGl2ZUVmZmVjdCkpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYWN0aXZlIG9mIGVmZmVjdC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZS5zb3VyY2UgPT0gdmFsdWUuc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhY3RpdmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB1cGRhdGVGb3IodHIsIHR5cGUpIHsgcmV0dXJuIHRoaXMubWFwKHRyLmNoYW5nZXMpOyB9XG4gICAgbWFwKGNoYW5nZXMpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB0b3VjaGVzKHRyKSB7XG4gICAgICAgIHJldHVybiB0ci5jaGFuZ2VzLnRvdWNoZXNSYW5nZShjdXIodHIuc3RhdGUpKTtcbiAgICB9XG59XG5jbGFzcyBBY3RpdmVSZXN1bHQgZXh0ZW5kcyBBY3RpdmVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgZXhwbGljaXQsIGxpbWl0LCByZXN1bHQsIGZyb20sIHRvKSB7XG4gICAgICAgIHN1cGVyKHNvdXJjZSwgMyAvKiBTdGF0ZS5SZXN1bHQgKi8sIGV4cGxpY2l0KTtcbiAgICAgICAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBoYXNSZXN1bHQoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgdXBkYXRlRm9yKHRyLCB0eXBlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCEodHlwZSAmIDMgLyogVXBkYXRlVHlwZS5TaW1wbGVJbnRlcmFjdGlvbiAqLykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgaWYgKHJlc3VsdC5tYXAgJiYgIXRyLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKHJlc3VsdCwgdHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCBmcm9tID0gdHIuY2hhbmdlcy5tYXBQb3ModGhpcy5mcm9tKSwgdG8gPSB0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLnRvLCAxKTtcbiAgICAgICAgbGV0IHBvcyA9IGN1cih0ci5zdGF0ZSk7XG4gICAgICAgIGlmIChwb3MgPiB0byB8fCAhcmVzdWx0IHx8XG4gICAgICAgICAgICAodHlwZSAmIDIgLyogVXBkYXRlVHlwZS5CYWNrc3BhY2luZyAqLykgJiYgKGN1cih0ci5zdGFydFN0YXRlKSA9PSB0aGlzLmZyb20gfHwgcG9zIDwgdGhpcy5saW1pdCkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVNvdXJjZSh0aGlzLnNvdXJjZSwgdHlwZSAmIDQgLyogVXBkYXRlVHlwZS5BY3RpdmF0ZSAqLyA/IDEgLyogU3RhdGUuUGVuZGluZyAqLyA6IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pO1xuICAgICAgICBsZXQgbGltaXQgPSB0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmxpbWl0KTtcbiAgICAgICAgaWYgKGNoZWNrVmFsaWQocmVzdWx0LnZhbGlkRm9yLCB0ci5zdGF0ZSwgZnJvbSwgdG8pKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVSZXN1bHQodGhpcy5zb3VyY2UsIHRoaXMuZXhwbGljaXQsIGxpbWl0LCByZXN1bHQsIGZyb20sIHRvKTtcbiAgICAgICAgaWYgKHJlc3VsdC51cGRhdGUgJiZcbiAgICAgICAgICAgIChyZXN1bHQgPSByZXN1bHQudXBkYXRlKHJlc3VsdCwgZnJvbSwgdG8sIG5ldyBDb21wbGV0aW9uQ29udGV4dCh0ci5zdGF0ZSwgcG9zLCBmYWxzZSkpKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlUmVzdWx0KHRoaXMuc291cmNlLCB0aGlzLmV4cGxpY2l0LCBsaW1pdCwgcmVzdWx0LCByZXN1bHQuZnJvbSwgKF9hID0gcmVzdWx0LnRvKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjdXIodHIuc3RhdGUpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDEgLyogU3RhdGUuUGVuZGluZyAqLywgdGhpcy5leHBsaWNpdCk7XG4gICAgfVxuICAgIG1hcChtYXBwaW5nKSB7XG4gICAgICAgIGlmIChtYXBwaW5nLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnJlc3VsdC5tYXAgPyB0aGlzLnJlc3VsdC5tYXAodGhpcy5yZXN1bHQsIG1hcHBpbmcpIDogdGhpcy5yZXN1bHQ7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pO1xuICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVJlc3VsdCh0aGlzLnNvdXJjZSwgdGhpcy5leHBsaWNpdCwgbWFwcGluZy5tYXBQb3ModGhpcy5saW1pdCksIHRoaXMucmVzdWx0LCBtYXBwaW5nLm1hcFBvcyh0aGlzLmZyb20pLCBtYXBwaW5nLm1hcFBvcyh0aGlzLnRvLCAxKSk7XG4gICAgfVxuICAgIHRvdWNoZXModHIpIHtcbiAgICAgICAgcmV0dXJuIHRyLmNoYW5nZXMudG91Y2hlc1JhbmdlKHRoaXMuZnJvbSwgdGhpcy50byk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tWYWxpZCh2YWxpZEZvciwgc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgaWYgKCF2YWxpZEZvcilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB0ZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pO1xuICAgIHJldHVybiB0eXBlb2YgdmFsaWRGb3IgPT0gXCJmdW5jdGlvblwiID8gdmFsaWRGb3IodGV4dCwgZnJvbSwgdG8sIHN0YXRlKSA6IGVuc3VyZUFuY2hvcih2YWxpZEZvciwgdHJ1ZSkudGVzdCh0ZXh0KTtcbn1cbmNvbnN0IHNldEFjdGl2ZUVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcChzb3VyY2VzLCBtYXBwaW5nKSB7IHJldHVybiBzb3VyY2VzLm1hcChzID0+IHMubWFwKG1hcHBpbmcpKTsgfVxufSk7XG5jb25zdCBzZXRTZWxlY3RlZEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGNvbXBsZXRpb25TdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gQ29tcGxldGlvblN0YXRlLnN0YXJ0KCk7IH0sXG4gICAgdXBkYXRlKHZhbHVlLCB0cikgeyByZXR1cm4gdmFsdWUudXBkYXRlKHRyKTsgfSxcbiAgICBwcm92aWRlOiBmID0+IFtcbiAgICAgICAgc2hvd1Rvb2x0aXAuZnJvbShmLCB2YWwgPT4gdmFsLnRvb2x0aXApLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLmZyb20oZiwgc3RhdGUgPT4gc3RhdGUuYXR0cnMpXG4gICAgXVxufSk7XG5mdW5jdGlvbiBhcHBseUNvbXBsZXRpb24odmlldywgb3B0aW9uKSB7XG4gICAgY29uc3QgYXBwbHkgPSBvcHRpb24uY29tcGxldGlvbi5hcHBseSB8fCBvcHRpb24uY29tcGxldGlvbi5sYWJlbDtcbiAgICBsZXQgcmVzdWx0ID0gdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUpLmFjdGl2ZS5maW5kKGEgPT4gYS5zb3VyY2UgPT0gb3B0aW9uLnNvdXJjZSk7XG4gICAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgQWN0aXZlUmVzdWx0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgYXBwbHkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgdmlldy5kaXNwYXRjaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluc2VydENvbXBsZXRpb25UZXh0KHZpZXcuc3RhdGUsIGFwcGx5LCByZXN1bHQuZnJvbSwgcmVzdWx0LnRvKSksIHsgYW5ub3RhdGlvbnM6IHBpY2tlZENvbXBsZXRpb24ub2Yob3B0aW9uLmNvbXBsZXRpb24pIH0pKTtcbiAgICBlbHNlXG4gICAgICAgIGFwcGx5KHZpZXcsIG9wdGlvbi5jb21wbGV0aW9uLCByZXN1bHQuZnJvbSwgcmVzdWx0LnRvKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IGNyZWF0ZVRvb2x0aXAgPSAvKkBfX1BVUkVfXyovY29tcGxldGlvblRvb2x0aXAoY29tcGxldGlvblN0YXRlLCBhcHBseUNvbXBsZXRpb24pO1xuXG4vKipcblJldHVybnMgYSBjb21tYW5kIHRoYXQgbW92ZXMgdGhlIGNvbXBsZXRpb24gc2VsZWN0aW9uIGZvcndhcmQgb3JcbmJhY2t3YXJkIGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4qL1xuZnVuY3Rpb24gbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24oZm9yd2FyZCwgYnkgPSBcIm9wdGlvblwiKSB7XG4gICAgcmV0dXJuICh2aWV3KSA9PiB7XG4gICAgICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgICAgICBpZiAoIWNTdGF0ZSB8fCAhY1N0YXRlLm9wZW4gfHwgY1N0YXRlLm9wZW4uZGlzYWJsZWQgfHxcbiAgICAgICAgICAgIERhdGUubm93KCkgLSBjU3RhdGUub3Blbi50aW1lc3RhbXAgPCB2aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLmludGVyYWN0aW9uRGVsYXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBzdGVwID0gMSwgdG9vbHRpcDtcbiAgICAgICAgaWYgKGJ5ID09IFwicGFnZVwiICYmICh0b29sdGlwID0gZ2V0VG9vbHRpcCh2aWV3LCBjU3RhdGUub3Blbi50b29sdGlwKSkpXG4gICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoMiwgTWF0aC5mbG9vcih0b29sdGlwLmRvbS5vZmZzZXRIZWlnaHQgL1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuZG9tLnF1ZXJ5U2VsZWN0b3IoXCJsaVwiKS5vZmZzZXRIZWlnaHQpIC0gMSk7XG4gICAgICAgIGxldCB7IGxlbmd0aCB9ID0gY1N0YXRlLm9wZW4ub3B0aW9ucztcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gY1N0YXRlLm9wZW4uc2VsZWN0ZWQgPiAtMSA/IGNTdGF0ZS5vcGVuLnNlbGVjdGVkICsgc3RlcCAqIChmb3J3YXJkID8gMSA6IC0xKSA6IGZvcndhcmQgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKHNlbGVjdGVkIDwgMClcbiAgICAgICAgICAgIHNlbGVjdGVkID0gYnkgPT0gXCJwYWdlXCIgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWQgPj0gbGVuZ3RoKVxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBieSA9PSBcInBhZ2VcIiA/IGxlbmd0aCAtIDEgOiAwO1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc2V0U2VsZWN0ZWRFZmZlY3Qub2Yoc2VsZWN0ZWQpIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5BY2NlcHQgdGhlIGN1cnJlbnQgY29tcGxldGlvbi5cbiovXG5jb25zdCBhY2NlcHRDb21wbGV0aW9uID0gKHZpZXcpID0+IHtcbiAgICBsZXQgY1N0YXRlID0gdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSB8fCAhY1N0YXRlIHx8ICFjU3RhdGUub3BlbiB8fCBjU3RhdGUub3Blbi5zZWxlY3RlZCA8IDAgfHwgY1N0YXRlLm9wZW4uZGlzYWJsZWQgfHxcbiAgICAgICAgRGF0ZS5ub3coKSAtIGNTdGF0ZS5vcGVuLnRpbWVzdGFtcCA8IHZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykuaW50ZXJhY3Rpb25EZWxheSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBhcHBseUNvbXBsZXRpb24odmlldywgY1N0YXRlLm9wZW4ub3B0aW9uc1tjU3RhdGUub3Blbi5zZWxlY3RlZF0pO1xufTtcbi8qKlxuRXhwbGljaXRseSBzdGFydCBhdXRvY29tcGxldGlvbi5cbiovXG5jb25zdCBzdGFydENvbXBsZXRpb24gPSAodmlldykgPT4ge1xuICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghY1N0YXRlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHN0YXJ0Q29tcGxldGlvbkVmZmVjdC5vZih0cnVlKSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkNsb3NlIHRoZSBjdXJyZW50bHkgYWN0aXZlIGNvbXBsZXRpb24uXG4qL1xuY29uc3QgY2xvc2VDb21wbGV0aW9uID0gKHZpZXcpID0+IHtcbiAgICBsZXQgY1N0YXRlID0gdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoIWNTdGF0ZSB8fCAhY1N0YXRlLmFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSAhPSAwIC8qIFN0YXRlLkluYWN0aXZlICovKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBjbG9zZUNvbXBsZXRpb25FZmZlY3Qub2YobnVsbCkgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuY2xhc3MgUnVubmluZ1F1ZXJ5IHtcbiAgICBjb25zdHJ1Y3RvcihhY3RpdmUsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudXBkYXRlcyA9IFtdO1xuICAgICAgICAvLyBOb3RlIHRoYXQgJ3VuZGVmaW5lZCcgbWVhbnMgJ25vdCBkb25lIHlldCcsIHdoZXJlYXMgJ251bGwnIG1lYW5zXG4gICAgICAgIC8vICdxdWVyeSByZXR1cm5lZCBudWxsJy5cbiAgICAgICAgdGhpcy5kb25lID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmNvbnN0IE1heFVwZGF0ZUNvdW50ID0gNTAsIE1pbkFib3J0VGltZSA9IDEwMDA7XG5jb25zdCBjb21wbGV0aW9uUGx1Z2luID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuZGVib3VuY2VVcGRhdGUgPSAtMTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gW107XG4gICAgICAgIHRoaXMuZGVib3VuY2VBY2NlcHQgPSAtMTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAwIC8qIENvbXBvc2l0aW9uU3RhdGUuTm9uZSAqLztcbiAgICAgICAgZm9yIChsZXQgYWN0aXZlIG9mIHZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKS5hY3RpdmUpXG4gICAgICAgICAgICBpZiAoYWN0aXZlLmlzUGVuZGluZylcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UXVlcnkoYWN0aXZlKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgY1N0YXRlID0gdXBkYXRlLnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSk7XG4gICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpO1xuICAgICAgICBpZiAoIXVwZGF0ZS5zZWxlY3Rpb25TZXQgJiYgIXVwZGF0ZS5kb2NDaGFuZ2VkICYmIHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSkgPT0gY1N0YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgZG9lc1Jlc2V0ID0gdXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHtcbiAgICAgICAgICAgIGxldCB0eXBlID0gZ2V0VXBkYXRlVHlwZSh0ciwgY29uZik7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgJiA4IC8qIFVwZGF0ZVR5cGUuUmVzZXQgKi8pIHx8ICh0ci5zZWxlY3Rpb24gfHwgdHIuZG9jQ2hhbmdlZCkgJiYgISh0eXBlICYgMyAvKiBVcGRhdGVUeXBlLlNpbXBsZUludGVyYWN0aW9uICovKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydW5uaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLnJ1bm5pbmdbaV07XG4gICAgICAgICAgICBpZiAoZG9lc1Jlc2V0IHx8XG4gICAgICAgICAgICAgICAgcXVlcnkuY29udGV4dC5hYm9ydE9uRG9jQ2hhbmdlICYmIHVwZGF0ZS5kb2NDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgcXVlcnkudXBkYXRlcy5sZW5ndGggKyB1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aCA+IE1heFVwZGF0ZUNvdW50ICYmIERhdGUubm93KCkgLSBxdWVyeS50aW1lID4gTWluQWJvcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBxdWVyeS5jb250ZXh0LmFib3J0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXJ5LmNvbnRleHQuYWJvcnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnVwZGF0ZXMucHVzaCguLi51cGRhdGUudHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJvdW5jZVVwZGF0ZSA+IC0xKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VVcGRhdGUpO1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLmVmZmVjdHMuc29tZShlID0+IGUuaXMoc3RhcnRDb21wbGV0aW9uRWZmZWN0KSkpKVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhcnQgPSB0cnVlO1xuICAgICAgICBsZXQgZGVsYXkgPSB0aGlzLnBlbmRpbmdTdGFydCA/IDUwIDogY29uZi5hY3RpdmF0ZU9uVHlwaW5nRGVsYXk7XG4gICAgICAgIHRoaXMuZGVib3VuY2VVcGRhdGUgPSBjU3RhdGUuYWN0aXZlLnNvbWUoYSA9PiBhLmlzUGVuZGluZyAmJiAhdGhpcy5ydW5uaW5nLnNvbWUocSA9PiBxLmFjdGl2ZS5zb3VyY2UgPT0gYS5zb3VyY2UpKVxuICAgICAgICAgICAgPyBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc3RhcnRVcGRhdGUoKSwgZGVsYXkpIDogLTE7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyAhPSAwIC8qIENvbXBvc2l0aW9uU3RhdGUuTm9uZSAqLylcbiAgICAgICAgICAgIGZvciAobGV0IHRyIG9mIHVwZGF0ZS50cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHIuaXNVc2VyRXZlbnQoXCJpbnB1dC50eXBlXCIpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDIgLyogQ29tcG9zaXRpb25TdGF0ZS5DaGFuZ2VkICovO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY29tcG9zaW5nID09IDIgLyogQ29tcG9zaXRpb25TdGF0ZS5DaGFuZ2VkICovICYmIHRyLnNlbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAzIC8qIENvbXBvc2l0aW9uU3RhdGUuQ2hhbmdlZEFuZE1vdmVkICovO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZVVwZGF0ZSA9IC0xO1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGFydCA9IGZhbHNlO1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdGhpcy52aWV3LCBjU3RhdGUgPSBzdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUpO1xuICAgICAgICBmb3IgKGxldCBhY3RpdmUgb2YgY1N0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZS5pc1BlbmRpbmcgJiYgIXRoaXMucnVubmluZy5zb21lKHIgPT4gci5hY3RpdmUuc291cmNlID09IGFjdGl2ZS5zb3VyY2UpKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRRdWVyeShhY3RpdmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcubGVuZ3RoICYmIGNTdGF0ZS5vcGVuICYmIGNTdGF0ZS5vcGVuLmRpc2FibGVkKVxuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hY2NlcHQoKSwgdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLnVwZGF0ZVN5bmNUaW1lKTtcbiAgICB9XG4gICAgc3RhcnRRdWVyeShhY3RpdmUpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHRoaXMudmlldywgcG9zID0gY3VyKHN0YXRlKTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBuZXcgQ29tcGxldGlvbkNvbnRleHQoc3RhdGUsIHBvcywgYWN0aXZlLmV4cGxpY2l0LCB0aGlzLnZpZXcpO1xuICAgICAgICBsZXQgcGVuZGluZyA9IG5ldyBSdW5uaW5nUXVlcnkoYWN0aXZlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5ydW5uaW5nLnB1c2gocGVuZGluZyk7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShhY3RpdmUuc291cmNlKGNvbnRleHQpKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAoIXBlbmRpbmcuY29udGV4dC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZy5kb25lID0gcmVzdWx0IHx8IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUFjY2VwdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogY2xvc2VDb21wbGV0aW9uRWZmZWN0Lm9mKG51bGwpIH0pO1xuICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMudmlldy5zdGF0ZSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNjaGVkdWxlQWNjZXB0KCkge1xuICAgICAgICBpZiAodGhpcy5ydW5uaW5nLmV2ZXJ5KHEgPT4gcS5kb25lICE9PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgdGhpcy5hY2NlcHQoKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJvdW5jZUFjY2VwdCA8IDApXG4gICAgICAgICAgICB0aGlzLmRlYm91bmNlQWNjZXB0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmFjY2VwdCgpLCB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykudXBkYXRlU3luY1RpbWUpO1xuICAgIH1cbiAgICAvLyBGb3IgZWFjaCBmaW5pc2hlZCBxdWVyeSBpbiB0aGlzLnJ1bm5pbmcsIHRyeSB0byBjcmVhdGUgYSByZXN1bHRcbiAgICAvLyBvciwgaWYgYXBwcm9wcmlhdGUsIHJlc3RhcnQgdGhlIHF1ZXJ5LlxuICAgIGFjY2VwdCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5kZWJvdW5jZUFjY2VwdCA+IC0xKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VBY2NlcHQpO1xuICAgICAgICB0aGlzLmRlYm91bmNlQWNjZXB0ID0gLTE7XG4gICAgICAgIGxldCB1cGRhdGVkID0gW107XG4gICAgICAgIGxldCBjb25mID0gdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLCBjU3RhdGUgPSB0aGlzLnZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IHRoaXMucnVubmluZ1tpXTtcbiAgICAgICAgICAgIGlmIChxdWVyeS5kb25lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICBpZiAocXVlcnkuZG9uZSkge1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBjdXIocXVlcnkudXBkYXRlcy5sZW5ndGggPyBxdWVyeS51cGRhdGVzWzBdLnN0YXJ0U3RhdGUgOiB0aGlzLnZpZXcuc3RhdGUpO1xuICAgICAgICAgICAgICAgIGxldCBsaW1pdCA9IE1hdGgubWluKHBvcywgcXVlcnkuZG9uZS5mcm9tICsgKHF1ZXJ5LmFjdGl2ZS5leHBsaWNpdCA/IDAgOiAxKSk7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGl2ZSA9IG5ldyBBY3RpdmVSZXN1bHQocXVlcnkuYWN0aXZlLnNvdXJjZSwgcXVlcnkuYWN0aXZlLmV4cGxpY2l0LCBsaW1pdCwgcXVlcnkuZG9uZSwgcXVlcnkuZG9uZS5mcm9tLCAoX2EgPSBxdWVyeS5kb25lLnRvKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwb3MpO1xuICAgICAgICAgICAgICAgIC8vIFJlcGxheSB0aGUgdHJhbnNhY3Rpb25zIHRoYXQgaGFwcGVuZWQgc2luY2UgdGhlIHN0YXJ0IG9mXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgYW5kIHNlZSBpZiB0aGF0IHByZXNlcnZlcyB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgcXVlcnkudXBkYXRlcylcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlID0gYWN0aXZlLnVwZGF0ZSh0ciwgY29uZik7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZS5oYXNSZXN1bHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLnB1c2goYWN0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBjU3RhdGUuYWN0aXZlLmZpbmQoYSA9PiBhLnNvdXJjZSA9PSBxdWVyeS5hY3RpdmUuc291cmNlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LmRvbmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGZhaWxlZC4gU2hvdWxkIGNsZWFyIHRoZSBwZW5kaW5nIHN0YXR1cyBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBoYXNuJ3QgYmVlbiByZS1zZXQgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aXZlID0gbmV3IEFjdGl2ZVNvdXJjZShxdWVyeS5hY3RpdmUuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgcXVlcnkudXBkYXRlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGFjdGl2ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZS5pc1BlbmRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLnB1c2goYWN0aXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyZWQgYnkgc3Vic2VxdWVudCB0cmFuc2FjdGlvbnMuIFJlc3RhcnQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRRdWVyeShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQubGVuZ3RoIHx8IGNTdGF0ZS5vcGVuICYmIGNTdGF0ZS5vcGVuLmRpc2FibGVkKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc2V0QWN0aXZlRWZmZWN0Lm9mKHVwZGF0ZWQpIH0pO1xuICAgIH1cbn0sIHtcbiAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgIGJsdXIoZXZlbnQpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMudmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS50b29sdGlwICYmIHRoaXMudmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5jbG9zZU9uQmx1cikge1xuICAgICAgICAgICAgICAgIGxldCBkaWFsb2cgPSBzdGF0ZS5vcGVuICYmIGdldFRvb2x0aXAodGhpcy52aWV3LCBzdGF0ZS5vcGVuLnRvb2x0aXApO1xuICAgICAgICAgICAgICAgIGlmICghZGlhbG9nIHx8ICFkaWFsb2cuZG9tLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGNsb3NlQ29tcGxldGlvbkVmZmVjdC5vZihudWxsKSB9KSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wb3NpdGlvbnN0YXJ0KCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAxIC8qIENvbXBvc2l0aW9uU3RhdGUuU3RhcnRlZCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgY29tcG9zaXRpb25lbmQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb3NpbmcgPT0gMyAvKiBDb21wb3NpdGlvblN0YXRlLkNoYW5nZWRBbmRNb3ZlZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIFNhZmFyaSBmaXJlcyBjb21wb3NpdGlvbmVuZCBldmVudHMgc3luY2hyb25vdXNseSwgcG9zc2libHlcbiAgICAgICAgICAgICAgICAvLyBmcm9tIGluc2lkZSBhbiB1cGRhdGUsIHNvIGRpc3BhdGNoIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJlZW50cmFuY3lcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHN0YXJ0Q29tcGxldGlvbkVmZmVjdC5vZihmYWxzZSkgfSksIDIwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gMCAvKiBDb21wb3NpdGlvblN0YXRlLk5vbmUgKi87XG4gICAgICAgIH1cbiAgICB9XG59KTtcbmNvbnN0IHdpbmRvd3MgPSB0eXBlb2YgbmF2aWdhdG9yID09IFwib2JqZWN0XCIgJiYgLypAX19QVVJFX18qLy9XaW4vLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcbmNvbnN0IGNvbW1pdENoYXJhY3RlcnMgPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoZXN0KC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmRvbUV2ZW50SGFuZGxlcnMoe1xuICAgIGtleWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgbGV0IGZpZWxkID0gdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICAgICAgaWYgKCFmaWVsZCB8fCAhZmllbGQub3BlbiB8fCBmaWVsZC5vcGVuLmRpc2FibGVkIHx8IGZpZWxkLm9wZW4uc2VsZWN0ZWQgPCAwIHx8XG4gICAgICAgICAgICBldmVudC5rZXkubGVuZ3RoID4gMSB8fCBldmVudC5jdHJsS2V5ICYmICEod2luZG93cyAmJiBldmVudC5hbHRLZXkpIHx8IGV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBvcHRpb24gPSBmaWVsZC5vcGVuLm9wdGlvbnNbZmllbGQub3Blbi5zZWxlY3RlZF07XG4gICAgICAgIGxldCByZXN1bHQgPSBmaWVsZC5hY3RpdmUuZmluZChhID0+IGEuc291cmNlID09IG9wdGlvbi5zb3VyY2UpO1xuICAgICAgICBsZXQgY29tbWl0Q2hhcnMgPSBvcHRpb24uY29tcGxldGlvbi5jb21taXRDaGFyYWN0ZXJzIHx8IHJlc3VsdC5yZXN1bHQuY29tbWl0Q2hhcmFjdGVycztcbiAgICAgICAgaWYgKGNvbW1pdENoYXJzICYmIGNvbW1pdENoYXJzLmluZGV4T2YoZXZlbnQua2V5KSA+IC0xKVxuICAgICAgICAgICAgYXBwbHlDb21wbGV0aW9uKHZpZXcsIG9wdGlvbik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59KSk7XG5cbmNvbnN0IGJhc2VUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tdG9vbHRpcC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZVwiOiB7XG4gICAgICAgIFwiJiA+IHVsXCI6IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuIGF1dG9cIixcbiAgICAgICAgICAgIG1heFdpZHRoX2ZhbGxiYWNrOiBcIjcwMHB4XCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogXCJtaW4oNzAwcHgsIDk1dncpXCIsXG4gICAgICAgICAgICBtaW5XaWR0aDogXCIyNTBweFwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjEwZW1cIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBsaXN0U3R5bGU6IFwibm9uZVwiLFxuICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIFwiJiA+IGxpLCAmID4gY29tcGxldGlvbi1zZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjFweCAzcHhcIixcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYgPiBsaVwiOiB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYgPiBjb21wbGV0aW9uLXNlY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibGlzdC1pdGVtXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCBzaWx2ZXJcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogXCIwLjVlbVwiLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuN1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tdG9vbHRpcC1hdXRvY29tcGxldGUgdWwgbGlbYXJpYS1zZWxlY3RlZF1cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMxN2NcIixcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZS1kaXNhYmxlZCB1bCBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzc3N1wiLFxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdG9vbHRpcC1hdXRvY29tcGxldGUgdWwgbGlbYXJpYS1zZWxlY3RlZF1cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMzNDdcIixcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlLWRpc2FibGVkIHVsIGxpW2FyaWEtc2VsZWN0ZWRdXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjNDQ0XCIsXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uTGlzdEluY29tcGxldGVUb3A6YmVmb3JlLCAuY20tY29tcGxldGlvbkxpc3RJbmNvbXBsZXRlQm90dG9tOmFmdGVyXCI6IHtcbiAgICAgICAgY29udGVudDogJ1wiXHUwMEI3XHUwMEI3XHUwMEI3XCInLFxuICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwLmNtLWNvbXBsZXRpb25JbmZvXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgcGFkZGluZzogXCIzcHggOXB4XCIsXG4gICAgICAgIHdpZHRoOiBcIm1heC1jb250ZW50XCIsXG4gICAgICAgIG1heFdpZHRoOiBgJHs0MDAgLyogSW5mby5XaWR0aCAqL31weGAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkluZm8uY20tY29tcGxldGlvbkluZm8tbGVmdFwiOiB7IHJpZ2h0OiBcIjEwMCVcIiB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JbmZvLmNtLWNvbXBsZXRpb25JbmZvLXJpZ2h0XCI6IHsgbGVmdDogXCIxMDAlXCIgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSW5mby5jbS1jb21wbGV0aW9uSW5mby1sZWZ0LW5hcnJvd1wiOiB7IHJpZ2h0OiBgJHszMCAvKiBJbmZvLk1hcmdpbiAqL31weGAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSW5mby5jbS1jb21wbGV0aW9uSW5mby1yaWdodC1uYXJyb3dcIjogeyBsZWZ0OiBgJHszMCAvKiBJbmZvLk1hcmdpbiAqL31weGAgfSxcbiAgICBcIiZsaWdodCAuY20tc25pcHBldEZpZWxkXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDAyMlwiIH0sXG4gICAgXCImZGFyayAuY20tc25pcHBldEZpZWxkXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZmZmYyMlwiIH0sXG4gICAgXCIuY20tc25pcHBldEZpZWxkUG9zaXRpb25cIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRleHQtdG9wXCIsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IFwiMS4xNWVtXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIG1hcmdpbjogXCIwIC0wLjdweCAtLjdlbVwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjEuNHB4IGRvdHRlZCAjODg4XCJcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25NYXRjaGVkVGV4dFwiOiB7XG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uRGV0YWlsXCI6IHtcbiAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVlbVwiLFxuICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCJcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiOTAlXCIsXG4gICAgICAgIHdpZHRoOiBcIi44ZW1cIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjZlbVwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuNlwiLFxuICAgICAgICBib3hTaXppbmc6IFwiY29udGVudC1ib3hcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tZnVuY3Rpb24sIC5jbS1jb21wbGV0aW9uSWNvbi1tZXRob2RcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTAxOTInXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tY2xhc3NcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTI1Q0InXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24taW50ZXJmYWNlXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHUyNUNDJ1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLXZhcmlhYmxlXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODM1XHVEQzY1J1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLWNvbnN0YW50XCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODM1XHVEQzM2J1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLXR5cGVcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdUQ4MzVcdURDNjEnXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tZW51bVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ1x1MjIyQSdcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1wcm9wZXJ0eVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ1x1MjVBMSdcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1rZXl3b3JkXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODNEXHVERDExXFx1RkUwRSdcIiB9IC8vIERpc2FibGUgZW1vamkgcmVuZGVyaW5nXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1uYW1lc3BhY2VcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTI1QTInXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tdGV4dFwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ2FiYydcIiwgZm9udFNpemU6IFwiNTAlXCIsIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIgfVxuICAgIH1cbn0pO1xuXG5jbGFzcyBGaWVsZFBvcyB7XG4gICAgY29uc3RydWN0b3IoZmllbGQsIGxpbmUsIGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbmNsYXNzIEZpZWxkUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkLCBmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyh0aGlzLmZyb20sIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgbGV0IHRvID0gY2hhbmdlcy5tYXBQb3ModGhpcy50bywgMSwgTWFwTW9kZS5UcmFja0RlbCk7XG4gICAgICAgIHJldHVybiBmcm9tID09IG51bGwgfHwgdG8gPT0gbnVsbCA/IG51bGwgOiBuZXcgRmllbGRSYW5nZSh0aGlzLmZpZWxkLCBmcm9tLCB0byk7XG4gICAgfVxufVxuY2xhc3MgU25pcHBldCB7XG4gICAgY29uc3RydWN0b3IobGluZXMsIGZpZWxkUG9zaXRpb25zKSB7XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5maWVsZFBvc2l0aW9ucyA9IGZpZWxkUG9zaXRpb25zO1xuICAgIH1cbiAgICBpbnN0YW50aWF0ZShzdGF0ZSwgcG9zKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gW10sIGxpbmVTdGFydCA9IFtwb3NdO1xuICAgICAgICBsZXQgbGluZU9iaiA9IHN0YXRlLmRvYy5saW5lQXQocG9zKSwgYmFzZUluZGVudCA9IC9eXFxzKi8uZXhlYyhsaW5lT2JqLnRleHQpWzBdO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMubGluZXMpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRlbnQgPSBiYXNlSW5kZW50LCB0YWJzID0gL15cXHQqLy5leGVjKGxpbmUpWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnM7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpO1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydC5wdXNoKHBvcyArIGluZGVudC5sZW5ndGggLSB0YWJzKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gaW5kZW50ICsgbGluZS5zbGljZSh0YWJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQucHVzaChsaW5lKTtcbiAgICAgICAgICAgIHBvcyArPSBsaW5lLmxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuZmllbGRQb3NpdGlvbnMubWFwKHBvcyA9PiBuZXcgRmllbGRSYW5nZShwb3MuZmllbGQsIGxpbmVTdGFydFtwb3MubGluZV0gKyBwb3MuZnJvbSwgbGluZVN0YXJ0W3Bvcy5saW5lXSArIHBvcy50bykpO1xuICAgICAgICByZXR1cm4geyB0ZXh0LCByYW5nZXMgfTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlKHRlbXBsYXRlKSB7XG4gICAgICAgIGxldCBmaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IGxpbmVzID0gW10sIHBvc2l0aW9ucyA9IFtdLCBtO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRlbXBsYXRlLnNwbGl0KC9cXHJcXG4/fFxcbi8pKSB7XG4gICAgICAgICAgICB3aGlsZSAobSA9IC9bIyRdXFx7KD86KFxcZCspKD86OihbXn1dKikpP3woKD86XFxcXFt7fV18W159XSkqKSlcXH0vLmV4ZWMobGluZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VxID0gbVsxXSA/ICttWzFdIDogbnVsbCwgcmF3TmFtZSA9IG1bMl0gfHwgbVszXSB8fCBcIlwiLCBmb3VuZCA9IC0xO1xuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gcmF3TmFtZS5yZXBsYWNlKC9cXFxcW3t9XS9nLCBtID0+IG1bMV0pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXEgIT0gbnVsbCA/IGZpZWxkc1tpXS5zZXEgPT0gc2VxIDogbmFtZSA/IGZpZWxkc1tpXS5uYW1lID09IG5hbWUgOiBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgZmllbGRzLmxlbmd0aCAmJiAoc2VxID09IG51bGwgfHwgKGZpZWxkc1tpXS5zZXEgIT0gbnVsbCAmJiBmaWVsZHNbaV0uc2VxIDwgc2VxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcy5zcGxpY2UoaSwgMCwgeyBzZXEsIG5hbWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zIG9mIHBvc2l0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MuZmllbGQgPj0gZm91bmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmZpZWxkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKG5ldyBGaWVsZFBvcyhmb3VuZCwgbGluZXMubGVuZ3RoLCBtLmluZGV4LCBtLmluZGV4ICsgbmFtZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zbGljZSgwLCBtLmluZGV4KSArIHJhd05hbWUgKyBsaW5lLnNsaWNlKG0uaW5kZXggKyBtWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lID0gbGluZS5yZXBsYWNlKC9cXFxcKFt7fV0pL2csIChfLCBicmFjZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3Mgb2YgcG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zLmxpbmUgPT0gbGluZXMubGVuZ3RoICYmIHBvcy5mcm9tID4gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcy5mcm9tLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MudG8tLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBicmFjZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNuaXBwZXQobGluZXMsIHBvc2l0aW9ucyk7XG4gICAgfVxufVxubGV0IGZpZWxkTWFya2VyID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ud2lkZ2V0KHsgd2lkZ2V0OiAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgICAgIHRvRE9NKCkge1xuICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJjbS1zbmlwcGV0RmllbGRQb3NpdGlvblwiO1xuICAgICAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgICAgIH1cbiAgICAgICAgaWdub3JlRXZlbnQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIH0gfSk7XG5sZXQgZmllbGRSYW5nZSA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1zbmlwcGV0RmllbGRcIiB9KTtcbmNsYXNzIEFjdGl2ZVNuaXBwZXQge1xuICAgIGNvbnN0cnVjdG9yKHJhbmdlcywgYWN0aXZlKSB7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgdGhpcy5kZWNvID0gRGVjb3JhdGlvbi5zZXQocmFuZ2VzLm1hcChyID0+IChyLmZyb20gPT0gci50byA/IGZpZWxkTWFya2VyIDogZmllbGRSYW5nZSkucmFuZ2Uoci5mcm9tLCByLnRvKSkpO1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHIgb2YgdGhpcy5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBtYXBwZWQgPSByLm1hcChjaGFuZ2VzKTtcbiAgICAgICAgICAgIGlmICghbWFwcGVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobWFwcGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVNuaXBwZXQocmFuZ2VzLCB0aGlzLmFjdGl2ZSk7XG4gICAgfVxuICAgIHNlbGVjdGlvbkluc2lkZUZpZWxkKHNlbCkge1xuICAgICAgICByZXR1cm4gc2VsLnJhbmdlcy5ldmVyeShyYW5nZSA9PiB0aGlzLnJhbmdlcy5zb21lKHIgPT4gci5maWVsZCA9PSB0aGlzLmFjdGl2ZSAmJiByLmZyb20gPD0gcmFuZ2UuZnJvbSAmJiByLnRvID49IHJhbmdlLnRvKSk7XG4gICAgfVxufVxuY29uc3Qgc2V0QWN0aXZlID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHZhbHVlLCBjaGFuZ2VzKSB7IHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5tYXAoY2hhbmdlcyk7IH1cbn0pO1xuY29uc3QgbW92ZVRvRmllbGQgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5jb25zdCBzbmlwcGV0U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgdXBkYXRlKHZhbHVlLCB0cikge1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzZXRBY3RpdmUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKG1vdmVUb0ZpZWxkKSAmJiB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVNuaXBwZXQodmFsdWUucmFuZ2VzLCBlZmZlY3QudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0ci5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0ci5zZWxlY3Rpb24gJiYgIXZhbHVlLnNlbGVjdGlvbkluc2lkZUZpZWxkKHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5mcm9tKGYsIHZhbCA9PiB2YWwgPyB2YWwuZGVjbyA6IERlY29yYXRpb24ubm9uZSlcbn0pO1xuZnVuY3Rpb24gZmllbGRTZWxlY3Rpb24ocmFuZ2VzLCBmaWVsZCkge1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcy5maWx0ZXIociA9PiByLmZpZWxkID09IGZpZWxkKS5tYXAociA9PiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2Uoci5mcm9tLCByLnRvKSkpO1xufVxuLyoqXG5Db252ZXJ0IGEgc25pcHBldCB0ZW1wbGF0ZSB0byBhIGZ1bmN0aW9uIHRoYXQgY2FuXG5bYXBwbHldKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLkNvbXBsZXRpb24uYXBwbHkpIGl0LiBTbmlwcGV0cyBhcmUgd3JpdHRlblxudXNpbmcgc3ludGF4IGxpa2UgdGhpczpcblxuICAgIFwiZm9yIChsZXQgJHtpbmRleH0gPSAwOyAke2luZGV4fSA8ICR7ZW5kfTsgJHtpbmRleH0rKykge1xcblxcdCR7fVxcbn1cIlxuXG5FYWNoIGAke31gIHBsYWNlaG9sZGVyICh5b3UgbWF5IGFsc28gdXNlIGAje31gKSBpbmRpY2F0ZXMgYSBmaWVsZFxudGhhdCB0aGUgdXNlciBjYW4gZmlsbCBpbi4gSXRzIG5hbWUsIGlmIGFueSwgd2lsbCBiZSB0aGUgZGVmYXVsdFxuY29udGVudCBmb3IgdGhlIGZpZWxkLlxuXG5XaGVuIHRoZSBzbmlwcGV0IGlzIGFjdGl2YXRlZCBieSBjYWxsaW5nIHRoZSByZXR1cm5lZCBmdW5jdGlvbixcbnRoZSBjb2RlIGlzIGluc2VydGVkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi4gTmV3bGluZXMgaW4gdGhlXG50ZW1wbGF0ZSBhcmUgaW5kZW50ZWQgYnkgdGhlIGluZGVudGF0aW9uIG9mIHRoZSBzdGFydCBsaW5lLCBwbHVzXG5vbmUgW2luZGVudCB1bml0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIHBlciB0YWIgY2hhcmFjdGVyIGFmdGVyXG50aGUgbmV3bGluZS5cblxuT24gYWN0aXZhdGlvbiwgKGFsbCBpbnN0YW5jZXMgb2YpIHRoZSBmaXJzdCBmaWVsZCBhcmUgc2VsZWN0ZWQuXG5UaGUgdXNlciBjYW4gbW92ZSBiZXR3ZWVuIGZpZWxkcyB3aXRoIFRhYiBhbmQgU2hpZnQtVGFiIGFzIGxvbmcgYXNcbnRoZSBmaWVsZHMgYXJlIGFjdGl2ZS4gTW92aW5nIHRvIHRoZSBsYXN0IGZpZWxkIG9yIG1vdmluZyB0aGVcbmN1cnNvciBvdXQgb2YgdGhlIGN1cnJlbnQgZmllbGQgZGVhY3RpdmF0ZXMgdGhlIGZpZWxkcy5cblxuVGhlIG9yZGVyIG9mIGZpZWxkcyBkZWZhdWx0cyB0byB0ZXh0dWFsIG9yZGVyLCBidXQgeW91IGNhbiBhZGRcbm51bWJlcnMgdG8gcGxhY2Vob2xkZXJzIChgJHsxfWAgb3IgYCR7MTpkZWZhdWx0VGV4dH1gKSB0byBwcm92aWRlXG5hIGN1c3RvbSBvcmRlci5cblxuVG8gaW5jbHVkZSBhIGxpdGVyYWwgYHtgIG9yIGB9YCBpbiB5b3VyIHRlbXBsYXRlLCBwdXQgYSBiYWNrc2xhc2hcbmluIGZyb250IG9mIGl0LiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBhbmQgdGhlIGJyYWNlIHdpbGwgbm90IGJlXG5pbnRlcnByZXRlZCBhcyBpbmRpY2F0aW5nIGEgcGxhY2Vob2xkZXIuXG4qL1xuZnVuY3Rpb24gc25pcHBldCh0ZW1wbGF0ZSkge1xuICAgIGxldCBzbmlwcGV0ID0gU25pcHBldC5wYXJzZSh0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIChlZGl0b3IsIGNvbXBsZXRpb24sIGZyb20sIHRvKSA9PiB7XG4gICAgICAgIGxldCB7IHRleHQsIHJhbmdlcyB9ID0gc25pcHBldC5pbnN0YW50aWF0ZShlZGl0b3Iuc3RhdGUsIGZyb20pO1xuICAgICAgICBsZXQgeyBtYWluIH0gPSBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgc3BlYyA9IHtcbiAgICAgICAgICAgIGNoYW5nZXM6IHsgZnJvbSwgdG86IHRvID09IG1haW4uZnJvbSA/IG1haW4udG8gOiB0bywgaW5zZXJ0OiBUZXh0Lm9mKHRleHQpIH0sXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIGFubm90YXRpb25zOiBjb21wbGV0aW9uID8gW3BpY2tlZENvbXBsZXRpb24ub2YoY29tcGxldGlvbiksIFRyYW5zYWN0aW9uLnVzZXJFdmVudC5vZihcImlucHV0LmNvbXBsZXRlXCIpXSA6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHNwZWMuc2VsZWN0aW9uID0gZmllbGRTZWxlY3Rpb24ocmFuZ2VzLCAwKTtcbiAgICAgICAgaWYgKHJhbmdlcy5zb21lKHIgPT4gci5maWVsZCA+IDApKSB7XG4gICAgICAgICAgICBsZXQgYWN0aXZlID0gbmV3IEFjdGl2ZVNuaXBwZXQocmFuZ2VzLCAwKTtcbiAgICAgICAgICAgIGxldCBlZmZlY3RzID0gc3BlYy5lZmZlY3RzID0gW3NldEFjdGl2ZS5vZihhY3RpdmUpXTtcbiAgICAgICAgICAgIGlmIChlZGl0b3Iuc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKFtzbmlwcGV0U3RhdGUsIGFkZFNuaXBwZXRLZXltYXAsIHNuaXBwZXRQb2ludGVySGFuZGxlciwgYmFzZVRoZW1lXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5kaXNwYXRjaChlZGl0b3Iuc3RhdGUudXBkYXRlKHNwZWMpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbW92ZUZpZWxkKGRpcikge1xuICAgIHJldHVybiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgICAgIGlmICghYWN0aXZlIHx8IGRpciA8IDAgJiYgYWN0aXZlLmFjdGl2ZSA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgbmV4dCA9IGFjdGl2ZS5hY3RpdmUgKyBkaXIsIGxhc3QgPSBkaXIgPiAwICYmICFhY3RpdmUucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IG5leHQgKyBkaXIpO1xuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgc2VsZWN0aW9uOiBmaWVsZFNlbGVjdGlvbihhY3RpdmUucmFuZ2VzLCBuZXh0KSxcbiAgICAgICAgICAgIGVmZmVjdHM6IHNldEFjdGl2ZS5vZihsYXN0ID8gbnVsbCA6IG5ldyBBY3RpdmVTbmlwcGV0KGFjdGl2ZS5yYW5nZXMsIG5leHQpKSxcbiAgICAgICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuQSBjb21tYW5kIHRoYXQgY2xlYXJzIHRoZSBhY3RpdmUgc25pcHBldCwgaWYgYW55LlxuKi9cbmNvbnN0IGNsZWFyU25pcHBldCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IGFjdGl2ZSA9IHN0YXRlLmZpZWxkKHNuaXBwZXRTdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghYWN0aXZlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgZWZmZWN0czogc2V0QWN0aXZlLm9mKG51bGwpIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdG8gdGhlIG5leHQgc25pcHBldCBmaWVsZCwgaWYgYXZhaWxhYmxlLlxuKi9cbmNvbnN0IG5leHRTbmlwcGV0RmllbGQgPSAvKkBfX1BVUkVfXyovbW92ZUZpZWxkKDEpO1xuLyoqXG5Nb3ZlIHRvIHRoZSBwcmV2aW91cyBzbmlwcGV0IGZpZWxkLCBpZiBhdmFpbGFibGUuXG4qL1xuY29uc3QgcHJldlNuaXBwZXRGaWVsZCA9IC8qQF9fUFVSRV9fKi9tb3ZlRmllbGQoLTEpO1xuLyoqXG5DaGVjayBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgc25pcHBldCB3aXRoIGEgbmV4dCBmaWVsZCBmb3JcbmBuZXh0U25pcHBldEZpZWxkYCB0byBtb3ZlIHRvLlxuKi9cbmZ1bmN0aW9uIGhhc05leHRTbmlwcGV0RmllbGQoc3RhdGUpIHtcbiAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuICEhKGFjdGl2ZSAmJiBhY3RpdmUucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IGFjdGl2ZS5hY3RpdmUgKyAxKSk7XG59XG4vKipcblJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgc25pcHBldCBhbmQgYSBwcmV2aW91cyBmaWVsZFxuZm9yIGBwcmV2U25pcHBldEZpZWxkYCB0byBtb3ZlIHRvLlxuKi9cbmZ1bmN0aW9uIGhhc1ByZXZTbmlwcGV0RmllbGQoc3RhdGUpIHtcbiAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuICEhKGFjdGl2ZSAmJiBhY3RpdmUuYWN0aXZlID4gMCk7XG59XG5jb25zdCBkZWZhdWx0U25pcHBldEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJUYWJcIiwgcnVuOiBuZXh0U25pcHBldEZpZWxkLCBzaGlmdDogcHJldlNuaXBwZXRGaWVsZCB9LFxuICAgIHsga2V5OiBcIkVzY2FwZVwiLCBydW46IGNsZWFyU25pcHBldCB9XG5dO1xuLyoqXG5BIGZhY2V0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBrZXkgYmluZGluZ3MgdXNlZCBieVxuc25pcHBldHMuIFRoZSBkZWZhdWx0IGJpbmRzIFRhYiB0b1xuW2BuZXh0U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubmV4dFNuaXBwZXRGaWVsZCksIFNoaWZ0LVRhYiB0b1xuW2BwcmV2U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUucHJldlNuaXBwZXRGaWVsZCksIGFuZCBFc2NhcGVcbnRvIFtgY2xlYXJTbmlwcGV0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuY2xlYXJTbmlwcGV0KS5cbiovXG5jb25zdCBzbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShtYXBzKSB7IHJldHVybiBtYXBzLmxlbmd0aCA/IG1hcHNbMF0gOiBkZWZhdWx0U25pcHBldEtleW1hcDsgfVxufSk7XG5jb25zdCBhZGRTbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyova2V5bWFwLmNvbXB1dGUoW3NuaXBwZXRLZXltYXBdLCBzdGF0ZSA9PiBzdGF0ZS5mYWNldChzbmlwcGV0S2V5bWFwKSkpO1xuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIGZyb20gYSBzbmlwcGV0LiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZVxucHJvcGVydGllcyBmcm9tIGBjb21wbGV0aW9uYCwgcGx1cyBhbiBgYXBwbHlgIGZ1bmN0aW9uIHRoYXRcbmFwcGxpZXMgdGhlIHNuaXBwZXQuXG4qL1xuZnVuY3Rpb24gc25pcHBldENvbXBsZXRpb24odGVtcGxhdGUsIGNvbXBsZXRpb24pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21wbGV0aW9uKSwgeyBhcHBseTogc25pcHBldCh0ZW1wbGF0ZSkgfSk7XG59XG5jb25zdCBzbmlwcGV0UG9pbnRlckhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBtb3VzZWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgbGV0IGFjdGl2ZSA9IHZpZXcuc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSksIHBvcztcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgKHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2ggPSBhY3RpdmUucmFuZ2VzLmZpbmQociA9PiByLmZyb20gPD0gcG9zICYmIHIudG8gPj0gcG9zKTtcbiAgICAgICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5maWVsZCA9PSBhY3RpdmUuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZmllbGRTZWxlY3Rpb24oYWN0aXZlLnJhbmdlcywgbWF0Y2guZmllbGQpLFxuICAgICAgICAgICAgZWZmZWN0czogc2V0QWN0aXZlLm9mKGFjdGl2ZS5yYW5nZXMuc29tZShyID0+IHIuZmllbGQgPiBtYXRjaC5maWVsZClcbiAgICAgICAgICAgICAgICA/IG5ldyBBY3RpdmVTbmlwcGV0KGFjdGl2ZS5yYW5nZXMsIG1hdGNoLmZpZWxkKSA6IG51bGwpLFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiB3b3JkUkUod29yZENoYXJzKSB7XG4gICAgbGV0IGVzY2FwZWQgPSB3b3JkQ2hhcnMucmVwbGFjZSgvW1xcXVxcLVxcXFxdL2csIFwiXFxcXCQmXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBbXFxcXHB7QWxwaGFiZXRpY31cXFxccHtOdW1iZXJ9XyR7ZXNjYXBlZH1dK2AsIFwidWdcIik7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgW1xcdyR7ZXNjYXBlZH1dYCwgXCJnXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFJFKHJlLCBmKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoZihyZS5zb3VyY2UpLCByZS51bmljb2RlID8gXCJ1XCIgOiBcIlwiKTtcbn1cbmNvbnN0IHdvcmRDYWNoZXMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIHdvcmRDYWNoZSh3b3JkQ2hhcnMpIHtcbiAgICByZXR1cm4gd29yZENhY2hlc1t3b3JkQ2hhcnNdIHx8ICh3b3JkQ2FjaGVzW3dvcmRDaGFyc10gPSBuZXcgV2Vha01hcCk7XG59XG5mdW5jdGlvbiBzdG9yZVdvcmRzKGRvYywgd29yZFJFLCByZXN1bHQsIHNlZW4sIGlnbm9yZUF0KSB7XG4gICAgZm9yIChsZXQgbGluZXMgPSBkb2MuaXRlckxpbmVzKCksIHBvcyA9IDA7ICFsaW5lcy5uZXh0KCkuZG9uZTspIHtcbiAgICAgICAgbGV0IHsgdmFsdWUgfSA9IGxpbmVzLCBtO1xuICAgICAgICB3b3JkUkUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKG0gPSB3b3JkUkUuZXhlYyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICghc2VlblttWzBdXSAmJiBwb3MgKyBtLmluZGV4ICE9IGlnbm9yZUF0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyB0eXBlOiBcInRleHRcIiwgbGFiZWw6IG1bMF0gfSk7XG4gICAgICAgICAgICAgICAgc2VlblttWzBdXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPj0gMjAwMCAvKiBDLk1heExpc3QgKi8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gdmFsdWUubGVuZ3RoICsgMTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb2xsZWN0V29yZHMoZG9jLCBjYWNoZSwgd29yZFJFLCB0bywgaWdub3JlQXQpIHtcbiAgICBsZXQgYmlnID0gZG9jLmxlbmd0aCA+PSAxMDAwIC8qIEMuTWluQ2FjaGVMZW4gKi87XG4gICAgbGV0IGNhY2hlZCA9IGJpZyAmJiBjYWNoZS5nZXQoZG9jKTtcbiAgICBpZiAoY2FjaGVkKVxuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIGxldCByZXN1bHQgPSBbXSwgc2VlbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGRvYy5jaGlsZHJlbikge1xuICAgICAgICBsZXQgcG9zID0gMDtcbiAgICAgICAgZm9yIChsZXQgY2ggb2YgZG9jLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2gubGVuZ3RoID49IDEwMDAgLyogQy5NaW5DYWNoZUxlbiAqLykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29sbGVjdFdvcmRzKGNoLCBjYWNoZSwgd29yZFJFLCB0byAtIHBvcywgaWdub3JlQXQgLSBwb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VlbltjLmxhYmVsXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VlbltjLmxhYmVsXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3JlV29yZHMoY2gsIHdvcmRSRSwgcmVzdWx0LCBzZWVuLCBpZ25vcmVBdCAtIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgKz0gY2gubGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RvcmVXb3Jkcyhkb2MsIHdvcmRSRSwgcmVzdWx0LCBzZWVuLCBpZ25vcmVBdCk7XG4gICAgfVxuICAgIGlmIChiaWcgJiYgcmVzdWx0Lmxlbmd0aCA8IDIwMDAgLyogQy5NYXhMaXN0ICovKVxuICAgICAgICBjYWNoZS5zZXQoZG9jLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkEgY29tcGxldGlvbiBzb3VyY2UgdGhhdCB3aWxsIHNjYW4gdGhlIGRvY3VtZW50IGZvciB3b3JkcyAodXNpbmcgYVxuW2NoYXJhY3RlciBjYXRlZ29yaXplcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIpKSwgYW5kXG5yZXR1cm4gdGhvc2UgYXMgY29tcGxldGlvbnMuXG4qL1xuY29uc3QgY29tcGxldGVBbnlXb3JkID0gY29udGV4dCA9PiB7XG4gICAgbGV0IHdvcmRDaGFycyA9IGNvbnRleHQuc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJ3b3JkQ2hhcnNcIiwgY29udGV4dC5wb3MpLmpvaW4oXCJcIik7XG4gICAgbGV0IHJlID0gd29yZFJFKHdvcmRDaGFycyk7XG4gICAgbGV0IHRva2VuID0gY29udGV4dC5tYXRjaEJlZm9yZShtYXBSRShyZSwgcyA9PiBzICsgXCIkXCIpKTtcbiAgICBpZiAoIXRva2VuICYmICFjb250ZXh0LmV4cGxpY2l0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZnJvbSA9IHRva2VuID8gdG9rZW4uZnJvbSA6IGNvbnRleHQucG9zO1xuICAgIGxldCBvcHRpb25zID0gY29sbGVjdFdvcmRzKGNvbnRleHQuc3RhdGUuZG9jLCB3b3JkQ2FjaGUod29yZENoYXJzKSwgcmUsIDUwMDAwIC8qIEMuUmFuZ2UgKi8sIGZyb20pO1xuICAgIHJldHVybiB7IGZyb20sIG9wdGlvbnMsIHZhbGlkRm9yOiBtYXBSRShyZSwgcyA9PiBcIl5cIiArIHMpIH07XG59O1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBicmFja2V0czogW1wiKFwiLCBcIltcIiwgXCJ7XCIsIFwiJ1wiLCAnXCInXSxcbiAgICBiZWZvcmU6IFwiKV19Ojs+XCIsXG4gICAgc3RyaW5nUHJlZml4ZXM6IFtdXG59O1xuY29uc3QgY2xvc2VCcmFja2V0RWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHZhbHVlLCBtYXBwaW5nKSB7XG4gICAgICAgIGxldCBtYXBwZWQgPSBtYXBwaW5nLm1hcFBvcyh2YWx1ZSwgLTEsIE1hcE1vZGUuVHJhY2tBZnRlcik7XG4gICAgICAgIHJldHVybiBtYXBwZWQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG1hcHBlZDtcbiAgICB9XG59KTtcbmNvbnN0IGNsb3NlZEJyYWNrZXQgPSAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG59O1xuY2xvc2VkQnJhY2tldC5zdGFydFNpZGUgPSAxO1xuY2xvc2VkQnJhY2tldC5lbmRTaWRlID0gLTE7XG5jb25zdCBicmFja2V0U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHsgcmV0dXJuIFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gdHIuc3RhdGUuZG9jLmxpbmVBdCh0ci5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudXBkYXRlKHsgZmlsdGVyOiBmcm9tID0+IGZyb20gPj0gbGluZS5mcm9tICYmIGZyb20gPD0gbGluZS50byB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoY2xvc2VCcmFja2V0RWZmZWN0KSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnVwZGF0ZSh7IGFkZDogW2Nsb3NlZEJyYWNrZXQucmFuZ2UoZWZmZWN0LnZhbHVlLCBlZmZlY3QudmFsdWUgKyAxKV0gfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59KTtcbi8qKlxuRXh0ZW5zaW9uIHRvIGVuYWJsZSBicmFja2V0LWNsb3NpbmcgYmVoYXZpb3IuIFdoZW4gYSBjbG9zZWFibGVcbmJyYWNrZXQgaXMgdHlwZWQsIGl0cyBjbG9zaW5nIGJyYWNrZXQgaXMgaW1tZWRpYXRlbHkgaW5zZXJ0ZWRcbmFmdGVyIHRoZSBjdXJzb3IuIFdoZW4gY2xvc2luZyBhIGJyYWNrZXQgZGlyZWN0bHkgaW4gZnJvbnQgb2YgYVxuY2xvc2luZyBicmFja2V0IGluc2VydGVkIGJ5IHRoZSBleHRlbnNpb24sIHRoZSBjdXJzb3IgbW92ZXMgb3ZlclxudGhhdCBicmFja2V0LlxuKi9cbmZ1bmN0aW9uIGNsb3NlQnJhY2tldHMoKSB7XG4gICAgcmV0dXJuIFtpbnB1dEhhbmRsZXIsIGJyYWNrZXRTdGF0ZV07XG59XG5jb25zdCBkZWZpbmVkQ2xvc2luZyA9IFwiKClbXXt9PD5cdTAwQUJcdTAwQkJcdTAwQkJcdTAwQUJcdUZGM0JcdUZGM0RcdUZGNUJcdUZGNURcIjtcbmZ1bmN0aW9uIGNsb3NpbmcoY2gpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmluZWRDbG9zaW5nLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICBpZiAoZGVmaW5lZENsb3NpbmcuY2hhckNvZGVBdChpKSA9PSBjaClcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVkQ2xvc2luZy5jaGFyQXQoaSArIDEpO1xuICAgIHJldHVybiBmcm9tQ29kZVBvaW50KGNoIDwgMTI4ID8gY2ggOiBjaCArIDEpO1xufVxuZnVuY3Rpb24gY29uZmlnKHN0YXRlLCBwb3MpIHtcbiAgICByZXR1cm4gc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJjbG9zZUJyYWNrZXRzXCIsIHBvcylbMF0gfHwgZGVmYXVsdHM7XG59XG5jb25zdCBhbmRyb2lkID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcIm9iamVjdFwiICYmIC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmNvbnN0IGlucHV0SGFuZGxlciA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIGluc2VydCkgPT4ge1xuICAgIGlmICgoYW5kcm9pZCA/IHZpZXcuY29tcG9zaW5nIDogdmlldy5jb21wb3NpdGlvblN0YXJ0ZWQpIHx8IHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBpZiAoaW5zZXJ0Lmxlbmd0aCA+IDIgfHwgaW5zZXJ0Lmxlbmd0aCA9PSAyICYmIGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQoaW5zZXJ0LCAwKSkgPT0gMSB8fFxuICAgICAgICBmcm9tICE9IHNlbC5mcm9tIHx8IHRvICE9IHNlbC50bylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB0ciA9IGluc2VydEJyYWNrZXQodmlldy5zdGF0ZSwgaW5zZXJ0KTtcbiAgICBpZiAoIXRyKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaCh0cik7XG4gICAgcmV0dXJuIHRydWU7XG59KTtcbi8qKlxuQ29tbWFuZCB0aGF0IGltcGxlbWVudHMgZGVsZXRpbmcgYSBwYWlyIG9mIG1hdGNoaW5nIGJyYWNrZXRzIHdoZW5cbnRoZSBjdXJzb3IgaXMgYmV0d2VlbiB0aGVtLlxuKi9cbmNvbnN0IGRlbGV0ZUJyYWNrZXRQYWlyID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY29uZiA9IGNvbmZpZyhzdGF0ZSwgc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCk7XG4gICAgbGV0IHRva2VucyA9IGNvbmYuYnJhY2tldHMgfHwgZGVmYXVsdHMuYnJhY2tldHM7XG4gICAgbGV0IGRvbnQgPSBudWxsLCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgbGV0IGJlZm9yZSA9IHByZXZDaGFyKHN0YXRlLmRvYywgcmFuZ2UuaGVhZCk7XG4gICAgICAgICAgICBmb3IgKGxldCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT0gYmVmb3JlICYmIG5leHRDaGFyKHN0YXRlLmRvYywgcmFuZ2UuaGVhZCkgPT0gY2xvc2luZyhjb2RlUG9pbnRBdCh0b2tlbiwgMCkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmhlYWQgLSB0b2tlbi5sZW5ndGgsIHRvOiByYW5nZS5oZWFkICsgdG9rZW4ubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5oZWFkIC0gdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiBkb250ID0gcmFuZ2UgfTtcbiAgICB9KTtcbiAgICBpZiAoIWRvbnQpXG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiZGVsZXRlLmJhY2t3YXJkXCIgfSkpO1xuICAgIHJldHVybiAhZG9udDtcbn07XG4vKipcbkNsb3NlLWJyYWNrZXRzIHJlbGF0ZWQga2V5IGJpbmRpbmdzLiBCaW5kcyBCYWNrc3BhY2UgdG9cbltgZGVsZXRlQnJhY2tldFBhaXJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5kZWxldGVCcmFja2V0UGFpcikuXG4qL1xuY29uc3QgY2xvc2VCcmFja2V0c0tleW1hcCA9IFtcbiAgICB7IGtleTogXCJCYWNrc3BhY2VcIiwgcnVuOiBkZWxldGVCcmFja2V0UGFpciB9XG5dO1xuLyoqXG5JbXBsZW1lbnRzIHRoZSBleHRlbnNpb24ncyBiZWhhdmlvciBvbiB0ZXh0IGluc2VydGlvbi4gSWYgdGhlXG5naXZlbiBzdHJpbmcgY291bnRzIGFzIGEgYnJhY2tldCBpbiB0aGUgbGFuZ3VhZ2UgYXJvdW5kIHRoZVxuc2VsZWN0aW9uLCBhbmQgcmVwbGFjaW5nIHRoZSBzZWxlY3Rpb24gd2l0aCBpdCByZXF1aXJlcyBjdXN0b21cbmJlaGF2aW9yIChpbnNlcnRpbmcgYSBjbG9zaW5nIHZlcnNpb24gb3Igc2tpcHBpbmcgcGFzdCBhXG5wcmV2aW91c2x5LWNsb3NlZCBicmFja2V0KSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgdHJhbnNhY3Rpb25cbnJlcHJlc2VudGluZyB0aGF0IGN1c3RvbSBiZWhhdmlvci4gKFlvdSBvbmx5IG5lZWQgdGhpcyBpZiB5b3Ugd2FudFxudG8gcHJvZ3JhbW1hdGljYWxseSBpbnNlcnQgYnJhY2tldHNcdTIwMTR0aGVcbltgY2xvc2VCcmFja2V0c2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmNsb3NlQnJhY2tldHMpIGV4dGVuc2lvbiB3aWxsXG50YWtlIGNhcmUgb2YgcnVubmluZyB0aGlzIGZvciB1c2VyIGlucHV0LilcbiovXG5mdW5jdGlvbiBpbnNlcnRCcmFja2V0KHN0YXRlLCBicmFja2V0KSB7XG4gICAgbGV0IGNvbmYgPSBjb25maWcoc3RhdGUsIHN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgIGxldCB0b2tlbnMgPSBjb25mLmJyYWNrZXRzIHx8IGRlZmF1bHRzLmJyYWNrZXRzO1xuICAgIGZvciAobGV0IHRvayBvZiB0b2tlbnMpIHtcbiAgICAgICAgbGV0IGNsb3NlZCA9IGNsb3NpbmcoY29kZVBvaW50QXQodG9rLCAwKSk7XG4gICAgICAgIGlmIChicmFja2V0ID09IHRvaylcbiAgICAgICAgICAgIHJldHVybiBjbG9zZWQgPT0gdG9rID8gaGFuZGxlU2FtZShzdGF0ZSwgdG9rLCB0b2tlbnMuaW5kZXhPZih0b2sgKyB0b2sgKyB0b2spID4gLTEsIGNvbmYpXG4gICAgICAgICAgICAgICAgOiBoYW5kbGVPcGVuKHN0YXRlLCB0b2ssIGNsb3NlZCwgY29uZi5iZWZvcmUgfHwgZGVmYXVsdHMuYmVmb3JlKTtcbiAgICAgICAgaWYgKGJyYWNrZXQgPT0gY2xvc2VkICYmIGNsb3NlZEJyYWNrZXRBdChzdGF0ZSwgc3RhdGUuc2VsZWN0aW9uLm1haW4uZnJvbSkpXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2xvc2Uoc3RhdGUsIHRvaywgY2xvc2VkKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjbG9zZWRCcmFja2V0QXQoc3RhdGUsIHBvcykge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIHN0YXRlLmZpZWxkKGJyYWNrZXRTdGF0ZSkuYmV0d2VlbigwLCBzdGF0ZS5kb2MubGVuZ3RoLCBmcm9tID0+IHtcbiAgICAgICAgaWYgKGZyb20gPT0gcG9zKVxuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIG5leHRDaGFyKGRvYywgcG9zKSB7XG4gICAgbGV0IG5leHQgPSBkb2Muc2xpY2VTdHJpbmcocG9zLCBwb3MgKyAyKTtcbiAgICByZXR1cm4gbmV4dC5zbGljZSgwLCBjb2RlUG9pbnRTaXplKGNvZGVQb2ludEF0KG5leHQsIDApKSk7XG59XG5mdW5jdGlvbiBwcmV2Q2hhcihkb2MsIHBvcykge1xuICAgIGxldCBwcmV2ID0gZG9jLnNsaWNlU3RyaW5nKHBvcyAtIDIsIHBvcyk7XG4gICAgcmV0dXJuIGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQocHJldiwgMCkpID09IHByZXYubGVuZ3RoID8gcHJldiA6IHByZXYuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBoYW5kbGVPcGVuKHN0YXRlLCBvcGVuLCBjbG9zZSwgY2xvc2VCZWZvcmUpIHtcbiAgICBsZXQgZG9udCA9IG51bGwsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IFt7IGluc2VydDogb3BlbiwgZnJvbTogcmFuZ2UuZnJvbSB9LCB7IGluc2VydDogY2xvc2UsIGZyb206IHJhbmdlLnRvIH1dLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGNsb3NlQnJhY2tldEVmZmVjdC5vZihyYW5nZS50byArIG9wZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmFuY2hvciArIG9wZW4ubGVuZ3RoLCByYW5nZS5oZWFkICsgb3Blbi5sZW5ndGgpIH07XG4gICAgICAgIGxldCBuZXh0ID0gbmV4dENoYXIoc3RhdGUuZG9jLCByYW5nZS5oZWFkKTtcbiAgICAgICAgaWYgKCFuZXh0IHx8IC9cXHMvLnRlc3QobmV4dCkgfHwgY2xvc2VCZWZvcmUuaW5kZXhPZihuZXh0KSA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IG9wZW4gKyBjbG9zZSwgZnJvbTogcmFuZ2UuaGVhZCB9LFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGNsb3NlQnJhY2tldEVmZmVjdC5vZihyYW5nZS5oZWFkICsgb3Blbi5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmhlYWQgKyBvcGVuLmxlbmd0aCkgfTtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IGRvbnQgPSByYW5nZSB9O1xuICAgIH0pO1xuICAgIHJldHVybiBkb250ID8gbnVsbCA6IHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQudHlwZVwiXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYW5kbGVDbG9zZShzdGF0ZSwgX29wZW4sIGNsb3NlKSB7XG4gICAgbGV0IGRvbnQgPSBudWxsLCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSAmJiBuZXh0Q2hhcihzdGF0ZS5kb2MsIHJhbmdlLmhlYWQpID09IGNsb3NlKVxuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5oZWFkLCB0bzogcmFuZ2UuaGVhZCArIGNsb3NlLmxlbmd0aCwgaW5zZXJ0OiBjbG9zZSB9LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmhlYWQgKyBjbG9zZS5sZW5ndGgpIH07XG4gICAgICAgIHJldHVybiBkb250ID0geyByYW5nZSB9O1xuICAgIH0pO1xuICAgIHJldHVybiBkb250ID8gbnVsbCA6IHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IFwiaW5wdXQudHlwZVwiXG4gICAgfSk7XG59XG4vLyBIYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSBvcGVuIGFuZCBjbG9zZSB0b2tlbiBhcmUgdGhlIHNhbWUsIGFuZFxuLy8gcG9zc2libHkgdHJpcGxlIHF1b3RlcyAoYXMgaW4gYFwiXCJcImFiY1wiXCJcImAtc3R5bGUgcXVvdGluZykuXG5mdW5jdGlvbiBoYW5kbGVTYW1lKHN0YXRlLCB0b2tlbiwgYWxsb3dUcmlwbGUsIGNvbmZpZykge1xuICAgIGxldCBzdHJpbmdQcmVmaXhlcyA9IGNvbmZpZy5zdHJpbmdQcmVmaXhlcyB8fCBkZWZhdWx0cy5zdHJpbmdQcmVmaXhlcztcbiAgICBsZXQgZG9udCA9IG51bGwsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IFt7IGluc2VydDogdG9rZW4sIGZyb206IHJhbmdlLmZyb20gfSwgeyBpbnNlcnQ6IHRva2VuLCBmcm9tOiByYW5nZS50byB9XSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocmFuZ2UudG8gKyB0b2tlbi5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yICsgdG9rZW4ubGVuZ3RoLCByYW5nZS5oZWFkICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICBsZXQgcG9zID0gcmFuZ2UuaGVhZCwgbmV4dCA9IG5leHRDaGFyKHN0YXRlLmRvYywgcG9zKSwgc3RhcnQ7XG4gICAgICAgIGlmIChuZXh0ID09IHRva2VuKSB7XG4gICAgICAgICAgICBpZiAobm9kZVN0YXJ0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IHRva2VuICsgdG9rZW4sIGZyb206IHBvcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocG9zICsgdG9rZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2xvc2VkQnJhY2tldEF0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzVHJpcGxlID0gYWxsb3dUcmlwbGUgJiYgc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyB0b2tlbi5sZW5ndGggKiAzKSA9PSB0b2tlbiArIHRva2VuICsgdG9rZW47XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBpc1RyaXBsZSA/IHRva2VuICsgdG9rZW4gKyB0b2tlbiA6IHRva2VuO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogcG9zLCB0bzogcG9zICsgY29udGVudC5sZW5ndGgsIGluc2VydDogY29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MgKyBjb250ZW50Lmxlbmd0aCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbGxvd1RyaXBsZSAmJiBzdGF0ZS5zbGljZURvYyhwb3MgLSAyICogdG9rZW4ubGVuZ3RoLCBwb3MpID09IHRva2VuICsgdG9rZW4gJiZcbiAgICAgICAgICAgIChzdGFydCA9IGNhblN0YXJ0U3RyaW5nQXQoc3RhdGUsIHBvcyAtIDIgKiB0b2tlbi5sZW5ndGgsIHN0cmluZ1ByZWZpeGVzKSkgPiAtMSAmJlxuICAgICAgICAgICAgbm9kZVN0YXJ0KHN0YXRlLCBzdGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgaW5zZXJ0OiB0b2tlbiArIHRva2VuICsgdG9rZW4gKyB0b2tlbiwgZnJvbTogcG9zIH0sXG4gICAgICAgICAgICAgICAgZWZmZWN0czogY2xvc2VCcmFja2V0RWZmZWN0Lm9mKHBvcyArIHRva2VuLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpKG5leHQpICE9IENoYXJDYXRlZ29yeS5Xb3JkKSB7XG4gICAgICAgICAgICBpZiAoY2FuU3RhcnRTdHJpbmdBdChzdGF0ZSwgcG9zLCBzdHJpbmdQcmVmaXhlcykgPiAtMSAmJiAhcHJvYmFibHlJblN0cmluZyhzdGF0ZSwgcG9zLCB0b2tlbiwgc3RyaW5nUHJlZml4ZXMpKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgaW5zZXJ0OiB0b2tlbiArIHRva2VuLCBmcm9tOiBwb3MgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogY2xvc2VCcmFja2V0RWZmZWN0Lm9mKHBvcyArIHRva2VuLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcyArIHRva2VuLmxlbmd0aCkgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYW5nZTogZG9udCA9IHJhbmdlIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvbnQgPyBudWxsIDogc3RhdGUudXBkYXRlKGNoYW5nZXMsIHtcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgIHVzZXJFdmVudDogXCJpbnB1dC50eXBlXCJcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vZGVTdGFydChzdGF0ZSwgcG9zKSB7XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zICsgMSk7XG4gICAgcmV0dXJuIHRyZWUucGFyZW50ICYmIHRyZWUuZnJvbSA9PSBwb3M7XG59XG5mdW5jdGlvbiBwcm9iYWJseUluU3RyaW5nKHN0YXRlLCBwb3MsIHF1b3RlVG9rZW4sIHByZWZpeGVzKSB7XG4gICAgbGV0IG5vZGUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zLCAtMSk7XG4gICAgbGV0IG1heFByZWZpeCA9IHByZWZpeGVzLnJlZHVjZSgobSwgcCkgPT4gTWF0aC5tYXgobSwgcC5sZW5ndGgpLCAwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBsZXQgc3RhcnQgPSBzdGF0ZS5zbGljZURvYyhub2RlLmZyb20sIE1hdGgubWluKG5vZGUudG8sIG5vZGUuZnJvbSArIHF1b3RlVG9rZW4ubGVuZ3RoICsgbWF4UHJlZml4KSk7XG4gICAgICAgIGxldCBxdW90ZVBvcyA9IHN0YXJ0LmluZGV4T2YocXVvdGVUb2tlbik7XG4gICAgICAgIGlmICghcXVvdGVQb3MgfHwgcXVvdGVQb3MgPiAtMSAmJiBwcmVmaXhlcy5pbmRleE9mKHN0YXJ0LnNsaWNlKDAsIHF1b3RlUG9zKSkgPiAtMSkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGZpcnN0ICYmIGZpcnN0LmZyb20gPT0gbm9kZS5mcm9tICYmIGZpcnN0LnRvIC0gZmlyc3QuZnJvbSA+IHF1b3RlVG9rZW4ubGVuZ3RoICsgcXVvdGVQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2xpY2VEb2MoZmlyc3QudG8gLSBxdW90ZVRva2VuLmxlbmd0aCwgZmlyc3QudG8pID09IHF1b3RlVG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZpcnN0LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS50byA9PSBwb3MgJiYgbm9kZS5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNhblN0YXJ0U3RyaW5nQXQoc3RhdGUsIHBvcywgcHJlZml4ZXMpIHtcbiAgICBsZXQgY2hhckNhdCA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGlmIChjaGFyQ2F0KHN0YXRlLnNsaWNlRG9jKHBvcyAtIDEsIHBvcykpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIGZvciAobGV0IHByZWZpeCBvZiBwcmVmaXhlcykge1xuICAgICAgICBsZXQgc3RhcnQgPSBwb3MgLSBwcmVmaXgubGVuZ3RoO1xuICAgICAgICBpZiAoc3RhdGUuc2xpY2VEb2Moc3RhcnQsIHBvcykgPT0gcHJlZml4ICYmIGNoYXJDYXQoc3RhdGUuc2xpY2VEb2Moc3RhcnQgLSAxLCBzdGFydCkpICE9IENoYXJDYXRlZ29yeS5Xb3JkKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIGF1dG9jb21wbGV0aW9uLlxuKi9cbmZ1bmN0aW9uIGF1dG9jb21wbGV0aW9uKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgY29tbWl0Q2hhcmFjdGVycyxcbiAgICAgICAgY29tcGxldGlvblN0YXRlLFxuICAgICAgICBjb21wbGV0aW9uQ29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIGNvbXBsZXRpb25QbHVnaW4sXG4gICAgICAgIGNvbXBsZXRpb25LZXltYXBFeHQsXG4gICAgICAgIGJhc2VUaGVtZVxuICAgIF07XG59XG4vKipcbkJhc2ljIGtleWJpbmRpbmdzIGZvciBhdXRvY29tcGxldGlvbi5cblxuIC0gQ3RybC1TcGFjZSAoYW5kIEFsdC1cXGAgb24gbWFjT1MpOiBbYHN0YXJ0Q29tcGxldGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLnN0YXJ0Q29tcGxldGlvbilcbiAtIEVzY2FwZTogW2BjbG9zZUNvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5jbG9zZUNvbXBsZXRpb24pXG4gLSBBcnJvd0Rvd246IFtgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5tb3ZlQ29tcGxldGlvblNlbGVjdGlvbilgKHRydWUpYFxuIC0gQXJyb3dVcDogW2Btb3ZlQ29tcGxldGlvblNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLm1vdmVDb21wbGV0aW9uU2VsZWN0aW9uKWAoZmFsc2UpYFxuIC0gUGFnZURvd246IFtgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5tb3ZlQ29tcGxldGlvblNlbGVjdGlvbilgKHRydWUsIFwicGFnZVwiKWBcbiAtIFBhZ2VEb3duOiBbYG1vdmVDb21wbGV0aW9uU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubW92ZUNvbXBsZXRpb25TZWxlY3Rpb24pYCh0cnVlLCBcInBhZ2VcIilgXG4gLSBFbnRlcjogW2BhY2NlcHRDb21wbGV0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuYWNjZXB0Q29tcGxldGlvbilcbiovXG5jb25zdCBjb21wbGV0aW9uS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtU3BhY2VcIiwgcnVuOiBzdGFydENvbXBsZXRpb24gfSxcbiAgICB7IG1hYzogXCJBbHQtYFwiLCBydW46IHN0YXJ0Q29tcGxldGlvbiB9LFxuICAgIHsga2V5OiBcIkVzY2FwZVwiLCBydW46IGNsb3NlQ29tcGxldGlvbiB9LFxuICAgIHsga2V5OiBcIkFycm93RG93blwiLCBydW46IC8qQF9fUFVSRV9fKi9tb3ZlQ29tcGxldGlvblNlbGVjdGlvbih0cnVlKSB9LFxuICAgIHsga2V5OiBcIkFycm93VXBcIiwgcnVuOiAvKkBfX1BVUkVfXyovbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24oZmFsc2UpIH0sXG4gICAgeyBrZXk6IFwiUGFnZURvd25cIiwgcnVuOiAvKkBfX1BVUkVfXyovbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24odHJ1ZSwgXCJwYWdlXCIpIH0sXG4gICAgeyBrZXk6IFwiUGFnZVVwXCIsIHJ1bjogLypAX19QVVJFX18qL21vdmVDb21wbGV0aW9uU2VsZWN0aW9uKGZhbHNlLCBcInBhZ2VcIikgfSxcbiAgICB7IGtleTogXCJFbnRlclwiLCBydW46IGFjY2VwdENvbXBsZXRpb24gfVxuXTtcbmNvbnN0IGNvbXBsZXRpb25LZXltYXBFeHQgPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoZXN0KC8qQF9fUFVSRV9fKi9rZXltYXAuY29tcHV0ZU4oW2NvbXBsZXRpb25Db25maWddLCBzdGF0ZSA9PiBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5kZWZhdWx0S2V5bWFwID8gW2NvbXBsZXRpb25LZXltYXBdIDogW10pKTtcbi8qKlxuR2V0IHRoZSBjdXJyZW50IGNvbXBsZXRpb24gc3RhdHVzLiBXaGVuIGNvbXBsZXRpb25zIGFyZSBhdmFpbGFibGUsXG50aGlzIHdpbGwgcmV0dXJuIGBcImFjdGl2ZVwiYC4gV2hlbiBjb21wbGV0aW9ucyBhcmUgcGVuZGluZyAoaW4gdGhlXG5wcm9jZXNzIG9mIGJlaW5nIHF1ZXJpZWQpLCB0aGlzIHJldHVybnMgYFwicGVuZGluZ1wiYC4gT3RoZXJ3aXNlLCBpdFxucmV0dXJucyBgbnVsbGAuXG4qL1xuZnVuY3Rpb24gY29tcGxldGlvblN0YXR1cyhzdGF0ZSkge1xuICAgIGxldCBjU3RhdGUgPSBzdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICByZXR1cm4gY1N0YXRlICYmIGNTdGF0ZS5hY3RpdmUuc29tZShhID0+IGEuaXNQZW5kaW5nKSA/IFwicGVuZGluZ1wiXG4gICAgICAgIDogY1N0YXRlICYmIGNTdGF0ZS5hY3RpdmUuc29tZShhID0+IGEuc3RhdGUgIT0gMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLykgPyBcImFjdGl2ZVwiIDogbnVsbDtcbn1cbmNvbnN0IGNvbXBsZXRpb25BcnJheUNhY2hlID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwO1xuLyoqXG5SZXR1cm5zIHRoZSBhdmFpbGFibGUgY29tcGxldGlvbnMgYXMgYW4gYXJyYXkuXG4qL1xuZnVuY3Rpb24gY3VycmVudENvbXBsZXRpb25zKHN0YXRlKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBvcGVuID0gKF9hID0gc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcGVuO1xuICAgIGlmICghb3BlbiB8fCBvcGVuLmRpc2FibGVkKVxuICAgICAgICByZXR1cm4gW107XG4gICAgbGV0IGNvbXBsZXRpb25zID0gY29tcGxldGlvbkFycmF5Q2FjaGUuZ2V0KG9wZW4ub3B0aW9ucyk7XG4gICAgaWYgKCFjb21wbGV0aW9ucylcbiAgICAgICAgY29tcGxldGlvbkFycmF5Q2FjaGUuc2V0KG9wZW4ub3B0aW9ucywgY29tcGxldGlvbnMgPSBvcGVuLm9wdGlvbnMubWFwKG8gPT4gby5jb21wbGV0aW9uKSk7XG4gICAgcmV0dXJuIGNvbXBsZXRpb25zO1xufVxuLyoqXG5SZXR1cm4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb21wbGV0aW9uLCBpZiBhbnkuXG4qL1xuZnVuY3Rpb24gc2VsZWN0ZWRDb21wbGV0aW9uKHN0YXRlKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBvcGVuID0gKF9hID0gc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcGVuO1xuICAgIHJldHVybiBvcGVuICYmICFvcGVuLmRpc2FibGVkICYmIG9wZW4uc2VsZWN0ZWQgPj0gMCA/IG9wZW4ub3B0aW9uc1tvcGVuLnNlbGVjdGVkXS5jb21wbGV0aW9uIDogbnVsbDtcbn1cbi8qKlxuUmV0dXJucyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHBvc2l0aW9uIGluIHRoZSBhY3RpdmUgY29tcGxldGlvblxubGlzdCwgb3IgbnVsbCBpZiBubyBjb21wbGV0aW9ucyBhcmUgYWN0aXZlLlxuKi9cbmZ1bmN0aW9uIHNlbGVjdGVkQ29tcGxldGlvbkluZGV4KHN0YXRlKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBvcGVuID0gKF9hID0gc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcGVuO1xuICAgIHJldHVybiBvcGVuICYmICFvcGVuLmRpc2FibGVkICYmIG9wZW4uc2VsZWN0ZWQgPj0gMCA/IG9wZW4uc2VsZWN0ZWQgOiBudWxsO1xufVxuLyoqXG5DcmVhdGUgYW4gZWZmZWN0IHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgdHJhbnNhY3Rpb24gdG8gY2hhbmdlXG50aGUgY3VycmVudGx5IHNlbGVjdGVkIGNvbXBsZXRpb24uXG4qL1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWRDb21wbGV0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIHNldFNlbGVjdGVkRWZmZWN0Lm9mKGluZGV4KTtcbn1cblxuZXhwb3J0IHsgQ29tcGxldGlvbkNvbnRleHQsIGFjY2VwdENvbXBsZXRpb24sIGF1dG9jb21wbGV0aW9uLCBjbGVhclNuaXBwZXQsIGNsb3NlQnJhY2tldHMsIGNsb3NlQnJhY2tldHNLZXltYXAsIGNsb3NlQ29tcGxldGlvbiwgY29tcGxldGVBbnlXb3JkLCBjb21wbGV0ZUZyb21MaXN0LCBjb21wbGV0aW9uS2V5bWFwLCBjb21wbGV0aW9uU3RhdHVzLCBjdXJyZW50Q29tcGxldGlvbnMsIGRlbGV0ZUJyYWNrZXRQYWlyLCBoYXNOZXh0U25pcHBldEZpZWxkLCBoYXNQcmV2U25pcHBldEZpZWxkLCBpZkluLCBpZk5vdEluLCBpbnNlcnRCcmFja2V0LCBpbnNlcnRDb21wbGV0aW9uVGV4dCwgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24sIG5leHRTbmlwcGV0RmllbGQsIHBpY2tlZENvbXBsZXRpb24sIHByZXZTbmlwcGV0RmllbGQsIHNlbGVjdGVkQ29tcGxldGlvbiwgc2VsZWN0ZWRDb21wbGV0aW9uSW5kZXgsIHNldFNlbGVjdGVkQ29tcGxldGlvbiwgc25pcHBldCwgc25pcHBldENvbXBsZXRpb24sIHNuaXBwZXRLZXltYXAsIHN0YXJ0Q29tcGxldGlvbiB9O1xuIiwgImltcG9ydCB7IERlY29yYXRpb24sIHNob3dQYW5lbCwgRWRpdG9yVmlldywgVmlld1BsdWdpbiwgZ3V0dGVyLCBzaG93VG9vbHRpcCwgaG92ZXJUb29sdGlwLCBnZXRQYW5lbCwgbG9nRXhjZXB0aW9uLCBXaWRnZXRUeXBlLCBHdXR0ZXJNYXJrZXIgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IFN0YXRlRWZmZWN0LCBTdGF0ZUZpZWxkLCBGYWNldCwgY29tYmluZUNvbmZpZywgUmFuZ2VTZXQsIFJhbmdlU2V0QnVpbGRlciB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCBlbHQgZnJvbSAnY3JlbHQnO1xuXG5jbGFzcyBTZWxlY3RlZERpYWdub3N0aWMge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBkaWFnbm9zdGljKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5kaWFnbm9zdGljID0gZGlhZ25vc3RpYztcbiAgICB9XG59XG5jbGFzcyBMaW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGRpYWdub3N0aWNzLCBwYW5lbCwgc2VsZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5kaWFnbm9zdGljcyA9IGRpYWdub3N0aWNzO1xuICAgICAgICB0aGlzLnBhbmVsID0gcGFuZWw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoZGlhZ25vc3RpY3MsIHBhbmVsLCBzdGF0ZSkge1xuICAgICAgICAvLyBGaWx0ZXIgdGhlIGxpc3Qgb2YgZGlhZ25vc3RpY3MgZm9yIHdoaWNoIHRvIGNyZWF0ZSBtYXJrZXJzXG4gICAgICAgIGxldCBkaWFnbm9zdGljRmlsdGVyID0gc3RhdGUuZmFjZXQobGludENvbmZpZykubWFya2VyRmlsdGVyO1xuICAgICAgICBpZiAoZGlhZ25vc3RpY0ZpbHRlcilcbiAgICAgICAgICAgIGRpYWdub3N0aWNzID0gZGlhZ25vc3RpY0ZpbHRlcihkaWFnbm9zdGljcywgc3RhdGUpO1xuICAgICAgICBsZXQgc29ydGVkID0gZGlhZ25vc3RpY3Muc2xpY2UoKS5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20gfHwgYS50byAtIGIudG8pO1xuICAgICAgICBsZXQgZGVjbyA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKSwgYWN0aXZlID0gW10sIHBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaSA9PSBzb3J0ZWQubGVuZ3RoID8gbnVsbCA6IHNvcnRlZFtpXTtcbiAgICAgICAgICAgIGlmICghbmV4dCAmJiAhYWN0aXZlLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCBmcm9tLCB0bztcbiAgICAgICAgICAgIGlmIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IHBvcztcbiAgICAgICAgICAgICAgICB0byA9IGFjdGl2ZS5yZWR1Y2UoKHAsIGQpID0+IE1hdGgubWluKHAsIGQudG8pLCBuZXh0ICYmIG5leHQuZnJvbSA+IGZyb20gPyBuZXh0LmZyb20gOiAxZTgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IG5leHQuZnJvbTtcbiAgICAgICAgICAgICAgICB0byA9IG5leHQudG87XG4gICAgICAgICAgICAgICAgYWN0aXZlLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGkgPCBzb3J0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBzb3J0ZWRbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5leHQuZnJvbSA9PSBmcm9tICYmIChuZXh0LnRvID4gbmV4dC5mcm9tIHx8IG5leHQudG8gPT0gZnJvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1pbihuZXh0LnRvLCB0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKG5leHQuZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2V2ID0gbWF4U2V2ZXJpdHkoYWN0aXZlKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmUuc29tZShkID0+IGQuZnJvbSA9PSBkLnRvIHx8IChkLmZyb20gPT0gZC50byAtIDEgJiYgc3RhdGUuZG9jLmxpbmVBdChkLmZyb20pLnRvID09IGQuZnJvbSkpKSB7XG4gICAgICAgICAgICAgICAgZGVjby5hZGQoZnJvbSwgZnJvbSwgRGVjb3JhdGlvbi53aWRnZXQoe1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQ6IG5ldyBEaWFnbm9zdGljV2lkZ2V0KHNldiksXG4gICAgICAgICAgICAgICAgICAgIGRpYWdub3N0aWNzOiBhY3RpdmUuc2xpY2UoKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtYXJrQ2xhc3MgPSBhY3RpdmUucmVkdWNlKChjLCBkKSA9PiBkLm1hcmtDbGFzcyA/IGMgKyBcIiBcIiArIGQubWFya0NsYXNzIDogYywgXCJcIik7XG4gICAgICAgICAgICAgICAgZGVjby5hZGQoZnJvbSwgdG8sIERlY29yYXRpb24ubWFyayh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImNtLWxpbnRSYW5nZSBjbS1saW50UmFuZ2UtXCIgKyBzZXYgKyBtYXJrQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGRpYWdub3N0aWNzOiBhY3RpdmUuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlRW5kOiBhY3RpdmUuc29tZShhID0+IGEudG8gPiB0bylcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSB0bztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVbaV0udG8gPD0gcG9zKVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmUuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNldCA9IGRlY28uZmluaXNoKCk7XG4gICAgICAgIHJldHVybiBuZXcgTGludFN0YXRlKHNldCwgcGFuZWwsIGZpbmREaWFnbm9zdGljKHNldCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmREaWFnbm9zdGljKGRpYWdub3N0aWNzLCBkaWFnbm9zdGljID0gbnVsbCwgYWZ0ZXIgPSAwKSB7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICBkaWFnbm9zdGljcy5iZXR3ZWVuKGFmdGVyLCAxZTksIChmcm9tLCB0bywgeyBzcGVjIH0pID0+IHtcbiAgICAgICAgaWYgKGRpYWdub3N0aWMgJiYgc3BlYy5kaWFnbm9zdGljcy5pbmRleE9mKGRpYWdub3N0aWMpIDwgMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgICAgIGZvdW5kID0gbmV3IFNlbGVjdGVkRGlhZ25vc3RpYyhmcm9tLCB0bywgZGlhZ25vc3RpYyB8fCBzcGVjLmRpYWdub3N0aWNzWzBdKTtcbiAgICAgICAgZWxzZSBpZiAoc3BlYy5kaWFnbm9zdGljcy5pbmRleE9mKGZvdW5kLmRpYWdub3N0aWMpIDwgMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm91bmQgPSBuZXcgU2VsZWN0ZWREaWFnbm9zdGljKGZvdW5kLmZyb20sIHRvLCBmb3VuZC5kaWFnbm9zdGljKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBoaWRlVG9vbHRpcCh0ciwgdG9vbHRpcCkge1xuICAgIGxldCBmcm9tID0gdG9vbHRpcC5wb3MsIHRvID0gdG9vbHRpcC5lbmQgfHwgZnJvbTtcbiAgICBsZXQgcmVzdWx0ID0gdHIuc3RhdGUuZmFjZXQobGludENvbmZpZykuaGlkZU9uKHRyLCBmcm9tLCB0byk7XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGxldCBsaW5lID0gdHIuc3RhcnRTdGF0ZS5kb2MubGluZUF0KHRvb2x0aXAucG9zKTtcbiAgICByZXR1cm4gISEodHIuZWZmZWN0cy5zb21lKGUgPT4gZS5pcyhzZXREaWFnbm9zdGljc0VmZmVjdCkpIHx8IHRyLmNoYW5nZXMudG91Y2hlc1JhbmdlKGxpbmUuZnJvbSwgTWF0aC5tYXgobGluZS50bywgdG8pKSk7XG59XG5mdW5jdGlvbiBtYXliZUVuYWJsZUxpbnQoc3RhdGUsIGVmZmVjdHMpIHtcbiAgICByZXR1cm4gc3RhdGUuZmllbGQobGludFN0YXRlLCBmYWxzZSkgPyBlZmZlY3RzIDogZWZmZWN0cy5jb25jYXQoU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKGxpbnRFeHRlbnNpb25zKSk7XG59XG4vKipcblJldHVybnMgYSB0cmFuc2FjdGlvbiBzcGVjIHdoaWNoIHVwZGF0ZXMgdGhlIGN1cnJlbnQgc2V0IG9mXG5kaWFnbm9zdGljcywgYW5kIGVuYWJsZXMgdGhlIGxpbnQgZXh0ZW5zaW9uIGlmIGlmIHdhc24ndCBhbHJlYWR5XG5hY3RpdmUuXG4qL1xuZnVuY3Rpb24gc2V0RGlhZ25vc3RpY3Moc3RhdGUsIGRpYWdub3N0aWNzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWZmZWN0czogbWF5YmVFbmFibGVMaW50KHN0YXRlLCBbc2V0RGlhZ25vc3RpY3NFZmZlY3Qub2YoZGlhZ25vc3RpY3MpXSlcbiAgICB9O1xufVxuLyoqXG5UaGUgc3RhdGUgZWZmZWN0IHRoYXQgdXBkYXRlcyB0aGUgc2V0IG9mIGFjdGl2ZSBkaWFnbm9zdGljcy4gQ2FuXG5iZSB1c2VmdWwgd2hlbiB3cml0aW5nIGFuIGV4dGVuc2lvbiB0aGF0IG5lZWRzIHRvIHRyYWNrIHRoZXNlLlxuKi9cbmNvbnN0IHNldERpYWdub3N0aWNzRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuY29uc3QgdG9nZ2xlUGFuZWwgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5jb25zdCBtb3ZlUGFuZWxTZWxlY3Rpb24gPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5jb25zdCBsaW50U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW50U3RhdGUoRGVjb3JhdGlvbi5ub25lLCBudWxsLCBudWxsKTtcbiAgICB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgaWYgKHRyLmRvY0NoYW5nZWQgJiYgdmFsdWUuZGlhZ25vc3RpY3Muc2l6ZSkge1xuICAgICAgICAgICAgbGV0IG1hcHBlZCA9IHZhbHVlLmRpYWdub3N0aWNzLm1hcCh0ci5jaGFuZ2VzKSwgc2VsZWN0ZWQgPSBudWxsLCBwYW5lbCA9IHZhbHVlLnBhbmVsO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbFBvcyA9IHRyLmNoYW5nZXMubWFwUG9zKHZhbHVlLnNlbGVjdGVkLmZyb20sIDEpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gZmluZERpYWdub3N0aWMobWFwcGVkLCB2YWx1ZS5zZWxlY3RlZC5kaWFnbm9zdGljLCBzZWxQb3MpIHx8IGZpbmREaWFnbm9zdGljKG1hcHBlZCwgbnVsbCwgc2VsUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWFwcGVkLnNpemUgJiYgcGFuZWwgJiYgdHIuc3RhdGUuZmFjZXQobGludENvbmZpZykuYXV0b1BhbmVsKVxuICAgICAgICAgICAgICAgIHBhbmVsID0gbnVsbDtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IExpbnRTdGF0ZShtYXBwZWQsIHBhbmVsLCBzZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0RGlhZ25vc3RpY3NFZmZlY3QpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhbmVsID0gIXRyLnN0YXRlLmZhY2V0KGxpbnRDb25maWcpLmF1dG9QYW5lbCA/IHZhbHVlLnBhbmVsIDogZWZmZWN0LnZhbHVlLmxlbmd0aCA/IExpbnRQYW5lbC5vcGVuIDogbnVsbDtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IExpbnRTdGF0ZS5pbml0KGVmZmVjdC52YWx1ZSwgcGFuZWwsIHRyLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyh0b2dnbGVQYW5lbCkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBMaW50U3RhdGUodmFsdWUuZGlhZ25vc3RpY3MsIGVmZmVjdC52YWx1ZSA/IExpbnRQYW5lbC5vcGVuIDogbnVsbCwgdmFsdWUuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKG1vdmVQYW5lbFNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBMaW50U3RhdGUodmFsdWUuZGlhZ25vc3RpY3MsIHZhbHVlLnBhbmVsLCBlZmZlY3QudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gW3Nob3dQYW5lbC5mcm9tKGYsIHZhbCA9PiB2YWwucGFuZWwpLFxuICAgICAgICBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZiwgcyA9PiBzLmRpYWdub3N0aWNzKV1cbn0pO1xuLyoqXG5SZXR1cm5zIHRoZSBudW1iZXIgb2YgYWN0aXZlIGxpbnQgZGlhZ25vc3RpY3MgaW4gdGhlIGdpdmVuIHN0YXRlLlxuKi9cbmZ1bmN0aW9uIGRpYWdub3N0aWNDb3VudChzdGF0ZSkge1xuICAgIGxldCBsaW50ID0gc3RhdGUuZmllbGQobGludFN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuIGxpbnQgPyBsaW50LmRpYWdub3N0aWNzLnNpemUgOiAwO1xufVxuY29uc3QgYWN0aXZlTWFyayA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1saW50UmFuZ2UgY20tbGludFJhbmdlLWFjdGl2ZVwiIH0pO1xuZnVuY3Rpb24gbGludFRvb2x0aXAodmlldywgcG9zLCBzaWRlKSB7XG4gICAgbGV0IHsgZGlhZ25vc3RpY3MgfSA9IHZpZXcuc3RhdGUuZmllbGQobGludFN0YXRlKTtcbiAgICBsZXQgZm91bmQsIHN0YXJ0ID0gLTEsIGVuZCA9IC0xO1xuICAgIGRpYWdub3N0aWNzLmJldHdlZW4ocG9zIC0gKHNpZGUgPCAwID8gMSA6IDApLCBwb3MgKyAoc2lkZSA+IDAgPyAxIDogMCksIChmcm9tLCB0bywgeyBzcGVjIH0pID0+IHtcbiAgICAgICAgaWYgKHBvcyA+PSBmcm9tICYmIHBvcyA8PSB0byAmJlxuICAgICAgICAgICAgKGZyb20gPT0gdG8gfHwgKChwb3MgPiBmcm9tIHx8IHNpZGUgPiAwKSAmJiAocG9zIDwgdG8gfHwgc2lkZSA8IDApKSkpIHtcbiAgICAgICAgICAgIGZvdW5kID0gc3BlYy5kaWFnbm9zdGljcztcbiAgICAgICAgICAgIHN0YXJ0ID0gZnJvbTtcbiAgICAgICAgICAgIGVuZCA9IHRvO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGRpYWdub3N0aWNGaWx0ZXIgPSB2aWV3LnN0YXRlLmZhY2V0KGxpbnRDb25maWcpLnRvb2x0aXBGaWx0ZXI7XG4gICAgaWYgKGZvdW5kICYmIGRpYWdub3N0aWNGaWx0ZXIpXG4gICAgICAgIGZvdW5kID0gZGlhZ25vc3RpY0ZpbHRlcihmb3VuZCwgdmlldy5zdGF0ZSk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zOiBzdGFydCxcbiAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgIGFib3ZlOiB2aWV3LnN0YXRlLmRvYy5saW5lQXQoc3RhcnQpLnRvIDwgZW5kLFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBkb206IGRpYWdub3N0aWNzVG9vbHRpcCh2aWV3LCBmb3VuZCkgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBkaWFnbm9zdGljc1Rvb2x0aXAodmlldywgZGlhZ25vc3RpY3MpIHtcbiAgICByZXR1cm4gZWx0KFwidWxcIiwgeyBjbGFzczogXCJjbS10b29sdGlwLWxpbnRcIiB9LCBkaWFnbm9zdGljcy5tYXAoZCA9PiByZW5kZXJEaWFnbm9zdGljKHZpZXcsIGQsIGZhbHNlKSkpO1xufVxuLyoqXG5Db21tYW5kIHRvIG9wZW4gYW5kIGZvY3VzIHRoZSBsaW50IHBhbmVsLlxuKi9cbmNvbnN0IG9wZW5MaW50UGFuZWwgPSAodmlldykgPT4ge1xuICAgIGxldCBmaWVsZCA9IHZpZXcuc3RhdGUuZmllbGQobGludFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFmaWVsZCB8fCAhZmllbGQucGFuZWwpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBtYXliZUVuYWJsZUxpbnQodmlldy5zdGF0ZSwgW3RvZ2dsZVBhbmVsLm9mKHRydWUpXSkgfSk7XG4gICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwodmlldywgTGludFBhbmVsLm9wZW4pO1xuICAgIGlmIChwYW5lbClcbiAgICAgICAgcGFuZWwuZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tcGFuZWwtbGludCB1bFwiKS5mb2N1cygpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuQ29tbWFuZCB0byBjbG9zZSB0aGUgbGludCBwYW5lbCwgd2hlbiBvcGVuLlxuKi9cbmNvbnN0IGNsb3NlTGludFBhbmVsID0gKHZpZXcpID0+IHtcbiAgICBsZXQgZmllbGQgPSB2aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghZmllbGQgfHwgIWZpZWxkLnBhbmVsKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRvZ2dsZVBhbmVsLm9mKGZhbHNlKSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgbmV4dCBkaWFnbm9zdGljLlxuKi9cbmNvbnN0IG5leHREaWFnbm9zdGljID0gKHZpZXcpID0+IHtcbiAgICBsZXQgZmllbGQgPSB2aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghZmllbGQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbiwgbmV4dCA9IGZpZWxkLmRpYWdub3N0aWNzLml0ZXIoc2VsLnRvICsgMSk7XG4gICAgaWYgKCFuZXh0LnZhbHVlKSB7XG4gICAgICAgIG5leHQgPSBmaWVsZC5kaWFnbm9zdGljcy5pdGVyKDApO1xuICAgICAgICBpZiAoIW5leHQudmFsdWUgfHwgbmV4dC5mcm9tID09IHNlbC5mcm9tICYmIG5leHQudG8gPT0gc2VsLnRvKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKHsgc2VsZWN0aW9uOiB7IGFuY2hvcjogbmV4dC5mcm9tLCBoZWFkOiBuZXh0LnRvIH0sIHNjcm9sbEludG9WaWV3OiB0cnVlIH0pO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBwcmV2aW91cyBkaWFnbm9zdGljLlxuKi9cbmNvbnN0IHByZXZpb3VzRGlhZ25vc3RpYyA9ICh2aWV3KSA9PiB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGZpZWxkID0gc3RhdGUuZmllbGQobGludFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFmaWVsZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBzZWwgPSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBsZXQgcHJldkZyb20sIHByZXZUbywgbGFzdEZyb20sIGxhc3RUbztcbiAgICBmaWVsZC5kaWFnbm9zdGljcy5iZXR3ZWVuKDAsIHN0YXRlLmRvYy5sZW5ndGgsIChmcm9tLCB0bykgPT4ge1xuICAgICAgICBpZiAodG8gPCBzZWwudG8gJiYgKHByZXZGcm9tID09IG51bGwgfHwgcHJldkZyb20gPCBmcm9tKSkge1xuICAgICAgICAgICAgcHJldkZyb20gPSBmcm9tO1xuICAgICAgICAgICAgcHJldlRvID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RGcm9tID09IG51bGwgfHwgZnJvbSA+IGxhc3RGcm9tKSB7XG4gICAgICAgICAgICBsYXN0RnJvbSA9IGZyb207XG4gICAgICAgICAgICBsYXN0VG8gPSB0bztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChsYXN0RnJvbSA9PSBudWxsIHx8IHByZXZGcm9tID09IG51bGwgJiYgbGFzdEZyb20gPT0gc2VsLmZyb20pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgc2VsZWN0aW9uOiB7IGFuY2hvcjogcHJldkZyb20gIT09IG51bGwgJiYgcHJldkZyb20gIT09IHZvaWQgMCA/IHByZXZGcm9tIDogbGFzdEZyb20sIGhlYWQ6IHByZXZUbyAhPT0gbnVsbCAmJiBwcmV2VG8gIT09IHZvaWQgMCA/IHByZXZUbyA6IGxhc3RUbyB9LCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkEgc2V0IG9mIGRlZmF1bHQga2V5IGJpbmRpbmdzIGZvciB0aGUgbGludCBmdW5jdGlvbmFsaXR5LlxuXG4tIEN0cmwtU2hpZnQtbSAoQ21kLVNoaWZ0LW0gb24gbWFjT1MpOiBbYG9wZW5MaW50UGFuZWxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xpbnQub3BlbkxpbnRQYW5lbClcbi0gRjg6IFtgbmV4dERpYWdub3N0aWNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xpbnQubmV4dERpYWdub3N0aWMpXG4qL1xuY29uc3QgbGludEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJNb2QtU2hpZnQtbVwiLCBydW46IG9wZW5MaW50UGFuZWwsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiRjhcIiwgcnVuOiBuZXh0RGlhZ25vc3RpYyB9XG5dO1xuY29uc3QgbGludFBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5zZXQgPSB0cnVlO1xuICAgICAgICBsZXQgeyBkZWxheSB9ID0gdmlldy5zdGF0ZS5mYWNldChsaW50Q29uZmlnKTtcbiAgICAgICAgdGhpcy5saW50VGltZSA9IERhdGUubm93KCkgKyBkZWxheTtcbiAgICAgICAgdGhpcy5ydW4gPSB0aGlzLnJ1bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMucnVuLCBkZWxheSk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAobm93IDwgdGhpcy5saW50VGltZSAtIDEwKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMucnVuLCB0aGlzLmxpbnRUaW1lIC0gbm93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdGhpcy52aWV3LCB7IHNvdXJjZXMgfSA9IHN0YXRlLmZhY2V0KGxpbnRDb25maWcpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJhdGNoUmVzdWx0cyhzb3VyY2VzLm1hcChzID0+IFByb21pc2UucmVzb2x2ZShzKHRoaXMudmlldykpKSwgYW5ub3RhdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlLmRvYyA9PSBzdGF0ZS5kb2MpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goc2V0RGlhZ25vc3RpY3ModGhpcy52aWV3LnN0YXRlLCBhbm5vdGF0aW9ucy5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKSkpO1xuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHsgbG9nRXhjZXB0aW9uKHRoaXMudmlldy5zdGF0ZSwgZXJyb3IpOyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjb25maWcgPSB1cGRhdGUuc3RhdGUuZmFjZXQobGludENvbmZpZyk7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCBjb25maWcgIT0gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGludENvbmZpZykgfHxcbiAgICAgICAgICAgIGNvbmZpZy5uZWVkc1JlZnJlc2ggJiYgY29uZmlnLm5lZWRzUmVmcmVzaCh1cGRhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLmxpbnRUaW1lID0gRGF0ZS5ub3coKSArIGNvbmZpZy5kZWxheTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLnJ1biwgY29uZmlnLmRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JjZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmxpbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxufSk7XG5mdW5jdGlvbiBiYXRjaFJlc3VsdHMocHJvbWlzZXMsIHNpbmssIGVycm9yKSB7XG4gICAgbGV0IGNvbGxlY3RlZCA9IFtdLCB0aW1lb3V0ID0gLTE7XG4gICAgZm9yIChsZXQgcCBvZiBwcm9taXNlcylcbiAgICAgICAgcC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGNvbGxlY3RlZC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIGlmIChjb2xsZWN0ZWQubGVuZ3RoID09IHByb21pc2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzaW5rKGNvbGxlY3RlZCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gc2luayhjb2xsZWN0ZWQpLCAyMDApO1xuICAgICAgICB9LCBlcnJvcik7XG59XG5jb25zdCBsaW50Q29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IHNvdXJjZXM6IGlucHV0Lm1hcChpID0+IGkuc291cmNlKS5maWx0ZXIoeCA9PiB4ICE9IG51bGwpIH0sIGNvbWJpbmVDb25maWcoaW5wdXQubWFwKGkgPT4gaS5jb25maWcpLCB7XG4gICAgICAgICAgICBkZWxheTogNzUwLFxuICAgICAgICAgICAgbWFya2VyRmlsdGVyOiBudWxsLFxuICAgICAgICAgICAgdG9vbHRpcEZpbHRlcjogbnVsbCxcbiAgICAgICAgICAgIG5lZWRzUmVmcmVzaDogbnVsbCxcbiAgICAgICAgICAgIGhpZGVPbjogKCkgPT4gbnVsbCxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmVlZHNSZWZyZXNoOiAoYSwgYikgPT4gIWEgPyBiIDogIWIgPyBhIDogdSA9PiBhKHUpIHx8IGIodSlcbiAgICAgICAgfSkpO1xuICAgIH1cbn0pO1xuLyoqXG5HaXZlbiBhIGRpYWdub3N0aWMgc291cmNlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXRcbmVuYWJsZXMgbGludGluZyB3aXRoIHRoYXQgc291cmNlLiBJdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGVcbmVkaXRvciBpcyBpZGxlIChhZnRlciBpdHMgY29udGVudCBjaGFuZ2VkKS4gSWYgYG51bGxgIGlzIGdpdmVuIGFzXG5zb3VyY2UsIHRoaXMgb25seSBjb25maWd1cmVzIHRoZSBsaW50IGV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBsaW50ZXIoc291cmNlLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIGxpbnRDb25maWcub2YoeyBzb3VyY2UsIGNvbmZpZyB9KSxcbiAgICAgICAgbGludFBsdWdpbixcbiAgICAgICAgbGludEV4dGVuc2lvbnNcbiAgICBdO1xufVxuLyoqXG5Gb3JjZXMgYW55IGxpbnRlcnMgW2NvbmZpZ3VyZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGludC5saW50ZXIpIHRvIHJ1biB3aGVuIHRoZVxuZWRpdG9yIGlzIGlkbGUgdG8gcnVuIHJpZ2h0IGF3YXkuXG4qL1xuZnVuY3Rpb24gZm9yY2VMaW50aW5nKHZpZXcpIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4obGludFBsdWdpbik7XG4gICAgaWYgKHBsdWdpbilcbiAgICAgICAgcGx1Z2luLmZvcmNlKCk7XG59XG5mdW5jdGlvbiBhc3NpZ25LZXlzKGFjdGlvbnMpIHtcbiAgICBsZXQgYXNzaWduZWQgPSBbXTtcbiAgICBpZiAoYWN0aW9ucylcbiAgICAgICAgYWN0aW9uczogZm9yIChsZXQgeyBuYW1lIH0gb2YgYWN0aW9ucykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoID0gbmFtZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoL1thLXpBLVpdLy50ZXN0KGNoKSAmJiAhYXNzaWduZWQuc29tZShjID0+IGMudG9Mb3dlckNhc2UoKSA9PSBjaC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZC5wdXNoKGNoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgYWN0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25lZC5wdXNoKFwiXCIpO1xuICAgICAgICB9XG4gICAgcmV0dXJuIGFzc2lnbmVkO1xufVxuZnVuY3Rpb24gcmVuZGVyRGlhZ25vc3RpYyh2aWV3LCBkaWFnbm9zdGljLCBpblBhbmVsKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBrZXlzID0gaW5QYW5lbCA/IGFzc2lnbktleXMoZGlhZ25vc3RpYy5hY3Rpb25zKSA6IFtdO1xuICAgIHJldHVybiBlbHQoXCJsaVwiLCB7IGNsYXNzOiBcImNtLWRpYWdub3N0aWMgY20tZGlhZ25vc3RpYy1cIiArIGRpYWdub3N0aWMuc2V2ZXJpdHkgfSwgZWx0KFwic3BhblwiLCB7IGNsYXNzOiBcImNtLWRpYWdub3N0aWNUZXh0XCIgfSwgZGlhZ25vc3RpYy5yZW5kZXJNZXNzYWdlID8gZGlhZ25vc3RpYy5yZW5kZXJNZXNzYWdlKHZpZXcpIDogZGlhZ25vc3RpYy5tZXNzYWdlKSwgKF9hID0gZGlhZ25vc3RpYy5hY3Rpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKChhY3Rpb24sIGkpID0+IHtcbiAgICAgICAgbGV0IGZpcmVkID0gZmFsc2UsIGNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChmaXJlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBmaXJlZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBmaW5kRGlhZ25vc3RpYyh2aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSkuZGlhZ25vc3RpY3MsIGRpYWdub3N0aWMpO1xuICAgICAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgICAgICAgIGFjdGlvbi5hcHBseSh2aWV3LCBmb3VuZC5mcm9tLCBmb3VuZC50byk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCB7IG5hbWUgfSA9IGFjdGlvbiwga2V5SW5kZXggPSBrZXlzW2ldID8gbmFtZS5pbmRleE9mKGtleXNbaV0pIDogLTE7XG4gICAgICAgIGxldCBuYW1lRWx0ID0ga2V5SW5kZXggPCAwID8gbmFtZSA6IFtuYW1lLnNsaWNlKDAsIGtleUluZGV4KSxcbiAgICAgICAgICAgIGVsdChcInVcIiwgbmFtZS5zbGljZShrZXlJbmRleCwga2V5SW5kZXggKyAxKSksXG4gICAgICAgICAgICBuYW1lLnNsaWNlKGtleUluZGV4ICsgMSldO1xuICAgICAgICByZXR1cm4gZWx0KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBjbGFzczogXCJjbS1kaWFnbm9zdGljQWN0aW9uXCIsXG4gICAgICAgICAgICBvbmNsaWNrOiBjbGljayxcbiAgICAgICAgICAgIG9ubW91c2Vkb3duOiBjbGljayxcbiAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBgIEFjdGlvbjogJHtuYW1lfSR7a2V5SW5kZXggPCAwID8gXCJcIiA6IGAgKGFjY2VzcyBrZXkgXCIke2tleXNbaV19KVwiYH0uYFxuICAgICAgICB9LCBuYW1lRWx0KTtcbiAgICB9KSwgZGlhZ25vc3RpYy5zb3VyY2UgJiYgZWx0KFwiZGl2XCIsIHsgY2xhc3M6IFwiY20tZGlhZ25vc3RpY1NvdXJjZVwiIH0sIGRpYWdub3N0aWMuc291cmNlKSk7XG59XG5jbGFzcyBEaWFnbm9zdGljV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3Ioc2V2KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2V2ID0gc2V2O1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuc2V2ID09IHRoaXMuc2V2OyB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIHJldHVybiBlbHQoXCJzcGFuXCIsIHsgY2xhc3M6IFwiY20tbGludFBvaW50IGNtLWxpbnRQb2ludC1cIiArIHRoaXMuc2V2IH0pO1xuICAgIH1cbn1cbmNsYXNzIFBhbmVsSXRlbSB7XG4gICAgY29uc3RydWN0b3IodmlldywgZGlhZ25vc3RpYykge1xuICAgICAgICB0aGlzLmRpYWdub3N0aWMgPSBkaWFnbm9zdGljO1xuICAgICAgICB0aGlzLmlkID0gXCJpdGVtX1wiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZikudG9TdHJpbmcoMTYpO1xuICAgICAgICB0aGlzLmRvbSA9IHJlbmRlckRpYWdub3N0aWModmlldywgZGlhZ25vc3RpYywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tLmlkID0gdGhpcy5pZDtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICB9XG59XG5jbGFzcyBMaW50UGFuZWwge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICBsZXQgb25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykgeyAvLyBFc2NhcGVcbiAgICAgICAgICAgICAgICBjbG9zZUxpbnRQYW5lbCh0aGlzLnZpZXcpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSAzOCB8fCBldmVudC5rZXlDb2RlID09IDMzKSB7IC8vIEFycm93VXAsIFBhZ2VVcFxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNlbGVjdGlvbigodGhpcy5zZWxlY3RlZEluZGV4IC0gMSArIHRoaXMuaXRlbXMubGVuZ3RoKSAlIHRoaXMuaXRlbXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gNDAgfHwgZXZlbnQua2V5Q29kZSA9PSAzNCkgeyAvLyBBcnJvd0Rvd24sIFBhZ2VEb3duXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlU2VsZWN0aW9uKCh0aGlzLnNlbGVjdGVkSW5kZXggKyAxKSAlIHRoaXMuaXRlbXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzYpIHsgLy8gSG9tZVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNlbGVjdGlvbigwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzUpIHsgLy8gRW5kXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlU2VsZWN0aW9uKHRoaXMuaXRlbXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7IC8vIEVudGVyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID49IDY1ICYmIGV2ZW50LmtleUNvZGUgPD0gOTAgJiYgdGhpcy5zZWxlY3RlZEluZGV4ID49IDApIHsgLy8gQS1aXG4gICAgICAgICAgICAgICAgbGV0IHsgZGlhZ25vc3RpYyB9ID0gdGhpcy5pdGVtc1t0aGlzLnNlbGVjdGVkSW5kZXhdLCBrZXlzID0gYXNzaWduS2V5cyhkaWFnbm9zdGljLmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXNbaV0udG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApID09IGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGZpbmREaWFnbm9zdGljKHRoaXMudmlldy5zdGF0ZS5maWVsZChsaW50U3RhdGUpLmRpYWdub3N0aWNzLCBkaWFnbm9zdGljKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFnbm9zdGljLmFjdGlvbnNbaV0uYXBwbHkodmlldywgZm91bmQuZnJvbSwgZm91bmQudG8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgb25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0uZG9tLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVNlbGVjdGlvbihpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0ID0gZWx0KFwidWxcIiwge1xuICAgICAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICAgICAgICByb2xlOiBcImxpc3Rib3hcIixcbiAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aGlzLnZpZXcuc3RhdGUucGhyYXNlKFwiRGlhZ25vc3RpY3NcIiksXG4gICAgICAgICAgICBvbmtleWRvd24sXG4gICAgICAgICAgICBvbmNsaWNrXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRvbSA9IGVsdChcImRpdlwiLCB7IGNsYXNzOiBcImNtLXBhbmVsLWxpbnRcIiB9LCB0aGlzLmxpc3QsIGVsdChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgbmFtZTogXCJjbG9zZVwiLFxuICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHRoaXMudmlldy5zdGF0ZS5waHJhc2UoXCJjbG9zZVwiKSxcbiAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IGNsb3NlTGludFBhbmVsKHRoaXMudmlldylcbiAgICAgICAgfSwgXCJcdTAwRDdcIikpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRJbmRleCgpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSkuc2VsZWN0ZWQ7XG4gICAgICAgIGlmICghc2VsZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2ldLmRpYWdub3N0aWMgPT0gc2VsZWN0ZWQuZGlhZ25vc3RpYylcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGxldCB7IGRpYWdub3N0aWNzLCBzZWxlY3RlZCB9ID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSk7XG4gICAgICAgIGxldCBpID0gMCwgbmVlZHNTeW5jID0gZmFsc2UsIG5ld1NlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICAgIGxldCBzZWVuID0gbmV3IFNldCgpO1xuICAgICAgICBkaWFnbm9zdGljcy5iZXR3ZWVuKDAsIHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoLCAoX3N0YXJ0LCBfZW5kLCB7IHNwZWMgfSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgZGlhZ25vc3RpYyBvZiBzcGVjLmRpYWdub3N0aWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKGRpYWdub3N0aWMpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBzZWVuLmFkZChkaWFnbm9zdGljKTtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSAtMSwgaXRlbTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IHRoaXMuaXRlbXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2pdLmRpYWdub3N0aWMgPT0gZGlhZ25vc3RpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBuZXcgUGFuZWxJdGVtKHRoaXMudmlldywgZGlhZ25vc3RpYyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDAsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBuZWVkc1N5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHRoaXMuaXRlbXNbZm91bmRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQgPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpLCBmb3VuZCAtIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNTeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQgJiYgaXRlbS5kaWFnbm9zdGljID09IHNlbGVjdGVkLmRpYWdub3N0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLmRvbS5oYXNBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRvbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5kb20uaGFzQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmRvbS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuaXRlbXMubGVuZ3RoICYmICEodGhpcy5pdGVtcy5sZW5ndGggPT0gMSAmJiB0aGlzLml0ZW1zWzBdLmRpYWdub3N0aWMuZnJvbSA8IDApKSB7XG4gICAgICAgICAgICBuZWVkc1N5bmMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKG5ldyBQYW5lbEl0ZW0odGhpcy52aWV3LCB7XG4gICAgICAgICAgICAgICAgZnJvbTogLTEsIHRvOiAtMSxcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogXCJpbmZvXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy52aWV3LnN0YXRlLnBocmFzZShcIk5vIGRpYWdub3N0aWNzXCIpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBuZWVkc1N5bmMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdTZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiwgbmV3U2VsZWN0ZWRJdGVtLmlkKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh7XG4gICAgICAgICAgICAgICAga2V5OiB0aGlzLFxuICAgICAgICAgICAgICAgIHJlYWQ6ICgpID0+ICh7IHNlbDogbmV3U2VsZWN0ZWRJdGVtLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgcGFuZWw6IHRoaXMubGlzdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB9KSxcbiAgICAgICAgICAgICAgICB3cml0ZTogKHsgc2VsLCBwYW5lbCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzY2FsZVkgPSBwYW5lbC5oZWlnaHQgLyB0aGlzLmxpc3Qub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsLnRvcCA8IHBhbmVsLnRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdC5zY3JvbGxUb3AgLT0gKHBhbmVsLnRvcCAtIHNlbC50b3ApIC8gc2NhbGVZO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWwuYm90dG9tID4gcGFuZWwuYm90dG9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0LnNjcm9sbFRvcCArPSAoc2VsLmJvdHRvbSAtIHBhbmVsLmJvdHRvbSkgLyBzY2FsZVk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RlZEluZGV4IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5saXN0LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZHNTeW5jKVxuICAgICAgICAgICAgdGhpcy5zeW5jKCk7XG4gICAgfVxuICAgIHN5bmMoKSB7XG4gICAgICAgIGxldCBkb21Qb3MgPSB0aGlzLmxpc3QuZmlyc3RDaGlsZDtcbiAgICAgICAgZnVuY3Rpb24gcm0oKSB7XG4gICAgICAgICAgICBsZXQgcHJldiA9IGRvbVBvcztcbiAgICAgICAgICAgIGRvbVBvcyA9IHByZXYubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBwcmV2LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5pdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5saXN0KSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGRvbVBvcyAhPSBpdGVtLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgcm0oKTtcbiAgICAgICAgICAgICAgICBkb21Qb3MgPSBpdGVtLmRvbS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdC5pbnNlcnRCZWZvcmUoaXRlbS5kb20sIGRvbVBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGRvbVBvcylcbiAgICAgICAgICAgIHJtKCk7XG4gICAgfVxuICAgIG1vdmVTZWxlY3Rpb24oc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4IDwgMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZpZWxkID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGxpbnRTdGF0ZSk7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBmaW5kRGlhZ25vc3RpYyhmaWVsZC5kaWFnbm9zdGljcywgdGhpcy5pdGVtc1tzZWxlY3RlZEluZGV4XS5kaWFnbm9zdGljKTtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICBzZWxlY3Rpb246IHsgYW5jaG9yOiBzZWxlY3Rpb24uZnJvbSwgaGVhZDogc2VsZWN0aW9uLnRvIH0sXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIGVmZmVjdHM6IG1vdmVQYW5lbFNlbGVjdGlvbi5vZihzZWxlY3Rpb24pXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgb3Blbih2aWV3KSB7IHJldHVybiBuZXcgTGludFBhbmVsKHZpZXcpOyB9XG59XG5mdW5jdGlvbiBzdmcoY29udGVudCwgYXR0cnMgPSBgdmlld0JveD1cIjAgMCA0MCA0MFwiYCkge1xuICAgIHJldHVybiBgdXJsKCdkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgJHthdHRyc30+JHtlbmNvZGVVUklDb21wb25lbnQoY29udGVudCl9PC9zdmc+JylgO1xufVxuZnVuY3Rpb24gdW5kZXJsaW5lKGNvbG9yKSB7XG4gICAgcmV0dXJuIHN2ZyhgPHBhdGggZD1cIm0wIDIuNSBsMiAtMS41IGwxIDAgbDIgMS41IGwxIDBcIiBzdHJva2U9XCIke2NvbG9yfVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiLjdcIi8+YCwgYHdpZHRoPVwiNlwiIGhlaWdodD1cIjNcImApO1xufVxuY29uc3QgYmFzZVRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS1kaWFnbm9zdGljXCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIzcHggNnB4IDNweCA4cHhcIixcbiAgICAgICAgbWFyZ2luTGVmdDogXCItMXB4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtd3JhcFwiXG4gICAgfSxcbiAgICBcIi5jbS1kaWFnbm9zdGljLWVycm9yXCI6IHsgYm9yZGVyTGVmdDogXCI1cHggc29saWQgI2QxMVwiIH0sXG4gICAgXCIuY20tZGlhZ25vc3RpYy13YXJuaW5nXCI6IHsgYm9yZGVyTGVmdDogXCI1cHggc29saWQgb3JhbmdlXCIgfSxcbiAgICBcIi5jbS1kaWFnbm9zdGljLWluZm9cIjogeyBib3JkZXJMZWZ0OiBcIjVweCBzb2xpZCAjOTk5XCIgfSxcbiAgICBcIi5jbS1kaWFnbm9zdGljLWhpbnRcIjogeyBib3JkZXJMZWZ0OiBcIjVweCBzb2xpZCAjNjZkXCIgfSxcbiAgICBcIi5jbS1kaWFnbm9zdGljQWN0aW9uXCI6IHtcbiAgICAgICAgZm9udDogXCJpbmhlcml0XCIsXG4gICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDRweFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzQ0NFwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiOHB4XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIFwiLmNtLWRpYWdub3N0aWNTb3VyY2VcIjoge1xuICAgICAgICBmb250U2l6ZTogXCI3MCVcIixcbiAgICAgICAgb3BhY2l0eTogLjdcbiAgICB9LFxuICAgIFwiLmNtLWxpbnRSYW5nZVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCJsZWZ0IGJvdHRvbVwiLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcInJlcGVhdC14XCIsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IFwiMC43cHhcIixcbiAgICB9LFxuICAgIFwiLmNtLWxpbnRSYW5nZS1lcnJvclwiOiB7IGJhY2tncm91bmRJbWFnZTogLypAX19QVVJFX18qL3VuZGVybGluZShcIiNkMTFcIikgfSxcbiAgICBcIi5jbS1saW50UmFuZ2Utd2FybmluZ1wiOiB7IGJhY2tncm91bmRJbWFnZTogLypAX19QVVJFX18qL3VuZGVybGluZShcIm9yYW5nZVwiKSB9LFxuICAgIFwiLmNtLWxpbnRSYW5nZS1pbmZvXCI6IHsgYmFja2dyb3VuZEltYWdlOiAvKkBfX1BVUkVfXyovdW5kZXJsaW5lKFwiIzk5OVwiKSB9LFxuICAgIFwiLmNtLWxpbnRSYW5nZS1oaW50XCI6IHsgYmFja2dyb3VuZEltYWdlOiAvKkBfX1BVUkVfXyovdW5kZXJsaW5lKFwiIzY2ZFwiKSB9LFxuICAgIFwiLmNtLWxpbnRSYW5nZS1hY3RpdmVcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZGQ5OTgwXCIgfSxcbiAgICBcIi5jbS10b29sdGlwLWxpbnRcIjoge1xuICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICBtYXJnaW46IDBcbiAgICB9LFxuICAgIFwiLmNtLWxpbnRQb2ludFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnXCJcIicsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgbGVmdDogXCItMnB4XCIsXG4gICAgICAgICAgICBib3JkZXJMZWZ0OiBcIjNweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IFwiM3B4IHNvbGlkIHRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiNHB4IHNvbGlkICNkMTFcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5jbS1saW50UG9pbnQtd2FybmluZ1wiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGJvcmRlckJvdHRvbUNvbG9yOiBcIm9yYW5nZVwiIH1cbiAgICB9LFxuICAgIFwiLmNtLWxpbnRQb2ludC1pbmZvXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgYm9yZGVyQm90dG9tQ29sb3I6IFwiIzk5OVwiIH1cbiAgICB9LFxuICAgIFwiLmNtLWxpbnRQb2ludC1oaW50XCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgYm9yZGVyQm90dG9tQ29sb3I6IFwiIzY2ZFwiIH1cbiAgICB9LFxuICAgIFwiLmNtLXBhbmVsLmNtLXBhbmVsLWxpbnRcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBcIiYgdWxcIjoge1xuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMHB4XCIsXG4gICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgXCImIFthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNkZGRcIixcbiAgICAgICAgICAgICAgICBcIiYgdVwiOiB7IHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6Zm9jdXMgW2FyaWEtc2VsZWN0ZWRdXCI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kX2ZhbGxiYWNrOiBcIiNiZGZcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiSGlnaGxpZ2h0XCIsXG4gICAgICAgICAgICAgICAgY29sb3JfZmFsbGJhY2s6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJIaWdobGlnaHRUZXh0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYgdVwiOiB7IHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiB9LFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICB9LFxuICAgICAgICBcIiYgW25hbWU9Y2xvc2VdXCI6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgcmlnaHQ6IFwiMnB4XCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICBmb250OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBtYXJnaW46IDBcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuZnVuY3Rpb24gc2V2ZXJpdHlXZWlnaHQoc2V2KSB7XG4gICAgcmV0dXJuIHNldiA9PSBcImVycm9yXCIgPyA0IDogc2V2ID09IFwid2FybmluZ1wiID8gMyA6IHNldiA9PSBcImluZm9cIiA/IDIgOiAxO1xufVxuZnVuY3Rpb24gbWF4U2V2ZXJpdHkoZGlhZ25vc3RpY3MpIHtcbiAgICBsZXQgc2V2ID0gXCJoaW50XCIsIHdlaWdodCA9IDE7XG4gICAgZm9yIChsZXQgZCBvZiBkaWFnbm9zdGljcykge1xuICAgICAgICBsZXQgdyA9IHNldmVyaXR5V2VpZ2h0KGQuc2V2ZXJpdHkpO1xuICAgICAgICBpZiAodyA+IHdlaWdodCkge1xuICAgICAgICAgICAgd2VpZ2h0ID0gdztcbiAgICAgICAgICAgIHNldiA9IGQuc2V2ZXJpdHk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldjtcbn1cbmNsYXNzIExpbnRHdXR0ZXJNYXJrZXIgZXh0ZW5kcyBHdXR0ZXJNYXJrZXIge1xuICAgIGNvbnN0cnVjdG9yKGRpYWdub3N0aWNzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGlhZ25vc3RpY3MgPSBkaWFnbm9zdGljcztcbiAgICAgICAgdGhpcy5zZXZlcml0eSA9IG1heFNldmVyaXR5KGRpYWdub3N0aWNzKTtcbiAgICB9XG4gICAgdG9ET00odmlldykge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWx0LmNsYXNzTmFtZSA9IFwiY20tbGludC1tYXJrZXIgY20tbGludC1tYXJrZXItXCIgKyB0aGlzLnNldmVyaXR5O1xuICAgICAgICBsZXQgZGlhZ25vc3RpY3MgPSB0aGlzLmRpYWdub3N0aWNzO1xuICAgICAgICBsZXQgZGlhZ25vc3RpY3NGaWx0ZXIgPSB2aWV3LnN0YXRlLmZhY2V0KGxpbnRHdXR0ZXJDb25maWcpLnRvb2x0aXBGaWx0ZXI7XG4gICAgICAgIGlmIChkaWFnbm9zdGljc0ZpbHRlcilcbiAgICAgICAgICAgIGRpYWdub3N0aWNzID0gZGlhZ25vc3RpY3NGaWx0ZXIoZGlhZ25vc3RpY3MsIHZpZXcuc3RhdGUpO1xuICAgICAgICBpZiAoZGlhZ25vc3RpY3MubGVuZ3RoKVxuICAgICAgICAgICAgZWx0Lm9ubW91c2VvdmVyID0gKCkgPT4gZ3V0dGVyTWFya2VyTW91c2VPdmVyKHZpZXcsIGVsdCwgZGlhZ25vc3RpY3MpO1xuICAgICAgICByZXR1cm4gZWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYWNrSG92ZXJPbih2aWV3LCBtYXJrZXIpIHtcbiAgICBsZXQgbW91c2Vtb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCByZWN0ID0gbWFya2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoZXZlbnQuY2xpZW50WCA+IHJlY3QubGVmdCAtIDEwIC8qIEhvdmVyLk1hcmdpbiAqLyAmJiBldmVudC5jbGllbnRYIDwgcmVjdC5yaWdodCArIDEwIC8qIEhvdmVyLk1hcmdpbiAqLyAmJlxuICAgICAgICAgICAgZXZlbnQuY2xpZW50WSA+IHJlY3QudG9wIC0gMTAgLyogSG92ZXIuTWFyZ2luICovICYmIGV2ZW50LmNsaWVudFkgPCByZWN0LmJvdHRvbSArIDEwIC8qIEhvdmVyLk1hcmdpbiAqLylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OyB0YXJnZXQ7IHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlID09IDEgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNtLXRvb2x0aXAtbGludFwiKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2Vtb3ZlKTtcbiAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmllbGQobGludEd1dHRlclRvb2x0aXApKVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldExpbnRHdXR0ZXJUb29sdGlwLm9mKG51bGwpIH0pO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2Vtb3ZlKTtcbn1cbmZ1bmN0aW9uIGd1dHRlck1hcmtlck1vdXNlT3Zlcih2aWV3LCBtYXJrZXIsIGRpYWdub3N0aWNzKSB7XG4gICAgZnVuY3Rpb24gaG92ZXJlZCgpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmVsZW1lbnRBdEhlaWdodChtYXJrZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgNSAtIHZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICAgICBjb25zdCBsaW5lUG9zID0gdmlldy5jb29yZHNBdFBvcyhsaW5lLmZyb20pO1xuICAgICAgICBpZiAobGluZVBvcykge1xuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldExpbnRHdXR0ZXJUb29sdGlwLm9mKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zOiBsaW5lLmZyb20sXG4gICAgICAgICAgICAgICAgICAgIGFib3ZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2xpcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tOiBkaWFnbm9zdGljc1Rvb2x0aXAodmlldywgZGlhZ25vc3RpY3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENvb3JkczogKCkgPT4gbWFya2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFya2VyLm9ubW91c2VvdXQgPSBtYXJrZXIub25tb3VzZW1vdmUgPSBudWxsO1xuICAgICAgICB0cmFja0hvdmVyT24odmlldywgbWFya2VyKTtcbiAgICB9XG4gICAgbGV0IHsgaG92ZXJUaW1lIH0gPSB2aWV3LnN0YXRlLmZhY2V0KGxpbnRHdXR0ZXJDb25maWcpO1xuICAgIGxldCBob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KGhvdmVyZWQsIGhvdmVyVGltZSk7XG4gICAgbWFya2VyLm9ubW91c2VvdXQgPSAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVvdXQpO1xuICAgICAgICBtYXJrZXIub25tb3VzZW91dCA9IG1hcmtlci5vbm1vdXNlbW92ZSA9IG51bGw7XG4gICAgfTtcbiAgICBtYXJrZXIub25tb3VzZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVvdXQpO1xuICAgICAgICBob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KGhvdmVyZWQsIGhvdmVyVGltZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcmtlcnNGb3JEaWFnbm9zdGljcyhkb2MsIGRpYWdub3N0aWNzKSB7XG4gICAgbGV0IGJ5TGluZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgZGlhZ25vc3RpYyBvZiBkaWFnbm9zdGljcykge1xuICAgICAgICBsZXQgbGluZSA9IGRvYy5saW5lQXQoZGlhZ25vc3RpYy5mcm9tKTtcbiAgICAgICAgKGJ5TGluZVtsaW5lLmZyb21dIHx8IChieUxpbmVbbGluZS5mcm9tXSA9IFtdKSkucHVzaChkaWFnbm9zdGljKTtcbiAgICB9XG4gICAgbGV0IG1hcmtlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBsaW5lIGluIGJ5TGluZSkge1xuICAgICAgICBtYXJrZXJzLnB1c2gobmV3IExpbnRHdXR0ZXJNYXJrZXIoYnlMaW5lW2xpbmVdKS5yYW5nZSgrbGluZSkpO1xuICAgIH1cbiAgICByZXR1cm4gUmFuZ2VTZXQub2YobWFya2VycywgdHJ1ZSk7XG59XG5jb25zdCBsaW50R3V0dGVyRXh0ZW5zaW9uID0gLypAX19QVVJFX18qL2d1dHRlcih7XG4gICAgY2xhc3M6IFwiY20tZ3V0dGVyLWxpbnRcIixcbiAgICBtYXJrZXJzOiB2aWV3ID0+IHZpZXcuc3RhdGUuZmllbGQobGludEd1dHRlck1hcmtlcnMpLFxuICAgIHdpZGdldE1hcmtlcjogKHZpZXcsIHdpZGdldCwgYmxvY2spID0+IHtcbiAgICAgICAgbGV0IGRpYWdub3N0aWNzID0gW107XG4gICAgICAgIHZpZXcuc3RhdGUuZmllbGQobGludEd1dHRlck1hcmtlcnMpLmJldHdlZW4oYmxvY2suZnJvbSwgYmxvY2sudG8sIChmcm9tLCB0bywgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChmcm9tID4gYmxvY2suZnJvbSAmJiBmcm9tIDwgYmxvY2sudG8pXG4gICAgICAgICAgICAgICAgZGlhZ25vc3RpY3MucHVzaCguLi52YWx1ZS5kaWFnbm9zdGljcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGlhZ25vc3RpY3MubGVuZ3RoID8gbmV3IExpbnRHdXR0ZXJNYXJrZXIoZGlhZ25vc3RpY3MpIDogbnVsbDtcbiAgICB9XG59KTtcbmNvbnN0IGxpbnRHdXR0ZXJNYXJrZXJzID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBSYW5nZVNldC5lbXB0eTtcbiAgICB9LFxuICAgIHVwZGF0ZShtYXJrZXJzLCB0cikge1xuICAgICAgICBtYXJrZXJzID0gbWFya2Vycy5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCBkaWFnbm9zdGljRmlsdGVyID0gdHIuc3RhdGUuZmFjZXQobGludEd1dHRlckNvbmZpZykubWFya2VyRmlsdGVyO1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhzZXREaWFnbm9zdGljc0VmZmVjdCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGlhZ25vc3RpY3MgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGRpYWdub3N0aWNGaWx0ZXIpXG4gICAgICAgICAgICAgICAgICAgIGRpYWdub3N0aWNzID0gZGlhZ25vc3RpY0ZpbHRlcihkaWFnbm9zdGljcyB8fCBbXSwgdHIuc3RhdGUpO1xuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBtYXJrZXJzRm9yRGlhZ25vc3RpY3ModHIuc3RhdGUuZG9jLCBkaWFnbm9zdGljcy5zbGljZSgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcmtlcnM7XG4gICAgfVxufSk7XG5jb25zdCBzZXRMaW50R3V0dGVyVG9vbHRpcCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGxpbnRHdXR0ZXJUb29sdGlwID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHVwZGF0ZSh0b29sdGlwLCB0cikge1xuICAgICAgICBpZiAodG9vbHRpcCAmJiB0ci5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdG9vbHRpcCA9IGhpZGVUb29sdGlwKHRyLCB0b29sdGlwKSA/IG51bGwgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRvb2x0aXApLCB7IHBvczogdHIuY2hhbmdlcy5tYXBQb3ModG9vbHRpcC5wb3MpIH0pO1xuICAgICAgICByZXR1cm4gdHIuZWZmZWN0cy5yZWR1Y2UoKHQsIGUpID0+IGUuaXMoc2V0TGludEd1dHRlclRvb2x0aXApID8gZS52YWx1ZSA6IHQsIHRvb2x0aXApO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZmllbGQgPT4gc2hvd1Rvb2x0aXAuZnJvbShmaWVsZClcbn0pO1xuY29uc3QgbGludEd1dHRlclRoZW1lID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuYmFzZVRoZW1lKHtcbiAgICBcIi5jbS1ndXR0ZXItbGludFwiOiB7XG4gICAgICAgIHdpZHRoOiBcIjEuNGVtXCIsXG4gICAgICAgIFwiJiAuY20tZ3V0dGVyRWxlbWVudFwiOiB7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIi4yZW1cIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5jbS1saW50LW1hcmtlclwiOiB7XG4gICAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMWVtXCJcbiAgICB9LFxuICAgIFwiLmNtLWxpbnQtbWFya2VyLWluZm9cIjoge1xuICAgICAgICBjb250ZW50OiAvKkBfX1BVUkVfXyovc3ZnKGA8cGF0aCBmaWxsPVwiI2FhZlwiIHN0cm9rZT1cIiM3N2VcIiBzdHJva2Utd2lkdGg9XCI2XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTUgNUwzNSA1TDM1IDM1TDUgMzVaXCIvPmApXG4gICAgfSxcbiAgICBcIi5jbS1saW50LW1hcmtlci13YXJuaW5nXCI6IHtcbiAgICAgICAgY29udGVudDogLypAX19QVVJFX18qL3N2ZyhgPHBhdGggZmlsbD1cIiNmZThcIiBzdHJva2U9XCIjZmQ3XCIgc3Ryb2tlLXdpZHRoPVwiNlwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0yMCA2TDM3IDM1TDMgMzVaXCIvPmApLFxuICAgIH0sXG4gICAgXCIuY20tbGludC1tYXJrZXItZXJyb3JcIjoge1xuICAgICAgICBjb250ZW50OiAvKkBfX1BVUkVfXyovc3ZnKGA8Y2lyY2xlIGN4PVwiMjBcIiBjeT1cIjIwXCIgcj1cIjE1XCIgZmlsbD1cIiNmODdcIiBzdHJva2U9XCIjZjQzXCIgc3Ryb2tlLXdpZHRoPVwiNlwiLz5gKVxuICAgIH0sXG59KTtcbmNvbnN0IGxpbnRFeHRlbnNpb25zID0gW1xuICAgIGxpbnRTdGF0ZSxcbiAgICAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5jb21wdXRlKFtsaW50U3RhdGVdLCBzdGF0ZSA9PiB7XG4gICAgICAgIGxldCB7IHNlbGVjdGVkLCBwYW5lbCB9ID0gc3RhdGUuZmllbGQobGludFN0YXRlKTtcbiAgICAgICAgcmV0dXJuICFzZWxlY3RlZCB8fCAhcGFuZWwgfHwgc2VsZWN0ZWQuZnJvbSA9PSBzZWxlY3RlZC50byA/IERlY29yYXRpb24ubm9uZSA6IERlY29yYXRpb24uc2V0KFtcbiAgICAgICAgICAgIGFjdGl2ZU1hcmsucmFuZ2Uoc2VsZWN0ZWQuZnJvbSwgc2VsZWN0ZWQudG8pXG4gICAgICAgIF0pO1xuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9ob3ZlclRvb2x0aXAobGludFRvb2x0aXAsIHsgaGlkZU9uOiBoaWRlVG9vbHRpcCB9KSxcbiAgICBiYXNlVGhlbWVcbl07XG5jb25zdCBsaW50R3V0dGVyQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIGhvdmVyVGltZTogMzAwIC8qIEhvdmVyLlRpbWUgKi8sXG4gICAgICAgICAgICBtYXJrZXJGaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICB0b29sdGlwRmlsdGVyOiBudWxsXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGluc3RhbGxzIGEgZ3V0dGVyIHNob3dpbmcgbWFya2VycyBmb3JcbmVhY2ggbGluZSB0aGF0IGhhcyBkaWFnbm9zdGljcywgd2hpY2ggY2FuIGJlIGhvdmVyZWQgb3ZlciB0byBzZWVcbnRoZSBkaWFnbm9zdGljcy5cbiovXG5mdW5jdGlvbiBsaW50R3V0dGVyKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtsaW50R3V0dGVyQ29uZmlnLm9mKGNvbmZpZyksIGxpbnRHdXR0ZXJNYXJrZXJzLCBsaW50R3V0dGVyRXh0ZW5zaW9uLCBsaW50R3V0dGVyVGhlbWUsIGxpbnRHdXR0ZXJUb29sdGlwXTtcbn1cbi8qKlxuSXRlcmF0ZSBvdmVyIHRoZSBtYXJrZWQgZGlhZ25vc3RpY3MgZm9yIHRoZSBnaXZlbiBlZGl0b3Igc3RhdGUsXG5jYWxsaW5nIGBmYCBmb3IgZWFjaCBvZiB0aGVtLiBOb3RlIHRoYXQsIGlmIHRoZSBkb2N1bWVudCBjaGFuZ2VkXG5zaW5jZSB0aGUgZGlhZ25vc3RpY3Mgd2VyZSBjcmVhdGVkLCB0aGUgYERpYWdub3N0aWNgIG9iamVjdCB3aWxsXG5ob2xkIHRoZSBvcmlnaW5hbCBvdXRkYXRlZCBwb3NpdGlvbiwgd2hlcmVhcyB0aGUgYHRvYCBhbmQgYGZyb21gXG5hcmd1bWVudHMgaG9sZCB0aGUgZGlhZ25vc3RpYydzIGN1cnJlbnQgcG9zaXRpb24uXG4qL1xuZnVuY3Rpb24gZm9yRWFjaERpYWdub3N0aWMoc3RhdGUsIGYpIHtcbiAgICBsZXQgbFN0YXRlID0gc3RhdGUuZmllbGQobGludFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKGxTdGF0ZSAmJiBsU3RhdGUuZGlhZ25vc3RpY3Muc2l6ZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IFtdLCBwZW5kaW5nU3RhcnQgPSBbXSwgbGFzdEVuZCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpdGVyID0gUmFuZ2VTZXQuaXRlcihbbFN0YXRlLmRpYWdub3N0aWNzXSk7OyBpdGVyLm5leHQoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZW5kaW5nLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmICghaXRlci52YWx1ZSB8fCBpdGVyLnZhbHVlLnNwZWMuZGlhZ25vc3RpY3MuaW5kZXhPZihwZW5kaW5nW2ldKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZihwZW5kaW5nW2ldLCBwZW5kaW5nU3RhcnRbaV0sIGxhc3RFbmQpO1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXJ0LnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXRlci52YWx1ZSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgaXRlci52YWx1ZS5zcGVjLmRpYWdub3N0aWNzKVxuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nLmluZGV4T2YoZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXJ0LnB1c2goaXRlci5mcm9tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0RW5kID0gaXRlci50bztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgY2xvc2VMaW50UGFuZWwsIGRpYWdub3N0aWNDb3VudCwgZm9yRWFjaERpYWdub3N0aWMsIGZvcmNlTGludGluZywgbGludEd1dHRlciwgbGludEtleW1hcCwgbGludGVyLCBuZXh0RGlhZ25vc3RpYywgb3BlbkxpbnRQYW5lbCwgcHJldmlvdXNEaWFnbm9zdGljLCBzZXREaWFnbm9zdGljcywgc2V0RGlhZ25vc3RpY3NFZmZlY3QgfTtcbiIsICJpbXBvcnQgeyBsaW5lTnVtYmVycywgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlciwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzLCBkcmF3U2VsZWN0aW9uLCBkcm9wQ3Vyc29yLCByZWN0YW5ndWxhclNlbGVjdGlvbiwgY3Jvc3NoYWlyQ3Vyc29yLCBoaWdobGlnaHRBY3RpdmVMaW5lLCBrZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmV4cG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEVkaXRvclN0YXRlIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgZm9sZEd1dHRlciwgaW5kZW50T25JbnB1dCwgc3ludGF4SGlnaGxpZ2h0aW5nLCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIGJyYWNrZXRNYXRjaGluZywgZm9sZEtleW1hcCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IGhpc3RvcnksIGRlZmF1bHRLZXltYXAsIGhpc3RvcnlLZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci9jb21tYW5kcyc7XG5pbXBvcnQgeyBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzLCBzZWFyY2hLZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci9zZWFyY2gnO1xuaW1wb3J0IHsgY2xvc2VCcmFja2V0cywgYXV0b2NvbXBsZXRpb24sIGNsb3NlQnJhY2tldHNLZXltYXAsIGNvbXBsZXRpb25LZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci9hdXRvY29tcGxldGUnO1xuaW1wb3J0IHsgbGludEtleW1hcCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xpbnQnO1xuXG4vLyAoVGhlIHN1cGVyZmx1b3VzIGZ1bmN0aW9uIGNhbGxzIGFyb3VuZCB0aGUgbGlzdCBvZiBleHRlbnNpb25zIHdvcmtcbi8vIGFyb3VuZCBjdXJyZW50IGxpbWl0YXRpb25zIGluIHRyZWUtc2hha2luZyBzb2Z0d2FyZS4pXG4vKipcblRoaXMgaXMgYW4gZXh0ZW5zaW9uIHZhbHVlIHRoYXQganVzdCBwdWxscyB0b2dldGhlciBhIG51bWJlciBvZlxuZXh0ZW5zaW9ucyB0aGF0IHlvdSBtaWdodCB3YW50IGluIGEgYmFzaWMgZWRpdG9yLiBJdCBpcyBtZWFudCBhcyBhXG5jb252ZW5pZW50IGhlbHBlciB0byBxdWlja2x5IHNldCB1cCBDb2RlTWlycm9yIHdpdGhvdXQgaW5zdGFsbGluZ1xuYW5kIGltcG9ydGluZyBhIGxvdCBvZiBzZXBhcmF0ZSBwYWNrYWdlcy5cblxuU3BlY2lmaWNhbGx5LCBpdCBpbmNsdWRlcy4uLlxuXG4gLSBbdGhlIGRlZmF1bHQgY29tbWFuZCBiaW5kaW5nc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWZhdWx0S2V5bWFwKVxuIC0gW2xpbmUgbnVtYmVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmxpbmVOdW1iZXJzKVxuIC0gW3NwZWNpYWwgY2hhcmFjdGVyIGhpZ2hsaWdodGluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmhpZ2hsaWdodFNwZWNpYWxDaGFycylcbiAtIFt0aGUgdW5kbyBoaXN0b3J5XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmhpc3RvcnkpXG4gLSBbYSBmb2xkIGd1dHRlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkR3V0dGVyKVxuIC0gW2N1c3RvbSBzZWxlY3Rpb24gZHJhd2luZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmRyYXdTZWxlY3Rpb24pXG4gLSBbZHJvcCBjdXJzb3JdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5kcm9wQ3Vyc29yKVxuIC0gW211bHRpcGxlIHNlbGVjdGlvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVeYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMpXG4gLSBbcmVpbmRlbnRhdGlvbiBvbiBpbnB1dF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRPbklucHV0KVxuIC0gW3RoZSBkZWZhdWx0IGhpZ2hsaWdodCBzdHlsZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5kZWZhdWx0SGlnaGxpZ2h0U3R5bGUpIChhcyBmYWxsYmFjaylcbiAtIFticmFja2V0IG1hdGNoaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmJyYWNrZXRNYXRjaGluZylcbiAtIFticmFja2V0IGNsb3NpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmNsb3NlQnJhY2tldHMpXG4gLSBbYXV0b2NvbXBsZXRpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLmF1dG9jb21wbGV0aW9uKVxuIC0gW3JlY3Rhbmd1bGFyIHNlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LnJlY3Rhbmd1bGFyU2VsZWN0aW9uKSBhbmQgW2Nyb3NzaGFpciBjdXJzb3JdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5jcm9zc2hhaXJDdXJzb3IpXG4gLSBbYWN0aXZlIGxpbmUgaGlnaGxpZ2h0aW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuaGlnaGxpZ2h0QWN0aXZlTGluZSlcbiAtIFthY3RpdmUgbGluZSBndXR0ZXIgaGlnaGxpZ2h0aW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlcilcbiAtIFtzZWxlY3Rpb24gbWF0Y2ggaGlnaGxpZ2h0aW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3NlYXJjaC5oaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzKVxuIC0gW3NlYXJjaF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzZWFyY2guc2VhcmNoS2V5bWFwKVxuIC0gW2xpbnRpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGludC5saW50S2V5bWFwKVxuXG4oWW91J2xsIHByb2JhYmx5IHdhbnQgdG8gYWRkIHNvbWUgbGFuZ3VhZ2UgcGFja2FnZSB0byB5b3VyIHNldHVwXG50b28uKVxuXG5UaGlzIGV4dGVuc2lvbiBkb2VzIG5vdCBhbGxvdyBjdXN0b21pemF0aW9uLiBUaGUgaWRlYSBpcyB0aGF0LFxub25jZSB5b3UgZGVjaWRlIHlvdSB3YW50IHRvIGNvbmZpZ3VyZSB5b3VyIGVkaXRvciBtb3JlIHByZWNpc2VseSxcbnlvdSB0YWtlIHRoaXMgcGFja2FnZSdzIHNvdXJjZSAod2hpY2ggaXMganVzdCBhIGJ1bmNoIG9mIGltcG9ydHNcbmFuZCBhbiBhcnJheSBsaXRlcmFsKSwgY29weSBpdCBpbnRvIHlvdXIgb3duIGNvZGUsIGFuZCBhZGp1c3QgaXRcbmFzIGRlc2lyZWQuXG4qL1xuY29uc3QgYmFzaWNTZXR1cCA9IC8qQF9fUFVSRV9fKi8oKCkgPT4gW1xuICAgIGxpbmVOdW1iZXJzKCksXG4gICAgaGlnaGxpZ2h0QWN0aXZlTGluZUd1dHRlcigpLFxuICAgIGhpZ2hsaWdodFNwZWNpYWxDaGFycygpLFxuICAgIGhpc3RvcnkoKSxcbiAgICBmb2xkR3V0dGVyKCksXG4gICAgZHJhd1NlbGVjdGlvbigpLFxuICAgIGRyb3BDdXJzb3IoKSxcbiAgICBFZGl0b3JTdGF0ZS5hbGxvd011bHRpcGxlU2VsZWN0aW9ucy5vZih0cnVlKSxcbiAgICBpbmRlbnRPbklucHV0KCksXG4gICAgc3ludGF4SGlnaGxpZ2h0aW5nKGRlZmF1bHRIaWdobGlnaHRTdHlsZSwgeyBmYWxsYmFjazogdHJ1ZSB9KSxcbiAgICBicmFja2V0TWF0Y2hpbmcoKSxcbiAgICBjbG9zZUJyYWNrZXRzKCksXG4gICAgYXV0b2NvbXBsZXRpb24oKSxcbiAgICByZWN0YW5ndWxhclNlbGVjdGlvbigpLFxuICAgIGNyb3NzaGFpckN1cnNvcigpLFxuICAgIGhpZ2hsaWdodEFjdGl2ZUxpbmUoKSxcbiAgICBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzKCksXG4gICAga2V5bWFwLm9mKFtcbiAgICAgICAgLi4uY2xvc2VCcmFja2V0c0tleW1hcCxcbiAgICAgICAgLi4uZGVmYXVsdEtleW1hcCxcbiAgICAgICAgLi4uc2VhcmNoS2V5bWFwLFxuICAgICAgICAuLi5oaXN0b3J5S2V5bWFwLFxuICAgICAgICAuLi5mb2xkS2V5bWFwLFxuICAgICAgICAuLi5jb21wbGV0aW9uS2V5bWFwLFxuICAgICAgICAuLi5saW50S2V5bWFwXG4gICAgXSlcbl0pKCk7XG4vKipcbkEgbWluaW1hbCBzZXQgb2YgZXh0ZW5zaW9ucyB0byBjcmVhdGUgYSBmdW5jdGlvbmFsIGVkaXRvci4gT25seVxuaW5jbHVkZXMgW3RoZSBkZWZhdWx0IGtleW1hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWZhdWx0S2V5bWFwKSwgW3VuZG9cbmhpc3RvcnldKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaGlzdG9yeSksIFtzcGVjaWFsIGNoYXJhY3RlclxuaGlnaGxpZ2h0aW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuaGlnaGxpZ2h0U3BlY2lhbENoYXJzKSwgW2N1c3RvbSBzZWxlY3Rpb25cbmRyYXdpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5kcmF3U2VsZWN0aW9uKSwgYW5kIFtkZWZhdWx0IGhpZ2hsaWdodFxuc3R5bGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZGVmYXVsdEhpZ2hsaWdodFN0eWxlKS5cbiovXG5jb25zdCBtaW5pbWFsU2V0dXAgPSAvKkBfX1BVUkVfXyovKCgpID0+IFtcbiAgICBoaWdobGlnaHRTcGVjaWFsQ2hhcnMoKSxcbiAgICBoaXN0b3J5KCksXG4gICAgZHJhd1NlbGVjdGlvbigpLFxuICAgIHN5bnRheEhpZ2hsaWdodGluZyhkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIHsgZmFsbGJhY2s6IHRydWUgfSksXG4gICAga2V5bWFwLm9mKFtcbiAgICAgICAgLi4uZGVmYXVsdEtleW1hcCxcbiAgICAgICAgLi4uaGlzdG9yeUtleW1hcCxcbiAgICBdKVxuXSkoKTtcblxuZXhwb3J0IHsgYmFzaWNTZXR1cCwgbWluaW1hbFNldHVwIH07XG4iLCAiaW1wb3J0IHsgUGFyc2VyLCBOb2RlUHJvcCwgTm9kZVNldCwgTm9kZVR5cGUsIERlZmF1bHRCdWZmZXJMZW5ndGgsIFRyZWUsIEl0ZXJNb2RlIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbi8qKlxuQSBwYXJzZSBzdGFjay4gVGhlc2UgYXJlIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcGFyc2VyIHRvIHRyYWNrXG5wYXJzaW5nIHByb2dyZXNzLiBUaGV5IGFsc28gcHJvdmlkZSBzb21lIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcbnRoYXQgZXh0ZXJuYWwgY29kZSBzdWNoIGFzIGEgdG9rZW5pemVyIGNhbiB1c2UgdG8gZ2V0IGluZm9ybWF0aW9uXG5hYm91dCB0aGUgcGFyc2Ugc3RhdGUuXG4qL1xuY2xhc3MgU3RhY2sge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHBhcnNlIHRoYXQgdGhpcyBzdGFjayBpcyBwYXJ0IG9mIEBpbnRlcm5hbFxuICAgICovXG4gICAgcCwgXG4gICAgLyoqXG4gICAgSG9sZHMgc3RhdGUsIGlucHV0IHBvcywgYnVmZmVyIGluZGV4IHRyaXBsZXRzIGZvciBhbGwgYnV0IHRoZVxuICAgIHRvcCBzdGF0ZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YWNrLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBwYXJzZSBzdGF0ZSBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvLyBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIG5leHQgcmVkdWNlIHNob3VsZCB0YWtlIHBsYWNlLiBUaGlzXG4gICAgLy8gY2FuIGJlIGxlc3MgdGhhbiBgdGhpcy5wb3NgIHdoZW4gc2tpcHBlZCBleHByZXNzaW9ucyBoYXZlIGJlZW5cbiAgICAvLyBhZGRlZCB0byB0aGUgc3RhY2sgKHdoaWNoIHNob3VsZCBiZSBtb3ZlZCBvdXRzaWRlIG9mIHRoZSBuZXh0XG4gICAgLy8gcmVkdWN0aW9uKVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVkdWNlUG9zLCBcbiAgICAvKipcbiAgICBUaGUgaW5wdXQgcG9zaXRpb24gdXAgdG8gd2hpY2ggdGhpcyBzdGFjayBoYXMgcGFyc2VkLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBUaGUgZHluYW1pYyBzY29yZSBvZiB0aGUgc3RhY2ssIGluY2x1ZGluZyBkeW5hbWljIHByZWNlZGVuY2VcbiAgICBhbmQgZXJyb3ItcmVjb3ZlcnkgcGVuYWx0aWVzXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzY29yZSwgXG4gICAgLy8gVGhlIG91dHB1dCBidWZmZXIuIEhvbGRzICh0eXBlLCBzdGFydCwgZW5kLCBzaXplKSBxdWFkc1xuICAgIC8vIHJlcHJlc2VudGluZyBub2RlcyBjcmVhdGVkIGJ5IHRoZSBwYXJzZXIsIHdoZXJlIGBzaXplYCBpc1xuICAgIC8vIGFtb3VudCBvZiBidWZmZXIgYXJyYXkgZW50cmllcyBjb3ZlcmVkIGJ5IHRoaXMgbm9kZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGJ1ZmZlciwgXG4gICAgLy8gVGhlIGJhc2Ugb2Zmc2V0IG9mIHRoZSBidWZmZXIuIFdoZW4gc3RhY2tzIGFyZSBzcGxpdCwgdGhlIHNwbGl0XG4gICAgLy8gaW5zdGFuY2Ugc2hhcmVkIHRoZSBidWZmZXIgaGlzdG9yeSB3aXRoIGl0cyBwYXJlbnQgdXAgdG9cbiAgICAvLyBgYnVmZmVyQmFzZWAsIHdoaWNoIGlzIHRoZSBhYnNvbHV0ZSBvZmZzZXQgKGluY2x1ZGluZyB0aGVcbiAgICAvLyBvZmZzZXQgb2YgcHJldmlvdXMgc3BsaXRzKSBpbnRvIHRoZSBidWZmZXIgYXQgd2hpY2ggdGhpcyBzdGFja1xuICAgIC8vIHN0YXJ0cyB3cml0aW5nLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYnVmZmVyQmFzZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjdXJDb250ZXh0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGxvb2tBaGVhZCA9IDAsIFxuICAgIC8vIEEgcGFyZW50IHN0YWNrIGZyb20gd2hpY2ggdGhpcyB3YXMgc3BsaXQgb2ZmLCBpZiBhbnkuIFRoaXMgaXNcbiAgICAvLyBzZXQgdXAgc28gdGhhdCBpdCBhbHdheXMgcG9pbnRzIHRvIGEgc3RhY2sgdGhhdCBoYXMgc29tZVxuICAgIC8vIGFkZGl0aW9uYWwgYnVmZmVyIGNvbnRlbnQsIG5ldmVyIHRvIGEgc3RhY2sgd2l0aCBhbiBlcXVhbFxuICAgIC8vIGBidWZmZXJCYXNlYC5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHBhcmVudCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSByZWR1Y2VQb3M7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmJ1ZmZlckJhc2UgPSBidWZmZXJCYXNlO1xuICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBjdXJDb250ZXh0O1xuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IGxvb2tBaGVhZDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgWyR7dGhpcy5zdGFjay5maWx0ZXIoKF8sIGkpID0+IGkgJSAzID09IDApLmNvbmNhdCh0aGlzLnN0YXRlKX1dQCR7dGhpcy5wb3N9JHt0aGlzLnNjb3JlID8gXCIhXCIgKyB0aGlzLnNjb3JlIDogXCJcIn1gO1xuICAgIH1cbiAgICAvLyBTdGFydCBhbiBlbXB0eSBzdGFja1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIHN0YXJ0KHAsIHN0YXRlLCBwb3MgPSAwKSB7XG4gICAgICAgIGxldCBjeCA9IHAucGFyc2VyLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2socCwgW10sIHN0YXRlLCBwb3MsIHBvcywgMCwgW10sIDAsIGN4ID8gbmV3IFN0YWNrQ29udGV4dChjeCwgY3guc3RhcnQpIDogbnVsbCwgMCwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzdGFjaydzIGN1cnJlbnQgW2NvbnRleHRdKCNsci5Db250ZXh0VHJhY2tlcikgdmFsdWUsIGlmXG4gICAgYW55LiBJdHMgdHlwZSB3aWxsIGRlcGVuZCBvbiB0aGUgY29udGV4dCB0cmFja2VyJ3MgdHlwZVxuICAgIHBhcmFtZXRlciwgb3IgaXQgd2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gY29udGV4dFxuICAgIHRyYWNrZXIuXG4gICAgKi9cbiAgICBnZXQgY29udGV4dCgpIHsgcmV0dXJuIHRoaXMuY3VyQ29udGV4dCA/IHRoaXMuY3VyQ29udGV4dC5jb250ZXh0IDogbnVsbDsgfVxuICAgIC8vIFB1c2ggYSBzdGF0ZSBvbnRvIHRoZSBzdGFjaywgdHJhY2tpbmcgaXRzIHN0YXJ0IHBvc2l0aW9uIGFzIHdlbGxcbiAgICAvLyBhcyB0aGUgYnVmZmVyIGJhc2UgYXQgdGhhdCBwb2ludC5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHB1c2hTdGF0ZShzdGF0ZSwgc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHRoaXMuc3RhdGUsIHN0YXJ0LCB0aGlzLmJ1ZmZlckJhc2UgKyB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIC8vIEFwcGx5IGEgcmVkdWNlIGFjdGlvblxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVkdWNlKGFjdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBkZXB0aCA9IGFjdGlvbiA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLywgdHlwZSA9IGFjdGlvbiAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi87XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICBsZXQgbG9va2FoZWFkUmVjb3JkID0gdGhpcy5yZWR1Y2VQb3MgPCB0aGlzLnBvcyAtIDI1IC8qIExvb2thaGVhZC5NYXJnaW4gKi87XG4gICAgICAgIGlmIChsb29rYWhlYWRSZWNvcmQpXG4gICAgICAgICAgICB0aGlzLnNldExvb2tBaGVhZCh0aGlzLnBvcyk7XG4gICAgICAgIGxldCBkUHJlYyA9IHBhcnNlci5keW5hbWljUHJlY2VkZW5jZSh0eXBlKTtcbiAgICAgICAgaWYgKGRQcmVjKVxuICAgICAgICAgICAgdGhpcy5zY29yZSArPSBkUHJlYztcbiAgICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKHBhcnNlci5nZXRHb3RvKHRoaXMuc3RhdGUsIHR5cGUsIHRydWUpLCB0aGlzLnJlZHVjZVBvcyk7XG4gICAgICAgICAgICAvLyBaZXJvLWRlcHRoIHJlZHVjdGlvbnMgYXJlIGEgc3BlY2lhbCBjYXNlXHUyMDE0dGhleSBhZGQgc3R1ZmYgdG9cbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayB3aXRob3V0IHBvcHBpbmcgYW55dGhpbmcgb2ZmLlxuICAgICAgICAgICAgaWYgKHR5cGUgPCBwYXJzZXIubWluUmVwZWF0VGVybSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSh0eXBlLCB0aGlzLnJlZHVjZVBvcywgdGhpcy5yZWR1Y2VQb3MsIGxvb2thaGVhZFJlY29yZCA/IDggOiA0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVkdWNlQ29udGV4dCh0eXBlLCB0aGlzLnJlZHVjZVBvcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCB0aGUgYmFzZSBpbmRleCBpbnRvIGB0aGlzLnN0YWNrYCwgY29udGVudCBhZnRlciB3aGljaCB3aWxsXG4gICAgICAgIC8vIGJlIGRyb3BwZWQuIE5vdGUgdGhhdCB3aXRoIGBTdGF5RmxhZ2AgcmVkdWN0aW9ucyB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGNvbnN1bWUgdHdvIGV4dHJhIGZyYW1lcyAodGhlIGR1bW15IHBhcmVudCBub2RlIGZvciB0aGUgc2tpcHBlZFxuICAgICAgICAvLyBleHByZXNzaW9uIGFuZCB0aGUgc3RhdGUgdGhhdCB3ZSdsbCBiZSBzdGF5aW5nIGluLCB3aGljaCBzaG91bGRcbiAgICAgICAgLy8gYmUgbW92ZWQgdG8gYHRoaXMuc3RhdGVgKS5cbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLnN0YWNrLmxlbmd0aCAtICgoZGVwdGggLSAxKSAqIDMpIC0gKGFjdGlvbiAmIDI2MjE0NCAvKiBBY3Rpb24uU3RheUZsYWcgKi8gPyA2IDogMCk7XG4gICAgICAgIGxldCBzdGFydCA9IGJhc2UgPyB0aGlzLnN0YWNrW2Jhc2UgLSAyXSA6IHRoaXMucC5yYW5nZXNbMF0uZnJvbSwgc2l6ZSA9IHRoaXMucmVkdWNlUG9zIC0gc3RhcnQ7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBrbHVkZ2UgdG8gdHJ5IGFuZCBkZXRlY3Qgb3Zlcmx5IGRlZXAgbGVmdC1hc3NvY2lhdGl2ZVxuICAgICAgICAvLyB0cmVlcywgd2hpY2ggd2lsbCBub3QgaW5jcmVhc2UgdGhlIHBhcnNlIHN0YWNrIGRlcHRoIGFuZCB0aHVzXG4gICAgICAgIC8vIHdvbid0IGJlIGNhdWdodCBieSB0aGUgcmVndWxhciBzdGFjay1kZXB0aCBsaW1pdCBjaGVjay5cbiAgICAgICAgaWYgKHNpemUgPj0gMjAwMCAvKiBSZWNvdmVyLk1pbkJpZ1JlZHVjdGlvbiAqLyAmJiAhKChfYSA9IHRoaXMucC5wYXJzZXIubm9kZVNldC50eXBlc1t0eXBlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzQW5vbnltb3VzKSkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ID09IHRoaXMucC5sYXN0QmlnUmVkdWN0aW9uU3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnAuYmlnUmVkdWN0aW9uQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLnAubGFzdEJpZ1JlZHVjdGlvblNpemUgPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wLmxhc3RCaWdSZWR1Y3Rpb25TaXplIDwgc2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucC5iaWdSZWR1Y3Rpb25Db3VudCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5wLmxhc3RCaWdSZWR1Y3Rpb25TdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHRoaXMucC5sYXN0QmlnUmVkdWN0aW9uU2l6ZSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJ1ZmZlckJhc2UgPSBiYXNlID8gdGhpcy5zdGFja1tiYXNlIC0gMV0gOiAwLCBjb3VudCA9IHRoaXMuYnVmZmVyQmFzZSArIHRoaXMuYnVmZmVyLmxlbmd0aCAtIGJ1ZmZlckJhc2U7XG4gICAgICAgIC8vIFN0b3JlIG5vcm1hbCB0ZXJtcyBvciBgUiAtPiBSIFJgIHJlcGVhdCByZWR1Y3Rpb25zXG4gICAgICAgIGlmICh0eXBlIDwgcGFyc2VyLm1pblJlcGVhdFRlcm0gfHwgKGFjdGlvbiAmIDEzMTA3MiAvKiBBY3Rpb24uUmVwZWF0RmxhZyAqLykpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBwYXJzZXIuc3RhdGVGbGFnKHRoaXMuc3RhdGUsIDEgLyogU3RhdGVGbGFnLlNraXBwZWQgKi8pID8gdGhpcy5wb3MgOiB0aGlzLnJlZHVjZVBvcztcbiAgICAgICAgICAgIHRoaXMuc3RvcmVOb2RlKHR5cGUsIHN0YXJ0LCBwb3MsIGNvdW50ICsgNCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGlvbiAmIDI2MjE0NCAvKiBBY3Rpb24uU3RheUZsYWcgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YWNrW2Jhc2VdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJhc2VTdGF0ZUlEID0gdGhpcy5zdGFja1tiYXNlIC0gM107XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gcGFyc2VyLmdldEdvdG8oYmFzZVN0YXRlSUQsIHR5cGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLnN0YWNrLmxlbmd0aCA+IGJhc2UpXG4gICAgICAgICAgICB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICB0aGlzLnJlZHVjZUNvbnRleHQodHlwZSwgc3RhcnQpO1xuICAgIH1cbiAgICAvLyBTaGlmdCBhIHZhbHVlIGludG8gdGhlIGJ1ZmZlclxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RvcmVOb2RlKHRlcm0sIHN0YXJ0LCBlbmQsIHNpemUgPSA0LCBtdXN0U2luayA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0ZXJtID09IDAgLyogVGVybS5FcnIgKi8gJiZcbiAgICAgICAgICAgICghdGhpcy5zdGFjay5sZW5ndGggfHwgdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIDFdIDwgdGhpcy5idWZmZXIubGVuZ3RoICsgdGhpcy5idWZmZXJCYXNlKSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIG9taXQvbWVyZ2UgYWRqYWNlbnQgZXJyb3Igbm9kZXNcbiAgICAgICAgICAgIGxldCBjdXIgPSB0aGlzLCB0b3AgPSB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodG9wID09IDAgJiYgY3VyLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRvcCA9IGN1ci5idWZmZXJCYXNlIC0gY3VyLnBhcmVudC5idWZmZXJCYXNlO1xuICAgICAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9wID4gMCAmJiBjdXIuYnVmZmVyW3RvcCAtIDRdID09IDAgLyogVGVybS5FcnIgKi8gJiYgY3VyLmJ1ZmZlclt0b3AgLSAxXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09IGVuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChjdXIuYnVmZmVyW3RvcCAtIDJdID49IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5idWZmZXJbdG9wIC0gMl0gPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtdXN0U2luayB8fCB0aGlzLnBvcyA9PSBlbmQpIHsgLy8gU2ltcGxlIGNhc2UsIGp1c3QgYXBwZW5kXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHRlcm0sIHN0YXJ0LCBlbmQsIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBUaGVyZSBtYXkgYmUgc2tpcHBlZCBub2RlcyB0aGF0IGhhdmUgdG8gYmUgbW92ZWQgZm9yd2FyZFxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCAmJiB0aGlzLmJ1ZmZlcltpbmRleCAtIDRdICE9IDAgLyogVGVybS5FcnIgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbXVzdE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzY2FuID0gaW5kZXg7IHNjYW4gPiAwICYmIHRoaXMuYnVmZmVyW3NjYW4gLSAyXSA+IGVuZDsgc2NhbiAtPSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcltzY2FuIC0gMV0gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG11c3RNb3ZlKVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPiAwICYmIHRoaXMuYnVmZmVyW2luZGV4IC0gMl0gPiBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdGhpcyByZWNvcmQgZm9yd2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXhdID0gdGhpcy5idWZmZXJbaW5kZXggLSA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgMV0gPSB0aGlzLmJ1ZmZlcltpbmRleCAtIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAyXSA9IHRoaXMuYnVmZmVyW2luZGV4IC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDNdID0gdGhpcy5idWZmZXJbaW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4IC09IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSA+IDQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSAtPSA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleF0gPSB0ZXJtO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAxXSA9IHN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAyXSA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgM10gPSBzaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFwcGx5IGEgc2hpZnQgYWN0aW9uXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzaGlmdChhY3Rpb24sIHR5cGUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKGFjdGlvbiAmIDEzMTA3MiAvKiBBY3Rpb24uR290b0ZsYWcgKi8pIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKGFjdGlvbiAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi8sIHRoaXMucG9zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYWN0aW9uICYgMjYyMTQ0IC8qIEFjdGlvbi5TdGF5RmxhZyAqLykgPT0gMCkgeyAvLyBSZWd1bGFyIHNoaWZ0XG4gICAgICAgICAgICBsZXQgbmV4dFN0YXRlID0gYWN0aW9uLCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRoaXMucG9zIHx8IHR5cGUgPD0gcGFyc2VyLm1heE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGVuZDtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlci5zdGF0ZUZsYWcobmV4dFN0YXRlLCAxIC8qIFN0YXRlRmxhZy5Ta2lwcGVkICovKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShuZXh0U3RhdGUsIHN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuc2hpZnRDb250ZXh0KHR5cGUsIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh0eXBlIDw9IHBhcnNlci5tYXhOb2RlKVxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godHlwZSwgc3RhcnQsIGVuZCwgNCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIFNoaWZ0LWFuZC1zdGF5LCB3aGljaCBtZWFucyB0aGlzIGlzIGEgc2tpcHBlZCB0b2tlblxuICAgICAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q29udGV4dCh0eXBlLCBzdGFydCk7XG4gICAgICAgICAgICBpZiAodHlwZSA8PSB0aGlzLnAucGFyc2VyLm1heE5vZGUpXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0eXBlLCBzdGFydCwgZW5kLCA0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBcHBseSBhbiBhY3Rpb25cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFwcGx5KGFjdGlvbiwgbmV4dCwgbmV4dFN0YXJ0LCBuZXh0RW5kKSB7XG4gICAgICAgIGlmIChhY3Rpb24gJiA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLylcbiAgICAgICAgICAgIHRoaXMucmVkdWNlKGFjdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc2hpZnQoYWN0aW9uLCBuZXh0LCBuZXh0U3RhcnQsIG5leHRFbmQpO1xuICAgIH1cbiAgICAvLyBBZGQgYSBwcmVidWlsdCAocmV1c2VkKSBub2RlIGludG8gdGhlIGJ1ZmZlci5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHVzZU5vZGUodmFsdWUsIG5leHQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wLnJldXNlZC5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMucC5yZXVzZWRbaW5kZXhdICE9IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnAucmV1c2VkLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSB0aGlzLnBvcyA9IHN0YXJ0ICsgdmFsdWUubGVuZ3RoO1xuICAgICAgICB0aGlzLnB1c2hTdGF0ZShuZXh0LCBzdGFydCk7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goaW5kZXgsIHN0YXJ0LCB0aGlzLnJlZHVjZVBvcywgLTEgLyogc2l6ZSA9PSAtMSBtZWFucyB0aGlzIGlzIGEgcmV1c2VkIHZhbHVlICovKTtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlci5yZXVzZSh0aGlzLmN1ckNvbnRleHQuY29udGV4dCwgdmFsdWUsIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQodGhpcy5wb3MgLSB2YWx1ZS5sZW5ndGgpKSk7XG4gICAgfVxuICAgIC8vIFNwbGl0IHRoZSBzdGFjay4gRHVlIHRvIHRoZSBidWZmZXIgc2hhcmluZyBhbmQgdGhlIGZhY3RcbiAgICAvLyB0aGF0IGB0aGlzLnN0YWNrYCB0ZW5kcyB0byBzdGF5IHF1aXRlIHNoYWxsb3csIHRoaXMgaXNuJ3QgdmVyeVxuICAgIC8vIGV4cGVuc2l2ZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNwbGl0KCkge1xuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcztcbiAgICAgICAgbGV0IG9mZiA9IHBhcmVudC5idWZmZXIubGVuZ3RoO1xuICAgICAgICAvLyBCZWNhdXNlIHRoZSB0b3Agb2YgdGhlIGJ1ZmZlciAoYWZ0ZXIgdGhpcy5wb3MpIG1heSBiZSBtdXRhdGVkXG4gICAgICAgIC8vIHRvIHJlb3JkZXIgcmVkdWN0aW9ucyBhbmQgc2tpcHBlZCB0b2tlbnMsIGFuZCBzaGFyZWQgYnVmZmVyc1xuICAgICAgICAvLyBzaG91bGQgYmUgaW1tdXRhYmxlLCB0aGlzIGNvcGllcyBhbnkgb3V0c3RhbmRpbmcgc2tpcHBlZCB0b2tlbnNcbiAgICAgICAgLy8gdG8gdGhlIG5ldyBidWZmZXIsIGFuZCBwdXRzIHRoZSBiYXNlIHBvaW50ZXIgYmVmb3JlIHRoZW0uXG4gICAgICAgIHdoaWxlIChvZmYgPiAwICYmIHBhcmVudC5idWZmZXJbb2ZmIC0gMl0gPiBwYXJlbnQucmVkdWNlUG9zKVxuICAgICAgICAgICAgb2ZmIC09IDQ7XG4gICAgICAgIGxldCBidWZmZXIgPSBwYXJlbnQuYnVmZmVyLnNsaWNlKG9mZiksIGJhc2UgPSBwYXJlbnQuYnVmZmVyQmFzZSArIG9mZjtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHBhcmVudCBwb2ludHMgdG8gYW4gYWN0dWFsIHBhcmVudCB3aXRoIGNvbnRlbnQsIGlmIHRoZXJlIGlzIHN1Y2ggYSBwYXJlbnQuXG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgYmFzZSA9PSBwYXJlbnQuYnVmZmVyQmFzZSlcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2sodGhpcy5wLCB0aGlzLnN0YWNrLnNsaWNlKCksIHRoaXMuc3RhdGUsIHRoaXMucmVkdWNlUG9zLCB0aGlzLnBvcywgdGhpcy5zY29yZSwgYnVmZmVyLCBiYXNlLCB0aGlzLmN1ckNvbnRleHQsIHRoaXMubG9va0FoZWFkLCBwYXJlbnQpO1xuICAgIH1cbiAgICAvLyBUcnkgdG8gcmVjb3ZlciBmcm9tIGFuIGVycm9yIGJ5ICdkZWxldGluZycgKGlnbm9yaW5nKSBvbmUgdG9rZW4uXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZWNvdmVyQnlEZWxldGUobmV4dCwgbmV4dEVuZCkge1xuICAgICAgICBsZXQgaXNOb2RlID0gbmV4dCA8PSB0aGlzLnAucGFyc2VyLm1heE5vZGU7XG4gICAgICAgIGlmIChpc05vZGUpXG4gICAgICAgICAgICB0aGlzLnN0b3JlTm9kZShuZXh0LCB0aGlzLnBvcywgbmV4dEVuZCwgNCk7XG4gICAgICAgIHRoaXMuc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHRoaXMucG9zLCBuZXh0RW5kLCBpc05vZGUgPyA4IDogNCk7XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5yZWR1Y2VQb3MgPSBuZXh0RW5kO1xuICAgICAgICB0aGlzLnNjb3JlIC09IDE5MCAvKiBSZWNvdmVyLkRlbGV0ZSAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgaWYgdGhlIGdpdmVuIHRlcm0gd291bGQgYmUgYWJsZSB0byBiZSBzaGlmdGVkIChvcHRpb25hbGx5XG4gICAgYWZ0ZXIgc29tZSByZWR1Y3Rpb25zKSBvbiB0aGlzIHN0YWNrLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yXG4gICAgZXh0ZXJuYWwgdG9rZW5pemVycyB0aGF0IHdhbnQgdG8gbWFrZSBzdXJlIHRoZXkgb25seSBwcm92aWRlIGFcbiAgICBnaXZlbiB0b2tlbiB3aGVuIGl0IGFwcGxpZXMuXG4gICAgKi9cbiAgICBjYW5TaGlmdCh0ZXJtKSB7XG4gICAgICAgIGZvciAobGV0IHNpbSA9IG5ldyBTaW11bGF0ZWRTdGFjayh0aGlzKTs7KSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gdGhpcy5wLnBhcnNlci5zdGF0ZVNsb3Qoc2ltLnN0YXRlLCA0IC8qIFBhcnNlU3RhdGUuRGVmYXVsdFJlZHVjZSAqLykgfHwgdGhpcy5wLnBhcnNlci5oYXNBY3Rpb24oc2ltLnN0YXRlLCB0ZXJtKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoKGFjdGlvbiAmIDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovKSA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgc2ltLnJlZHVjZShhY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFwcGx5IHVwIHRvIFJlY292ZXIuTWF4TmV4dCByZWNvdmVyeSBhY3Rpb25zIHRoYXQgY29uY2VwdHVhbGx5XG4gICAgLy8gaW5zZXJ0cyBzb21lIG1pc3NpbmcgdG9rZW4gb3IgcnVsZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlY292ZXJCeUluc2VydChuZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA+PSAzMDAgLyogUmVjb3Zlci5NYXhJbnNlcnRTdGFja0RlcHRoICovKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgbmV4dFN0YXRlcyA9IHRoaXMucC5wYXJzZXIubmV4dFN0YXRlcyh0aGlzLnN0YXRlKTtcbiAgICAgICAgaWYgKG5leHRTdGF0ZXMubGVuZ3RoID4gNCAvKiBSZWNvdmVyLk1heE5leHQgKi8gPDwgMSB8fCB0aGlzLnN0YWNrLmxlbmd0aCA+PSAxMjAgLyogUmVjb3Zlci5EYW1wZW5JbnNlcnRTdGFja0RlcHRoICovKSB7XG4gICAgICAgICAgICBsZXQgYmVzdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHM7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChzID0gbmV4dFN0YXRlc1tpICsgMV0pICE9IHRoaXMuc3RhdGUgJiYgdGhpcy5wLnBhcnNlci5oYXNBY3Rpb24ocywgbmV4dCkpXG4gICAgICAgICAgICAgICAgICAgIGJlc3QucHVzaChuZXh0U3RhdGVzW2ldLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrLmxlbmd0aCA8IDEyMCAvKiBSZWNvdmVyLkRhbXBlbkluc2VydFN0YWNrRGVwdGggKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGJlc3QubGVuZ3RoIDwgNCAvKiBSZWNvdmVyLk1heE5leHQgKi8gPDwgMSAmJiBpIDwgbmV4dFN0YXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IG5leHRTdGF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJlc3Quc29tZSgodiwgaSkgPT4gKGkgJiAxKSAmJiB2ID09IHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdC5wdXNoKG5leHRTdGF0ZXNbaV0sIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRTdGF0ZXMgPSBiZXN0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgNCAvKiBSZWNvdmVyLk1heE5leHQgKi87IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IHMgPSBuZXh0U3RhdGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChzID09IHRoaXMuc3RhdGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSB0aGlzLnNwbGl0KCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoU3RhdGUocywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgc3RhY2suc3RvcmVOb2RlKDAgLyogVGVybS5FcnIgKi8sIHN0YWNrLnBvcywgc3RhY2sucG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHN0YWNrLnNoaWZ0Q29udGV4dChuZXh0U3RhdGVzW2ldLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICBzdGFjay5yZWR1Y2VQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgICAgIHN0YWNrLnNjb3JlIC09IDIwMCAvKiBSZWNvdmVyLkluc2VydCAqLztcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBGb3JjZSBhIHJlZHVjZSwgaWYgcG9zc2libGUuIFJldHVybiBmYWxzZSBpZiB0aGF0IGNhbid0XG4gICAgLy8gYmUgZG9uZS5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZvcmNlUmVkdWNlKCkge1xuICAgICAgICBsZXQgeyBwYXJzZXIgfSA9IHRoaXMucDtcbiAgICAgICAgbGV0IHJlZHVjZSA9IHBhcnNlci5zdGF0ZVNsb3QodGhpcy5zdGF0ZSwgNSAvKiBQYXJzZVN0YXRlLkZvcmNlZFJlZHVjZSAqLyk7XG4gICAgICAgIGlmICgocmVkdWNlICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pID09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyc2VyLnZhbGlkQWN0aW9uKHRoaXMuc3RhdGUsIHJlZHVjZSkpIHtcbiAgICAgICAgICAgIGxldCBkZXB0aCA9IHJlZHVjZSA+PiAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLywgdGVybSA9IHJlZHVjZSAmIDY1NTM1IC8qIEFjdGlvbi5WYWx1ZU1hc2sgKi87XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zdGFjay5sZW5ndGggLSBkZXB0aCAqIDM7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IDwgMCB8fCBwYXJzZXIuZ2V0R290byh0aGlzLnN0YWNrW3RhcmdldF0sIHRlcm0sIGZhbHNlKSA8IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgYmFja3VwID0gdGhpcy5maW5kRm9yY2VkUmVkdWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhY2t1cCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVkdWNlID0gYmFja3VwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUoMCAvKiBUZXJtLkVyciAqLywgdGhpcy5wb3MsIHRoaXMucG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgLT0gMTAwIC8qIFJlY292ZXIuUmVkdWNlICovO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVkdWNlUG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucmVkdWNlKHJlZHVjZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUcnkgdG8gc2NhbiB0aHJvdWdoIHRoZSBhdXRvbWF0b24gdG8gZmluZCBzb21lIGtpbmQgb2YgcmVkdWN0aW9uXG4gICAgdGhhdCBjYW4gYmUgYXBwbGllZC4gVXNlZCB3aGVuIHRoZSByZWd1bGFyIEZvcmNlZFJlZHVjZSBmaWVsZFxuICAgIGlzbid0IGEgdmFsaWQgYWN0aW9uLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZpbmRGb3JjZWRSZWR1Y3Rpb24oKSB7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wLCBzZWVuID0gW107XG4gICAgICAgIGxldCBleHBsb3JlID0gKHN0YXRlLCBkZXB0aCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlZW4uaW5jbHVkZXMoc3RhdGUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlZW4ucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VyLmFsbEFjdGlvbnMoc3RhdGUsIChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uICYgKDI2MjE0NCAvKiBBY3Rpb24uU3RheUZsYWcgKi8gfCAxMzEwNzIgLyogQWN0aW9uLkdvdG9GbGFnICovKSkgO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbiAmIDY1NTM2IC8qIEFjdGlvbi5SZWR1Y2VGbGFnICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByRGVwdGggPSAoYWN0aW9uID4+IDE5IC8qIEFjdGlvbi5SZWR1Y2VEZXB0aFNoaWZ0ICovKSAtIGRlcHRoO1xuICAgICAgICAgICAgICAgICAgICBpZiAockRlcHRoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm0gPSBhY3Rpb24gJiA2NTUzNSAvKiBBY3Rpb24uVmFsdWVNYXNrICovLCB0YXJnZXQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIHJEZXB0aCAqIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID49IDAgJiYgcGFyc2VyLmdldEdvdG8odGhpcy5zdGFja1t0YXJnZXRdLCB0ZXJtLCBmYWxzZSkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHJEZXB0aCA8PCAxOSAvKiBBY3Rpb24uUmVkdWNlRGVwdGhTaGlmdCAqLykgfCA2NTUzNiAvKiBBY3Rpb24uUmVkdWNlRmxhZyAqLyB8IHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGV4cGxvcmUoYWN0aW9uLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4cGxvcmUodGhpcy5zdGF0ZSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZm9yY2VBbGwoKSB7XG4gICAgICAgIHdoaWxlICghdGhpcy5wLnBhcnNlci5zdGF0ZUZsYWcodGhpcy5zdGF0ZSwgMiAvKiBTdGF0ZUZsYWcuQWNjZXB0aW5nICovKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcmNlUmVkdWNlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIFRlcm0uRXJyICovLCB0aGlzLnBvcywgdGhpcy5wb3MsIDQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICBDaGVjayB3aGV0aGVyIHRoaXMgc3RhdGUgaGFzIG5vIGZ1cnRoZXIgYWN0aW9ucyAoYXNzdW1lZCB0byBiZSBhIGRpcmVjdCBkZXNjZW5kYW50IG9mIHRoZVxuICAgIHRvcCBzdGF0ZSwgc2luY2UgYW55IG90aGVyIHN0YXRlcyBtdXN0IGJlIGFibGUgdG8gY29udGludWVcbiAgICBzb21laG93KS4gQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgZGVhZEVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoICE9IDMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICByZXR1cm4gcGFyc2VyLmRhdGFbcGFyc2VyLnN0YXRlU2xvdCh0aGlzLnN0YXRlLCAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyldID09IDY1NTM1IC8qIFNlcS5FbmQgKi8gJiZcbiAgICAgICAgICAgICFwYXJzZXIuc3RhdGVTbG90KHRoaXMuc3RhdGUsIDQgLyogUGFyc2VTdGF0ZS5EZWZhdWx0UmVkdWNlICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVzdGFydCB0aGUgc3RhY2sgKHB1dCBpdCBiYWNrIGluIGl0cyBzdGFydCBzdGF0ZSkuIE9ubHkgc2FmZVxuICAgIHdoZW4gdGhpcy5zdGFjay5sZW5ndGggPT0gMyAoc3RhdGUgaXMgZGlyZWN0bHkgYmVsb3cgdGhlIHRvcFxuICAgIHN0YXRlKS4gQGludGVybmFsXG4gICAgKi9cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIFRlcm0uRXJyICovLCB0aGlzLnBvcywgdGhpcy5wb3MsIDQsIHRydWUpO1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFja1swXTtcbiAgICAgICAgdGhpcy5zdGFjay5sZW5ndGggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNhbWVTdGF0ZShvdGhlcikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBvdGhlci5zdGF0ZSB8fCB0aGlzLnN0YWNrLmxlbmd0aCAhPSBvdGhlci5zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFjay5sZW5ndGg7IGkgKz0gMylcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrW2ldICE9IG90aGVyLnN0YWNrW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcGFyc2VyIHVzZWQgYnkgdGhpcyBzdGFjay5cbiAgICAqL1xuICAgIGdldCBwYXJzZXIoKSB7IHJldHVybiB0aGlzLnAucGFyc2VyOyB9XG4gICAgLyoqXG4gICAgVGVzdCB3aGV0aGVyIGEgZ2l2ZW4gZGlhbGVjdCAoYnkgbnVtZXJpYyBJRCwgYXMgZXhwb3J0ZWQgZnJvbVxuICAgIHRoZSB0ZXJtcyBmaWxlKSBpcyBlbmFibGVkLlxuICAgICovXG4gICAgZGlhbGVjdEVuYWJsZWQoZGlhbGVjdElEKSB7IHJldHVybiB0aGlzLnAucGFyc2VyLmRpYWxlY3QuZmxhZ3NbZGlhbGVjdElEXTsgfVxuICAgIHNoaWZ0Q29udGV4dCh0ZXJtLCBzdGFydCkge1xuICAgICAgICBpZiAodGhpcy5jdXJDb250ZXh0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZXh0KHRoaXMuY3VyQ29udGV4dC50cmFja2VyLnNoaWZ0KHRoaXMuY3VyQ29udGV4dC5jb250ZXh0LCB0ZXJtLCB0aGlzLCB0aGlzLnAuc3RyZWFtLnJlc2V0KHN0YXJ0KSkpO1xuICAgIH1cbiAgICByZWR1Y2VDb250ZXh0KHRlcm0sIHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1ckNvbnRleHQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQodGhpcy5jdXJDb250ZXh0LnRyYWNrZXIucmVkdWNlKHRoaXMuY3VyQ29udGV4dC5jb250ZXh0LCB0ZXJtLCB0aGlzLCB0aGlzLnAuc3RyZWFtLnJlc2V0KHN0YXJ0KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVtaXRDb250ZXh0KCkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuYnVmZmVyLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChsYXN0IDwgMCB8fCB0aGlzLmJ1ZmZlcltsYXN0XSAhPSAtMylcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godGhpcy5jdXJDb250ZXh0Lmhhc2gsIHRoaXMucG9zLCB0aGlzLnBvcywgLTMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVtaXRMb29rQWhlYWQoKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPCAwIHx8IHRoaXMuYnVmZmVyW2xhc3RdICE9IC00KVxuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0aGlzLmxvb2tBaGVhZCwgdGhpcy5wb3MsIHRoaXMucG9zLCAtNCk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCAhPSB0aGlzLmN1ckNvbnRleHQuY29udGV4dCkge1xuICAgICAgICAgICAgbGV0IG5ld0N4ID0gbmV3IFN0YWNrQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlciwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAobmV3Q3guaGFzaCAhPSB0aGlzLmN1ckNvbnRleHQuaGFzaClcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRDb250ZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBuZXdDeDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNldExvb2tBaGVhZChsb29rQWhlYWQpIHtcbiAgICAgICAgaWYgKGxvb2tBaGVhZCA+IHRoaXMubG9va0FoZWFkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRMb29rQWhlYWQoKTtcbiAgICAgICAgICAgIHRoaXMubG9va0FoZWFkID0gbG9va0FoZWFkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1ckNvbnRleHQgJiYgdGhpcy5jdXJDb250ZXh0LnRyYWNrZXIuc3RyaWN0KVxuICAgICAgICAgICAgdGhpcy5lbWl0Q29udGV4dCgpO1xuICAgICAgICBpZiAodGhpcy5sb29rQWhlYWQgPiAwKVxuICAgICAgICAgICAgdGhpcy5lbWl0TG9va0FoZWFkKCk7XG4gICAgfVxufVxuY2xhc3MgU3RhY2tDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFja2VyLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMudHJhY2tlciA9IHRyYWNrZXI7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuaGFzaCA9IHRyYWNrZXIuc3RyaWN0ID8gdHJhY2tlci5oYXNoKGNvbnRleHQpIDogMDtcbiAgICB9XG59XG4vLyBVc2VkIHRvIGNoZWFwbHkgcnVuIHNvbWUgcmVkdWN0aW9ucyB0byBzY2FuIGFoZWFkIHdpdGhvdXQgbXV0YXRpbmdcbi8vIGFuIGVudGlyZSBzdGFja1xuY2xhc3MgU2ltdWxhdGVkU3RhY2sge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXJ0LnN0YXRlO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhcnQuc3RhY2s7XG4gICAgICAgIHRoaXMuYmFzZSA9IHRoaXMuc3RhY2subGVuZ3RoO1xuICAgIH1cbiAgICByZWR1Y2UoYWN0aW9uKSB7XG4gICAgICAgIGxldCB0ZXJtID0gYWN0aW9uICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLywgZGVwdGggPSBhY3Rpb24gPj4gMTkgLyogQWN0aW9uLlJlZHVjZURlcHRoU2hpZnQgKi87XG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFjayA9PSB0aGlzLnN0YXJ0LnN0YWNrKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sgPSB0aGlzLnN0YWNrLnNsaWNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5zdGF0ZSwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmJhc2UgKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZSAtPSAoZGVwdGggLSAxKSAqIDM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdvdG8gPSB0aGlzLnN0YXJ0LnAucGFyc2VyLmdldEdvdG8odGhpcy5zdGFja1t0aGlzLmJhc2UgLSAzXSwgdGVybSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBnb3RvO1xuICAgIH1cbn1cbi8vIFRoaXMgaXMgZ2l2ZW4gdG8gYFRyZWUuYnVpbGRgIHRvIGJ1aWxkIGEgYnVmZmVyLCBhbmQgZW5jYXBzdWxhdGVzXG4vLyB0aGUgcGFyZW50LXN0YWNrLXdhbGtpbmcgbmVjZXNzYXJ5IHRvIHJlYWQgdGhlIG5vZGVzLlxuY2xhc3MgU3RhY2tCdWZmZXJDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YWNrLCBwb3MsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBzdGFjay5idWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApXG4gICAgICAgICAgICB0aGlzLm1heWJlTmV4dCgpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHN0YWNrLCBwb3MgPSBzdGFjay5idWZmZXJCYXNlICsgc3RhY2suYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YWNrQnVmZmVyQ3Vyc29yKHN0YWNrLCBwb3MsIHBvcyAtIHN0YWNrLmJ1ZmZlckJhc2UpO1xuICAgIH1cbiAgICBtYXliZU5leHQoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5zdGFjay5wYXJlbnQ7XG4gICAgICAgIGlmIChuZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnN0YWNrLmJ1ZmZlckJhc2UgLSBuZXh0LmJ1ZmZlckJhc2U7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV4dDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV4dC5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDRdOyB9XG4gICAgZ2V0IHN0YXJ0KCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDNdOyB9XG4gICAgZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAyXTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDFdOyB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5pbmRleCAtPSA0O1xuICAgICAgICB0aGlzLnBvcyAtPSA0O1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSAwKVxuICAgICAgICAgICAgdGhpcy5tYXliZU5leHQoKTtcbiAgICB9XG4gICAgZm9yaygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFja0J1ZmZlckN1cnNvcih0aGlzLnN0YWNrLCB0aGlzLnBvcywgdGhpcy5pbmRleCk7XG4gICAgfVxufVxuXG4vLyBTZWUgbGV6ZXItZ2VuZXJhdG9yL3NyYy9lbmNvZGUudHMgZm9yIGNvbW1lbnRzIGFib3V0IHRoZSBlbmNvZGluZ1xuLy8gdXNlZCBoZXJlXG5mdW5jdGlvbiBkZWNvZGVBcnJheShpbnB1dCwgVHlwZSA9IFVpbnQxNkFycmF5KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgbGV0IGFycmF5ID0gbnVsbDtcbiAgICBmb3IgKGxldCBwb3MgPSAwLCBvdXQgPSAwOyBwb3MgPCBpbnB1dC5sZW5ndGg7KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdChwb3MrKyksIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChuZXh0ID09IDEyNiAvKiBFbmNvZGUuQmlnVmFsQ29kZSAqLykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gNjU1MzUgLyogRW5jb2RlLkJpZ1ZhbCAqLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0ID49IDkyIC8qIEVuY29kZS5HYXAyICovKVxuICAgICAgICAgICAgICAgIG5leHQtLTtcbiAgICAgICAgICAgIGlmIChuZXh0ID49IDM0IC8qIEVuY29kZS5HYXAxICovKVxuICAgICAgICAgICAgICAgIG5leHQtLTtcbiAgICAgICAgICAgIGxldCBkaWdpdCA9IG5leHQgLSAzMiAvKiBFbmNvZGUuU3RhcnQgKi87XG4gICAgICAgICAgICBpZiAoZGlnaXQgPj0gNDYgLyogRW5jb2RlLkJhc2UgKi8pIHtcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA0NiAvKiBFbmNvZGUuQmFzZSAqLztcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlICs9IGRpZ2l0O1xuICAgICAgICAgICAgaWYgKHN0b3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB2YWx1ZSAqPSA0NiAvKiBFbmNvZGUuQmFzZSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyYXkpXG4gICAgICAgICAgICBhcnJheVtvdXQrK10gPSB2YWx1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cblxuY2xhc3MgQ2FjaGVkVG9rZW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMudmFsdWUgPSAtMTtcbiAgICAgICAgdGhpcy5lbmQgPSAtMTtcbiAgICAgICAgdGhpcy5leHRlbmRlZCA9IC0xO1xuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IDA7XG4gICAgICAgIHRoaXMubWFzayA9IDA7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IDA7XG4gICAgfVxufVxuY29uc3QgbnVsbFRva2VuID0gbmV3IENhY2hlZFRva2VuO1xuLyoqXG5bVG9rZW5pemVyc10oI2xyLkV4dGVybmFsVG9rZW5pemVyKSBpbnRlcmFjdCB3aXRoIHRoZSBpbnB1dFxudGhyb3VnaCB0aGlzIGludGVyZmFjZS4gSXQgcHJlc2VudHMgdGhlIGlucHV0IGFzIGEgc3RyZWFtIG9mXG5jaGFyYWN0ZXJzLCB0cmFja2luZyBsb29rYWhlYWQgYW5kIGhpZGluZyB0aGUgY29tcGxleGl0eSBvZlxuW3Jhbmdlc10oI2NvbW1vbi5QYXJzZXIucGFyc2VecmFuZ2VzKSBmcm9tIHRva2VuaXplciBjb2RlLlxuKi9cbmNsYXNzIElucHV0U3RyZWFtIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaW5wdXQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmFuZ2VzKSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaHVuayA9IFwiXCI7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaHVua09mZiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICBCYWNrdXAgY2h1bmtcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaHVuazIgPSBcIlwiO1xuICAgICAgICB0aGlzLmNodW5rMlBvcyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICBUaGUgY2hhcmFjdGVyIGNvZGUgb2YgdGhlIG5leHQgY29kZSB1bml0IGluIHRoZSBpbnB1dCwgb3IgLTFcbiAgICAgICAgd2hlbiB0aGUgc3RyZWFtIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0LlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbFRva2VuO1xuICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuY2h1bmtQb3MgPSByYW5nZXNbMF0uZnJvbTtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlc1swXTtcbiAgICAgICAgdGhpcy5lbmQgPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvO1xuICAgICAgICB0aGlzLnJlYWROZXh0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVzb2x2ZU9mZnNldChvZmZzZXQsIGFzc29jKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMucmFuZ2UsIGluZGV4ID0gdGhpcy5yYW5nZUluZGV4O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5wb3MgKyBvZmZzZXQ7XG4gICAgICAgIHdoaWxlIChwb3MgPCByYW5nZS5mcm9tKSB7XG4gICAgICAgICAgICBpZiAoIWluZGV4KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLnJhbmdlc1stLWluZGV4XTtcbiAgICAgICAgICAgIHBvcyAtPSByYW5nZS5mcm9tIC0gbmV4dC50bztcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXNzb2MgPCAwID8gcG9zID4gcmFuZ2UudG8gOiBwb3MgPj0gcmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLnJhbmdlc1srK2luZGV4XTtcbiAgICAgICAgICAgIHBvcyArPSBuZXh0LmZyb20gLSByYW5nZS50bztcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNsaXBQb3MocG9zKSB7XG4gICAgICAgIGlmIChwb3MgPj0gdGhpcy5yYW5nZS5mcm9tICYmIHBvcyA8IHRoaXMucmFuZ2UudG8pXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICBmb3IgKGxldCByYW5nZSBvZiB0aGlzLnJhbmdlcylcbiAgICAgICAgICAgIGlmIChyYW5nZS50byA+IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgocG9zLCByYW5nZS5mcm9tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICBMb29rIGF0IGEgY29kZSB1bml0IG5lYXIgdGhlIHN0cmVhbSBwb3NpdGlvbi4gYC5wZWVrKDApYCBlcXVhbHNcbiAgICBgLm5leHRgLCBgLnBlZWsoLTEpYCBnaXZlcyB5b3UgdGhlIHByZXZpb3VzIGNoYXJhY3RlciwgYW5kIHNvXG4gICAgb24uXG4gICAgXG4gICAgTm90ZSB0aGF0IGxvb2tpbmcgYXJvdW5kIGR1cmluZyB0b2tlbml6aW5nIGNyZWF0ZXMgZGVwZW5kZW5jaWVzXG4gICAgb24gcG90ZW50aWFsbHkgZmFyLWF3YXkgY29udGVudCwgd2hpY2ggbWF5IHJlZHVjZSB0aGVcbiAgICBlZmZlY3RpdmVuZXNzIGluY3JlbWVudGFsIHBhcnNpbmdcdTIwMTR3aGVuIGxvb2tpbmcgZm9yd2FyZFx1MjAxNG9yIGV2ZW5cbiAgICBjYXVzZSBpbnZhbGlkIHJlcGFyc2VzIHdoZW4gbG9va2luZyBiYWNrd2FyZCBtb3JlIHRoYW4gMjUgY29kZVxuICAgIHVuaXRzLCBzaW5jZSB0aGUgbGlicmFyeSBkb2VzIG5vdCB0cmFjayBsb29rYmVoaW5kLlxuICAgICovXG4gICAgcGVlayhvZmZzZXQpIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuY2h1bmtPZmYgKyBvZmZzZXQsIHBvcywgcmVzdWx0O1xuICAgICAgICBpZiAoaWR4ID49IDAgJiYgaWR4IDwgdGhpcy5jaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBvcyA9IHRoaXMucG9zICsgb2Zmc2V0O1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuay5jaGFyQ29kZUF0KGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmVPZmZzZXQob2Zmc2V0LCAxKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIHBvcyA9IHJlc29sdmVkO1xuICAgICAgICAgICAgaWYgKHBvcyA+PSB0aGlzLmNodW5rMlBvcyAmJiBwb3MgPCB0aGlzLmNodW5rMlBvcyArIHRoaXMuY2h1bmsyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY2h1bmsyLmNoYXJDb2RlQXQocG9zIC0gdGhpcy5jaHVuazJQb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSB0aGlzLnJhbmdlSW5kZXgsIHJhbmdlID0gdGhpcy5yYW5nZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmFuZ2UudG8gPD0gcG9zKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMucmFuZ2VzWysraV07XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVuazIgPSB0aGlzLmlucHV0LmNodW5rKHRoaXMuY2h1bmsyUG9zID0gcG9zKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zICsgdGhpcy5jaHVuazIubGVuZ3RoID4gcmFuZ2UudG8pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1bmsyID0gdGhpcy5jaHVuazIuc2xpY2UoMCwgcmFuZ2UudG8gLSBwb3MpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY2h1bmsyLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyA+PSB0aGlzLnRva2VuLmxvb2tBaGVhZClcbiAgICAgICAgICAgIHRoaXMudG9rZW4ubG9va0FoZWFkID0gcG9zICsgMTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQWNjZXB0IGEgdG9rZW4uIEJ5IGRlZmF1bHQsIHRoZSBlbmQgb2YgdGhlIHRva2VuIGlzIHNldCB0byB0aGVcbiAgICBjdXJyZW50IHN0cmVhbSBwb3NpdGlvbiwgYnV0IHlvdSBjYW4gcGFzcyBhbiBvZmZzZXQgKHJlbGF0aXZlIHRvXG4gICAgdGhlIHN0cmVhbSBwb3NpdGlvbikgdG8gY2hhbmdlIHRoYXQuXG4gICAgKi9cbiAgICBhY2NlcHRUb2tlbih0b2tlbiwgZW5kT2Zmc2V0ID0gMCkge1xuICAgICAgICBsZXQgZW5kID0gZW5kT2Zmc2V0ID8gdGhpcy5yZXNvbHZlT2Zmc2V0KGVuZE9mZnNldCwgLTEpIDogdGhpcy5wb3M7XG4gICAgICAgIGlmIChlbmQgPT0gbnVsbCB8fCBlbmQgPCB0aGlzLnRva2VuLnN0YXJ0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUb2tlbiBlbmQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgdGhpcy50b2tlbi52YWx1ZSA9IHRva2VuO1xuICAgICAgICB0aGlzLnRva2VuLmVuZCA9IGVuZDtcbiAgICB9XG4gICAgLyoqXG4gICAgQWNjZXB0IGEgdG9rZW4gZW5kaW5nIGF0IGEgc3BlY2lmaWMgZ2l2ZW4gcG9zaXRpb24uXG4gICAgKi9cbiAgICBhY2NlcHRUb2tlblRvKHRva2VuLCBlbmRQb3MpIHtcbiAgICAgICAgdGhpcy50b2tlbi52YWx1ZSA9IHRva2VuO1xuICAgICAgICB0aGlzLnRva2VuLmVuZCA9IGVuZFBvcztcbiAgICB9XG4gICAgZ2V0Q2h1bmsoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmNodW5rMlBvcyAmJiB0aGlzLnBvcyA8IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyBjaHVuaywgY2h1bmtQb3MgfSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmNodW5rID0gdGhpcy5jaHVuazI7XG4gICAgICAgICAgICB0aGlzLmNodW5rUG9zID0gdGhpcy5jaHVuazJQb3M7XG4gICAgICAgICAgICB0aGlzLmNodW5rMiA9IGNodW5rO1xuICAgICAgICAgICAgdGhpcy5jaHVuazJQb3MgPSBjaHVua1BvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtPZmYgPSB0aGlzLnBvcyAtIHRoaXMuY2h1bmtQb3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rMiA9IHRoaXMuY2h1bms7XG4gICAgICAgICAgICB0aGlzLmNodW5rMlBvcyA9IHRoaXMuY2h1bmtQb3M7XG4gICAgICAgICAgICBsZXQgbmV4dENodW5rID0gdGhpcy5pbnB1dC5jaHVuayh0aGlzLnBvcyk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wb3MgKyBuZXh0Q2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5jaHVuayA9IGVuZCA+IHRoaXMucmFuZ2UudG8gPyBuZXh0Q2h1bmsuc2xpY2UoMCwgdGhpcy5yYW5nZS50byAtIHRoaXMucG9zKSA6IG5leHRDaHVuaztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtPZmYgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWROZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5jaHVua09mZiA+PSB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5nZXRDaHVuaygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2h1bmtPZmYgPT0gdGhpcy5jaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQgPSB0aGlzLmNodW5rLmNoYXJDb2RlQXQodGhpcy5jaHVua09mZik7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdGhlIHN0cmVhbSBmb3J3YXJkIE4gKGRlZmF1bHRzIHRvIDEpIGNvZGUgdW5pdHMuIFJldHVybnNcbiAgICB0aGUgbmV3IHZhbHVlIG9mIFtgbmV4dGBdKCNsci5JbnB1dFN0cmVhbS5uZXh0KS5cbiAgICAqL1xuICAgIGFkdmFuY2UobiA9IDEpIHtcbiAgICAgICAgdGhpcy5jaHVua09mZiArPSBuO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgKyBuID49IHRoaXMucmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlSW5kZXggPT0gdGhpcy5yYW5nZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXREb25lKCk7XG4gICAgICAgICAgICBuIC09IHRoaXMucmFuZ2UudG8gLSB0aGlzLnBvcztcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMucmFuZ2UuZnJvbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyArPSBuO1xuICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy50b2tlbi5sb29rQWhlYWQpXG4gICAgICAgICAgICB0aGlzLnRva2VuLmxvb2tBaGVhZCA9IHRoaXMucG9zICsgMTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZE5leHQoKTtcbiAgICB9XG4gICAgc2V0RG9uZSgpIHtcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmNodW5rUG9zID0gdGhpcy5lbmQ7XG4gICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXggPSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5jaHVuayA9IFwiXCI7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZXNldChwb3MsIHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgdG9rZW4uc3RhcnQgPSBwb3M7XG4gICAgICAgICAgICB0b2tlbi5sb29rQWhlYWQgPSBwb3MgKyAxO1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB0b2tlbi5leHRlbmRlZCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IG51bGxUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb3MgIT0gcG9zKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgICAgIGlmIChwb3MgPT0gdGhpcy5lbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERvbmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChwb3MgPCB0aGlzLnJhbmdlLmZyb20pXG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMucmFuZ2VzWy0tdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgIHdoaWxlIChwb3MgPj0gdGhpcy5yYW5nZS50bylcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5yYW5nZXNbKyt0aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgaWYgKHBvcyA+PSB0aGlzLmNodW5rUG9zICYmIHBvcyA8IHRoaXMuY2h1bmtQb3MgKyB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2h1bmtPZmYgPSBwb3MgLSB0aGlzLmNodW5rUG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVuayA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlYWROZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcmVhZChmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbSA+PSB0aGlzLmNodW5rUG9zICYmIHRvIDw9IHRoaXMuY2h1bmtQb3MgKyB0aGlzLmNodW5rLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNodW5rLnNsaWNlKGZyb20gLSB0aGlzLmNodW5rUG9zLCB0byAtIHRoaXMuY2h1bmtQb3MpO1xuICAgICAgICBpZiAoZnJvbSA+PSB0aGlzLmNodW5rMlBvcyAmJiB0byA8PSB0aGlzLmNodW5rMlBvcyArIHRoaXMuY2h1bmsyLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNodW5rMi5zbGljZShmcm9tIC0gdGhpcy5jaHVuazJQb3MsIHRvIC0gdGhpcy5jaHVuazJQb3MpO1xuICAgICAgICBpZiAoZnJvbSA+PSB0aGlzLnJhbmdlLmZyb20gJiYgdG8gPD0gdGhpcy5yYW5nZS50bylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0LnJlYWQoZnJvbSwgdG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnJhbmdlcykge1xuICAgICAgICAgICAgaWYgKHIuZnJvbSA+PSB0bylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChyLnRvID4gZnJvbSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5pbnB1dC5yZWFkKE1hdGgubWF4KHIuZnJvbSwgZnJvbSksIE1hdGgubWluKHIudG8sIHRvKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbkBpbnRlcm5hbFxuKi9cbmNsYXNzIFRva2VuR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGlkKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgdG9rZW4oaW5wdXQsIHN0YWNrKSB7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucDtcbiAgICAgICAgcmVhZFRva2VuKHRoaXMuZGF0YSwgaW5wdXQsIHN0YWNrLCB0aGlzLmlkLCBwYXJzZXIuZGF0YSwgcGFyc2VyLnRva2VuUHJlY1RhYmxlKTtcbiAgICB9XG59XG5Ub2tlbkdyb3VwLnByb3RvdHlwZS5jb250ZXh0dWFsID0gVG9rZW5Hcm91cC5wcm90b3R5cGUuZmFsbGJhY2sgPSBUb2tlbkdyb3VwLnByb3RvdHlwZS5leHRlbmQgPSBmYWxzZTtcbi8qKlxuQGhpZGVcbiovXG5jbGFzcyBMb2NhbFRva2VuR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHByZWNUYWJsZSwgZWxzZVRva2VuKSB7XG4gICAgICAgIHRoaXMucHJlY1RhYmxlID0gcHJlY1RhYmxlO1xuICAgICAgICB0aGlzLmVsc2VUb2tlbiA9IGVsc2VUb2tlbjtcbiAgICAgICAgdGhpcy5kYXRhID0gdHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIiA/IGRlY29kZUFycmF5KGRhdGEpIDogZGF0YTtcbiAgICB9XG4gICAgdG9rZW4oaW5wdXQsIHN0YWNrKSB7XG4gICAgICAgIGxldCBzdGFydCA9IGlucHV0LnBvcywgc2tpcHBlZCA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBhdEVvZiA9IGlucHV0Lm5leHQgPCAwLCBuZXh0UG9zID0gaW5wdXQucmVzb2x2ZU9mZnNldCgxLCAxKTtcbiAgICAgICAgICAgIHJlYWRUb2tlbih0aGlzLmRhdGEsIGlucHV0LCBzdGFjaywgMCwgdGhpcy5kYXRhLCB0aGlzLnByZWNUYWJsZSk7XG4gICAgICAgICAgICBpZiAoaW5wdXQudG9rZW4udmFsdWUgPiAtMSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmICh0aGlzLmVsc2VUb2tlbiA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghYXRFb2YpXG4gICAgICAgICAgICAgICAgc2tpcHBlZCsrO1xuICAgICAgICAgICAgaWYgKG5leHRQb3MgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlucHV0LnJlc2V0KG5leHRQb3MsIGlucHV0LnRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgICAgaW5wdXQucmVzZXQoc3RhcnQsIGlucHV0LnRva2VuKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKHRoaXMuZWxzZVRva2VuLCBza2lwcGVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkxvY2FsVG9rZW5Hcm91cC5wcm90b3R5cGUuY29udGV4dHVhbCA9IFRva2VuR3JvdXAucHJvdG90eXBlLmZhbGxiYWNrID0gVG9rZW5Hcm91cC5wcm90b3R5cGUuZXh0ZW5kID0gZmFsc2U7XG4vKipcbmBAZXh0ZXJuYWwgdG9rZW5zYCBkZWNsYXJhdGlvbnMgaW4gdGhlIGdyYW1tYXIgc2hvdWxkIHJlc29sdmUgdG9cbmFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4qL1xuY2xhc3MgRXh0ZXJuYWxUb2tlbml6ZXIge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRva2VuaXplci4gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBmdW5jdGlvbiB0aGF0LFxuICAgIGdpdmVuIGFuIGlucHV0IHN0cmVhbSwgc2NhbnMgZm9yIHRoZSB0eXBlcyBvZiB0b2tlbnMgaXRcbiAgICByZWNvZ25pemVzIGF0IHRoZSBzdHJlYW0ncyBwb3NpdGlvbiwgYW5kIGNhbGxzXG4gICAgW2BhY2NlcHRUb2tlbmBdKCNsci5JbnB1dFN0cmVhbS5hY2NlcHRUb2tlbikgd2hlbiBpdCBmaW5kc1xuICAgIG9uZS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9rZW4sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuY29udGV4dHVhbCA9ICEhb3B0aW9ucy5jb250ZXh0dWFsO1xuICAgICAgICB0aGlzLmZhbGxiYWNrID0gISFvcHRpb25zLmZhbGxiYWNrO1xuICAgICAgICB0aGlzLmV4dGVuZCA9ICEhb3B0aW9ucy5leHRlbmQ7XG4gICAgfVxufVxuLy8gVG9rZW5pemVyIGRhdGEgaXMgc3RvcmVkIGEgYmlnIHVpbnQxNiBhcnJheSBjb250YWluaW5nLCBmb3IgZWFjaFxuLy8gc3RhdGU6XG4vL1xuLy8gIC0gQSBncm91cCBiaXRtYXNrLCBpbmRpY2F0aW5nIHdoYXQgdG9rZW4gZ3JvdXBzIGFyZSByZWFjaGFibGUgZnJvbVxuLy8gICAgdGhpcyBzdGF0ZSwgc28gdGhhdCBwYXRocyB0aGF0IGNhbiBvbmx5IGxlYWQgdG8gdG9rZW5zIG5vdCBpblxuLy8gICAgYW55IG9mIHRoZSBjdXJyZW50IGdyb3VwcyBjYW4gYmUgY3V0IG9mZiBlYXJseS5cbi8vXG4vLyAgLSBUaGUgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiB0aGUgc3RhdGUncyBzZXF1ZW5jZSBvZiBhY2NlcHRpbmdcbi8vICAgIHRva2Vuc1xuLy9cbi8vICAtIFRoZSBudW1iZXIgb2Ygb3V0Z29pbmcgZWRnZXMgZm9yIHRoZSBzdGF0ZVxuLy9cbi8vICAtIFRoZSBhY2NlcHRpbmcgdG9rZW5zLCBhcyAodG9rZW4gaWQsIGdyb3VwIG1hc2spIHBhaXJzXG4vL1xuLy8gIC0gVGhlIG91dGdvaW5nIGVkZ2VzLCBhcyAoc3RhcnQgY2hhcmFjdGVyLCBlbmQgY2hhcmFjdGVyLCBzdGF0ZVxuLy8gICAgaW5kZXgpIHRyaXBsZXMsIHdpdGggZW5kIGNoYXJhY3RlciBiZWluZyBleGNsdXNpdmVcbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGludGVycHJldHMgdGhhdCBkYXRhLCBydW5uaW5nIHRocm91Z2ggYSBzdHJlYW0gYXNcbi8vIGxvbmcgYXMgbmV3IHN0YXRlcyB3aXRoIHRoZSBhIG1hdGNoaW5nIGdyb3VwIG1hc2sgY2FuIGJlIHJlYWNoZWQsXG4vLyBhbmQgdXBkYXRpbmcgYGlucHV0LnRva2VuYCB3aGVuIGl0IG1hdGNoZXMgYSB0b2tlbi5cbmZ1bmN0aW9uIHJlYWRUb2tlbihkYXRhLCBpbnB1dCwgc3RhY2ssIGdyb3VwLCBwcmVjVGFibGUsIHByZWNPZmZzZXQpIHtcbiAgICBsZXQgc3RhdGUgPSAwLCBncm91cE1hc2sgPSAxIDw8IGdyb3VwLCB7IGRpYWxlY3QgfSA9IHN0YWNrLnAucGFyc2VyO1xuICAgIHNjYW46IGZvciAoOzspIHtcbiAgICAgICAgaWYgKChncm91cE1hc2sgJiBkYXRhW3N0YXRlXSkgPT0gMClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsZXQgYWNjRW5kID0gZGF0YVtzdGF0ZSArIDFdO1xuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoaXMgc3RhdGUgY2FuIGxlYWQgdG8gYSB0b2tlbiBpbiB0aGUgY3VycmVudCBncm91cFxuICAgICAgICAvLyBBY2NlcHQgdG9rZW5zIGluIHRoaXMgc3RhdGUsIHBvc3NpYmx5IG92ZXJ3cml0aW5nXG4gICAgICAgIC8vIGxvd2VyLXByZWNlZGVuY2UgLyBzaG9ydGVyIHRva2Vuc1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhdGUgKyAzOyBpIDwgYWNjRW5kOyBpICs9IDIpXG4gICAgICAgICAgICBpZiAoKGRhdGFbaSArIDFdICYgZ3JvdXBNYXNrKSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVybSA9IGRhdGFbaV07XG4gICAgICAgICAgICAgICAgaWYgKGRpYWxlY3QuYWxsb3dzKHRlcm0pICYmXG4gICAgICAgICAgICAgICAgICAgIChpbnB1dC50b2tlbi52YWx1ZSA9PSAtMSB8fCBpbnB1dC50b2tlbi52YWx1ZSA9PSB0ZXJtIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXModGVybSwgaW5wdXQudG9rZW4udmFsdWUsIHByZWNUYWJsZSwgcHJlY09mZnNldCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKHRlcm0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gaW5wdXQubmV4dCwgbG93ID0gMCwgaGlnaCA9IGRhdGFbc3RhdGUgKyAyXTtcbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBFT0ZcbiAgICAgICAgaWYgKGlucHV0Lm5leHQgPCAwICYmIGhpZ2ggPiBsb3cgJiYgZGF0YVthY2NFbmQgKyBoaWdoICogMyAtIDNdID09IDY1NTM1IC8qIFNlcS5FbmQgKi8pIHtcbiAgICAgICAgICAgIHN0YXRlID0gZGF0YVthY2NFbmQgKyBoaWdoICogMyAtIDFdO1xuICAgICAgICAgICAgY29udGludWUgc2NhbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIHN0YXRlJ3MgZWRnZXNcbiAgICAgICAgZm9yICg7IGxvdyA8IGhpZ2g7KSB7XG4gICAgICAgICAgICBsZXQgbWlkID0gKGxvdyArIGhpZ2gpID4+IDE7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBhY2NFbmQgKyBtaWQgKyAobWlkIDw8IDEpO1xuICAgICAgICAgICAgbGV0IGZyb20gPSBkYXRhW2luZGV4XSwgdG8gPSBkYXRhW2luZGV4ICsgMV0gfHwgMHgxMDAwMDtcbiAgICAgICAgICAgIGlmIChuZXh0IDwgZnJvbSlcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA+PSB0bylcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBkYXRhW2luZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIHNjYW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZE9mZnNldChkYXRhLCBzdGFydCwgdGVybSkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydCwgbmV4dDsgKG5leHQgPSBkYXRhW2ldKSAhPSA2NTUzNSAvKiBTZXEuRW5kICovOyBpKyspXG4gICAgICAgIGlmIChuZXh0ID09IHRlcm0pXG4gICAgICAgICAgICByZXR1cm4gaSAtIHN0YXJ0O1xuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIG92ZXJyaWRlcyh0b2tlbiwgcHJldiwgdGFibGVEYXRhLCB0YWJsZU9mZnNldCkge1xuICAgIGxldCBpUHJldiA9IGZpbmRPZmZzZXQodGFibGVEYXRhLCB0YWJsZU9mZnNldCwgcHJldik7XG4gICAgcmV0dXJuIGlQcmV2IDwgMCB8fCBmaW5kT2Zmc2V0KHRhYmxlRGF0YSwgdGFibGVPZmZzZXQsIHRva2VuKSA8IGlQcmV2O1xufVxuXG4vLyBFbnZpcm9ubWVudCB2YXJpYWJsZSB1c2VkIHRvIGNvbnRyb2wgY29uc29sZSBvdXRwdXRcbmNvbnN0IHZlcmJvc2UgPSB0eXBlb2YgcHJvY2VzcyAhPSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52ICYmIC9cXGJwYXJzZVxcYi8udGVzdChwcm9jZXNzLmVudi5MT0cpO1xubGV0IHN0YWNrSURzID0gbnVsbDtcbmZ1bmN0aW9uIGN1dEF0KHRyZWUsIHBvcywgc2lkZSkge1xuICAgIGxldCBjdXJzb3IgPSB0cmVlLmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKTtcbiAgICBjdXJzb3IubW92ZVRvKHBvcyk7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAoIShzaWRlIDwgMCA/IGN1cnNvci5jaGlsZEJlZm9yZShwb3MpIDogY3Vyc29yLmNoaWxkQWZ0ZXIocG9zKSkpXG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKChzaWRlIDwgMCA/IGN1cnNvci50byA8IHBvcyA6IGN1cnNvci5mcm9tID4gcG9zKSAmJiAhY3Vyc29yLnR5cGUuaXNFcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZGUgPCAwID8gTWF0aC5tYXgoMCwgTWF0aC5taW4oY3Vyc29yLnRvIC0gMSwgcG9zIC0gMjUgLyogTG9va2FoZWFkLk1hcmdpbiAqLykpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWluKHRyZWUubGVuZ3RoLCBNYXRoLm1heChjdXJzb3IuZnJvbSArIDEsIHBvcyArIDI1IC8qIExvb2thaGVhZC5NYXJnaW4gKi8pKTtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZSA8IDAgPyBjdXJzb3IucHJldlNpYmxpbmcoKSA6IGN1cnNvci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnNvci5wYXJlbnQoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZGUgPCAwID8gMCA6IHRyZWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEZyYWdtZW50Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihmcmFnbWVudHMsIG5vZGVTZXQpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMubm9kZVNldCA9IG5vZGVTZXQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNhZmVGcm9tID0gLTE7XG4gICAgICAgIHRoaXMuc2FmZVRvID0gLTE7XG4gICAgICAgIHRoaXMudHJlZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGFydCA9IFtdO1xuICAgICAgICB0aGlzLmluZGV4ID0gW107XG4gICAgICAgIHRoaXMubmV4dEZyYWdtZW50KCk7XG4gICAgfVxuICAgIG5leHRGcmFnbWVudCgpIHtcbiAgICAgICAgbGV0IGZyID0gdGhpcy5mcmFnbWVudCA9IHRoaXMuaSA9PSB0aGlzLmZyYWdtZW50cy5sZW5ndGggPyBudWxsIDogdGhpcy5mcmFnbWVudHNbdGhpcy5pKytdO1xuICAgICAgICBpZiAoZnIpIHtcbiAgICAgICAgICAgIHRoaXMuc2FmZUZyb20gPSBmci5vcGVuU3RhcnQgPyBjdXRBdChmci50cmVlLCBmci5mcm9tICsgZnIub2Zmc2V0LCAxKSAtIGZyLm9mZnNldCA6IGZyLmZyb207XG4gICAgICAgICAgICB0aGlzLnNhZmVUbyA9IGZyLm9wZW5FbmQgPyBjdXRBdChmci50cmVlLCBmci50byArIGZyLm9mZnNldCwgLTEpIC0gZnIub2Zmc2V0IDogZnIudG87XG4gICAgICAgICAgICB3aGlsZSAodGhpcy50cmVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleC5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJlZXMucHVzaChmci50cmVlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQucHVzaCgtZnIub2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXgucHVzaCgwKTtcbiAgICAgICAgICAgIHRoaXMubmV4dFN0YXJ0ID0gdGhpcy5zYWZlRnJvbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFN0YXJ0ID0gMWU5O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGBwb3NgIG11c3QgYmUgPj0gYW55IHByZXZpb3VzbHkgZ2l2ZW4gYHBvc2AgZm9yIHRoaXMgY3Vyc29yXG4gICAgbm9kZUF0KHBvcykge1xuICAgICAgICBpZiAocG9zIDwgdGhpcy5uZXh0U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgd2hpbGUgKHRoaXMuZnJhZ21lbnQgJiYgdGhpcy5zYWZlVG8gPD0gcG9zKVxuICAgICAgICAgICAgdGhpcy5uZXh0RnJhZ21lbnQoKTtcbiAgICAgICAgaWYgKCF0aGlzLmZyYWdtZW50KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gdGhpcy50cmVlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKGxhc3QgPCAwKSB7IC8vIEVuZCBvZiB0cmVlXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLnRyZWVzW2xhc3RdLCBpbmRleCA9IHRoaXMuaW5kZXhbbGFzdF07XG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gdG9wLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4LnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5leHQgPSB0b3AuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zdGFydFtsYXN0XSArIHRvcC5wb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0IGluc3RhbmNlb2YgVHJlZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PSBwb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0IDwgdGhpcy5zYWZlRnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gc3RhcnQgKyBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA8PSB0aGlzLnNhZmVUbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvb2tBaGVhZCA9IG5leHQucHJvcChOb2RlUHJvcC5sb29rQWhlYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb29rQWhlYWQgfHwgZW5kICsgbG9va0FoZWFkIDwgdGhpcy5mcmFnbWVudC50bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4W2xhc3RdKys7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICsgbmV4dC5sZW5ndGggPj0gTWF0aC5tYXgodGhpcy5zYWZlRnJvbSwgcG9zKSkgeyAvLyBFbnRlciB0aGlzIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4LnB1c2goMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleFtsYXN0XSsrO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0YXJ0ID0gc3RhcnQgKyBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFRva2VuQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgc3RyZWFtKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgICAgICB0aGlzLm1haW5Ub2tlbiA9IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnRva2VucyA9IHBhcnNlci50b2tlbml6ZXJzLm1hcChfID0+IG5ldyBDYWNoZWRUb2tlbik7XG4gICAgfVxuICAgIGdldEFjdGlvbnMoc3RhY2spIHtcbiAgICAgICAgbGV0IGFjdGlvbkluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1haW4gPSBudWxsO1xuICAgICAgICBsZXQgeyBwYXJzZXIgfSA9IHN0YWNrLnAsIHsgdG9rZW5pemVycyB9ID0gcGFyc2VyO1xuICAgICAgICBsZXQgbWFzayA9IHBhcnNlci5zdGF0ZVNsb3Qoc3RhY2suc3RhdGUsIDMgLyogUGFyc2VTdGF0ZS5Ub2tlbml6ZXJNYXNrICovKTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBzdGFjay5jdXJDb250ZXh0ID8gc3RhY2suY3VyQ29udGV4dC5oYXNoIDogMDtcbiAgICAgICAgbGV0IGxvb2tBaGVhZCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCgoMSA8PCBpKSAmIG1hc2spID09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgdG9rZW5pemVyID0gdG9rZW5pemVyc1tpXSwgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmIChtYWluICYmICF0b2tlbml6ZXIuZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAodG9rZW5pemVyLmNvbnRleHR1YWwgfHwgdG9rZW4uc3RhcnQgIT0gc3RhY2sucG9zIHx8IHRva2VuLm1hc2sgIT0gbWFzayB8fCB0b2tlbi5jb250ZXh0ICE9IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlZFRva2VuKHRva2VuLCB0b2tlbml6ZXIsIHN0YWNrKTtcbiAgICAgICAgICAgICAgICB0b2tlbi5tYXNrID0gbWFzaztcbiAgICAgICAgICAgICAgICB0b2tlbi5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi5sb29rQWhlYWQgPiB0b2tlbi5lbmQgKyAyNSAvKiBMb29rYWhlYWQuTWFyZ2luICovKVxuICAgICAgICAgICAgICAgIGxvb2tBaGVhZCA9IE1hdGgubWF4KHRva2VuLmxvb2tBaGVhZCwgbG9va0FoZWFkKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSAhPSAwIC8qIFRlcm0uRXJyICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBhY3Rpb25JbmRleDtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4uZXh0ZW5kZWQgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uSW5kZXggPSB0aGlzLmFkZEFjdGlvbnMoc3RhY2ssIHRva2VuLmV4dGVuZGVkLCB0b2tlbi5lbmQsIGFjdGlvbkluZGV4KTtcbiAgICAgICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4udmFsdWUsIHRva2VuLmVuZCwgYWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW5pemVyLmV4dGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBtYWluID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25JbmRleCA+IHN0YXJ0SW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuYWN0aW9ucy5sZW5ndGggPiBhY3Rpb25JbmRleClcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5wb3AoKTtcbiAgICAgICAgaWYgKGxvb2tBaGVhZClcbiAgICAgICAgICAgIHN0YWNrLnNldExvb2tBaGVhZChsb29rQWhlYWQpO1xuICAgICAgICBpZiAoIW1haW4gJiYgc3RhY2sucG9zID09IHRoaXMuc3RyZWFtLmVuZCkge1xuICAgICAgICAgICAgbWFpbiA9IG5ldyBDYWNoZWRUb2tlbjtcbiAgICAgICAgICAgIG1haW4udmFsdWUgPSBzdGFjay5wLnBhcnNlci5lb2ZUZXJtO1xuICAgICAgICAgICAgbWFpbi5zdGFydCA9IG1haW4uZW5kID0gc3RhY2sucG9zO1xuICAgICAgICAgICAgYWN0aW9uSW5kZXggPSB0aGlzLmFkZEFjdGlvbnMoc3RhY2ssIG1haW4udmFsdWUsIG1haW4uZW5kLCBhY3Rpb25JbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluVG9rZW4gPSBtYWluO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25zO1xuICAgIH1cbiAgICBnZXRNYWluVG9rZW4oc3RhY2spIHtcbiAgICAgICAgaWYgKHRoaXMubWFpblRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpblRva2VuO1xuICAgICAgICBsZXQgbWFpbiA9IG5ldyBDYWNoZWRUb2tlbiwgeyBwb3MsIHAgfSA9IHN0YWNrO1xuICAgICAgICBtYWluLnN0YXJ0ID0gcG9zO1xuICAgICAgICBtYWluLmVuZCA9IE1hdGgubWluKHBvcyArIDEsIHAuc3RyZWFtLmVuZCk7XG4gICAgICAgIG1haW4udmFsdWUgPSBwb3MgPT0gcC5zdHJlYW0uZW5kID8gcC5wYXJzZXIuZW9mVGVybSA6IDAgLyogVGVybS5FcnIgKi87XG4gICAgICAgIHJldHVybiBtYWluO1xuICAgIH1cbiAgICB1cGRhdGVDYWNoZWRUb2tlbih0b2tlbiwgdG9rZW5pemVyLCBzdGFjaykge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0cmVhbS5jbGlwUG9zKHN0YWNrLnBvcyk7XG4gICAgICAgIHRva2VuaXplci50b2tlbih0aGlzLnN0cmVhbS5yZXNldChzdGFydCwgdG9rZW4pLCBzdGFjayk7XG4gICAgICAgIGlmICh0b2tlbi52YWx1ZSA+IC0xKSB7XG4gICAgICAgICAgICBsZXQgeyBwYXJzZXIgfSA9IHN0YWNrLnA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlci5zcGVjaWFsaXplZC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VyLnNwZWNpYWxpemVkW2ldID09IHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBwYXJzZXIuc3BlY2lhbGl6ZXJzW2ldKHRoaXMuc3RyZWFtLnJlYWQodG9rZW4uc3RhcnQsIHRva2VuLmVuZCksIHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+PSAwICYmIHN0YWNrLnAucGFyc2VyLmRpYWxlY3QuYWxsb3dzKHJlc3VsdCA+PiAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZXN1bHQgJiAxKSA9PSAwIC8qIFNwZWNpYWxpemUuU3BlY2lhbGl6ZSAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHJlc3VsdCA+PiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLmV4dGVuZGVkID0gcmVzdWx0ID4+IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gMCAvKiBUZXJtLkVyciAqLztcbiAgICAgICAgICAgIHRva2VuLmVuZCA9IHRoaXMuc3RyZWFtLmNsaXBQb3Moc3RhcnQgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdXRBY3Rpb24oYWN0aW9uLCB0b2tlbiwgZW5kLCBpbmRleCkge1xuICAgICAgICAvLyBEb24ndCBhZGQgZHVwbGljYXRlIGFjdGlvbnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSArPSAzKVxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uc1tpXSA9PSBhY3Rpb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB0aGlzLmFjdGlvbnNbaW5kZXgrK10gPSBhY3Rpb247XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IHRva2VuO1xuICAgICAgICB0aGlzLmFjdGlvbnNbaW5kZXgrK10gPSBlbmQ7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4sIGVuZCwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHN0YWNrLCB7IHBhcnNlciB9ID0gc3RhY2sucCwgeyBkYXRhIH0gPSBwYXJzZXI7XG4gICAgICAgIGZvciAobGV0IHNldCA9IDA7IHNldCA8IDI7IHNldCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gcGFyc2VyLnN0YXRlU2xvdChzdGF0ZSwgc2V0ID8gMiAvKiBQYXJzZVN0YXRlLlNraXAgKi8gOiAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyk7OyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2kgKyAxXSA9PSAxIC8qIFNlcS5OZXh0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gcGFpcihkYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gMCAmJiBkYXRhW2kgKyAxXSA9PSAyIC8qIFNlcS5PdGhlciAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMucHV0QWN0aW9uKHBhaXIoZGF0YSwgaSArIDIpLCB0b2tlbiwgZW5kLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXSA9PSB0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLnB1dEFjdGlvbihwYWlyKGRhdGEsIGkgKyAxKSwgdG9rZW4sIGVuZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59XG5jbGFzcyBQYXJzZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMucmVjb3ZlcmluZyA9IDA7XG4gICAgICAgIHRoaXMubmV4dFN0YWNrSUQgPSAweDI2NTQ7IC8vIFx1MjY1NCwgXHUyNjU1LCBcdTI2NTYsIFx1MjY1NywgXHUyNjU4LCBcdTI2NTksIFx1MjY2MCwgXHUyNjYxLCBcdTI2NjIsIFx1MjY2MywgXHUyNjY0LCBcdTI2NjUsIFx1MjY2NiwgXHUyNjY3XG4gICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSAwO1xuICAgICAgICB0aGlzLnJldXNlZCA9IFtdO1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEJpZ1JlZHVjdGlvblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMubGFzdEJpZ1JlZHVjdGlvblNpemUgPSAwO1xuICAgICAgICB0aGlzLmJpZ1JlZHVjdGlvbkNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBuZXcgSW5wdXRTdHJlYW0oaW5wdXQsIHJhbmdlcyk7XG4gICAgICAgIHRoaXMudG9rZW5zID0gbmV3IFRva2VuQ2FjaGUocGFyc2VyLCB0aGlzLnN0cmVhbSk7XG4gICAgICAgIHRoaXMudG9wVGVybSA9IHBhcnNlci50b3BbMV07XG4gICAgICAgIGxldCB7IGZyb20gfSA9IHJhbmdlc1swXTtcbiAgICAgICAgdGhpcy5zdGFja3MgPSBbU3RhY2suc3RhcnQodGhpcywgcGFyc2VyLnRvcFswXSwgZnJvbSldO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cy5sZW5ndGggJiYgdGhpcy5zdHJlYW0uZW5kIC0gZnJvbSA+IHBhcnNlci5idWZmZXJMZW5ndGggKiA0XG4gICAgICAgICAgICA/IG5ldyBGcmFnbWVudEN1cnNvcihmcmFnbWVudHMsIHBhcnNlci5ub2RlU2V0KSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBwYXJzZWRQb3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblN0YWNrUG9zO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRoZSBwYXJzZXIgZm9yd2FyZC4gVGhpcyB3aWxsIHByb2Nlc3MgYWxsIHBhcnNlIHN0YWNrcyBhdFxuICAgIC8vIGB0aGlzLnBvc2AgYW5kIHRyeSB0byBhZHZhbmNlIHRoZW0gdG8gYSBmdXJ0aGVyIHBvc2l0aW9uLiBJZiBub1xuICAgIC8vIHN0YWNrIGZvciBzdWNoIGEgcG9zaXRpb24gaXMgZm91bmQsIGl0J2xsIHN0YXJ0IGVycm9yLXJlY292ZXJ5LlxuICAgIC8vXG4gICAgLy8gV2hlbiB0aGUgcGFyc2UgaXMgZmluaXNoZWQsIHRoaXMgd2lsbCByZXR1cm4gYSBzeW50YXggdHJlZS4gV2hlblxuICAgIC8vIG5vdCwgaXQgcmV0dXJucyBgbnVsbGAuXG4gICAgYWR2YW5jZSgpIHtcbiAgICAgICAgbGV0IHN0YWNrcyA9IHRoaXMuc3RhY2tzLCBwb3MgPSB0aGlzLm1pblN0YWNrUG9zO1xuICAgICAgICAvLyBUaGlzIHdpbGwgaG9sZCBzdGFja3MgYmV5b25kIGBwb3NgLlxuICAgICAgICBsZXQgbmV3U3RhY2tzID0gdGhpcy5zdGFja3MgPSBbXTtcbiAgICAgICAgbGV0IHN0b3BwZWQsIHN0b3BwZWRUb2tlbnM7XG4gICAgICAgIC8vIElmIGEgbGFyZ2UgYW1vdW50IG9mIHJlZHVjdGlvbnMgaGFwcGVuZWQgd2l0aCB0aGUgc2FtZSBzdGFydFxuICAgICAgICAvLyBwb3NpdGlvbiwgZm9yY2UgdGhlIHN0YWNrIG91dCBvZiB0aGF0IHByb2R1Y3Rpb24gaW4gb3JkZXIgdG9cbiAgICAgICAgLy8gYXZvaWQgY3JlYXRpbmcgYSB0cmVlIHRvbyBkZWVwIHRvIHJlY3Vyc2UgdGhyb3VnaC5cbiAgICAgICAgLy8gKFRoaXMgaXMgYW4gdWdseSBrbHVkZ2UsIGJlY2F1c2UgdW5mb3J0dW5hdGVseSB0aGVyZSBpcyBub1xuICAgICAgICAvLyBzdHJhaWdodGZvcndhcmQsIGNoZWFwIHdheSB0byBjaGVjayBmb3IgdGhpcyBoYXBwZW5pbmcsIGR1ZSB0b1xuICAgICAgICAvLyB0aGUgaGlzdG9yeSBvZiByZWR1Y3Rpb25zIG9ubHkgYmVpbmcgYXZhaWxhYmxlIGluIGFuXG4gICAgICAgIC8vIGV4cGVuc2l2ZS10by1hY2Nlc3MgZm9ybWF0IGluIHRoZSBzdGFjayBidWZmZXJzLilcbiAgICAgICAgaWYgKHRoaXMuYmlnUmVkdWN0aW9uQ291bnQgPiAzMDAgLyogUmVjLk1heExlZnRBc3NvY2lhdGl2ZVJlZHVjdGlvbkNvdW50ICovICYmIHN0YWNrcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgbGV0IFtzXSA9IHN0YWNrcztcbiAgICAgICAgICAgIHdoaWxlIChzLmZvcmNlUmVkdWNlKCkgJiYgcy5zdGFjay5sZW5ndGggJiYgcy5zdGFja1tzLnN0YWNrLmxlbmd0aCAtIDJdID49IHRoaXMubGFzdEJpZ1JlZHVjdGlvblN0YXJ0KSB7IH1cbiAgICAgICAgICAgIHRoaXMuYmlnUmVkdWN0aW9uQ291bnQgPSB0aGlzLmxhc3RCaWdSZWR1Y3Rpb25TaXplID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBLZWVwIGFkdmFuY2luZyBhbnkgc3RhY2tzIGF0IGBwb3NgIHVudGlsIHRoZXkgZWl0aGVyIG1vdmVcbiAgICAgICAgLy8gZm9yd2FyZCBvciBjYW4ndCBiZSBhZHZhbmNlZC4gR2F0aGVyIHN0YWNrcyB0aGF0IGNhbid0IGJlXG4gICAgICAgIC8vIGFkdmFuY2VkIGZ1cnRoZXIgaW4gYHN0b3BwZWRgLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YWNrID0gc3RhY2tzW2ldO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5zLm1haW5Ub2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLnBvcyA+IHBvcykge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3MucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYWR2YW5jZVN0YWNrKHN0YWNrLCBuZXdTdGFja3MsIHN0YWNrcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BwZWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BwZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkLnB1c2goc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rID0gdGhpcy50b2tlbnMuZ2V0TWFpblRva2VuKHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZFRva2Vucy5wdXNoKHRvay52YWx1ZSwgdG9rLmVuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U3RhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGZpbmlzaGVkID0gc3RvcHBlZCAmJiBmaW5kRmluaXNoZWQoc3RvcHBlZCk7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaW5pc2ggd2l0aCBcIiArIHRoaXMuc3RhY2tJRChmaW5pc2hlZCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YWNrVG9UcmVlKGZpbmlzaGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlci5zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSAmJiBzdG9wcGVkKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0dWNrIHdpdGggdG9rZW4gXCIgKyAodGhpcy50b2tlbnMubWFpblRva2VuID8gdGhpcy5wYXJzZXIuZ2V0TmFtZSh0aGlzLnRva2Vucy5tYWluVG9rZW4udmFsdWUpIDogXCJub25lXCIpKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJObyBwYXJzZSBhdCBcIiArIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVjb3ZlcmluZylcbiAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJpbmcgPSA1IC8qIFJlYy5EaXN0YW5jZSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZWNvdmVyaW5nICYmIHN0b3BwZWQpIHtcbiAgICAgICAgICAgIGxldCBmaW5pc2hlZCA9IHRoaXMuc3RvcHBlZEF0ICE9IG51bGwgJiYgc3RvcHBlZFswXS5wb3MgPiB0aGlzLnN0b3BwZWRBdCA/IHN0b3BwZWRbMF1cbiAgICAgICAgICAgICAgICA6IHRoaXMucnVuUmVjb3Zlcnkoc3RvcHBlZCwgc3RvcHBlZFRva2VucywgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvcmNlLWZpbmlzaCBcIiArIHRoaXMuc3RhY2tJRChmaW5pc2hlZCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YWNrVG9UcmVlKGZpbmlzaGVkLmZvcmNlQWxsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY292ZXJpbmcpIHtcbiAgICAgICAgICAgIGxldCBtYXhSZW1haW5pbmcgPSB0aGlzLnJlY292ZXJpbmcgPT0gMSA/IDEgOiB0aGlzLnJlY292ZXJpbmcgKiAzIC8qIFJlYy5NYXhSZW1haW5pbmdQZXJTdGVwICovO1xuICAgICAgICAgICAgaWYgKG5ld1N0YWNrcy5sZW5ndGggPiBtYXhSZW1haW5pbmcpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGFja3Muc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdTdGFja3MubGVuZ3RoID4gbWF4UmVtYWluaW5nKVxuICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3MucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzLnNvbWUocyA9PiBzLnJlZHVjZVBvcyA+IHBvcykpXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvdmVyaW5nLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3U3RhY2tzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFBydW5lIHN0YWNrcyB0aGF0IGFyZSBpbiB0aGUgc2FtZSBzdGF0ZSwgb3IgdGhhdCBoYXZlIGJlZW5cbiAgICAgICAgICAgIC8vIHJ1bm5pbmcgd2l0aG91dCBzcGxpdHRpbmcgZm9yIGEgd2hpbGUsIHRvIGF2b2lkIGdldHRpbmcgc3R1Y2tcbiAgICAgICAgICAgIC8vIHdpdGggbXVsdGlwbGUgc3VjY2Vzc2Z1bCBzdGFja3MgcnVubmluZyBlbmRsZXNzbHkgb24uXG4gICAgICAgICAgICBvdXRlcjogZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTdGFja3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gbmV3U3RhY2tzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG5ld1N0YWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3RoZXIgPSBuZXdTdGFja3Nbal07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5zYW1lU3RhdGUob3RoZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5idWZmZXIubGVuZ3RoID4gNTAwIC8qIFJlYy5NaW5CdWZmZXJMZW5ndGhQcnVuZSAqLyAmJiBvdGhlci5idWZmZXIubGVuZ3RoID4gNTAwIC8qIFJlYy5NaW5CdWZmZXJMZW5ndGhQcnVuZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoc3RhY2suc2NvcmUgLSBvdGhlci5zY29yZSkgfHwgKHN0YWNrLmJ1ZmZlci5sZW5ndGggLSBvdGhlci5idWZmZXIubGVuZ3RoKSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhY2tzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhY2tzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1N0YWNrcy5sZW5ndGggPiAxMiAvKiBSZWMuTWF4U3RhY2tDb3VudCAqLylcbiAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKDEyIC8qIFJlYy5NYXhTdGFja0NvdW50ICovLCBuZXdTdGFja3MubGVuZ3RoIC0gMTIgLyogUmVjLk1heFN0YWNrQ291bnQgKi8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSBuZXdTdGFja3NbMF0ucG9zO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG5ld1N0YWNrcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChuZXdTdGFja3NbaV0ucG9zIDwgdGhpcy5taW5TdGFja1BvcylcbiAgICAgICAgICAgICAgICB0aGlzLm1pblN0YWNrUG9zID0gbmV3U3RhY2tzW2ldLnBvcztcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0b3BBdChwb3MpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwgJiYgdGhpcy5zdG9wcGVkQXQgPCBwb3MpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IG1vdmUgc3RvcHBlZEF0IGZvcndhcmRcIik7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3RhY2ssIG9yIG51bGwgaWYgdGhlXG4gICAgLy8gc3RhY2sgY2FuJ3QgYWR2YW5jZSBub3JtYWxseS4gV2hlbiBgc3BsaXRgIGFuZCBgc3RhY2tzYCBhcmVcbiAgICAvLyBnaXZlbiwgc3RhY2tzIHNwbGl0IG9mZiBieSBhbWJpZ3VvdXMgb3BlcmF0aW9ucyB3aWxsIGJlIHB1c2hlZCB0b1xuICAgIC8vIGBzcGxpdGAsIG9yIGFkZGVkIHRvIGBzdGFja3NgIGlmIHRoZXkgbW92ZSBgcG9zYCBmb3J3YXJkLlxuICAgIGFkdmFuY2VTdGFjayhzdGFjaywgc3RhY2tzLCBzcGxpdCkge1xuICAgICAgICBsZXQgc3RhcnQgPSBzdGFjay5wb3MsIHsgcGFyc2VyIH0gPSB0aGlzO1xuICAgICAgICBsZXQgYmFzZSA9IHZlcmJvc2UgPyB0aGlzLnN0YWNrSUQoc3RhY2spICsgXCIgLT4gXCIgOiBcIlwiO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiBzdGFydCA+IHRoaXMuc3RvcHBlZEF0KVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmZvcmNlUmVkdWNlKCkgPyBzdGFjayA6IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50cykge1xuICAgICAgICAgICAgbGV0IHN0cmljdEN4ID0gc3RhY2suY3VyQ29udGV4dCAmJiBzdGFjay5jdXJDb250ZXh0LnRyYWNrZXIuc3RyaWN0LCBjeEhhc2ggPSBzdHJpY3RDeCA/IHN0YWNrLmN1ckNvbnRleHQuaGFzaCA6IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZWQgPSB0aGlzLmZyYWdtZW50cy5ub2RlQXQoc3RhcnQpOyBjYWNoZWQ7KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5wYXJzZXIubm9kZVNldC50eXBlc1tjYWNoZWQudHlwZS5pZF0gPT0gY2FjaGVkLnR5cGUgPyBwYXJzZXIuZ2V0R290byhzdGFjay5zdGF0ZSwgY2FjaGVkLnR5cGUuaWQpIDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoID4gLTEgJiYgY2FjaGVkLmxlbmd0aCAmJiAoIXN0cmljdEN4IHx8IChjYWNoZWQucHJvcChOb2RlUHJvcC5jb250ZXh0SGFzaCkgfHwgMCkgPT0gY3hIYXNoKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51c2VOb2RlKGNhY2hlZCwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIHJldXNlIG9mICR7cGFyc2VyLmdldE5hbWUoY2FjaGVkLnR5cGUuaWQpfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGNhY2hlZCBpbnN0YW5jZW9mIFRyZWUpIHx8IGNhY2hlZC5jaGlsZHJlbi5sZW5ndGggPT0gMCB8fCBjYWNoZWQucG9zaXRpb25zWzBdID4gMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgbGV0IGlubmVyID0gY2FjaGVkLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lciBpbnN0YW5jZW9mIFRyZWUgJiYgY2FjaGVkLnBvc2l0aW9uc1swXSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICBjYWNoZWQgPSBpbm5lcjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkZWZhdWx0UmVkdWNlID0gcGFyc2VyLnN0YXRlU2xvdChzdGFjay5zdGF0ZSwgNCAvKiBQYXJzZVN0YXRlLkRlZmF1bHRSZWR1Y2UgKi8pO1xuICAgICAgICBpZiAoZGVmYXVsdFJlZHVjZSA+IDApIHtcbiAgICAgICAgICAgIHN0YWNrLnJlZHVjZShkZWZhdWx0UmVkdWNlKTtcbiAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIGFsd2F5cy1yZWR1Y2UgJHtwYXJzZXIuZ2V0TmFtZShkZWZhdWx0UmVkdWNlICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLyl9KWApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YWNrLnN0YWNrLmxlbmd0aCA+PSA4NDAwIC8qIFJlYy5DdXREZXB0aCAqLykge1xuICAgICAgICAgICAgd2hpbGUgKHN0YWNrLnN0YWNrLmxlbmd0aCA+IDYwMDAgLyogUmVjLkN1dFRvICovICYmIHN0YWNrLmZvcmNlUmVkdWNlKCkpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhY3Rpb25zID0gdGhpcy50b2tlbnMuZ2V0QWN0aW9ucyhzdGFjayk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gYWN0aW9uc1tpKytdLCB0ZXJtID0gYWN0aW9uc1tpKytdLCBlbmQgPSBhY3Rpb25zW2krK107XG4gICAgICAgICAgICBsZXQgbGFzdCA9IGkgPT0gYWN0aW9ucy5sZW5ndGggfHwgIXNwbGl0O1xuICAgICAgICAgICAgbGV0IGxvY2FsU3RhY2sgPSBsYXN0ID8gc3RhY2sgOiBzdGFjay5zcGxpdCgpO1xuICAgICAgICAgICAgbGV0IG1haW4gPSB0aGlzLnRva2Vucy5tYWluVG9rZW47XG4gICAgICAgICAgICBsb2NhbFN0YWNrLmFwcGx5KGFjdGlvbiwgdGVybSwgbWFpbiA/IG1haW4uc3RhcnQgOiBsb2NhbFN0YWNrLnBvcywgZW5kKTtcbiAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQobG9jYWxTdGFjaykgKyBgICh2aWEgJHsoYWN0aW9uICYgNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8pID09IDAgPyBcInNoaWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgOiBgcmVkdWNlIG9mICR7cGFyc2VyLmdldE5hbWUoYWN0aW9uICYgNjU1MzUgLyogQWN0aW9uLlZhbHVlTWFzayAqLyl9YH0gZm9yICR7cGFyc2VyLmdldE5hbWUodGVybSl9IEAgJHtzdGFydH0ke2xvY2FsU3RhY2sgPT0gc3RhY2sgPyBcIlwiIDogXCIsIHNwbGl0XCJ9KWApO1xuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChsb2NhbFN0YWNrLnBvcyA+IHN0YXJ0KVxuICAgICAgICAgICAgICAgIHN0YWNrcy5wdXNoKGxvY2FsU3RhY2spO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNwbGl0LnB1c2gobG9jYWxTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBBZHZhbmNlIGEgZ2l2ZW4gc3RhY2sgZm9yd2FyZCBhcyBmYXIgYXMgaXQgd2lsbCBnby4gUmV0dXJucyB0aGVcbiAgICAvLyAocG9zc2libHkgdXBkYXRlZCkgc3RhY2sgaWYgaXQgZ290IHN0dWNrLCBvciBudWxsIGlmIGl0IG1vdmVkXG4gICAgLy8gZm9yd2FyZCBhbmQgd2FzIGdpdmVuIHRvIGBwdXNoU3RhY2tEZWR1cGAuXG4gICAgYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IHBvcyA9IHN0YWNrLnBvcztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFkdmFuY2VTdGFjayhzdGFjaywgbnVsbCwgbnVsbCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHN0YWNrLnBvcyA+IHBvcykge1xuICAgICAgICAgICAgICAgIHB1c2hTdGFja0RlZHVwKHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJ1blJlY292ZXJ5KHN0YWNrcywgdG9rZW5zLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IGZpbmlzaGVkID0gbnVsbCwgcmVzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBzdGFja3NbaV0sIHRva2VuID0gdG9rZW5zW2kgPDwgMV0sIHRva2VuRW5kID0gdG9rZW5zWyhpIDw8IDEpICsgMV07XG4gICAgICAgICAgICBsZXQgYmFzZSA9IHZlcmJvc2UgPyB0aGlzLnN0YWNrSUQoc3RhY2spICsgXCIgLT4gXCIgOiBcIlwiO1xuICAgICAgICAgICAgaWYgKHN0YWNrLmRlYWRFbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAocmVzdGFydGVkKVwiKTtcbiAgICAgICAgICAgICAgICBsZXQgZG9uZSA9IHRoaXMuYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmb3JjZSA9IHN0YWNrLnNwbGl0KCksIGZvcmNlQmFzZSA9IGJhc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgZm9yY2UuZm9yY2VSZWR1Y2UoKSAmJiBqIDwgMTAgLyogUmVjLkZvcmNlUmVkdWNlTGltaXQgKi87IGorKykge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JjZUJhc2UgKyB0aGlzLnN0YWNrSUQoZm9yY2UpICsgXCIgKHZpYSBmb3JjZS1yZWR1Y2UpXCIpO1xuICAgICAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5hZHZhbmNlRnVsbHkoZm9yY2UsIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBmb3JjZUJhc2UgPSB0aGlzLnN0YWNrSUQoZm9yY2UpICsgXCIgLT4gXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpbnNlcnQgb2Ygc3RhY2sucmVjb3ZlckJ5SW5zZXJ0KHRva2VuKSkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKGluc2VydCkgKyBcIiAodmlhIHJlY292ZXItaW5zZXJ0KVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VGdWxseShpbnNlcnQsIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0uZW5kID4gc3RhY2sucG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuRW5kID09IHN0YWNrLnBvcykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbkVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IDAgLyogVGVybS5FcnIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrLnJlY292ZXJCeURlbGV0ZSh0b2tlbiwgdG9rZW5FbmQpO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKHN0YWNrKSArIGAgKHZpYSByZWNvdmVyLWRlbGV0ZSAke3RoaXMucGFyc2VyLmdldE5hbWUodG9rZW4pfSlgKTtcbiAgICAgICAgICAgICAgICBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFmaW5pc2hlZCB8fCBmaW5pc2hlZC5zY29yZSA8IHN0YWNrLnNjb3JlKSB7XG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSBzdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluaXNoZWQ7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgdGhlIHN0YWNrJ3MgYnVmZmVyIHRvIGEgc3ludGF4IHRyZWUuXG4gICAgc3RhY2tUb1RyZWUoc3RhY2spIHtcbiAgICAgICAgc3RhY2suY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIFRyZWUuYnVpbGQoeyBidWZmZXI6IFN0YWNrQnVmZmVyQ3Vyc29yLmNyZWF0ZShzdGFjayksXG4gICAgICAgICAgICBub2RlU2V0OiB0aGlzLnBhcnNlci5ub2RlU2V0LFxuICAgICAgICAgICAgdG9wSUQ6IHRoaXMudG9wVGVybSxcbiAgICAgICAgICAgIG1heEJ1ZmZlckxlbmd0aDogdGhpcy5wYXJzZXIuYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgcmV1c2VkOiB0aGlzLnJldXNlZCxcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbGVuZ3RoOiBzdGFjay5wb3MgLSB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbWluUmVwZWF0VHlwZTogdGhpcy5wYXJzZXIubWluUmVwZWF0VGVybSB9KTtcbiAgICB9XG4gICAgc3RhY2tJRChzdGFjaykge1xuICAgICAgICBsZXQgaWQgPSAoc3RhY2tJRHMgfHwgKHN0YWNrSURzID0gbmV3IFdlYWtNYXApKS5nZXQoc3RhY2spO1xuICAgICAgICBpZiAoIWlkKVxuICAgICAgICAgICAgc3RhY2tJRHMuc2V0KHN0YWNrLCBpZCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMubmV4dFN0YWNrSUQrKykpO1xuICAgICAgICByZXR1cm4gaWQgKyBzdGFjaztcbiAgICB9XG59XG5mdW5jdGlvbiBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTdGFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG90aGVyID0gbmV3U3RhY2tzW2ldO1xuICAgICAgICBpZiAob3RoZXIucG9zID09IHN0YWNrLnBvcyAmJiBvdGhlci5zYW1lU3RhdGUoc3RhY2spKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzW2ldLnNjb3JlIDwgc3RhY2suc2NvcmUpXG4gICAgICAgICAgICAgICAgbmV3U3RhY2tzW2ldID0gc3RhY2s7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3U3RhY2tzLnB1c2goc3RhY2spO1xufVxuY2xhc3MgRGlhbGVjdCB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBmbGFncywgZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBhbGxvd3ModGVybSkgeyByZXR1cm4gIXRoaXMuZGlzYWJsZWQgfHwgdGhpcy5kaXNhYmxlZFt0ZXJtXSA9PSAwOyB9XG59XG5jb25zdCBpZCA9IHggPT4geDtcbi8qKlxuQ29udGV4dCB0cmFja2VycyBhcmUgdXNlZCB0byB0cmFjayBzdGF0ZWZ1bCBjb250ZXh0IChzdWNoIGFzXG5pbmRlbnRhdGlvbiBpbiB0aGUgUHl0aG9uIGdyYW1tYXIsIG9yIHBhcmVudCBlbGVtZW50cyBpbiB0aGUgWE1MXG5ncmFtbWFyKSBuZWVkZWQgYnkgZXh0ZXJuYWwgdG9rZW5pemVycy4gWW91IGRlY2xhcmUgdGhlbSBpbiBhXG5ncmFtbWFyIGZpbGUgYXMgYEBjb250ZXh0IGV4cG9ydE5hbWUgZnJvbSBcIm1vZHVsZVwiYC5cblxuQ29udGV4dCB2YWx1ZXMgc2hvdWxkIGJlIGltbXV0YWJsZSwgYW5kIGNhbiBiZSB1cGRhdGVkIChyZXBsYWNlZClcbm9uIHNoaWZ0IG9yIHJlZHVjZSBhY3Rpb25zLlxuXG5UaGUgZXhwb3J0IHVzZWQgaW4gYSBgQGNvbnRleHRgIGRlY2xhcmF0aW9uIHNob3VsZCBiZSBvZiB0aGlzXG50eXBlLlxuKi9cbmNsYXNzIENvbnRleHRUcmFja2VyIHtcbiAgICAvKipcbiAgICBEZWZpbmUgYSBjb250ZXh0IHRyYWNrZXIuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzcGVjLnN0YXJ0O1xuICAgICAgICB0aGlzLnNoaWZ0ID0gc3BlYy5zaGlmdCB8fCBpZDtcbiAgICAgICAgdGhpcy5yZWR1Y2UgPSBzcGVjLnJlZHVjZSB8fCBpZDtcbiAgICAgICAgdGhpcy5yZXVzZSA9IHNwZWMucmV1c2UgfHwgaWQ7XG4gICAgICAgIHRoaXMuaGFzaCA9IHNwZWMuaGFzaCB8fCAoKCkgPT4gMCk7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gc3BlYy5zdHJpY3QgIT09IGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuSG9sZHMgdGhlIHBhcnNlIHRhYmxlcyBmb3IgYSBnaXZlbiBncmFtbWFyLCBhcyBnZW5lcmF0ZWQgYnlcbmBsZXplci1nZW5lcmF0b3JgLCBhbmQgcHJvdmlkZXMgW21ldGhvZHNdKCNjb21tb24uUGFyc2VyKSB0byBwYXJzZVxuY29udGVudCB3aXRoLlxuKi9cbmNsYXNzIExSUGFyc2VyIGV4dGVuZHMgUGFyc2VyIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBwZXJzID0gW107XG4gICAgICAgIGlmIChzcGVjLnZlcnNpb24gIT0gMTQgLyogRmlsZS5WZXJzaW9uICovKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFBhcnNlciB2ZXJzaW9uICgke3NwZWMudmVyc2lvbn0pIGRvZXNuJ3QgbWF0Y2ggcnVudGltZSB2ZXJzaW9uICgkezE0IC8qIEZpbGUuVmVyc2lvbiAqL30pYCk7XG4gICAgICAgIGxldCBub2RlTmFtZXMgPSBzcGVjLm5vZGVOYW1lcy5zcGxpdChcIiBcIik7XG4gICAgICAgIHRoaXMubWluUmVwZWF0VGVybSA9IG5vZGVOYW1lcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlYy5yZXBlYXROb2RlQ291bnQ7IGkrKylcbiAgICAgICAgICAgIG5vZGVOYW1lcy5wdXNoKFwiXCIpO1xuICAgICAgICBsZXQgdG9wVGVybXMgPSBPYmplY3Qua2V5cyhzcGVjLnRvcFJ1bGVzKS5tYXAociA9PiBzcGVjLnRvcFJ1bGVzW3JdWzFdKTtcbiAgICAgICAgbGV0IG5vZGVQcm9wcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVOYW1lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIG5vZGVQcm9wcy5wdXNoKFtdKTtcbiAgICAgICAgZnVuY3Rpb24gc2V0UHJvcChub2RlSUQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBub2RlUHJvcHNbbm9kZUlEXS5wdXNoKFtwcm9wLCBwcm9wLmRlc2VyaWFsaXplKFN0cmluZyh2YWx1ZSkpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWMubm9kZVByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcFNwZWMgb2Ygc3BlYy5ub2RlUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcCA9IHByb3BTcGVjWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gTm9kZVByb3BbcHJvcF07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9wU3BlYy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gcHJvcFNwZWNbaSsrXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChuZXh0LCBwcm9wLCBwcm9wU3BlY1tpKytdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3BTcGVjW2kgKyAtbmV4dF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gLW5leHQ7IGogPiAwOyBqLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChwcm9wU3BlY1tpKytdLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHRoaXMubm9kZVNldCA9IG5ldyBOb2RlU2V0KG5vZGVOYW1lcy5tYXAoKG5hbWUsIGkpID0+IE5vZGVUeXBlLmRlZmluZSh7XG4gICAgICAgICAgICBuYW1lOiBpID49IHRoaXMubWluUmVwZWF0VGVybSA/IHVuZGVmaW5lZCA6IG5hbWUsXG4gICAgICAgICAgICBpZDogaSxcbiAgICAgICAgICAgIHByb3BzOiBub2RlUHJvcHNbaV0sXG4gICAgICAgICAgICB0b3A6IHRvcFRlcm1zLmluZGV4T2YoaSkgPiAtMSxcbiAgICAgICAgICAgIGVycm9yOiBpID09IDAsXG4gICAgICAgICAgICBza2lwcGVkOiBzcGVjLnNraXBwZWROb2RlcyAmJiBzcGVjLnNraXBwZWROb2Rlcy5pbmRleE9mKGkpID4gLTFcbiAgICAgICAgfSkpKTtcbiAgICAgICAgaWYgKHNwZWMucHJvcFNvdXJjZXMpXG4gICAgICAgICAgICB0aGlzLm5vZGVTZXQgPSB0aGlzLm5vZGVTZXQuZXh0ZW5kKC4uLnNwZWMucHJvcFNvdXJjZXMpO1xuICAgICAgICB0aGlzLnN0cmljdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IERlZmF1bHRCdWZmZXJMZW5ndGg7XG4gICAgICAgIGxldCB0b2tlbkFycmF5ID0gZGVjb2RlQXJyYXkoc3BlYy50b2tlbkRhdGEpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBzcGVjLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZXJTcGVjcyA9IHNwZWMuc3BlY2lhbGl6ZWQgfHwgW107XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZWQgPSBuZXcgVWludDE2QXJyYXkodGhpcy5zcGVjaWFsaXplclNwZWNzLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zcGVjaWFsaXplclNwZWNzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgdGhpcy5zcGVjaWFsaXplZFtpXSA9IHRoaXMuc3BlY2lhbGl6ZXJTcGVjc1tpXS50ZXJtO1xuICAgICAgICB0aGlzLnNwZWNpYWxpemVycyA9IHRoaXMuc3BlY2lhbGl6ZXJTcGVjcy5tYXAoZ2V0U3BlY2lhbGl6ZXIpO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IGRlY29kZUFycmF5KHNwZWMuc3RhdGVzLCBVaW50MzJBcnJheSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRlY29kZUFycmF5KHNwZWMuc3RhdGVEYXRhKTtcbiAgICAgICAgdGhpcy5nb3RvID0gZGVjb2RlQXJyYXkoc3BlYy5nb3RvKTtcbiAgICAgICAgdGhpcy5tYXhUZXJtID0gc3BlYy5tYXhUZXJtO1xuICAgICAgICB0aGlzLnRva2VuaXplcnMgPSBzcGVjLnRva2VuaXplcnMubWFwKHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiID8gbmV3IFRva2VuR3JvdXAodG9rZW5BcnJheSwgdmFsdWUpIDogdmFsdWUpO1xuICAgICAgICB0aGlzLnRvcFJ1bGVzID0gc3BlYy50b3BSdWxlcztcbiAgICAgICAgdGhpcy5kaWFsZWN0cyA9IHNwZWMuZGlhbGVjdHMgfHwge307XG4gICAgICAgIHRoaXMuZHluYW1pY1ByZWNlZGVuY2VzID0gc3BlYy5keW5hbWljUHJlY2VkZW5jZXMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy50b2tlblByZWNUYWJsZSA9IHNwZWMudG9rZW5QcmVjO1xuICAgICAgICB0aGlzLnRlcm1OYW1lcyA9IHNwZWMudGVybU5hbWVzIHx8IG51bGw7XG4gICAgICAgIHRoaXMubWF4Tm9kZSA9IHRoaXMubm9kZVNldC50eXBlcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSB0aGlzLnBhcnNlRGlhbGVjdCgpO1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMudG9wUnVsZXNbT2JqZWN0LmtleXModGhpcy50b3BSdWxlcylbMF1dO1xuICAgIH1cbiAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgbGV0IHBhcnNlID0gbmV3IFBhcnNlKHRoaXMsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IHcgb2YgdGhpcy53cmFwcGVycylcbiAgICAgICAgICAgIHBhcnNlID0gdyhwYXJzZSwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBnb3RvIHRhYmxlIGVudHJ5IEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0R290byhzdGF0ZSwgdGVybSwgbG9vc2UgPSBmYWxzZSkge1xuICAgICAgICBsZXQgdGFibGUgPSB0aGlzLmdvdG87XG4gICAgICAgIGlmICh0ZXJtID49IHRhYmxlWzBdKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSB0YWJsZVt0ZXJtICsgMV07Oykge1xuICAgICAgICAgICAgbGV0IGdyb3VwVGFnID0gdGFibGVbcG9zKytdLCBsYXN0ID0gZ3JvdXBUYWcgJiAxO1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRhYmxlW3BvcysrXTtcbiAgICAgICAgICAgIGlmIChsYXN0ICYmIGxvb3NlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICBmb3IgKGxldCBlbmQgPSBwb3MgKyAoZ3JvdXBUYWcgPj4gMSk7IHBvcyA8IGVuZDsgcG9zKyspXG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlW3Bvc10gPT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgaWYgdGhpcyBzdGF0ZSBoYXMgYW4gYWN0aW9uIGZvciBhIGdpdmVuIHRlcm1pbmFsIEBpbnRlcm5hbFxuICAgICovXG4gICAgaGFzQWN0aW9uKHN0YXRlLCB0ZXJtaW5hbCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgc2V0ID0gMDsgc2V0IDwgMjsgc2V0KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgc2V0ID8gMiAvKiBQYXJzZVN0YXRlLlNraXAgKi8gOiAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyksIG5leHQ7OyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG5leHQgPSBkYXRhW2ldKSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2kgKyAxXSA9PSAxIC8qIFNlcS5OZXh0ICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGRhdGFbaSA9IHBhaXIoZGF0YSwgaSArIDIpXTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtpICsgMV0gPT0gMiAvKiBTZXEuT3RoZXIgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFpcihkYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dCA9PSB0ZXJtaW5hbCB8fCBuZXh0ID09IDAgLyogVGVybS5FcnIgKi8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyKGRhdGEsIGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0ZVNsb3Qoc3RhdGUsIHNsb3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzWyhzdGF0ZSAqIDYgLyogUGFyc2VTdGF0ZS5TaXplICovKSArIHNsb3RdO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRlRmxhZyhzdGF0ZSwgZmxhZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGVTbG90KHN0YXRlLCAwIC8qIFBhcnNlU3RhdGUuRmxhZ3MgKi8pICYgZmxhZykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHZhbGlkQWN0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hbGxBY3Rpb25zKHN0YXRlLCBhID0+IGEgPT0gYWN0aW9uID8gdHJ1ZSA6IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFsbEFjdGlvbnMoc3RhdGUsIGFjdGlvbikge1xuICAgICAgICBsZXQgZGVmbHQgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgNCAvKiBQYXJzZVN0YXRlLkRlZmF1bHRSZWR1Y2UgKi8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gZGVmbHQgPyBhY3Rpb24oZGVmbHQpIDogdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDEgLyogUGFyc2VTdGF0ZS5BY3Rpb25zICovKTsgcmVzdWx0ID09IG51bGw7IGkgKz0gMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA9PSA2NTUzNSAvKiBTZXEuRW5kICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpICsgMV0gPT0gMSAvKiBTZXEuTmV4dCAqLylcbiAgICAgICAgICAgICAgICAgICAgaSA9IHBhaXIodGhpcy5kYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IGFjdGlvbihwYWlyKHRoaXMuZGF0YSwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHN0YXRlcyB0aGF0IGNhbiBmb2xsb3cgdGhpcyBvbmUgdGhyb3VnaCBzaGlmdCBhY3Rpb25zIG9yXG4gICAgZ290byBqdW1wcy4gQGludGVybmFsXG4gICAgKi9cbiAgICBuZXh0U3RhdGVzKHN0YXRlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc3RhdGVTbG90KHN0YXRlLCAxIC8qIFBhcnNlU3RhdGUuQWN0aW9ucyAqLyk7OyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gPT0gNjU1MzUgLyogU2VxLkVuZCAqLykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaSArIDFdID09IDEgLyogU2VxLk5leHQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGkgPSBwYWlyKHRoaXMuZGF0YSwgaSArIDIpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRoaXMuZGF0YVtpICsgMl0gJiAoNjU1MzYgLyogQWN0aW9uLlJlZHVjZUZsYWcgKi8gPj4gMTYpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5kYXRhW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5zb21lKCh2LCBpKSA9PiAoaSAmIDEpICYmIHYgPT0gdmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmRhdGFbaV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBDb25maWd1cmUgdGhlIHBhcnNlci4gUmV0dXJucyBhIG5ldyBwYXJzZXIgaW5zdGFuY2UgdGhhdCBoYXMgdGhlXG4gICAgZ2l2ZW4gc2V0dGluZ3MgbW9kaWZpZWQuIFNldHRpbmdzIG5vdCBwcm92aWRlZCBpbiBgY29uZmlnYCBhcmVcbiAgICBrZXB0IGZyb20gdGhlIG9yaWdpbmFsIHBhcnNlci5cbiAgICAqL1xuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgLy8gSGlkZW91cyByZWZsZWN0aW9uLWJhc2VkIGtsdWRnZSB0byBtYWtlIGl0IGVhc3kgdG8gY3JlYXRlIGFcbiAgICAgICAgLy8gc2xpZ2h0bHkgbW9kaWZpZWQgY29weSBvZiBhIHBhcnNlci5cbiAgICAgICAgbGV0IGNvcHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTFJQYXJzZXIucHJvdG90eXBlKSwgdGhpcyk7XG4gICAgICAgIGlmIChjb25maWcucHJvcHMpXG4gICAgICAgICAgICBjb3B5Lm5vZGVTZXQgPSB0aGlzLm5vZGVTZXQuZXh0ZW5kKC4uLmNvbmZpZy5wcm9wcyk7XG4gICAgICAgIGlmIChjb25maWcudG9wKSB7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMudG9wUnVsZXNbY29uZmlnLnRvcF07XG4gICAgICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgdG9wIHJ1bGUgbmFtZSAke2NvbmZpZy50b3B9YCk7XG4gICAgICAgICAgICBjb3B5LnRvcCA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50b2tlbml6ZXJzKVxuICAgICAgICAgICAgY29weS50b2tlbml6ZXJzID0gdGhpcy50b2tlbml6ZXJzLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBjb25maWcudG9rZW5pemVycy5maW5kKHIgPT4gci5mcm9tID09IHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCA/IGZvdW5kLnRvIDogdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnNwZWNpYWxpemVycykge1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplcnMgPSB0aGlzLnNwZWNpYWxpemVycy5zbGljZSgpO1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplclNwZWNzID0gdGhpcy5zcGVjaWFsaXplclNwZWNzLm1hcCgocywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGNvbmZpZy5zcGVjaWFsaXplcnMuZmluZChyID0+IHIuZnJvbSA9PSBzLmV4dGVybmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICBsZXQgc3BlYyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcyksIHsgZXh0ZXJuYWw6IGZvdW5kLnRvIH0pO1xuICAgICAgICAgICAgICAgIGNvcHkuc3BlY2lhbGl6ZXJzW2ldID0gZ2V0U3BlY2lhbGl6ZXIoc3BlYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmNvbnRleHRUcmFja2VyKVxuICAgICAgICAgICAgY29weS5jb250ZXh0ID0gY29uZmlnLmNvbnRleHRUcmFja2VyO1xuICAgICAgICBpZiAoY29uZmlnLmRpYWxlY3QpXG4gICAgICAgICAgICBjb3B5LmRpYWxlY3QgPSB0aGlzLnBhcnNlRGlhbGVjdChjb25maWcuZGlhbGVjdCk7XG4gICAgICAgIGlmIChjb25maWcuc3RyaWN0ICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LnN0cmljdCA9IGNvbmZpZy5zdHJpY3Q7XG4gICAgICAgIGlmIChjb25maWcud3JhcClcbiAgICAgICAgICAgIGNvcHkud3JhcHBlcnMgPSBjb3B5LndyYXBwZXJzLmNvbmNhdChjb25maWcud3JhcCk7XG4gICAgICAgIGlmIChjb25maWcuYnVmZmVyTGVuZ3RoICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LmJ1ZmZlckxlbmd0aCA9IGNvbmZpZy5idWZmZXJMZW5ndGg7XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciBhbnkgW3BhcnNlIHdyYXBwZXJzXSgjbHIuUGFyc2VyQ29uZmlnLndyYXApXG4gICAgYXJlIHJlZ2lzdGVyZWQgZm9yIHRoaXMgcGFyc2VyLlxuICAgICovXG4gICAgaGFzV3JhcHBlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gdGVybS4gVGhpcyB3aWxsIG9ubHlcbiAgICB3b3JrIGZvciBhbGwgdGVybXMgd2hlbiB0aGUgcGFyc2VyIHdhcyBnZW5lcmF0ZWQgd2l0aCB0aGVcbiAgICBgLS1uYW1lc2Agb3B0aW9uLiBCeSBkZWZhdWx0LCBvbmx5IHRoZSBuYW1lcyBvZiB0YWdnZWQgdGVybXMgYXJlXG4gICAgc3RvcmVkLlxuICAgICovXG4gICAgZ2V0TmFtZSh0ZXJtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcm1OYW1lcyA/IHRoaXMudGVybU5hbWVzW3Rlcm1dIDogU3RyaW5nKHRlcm0gPD0gdGhpcy5tYXhOb2RlICYmIHRoaXMubm9kZVNldC50eXBlc1t0ZXJtXS5uYW1lIHx8IHRlcm0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZW9mIHRlcm0gaWQgaXMgYWx3YXlzIGFsbG9jYXRlZCBkaXJlY3RseSBhZnRlciB0aGUgbm9kZVxuICAgIHR5cGVzLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBlb2ZUZXJtKCkgeyByZXR1cm4gdGhpcy5tYXhOb2RlICsgMTsgfVxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIHRvcCBub2RlIHByb2R1Y2VkIGJ5IHRoZSBwYXJzZXIuXG4gICAgKi9cbiAgICBnZXQgdG9wTm9kZSgpIHsgcmV0dXJuIHRoaXMubm9kZVNldC50eXBlc1t0aGlzLnRvcFsxXV07IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGR5bmFtaWNQcmVjZWRlbmNlKHRlcm0pIHtcbiAgICAgICAgbGV0IHByZWMgPSB0aGlzLmR5bmFtaWNQcmVjZWRlbmNlcztcbiAgICAgICAgcmV0dXJuIHByZWMgPT0gbnVsbCA/IDAgOiBwcmVjW3Rlcm1dIHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgcGFyc2VEaWFsZWN0KGRpYWxlY3QpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IE9iamVjdC5rZXlzKHRoaXMuZGlhbGVjdHMpLCBmbGFncyA9IHZhbHVlcy5tYXAoKCkgPT4gZmFsc2UpO1xuICAgICAgICBpZiAoZGlhbGVjdClcbiAgICAgICAgICAgIGZvciAobGV0IHBhcnQgb2YgZGlhbGVjdC5zcGxpdChcIiBcIikpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSB2YWx1ZXMuaW5kZXhPZihwYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3NbaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IGRpc2FibGVkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIWZsYWdzW2ldKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IHRoaXMuZGlhbGVjdHNbdmFsdWVzW2ldXSwgaWQ7IChpZCA9IHRoaXMuZGF0YVtqKytdKSAhPSA2NTUzNSAvKiBTZXEuRW5kICovOylcbiAgICAgICAgICAgICAgICAgICAgKGRpc2FibGVkIHx8IChkaXNhYmxlZCA9IG5ldyBVaW50OEFycmF5KHRoaXMubWF4VGVybSArIDEpKSlbaWRdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaWFsZWN0KGRpYWxlY3QsIGZsYWdzLCBkaXNhYmxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVzZWQgYnkgdGhlIG91dHB1dCBvZiB0aGUgcGFyc2VyIGdlbmVyYXRvci4gTm90IGF2YWlsYWJsZSB0b1xuICAgIHVzZXIgY29kZS4gQGhpZGVcbiAgICAqL1xuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgTFJQYXJzZXIoc3BlYyk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFpcihkYXRhLCBvZmYpIHsgcmV0dXJuIGRhdGFbb2ZmXSB8IChkYXRhW29mZiArIDFdIDw8IDE2KTsgfVxuZnVuY3Rpb24gZmluZEZpbmlzaGVkKHN0YWNrcykge1xuICAgIGxldCBiZXN0ID0gbnVsbDtcbiAgICBmb3IgKGxldCBzdGFjayBvZiBzdGFja3MpIHtcbiAgICAgICAgbGV0IHN0b3BwZWQgPSBzdGFjay5wLnN0b3BwZWRBdDtcbiAgICAgICAgaWYgKChzdGFjay5wb3MgPT0gc3RhY2sucC5zdHJlYW0uZW5kIHx8IHN0b3BwZWQgIT0gbnVsbCAmJiBzdGFjay5wb3MgPiBzdG9wcGVkKSAmJlxuICAgICAgICAgICAgc3RhY2sucC5wYXJzZXIuc3RhdGVGbGFnKHN0YWNrLnN0YXRlLCAyIC8qIFN0YXRlRmxhZy5BY2NlcHRpbmcgKi8pICYmXG4gICAgICAgICAgICAoIWJlc3QgfHwgYmVzdC5zY29yZSA8IHN0YWNrLnNjb3JlKSlcbiAgICAgICAgICAgIGJlc3QgPSBzdGFjaztcbiAgICB9XG4gICAgcmV0dXJuIGJlc3Q7XG59XG5mdW5jdGlvbiBnZXRTcGVjaWFsaXplcihzcGVjKSB7XG4gICAgaWYgKHNwZWMuZXh0ZXJuYWwpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBzcGVjLmV4dGVuZCA/IDEgLyogU3BlY2lhbGl6ZS5FeHRlbmQgKi8gOiAwIC8qIFNwZWNpYWxpemUuU3BlY2lhbGl6ZSAqLztcbiAgICAgICAgcmV0dXJuICh2YWx1ZSwgc3RhY2spID0+IChzcGVjLmV4dGVybmFsKHZhbHVlLCBzdGFjaykgPDwgMSkgfCBtYXNrO1xuICAgIH1cbiAgICByZXR1cm4gc3BlYy5nZXQ7XG59XG5cbmV4cG9ydCB7IENvbnRleHRUcmFja2VyLCBFeHRlcm5hbFRva2VuaXplciwgSW5wdXRTdHJlYW0sIExSUGFyc2VyLCBMb2NhbFRva2VuR3JvdXAsIFN0YWNrIH07XG4iLCAiaW1wb3J0IHsgRXh0ZXJuYWxUb2tlbml6ZXIsIExSUGFyc2VyLCBMb2NhbFRva2VuR3JvdXAgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgZGVzY2VuZGFudE9wID0gMTA3LFxuICBVbml0ID0gMSxcbiAgY2FsbGVlID0gMTA4LFxuICBpZGVudGlmaWVyID0gMTA5LFxuICBWYXJpYWJsZU5hbWUgPSAyLFxuICBxdWVyeUlkZW50aWZpZXIgPSAxMTA7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBDU1MgdG9rZW5zIHRoYXQgY2FuJ3QgYmVcbiAgIGV4cHJlc3NlZCBieSBMZXplcidzIGJ1aWx0LWluIHRva2VuaXplci4gKi9cblxuY29uc3Qgc3BhY2UgPSBbOSwgMTAsIDExLCAxMiwgMTMsIDMyLCAxMzMsIDE2MCwgNTc2MCwgODE5MiwgODE5MywgODE5NCwgODE5NSwgODE5NiwgODE5NyxcbiAgICAgICAgICAgICAgIDgxOTgsIDgxOTksIDgyMDAsIDgyMDEsIDgyMDIsIDgyMzIsIDgyMzMsIDgyMzksIDgyODcsIDEyMjg4XTtcbmNvbnN0IGNvbG9uID0gNTgsIHBhcmVuTCA9IDQwLCB1bmRlcnNjb3JlID0gOTUsIGJyYWNrZXRMID0gOTEsIGRhc2ggPSA0NSwgcGVyaW9kID0gNDYsXG4gICAgICBoYXNoID0gMzUsIHBlcmNlbnQgPSAzNywgYW1wZXJzYW5kID0gMzgsIGJhY2tzbGFzaCA9IDkyLCBuZXdsaW5lID0gMTAsIGFzdGVyaXNrID0gNDI7XG5cbmZ1bmN0aW9uIGlzQWxwaGEoY2gpIHsgcmV0dXJuIGNoID49IDY1ICYmIGNoIDw9IDkwIHx8IGNoID49IDk3ICYmIGNoIDw9IDEyMiB8fCBjaCA+PSAxNjEgfVxuXG5mdW5jdGlvbiBpc0RpZ2l0KGNoKSB7IHJldHVybiBjaCA+PSA0OCAmJiBjaCA8PSA1NyB9XG5cbmNvbnN0IGlkZW50aWZpZXJzID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgZm9yIChsZXQgaW5zaWRlID0gZmFsc2UsIGRhc2hlcyA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICAgIGlmIChpc0FscGhhKG5leHQpIHx8IG5leHQgPT0gZGFzaCB8fCBuZXh0ID09IHVuZGVyc2NvcmUgfHwgKGluc2lkZSAmJiBpc0RpZ2l0KG5leHQpKSkge1xuICAgICAgaWYgKCFpbnNpZGUgJiYgKG5leHQgIT0gZGFzaCB8fCBpID4gMCkpIGluc2lkZSA9IHRydWU7XG4gICAgICBpZiAoZGFzaGVzID09PSBpICYmIG5leHQgPT0gZGFzaCkgZGFzaGVzKys7XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfSBlbHNlIGlmIChuZXh0ID09IGJhY2tzbGFzaCAmJiBpbnB1dC5wZWVrKDEpICE9IG5ld2xpbmUpIHtcbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGlmIChpbnB1dC5uZXh0ID4gLTEpIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGluc2lkZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnNpZGUpIGlucHV0LmFjY2VwdFRva2VuKFxuICAgICAgICBkYXNoZXMgPT0gMiAmJiBzdGFjay5jYW5TaGlmdChWYXJpYWJsZU5hbWUpID8gVmFyaWFibGVOYW1lXG4gICAgICAgICAgOiBzdGFjay5jYW5TaGlmdChxdWVyeUlkZW50aWZpZXIpID8gcXVlcnlJZGVudGlmaWVyXG4gICAgICAgICAgOiBuZXh0ID09IHBhcmVuTCA/IGNhbGxlZVxuICAgICAgICAgIDogaWRlbnRpZmllcik7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGRlc2NlbmRhbnQgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoaW5wdXQgPT4ge1xuICBpZiAoc3BhY2UuaW5jbHVkZXMoaW5wdXQucGVlaygtMSkpKSB7XG4gICAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICAgIGlmIChpc0FscGhhKG5leHQpIHx8IG5leHQgPT0gdW5kZXJzY29yZSB8fCBuZXh0ID09IGhhc2ggfHwgbmV4dCA9PSBwZXJpb2QgfHxcbiAgICAgICAgbmV4dCA9PSBhc3RlcmlzayB8fCBuZXh0ID09IGJyYWNrZXRMIHx8IG5leHQgPT0gY29sb24gJiYgaXNBbHBoYShpbnB1dC5wZWVrKDEpKSB8fFxuICAgICAgICBuZXh0ID09IGRhc2ggfHwgbmV4dCA9PSBhbXBlcnNhbmQpXG4gICAgICBpbnB1dC5hY2NlcHRUb2tlbihkZXNjZW5kYW50T3ApO1xuICB9XG59KTtcblxuY29uc3QgdW5pdFRva2VuID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgaWYgKCFzcGFjZS5pbmNsdWRlcyhpbnB1dC5wZWVrKC0xKSkpIHtcbiAgICBsZXQge25leHR9ID0gaW5wdXQ7XG4gICAgaWYgKG5leHQgPT0gcGVyY2VudCkgeyBpbnB1dC5hZHZhbmNlKCk7IGlucHV0LmFjY2VwdFRva2VuKFVuaXQpOyB9XG4gICAgaWYgKGlzQWxwaGEobmV4dCkpIHtcbiAgICAgIGRvIHsgaW5wdXQuYWR2YW5jZSgpOyB9IHdoaWxlIChpc0FscGhhKGlucHV0Lm5leHQpIHx8IGlzRGlnaXQoaW5wdXQubmV4dCkpXG4gICAgICBpbnB1dC5hY2NlcHRUb2tlbihVbml0KTtcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBjc3NIaWdobGlnaHRpbmcgPSBzdHlsZVRhZ3Moe1xuICBcIkF0S2V5d29yZCBpbXBvcnQgY2hhcnNldCBuYW1lc3BhY2Uga2V5ZnJhbWVzIG1lZGlhIHN1cHBvcnRzXCI6IHRhZ3MuZGVmaW5pdGlvbktleXdvcmQsXG4gIFwiZnJvbSB0byBzZWxlY3RvclwiOiB0YWdzLmtleXdvcmQsXG4gIE5hbWVzcGFjZU5hbWU6IHRhZ3MubmFtZXNwYWNlLFxuICBLZXlmcmFtZU5hbWU6IHRhZ3MubGFiZWxOYW1lLFxuICBLZXlmcmFtZVJhbmdlTmFtZTogdGFncy5vcGVyYXRvcktleXdvcmQsXG4gIFRhZ05hbWU6IHRhZ3MudGFnTmFtZSxcbiAgQ2xhc3NOYW1lOiB0YWdzLmNsYXNzTmFtZSxcbiAgUHNldWRvQ2xhc3NOYW1lOiB0YWdzLmNvbnN0YW50KHRhZ3MuY2xhc3NOYW1lKSxcbiAgSWROYW1lOiB0YWdzLmxhYmVsTmFtZSxcbiAgXCJGZWF0dXJlTmFtZSBQcm9wZXJ0eU5hbWVcIjogdGFncy5wcm9wZXJ0eU5hbWUsXG4gIEF0dHJpYnV0ZU5hbWU6IHRhZ3MuYXR0cmlidXRlTmFtZSxcbiAgTnVtYmVyTGl0ZXJhbDogdGFncy5udW1iZXIsXG4gIEtleXdvcmRRdWVyeTogdGFncy5rZXl3b3JkLFxuICBVbmFyeVF1ZXJ5T3A6IHRhZ3Mub3BlcmF0b3JLZXl3b3JkLFxuICBcIkNhbGxUYWcgVmFsdWVOYW1lXCI6IHRhZ3MuYXRvbSxcbiAgVmFyaWFibGVOYW1lOiB0YWdzLnZhcmlhYmxlTmFtZSxcbiAgQ2FsbGVlOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgVW5pdDogdGFncy51bml0LFxuICBcIlVuaXZlcnNhbFNlbGVjdG9yIE5lc3RpbmdTZWxlY3RvclwiOiB0YWdzLmRlZmluaXRpb25PcGVyYXRvcixcbiAgXCJNYXRjaE9wIENvbXBhcmVPcFwiOiB0YWdzLmNvbXBhcmVPcGVyYXRvcixcbiAgXCJDaGlsZE9wIFNpYmxpbmdPcCwgTG9naWNPcFwiOiB0YWdzLmxvZ2ljT3BlcmF0b3IsXG4gIEJpbk9wOiB0YWdzLmFyaXRobWV0aWNPcGVyYXRvcixcbiAgSW1wb3J0YW50OiB0YWdzLm1vZGlmaWVyLFxuICBDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgQ29sb3JMaXRlcmFsOiB0YWdzLmNvbG9yLFxuICBcIlBhcmVudGhlc2l6ZWRDb250ZW50IFN0cmluZ0xpdGVyYWxcIjogdGFncy5zdHJpbmcsXG4gIFwiOlwiOiB0YWdzLnB1bmN0dWF0aW9uLFxuICBcIlBzZXVkb09wICNcIjogdGFncy5kZXJlZk9wZXJhdG9yLFxuICBcIjsgLFwiOiB0YWdzLnNlcGFyYXRvcixcbiAgXCIoIClcIjogdGFncy5wYXJlbixcbiAgXCJbIF1cIjogdGFncy5zcXVhcmVCcmFja2V0LFxuICBcInsgfVwiOiB0YWdzLmJyYWNlXG59KTtcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBzcGVjX2NhbGxlZSA9IHtfX3Byb3RvX186bnVsbCxsYW5nOjM0LCBcIm50aC1jaGlsZFwiOjM0LCBcIm50aC1sYXN0LWNoaWxkXCI6MzQsIFwibnRoLW9mLXR5cGVcIjozNCwgXCJudGgtbGFzdC1vZi10eXBlXCI6MzQsIGRpcjozNCwgXCJob3N0LWNvbnRleHRcIjozNCwgdXJsOjYyLCBcInVybC1wcmVmaXhcIjo2MiwgZG9tYWluOjYyLCByZWdleHA6NjJ9O1xuY29uc3Qgc3BlY19BdEtleXdvcmQgPSB7X19wcm90b19fOm51bGwsXCJAaW1wb3J0XCI6MTIwLCBcIkBtZWRpYVwiOjE1NCwgXCJAY2hhcnNldFwiOjE1OCwgXCJAbmFtZXNwYWNlXCI6MTYyLCBcIkBrZXlmcmFtZXNcIjoxNjgsIFwiQHN1cHBvcnRzXCI6MTgwfTtcbmNvbnN0IHNwZWNfcXVlcnlJZGVudGlmaWVyID0ge19fcHJvdG9fXzpudWxsLGxheWVyOjEyNCwgbm90OjE0NCwgb25seToxNDQsIHNlbGVjdG9yOjE1MH07XG5jb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiPmBRWVFbT09PI2tRW09PUCNyT1dPT09PUVAnI0NkJyNDZE9PUVAnI0NjJyNDY08jd1FbTycjQ2ZPJGhRWE8nI0NhTyRyUVtPJyNDaU8kfVFbTycjRFVPJVNRW08nI0RYTyVYUVtPJyNEW08lWFFbTycjRF9PT1FQJyNFdicjRXZPJXlRZE8nI0RoTyZoUVtPJyNEek8leVFkTycjRHxPJnlRW08nI0VPTydVUVtPJyNFUk8nXlFbTycjRVhPJ2xRW08nI0VaT09RUycjRXUnI0V1T09RUycjRV4nI0VeUVlRW09PTydzUVhPJyNDZE8oaFFXTycjRGRPKG1RV08nI0V7Tyh4UVtPJyNFe1FPUVdPT1ApU08jdE8nI0NfUE9PTylDQGUpQ0BlT09RUCcjQ2gnI0NoT09RUCw1OVEsNTlRTyN3UVtPLDU5UU8pX1FbTyw1OVRPJH1RW08sNTlwTyVTUVtPLDU5c08lWFFbTyw1OXZPJVhRW08sNTl4TyVYUVtPLDU5eU8lWFFbTycjRWNPKWpRV08sNTh7TylyUVtPJyNEY09PUVMsNTh7LDU4e09PUVAnI0NsJyNDbE9PUU8nI0RTJyNEU09PUVAsNTlULDU5VE8peVFXTyw1OVRPKk9RV08sNTlUT09RUCcjRFcnI0RXT09RUCw1OXAsNTlwT09RTycjRFknI0RZTypUUWBPLDU5c08qblFYTyw1OXZPK1VRWE8sNTl5T09RUycjQ3EnI0NxTyV5UWRPJyNDck8rbFF2TycjQ3RPLWhRdE8sNTpTT09RTycjQ3knI0N5TypPUVdPJyNDeE8tclFXTycjQ3pPLXdRW08nI0RQT09RUycjRXgnI0V4T09RTycjRG4nI0RuTy5lUWRPJyNEd08udVFXTycjRXxPJ15RW08nI0R1Ty9UUVdPJyNEeE9PUU8nI0V9JyNFfU8pbVFXTyw1OmZPL1lRcE8sNTpoT09RUycjRVEnI0VRTy9iUVdPLDU6ak8vZ1FbTyw1OmpPT1FPJyNFVCcjRVRPL29RV08sNTptTy90UVdPLDU6c08vfFFXTyw1OnVPT1FTLUU4Wy1FOFtPMFVRZE8sNTpPTzBmUVtPJyNFZU8wc1FXTyw1O2dPMHNRV08sNTtnUE9PTycjRV0nI0VdUDFPTyN0Tyw1OHlQT09PLDU4eSw1OHlPT1FQMUcubDFHLmxPT1FQMUcubzFHLm9PKXlRV08xRy5vTypPUVdPMUcub09PUVAxRy9bMUcvW08xWlFgTzFHL19PMWNRWE8xRy9iTzF5UVhPMUcvZE8yYVFYTzFHL2VPMndRWE8sNTp9T09RTy1FOGEtRThhT09RUzFHLmcxRy5nTzNSUVdPLDU5fU8zV1FbTycjRFRPM19RZE8nI0NwT09RUDFHL18xRy9fTyV5UWRPMUcvX08zZlFwTyw1OV5PT1FTLDU5YCw1OWBPJXlRZE8sNTliTzNuUVtPJyNEa080UFFXTzFHL25PLVZRW08xRy9uT09RUyw1OWQsNTlkTzRVUSFiTyw1OWZPT1FTJyNEUScjRFFPT1FTJyNFYCcjRWBPNGFRW08sNTlrT09RUyw1OWssNTlrTzRpUXBPJyNEbk80d1FwTyw1OlpPNVBRV08sNTpjT09RTycjRk8nI0ZPTzR6UXBPLDU6X08nXlFbTyw1Ol1PNVhRW08nI0VnTzVwUVdPLDU7aE81e1FXTyw1OmFPJVhRW08sNTpkT09RUzFHMFExRzBRT09RUzFHMFMxRzBTT09RUzFHMFUxRzBVTzZeUVdPMUcwVU82Y1FkTycjRVVPT1FTMUcwWDFHMFhPT1FTMUcwXzFHMF9PT1FTMUcwYTFHMGFPNm5RdE8xRy9qT09RTzFHL2oxRy9qT09RTyw1O1AsNTtQTzdVUVtPLDU7UE9PUU8tRThjLUU4Y083Y1FXTzFHMVJQT09PLUU4Wi1FOFpQT09PMUcuZTFHLmVPT1FQNyskWjcrJFpPT1FQNyskeTcrJHlPJXlRZE83KyR5T09RUzFHL2kxRy9pTzduUVhPJyNFek83eFFXTyw1OW9PN31RdE8nI0VfTzh1UWRPJyNFd085UFFXTyw1OVtPOVVRcE83KyR5T09RUzFHLngxRy54T09RUzFHLnwxRy58TzleUVtPLDU6Vk9PUVM3KyVZNyslWU85Y1FXTzcrJVlPT1FTMUcvUTFHL1FPOWhRV08xRy9RT09RUy1FOF4tRTheT09RUzFHL1YxRy9WTyV5UWRPMUcvdU85bVFkTzFHL3lPT1FPMUcvfTFHL31PT1FPMUcvdzFHL3dPOXRRV08sNTtST09RTy1FOGUtRThlTzpTUVhPMUcwT09PUVM3KyVwNyslcE86WlFZTycjQ3RPT1FPJyNFVycjRVdPOmlRYE8nI0VWT09RTycjRVYnI0VWTzp0UVdPJyNFaE86fFFkTyw1OnBPT1FTLDU6cCw1OnBPO1hRdE8nI0VkTyV5UWRPJyNFZE88WVFkTzcrJVVPT1FPNyslVTcrJVVPT1FPMUcwazFHMGtPPG1RcE88PEhlTzx1UVtPJyNFYk89UFFXTyw1O2ZPT1FQMUcvWjFHL1pPT1FTLUU4XS1FOF1PPVhRZE8nI0VhTz1jUVdPLDU7Y09PUVQxRy52MUcudk9PUVA8PEhlPDxIZU9PUU8nI0RtJyNEbU89a1FXTzFHL3FPT1FTPDxIdDw8SHRPT1FTNyskbDcrJGxPPXNRZE83KyVhT09RTycjRHAnI0RwTz16UXBPNyslZU9PUU83KyVqNyslak9PUU8sNTpxLDU6cU82ZlFkTycjRWlPOnRRV08sNTtTT09RUyw1O1MsNTtTT09RUy1FOGYtRThmT09RUzFHMFsxRzBbTz5TUXRPLDU7T09PUVMtRThiLUU4Yk9PUU88PEhwPDxIcE9PUVBBTj5QQU4+UE8/VFFYTyw1OnxPT1FPLUU4YC1FOGBPP19RZE8sNTp7T09RTy1FOF8tRThfTzleUVtPJyNFZk8/aVFXTzcrJV1PT1FTNyslXTcrJV1PT1FPPDxIezw8SHtPT1FPPDxJUDw8SVBPP3FRZE88PElQT09RTyw1O1QsNTtUT09RTy1FOGctRThnT09RUzFHMG4xRzBuT09RTyw1O1EsNTtRT09RTy1FOGQtRThkT09RUzw8SHc8PEh3T0BZUVdPQU4+a09PUU9HMjRWRzI0VlwiLFxuICBzdGF0ZURhdGE6IFwiQGd+TyNkT1MjZVFRfk9VW09YW09aVE9eVk9fVk9yWE95V08hUFlPIVNaTyFdY08hXl1PIW9eTyFxX08hc2BPIXZhTyF8Yk8jYVJPfk9RaE9VW09YW09aVE9eVk9fVk9yWE95V08hUFlPIVNaTyFdY08hXl1PIW9eTyFxX08hc2BPIXZhTyF8Yk8jYWdPfk8jXiNvUH5QIWFPI2VsT35PI2FuT35PWnBPXnFPX3FPcnNPeXJPIVB0TyFTdk8jX3VPfk91d08hVXlPflAjfE9hIVBPI2B8TyNhe09+TyNhIVFPfk8jYSFTT35PVVtPWFtPWlRPXlZPX1ZPclhPeVdPIVBZTyFTWk8jYVJPfk9RIWBPYyFYT2chYE9pIWBPbyFeT3IhX08jYCFbTyNhIVdPI20hWU9+T2MhYk8haiFkTyFtIWVPI2IhYU8hVSNwUH5PaSFqT28hXk8jYSFpT35PaSFsTyNhIWxPfk9jIWJPIWohZE8hbSFlTyNiIWFPfk8hWiNwUH5QJmhPWldYXldYXiFYWF9XWHJXWHVXWHlXWCFQV1ghU1dYIVVXWCNfV1h+T14hcU9+TyFaIXJPI14jb1ghVCNvWH5PI14jb1ghVCNvWH5QIWFPI2YhdU8jZyF1TyNoIXdPfk9hIXtPI2B8TyNhe09+T3V3TyFVeU9+TyFUI29QflAhYU9jI1ZPfk9jI1dPfk9xI1hPfSNZT35PWnBPXnFPX3FPcnNPeXJPfk91IU9hIVAhT2EhUyFPYSFVIU9hI18hT2FiIU9hflAqXU91IVJhIVAhUmEhUyFSYSFVIVJhI18hUmFiIVJhflAqXU9QI1tPY2hYa2hYIVpoWCFgaFghamhYIW1oWCNiaFhiaFghaGhYUWhYZ2hYaWhYb2hYcmhYdWhYIVloWCNeaFgjYGhYI2FoWCNtaFhxaFghVGhYfk9jIWJPIWohZE8hbSFlTyNiIWFPIVojcFB+T2sjXU8hYCNeT35QLVZPYyNiT35PcSNmTyNhI2NPfk9RI2pPZyNqT2kjak9vIV5PI2AhW08jbSFZT35PYyFiTyFqIWRPIW0hZU8jYiNnT35QLlBPdSNtTyFmI2xPIVUjcFghWiNwWH5PYyNwT35PayNdTyFaI3JPfk8hWiNzT35PaSN0T28hXk9+TyFVI3VPfk8hVXlPIWYjbE9+TyFVeU8hWiN4T35PIVkjek8hWiFXYSNeIVdhIVQhV2F+UCV5TyFaI1hYI14jWFghVCNYWH5QIWFPIVohck8jXiNvYSFUI29hfk8jZiF1TyNnIXVPI2gkUU9+T3EkU099JFRPfk91IU9pIVAhT2khUyFPaSFVIU9pI18hT2liIU9pflAqXU91IVFpIVAhUWkhUyFRaSFVIVFpI18hUWliIVFpflAqXU91IVJpIVAhUmkhUyFSaSFVIVJpI18hUmliIVJpflAqXU91I1ZhIVUjVmF+UCN8TyFUJFVPfk9iI25QflAlWE9iI2tQflAleU9iJF1PayNdT35PYyRfTyFaIV9YIWohX1ghbSFfWCNiIV9Yfk8hWiRgT35PYiRiT2kkY09wJGNPfk9xJGVPI2EjY09+T14hZFhiIWJYIWYhYlghaCFkWH5PXiRmTyFoJGdPfk9iJGhPIWYjbE9+T2MhYk8haiFkTyFtIWVPI2IhYU91I1pYIVUjWlghWiNaWH5PdSNtTyFVI3BhIVojcGF+TyFmI2xPdSFpYSFVIWlhIVohaWFiIWlhfk8hWiRtT35PIVQkdE8jYSRvTyNtJG5Pfk9rI11PdSR2TyFZJHhPIVohV2kjXiFXaSFUIVdpflAleU8hWiNYYSNeI1hhIVQjWGF+UCFhTyFaIXJPI14jb2khVCNvaX5PdSR7T2Ijblh+UCN8T2IkfU9+T2sjXU9RI1JYYiNSWGMjUlhnI1JYaSNSWG8jUlhyI1JYdSNSWCNgI1JYI2EjUlgjbSNSWH5PdSVQT2Ija1h+UCV5T2IlUk9+T2sjXU9xJVNPfk8jYSVUT35PIVolVk9+T2IlV09+TyNiJVlPflAuUE8hZiNsT3UjWmEhVSNaYSFaI1phfk9iJVtPflAjfE9QI1tPdWhYIVVoWGJoWH5PI20kbk91IXlYIVUheVh+T3UlXk8hVXlPfk8hVCViTyNhJG9PI20kbk9+T2sjXU9RI1dYYyNXWGcjV1hpI1dYbyNXWHIjV1h1I1dYIVkjV1ghWiNXWCNeI1dYI2AjV1gjYSNXWCNtI1dYIVQjV1h+T3Ukdk8hWSVlTyFaIVdxI14hV3EhVCFXcX5QJXlPayNdT3ElZk9+T2IjVVh1I1VYflAlWE91JHtPYiNuYX5PYiNUWHUjVFh+UCV5T3UlUE9iI2thfk9aJWtPYiVtT35PYiVuT35QJXlPYiVvTyFoJXBPfk9rI11PUSNXYWMjV2FnI1dhaSNXYW8jV2FyI1dhdSNXYSFZI1dhIVojV2EjXiNXYSNgI1dhI2EjV2EjbSNXYSFUI1dhfk9iI1VhdSNVYX5QI3xPYiNUYXUjVGF+UCV5T1ola09iJXZPfk9RI2pPZyNqT2kjak9vIV5PI2AhW08jYiVZTyNtJG5Pfk9iJXhPfk8jZHAjZSNtayFTI21+XCIsXG4gIGdvdG86IFwiL2wjc1BQUCN0UCN3UCRRJGRQJFFQJHYkUVBQJHxQUFAlUyVdJV1QJW9QJV1QJmAmdydeUFBQUCVdJ3tQKFAoViRRUChdJFEoY1AkUVAkUSRRUFBQKGkpTyldUFAjd1BQKWRQKWcpbSltKXgpbVApbVApbVApbSltUCN3UCN3UCN3UCpSI3dQKlUqWCpbKmMjd1Ajd1AqaCpuKn0rXStjK2krbyt1K3ssVixdLGMsaVBQUFBQUFBQUFBQLG8seC1uLXFQLmcuai5wLnwvY1JtUV9kT1BmankhciN8cVtPUFlaZmp0dXZ3eSFyI1YjcCN8JHtxU09QWVpmanR1dnd5IXIjViNwI3wke1FvVFIheHBRfVZSIXlxUSF5IVBRI2EhXVIkUiF7cSFgXV8hWCFxI1cjWSNdI3kkVCRZJGYkdiR3JVAlWCVpcCFgXV8hWCFxI1cjWSNdI3kkVCRZJGYkdiR3JVAlWCVpVSNqIWIkZyVwVSRxI3UkcyVeUiVdJHBwIWBdXyFYIXEjVyNZI10jeSRUJFkkZiR2JHclUCVYJWlWI2ohYiRnJXB3IV1dXyFYIWIhcSNXI1kjXSN5JFQkWSRmJGckdiR3JVAlWCVpJXBwIWBdXyFYIXEjVyNZI10jeSRUJFkkZiR2JHclUCVYJWlRIWpgVSNqIWIkZyVwUiN0IWtUI2QhXyNlUSFPVlIhenFRIXkhT1IkUiF6USFSV1IhfHJRIVRYUiF9c1F6VVEjVHhRI3EhZ1EjdyFuUSN4IW9RJWAkclIlcyVfU2lQeVEhdGpRI3shclIkeSN8WmhQankhciN8UiNgIVpRJVUkX1IldCVrYyFmXmJjIVohYiFkI2AjbCNtUSNoIWJRJVokZ1IldyVwUiFrYFIhbWFSI3YhbVMkciN1JHNSJXElXlYkcCN1JHMlXlEhdmxSJFAhdlFmT1NqUHlVIXBmaiN8UiN8IXJRJFkjV1UlTyRZJVglaVElWCRmUiVpJVBRI2UhX1IkZCNlUSVRJFlSJWolUVEkfCRWUiVoJHxReFVSI1N4USR3I3lSJWQkd1Ehc2lTI30hcyRPUiRPIXRRJWwlVVIldSVsUSNuIWNSJGsjblEkcyN1UiVhJHNRJV8kclIlciVfX2VPUGZqeSFyI3xeVU9QZmp5IXIjfFEhVVlRIVZaUSNPdFEjUHVRI1F2USNSd1EkViNWUSRsI3BSJWcke1IkWiNXUSFaXVEhaF9RI1ohWFEjeSFxWyRYI1ckWSRmJVAlWCVpUSRbI1lRJF4jXVMkdSN5JHdRJHokVFIlYyR2UiRXI1ZRa1BSI1V5USFnXlEhb2NRI18hWlIkYSNgVyFjXmMhWiNgUSFuYlEjaSFiUSNvIWRRJGkjbFIkaiNtUSNrIWJRJVokZ1IldyVwXCIsXG4gIG5vZGVOYW1lczogXCJcdTI2QTAgVW5pdCBWYXJpYWJsZU5hbWUgQ29tbWVudCBTdHlsZVNoZWV0IFJ1bGVTZXQgVW5pdmVyc2FsU2VsZWN0b3IgVGFnU2VsZWN0b3IgVGFnTmFtZSBOZXN0aW5nU2VsZWN0b3IgQ2xhc3NTZWxlY3RvciAuIENsYXNzTmFtZSBQc2V1ZG9DbGFzc1NlbGVjdG9yIDogOjogUHNldWRvQ2xhc3NOYW1lIFBzZXVkb0NsYXNzTmFtZSApICggQXJnTGlzdCBWYWx1ZU5hbWUgUGFyZW50aGVzaXplZFZhbHVlIENvbG9yTGl0ZXJhbCBOdW1iZXJMaXRlcmFsIFN0cmluZ0xpdGVyYWwgQmluYXJ5RXhwcmVzc2lvbiBCaW5PcCBDYWxsRXhwcmVzc2lvbiBDYWxsZWUgQ2FsbExpdGVyYWwgQ2FsbFRhZyBQYXJlbnRoZXNpemVkQ29udGVudCBdIFsgTGluZU5hbWVzIExpbmVOYW1lICwgUHNldWRvQ2xhc3NOYW1lIEFyZ0xpc3QgSWRTZWxlY3RvciAjIElkTmFtZSBBdHRyaWJ1dGVTZWxlY3RvciBBdHRyaWJ1dGVOYW1lIE1hdGNoT3AgQ2hpbGRTZWxlY3RvciBDaGlsZE9wIERlc2NlbmRhbnRTZWxlY3RvciBTaWJsaW5nU2VsZWN0b3IgU2libGluZ09wIH0geyBCbG9jayBEZWNsYXJhdGlvbiBQcm9wZXJ0eU5hbWUgSW1wb3J0YW50IDsgSW1wb3J0U3RhdGVtZW50IEF0S2V5d29yZCBpbXBvcnQgTGF5ZXIgbGF5ZXIgTGF5ZXJOYW1lIEtleXdvcmRRdWVyeSBGZWF0dXJlUXVlcnkgRmVhdHVyZU5hbWUgQmluYXJ5UXVlcnkgTG9naWNPcCBDb21wYXJpc29uUXVlcnkgQ29tcGFyZU9wIFVuYXJ5UXVlcnkgVW5hcnlRdWVyeU9wIFBhcmVudGhlc2l6ZWRRdWVyeSBTZWxlY3RvclF1ZXJ5IHNlbGVjdG9yIE1lZGlhU3RhdGVtZW50IG1lZGlhIENoYXJzZXRTdGF0ZW1lbnQgY2hhcnNldCBOYW1lc3BhY2VTdGF0ZW1lbnQgbmFtZXNwYWNlIE5hbWVzcGFjZU5hbWUgS2V5ZnJhbWVzU3RhdGVtZW50IGtleWZyYW1lcyBLZXlmcmFtZU5hbWUgS2V5ZnJhbWVMaXN0IEtleWZyYW1lU2VsZWN0b3IgS2V5ZnJhbWVSYW5nZU5hbWUgU3VwcG9ydHNTdGF0ZW1lbnQgc3VwcG9ydHMgQXRSdWxlIFN0eWxlc1wiLFxuICBtYXhUZXJtOiAxMjYsXG4gIG5vZGVQcm9wczogW1xuICAgIFtcImlzb2xhdGVcIiwgLTIsMywyNSxcIlwiXSxcbiAgICBbXCJvcGVuZWRCeVwiLCAxOCxcIihcIiwzMyxcIltcIiw1MSxcIntcIl0sXG4gICAgW1wiY2xvc2VkQnlcIiwgMTksXCIpXCIsMzQsXCJdXCIsNTIsXCJ9XCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbY3NzSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMCwzLDkzXSxcbiAgcmVwZWF0Tm9kZUNvdW50OiAxMyxcbiAgdG9rZW5EYXRhOiBcIkxVflIhXk9YJH1YXiV1XnAkfXBxJXVxcilYcnMuUnN0L3V0dTZkdXYkfXZ3N153eDdveHk5Xnl6OW96ezl0e3w6X3x9P1F9IU8/YyFPIVBAUSFQIVFAaSFRIVtBYiFbIV1CXSFdIV5DWCFeIV9DaiFfIWBEZiFgIWFEeSFhIWIkfSFiIWNFeiFjIX0kfSF9I09IWCNPI1AkfSNQI1FIaiNRI1I2ZCNSI1QkfSNUI1VIeyNVI2MkfSNjI2RKXiNkI28kfSNvI3BKcyNwI3E2ZCNxI3JLVSNyI3NLZyNzI3kkfSN5I3oldSN6JGYkfSRmJGcldSRnI0JZJH0jQlkjQloldSNCWiRJUyR9JElTJElfJXUkSV8kSXwkfSRJfCRKTyV1JEpPJEpUJH0kSlQkSlUldSRKVSRLViR9JEtWJEtXJXUkS1cmRlUkfSZGVSZGViV1JkZWOydTJH07J1M7PWBMTzwlbE8kfWAlUVNPeSVeejsnUyVeOydTOz1gJW88JWxPJV5gJWNTcGBPeSVeejsnUyVeOydTOz1gJW88JWxPJV5gJXJQOz1gPCVsJV5+JXpoI2R+T1glXlheJ2ZecCVecHEnZnF5JV56I3klXiN5I3onZiN6JGYlXiRmJGcnZiRnI0JZJV4jQlkjQlonZiNCWiRJUyVeJElTJElfJ2YkSV8kSXwlXiRJfCRKTydmJEpPJEpUJV4kSlQkSlUnZiRKVSRLViVeJEtWJEtXJ2YkS1cmRlUlXiZGVSZGVidmJkZWOydTJV47J1M7PWAlbzwlbE8lXn4nbWgjZH5wYE9YJV5YXidmXnAlXnBxJ2ZxeSVeeiN5JV4jeSN6J2YjeiRmJV4kZiRnJ2YkZyNCWSVeI0JZI0JaJ2YjQlokSVMlXiRJUyRJXydmJElfJEl8JV4kSXwkSk8nZiRKTyRKVCVeJEpUJEpVJ2YkSlUkS1YlXiRLViRLVydmJEtXJkZVJV4mRlUmRlYnZiZGVjsnUyVeOydTOz1gJW88JWxPJV5sKVtVT3klXnojXSVeI10jXiluI147J1MlXjsnUzs9YCVvPCVsTyVebClzVXBgT3klXnojYSVeI2EjYipWI2I7J1MlXjsnUzs9YCVvPCVsTyVebCpbVXBgT3klXnojZCVeI2QjZSpuI2U7J1MlXjsnUzs9YCVvPCVsTyVebCpzVXBgT3klXnojYyVeI2MjZCtWI2Q7J1MlXjsnUzs9YCVvPCVsTyVebCtbVXBgT3klXnojZiVeI2YjZytuI2c7J1MlXjsnUzs9YCVvPCVsTyVebCtzVXBgT3klXnojaCVeI2gjaSxWI2k7J1MlXjsnUzs9YCVvPCVsTyVebCxbVXBgT3klXnojVCVeI1QjVSxuI1U7J1MlXjsnUzs9YCVvPCVsTyVebCxzVXBgT3klXnojYiVeI2IjYy1WI2M7J1MlXjsnUzs9YCVvPCVsTyVebC1bVXBgT3klXnojaCVeI2gjaS1uI2k7J1MlXjsnUzs9YCVvPCVsTyVebC11UyFZW3BgT3klXno7J1MlXjsnUzs9YCVvPCVsTyVefi5VV09ZLlJaci5ScnMubnMjTy5SI08jUC5zI1A7J1MuUjsnUzs9YC9vPCVsTy5Sfi5zT2l+fi52Uk87J1MuUjsnUzs9YC9QOz1gTy5Sfi9TWE9ZLlJaci5ScnMubnMjTy5SI08jUC5zI1A7J1MuUjsnUzs9YC9vOz1gPCVsLlI8JWxPLlJ+L3JQOz1gPCVsLlJuL3pZeVFPeSVeeiFRJV4hUSFbMGohWyFjJV4hYyFpMGohaSNUJV4jVCNaMGojWjsnUyVeOydTOz1gJW88JWxPJV5sMG9ZcGBPeSVeeiFRJV4hUSFbMV8hWyFjJV4hYyFpMV8haSNUJV4jVCNaMV8jWjsnUyVeOydTOz1gJW88JWxPJV5sMWRZcGBPeSVeeiFRJV4hUSFbMlMhWyFjJV4hYyFpMlMhaSNUJV4jVCNaMlMjWjsnUyVeOydTOz1gJW88JWxPJV5sMlpZZ1twYE95JV56IVElXiFRIVsyeSFbIWMlXiFjIWkyeSFpI1QlXiNUI1oyeSNaOydTJV47J1M7PWAlbzwlbE8lXmwzUVlnW3BgT3klXnohUSVeIVEhWzNwIVshYyVeIWMhaTNwIWkjVCVeI1QjWjNwI1o7J1MlXjsnUzs9YCVvPCVsTyVebDN1WXBgT3klXnohUSVeIVEhWzRlIVshYyVeIWMhaTRlIWkjVCVeI1QjWjRlI1o7J1MlXjsnUzs9YCVvPCVsTyVebDRsWWdbcGBPeSVeeiFRJV4hUSFbNVshWyFjJV4hYyFpNVshaSNUJV4jVCNaNVsjWjsnUyVeOydTOz1gJW88JWxPJV5sNWFZcGBPeSVeeiFRJV4hUSFbNlAhWyFjJV4hYyFpNlAhaSNUJV4jVCNaNlAjWjsnUyVeOydTOz1gJW88JWxPJV5sNldTZ1twYE95JV56OydTJV47J1M7PWAlbzwlbE8lXmQ2Z1VPeSVeeiFfJV4hXyFgNnkhYDsnUyVeOydTOz1gJW88JWxPJV5kN1FTfVNwYE95JV56OydTJV47J1M7PWAlbzwlbE8lXmI3Y1NYUU95JV56OydTJV47J1M7PWAlbzwlbE8lXn43cldPWTdvWnc3b3d4Lm54I083byNPI1A4WyNQOydTN287J1M7PWA5VzwlbE83b344X1JPOydTN287J1M7PWA4aDs9YE83b344a1hPWTdvWnc3b3d4Lm54I083byNPI1A4WyNQOydTN287J1M7PWA5Vzs9YDwlbDdvPCVsTzdvfjlaUDs9YDwlbDdvbjljU2NeT3klXno7J1MlXjsnUzs9YCVvPCVsTyVefjl0T2J+bjl7VVVRa1dPeSVeeiFfJV4hXyFgNnkhYDsnUyVeOydTOz1gJW88JWxPJV5uOmZXa1chU1FPeSVeeiFPJV4hTyFQO08hUCFRJV4hUSFbPlQhWzsnUyVeOydTOz1gJW88JWxPJV5sO1RVcGBPeSVeeiFRJV4hUSFbO2chWzsnUyVeOydTOz1gJW88JWxPJV5sO25ZcGAjbVtPeSVeeiFRJV4hUSFbO2chWyFnJV4hZyFoPF4haCNYJV4jWCNZPF4jWTsnUyVeOydTOz1gJW88JWxPJV5sPGNZcGBPeSVeenslXnt8PVJ8fSVefSFPPVIhTyFRJV4hUSFbPWohWzsnUyVeOydTOz1gJW88JWxPJV5sPVdVcGBPeSVeeiFRJV4hUSFbPWohWzsnUyVeOydTOz1gJW88JWxPJV5sPXFVcGAjbVtPeSVeeiFRJV4hUSFbPWohWzsnUyVeOydTOz1gJW88JWxPJV5sPltbcGAjbVtPeSVeeiFPJV4hTyFQO2chUCFRJV4hUSFbPlQhWyFnJV4hZyFoPF4haCNYJV4jWCNZPF4jWTsnUyVeOydTOz1gJW88JWxPJV5uP1ZTdV5PeSVeejsnUyVeOydTOz1gJW88JWxPJV5sP2hXa1dPeSVeeiFPJV4hTyFQO08hUCFRJV4hUSFbPlQhWzsnUyVeOydTOz1gJW88JWxPJV5uQFZVWlFPeSVeeiFRJV4hUSFbO2chWzsnUyVeOydTOz1gJW88JWxPJV5+QG5Ua1dPeSVeentAfXs7J1MlXjsnUzs9YCVvPCVsTyVefkFVU3BgI2V+T3klXno7J1MlXjsnUzs9YCVvPCVsTyVebEFnWyNtW095JV56IU8lXiFPIVA7ZyFQIVElXiFRIVs+VCFbIWclXiFnIWg8XiFoI1glXiNYI1k8XiNZOydTJV47J1M7PWAlbzwlbE8lXmpCYlVeWU95JV56IVslXiFbIV1CdCFdOydTJV47J1M7PWAlbzwlbE8lXmJCe1NfUXBgT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebkNeUyFaXk95JV56OydTJV47J1M7PWAlbzwlbE8lXmhDb1UhaFdPeSVeeiFfJV4hXyFgRFIhYDsnUyVeOydTOz1gJW88JWxPJV5oRFlTIWhXcGBPeSVeejsnUyVeOydTOz1gJW88JWxPJV5sRG1TIWhXfVNPeSVeejsnUyVeOydTOz1gJW88JWxPJV5qRVFWIVBRIWhXT3klXnohXyVeIV8hYERSIWAhYUVnIWE7J1MlXjsnUzs9YCVvPCVsTyVeYkVuUyFQUXBgT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeYkV9WU95JV56fSVefSFPRm0hTyFjJV4hYyF9R1shfSNUJV4jVCNvR1sjbzsnUyVeOydTOz1gJW88JWxPJV5iRnJXcGBPeSVeeiFjJV4hYyF9R1shfSNUJV4jVCNvR1sjbzsnUyVeOydTOz1gJW88JWxPJV5iR2NbIV1RcGBPeSVeen0lXn0hT0dbIU8hUSVeIVEhW0dbIVshYyVeIWMhfUdbIX0jVCVeI1Qjb0dbI287J1MlXjsnUzs9YCVvPCVsTyVebkheU3JeT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebkhvU3FeT3klXno7J1MlXjsnUzs9YCVvPCVsTyVeaklPVU95JV56I2IlXiNiI2NJYiNjOydTJV47J1M7PWAlbzwlbE8lXmpJZ1VwYE95JV56I1clXiNXI1hJeSNYOydTJV47J1M7PWAlbzwlbE8lXmpKUVMhZllwYE95JV56OydTJV47J1M7PWAlbzwlbE8lXmpKYVVPeSVeeiNmJV4jZiNnSXkjZzsnUyVeOydTOz1gJW88JWxPJV5mSnhTIVVVT3klXno7J1MlXjsnUzs9YCVvPCVsTyVebktaUyFUXk95JV56OydTJV47J1M7PWAlbzwlbE8lXmZLbFUhU1FPeSVeeiFfJV4hXyFgNnkhYDsnUyVeOydTOz1gJW88JWxPJV5gTFJQOz1gPCVsJH1cIixcbiAgdG9rZW5pemVyczogW2Rlc2NlbmRhbnQsIHVuaXRUb2tlbiwgaWRlbnRpZmllcnMsIDEsIDIsIDMsIDQsIG5ldyBMb2NhbFRva2VuR3JvdXAoXCJtflJSWVpbenthfn5nfmFPI2d+fmRQIVAhUWd+bE8jaH5+XCIsIDI4LCAxMTQpXSxcbiAgdG9wUnVsZXM6IHtcIlN0eWxlU2hlZXRcIjpbMCw0XSxcIlN0eWxlc1wiOlsxLDkyXX0sXG4gIHNwZWNpYWxpemVkOiBbe3Rlcm06IDEwOCwgZ2V0OiAodmFsdWUpID0+IHNwZWNfY2FsbGVlW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDU5LCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19BdEtleXdvcmRbdmFsdWVdIHx8IC0xfSx7dGVybTogMTEwLCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19xdWVyeUlkZW50aWZpZXJbdmFsdWVdIHx8IC0xfV0sXG4gIHRva2VuUHJlYzogMTQ0MVxufSk7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuIiwgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci9jc3MnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGNvbnRpbnVlZEluZGVudCwgZm9sZE5vZGVQcm9wLCBmb2xkSW5zaWRlLCBMYW5ndWFnZVN1cHBvcnQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5pbXBvcnQgeyBOb2RlV2Vha01hcCwgSXRlck1vZGUgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxubGV0IF9wcm9wZXJ0aWVzID0gbnVsbDtcbmZ1bmN0aW9uIHByb3BlcnRpZXMoKSB7XG4gICAgaWYgKCFfcHJvcGVydGllcyAmJiB0eXBlb2YgZG9jdW1lbnQgPT0gXCJvYmplY3RcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCB7IHN0eWxlIH0gPSBkb2N1bWVudC5ib2R5LCBuYW1lcyA9IFtdLCBzZWVuID0gbmV3IFNldDtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBzdHlsZSlcbiAgICAgICAgICAgIGlmIChwcm9wICE9IFwiY3NzVGV4dFwiICYmIHByb3AgIT0gXCJjc3NGbG9hdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHlsZVtwcm9wXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvW0EtWl0vLnRlc3QocHJvcCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wID0gcHJvcC5yZXBsYWNlKC9bQS1aXS9nLCBjaCA9PiBcIi1cIiArIGNoLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vlbi5hZGQocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF9wcm9wZXJ0aWVzID0gbmFtZXMuc29ydCgpLm1hcChuYW1lID0+ICh7IHR5cGU6IFwicHJvcGVydHlcIiwgbGFiZWw6IG5hbWUsIGFwcGx5OiBuYW1lICsgXCI6IFwiIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIF9wcm9wZXJ0aWVzIHx8IFtdO1xufVxuY29uc3QgcHNldWRvQ2xhc3NlcyA9IC8qQF9fUFVSRV9fKi9bXG4gICAgXCJhY3RpdmVcIiwgXCJhZnRlclwiLCBcImFueS1saW5rXCIsIFwiYXV0b2ZpbGxcIiwgXCJiYWNrZHJvcFwiLCBcImJlZm9yZVwiLFxuICAgIFwiY2hlY2tlZFwiLCBcImN1ZVwiLCBcImRlZmF1bHRcIiwgXCJkZWZpbmVkXCIsIFwiZGlzYWJsZWRcIiwgXCJlbXB0eVwiLFxuICAgIFwiZW5hYmxlZFwiLCBcImZpbGUtc2VsZWN0b3ItYnV0dG9uXCIsIFwiZmlyc3RcIiwgXCJmaXJzdC1jaGlsZFwiLFxuICAgIFwiZmlyc3QtbGV0dGVyXCIsIFwiZmlyc3QtbGluZVwiLCBcImZpcnN0LW9mLXR5cGVcIiwgXCJmb2N1c1wiLFxuICAgIFwiZm9jdXMtdmlzaWJsZVwiLCBcImZvY3VzLXdpdGhpblwiLCBcImZ1bGxzY3JlZW5cIiwgXCJoYXNcIiwgXCJob3N0XCIsXG4gICAgXCJob3N0LWNvbnRleHRcIiwgXCJob3ZlclwiLCBcImluLXJhbmdlXCIsIFwiaW5kZXRlcm1pbmF0ZVwiLCBcImludmFsaWRcIixcbiAgICBcImlzXCIsIFwibGFuZ1wiLCBcImxhc3QtY2hpbGRcIiwgXCJsYXN0LW9mLXR5cGVcIiwgXCJsZWZ0XCIsIFwibGlua1wiLCBcIm1hcmtlclwiLFxuICAgIFwibW9kYWxcIiwgXCJub3RcIiwgXCJudGgtY2hpbGRcIiwgXCJudGgtbGFzdC1jaGlsZFwiLCBcIm50aC1sYXN0LW9mLXR5cGVcIixcbiAgICBcIm50aC1vZi10eXBlXCIsIFwib25seS1jaGlsZFwiLCBcIm9ubHktb2YtdHlwZVwiLCBcIm9wdGlvbmFsXCIsIFwib3V0LW9mLXJhbmdlXCIsXG4gICAgXCJwYXJ0XCIsIFwicGxhY2Vob2xkZXJcIiwgXCJwbGFjZWhvbGRlci1zaG93blwiLCBcInJlYWQtb25seVwiLCBcInJlYWQtd3JpdGVcIixcbiAgICBcInJlcXVpcmVkXCIsIFwicmlnaHRcIiwgXCJyb290XCIsIFwic2NvcGVcIiwgXCJzZWxlY3Rpb25cIiwgXCJzbG90dGVkXCIsIFwidGFyZ2V0XCIsXG4gICAgXCJ0YXJnZXQtdGV4dFwiLCBcInZhbGlkXCIsIFwidmlzaXRlZFwiLCBcIndoZXJlXCJcbl0ubWFwKG5hbWUgPT4gKHsgdHlwZTogXCJjbGFzc1wiLCBsYWJlbDogbmFtZSB9KSk7XG5jb25zdCB2YWx1ZXMgPSAvKkBfX1BVUkVfXyovW1xuICAgIFwiYWJvdmVcIiwgXCJhYnNvbHV0ZVwiLCBcImFjdGl2ZWJvcmRlclwiLCBcImFkZGl0aXZlXCIsIFwiYWN0aXZlY2FwdGlvblwiLCBcImFmdGVyLXdoaXRlLXNwYWNlXCIsXG4gICAgXCJhaGVhZFwiLCBcImFsaWFzXCIsIFwiYWxsXCIsIFwiYWxsLXNjcm9sbFwiLCBcImFscGhhYmV0aWNcIiwgXCJhbHRlcm5hdGVcIiwgXCJhbHdheXNcIixcbiAgICBcImFudGlhbGlhc2VkXCIsIFwiYXBwd29ya3NwYWNlXCIsIFwiYXN0ZXJpc2tzXCIsIFwiYXR0clwiLCBcImF1dG9cIiwgXCJhdXRvLWZsb3dcIiwgXCJhdm9pZFwiLCBcImF2b2lkLWNvbHVtblwiLFxuICAgIFwiYXZvaWQtcGFnZVwiLCBcImF2b2lkLXJlZ2lvblwiLCBcImF4aXMtcGFuXCIsIFwiYmFja2dyb3VuZFwiLCBcImJhY2t3YXJkc1wiLCBcImJhc2VsaW5lXCIsIFwiYmVsb3dcIixcbiAgICBcImJpZGktb3ZlcnJpZGVcIiwgXCJibGlua1wiLCBcImJsb2NrXCIsIFwiYmxvY2stYXhpc1wiLCBcImJvbGRcIiwgXCJib2xkZXJcIiwgXCJib3JkZXJcIiwgXCJib3JkZXItYm94XCIsXG4gICAgXCJib3RoXCIsIFwiYm90dG9tXCIsIFwiYnJlYWtcIiwgXCJicmVhay1hbGxcIiwgXCJicmVhay13b3JkXCIsIFwiYnVsbGV0c1wiLCBcImJ1dHRvblwiLCBcImJ1dHRvbi1iZXZlbFwiLFxuICAgIFwiYnV0dG9uZmFjZVwiLCBcImJ1dHRvbmhpZ2hsaWdodFwiLCBcImJ1dHRvbnNoYWRvd1wiLCBcImJ1dHRvbnRleHRcIiwgXCJjYWxjXCIsIFwiY2FwaXRhbGl6ZVwiLFxuICAgIFwiY2Fwcy1sb2NrLWluZGljYXRvclwiLCBcImNhcHRpb25cIiwgXCJjYXB0aW9udGV4dFwiLCBcImNhcmV0XCIsIFwiY2VsbFwiLCBcImNlbnRlclwiLCBcImNoZWNrYm94XCIsIFwiY2lyY2xlXCIsXG4gICAgXCJjamstZGVjaW1hbFwiLCBcImNsZWFyXCIsIFwiY2xpcFwiLCBcImNsb3NlLXF1b3RlXCIsIFwiY29sLXJlc2l6ZVwiLCBcImNvbGxhcHNlXCIsIFwiY29sb3JcIiwgXCJjb2xvci1idXJuXCIsXG4gICAgXCJjb2xvci1kb2RnZVwiLCBcImNvbHVtblwiLCBcImNvbHVtbi1yZXZlcnNlXCIsIFwiY29tcGFjdFwiLCBcImNvbmRlbnNlZFwiLCBcImNvbnRhaW5cIiwgXCJjb250ZW50XCIsXG4gICAgXCJjb250ZW50c1wiLCBcImNvbnRlbnQtYm94XCIsIFwiY29udGV4dC1tZW51XCIsIFwiY29udGludW91c1wiLCBcImNvcHlcIiwgXCJjb3VudGVyXCIsIFwiY291bnRlcnNcIiwgXCJjb3ZlclwiLFxuICAgIFwiY3JvcFwiLCBcImNyb3NzXCIsIFwiY3Jvc3NoYWlyXCIsIFwiY3VycmVudGNvbG9yXCIsIFwiY3Vyc2l2ZVwiLCBcImN5Y2xpY1wiLCBcImRhcmtlblwiLCBcImRhc2hlZFwiLCBcImRlY2ltYWxcIixcbiAgICBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCIsIFwiZGVmYXVsdFwiLCBcImRlZmF1bHQtYnV0dG9uXCIsIFwiZGVuc2VcIiwgXCJkZXN0aW5hdGlvbi1hdG9wXCIsIFwiZGVzdGluYXRpb24taW5cIixcbiAgICBcImRlc3RpbmF0aW9uLW91dFwiLCBcImRlc3RpbmF0aW9uLW92ZXJcIiwgXCJkaWZmZXJlbmNlXCIsIFwiZGlzY1wiLCBcImRpc2NhcmRcIiwgXCJkaXNjbG9zdXJlLWNsb3NlZFwiLFxuICAgIFwiZGlzY2xvc3VyZS1vcGVuXCIsIFwiZG9jdW1lbnRcIiwgXCJkb3QtZGFzaFwiLCBcImRvdC1kb3QtZGFzaFwiLCBcImRvdHRlZFwiLCBcImRvdWJsZVwiLCBcImRvd25cIiwgXCJlLXJlc2l6ZVwiLFxuICAgIFwiZWFzZVwiLCBcImVhc2UtaW5cIiwgXCJlYXNlLWluLW91dFwiLCBcImVhc2Utb3V0XCIsIFwiZWxlbWVudFwiLCBcImVsbGlwc2VcIiwgXCJlbGxpcHNpc1wiLCBcImVtYmVkXCIsIFwiZW5kXCIsXG4gICAgXCJldGhpb3BpYy1hYmVnZWRlLWdlelwiLCBcImV0aGlvcGljLWhhbGVoYW1lLWFhLWVyXCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtZ2V6XCIsIFwiZXctcmVzaXplXCIsIFwiZXhjbHVzaW9uXCIsXG4gICAgXCJleHBhbmRlZFwiLCBcImV4dGVuZHNcIiwgXCJleHRyYS1jb25kZW5zZWRcIiwgXCJleHRyYS1leHBhbmRlZFwiLCBcImZhbnRhc3lcIiwgXCJmYXN0XCIsIFwiZmlsbFwiLCBcImZpbGwtYm94XCIsXG4gICAgXCJmaXhlZFwiLCBcImZsYXRcIiwgXCJmbGV4XCIsIFwiZmxleC1lbmRcIiwgXCJmbGV4LXN0YXJ0XCIsIFwiZm9vdG5vdGVzXCIsIFwiZm9yd2FyZHNcIiwgXCJmcm9tXCIsXG4gICAgXCJnZW9tZXRyaWNQcmVjaXNpb25cIiwgXCJncmF5dGV4dFwiLCBcImdyaWRcIiwgXCJncm9vdmVcIiwgXCJoYW5kXCIsIFwiaGFyZC1saWdodFwiLCBcImhlbHBcIiwgXCJoaWRkZW5cIiwgXCJoaWRlXCIsXG4gICAgXCJoaWdoZXJcIiwgXCJoaWdobGlnaHRcIiwgXCJoaWdobGlnaHR0ZXh0XCIsIFwiaG9yaXpvbnRhbFwiLCBcImhzbFwiLCBcImhzbGFcIiwgXCJodWVcIiwgXCJpY29uXCIsIFwiaWdub3JlXCIsXG4gICAgXCJpbmFjdGl2ZWJvcmRlclwiLCBcImluYWN0aXZlY2FwdGlvblwiLCBcImluYWN0aXZlY2FwdGlvbnRleHRcIiwgXCJpbmZpbml0ZVwiLCBcImluZm9iYWNrZ3JvdW5kXCIsIFwiaW5mb3RleHRcIixcbiAgICBcImluaGVyaXRcIiwgXCJpbml0aWFsXCIsIFwiaW5saW5lXCIsIFwiaW5saW5lLWF4aXNcIiwgXCJpbmxpbmUtYmxvY2tcIiwgXCJpbmxpbmUtZmxleFwiLCBcImlubGluZS1ncmlkXCIsXG4gICAgXCJpbmxpbmUtdGFibGVcIiwgXCJpbnNldFwiLCBcImluc2lkZVwiLCBcImludHJpbnNpY1wiLCBcImludmVydFwiLCBcIml0YWxpY1wiLCBcImp1c3RpZnlcIiwgXCJrZWVwLWFsbFwiLFxuICAgIFwibGFuZHNjYXBlXCIsIFwibGFyZ2VcIiwgXCJsYXJnZXJcIiwgXCJsZWZ0XCIsIFwibGV2ZWxcIiwgXCJsaWdodGVyXCIsIFwibGlnaHRlblwiLCBcImxpbmUtdGhyb3VnaFwiLCBcImxpbmVhclwiLFxuICAgIFwibGluZWFyLWdyYWRpZW50XCIsIFwibGluZXNcIiwgXCJsaXN0LWl0ZW1cIiwgXCJsaXN0Ym94XCIsIFwibGlzdGl0ZW1cIiwgXCJsb2NhbFwiLCBcImxvZ2ljYWxcIiwgXCJsb3VkXCIsIFwibG93ZXJcIixcbiAgICBcImxvd2VyLWhleGFkZWNpbWFsXCIsIFwibG93ZXItbGF0aW5cIiwgXCJsb3dlci1ub3J3ZWdpYW5cIiwgXCJsb3dlcmNhc2VcIiwgXCJsdHJcIiwgXCJsdW1pbm9zaXR5XCIsIFwibWFuaXB1bGF0aW9uXCIsXG4gICAgXCJtYXRjaFwiLCBcIm1hdHJpeFwiLCBcIm1hdHJpeDNkXCIsIFwibWVkaXVtXCIsIFwibWVudVwiLCBcIm1lbnV0ZXh0XCIsIFwibWVzc2FnZS1ib3hcIiwgXCJtaWRkbGVcIiwgXCJtaW4taW50cmluc2ljXCIsXG4gICAgXCJtaXhcIiwgXCJtb25vc3BhY2VcIiwgXCJtb3ZlXCIsIFwibXVsdGlwbGVcIiwgXCJtdWx0aXBsZV9tYXNrX2ltYWdlc1wiLCBcIm11bHRpcGx5XCIsIFwibi1yZXNpemVcIiwgXCJuYXJyb3dlclwiLFxuICAgIFwibmUtcmVzaXplXCIsIFwibmVzdy1yZXNpemVcIiwgXCJuby1jbG9zZS1xdW90ZVwiLCBcIm5vLWRyb3BcIiwgXCJuby1vcGVuLXF1b3RlXCIsIFwibm8tcmVwZWF0XCIsIFwibm9uZVwiLFxuICAgIFwibm9ybWFsXCIsIFwibm90LWFsbG93ZWRcIiwgXCJub3dyYXBcIiwgXCJucy1yZXNpemVcIiwgXCJudW1iZXJzXCIsIFwibnVtZXJpY1wiLCBcIm53LXJlc2l6ZVwiLCBcIm53c2UtcmVzaXplXCIsXG4gICAgXCJvYmxpcXVlXCIsIFwib3BhY2l0eVwiLCBcIm9wZW4tcXVvdGVcIiwgXCJvcHRpbWl6ZUxlZ2liaWxpdHlcIiwgXCJvcHRpbWl6ZVNwZWVkXCIsIFwib3V0c2V0XCIsIFwib3V0c2lkZVwiLFxuICAgIFwib3V0c2lkZS1zaGFwZVwiLCBcIm92ZXJsYXlcIiwgXCJvdmVybGluZVwiLCBcInBhZGRpbmdcIiwgXCJwYWRkaW5nLWJveFwiLCBcInBhaW50ZWRcIiwgXCJwYWdlXCIsIFwicGF1c2VkXCIsXG4gICAgXCJwZXJzcGVjdGl2ZVwiLCBcInBpbmNoLXpvb21cIiwgXCJwbHVzLWRhcmtlclwiLCBcInBsdXMtbGlnaHRlclwiLCBcInBvaW50ZXJcIiwgXCJwb2x5Z29uXCIsIFwicG9ydHJhaXRcIixcbiAgICBcInByZVwiLCBcInByZS1saW5lXCIsIFwicHJlLXdyYXBcIiwgXCJwcmVzZXJ2ZS0zZFwiLCBcInByb2dyZXNzXCIsIFwicHVzaC1idXR0b25cIiwgXCJyYWRpYWwtZ3JhZGllbnRcIiwgXCJyYWRpb1wiLFxuICAgIFwicmVhZC1vbmx5XCIsIFwicmVhZC13cml0ZVwiLCBcInJlYWQtd3JpdGUtcGxhaW50ZXh0LW9ubHlcIiwgXCJyZWN0YW5nbGVcIiwgXCJyZWdpb25cIiwgXCJyZWxhdGl2ZVwiLCBcInJlcGVhdFwiLFxuICAgIFwicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudFwiLCBcInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIFwicmVzZXRcIiwgXCJyZXZlcnNlXCIsXG4gICAgXCJyZ2JcIiwgXCJyZ2JhXCIsIFwicmlkZ2VcIiwgXCJyaWdodFwiLCBcInJvdGF0ZVwiLCBcInJvdGF0ZTNkXCIsIFwicm90YXRlWFwiLCBcInJvdGF0ZVlcIiwgXCJyb3RhdGVaXCIsIFwicm91bmRcIixcbiAgICBcInJvd1wiLCBcInJvdy1yZXNpemVcIiwgXCJyb3ctcmV2ZXJzZVwiLCBcInJ0bFwiLCBcInJ1bi1pblwiLCBcInJ1bm5pbmdcIiwgXCJzLXJlc2l6ZVwiLCBcInNhbnMtc2VyaWZcIiwgXCJzYXR1cmF0aW9uXCIsXG4gICAgXCJzY2FsZVwiLCBcInNjYWxlM2RcIiwgXCJzY2FsZVhcIiwgXCJzY2FsZVlcIiwgXCJzY2FsZVpcIiwgXCJzY3JlZW5cIiwgXCJzY3JvbGxcIiwgXCJzY3JvbGxiYXJcIiwgXCJzY3JvbGwtcG9zaXRpb25cIixcbiAgICBcInNlLXJlc2l6ZVwiLCBcInNlbGYtc3RhcnRcIiwgXCJzZWxmLWVuZFwiLCBcInNlbWktY29uZGVuc2VkXCIsIFwic2VtaS1leHBhbmRlZFwiLCBcInNlcGFyYXRlXCIsIFwic2VyaWZcIiwgXCJzaG93XCIsXG4gICAgXCJzaW5nbGVcIiwgXCJza2V3XCIsIFwic2tld1hcIiwgXCJza2V3WVwiLCBcInNraXAtd2hpdGUtc3BhY2VcIiwgXCJzbGlkZVwiLCBcInNsaWRlci1ob3Jpem9udGFsXCIsXG4gICAgXCJzbGlkZXItdmVydGljYWxcIiwgXCJzbGlkZXJ0aHVtYi1ob3Jpem9udGFsXCIsIFwic2xpZGVydGh1bWItdmVydGljYWxcIiwgXCJzbG93XCIsIFwic21hbGxcIiwgXCJzbWFsbC1jYXBzXCIsXG4gICAgXCJzbWFsbC1jYXB0aW9uXCIsIFwic21hbGxlclwiLCBcInNvZnQtbGlnaHRcIiwgXCJzb2xpZFwiLCBcInNvdXJjZS1hdG9wXCIsIFwic291cmNlLWluXCIsIFwic291cmNlLW91dFwiLFxuICAgIFwic291cmNlLW92ZXJcIiwgXCJzcGFjZVwiLCBcInNwYWNlLWFyb3VuZFwiLCBcInNwYWNlLWJldHdlZW5cIiwgXCJzcGFjZS1ldmVubHlcIiwgXCJzcGVsbC1vdXRcIiwgXCJzcXVhcmVcIiwgXCJzdGFydFwiLFxuICAgIFwic3RhdGljXCIsIFwic3RhdHVzLWJhclwiLCBcInN0cmV0Y2hcIiwgXCJzdHJva2VcIiwgXCJzdHJva2UtYm94XCIsIFwic3ViXCIsIFwic3VicGl4ZWwtYW50aWFsaWFzZWRcIiwgXCJzdmdfbWFza3NcIixcbiAgICBcInN1cGVyXCIsIFwic3ctcmVzaXplXCIsIFwic3ltYm9saWNcIiwgXCJzeW1ib2xzXCIsIFwic3lzdGVtLXVpXCIsIFwidGFibGVcIiwgXCJ0YWJsZS1jYXB0aW9uXCIsIFwidGFibGUtY2VsbFwiLFxuICAgIFwidGFibGUtY29sdW1uXCIsIFwidGFibGUtY29sdW1uLWdyb3VwXCIsIFwidGFibGUtZm9vdGVyLWdyb3VwXCIsIFwidGFibGUtaGVhZGVyLWdyb3VwXCIsIFwidGFibGUtcm93XCIsXG4gICAgXCJ0YWJsZS1yb3ctZ3JvdXBcIiwgXCJ0ZXh0XCIsIFwidGV4dC1ib3R0b21cIiwgXCJ0ZXh0LXRvcFwiLCBcInRleHRhcmVhXCIsIFwidGV4dGZpZWxkXCIsIFwidGhpY2tcIiwgXCJ0aGluXCIsXG4gICAgXCJ0aHJlZWRkYXJrc2hhZG93XCIsIFwidGhyZWVkZmFjZVwiLCBcInRocmVlZGhpZ2hsaWdodFwiLCBcInRocmVlZGxpZ2h0c2hhZG93XCIsIFwidGhyZWVkc2hhZG93XCIsIFwidG9cIiwgXCJ0b3BcIixcbiAgICBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInRyYW5zbGF0ZTNkXCIsIFwidHJhbnNsYXRlWFwiLCBcInRyYW5zbGF0ZVlcIiwgXCJ0cmFuc2xhdGVaXCIsIFwidHJhbnNwYXJlbnRcIixcbiAgICBcInVsdHJhLWNvbmRlbnNlZFwiLCBcInVsdHJhLWV4cGFuZGVkXCIsIFwidW5kZXJsaW5lXCIsIFwidW5pZGlyZWN0aW9uYWwtcGFuXCIsIFwidW5zZXRcIiwgXCJ1cFwiLCBcInVwcGVyLWxhdGluXCIsXG4gICAgXCJ1cHBlcmNhc2VcIiwgXCJ1cmxcIiwgXCJ2YXJcIiwgXCJ2ZXJ0aWNhbFwiLCBcInZlcnRpY2FsLXRleHRcIiwgXCJ2aWV3LWJveFwiLCBcInZpc2libGVcIiwgXCJ2aXNpYmxlRmlsbFwiLFxuICAgIFwidmlzaWJsZVBhaW50ZWRcIiwgXCJ2aXNpYmxlU3Ryb2tlXCIsIFwidmlzdWFsXCIsIFwidy1yZXNpemVcIiwgXCJ3YWl0XCIsIFwid2F2ZVwiLCBcIndpZGVyXCIsIFwid2luZG93XCIsIFwid2luZG93ZnJhbWVcIixcbiAgICBcIndpbmRvd3RleHRcIiwgXCJ3b3Jkc1wiLCBcIndyYXBcIiwgXCJ3cmFwLXJldmVyc2VcIiwgXCJ4LWxhcmdlXCIsIFwieC1zbWFsbFwiLCBcInhvclwiLCBcInh4LWxhcmdlXCIsIFwieHgtc21hbGxcIlxuXS5tYXAobmFtZSA9PiAoeyB0eXBlOiBcImtleXdvcmRcIiwgbGFiZWw6IG5hbWUgfSkpLmNvbmNhdCgvKkBfX1BVUkVfXyovW1xuICAgIFwiYWxpY2VibHVlXCIsIFwiYW50aXF1ZXdoaXRlXCIsIFwiYXF1YVwiLCBcImFxdWFtYXJpbmVcIiwgXCJhenVyZVwiLCBcImJlaWdlXCIsXG4gICAgXCJiaXNxdWVcIiwgXCJibGFja1wiLCBcImJsYW5jaGVkYWxtb25kXCIsIFwiYmx1ZVwiLCBcImJsdWV2aW9sZXRcIiwgXCJicm93blwiLFxuICAgIFwiYnVybHl3b29kXCIsIFwiY2FkZXRibHVlXCIsIFwiY2hhcnRyZXVzZVwiLCBcImNob2NvbGF0ZVwiLCBcImNvcmFsXCIsIFwiY29ybmZsb3dlcmJsdWVcIixcbiAgICBcImNvcm5zaWxrXCIsIFwiY3JpbXNvblwiLCBcImN5YW5cIiwgXCJkYXJrYmx1ZVwiLCBcImRhcmtjeWFuXCIsIFwiZGFya2dvbGRlbnJvZFwiLFxuICAgIFwiZGFya2dyYXlcIiwgXCJkYXJrZ3JlZW5cIiwgXCJkYXJra2hha2lcIiwgXCJkYXJrbWFnZW50YVwiLCBcImRhcmtvbGl2ZWdyZWVuXCIsXG4gICAgXCJkYXJrb3JhbmdlXCIsIFwiZGFya29yY2hpZFwiLCBcImRhcmtyZWRcIiwgXCJkYXJrc2FsbW9uXCIsIFwiZGFya3NlYWdyZWVuXCIsXG4gICAgXCJkYXJrc2xhdGVibHVlXCIsIFwiZGFya3NsYXRlZ3JheVwiLCBcImRhcmt0dXJxdW9pc2VcIiwgXCJkYXJrdmlvbGV0XCIsXG4gICAgXCJkZWVwcGlua1wiLCBcImRlZXBza3libHVlXCIsIFwiZGltZ3JheVwiLCBcImRvZGdlcmJsdWVcIiwgXCJmaXJlYnJpY2tcIixcbiAgICBcImZsb3JhbHdoaXRlXCIsIFwiZm9yZXN0Z3JlZW5cIiwgXCJmdWNoc2lhXCIsIFwiZ2FpbnNib3JvXCIsIFwiZ2hvc3R3aGl0ZVwiLFxuICAgIFwiZ29sZFwiLCBcImdvbGRlbnJvZFwiLCBcImdyYXlcIiwgXCJncmV5XCIsIFwiZ3JlZW5cIiwgXCJncmVlbnllbGxvd1wiLCBcImhvbmV5ZGV3XCIsXG4gICAgXCJob3RwaW5rXCIsIFwiaW5kaWFucmVkXCIsIFwiaW5kaWdvXCIsIFwiaXZvcnlcIiwgXCJraGFraVwiLCBcImxhdmVuZGVyXCIsXG4gICAgXCJsYXZlbmRlcmJsdXNoXCIsIFwibGF3bmdyZWVuXCIsIFwibGVtb25jaGlmZm9uXCIsIFwibGlnaHRibHVlXCIsIFwibGlnaHRjb3JhbFwiLFxuICAgIFwibGlnaHRjeWFuXCIsIFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIiwgXCJsaWdodGdyYXlcIiwgXCJsaWdodGdyZWVuXCIsIFwibGlnaHRwaW5rXCIsXG4gICAgXCJsaWdodHNhbG1vblwiLCBcImxpZ2h0c2VhZ3JlZW5cIiwgXCJsaWdodHNreWJsdWVcIiwgXCJsaWdodHNsYXRlZ3JheVwiLFxuICAgIFwibGlnaHRzdGVlbGJsdWVcIiwgXCJsaWdodHllbGxvd1wiLCBcImxpbWVcIiwgXCJsaW1lZ3JlZW5cIiwgXCJsaW5lblwiLCBcIm1hZ2VudGFcIixcbiAgICBcIm1hcm9vblwiLCBcIm1lZGl1bWFxdWFtYXJpbmVcIiwgXCJtZWRpdW1ibHVlXCIsIFwibWVkaXVtb3JjaGlkXCIsIFwibWVkaXVtcHVycGxlXCIsXG4gICAgXCJtZWRpdW1zZWFncmVlblwiLCBcIm1lZGl1bXNsYXRlYmx1ZVwiLCBcIm1lZGl1bXNwcmluZ2dyZWVuXCIsIFwibWVkaXVtdHVycXVvaXNlXCIsXG4gICAgXCJtZWRpdW12aW9sZXRyZWRcIiwgXCJtaWRuaWdodGJsdWVcIiwgXCJtaW50Y3JlYW1cIiwgXCJtaXN0eXJvc2VcIiwgXCJtb2NjYXNpblwiLFxuICAgIFwibmF2YWpvd2hpdGVcIiwgXCJuYXZ5XCIsIFwib2xkbGFjZVwiLCBcIm9saXZlXCIsIFwib2xpdmVkcmFiXCIsIFwib3JhbmdlXCIsIFwib3JhbmdlcmVkXCIsXG4gICAgXCJvcmNoaWRcIiwgXCJwYWxlZ29sZGVucm9kXCIsIFwicGFsZWdyZWVuXCIsIFwicGFsZXR1cnF1b2lzZVwiLCBcInBhbGV2aW9sZXRyZWRcIixcbiAgICBcInBhcGF5YXdoaXBcIiwgXCJwZWFjaHB1ZmZcIiwgXCJwZXJ1XCIsIFwicGlua1wiLCBcInBsdW1cIiwgXCJwb3dkZXJibHVlXCIsXG4gICAgXCJwdXJwbGVcIiwgXCJyZWJlY2NhcHVycGxlXCIsIFwicmVkXCIsIFwicm9zeWJyb3duXCIsIFwicm95YWxibHVlXCIsIFwic2FkZGxlYnJvd25cIixcbiAgICBcInNhbG1vblwiLCBcInNhbmR5YnJvd25cIiwgXCJzZWFncmVlblwiLCBcInNlYXNoZWxsXCIsIFwic2llbm5hXCIsIFwic2lsdmVyXCIsIFwic2t5Ymx1ZVwiLFxuICAgIFwic2xhdGVibHVlXCIsIFwic2xhdGVncmF5XCIsIFwic25vd1wiLCBcInNwcmluZ2dyZWVuXCIsIFwic3RlZWxibHVlXCIsIFwidGFuXCIsXG4gICAgXCJ0ZWFsXCIsIFwidGhpc3RsZVwiLCBcInRvbWF0b1wiLCBcInR1cnF1b2lzZVwiLCBcInZpb2xldFwiLCBcIndoZWF0XCIsIFwid2hpdGVcIixcbiAgICBcIndoaXRlc21va2VcIiwgXCJ5ZWxsb3dcIiwgXCJ5ZWxsb3dncmVlblwiXG5dLm1hcChuYW1lID0+ICh7IHR5cGU6IFwiY29uc3RhbnRcIiwgbGFiZWw6IG5hbWUgfSkpKTtcbmNvbnN0IHRhZ3MgPSAvKkBfX1BVUkVfXyovW1xuICAgIFwiYVwiLCBcImFiYnJcIiwgXCJhZGRyZXNzXCIsIFwiYXJ0aWNsZVwiLCBcImFzaWRlXCIsIFwiYlwiLCBcImJkaVwiLCBcImJkb1wiLCBcImJsb2NrcXVvdGVcIiwgXCJib2R5XCIsXG4gICAgXCJiclwiLCBcImJ1dHRvblwiLCBcImNhbnZhc1wiLCBcImNhcHRpb25cIiwgXCJjaXRlXCIsIFwiY29kZVwiLCBcImNvbFwiLCBcImNvbGdyb3VwXCIsIFwiZGRcIiwgXCJkZWxcIixcbiAgICBcImRldGFpbHNcIiwgXCJkZm5cIiwgXCJkaWFsb2dcIiwgXCJkaXZcIiwgXCJkbFwiLCBcImR0XCIsIFwiZW1cIiwgXCJmaWdjYXB0aW9uXCIsIFwiZmlndXJlXCIsIFwiZm9vdGVyXCIsXG4gICAgXCJmb3JtXCIsIFwiaGVhZGVyXCIsIFwiaGdyb3VwXCIsIFwiaDFcIiwgXCJoMlwiLCBcImgzXCIsIFwiaDRcIiwgXCJoNVwiLCBcImg2XCIsIFwiaHJcIiwgXCJodG1sXCIsIFwiaVwiLCBcImlmcmFtZVwiLFxuICAgIFwiaW1nXCIsIFwiaW5wdXRcIiwgXCJpbnNcIiwgXCJrYmRcIiwgXCJsYWJlbFwiLCBcImxlZ2VuZFwiLCBcImxpXCIsIFwibWFpblwiLCBcIm1ldGVyXCIsIFwibmF2XCIsIFwib2xcIiwgXCJvdXRwdXRcIixcbiAgICBcInBcIiwgXCJwcmVcIiwgXCJydWJ5XCIsIFwic2VjdGlvblwiLCBcInNlbGVjdFwiLCBcInNtYWxsXCIsIFwic291cmNlXCIsIFwic3BhblwiLCBcInN0cm9uZ1wiLCBcInN1YlwiLCBcInN1bW1hcnlcIixcbiAgICBcInN1cFwiLCBcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0ZFwiLCBcInRlbXBsYXRlXCIsIFwidGV4dGFyZWFcIiwgXCJ0Zm9vdFwiLCBcInRoXCIsIFwidGhlYWRcIiwgXCJ0clwiLCBcInVcIiwgXCJ1bFwiXG5dLm1hcChuYW1lID0+ICh7IHR5cGU6IFwidHlwZVwiLCBsYWJlbDogbmFtZSB9KSk7XG5jb25zdCBhdFJ1bGVzID0gLypAX19QVVJFX18qL1tcbiAgICBcIkBjaGFyc2V0XCIsIFwiQGNvbG9yLXByb2ZpbGVcIiwgXCJAY29udGFpbmVyXCIsIFwiQGNvdW50ZXItc3R5bGVcIiwgXCJAZm9udC1mYWNlXCIsIFwiQGZvbnQtZmVhdHVyZS12YWx1ZXNcIixcbiAgICBcIkBmb250LXBhbGV0dGUtdmFsdWVzXCIsIFwiQGltcG9ydFwiLCBcIkBrZXlmcmFtZXNcIiwgXCJAbGF5ZXJcIiwgXCJAbWVkaWFcIiwgXCJAbmFtZXNwYWNlXCIsIFwiQHBhZ2VcIixcbiAgICBcIkBwb3NpdGlvbi10cnlcIiwgXCJAcHJvcGVydHlcIiwgXCJAc2NvcGVcIiwgXCJAc3RhcnRpbmctc3R5bGVcIiwgXCJAc3VwcG9ydHNcIiwgXCJAdmlldy10cmFuc2l0aW9uXCJcbl0ubWFwKGxhYmVsID0+ICh7IHR5cGU6IFwia2V5d29yZFwiLCBsYWJlbCB9KSk7XG5jb25zdCBpZGVudGlmaWVyID0gL14oXFx3W1xcdy1dKnwtXFx3W1xcdy1dKnwpJC8sIHZhcmlhYmxlID0gL14tKC1bXFx3LV0qKT8kLztcbmZ1bmN0aW9uIGlzVmFyQXJnKG5vZGUsIGRvYykge1xuICAgIHZhciBfYTtcbiAgICBpZiAobm9kZS5uYW1lID09IFwiKFwiIHx8IG5vZGUudHlwZS5pc0Vycm9yKVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQgfHwgbm9kZTtcbiAgICBpZiAobm9kZS5uYW1lICE9IFwiQXJnTGlzdFwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNhbGxlZSA9IChfYSA9IG5vZGUucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmlyc3RDaGlsZDtcbiAgICBpZiAoKGNhbGxlZSA9PT0gbnVsbCB8fCBjYWxsZWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxlZS5uYW1lKSAhPSBcIkNhbGxlZVwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGRvYy5zbGljZVN0cmluZyhjYWxsZWUuZnJvbSwgY2FsbGVlLnRvKSA9PSBcInZhclwiO1xufVxuY29uc3QgVmFyaWFibGVzQnlOb2RlID0gLypAX19QVVJFX18qL25ldyBOb2RlV2Vha01hcCgpO1xuY29uc3QgZGVjbFNlbGVjdG9yID0gW1wiRGVjbGFyYXRpb25cIl07XG5mdW5jdGlvbiBhc3RUb3Aobm9kZSkge1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7Oykge1xuICAgICAgICBpZiAoY3VyLnR5cGUuaXNUb3ApXG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICBpZiAoIShjdXIgPSBjdXIucGFyZW50KSlcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhcmlhYmxlTmFtZXMoZG9jLCBub2RlLCBpc1ZhcmlhYmxlKSB7XG4gICAgaWYgKG5vZGUudG8gLSBub2RlLmZyb20gPiA0MDk2KSB7XG4gICAgICAgIGxldCBrbm93biA9IFZhcmlhYmxlc0J5Tm9kZS5nZXQobm9kZSk7XG4gICAgICAgIGlmIChrbm93bilcbiAgICAgICAgICAgIHJldHVybiBrbm93bjtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBzZWVuID0gbmV3IFNldCwgY3Vyc29yID0gbm9kZS5jdXJzb3IoSXRlck1vZGUuSW5jbHVkZUFub255bW91cyk7XG4gICAgICAgIGlmIChjdXJzb3IuZmlyc3RDaGlsZCgpKVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG9wdGlvbiBvZiB2YXJpYWJsZU5hbWVzKGRvYywgY3Vyc29yLm5vZGUsIGlzVmFyaWFibGUpKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG9wdGlvbi5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKG9wdGlvbi5sYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChjdXJzb3IubmV4dFNpYmxpbmcoKSk7XG4gICAgICAgIFZhcmlhYmxlc0J5Tm9kZS5zZXQobm9kZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgc2VlbiA9IG5ldyBTZXQ7XG4gICAgICAgIG5vZGUuY3Vyc29yKCkuaXRlcmF0ZShub2RlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChpc1ZhcmlhYmxlKG5vZGUpICYmIG5vZGUubWF0Y2hDb250ZXh0KGRlY2xTZWxlY3RvcikgJiYgKChfYSA9IG5vZGUubm9kZS5uZXh0U2libGluZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUpID09IFwiOlwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBkb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGxhYmVsOiBuYW1lLCB0eXBlOiBcInZhcmlhYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbkNyZWF0ZSBhIGNvbXBsZXRpb24gc291cmNlIGZvciBhIENTUyBkaWFsZWN0LCBwcm92aWRpbmcgYVxucHJlZGljYXRlIGZvciBkZXRlcm1pbmluZyB3aGF0IGtpbmQgb2Ygc3ludGF4IG5vZGUgY2FuIGFjdCBhcyBhXG5jb21wbGV0YWJsZSB2YXJpYWJsZS4gVGhpcyBpcyB1c2VkIGJ5IGxhbmd1YWdlIG1vZGVzIGxpa2UgU2FzcyBhbmRcbkxlc3MgdG8gcmV1c2UgdGhpcyBwYWNrYWdlJ3MgY29tcGxldGlvbiBsb2dpYy5cbiovXG5jb25zdCBkZWZpbmVDU1NDb21wbGV0aW9uU291cmNlID0gKGlzVmFyaWFibGUpID0+IGNvbnRleHQgPT4ge1xuICAgIGxldCB7IHN0YXRlLCBwb3MgfSA9IGNvbnRleHQsIG5vZGUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zLCAtMSk7XG4gICAgbGV0IGlzRGFzaCA9IG5vZGUudHlwZS5pc0Vycm9yICYmIG5vZGUuZnJvbSA9PSBub2RlLnRvIC0gMSAmJiBzdGF0ZS5kb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKSA9PSBcIi1cIjtcbiAgICBpZiAobm9kZS5uYW1lID09IFwiUHJvcGVydHlOYW1lXCIgfHxcbiAgICAgICAgKGlzRGFzaCB8fCBub2RlLm5hbWUgPT0gXCJUYWdOYW1lXCIpICYmIC9eKEJsb2NrfFN0eWxlcykkLy50ZXN0KG5vZGUucmVzb2x2ZShub2RlLnRvKS5uYW1lKSlcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiBwcm9wZXJ0aWVzKCksIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIlZhbHVlTmFtZVwiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBub2RlLmZyb20sIG9wdGlvbnM6IHZhbHVlcywgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICBpZiAobm9kZS5uYW1lID09IFwiUHNldWRvQ2xhc3NOYW1lXCIpXG4gICAgICAgIHJldHVybiB7IGZyb206IG5vZGUuZnJvbSwgb3B0aW9uczogcHNldWRvQ2xhc3NlcywgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICBpZiAoaXNWYXJpYWJsZShub2RlKSB8fCAoY29udGV4dC5leHBsaWNpdCB8fCBpc0Rhc2gpICYmIGlzVmFyQXJnKG5vZGUsIHN0YXRlLmRvYykpXG4gICAgICAgIHJldHVybiB7IGZyb206IGlzVmFyaWFibGUobm9kZSkgfHwgaXNEYXNoID8gbm9kZS5mcm9tIDogcG9zLFxuICAgICAgICAgICAgb3B0aW9uczogdmFyaWFibGVOYW1lcyhzdGF0ZS5kb2MsIGFzdFRvcChub2RlKSwgaXNWYXJpYWJsZSksXG4gICAgICAgICAgICB2YWxpZEZvcjogdmFyaWFibGUgfTtcbiAgICBpZiAobm9kZS5uYW1lID09IFwiVGFnTmFtZVwiKSB7XG4gICAgICAgIGZvciAobGV0IHsgcGFyZW50IH0gPSBub2RlOyBwYXJlbnQ7IHBhcmVudCA9IHBhcmVudC5wYXJlbnQpXG4gICAgICAgICAgICBpZiAocGFyZW50Lm5hbWUgPT0gXCJCbG9ja1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGZyb206IG5vZGUuZnJvbSwgb3B0aW9uczogcHJvcGVydGllcygpLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgICAgICByZXR1cm4geyBmcm9tOiBub2RlLmZyb20sIG9wdGlvbnM6IHRhZ3MsIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgfVxuICAgIGlmIChub2RlLm5hbWUgPT0gXCJBdEtleXdvcmRcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiBhdFJ1bGVzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmICghY29udGV4dC5leHBsaWNpdClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGFib3ZlID0gbm9kZS5yZXNvbHZlKHBvcyksIGJlZm9yZSA9IGFib3ZlLmNoaWxkQmVmb3JlKHBvcyk7XG4gICAgaWYgKGJlZm9yZSAmJiBiZWZvcmUubmFtZSA9PSBcIjpcIiAmJiBhYm92ZS5uYW1lID09IFwiUHNldWRvQ2xhc3NTZWxlY3RvclwiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIG9wdGlvbnM6IHBzZXVkb0NsYXNzZXMsIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgaWYgKGJlZm9yZSAmJiBiZWZvcmUubmFtZSA9PSBcIjpcIiAmJiBhYm92ZS5uYW1lID09IFwiRGVjbGFyYXRpb25cIiB8fCBhYm92ZS5uYW1lID09IFwiQXJnTGlzdFwiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIG9wdGlvbnM6IHZhbHVlcywgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICBpZiAoYWJvdmUubmFtZSA9PSBcIkJsb2NrXCIgfHwgYWJvdmUubmFtZSA9PSBcIlN0eWxlc1wiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIG9wdGlvbnM6IHByb3BlcnRpZXMoKSwgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICByZXR1cm4gbnVsbDtcbn07XG4vKipcbkNTUyBwcm9wZXJ0eSwgdmFyaWFibGUsIGFuZCB2YWx1ZSBrZXl3b3JkIGNvbXBsZXRpb24gc291cmNlLlxuKi9cbmNvbnN0IGNzc0NvbXBsZXRpb25Tb3VyY2UgPSAvKkBfX1BVUkVfXyovZGVmaW5lQ1NTQ29tcGxldGlvblNvdXJjZShuID0+IG4ubmFtZSA9PSBcIlZhcmlhYmxlTmFtZVwiKTtcblxuLyoqXG5BIGxhbmd1YWdlIHByb3ZpZGVyIGJhc2VkIG9uIHRoZSBbTGV6ZXIgQ1NTXG5wYXJzZXJdKGh0dHBzOi8vZ2l0aHViLmNvbS9sZXplci1wYXJzZXIvY3NzKSwgZXh0ZW5kZWQgd2l0aFxuaGlnaGxpZ2h0aW5nIGFuZCBpbmRlbnRhdGlvbiBpbmZvcm1hdGlvbi5cbiovXG5jb25zdCBjc3NMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9MUkxhbmd1YWdlLmRlZmluZSh7XG4gICAgbmFtZTogXCJjc3NcIixcbiAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIERlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KClcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLypAX19QVVJFX18qL2ZvbGROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIFwiQmxvY2sgS2V5ZnJhbWVMaXN0XCI6IGZvbGRJbnNpZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcIi8qXCIsIGNsb3NlOiBcIiovXCIgfSB9LFxuICAgICAgICBpbmRlbnRPbklucHV0OiAvXlxccypcXH0kLyxcbiAgICAgICAgd29yZENoYXJzOiBcIi1cIlxuICAgIH1cbn0pO1xuLyoqXG5MYW5ndWFnZSBzdXBwb3J0IGZvciBDU1MuXG4qL1xuZnVuY3Rpb24gY3NzKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KGNzc0xhbmd1YWdlLCBjc3NMYW5ndWFnZS5kYXRhLm9mKHsgYXV0b2NvbXBsZXRlOiBjc3NDb21wbGV0aW9uU291cmNlIH0pKTtcbn1cblxuZXhwb3J0IHsgY3NzLCBjc3NDb21wbGV0aW9uU291cmNlLCBjc3NMYW5ndWFnZSwgZGVmaW5lQ1NTQ29tcGxldGlvblNvdXJjZSB9O1xuIiwgImltcG9ydCB7IENvbnRleHRUcmFja2VyLCBFeHRlcm5hbFRva2VuaXplciwgTFJQYXJzZXIgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5pbXBvcnQgeyBwYXJzZU1peGVkIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3Qgc2NyaXB0VGV4dCA9IDU0LFxuICBTdGFydENsb3NlU2NyaXB0VGFnID0gMSxcbiAgc3R5bGVUZXh0ID0gNTUsXG4gIFN0YXJ0Q2xvc2VTdHlsZVRhZyA9IDIsXG4gIHRleHRhcmVhVGV4dCA9IDU2LFxuICBTdGFydENsb3NlVGV4dGFyZWFUYWcgPSAzLFxuICBFbmRUYWcgPSA0LFxuICBTZWxmQ2xvc2luZ0VuZFRhZyA9IDUsXG4gIFN0YXJ0VGFnID0gNixcbiAgU3RhcnRTY3JpcHRUYWcgPSA3LFxuICBTdGFydFN0eWxlVGFnID0gOCxcbiAgU3RhcnRUZXh0YXJlYVRhZyA9IDksXG4gIFN0YXJ0U2VsZkNsb3NpbmdUYWcgPSAxMCxcbiAgU3RhcnRDbG9zZVRhZyA9IDExLFxuICBOb01hdGNoU3RhcnRDbG9zZVRhZyA9IDEyLFxuICBNaXNtYXRjaGVkU3RhcnRDbG9zZVRhZyA9IDEzLFxuICBtaXNzaW5nQ2xvc2VUYWcgPSA1NyxcbiAgSW5jb21wbGV0ZUNsb3NlVGFnID0gMTQsXG4gIGNvbW1lbnRDb250ZW50JDEgPSA1OCxcbiAgRWxlbWVudCA9IDIwLFxuICBUYWdOYW1lID0gMjIsXG4gIEF0dHJpYnV0ZSA9IDIzLFxuICBBdHRyaWJ1dGVOYW1lID0gMjQsXG4gIEF0dHJpYnV0ZVZhbHVlID0gMjYsXG4gIFVucXVvdGVkQXR0cmlidXRlVmFsdWUgPSAyNyxcbiAgU2NyaXB0VGV4dCA9IDI4LFxuICBTdHlsZVRleHQgPSAzMSxcbiAgVGV4dGFyZWFUZXh0ID0gMzQsXG4gIE9wZW5UYWcgPSAzNixcbiAgQ2xvc2VUYWcgPSAzNyxcbiAgRGlhbGVjdF9ub01hdGNoID0gMCxcbiAgRGlhbGVjdF9zZWxmQ2xvc2luZyA9IDE7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBIVE1MLiAqL1xuXG5jb25zdCBzZWxmQ2xvc2VycyA9IHtcbiAgYXJlYTogdHJ1ZSwgYmFzZTogdHJ1ZSwgYnI6IHRydWUsIGNvbDogdHJ1ZSwgY29tbWFuZDogdHJ1ZSxcbiAgZW1iZWQ6IHRydWUsIGZyYW1lOiB0cnVlLCBocjogdHJ1ZSwgaW1nOiB0cnVlLCBpbnB1dDogdHJ1ZSxcbiAga2V5Z2VuOiB0cnVlLCBsaW5rOiB0cnVlLCBtZXRhOiB0cnVlLCBwYXJhbTogdHJ1ZSwgc291cmNlOiB0cnVlLFxuICB0cmFjazogdHJ1ZSwgd2JyOiB0cnVlLCBtZW51aXRlbTogdHJ1ZVxufTtcblxuY29uc3QgaW1wbGljaXRseUNsb3NlZCA9IHtcbiAgZGQ6IHRydWUsIGxpOiB0cnVlLCBvcHRncm91cDogdHJ1ZSwgb3B0aW9uOiB0cnVlLCBwOiB0cnVlLFxuICBycDogdHJ1ZSwgcnQ6IHRydWUsIHRib2R5OiB0cnVlLCB0ZDogdHJ1ZSwgdGZvb3Q6IHRydWUsXG4gIHRoOiB0cnVlLCB0cjogdHJ1ZVxufTtcblxuY29uc3QgY2xvc2VPbk9wZW4gPSB7XG4gIGRkOiB7ZGQ6IHRydWUsIGR0OiB0cnVlfSxcbiAgZHQ6IHtkZDogdHJ1ZSwgZHQ6IHRydWV9LFxuICBsaToge2xpOiB0cnVlfSxcbiAgb3B0aW9uOiB7b3B0aW9uOiB0cnVlLCBvcHRncm91cDogdHJ1ZX0sXG4gIG9wdGdyb3VwOiB7b3B0Z3JvdXA6IHRydWV9LFxuICBwOiB7XG4gICAgYWRkcmVzczogdHJ1ZSwgYXJ0aWNsZTogdHJ1ZSwgYXNpZGU6IHRydWUsIGJsb2NrcXVvdGU6IHRydWUsIGRpcjogdHJ1ZSxcbiAgICBkaXY6IHRydWUsIGRsOiB0cnVlLCBmaWVsZHNldDogdHJ1ZSwgZm9vdGVyOiB0cnVlLCBmb3JtOiB0cnVlLFxuICAgIGgxOiB0cnVlLCBoMjogdHJ1ZSwgaDM6IHRydWUsIGg0OiB0cnVlLCBoNTogdHJ1ZSwgaDY6IHRydWUsXG4gICAgaGVhZGVyOiB0cnVlLCBoZ3JvdXA6IHRydWUsIGhyOiB0cnVlLCBtZW51OiB0cnVlLCBuYXY6IHRydWUsIG9sOiB0cnVlLFxuICAgIHA6IHRydWUsIHByZTogdHJ1ZSwgc2VjdGlvbjogdHJ1ZSwgdGFibGU6IHRydWUsIHVsOiB0cnVlXG4gIH0sXG4gIHJwOiB7cnA6IHRydWUsIHJ0OiB0cnVlfSxcbiAgcnQ6IHtycDogdHJ1ZSwgcnQ6IHRydWV9LFxuICB0Ym9keToge3Rib2R5OiB0cnVlLCB0Zm9vdDogdHJ1ZX0sXG4gIHRkOiB7dGQ6IHRydWUsIHRoOiB0cnVlfSxcbiAgdGZvb3Q6IHt0Ym9keTogdHJ1ZX0sXG4gIHRoOiB7dGQ6IHRydWUsIHRoOiB0cnVlfSxcbiAgdGhlYWQ6IHt0Ym9keTogdHJ1ZSwgdGZvb3Q6IHRydWV9LFxuICB0cjoge3RyOiB0cnVlfVxufTtcblxuZnVuY3Rpb24gbmFtZUNoYXIoY2gpIHtcbiAgcmV0dXJuIGNoID09IDQ1IHx8IGNoID09IDQ2IHx8IGNoID09IDU4IHx8IGNoID49IDY1ICYmIGNoIDw9IDkwIHx8IGNoID09IDk1IHx8IGNoID49IDk3ICYmIGNoIDw9IDEyMiB8fCBjaCA+PSAxNjFcbn1cblxuZnVuY3Rpb24gaXNTcGFjZShjaCkge1xuICByZXR1cm4gY2ggPT0gOSB8fCBjaCA9PSAxMCB8fCBjaCA9PSAxMyB8fCBjaCA9PSAzMlxufVxuXG5sZXQgY2FjaGVkTmFtZSA9IG51bGwsIGNhY2hlZElucHV0ID0gbnVsbCwgY2FjaGVkUG9zID0gMDtcbmZ1bmN0aW9uIHRhZ05hbWVBZnRlcihpbnB1dCwgb2Zmc2V0KSB7XG4gIGxldCBwb3MgPSBpbnB1dC5wb3MgKyBvZmZzZXQ7XG4gIGlmIChjYWNoZWRQb3MgPT0gcG9zICYmIGNhY2hlZElucHV0ID09IGlucHV0KSByZXR1cm4gY2FjaGVkTmFtZVxuICBsZXQgbmV4dCA9IGlucHV0LnBlZWsob2Zmc2V0KTtcbiAgd2hpbGUgKGlzU3BhY2UobmV4dCkpIG5leHQgPSBpbnB1dC5wZWVrKCsrb2Zmc2V0KTtcbiAgbGV0IG5hbWUgPSBcIlwiO1xuICBmb3IgKDs7KSB7XG4gICAgaWYgKCFuYW1lQ2hhcihuZXh0KSkgYnJlYWtcbiAgICBuYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCk7XG4gICAgbmV4dCA9IGlucHV0LnBlZWsoKytvZmZzZXQpO1xuICB9XG4gIC8vIFVuZGVmaW5lZCB0byBzaWduYWwgdGhlcmUncyBhIDw/IG9yIDwhLCBudWxsIGZvciBqdXN0IG1pc3NpbmdcbiAgY2FjaGVkSW5wdXQgPSBpbnB1dDsgY2FjaGVkUG9zID0gcG9zO1xuICByZXR1cm4gY2FjaGVkTmFtZSA9IG5hbWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOiBuZXh0ID09IHF1ZXN0aW9uIHx8IG5leHQgPT0gYmFuZyA/IHVuZGVmaW5lZCA6IG51bGxcbn1cblxuY29uc3QgbGVzc1RoYW4gPSA2MCwgZ3JlYXRlclRoYW4gPSA2Miwgc2xhc2ggPSA0NywgcXVlc3Rpb24gPSA2MywgYmFuZyA9IDMzLCBkYXNoID0gNDU7XG5cbmZ1bmN0aW9uIEVsZW1lbnRDb250ZXh0KG5hbWUsIHBhcmVudCkge1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbn1cblxuY29uc3Qgc3RhcnRUYWdUZXJtcyA9IFtTdGFydFRhZywgU3RhcnRTZWxmQ2xvc2luZ1RhZywgU3RhcnRTY3JpcHRUYWcsIFN0YXJ0U3R5bGVUYWcsIFN0YXJ0VGV4dGFyZWFUYWddO1xuXG5jb25zdCBlbGVtZW50Q29udGV4dCA9IG5ldyBDb250ZXh0VHJhY2tlcih7XG4gIHN0YXJ0OiBudWxsLFxuICBzaGlmdChjb250ZXh0LCB0ZXJtLCBzdGFjaywgaW5wdXQpIHtcbiAgICByZXR1cm4gc3RhcnRUYWdUZXJtcy5pbmRleE9mKHRlcm0pID4gLTEgPyBuZXcgRWxlbWVudENvbnRleHQodGFnTmFtZUFmdGVyKGlucHV0LCAxKSB8fCBcIlwiLCBjb250ZXh0KSA6IGNvbnRleHRcbiAgfSxcbiAgcmVkdWNlKGNvbnRleHQsIHRlcm0pIHtcbiAgICByZXR1cm4gdGVybSA9PSBFbGVtZW50ICYmIGNvbnRleHQgPyBjb250ZXh0LnBhcmVudCA6IGNvbnRleHRcbiAgfSxcbiAgcmV1c2UoY29udGV4dCwgbm9kZSwgc3RhY2ssIGlucHV0KSB7XG4gICAgbGV0IHR5cGUgPSBub2RlLnR5cGUuaWQ7XG4gICAgcmV0dXJuIHR5cGUgPT0gU3RhcnRUYWcgfHwgdHlwZSA9PSBPcGVuVGFnXG4gICAgICA/IG5ldyBFbGVtZW50Q29udGV4dCh0YWdOYW1lQWZ0ZXIoaW5wdXQsIDEpIHx8IFwiXCIsIGNvbnRleHQpIDogY29udGV4dFxuICB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcblxuY29uc3QgdGFnU3RhcnQgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCAhPSBsZXNzVGhhbikge1xuICAgIC8vIEVuZCBvZiBmaWxlLCBjbG9zZSBhbnkgb3BlbiB0YWdzXG4gICAgaWYgKGlucHV0Lm5leHQgPCAwICYmIHN0YWNrLmNvbnRleHQpIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZyk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaW5wdXQuYWR2YW5jZSgpO1xuICBsZXQgY2xvc2UgPSBpbnB1dC5uZXh0ID09IHNsYXNoO1xuICBpZiAoY2xvc2UpIGlucHV0LmFkdmFuY2UoKTtcbiAgbGV0IG5hbWUgPSB0YWdOYW1lQWZ0ZXIoaW5wdXQsIDApO1xuICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgaWYgKCFuYW1lKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oY2xvc2UgPyBJbmNvbXBsZXRlQ2xvc2VUYWcgOiBTdGFydFRhZylcblxuICBsZXQgcGFyZW50ID0gc3RhY2suY29udGV4dCA/IHN0YWNrLmNvbnRleHQubmFtZSA6IG51bGw7XG4gIGlmIChjbG9zZSkge1xuICAgIGlmIChuYW1lID09IHBhcmVudCkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0Q2xvc2VUYWcpXG4gICAgaWYgKHBhcmVudCAmJiBpbXBsaWNpdGx5Q2xvc2VkW3BhcmVudF0pIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihtaXNzaW5nQ2xvc2VUYWcsIC0yKVxuICAgIGlmIChzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X25vTWF0Y2gpKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oTm9NYXRjaFN0YXJ0Q2xvc2VUYWcpXG4gICAgZm9yIChsZXQgY3ggPSBzdGFjay5jb250ZXh0OyBjeDsgY3ggPSBjeC5wYXJlbnQpIGlmIChjeC5uYW1lID09IG5hbWUpIHJldHVyblxuICAgIGlucHV0LmFjY2VwdFRva2VuKE1pc21hdGNoZWRTdGFydENsb3NlVGFnKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAobmFtZSA9PSBcInNjcmlwdFwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTY3JpcHRUYWcpXG4gICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTdHlsZVRhZylcbiAgICBpZiAobmFtZSA9PSBcInRleHRhcmVhXCIpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFRleHRhcmVhVGFnKVxuICAgIGlmIChzZWxmQ2xvc2Vycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0U2VsZkNsb3NpbmdUYWcpXG4gICAgaWYgKHBhcmVudCAmJiBjbG9zZU9uT3BlbltwYXJlbnRdICYmIGNsb3NlT25PcGVuW3BhcmVudF1bbmFtZV0pIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZywgLTEpO1xuICAgIGVsc2UgaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRUYWcpO1xuICB9XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5jb25zdCBjb21tZW50Q29udGVudCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGZvciAobGV0IGRhc2hlcyA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKGlucHV0Lm5leHQgPCAwKSB7XG4gICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4oY29tbWVudENvbnRlbnQkMSk7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAoaW5wdXQubmV4dCA9PSBkYXNoKSB7XG4gICAgICBkYXNoZXMrKztcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4gJiYgZGFzaGVzID49IDIpIHtcbiAgICAgIGlmIChpID49IDMpIGlucHV0LmFjY2VwdFRva2VuKGNvbW1lbnRDb250ZW50JDEsIC0yKTtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhc2hlcyA9IDA7XG4gICAgfVxuICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGluRm9yZWlnbkVsZW1lbnQoY29udGV4dCkge1xuICBmb3IgKDsgY29udGV4dDsgY29udGV4dCA9IGNvbnRleHQucGFyZW50KVxuICAgIGlmIChjb250ZXh0Lm5hbWUgPT0gXCJzdmdcIiB8fCBjb250ZXh0Lm5hbWUgPT0gXCJtYXRoXCIpIHJldHVybiB0cnVlXG4gIHJldHVybiBmYWxzZVxufVxuXG5jb25zdCBlbmRUYWcgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCA9PSBzbGFzaCAmJiBpbnB1dC5wZWVrKDEpID09IGdyZWF0ZXJUaGFuKSB7XG4gICAgbGV0IHNlbGZDbG9zaW5nID0gc3RhY2suZGlhbGVjdEVuYWJsZWQoRGlhbGVjdF9zZWxmQ2xvc2luZykgfHwgaW5Gb3JlaWduRWxlbWVudChzdGFjay5jb250ZXh0KTtcbiAgICBpbnB1dC5hY2NlcHRUb2tlbihzZWxmQ2xvc2luZyA/IFNlbGZDbG9zaW5nRW5kVGFnIDogRW5kVGFnLCAyKTtcbiAgfSBlbHNlIGlmIChpbnB1dC5uZXh0ID09IGdyZWF0ZXJUaGFuKSB7XG4gICAgaW5wdXQuYWNjZXB0VG9rZW4oRW5kVGFnLCAxKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGNvbnRlbnRUb2tlbml6ZXIodGFnLCB0ZXh0VG9rZW4sIGVuZFRva2VuKSB7XG4gIGxldCBsYXN0U3RhdGUgPSAyICsgdGFnLmxlbmd0aDtcbiAgcmV0dXJuIG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gICAgLy8gc3RhdGUgbWVhbnM6XG4gICAgLy8gLSAwIG5vdGhpbmcgbWF0Y2hlZFxuICAgIC8vIC0gMSAnPCcgbWF0Y2hlZFxuICAgIC8vIC0gMiAnPC8nICsgcG9zc2libHkgd2hpdGVzcGFjZSBtYXRjaGVkXG4gICAgLy8gLSAzLSgxK3RhZy5sZW5ndGgpIHBhcnQgb2YgdGhlIHRhZyBtYXRjaGVkXG4gICAgLy8gLSBsYXN0U3RhdGUgd2hvbGUgdGFnICsgcG9zc2libHkgd2hpdGVzcGFjZSBtYXRjaGVkXG4gICAgZm9yIChsZXQgc3RhdGUgPSAwLCBtYXRjaGVkTGVuID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICAgIGlmIChpbnB1dC5uZXh0IDwgMCkge1xuICAgICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4odGV4dFRva2VuKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZSA9PSAwICYmIGlucHV0Lm5leHQgPT0gbGVzc1RoYW4gfHxcbiAgICAgICAgICBzdGF0ZSA9PSAxICYmIGlucHV0Lm5leHQgPT0gc2xhc2ggfHxcbiAgICAgICAgICBzdGF0ZSA+PSAyICYmIHN0YXRlIDwgbGFzdFN0YXRlICYmIGlucHV0Lm5leHQgPT0gdGFnLmNoYXJDb2RlQXQoc3RhdGUgLSAyKSkge1xuICAgICAgICBzdGF0ZSsrO1xuICAgICAgICBtYXRjaGVkTGVuKys7XG4gICAgICB9IGVsc2UgaWYgKChzdGF0ZSA9PSAyIHx8IHN0YXRlID09IGxhc3RTdGF0ZSkgJiYgaXNTcGFjZShpbnB1dC5uZXh0KSkge1xuICAgICAgICBtYXRjaGVkTGVuKys7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IGxhc3RTdGF0ZSAmJiBpbnB1dC5uZXh0ID09IGdyZWF0ZXJUaGFuKSB7XG4gICAgICAgIGlmIChpID4gbWF0Y2hlZExlbilcbiAgICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4sIC1tYXRjaGVkTGVuKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKGVuZFRva2VuLCAtKG1hdGNoZWRMZW4gLSAyKSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9IGVsc2UgaWYgKChpbnB1dC5uZXh0ID09IDEwIC8qICdcXG4nICovIHx8IGlucHV0Lm5leHQgPT0gMTMgLyogJ1xccicgKi8pICYmIGkpIHtcbiAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGV4dFRva2VuLCAxKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gbWF0Y2hlZExlbiA9IDA7XG4gICAgICB9XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfVxuICB9KVxufVxuXG5jb25zdCBzY3JpcHRUb2tlbnMgPSBjb250ZW50VG9rZW5pemVyKFwic2NyaXB0XCIsIHNjcmlwdFRleHQsIFN0YXJ0Q2xvc2VTY3JpcHRUYWcpO1xuXG5jb25zdCBzdHlsZVRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJzdHlsZVwiLCBzdHlsZVRleHQsIFN0YXJ0Q2xvc2VTdHlsZVRhZyk7XG5cbmNvbnN0IHRleHRhcmVhVG9rZW5zID0gY29udGVudFRva2VuaXplcihcInRleHRhcmVhXCIsIHRleHRhcmVhVGV4dCwgU3RhcnRDbG9zZVRleHRhcmVhVGFnKTtcblxuY29uc3QgaHRtbEhpZ2hsaWdodGluZyA9IHN0eWxlVGFncyh7XG4gIFwiVGV4dCBSYXdUZXh0XCI6IHRhZ3MuY29udGVudCxcbiAgXCJTdGFydFRhZyBTdGFydENsb3NlVGFnIFNlbGZDbG9zaW5nRW5kVGFnIEVuZFRhZ1wiOiB0YWdzLmFuZ2xlQnJhY2tldCxcbiAgVGFnTmFtZTogdGFncy50YWdOYW1lLFxuICBcIk1pc21hdGNoZWRDbG9zZVRhZy9UYWdOYW1lXCI6IFt0YWdzLnRhZ05hbWUsICB0YWdzLmludmFsaWRdLFxuICBBdHRyaWJ1dGVOYW1lOiB0YWdzLmF0dHJpYnV0ZU5hbWUsXG4gIFwiQXR0cmlidXRlVmFsdWUgVW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZVwiOiB0YWdzLmF0dHJpYnV0ZVZhbHVlLFxuICBJczogdGFncy5kZWZpbml0aW9uT3BlcmF0b3IsXG4gIFwiRW50aXR5UmVmZXJlbmNlIENoYXJhY3RlclJlZmVyZW5jZVwiOiB0YWdzLmNoYXJhY3RlcixcbiAgQ29tbWVudDogdGFncy5ibG9ja0NvbW1lbnQsXG4gIFByb2Nlc3NpbmdJbnN0OiB0YWdzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbixcbiAgRG9jdHlwZURlY2w6IHRhZ3MuZG9jdW1lbnRNZXRhXG59KTtcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiLHhPVk8hck9PTyFXUSN0TycjQ3FPIV1RI3RPJyNDek8hYlEjdE8nI0N9TyFnUSN0TycjRFFPIWxRI3RPJyNEU08hcU9hTycjQ3BPIXxPYk8nI0NwTyNYT2RPJyNDcE8kZU8hck8nI0NwT09PYCcjQ3AnI0NwTyRsTyRmTycjRFRPJHRRI3RPJyNEVk8keVEjdE8nI0RXT09PYCcjRGsnI0RrT09PYCcjRFknI0RZUVZPIXJPT08lT1Emck8sNTldTyVaUSZyTyw1OWZPJWZRJnJPLDU5aU8lcVEmck8sNTlsTyV8USZyTyw1OW5PT09hJyNEXicjRF5PJlhPYU8nI0N4TyZkT2FPLDU5W09PT2InI0RfJyNEX08mbE9iTycjQ3tPJndPYk8sNTlbT09PZCcjRGAnI0RgTydQT2RPJyNET08nW09kTyw1OVtPT09gJyNEYScjRGFPJ2RPIXJPLDU5W08na1EjdE8nI0RST09PYCw1OVssNTlbT09PcCcjRGInI0RiTydwTyRmTyw1OW9PT09gLDU5byw1OW9PJ3hRI3xPLDU5cU8nfVEjfE8sNTlyT09PYC1FN1ctRTdXTyhTUSZyTycjQ3NPT1FXJyNEWicjRFpPKGJRJnJPMUcud09PT2ExRy53MUcud09PT2AxRy9ZMUcvWU8obVEmck8xRy9RT09PYjFHL1ExRy9RTyh4USZyTzFHL1RPT09kMUcvVDFHL1RPKVRRJnJPMUcvV09PT2AxRy9XMUcvV08pYFEmck8xRy9ZT09PYS1FN1stRTdbTylrUSN0TycjQ3lPT09gMUcudjFHLnZPT09iLUU3XS1FN11PKXBRI3RPJyNDfE9PT2QtRTdeLUU3Xk8pdVEjdE8nI0RQT09PYC1FN18tRTdfTyl6USN8Tyw1OW1PT09wLUU3YC1FN2BPT09gMUcvWjFHL1pPT09gMUcvXTFHL11PT09gMUcvXjFHL15PKlBRLFVPLDU5X09PUVctRTdYLUU3WE9PT2E3KyRjNyskY09PT2A3KyR0NyskdE9PT2I3KyRsNyskbE9PT2Q3KyRvNyskb09PT2A3KyRyNyskck8qW1EjfE8sNTllTyphUSN8Tyw1OWhPKmZRI3xPLDU5a09PT2AxRy9YMUcvWE8qa083W08nI0N2Typ8T01oTycjQ3ZPT1FXMUcueTFHLnlPT09gMUcvUDFHL1BPT09gMUcvUzFHL1NPT09gMUcvVjFHL1ZPT09PJyNEWycjRFtPK19PN1tPLDU5Yk9PUVcsNTliLDU5Yk9PT08nI0RdJyNEXU8rcE9NaE8sNTliT09PTy1FN1ktRTdZT09RVzFHLnwxRy58T09PTy1FN1otRTdaXCIsXG4gIHN0YXRlRGF0YTogXCIsXX5PIV5PU35PVVNPVlBPV1FPWFJPWVRPW11PXVtPXl5PYF5PYV5PYl5PY15PeF5Pe19PIWRaT35PZmFPfk9mYk9+T2ZjT35PZmRPfk9mZU9+TyFXZk9QbFAhWmxQfk8hWGlPUW9QIVpvUH5PIVlsT1JyUCFaclB+T1VTT1ZQT1dRT1hST1lUT1pxT1tdT11bT15eT2BeT2FeT2JeT2NeT3heTyFkWk9+TyFack9+UCNkTyFbc08hZXVPfk9mdk9+T2Z3T35PU3xPVH1PaHlPfk9TIVBPVH1PaHlPfk9TIVJPVH1PaHlPfk9TIVRPVH1PaHlPfk9TfU9UfU9oeU9+TyFXZk9QbFghWmxYfk9QIVdPIVohWE9+TyFYaU9Rb1ghWm9Yfk9RIVpPIVohWE9+TyFZbE9SclghWnJYfk9SIV1PIVohWE9+TyFaIVhPflAjZE9mIV9Pfk8hW3NPIWUhYU9+T1MhYk9+T1MhY09+T2khZE9TZ1hUZ1hoZ1h+T1MhZk9UIWdPaHlPfk9TIWhPVCFnT2h5T35PUyFpT1QhZ09oeU9+T1Mhak9UIWdPaHlPfk9TIWdPVCFnT2h5T35PZiFrT35PZiFsT35PZiFtT35PUyFuT35PayFxTyFgIW9PIWIhcE9+T1Mhck9+T1Mhc09+T1MhdE9+T2EhdU9iIXVPYyF1TyFgIXdPIWEhdU9+T2EheE9iIXhPYyF4TyFiIXdPIWMheE9+T2EhdU9iIXVPYyF1TyFgIXtPIWEhdU9+T2EheE9iIXhPYyF4TyFiIXtPIWMheE9+T1R+YmFjIWR4eyFkflwiLFxuICBnb3RvOiBcIiVwIWBQUFBQUFBQUFBQUFBQUFBQUFBQUCFhIWdQIW1QUCF5UCF8I1AjUyNZI10jYCNmI2kjbCNyI3ghYVAhYSFhUCRPJFUkbCRyJHglTyVVJVslYlBQUFBQUFBQJWhYXk9YYHBYVU9YYHBlemFiY2RleyFPIVEhUyFVUiFxIWRSaFVSIVhoWFZPWGBwUmtWUiFYa1hXT1hgcFJuV1IhWG5YWE9YYHBRclhSIVhwWFlPWGBwUWBPUnhgUXthUSFPYlEhUWNRIVNkUSFVZVohZXshTyFRIVMhVVEhdiFvUiF6IXZRIXkhcFIhfCF5UWdVUiFWZ1FqVlIhWWpRbVdSIVttUXBYUiFecFF0WlIhYHRTX09gVG9YcFwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIEVuZFRhZyBTZWxmQ2xvc2luZ0VuZFRhZyBTdGFydFRhZyBTdGFydFRhZyBTdGFydFRhZyBTdGFydFRhZyBTdGFydFRhZyBTdGFydENsb3NlVGFnIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBJbmNvbXBsZXRlQ2xvc2VUYWcgRG9jdW1lbnQgVGV4dCBFbnRpdHlSZWZlcmVuY2UgQ2hhcmFjdGVyUmVmZXJlbmNlIEludmFsaWRFbnRpdHkgRWxlbWVudCBPcGVuVGFnIFRhZ05hbWUgQXR0cmlidXRlIEF0dHJpYnV0ZU5hbWUgSXMgQXR0cmlidXRlVmFsdWUgVW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSBTY3JpcHRUZXh0IENsb3NlVGFnIE9wZW5UYWcgU3R5bGVUZXh0IENsb3NlVGFnIE9wZW5UYWcgVGV4dGFyZWFUZXh0IENsb3NlVGFnIE9wZW5UYWcgQ2xvc2VUYWcgU2VsZkNsb3NpbmdUYWcgQ29tbWVudCBQcm9jZXNzaW5nSW5zdCBNaXNtYXRjaGVkQ2xvc2VUYWcgQ2xvc2VUYWcgRG9jdHlwZURlY2xcIixcbiAgbWF4VGVybTogNjcsXG4gIGNvbnRleHQ6IGVsZW1lbnRDb250ZXh0LFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJjbG9zZWRCeVwiLCAtMTAsMSwyLDMsNyw4LDksMTAsMTEsMTIsMTMsXCJFbmRUYWdcIiw2LFwiRW5kVGFnIFNlbGZDbG9zaW5nRW5kVGFnXCIsLTQsMjEsMzAsMzMsMzYsXCJDbG9zZVRhZ1wiXSxcbiAgICBbXCJvcGVuZWRCeVwiLCA0LFwiU3RhcnRUYWcgU3RhcnRDbG9zZVRhZ1wiLDUsXCJTdGFydFRhZ1wiLC00LDI5LDMyLDM1LDM3LFwiT3BlblRhZ1wiXSxcbiAgICBbXCJncm91cFwiLCAtOSwxNCwxNywxOCwxOSwyMCwzOSw0MCw0MSw0MixcIkVudGl0eVwiLDE2LFwiRW50aXR5IFRleHRDb250ZW50XCIsLTMsMjgsMzEsMzQsXCJUZXh0Q29udGVudCBFbnRpdHlcIl0sXG4gICAgW1wiaXNvbGF0ZVwiLCAtMTEsMjEsMjksMzAsMzIsMzMsMzUsMzYsMzcsMzgsNDEsNDIsXCJsdHJcIiwtMywyNiwyNywzOSxcIlwiXVxuICBdLFxuICBwcm9wU291cmNlczogW2h0bWxIaWdobGlnaHRpbmddLFxuICBza2lwcGVkTm9kZXM6IFswXSxcbiAgcmVwZWF0Tm9kZUNvdW50OiA5LFxuICB0b2tlbkRhdGE6IFwiITxwIWFSIVlPWCRxWFksUVlaLFFaWyRxW10mWF1eLFFecCRxcHEsUXFyLV9yczNfc3YtX3Z3M313eEhZeH0tX30hT0h7IU8hUC1fIVAhUSRxIVEhWy1fIVshXU16IV0hXi1fIV4hXyEkUyFfIWAhO3ghYCFhJlghYSFjLV8hYyF9TXohfSNSLV8jUiNTTXojUyNUMWsjVCNvTXojbyNzLV8jcyRmJHEkZiVXLV8lVyVvTXolbyVwLV8lcCZhTXomYSZiLV8mYjFwTXoxcDRVLV80VTRkTXo0ZDRlLV80ZSRJU016JElTJElgLV8kSWAkSWJNeiRJYiRLaC1fJEtoJSN0TXolI3QmL3gtXyYveCZFdE16JkV0JkZWLV8mRlY7J1NNejsnUzs6aiEjfDs6ajs9YDNYPCVsPyZyLV8/JnI/QWhNej9BaD9CWSRxP0JZP01uTXo/TW5PJHEhWiR8Y2BQa1chYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxciRxcnMmfXN2JHF2dytQd3godHghXiRxIV4hXypWIV8hYSZYIWEjUyRxI1MjVCZYI1Q7J1MkcTsnUzs9YCt6PCVsTyRxIVImYlhgUCFhYCFjcE9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWHEnVVZgUCFjcE92Jn13eCdreCFeJn0hXiFfKFYhXzsnUyZ9OydTOz1gKG48JWxPJn1QJ3BUYFBPdidrdyFeJ2shXzsnUydrOydTOz1gKFA8JWxPJ2tQKFNQOz1gPCVsJ2twKFtTIWNwT3YoVng7J1MoVjsnUzs9YChoPCVsTyhWcChrUDs9YDwlbChWcShxUDs9YDwlbCZ9YSh7V2BQIWFgT3IodHJzJ2tzdih0dyFeKHQhXiFfKWUhXzsnUyh0OydTOz1gKlA8JWxPKHRgKWpUIWFgT3IpZXN2KWV3OydTKWU7J1M7PWApeTwlbE8pZWApfFA7PWA8JWwpZWEqU1A7PWA8JWwodCFRKl5WIWFgIWNwT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVEqdlA7PWA8JWwqViFSKnxQOz1gPCVsJlhXK1VZa1dPWCtQWlsrUF5wK1BxcitQc3crUHghXitQIWEjUytQI1Q7J1MrUDsnUzs9YCt0PCVsTytQVyt3UDs9YDwlbCtQIVorfVA7PWA8JWwkcSFhLF1gYFAhYWAhY3AhXl5PWCZYWFksUVlaLFFaXSZYXV4sUV5wJlhwcSxRcXImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYIV8tbGpoU2BQa1chYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHghUC1fIVAhUSRxIVEhXi1fIV4hXypWIV8hYSZYIWEjUy1fI1MjVDFrI1Qjcy1fI3MkZiRxJGY7J1MtXzsnUzs9YDNYPCVsP0FoLV8/QWg/QlkkcT9CWT9Nbi1fP01uTyRxWy9lYmhTa1dPWCtQWlsrUF5wK1Bxci9ec3cvXnghUC9eIVAhUStQIVEhXi9eIWEjUy9eI1MjVDBtI1Qjcy9eI3MkZitQJGY7J1MvXjsnUzs9YDFlPCVsP0FoL14/QWg/QlkrUD9CWT9Nbi9eP01uTytQUzByWGhTcXIwbXN3MG14IVAwbSFRIV4wbSFhI3MwbSRmOydTMG07J1M7PWAxXzwlbD9BaDBtP0JZP01uMG1TMWJQOz1gPCVsMG1bMWhQOz1gPCVsL14hVjF2Y2hTYFAhYWAhY3BPcSZYcXIxa3JzJn1zdjFrdncwbXd4KHR4IVAxayFQIVEmWCFRIV4xayFeIV8qViFfIWEmWCFhI3MxayNzJGYmWCRmOydTMWs7J1M7PWAzUjwlbD9BaDFrP0FoP0JZJlg/Qlk/TW4xaz9Nbk8mWCFWM1VQOz1gPCVsMWshXzNbUDs9YDwlbC1fIVozaFYhYGhgUCFjcE92Jn13eCdreCFeJn0hXiFfKFYhXzsnUyZ9OydTOz1gKG48JWxPJn0hXzRXaWhTa1djIVJPWDV1WFo3U1pbNXVbXjdTXnA1dXFyOHRyczdTc3Q+XXR3OHR3eDdTeCFQOHQhUCFRNXUhUSFdOHQhXSFeL14hXiFhN1MhYSNTOHQjUyNUO3sjVCNzOHQjcyRmNXUkZjsnUzh0OydTOz1gPlY8JWw/QWg4dD9BaD9CWTV1P0JZP01uOHQ/TW5PNXUhWjV6YmtXT1g1dVhaN1NaWzV1W143U15wNXVxcjV1cnM3U3N0K1B0dzV1d3g3U3ghXTV1IV0hXjd3IV4hYTdTIWEjUzV1I1MjVDdTI1Q7J1M1dTsnUzs9YDhuPCVsTzV1IVI3VlZPcDdTcXM3U3QhXTdTIV0hXjdsIV47J1M3UzsnUzs9YDdxPCVsTzdTIVI3cU9hIVIhUjd0UDs9YDwlbDdTIVo4T1lrV2EhUk9YK1BaWytQXnArUHFyK1BzdytQeCFeK1AhYSNTK1AjVDsnUytQOydTOz1gK3Q8JWxPK1AhWjhxUDs9YDwlbDV1IV84e2loU2tXT1g1dVhaN1NaWzV1W143U15wNXVxcjh0cnM3U3N0L150dzh0d3g3U3ghUDh0IVAhUTV1IVEhXTh0IV0hXjpqIV4hYTdTIWEjUzh0I1MjVDt7I1Qjczh0I3MkZjV1JGY7J1M4dDsnUzs9YD5WPCVsP0FoOHQ/QWg/Qlk1dT9CWT9Nbjh0P01uTzV1IV86c2JoU2tXYSFST1grUFpbK1BecCtQcXIvXnN3L154IVAvXiFQIVErUCFRIV4vXiFhI1MvXiNTI1QwbSNUI3MvXiNzJGYrUCRmOydTL147J1M7PWAxZTwlbD9BaC9eP0FoP0JZK1A/Qlk/TW4vXj9Nbk8rUCFWPFFjaFNPcDdTcXI7e3JzN1NzdDBtdHc7e3d4N1N4IVA7eyFQIVE3UyFRIV07eyFdIV49XSFeIWE3UyFhI3M7eyNzJGY3UyRmOydTO3s7J1M7PWA+UDwlbD9BaDt7P0FoP0JZN1M/Qlk/TW47ez9Nbk83UyFWPWRYaFNhIVJxcjBtc3cwbXghUDBtIVEhXjBtIWEjczBtJGY7J1MwbTsnUzs9YDFfPCVsP0FoMG0/Qlk/TW4wbSFWPlNQOz1gPCVsO3shXz5ZUDs9YDwlbDh0IV8+ZGhoU2tXT1hAT1haQVlaW0BPW15BWV5wQE9xckJ3cnNBWXN3Qnd3eEFZeCFQQnchUCFRQE8hUSFdQnchXSFeL14hXiFhQVkhYSNTQncjUyNURXsjVCNzQncjcyRmQE8kZjsnU0J3OydTOz1gSFM8JWw/QWhCdz9BaD9CWUBPP0JZP01uQnc/TW5PQE8hWkBUYWtXT1hAT1haQVlaW0BPW15BWV5wQE9xckBPcnNBWXN3QE93eEFZeCFdQE8hXSFeQXohXiFhQVkhYSNTQE8jUyNUQVkjVDsnU0BPOydTOz1gQnE8JWxPQE8hUkFdVU9wQVlxIV1BWSFdIV5BbyFeOydTQVk7J1M7PWBBdDwlbE9BWSFSQXRPYiFSIVJBd1A7PWA8JWxBWSFaQlJZa1diIVJPWCtQWlsrUF5wK1BxcitQc3crUHghXitQIWEjUytQI1Q7J1MrUDsnUzs9YCt0PCVsTytQIVpCdFA7PWA8JWxATyFfQ09oaFNrV09YQE9YWkFZWltAT1teQVlecEBPcXJCd3JzQVlzd0J3d3hBWXghUEJ3IVAhUUBPIVEhXUJ3IV0hXkRqIV4hYUFZIWEjU0J3I1MjVEV7I1Qjc0J3I3MkZkBPJGY7J1NCdzsnUzs9YEhTPCVsP0FoQnc/QWg/QllATz9CWT9NbkJ3P01uT0BPIV9Ec2JoU2tXYiFST1grUFpbK1BecCtQcXIvXnN3L154IVAvXiFQIVErUCFRIV4vXiFhI1MvXiNTI1QwbSNUI3MvXiNzJGYrUCRmOydTL147J1M7PWAxZTwlbD9BaC9eP0FoP0JZK1A/Qlk/TW4vXj9Nbk8rUCFWRlFiaFNPcEFZcXJFe3JzQVlzd0V7d3hBWXghUEV7IVAhUUFZIVEhXUV7IV0hXkdZIV4hYUFZIWEjc0V7I3MkZkFZJGY7J1NFezsnUzs9YEd8PCVsP0FoRXs/QWg/QllBWT9CWT9NbkV7P01uT0FZIVZHYVhoU2IhUnFyMG1zdzBteCFQMG0hUSFeMG0hYSNzMG0kZjsnUzBtOydTOz1gMV88JWw/QWgwbT9CWT9NbjBtIVZIUFA7PWA8JWxFeyFfSFZQOz1gPCVsQnchWkhjVyFieGBQIWFgT3IodHJzJ2tzdih0dyFeKHQhXiFfKWUhXzsnUyh0OydTOz1gKlA8JWxPKHQhYUlZbGhTYFBrVyFhYCFjcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyLV9ycyZ9c3YtX3Z3L153eCh0eH0tX30hT0tRIU8hUC1fIVAhUSRxIVEhXi1fIV4hXypWIV8hYSZYIWEjUy1fI1MjVDFrI1Qjcy1fI3MkZiRxJGY7J1MtXzsnUzs9YDNYPCVsP0FoLV8/QWg/QlkkcT9CWT9Nbi1fP01uTyRxIWFLX2toU2BQa1chYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHghUC1fIVAhUSRxIVEhXi1fIV4hXypWIV8hYCZYIWAhYU1TIWEjUy1fI1MjVDFrI1Qjcy1fI3MkZiRxJGY7J1MtXzsnUzs9YDNYPCVsP0FoLV8/QWg/QlkkcT9CWT9Nbi1fP01uTyRxIVRNX1hgUCFhYCFjcCFlUU9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWCFhTlohWmhTZlFgUGtXIWFgIWNwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXItX3JzJn1zdi1fdncvXnd4KHR4fS1ffSFPTXohTyFQTXohUCFRJHEhUSFbTXohWyFdTXohXSFeLV8hXiFfKlYhXyFhJlghYSFjLV8hYyF9TXohfSNSLV8jUiNTTXojUyNUMWsjVCNvTXojbyNzLV8jcyRmJHEkZiR9LV8kfSVPTXolTyVXLV8lVyVvTXolbyVwLV8lcCZhTXomYSZiLV8mYjFwTXoxcDRVTXo0VTRkTXo0ZDRlLV80ZSRJU016JElTJElgLV8kSWAkSWJNeiRJYiRKZS1fJEplJEpnTXokSmckS2gtXyRLaCUjdE16JSN0Ji94LV8mL3gmRXRNeiZFdCZGVi1fJkZWOydTTXo7J1M7OmohI3w7Omo7PWAzWDwlbD8mci1fPyZyP0FoTXo/QWg/QlkkcT9CWT9Nbk16P01uTyRxIWEhJFBQOz1gPCVsTXohUiEkWlkhYWAhY3BPcSpWcXIhJHlycyhWc3YqVnd4KWV4IWEqViFhIWIhNHQhYjsnUypWOydTOz1gKnM8JWxPKlYhUiElUV0hYWAhY3BPcipWcnMoVnN2KlZ3eClleH0qVn0hTyEleSFPIWYqViFmIWchJ10hZyNXKlYjVyNYITBgI1g7J1MqVjsnUzs9YCpzPCVsTypWIVIhJlFYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXh9KlZ9IU8hJm0hTzsnUypWOydTOz1gKnM8JWxPKlYhUiEmdlYhYWAhY3AhZFBPcipWcnMoVnN2KlZ3eClleDsnUypWOydTOz1gKnM8JWxPKlYhUiEnZFghYWAhY3BPcipWcnMoVnN2KlZ3eClleCFxKlYhcSFyIShQIXI7J1MqVjsnUzs9YCpzPCVsTypWIVIhKFdYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXghZSpWIWUhZiEocyFmOydTKlY7J1M7PWAqczwlbE8qViFSISh6WCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4IXYqViF2IXchKWchdzsnUypWOydTOz1gKnM8JWxPKlYhUiEpblghYWAhY3BPcipWcnMoVnN2KlZ3eClleCF7KlYheyF8ISpaIXw7J1MqVjsnUzs9YCpzPCVsTypWIVIhKmJYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXghcipWIXIhcyEqfSFzOydTKlY7J1M7PWAqczwlbE8qViFSIStVWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4IWcqViFnIWghK3EhaDsnUypWOydTOz1gKnM8JWxPKlYhUiEreFkhYWAhY3BPciErcXJzISxoc3YhK3F2dyEtU3d4IS5beCFgIStxIWAhYSEvaiFhOydTIStxOydTOz1gITBZPCVsTyErcXEhLG1WIWNwT3YhLGh2eCEtU3ghYCEsaCFgIWEhLXEhYTsnUyEsaDsnUzs9YCEuVTwlbE8hLGhQIS1WVE8hYCEtUyFgIWEhLWYhYTsnUyEtUzsnUzs9YCEtazwlbE8hLVNQIS1rT3tQUCEtblA7PWA8JWwhLVNxIS14UyFjcHtQT3YoVng7J1MoVjsnUzs9YChoPCVsTyhWcSEuWFA7PWA8JWwhLGhhIS5hWCFhYE9yIS5bcnMhLVNzdiEuW3Z3IS1TdyFgIS5bIWAhYSEufCFhOydTIS5bOydTOz1gIS9kPCVsTyEuW2EhL1RUIWFge1BPcillc3YpZXc7J1MpZTsnUzs9YCl5PCVsTyllYSEvZ1A7PWA8JWwhLlshUiEvc1YhYWAhY3B7UE9yKlZycyhWc3YqVnd4KWV4OydTKlY7J1M7PWAqczwlbE8qViFSITBdUDs9YDwlbCErcSFSITBnWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4I2MqViNjI2QhMVMjZDsnUypWOydTOz1gKnM8JWxPKlYhUiExWlghYWAhY3BPcipWcnMoVnN2KlZ3eClleCNWKlYjViNXITF2I1c7J1MqVjsnUzs9YCpzPCVsTypWIVIhMX1YIWFgIWNwT3IqVnJzKFZzdipWd3gpZXgjaCpWI2gjaSEyaiNpOydTKlY7J1M7PWAqczwlbE8qViFSITJxWCFhYCFjcE9yKlZycyhWc3YqVnd4KWV4I20qViNtI24hM14jbjsnUypWOydTOz1gKnM8JWxPKlYhUiEzZVghYWAhY3BPcipWcnMoVnN2KlZ3eClleCNkKlYjZCNlITRRI2U7J1MqVjsnUzs9YCpzPCVsTypWIVIhNFhYIWFgIWNwT3IqVnJzKFZzdipWd3gpZXgjWCpWI1gjWSErcSNZOydTKlY7J1M7PWAqczwlbE8qViFSITR7WSFhYCFjcE9yITR0cnMhNWtzdiE0dHZ3ITZWd3ghOF14IWEhNHQhYSFiITpdIWI7J1MhNHQ7J1M7PWAhO3I8JWxPITR0cSE1cFYhY3BPdiE1a3Z4ITZWeCFhITVrIWEhYiE3VyFiOydTITVrOydTOz1gIThWPCVsTyE1a1AhNllUTyFhITZWIWEhYiE2aSFiOydTITZWOydTOz1gITdRPCVsTyE2VlAhNmxUTyFgITZWIWAhYSE2eyFhOydTITZWOydTOz1gITdRPCVsTyE2VlAhN1FPeFBQITdUUDs9YDwlbCE2VnEhN11WIWNwT3YhNWt2eCE2VnghYCE1ayFgIWEhN3IhYTsnUyE1azsnUzs9YCE4VjwlbE8hNWtxITd5UyFjcHhQT3YoVng7J1MoVjsnUzs9YChoPCVsTyhWcSE4WVA7PWA8JWwhNWthIThiWCFhYE9yIThdcnMhNlZzdiE4XXZ3ITZWdyFhIThdIWEhYiE4fSFiOydTIThdOydTOz1gITpWPCVsTyE4XWEhOVNYIWFgT3IhOF1ycyE2VnN2IThddnchNlZ3IWAhOF0hYCFhITlvIWE7J1MhOF07J1M7PWAhOlY8JWxPIThdYSE5dlQhYWB4UE9yKWVzdilldzsnUyllOydTOz1gKXk8JWxPKWVhITpZUDs9YDwlbCE4XSFSITpkWSFhYCFjcE9yITR0cnMhNWtzdiE0dHZ3ITZWd3ghOF14IWAhNHQhYCFhITtTIWE7J1MhNHQ7J1M7PWAhO3I8JWxPITR0IVIhO11WIWFgIWNweFBPcipWcnMoVnN2KlZ3eClleDsnUypWOydTOz1gKnM8JWxPKlYhUiE7dVA7PWA8JWwhNHQhViE8VFhpU2BQIWFgIWNwT3ImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYXCIsXG4gIHRva2VuaXplcnM6IFtzY3JpcHRUb2tlbnMsIHN0eWxlVG9rZW5zLCB0ZXh0YXJlYVRva2VucywgZW5kVGFnLCB0YWdTdGFydCwgY29tbWVudENvbnRlbnQsIDAsIDEsIDIsIDMsIDQsIDVdLFxuICB0b3BSdWxlczoge1wiRG9jdW1lbnRcIjpbMCwxNV19LFxuICBkaWFsZWN0czoge25vTWF0Y2g6IDAsIHNlbGZDbG9zaW5nOiA1MDl9LFxuICB0b2tlblByZWM6IDUxMVxufSk7XG5cbmZ1bmN0aW9uIGdldEF0dHJzKG9wZW5UYWcsIGlucHV0KSB7XG4gIGxldCBhdHRycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAobGV0IGF0dCBvZiBvcGVuVGFnLmdldENoaWxkcmVuKEF0dHJpYnV0ZSkpIHtcbiAgICBsZXQgbmFtZSA9IGF0dC5nZXRDaGlsZChBdHRyaWJ1dGVOYW1lKSwgdmFsdWUgPSBhdHQuZ2V0Q2hpbGQoQXR0cmlidXRlVmFsdWUpIHx8IGF0dC5nZXRDaGlsZChVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlKTtcbiAgICBpZiAobmFtZSkgYXR0cnNbaW5wdXQucmVhZChuYW1lLmZyb20sIG5hbWUudG8pXSA9XG4gICAgICAhdmFsdWUgPyBcIlwiIDogdmFsdWUudHlwZS5pZCA9PSBBdHRyaWJ1dGVWYWx1ZSA/IGlucHV0LnJlYWQodmFsdWUuZnJvbSArIDEsIHZhbHVlLnRvIC0gMSkgOiBpbnB1dC5yZWFkKHZhbHVlLmZyb20sIHZhbHVlLnRvKTtcbiAgfVxuICByZXR1cm4gYXR0cnNcbn1cblxuZnVuY3Rpb24gZmluZFRhZ05hbWUob3BlblRhZywgaW5wdXQpIHtcbiAgbGV0IHRhZ05hbWVOb2RlID0gb3BlblRhZy5nZXRDaGlsZChUYWdOYW1lKTtcbiAgcmV0dXJuIHRhZ05hbWVOb2RlID8gaW5wdXQucmVhZCh0YWdOYW1lTm9kZS5mcm9tLCB0YWdOYW1lTm9kZS50bykgOiBcIiBcIlxufVxuXG5mdW5jdGlvbiBtYXliZU5lc3Qobm9kZSwgaW5wdXQsIHRhZ3MpIHtcbiAgbGV0IGF0dHJzO1xuICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgIGlmICghdGFnLmF0dHJzIHx8IHRhZy5hdHRycyhhdHRycyB8fCAoYXR0cnMgPSBnZXRBdHRycyhub2RlLm5vZGUucGFyZW50LmZpcnN0Q2hpbGQsIGlucHV0KSkpKVxuICAgICAgcmV0dXJuIHtwYXJzZXI6IHRhZy5wYXJzZXJ9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gdGFncz86IHtcbi8vICAgdGFnOiBzdHJpbmcsXG4vLyAgIGF0dHJzPzogKHtbYXR0cjogc3RyaW5nXTogc3RyaW5nfSkgPT4gYm9vbGVhbixcbi8vICAgcGFyc2VyOiBQYXJzZXJcbi8vIH1bXVxuLy8gYXR0cmlidXRlcz86IHtcbi8vICAgbmFtZTogc3RyaW5nLFxuLy8gICB0YWdOYW1lPzogc3RyaW5nLFxuLy8gICBwYXJzZXI6IFBhcnNlclxuLy8gfVtdXG4gXG5mdW5jdGlvbiBjb25maWd1cmVOZXN0aW5nKHRhZ3MgPSBbXSwgYXR0cmlidXRlcyA9IFtdKSB7XG4gIGxldCBzY3JpcHQgPSBbXSwgc3R5bGUgPSBbXSwgdGV4dGFyZWEgPSBbXSwgb3RoZXIgPSBbXTtcbiAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICBsZXQgYXJyYXkgPSB0YWcudGFnID09IFwic2NyaXB0XCIgPyBzY3JpcHQgOiB0YWcudGFnID09IFwic3R5bGVcIiA/IHN0eWxlIDogdGFnLnRhZyA9PSBcInRleHRhcmVhXCIgPyB0ZXh0YXJlYSA6IG90aGVyO1xuICAgIGFycmF5LnB1c2godGFnKTtcbiAgfVxuICBsZXQgYXR0cnMgPSBhdHRyaWJ1dGVzLmxlbmd0aCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBudWxsO1xuICBmb3IgKGxldCBhdHRyIG9mIGF0dHJpYnV0ZXMpIChhdHRyc1thdHRyLm5hbWVdIHx8IChhdHRyc1thdHRyLm5hbWVdID0gW10pKS5wdXNoKGF0dHIpO1xuXG4gIHJldHVybiBwYXJzZU1peGVkKChub2RlLCBpbnB1dCkgPT4ge1xuICAgIGxldCBpZCA9IG5vZGUudHlwZS5pZDtcbiAgICBpZiAoaWQgPT0gU2NyaXB0VGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgc2NyaXB0KVxuICAgIGlmIChpZCA9PSBTdHlsZVRleHQpIHJldHVybiBtYXliZU5lc3Qobm9kZSwgaW5wdXQsIHN0eWxlKVxuICAgIGlmIChpZCA9PSBUZXh0YXJlYVRleHQpIHJldHVybiBtYXliZU5lc3Qobm9kZSwgaW5wdXQsIHRleHRhcmVhKVxuXG4gICAgaWYgKGlkID09IEVsZW1lbnQgJiYgb3RoZXIubGVuZ3RoKSB7XG4gICAgICBsZXQgbiA9IG5vZGUubm9kZSwgb3BlbiA9IG4uZmlyc3RDaGlsZCwgdGFnTmFtZSA9IG9wZW4gJiYgZmluZFRhZ05hbWUob3BlbiwgaW5wdXQpLCBhdHRycztcbiAgICAgIGlmICh0YWdOYW1lKSBmb3IgKGxldCB0YWcgb2Ygb3RoZXIpIHtcbiAgICAgICAgaWYgKHRhZy50YWcgPT0gdGFnTmFtZSAmJiAoIXRhZy5hdHRycyB8fCB0YWcuYXR0cnMoYXR0cnMgfHwgKGF0dHJzID0gZ2V0QXR0cnMob3BlbiwgaW5wdXQpKSkpKSB7XG4gICAgICAgICAgbGV0IGNsb3NlID0gbi5sYXN0Q2hpbGQ7XG4gICAgICAgICAgbGV0IHRvID0gY2xvc2UudHlwZS5pZCA9PSBDbG9zZVRhZyA/IGNsb3NlLmZyb20gOiBuLnRvO1xuICAgICAgICAgIGlmICh0byA+IG9wZW4udG8pXG4gICAgICAgICAgICByZXR1cm4ge3BhcnNlcjogdGFnLnBhcnNlciwgb3ZlcmxheTogW3tmcm9tOiBvcGVuLnRvLCB0b31dfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJzICYmIGlkID09IEF0dHJpYnV0ZSkge1xuICAgICAgbGV0IG4gPSBub2RlLm5vZGUsIG5hbWVOb2RlO1xuICAgICAgaWYgKG5hbWVOb2RlID0gbi5maXJzdENoaWxkKSB7XG4gICAgICAgIGxldCBtYXRjaGVzID0gYXR0cnNbaW5wdXQucmVhZChuYW1lTm9kZS5mcm9tLCBuYW1lTm9kZS50byldO1xuICAgICAgICBpZiAobWF0Y2hlcykgZm9yIChsZXQgYXR0ciBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgaWYgKGF0dHIudGFnTmFtZSAmJiBhdHRyLnRhZ05hbWUgIT0gZmluZFRhZ05hbWUobi5wYXJlbnQsIGlucHV0KSkgY29udGludWVcbiAgICAgICAgICBsZXQgdmFsdWUgPSBuLmxhc3RDaGlsZDtcbiAgICAgICAgICBpZiAodmFsdWUudHlwZS5pZCA9PSBBdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSB2YWx1ZS5mcm9tICsgMTtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gdmFsdWUubGFzdENoaWxkLCB0byA9IHZhbHVlLnRvIC0gKGxhc3QgJiYgbGFzdC5pc0Vycm9yID8gMCA6IDEpO1xuICAgICAgICAgICAgaWYgKHRvID4gZnJvbSkgcmV0dXJuIHtwYXJzZXI6IGF0dHIucGFyc2VyLCBvdmVybGF5OiBbe2Zyb20sIHRvfV19XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50eXBlLmlkID09IFVucXVvdGVkQXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7cGFyc2VyOiBhdHRyLnBhcnNlciwgb3ZlcmxheTogW3tmcm9tOiB2YWx1ZS5mcm9tLCB0bzogdmFsdWUudG99XX1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSlcbn1cblxuZXhwb3J0IHsgY29uZmlndXJlTmVzdGluZywgcGFyc2VyIH07XG4iLCAiaW1wb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBMUlBhcnNlciwgTG9jYWxUb2tlbkdyb3VwIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IG5vU2VtaSA9IDMxNSxcbiAgbm9TZW1pVHlwZSA9IDMxNixcbiAgaW5jZGVjID0gMSxcbiAgaW5jZGVjUHJlZml4ID0gMixcbiAgcXVlc3Rpb25Eb3QgPSAzLFxuICBKU1hTdGFydFRhZyA9IDQsXG4gIGluc2VydFNlbWkgPSAzMTcsXG4gIHNwYWNlcyA9IDMxOSxcbiAgbmV3bGluZSA9IDMyMCxcbiAgTGluZUNvbW1lbnQgPSA1LFxuICBCbG9ja0NvbW1lbnQgPSA2LFxuICBEaWFsZWN0X2pzeCA9IDA7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBKYXZhU2NyaXB0IHRva2VucyB0aGF0IGNhbid0IGJlXG4gICBleHByZXNzZWQgYnkgbGV6ZXIncyBidWlsdC1pbiB0b2tlbml6ZXIuICovXG5cbmNvbnN0IHNwYWNlID0gWzksIDEwLCAxMSwgMTIsIDEzLCAzMiwgMTMzLCAxNjAsIDU3NjAsIDgxOTIsIDgxOTMsIDgxOTQsIDgxOTUsIDgxOTYsIDgxOTcsIDgxOTgsIDgxOTksIDgyMDAsXG4gICAgICAgICAgICAgICA4MjAxLCA4MjAyLCA4MjMyLCA4MjMzLCA4MjM5LCA4Mjg3LCAxMjI4OF07XG5cbmNvbnN0IGJyYWNlUiA9IDEyNSwgc2VtaWNvbG9uID0gNTksIHNsYXNoID0gNDcsIHN0YXIgPSA0MiwgcGx1cyA9IDQzLCBtaW51cyA9IDQ1LCBsdCA9IDYwLCBjb21tYSA9IDQ0LFxuICAgICAgcXVlc3Rpb24gPSA2MywgZG90ID0gNDYsIGJyYWNrZXRMID0gOTE7XG5cbmNvbnN0IHRyYWNrTmV3bGluZSA9IG5ldyBDb250ZXh0VHJhY2tlcih7XG4gIHN0YXJ0OiBmYWxzZSxcbiAgc2hpZnQoY29udGV4dCwgdGVybSkge1xuICAgIHJldHVybiB0ZXJtID09IExpbmVDb21tZW50IHx8IHRlcm0gPT0gQmxvY2tDb21tZW50IHx8IHRlcm0gPT0gc3BhY2VzID8gY29udGV4dCA6IHRlcm0gPT0gbmV3bGluZVxuICB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcblxuY29uc3QgaW5zZXJ0U2VtaWNvbG9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICBpZiAobmV4dCA9PSBicmFjZVIgfHwgbmV4dCA9PSAtMSB8fCBzdGFjay5jb250ZXh0KVxuICAgIGlucHV0LmFjY2VwdFRva2VuKGluc2VydFNlbWkpO1xufSwge2NvbnRleHR1YWw6IHRydWUsIGZhbGxiYWNrOiB0cnVlfSk7XG5cbmNvbnN0IG5vU2VtaWNvbG9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0LCBhZnRlcjtcbiAgaWYgKHNwYWNlLmluZGV4T2YobmV4dCkgPiAtMSkgcmV0dXJuXG4gIGlmIChuZXh0ID09IHNsYXNoICYmICgoYWZ0ZXIgPSBpbnB1dC5wZWVrKDEpKSA9PSBzbGFzaCB8fCBhZnRlciA9PSBzdGFyKSkgcmV0dXJuXG4gIGlmIChuZXh0ICE9IGJyYWNlUiAmJiBuZXh0ICE9IHNlbWljb2xvbiAmJiBuZXh0ICE9IC0xICYmICFzdGFjay5jb250ZXh0KVxuICAgIGlucHV0LmFjY2VwdFRva2VuKG5vU2VtaSk7XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5jb25zdCBub1NlbWljb2xvblR5cGUgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCA9PSBicmFja2V0TCAmJiAhc3RhY2suY29udGV4dCkgaW5wdXQuYWNjZXB0VG9rZW4obm9TZW1pVHlwZSk7XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5jb25zdCBvcGVyYXRvclRva2VuID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICBpZiAobmV4dCA9PSBwbHVzIHx8IG5leHQgPT0gbWludXMpIHtcbiAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgaWYgKG5leHQgPT0gaW5wdXQubmV4dCkge1xuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgbGV0IG1heVBvc3RmaXggPSAhc3RhY2suY29udGV4dCAmJiBzdGFjay5jYW5TaGlmdChpbmNkZWMpO1xuICAgICAgaW5wdXQuYWNjZXB0VG9rZW4obWF5UG9zdGZpeCA/IGluY2RlYyA6IGluY2RlY1ByZWZpeCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5leHQgPT0gcXVlc3Rpb24gJiYgaW5wdXQucGVlaygxKSA9PSBkb3QpIHtcbiAgICBpbnB1dC5hZHZhbmNlKCk7IGlucHV0LmFkdmFuY2UoKTtcbiAgICBpZiAoaW5wdXQubmV4dCA8IDQ4IHx8IGlucHV0Lm5leHQgPiA1NykgLy8gTm8gZGlnaXQgYWZ0ZXJcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKHF1ZXN0aW9uRG90KTtcbiAgfVxufSwge2NvbnRleHR1YWw6IHRydWV9KTtcblxuZnVuY3Rpb24gaWRlbnRpZmllckNoYXIoY2gsIHN0YXJ0KSB7XG4gIHJldHVybiBjaCA+PSA2NSAmJiBjaCA8PSA5MCB8fCBjaCA+PSA5NyAmJiBjaCA8PSAxMjIgfHwgY2ggPT0gOTUgfHwgY2ggPj0gMTkyIHx8XG4gICAgIXN0YXJ0ICYmIGNoID49IDQ4ICYmIGNoIDw9IDU3XG59XG5cbmNvbnN0IGpzeCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ICE9IGx0IHx8ICFzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X2pzeCkpIHJldHVyblxuICBpbnB1dC5hZHZhbmNlKCk7XG4gIGlmIChpbnB1dC5uZXh0ID09IHNsYXNoKSByZXR1cm5cbiAgLy8gU2NhbiBmb3IgYW4gaWRlbnRpZmllciBmb2xsb3dlZCBieSBhIGNvbW1hIG9yICdleHRlbmRzJywgZG9uJ3RcbiAgLy8gdHJlYXQgdGhpcyBhcyBhIHN0YXJ0IHRhZyBpZiBwcmVzZW50LlxuICBsZXQgYmFjayA9IDA7XG4gIHdoaWxlIChzcGFjZS5pbmRleE9mKGlucHV0Lm5leHQpID4gLTEpIHsgaW5wdXQuYWR2YW5jZSgpOyBiYWNrKys7IH1cbiAgaWYgKGlkZW50aWZpZXJDaGFyKGlucHV0Lm5leHQsIHRydWUpKSB7XG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGJhY2srKztcbiAgICB3aGlsZSAoaWRlbnRpZmllckNoYXIoaW5wdXQubmV4dCwgZmFsc2UpKSB7IGlucHV0LmFkdmFuY2UoKTsgYmFjaysrOyB9XG4gICAgd2hpbGUgKHNwYWNlLmluZGV4T2YoaW5wdXQubmV4dCkgPiAtMSkgeyBpbnB1dC5hZHZhbmNlKCk7IGJhY2srKzsgfVxuICAgIGlmIChpbnB1dC5uZXh0ID09IGNvbW1hKSByZXR1cm5cbiAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgaWYgKGkgPT0gNykge1xuICAgICAgICBpZiAoIWlkZW50aWZpZXJDaGFyKGlucHV0Lm5leHQsIHRydWUpKSByZXR1cm5cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dC5uZXh0ICE9IFwiZXh0ZW5kc1wiLmNoYXJDb2RlQXQoaSkpIGJyZWFrXG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICBiYWNrKys7XG4gICAgfVxuICB9XG4gIGlucHV0LmFjY2VwdFRva2VuKEpTWFN0YXJ0VGFnLCAtYmFjayk7XG59KTtcblxuY29uc3QganNIaWdobGlnaHQgPSBzdHlsZVRhZ3Moe1xuICBcImdldCBzZXQgYXN5bmMgc3RhdGljXCI6IHRhZ3MubW9kaWZpZXIsXG4gIFwiZm9yIHdoaWxlIGRvIGlmIGVsc2Ugc3dpdGNoIHRyeSBjYXRjaCBmaW5hbGx5IHJldHVybiB0aHJvdyBicmVhayBjb250aW51ZSBkZWZhdWx0IGNhc2VcIjogdGFncy5jb250cm9sS2V5d29yZCxcbiAgXCJpbiBvZiBhd2FpdCB5aWVsZCB2b2lkIHR5cGVvZiBkZWxldGUgaW5zdGFuY2VvZiBhcyBzYXRpc2ZpZXNcIjogdGFncy5vcGVyYXRvcktleXdvcmQsXG4gIFwibGV0IHZhciBjb25zdCB1c2luZyBmdW5jdGlvbiBjbGFzcyBleHRlbmRzXCI6IHRhZ3MuZGVmaW5pdGlvbktleXdvcmQsXG4gIFwiaW1wb3J0IGV4cG9ydCBmcm9tXCI6IHRhZ3MubW9kdWxlS2V5d29yZCxcbiAgXCJ3aXRoIGRlYnVnZ2VyIG5ld1wiOiB0YWdzLmtleXdvcmQsXG4gIFRlbXBsYXRlU3RyaW5nOiB0YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpLFxuICBzdXBlcjogdGFncy5hdG9tLFxuICBCb29sZWFuTGl0ZXJhbDogdGFncy5ib29sLFxuICB0aGlzOiB0YWdzLnNlbGYsXG4gIG51bGw6IHRhZ3MubnVsbCxcbiAgU3RhcjogdGFncy5tb2RpZmllcixcbiAgVmFyaWFibGVOYW1lOiB0YWdzLnZhcmlhYmxlTmFtZSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9WYXJpYWJsZU5hbWUgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uL1ZhcmlhYmxlTmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSxcbiAgVmFyaWFibGVEZWZpbml0aW9uOiB0YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpLFxuICBMYWJlbDogdGFncy5sYWJlbE5hbWUsXG4gIFByb3BlcnR5TmFtZTogdGFncy5wcm9wZXJ0eU5hbWUsXG4gIFByaXZhdGVQcm9wZXJ0eU5hbWU6IHRhZ3Muc3BlY2lhbCh0YWdzLnByb3BlcnR5TmFtZSksXG4gIFwiQ2FsbEV4cHJlc3Npb24vTWVtYmVyRXhwcmVzc2lvbi9Qcm9wZXJ0eU5hbWVcIjogdGFncy5mdW5jdGlvbih0YWdzLnByb3BlcnR5TmFtZSksXG4gIFwiRnVuY3Rpb25EZWNsYXJhdGlvbi9WYXJpYWJsZURlZmluaXRpb25cIjogdGFncy5mdW5jdGlvbih0YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpKSxcbiAgXCJDbGFzc0RlY2xhcmF0aW9uL1ZhcmlhYmxlRGVmaW5pdGlvblwiOiB0YWdzLmRlZmluaXRpb24odGFncy5jbGFzc05hbWUpLFxuICBcIk5ld0V4cHJlc3Npb24vVmFyaWFibGVOYW1lXCI6IHRhZ3MuY2xhc3NOYW1lLFxuICBQcm9wZXJ0eURlZmluaXRpb246IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnByb3BlcnR5TmFtZSksXG4gIFByaXZhdGVQcm9wZXJ0eURlZmluaXRpb246IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnNwZWNpYWwodGFncy5wcm9wZXJ0eU5hbWUpKSxcbiAgVXBkYXRlT3A6IHRhZ3MudXBkYXRlT3BlcmF0b3IsXG4gIFwiTGluZUNvbW1lbnQgSGFzaGJhbmdcIjogdGFncy5saW5lQ29tbWVudCxcbiAgQmxvY2tDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgTnVtYmVyOiB0YWdzLm51bWJlcixcbiAgU3RyaW5nOiB0YWdzLnN0cmluZyxcbiAgRXNjYXBlOiB0YWdzLmVzY2FwZSxcbiAgQXJpdGhPcDogdGFncy5hcml0aG1ldGljT3BlcmF0b3IsXG4gIExvZ2ljT3A6IHRhZ3MubG9naWNPcGVyYXRvcixcbiAgQml0T3A6IHRhZ3MuYml0d2lzZU9wZXJhdG9yLFxuICBDb21wYXJlT3A6IHRhZ3MuY29tcGFyZU9wZXJhdG9yLFxuICBSZWdFeHA6IHRhZ3MucmVnZXhwLFxuICBFcXVhbHM6IHRhZ3MuZGVmaW5pdGlvbk9wZXJhdG9yLFxuICBBcnJvdzogdGFncy5mdW5jdGlvbih0YWdzLnB1bmN0dWF0aW9uKSxcbiAgXCI6IFNwcmVhZFwiOiB0YWdzLnB1bmN0dWF0aW9uLFxuICBcIiggKVwiOiB0YWdzLnBhcmVuLFxuICBcIlsgXVwiOiB0YWdzLnNxdWFyZUJyYWNrZXQsXG4gIFwieyB9XCI6IHRhZ3MuYnJhY2UsXG4gIFwiSW50ZXJwb2xhdGlvblN0YXJ0IEludGVycG9sYXRpb25FbmRcIjogdGFncy5zcGVjaWFsKHRhZ3MuYnJhY2UpLFxuICBcIi5cIjogdGFncy5kZXJlZk9wZXJhdG9yLFxuICBcIiwgO1wiOiB0YWdzLnNlcGFyYXRvcixcbiAgXCJAXCI6IHRhZ3MubWV0YSxcblxuICBUeXBlTmFtZTogdGFncy50eXBlTmFtZSxcbiAgVHlwZURlZmluaXRpb246IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnR5cGVOYW1lKSxcbiAgXCJ0eXBlIGVudW0gaW50ZXJmYWNlIGltcGxlbWVudHMgbmFtZXNwYWNlIG1vZHVsZSBkZWNsYXJlXCI6IHRhZ3MuZGVmaW5pdGlvbktleXdvcmQsXG4gIFwiYWJzdHJhY3QgZ2xvYmFsIFByaXZhY3kgcmVhZG9ubHkgb3ZlcnJpZGVcIjogdGFncy5tb2RpZmllcixcbiAgXCJpcyBrZXlvZiB1bmlxdWUgaW5mZXIgYXNzZXJ0c1wiOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcblxuICBKU1hBdHRyaWJ1dGVWYWx1ZTogdGFncy5hdHRyaWJ1dGVWYWx1ZSxcbiAgSlNYVGV4dDogdGFncy5jb250ZW50LFxuICBcIkpTWFN0YXJ0VGFnIEpTWFN0YXJ0Q2xvc2VUYWcgSlNYU2VsZkNsb3NlRW5kVGFnIEpTWEVuZFRhZ1wiOiB0YWdzLmFuZ2xlQnJhY2tldCxcbiAgXCJKU1hJZGVudGlmaWVyIEpTWE5hbWVTcGFjZWROYW1lXCI6IHRhZ3MudGFnTmFtZSxcbiAgXCJKU1hBdHRyaWJ1dGUvSlNYSWRlbnRpZmllciBKU1hBdHRyaWJ1dGUvSlNYTmFtZVNwYWNlZE5hbWVcIjogdGFncy5hdHRyaWJ1dGVOYW1lLFxuICBcIkpTWEJ1aWx0aW4vSlNYSWRlbnRpZmllclwiOiB0YWdzLnN0YW5kYXJkKHRhZ3MudGFnTmFtZSlcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHNwZWNfaWRlbnRpZmllciA9IHtfX3Byb3RvX186bnVsbCxleHBvcnQ6MjAsIGFzOjI1LCBmcm9tOjMzLCBkZWZhdWx0OjM2LCBhc3luYzo0MSwgZnVuY3Rpb246NDIsIGluOjUyLCBvdXQ6NTUsIGNvbnN0OjU2LCBleHRlbmRzOjYwLCB0aGlzOjY0LCB0cnVlOjcyLCBmYWxzZTo3MiwgbnVsbDo4NCwgdm9pZDo4OCwgdHlwZW9mOjkyLCBzdXBlcjoxMDgsIG5ldzoxNDIsIGRlbGV0ZToxNTQsIHlpZWxkOjE2MywgYXdhaXQ6MTY3LCBjbGFzczoxNzIsIHB1YmxpYzoyMzUsIHByaXZhdGU6MjM1LCBwcm90ZWN0ZWQ6MjM1LCByZWFkb25seToyMzcsIGluc3RhbmNlb2Y6MjU2LCBzYXRpc2ZpZXM6MjU5LCBpbXBvcnQ6MjkyLCBrZXlvZjozNDksIHVuaXF1ZTozNTMsIGluZmVyOjM1OSwgYXNzZXJ0czozOTUsIGlzOjM5NywgYWJzdHJhY3Q6NDE3LCBpbXBsZW1lbnRzOjQxOSwgdHlwZTo0MjEsIGxldDo0MjQsIHZhcjo0MjYsIHVzaW5nOjQyOSwgaW50ZXJmYWNlOjQzNSwgZW51bTo0MzksIG5hbWVzcGFjZTo0NDUsIG1vZHVsZTo0NDcsIGRlY2xhcmU6NDUxLCBnbG9iYWw6NDU1LCBmb3I6NDc0LCBvZjo0ODMsIHdoaWxlOjQ4Niwgd2l0aDo0OTAsIGRvOjQ5NCwgaWY6NDk4LCBlbHNlOjUwMCwgc3dpdGNoOjUwNCwgY2FzZTo1MTAsIHRyeTo1MTYsIGNhdGNoOjUyMCwgZmluYWxseTo1MjQsIHJldHVybjo1MjgsIHRocm93OjUzMiwgYnJlYWs6NTM2LCBjb250aW51ZTo1NDAsIGRlYnVnZ2VyOjU0NH07XG5jb25zdCBzcGVjX3dvcmQgPSB7X19wcm90b19fOm51bGwsYXN5bmM6MTI5LCBnZXQ6MTMxLCBzZXQ6MTMzLCBkZWNsYXJlOjE5NSwgcHVibGljOjE5NywgcHJpdmF0ZToxOTcsIHByb3RlY3RlZDoxOTcsIHN0YXRpYzoxOTksIGFic3RyYWN0OjIwMSwgb3ZlcnJpZGU6MjAzLCByZWFkb25seToyMDksIGFjY2Vzc29yOjIxMSwgbmV3OjQwMX07XG5jb25zdCBzcGVjX0xlc3NUaGFuID0ge19fcHJvdG9fXzpudWxsLFwiPFwiOjE5M307XG5jb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiJEVPUSVUUWxPT08lW1FsT09PJ19RcE9PUChsT2BPT08qelEhME14TycjQ2lPK1JPI3RPJyNDak8rYU8mak8nI0NqTytvTyNASXRPJyNEYU8uUVFsTycjRGdPLmJRbE8nI0RyTyVbUWxPJyNEek8wZlFsTycjRVNPT1EhMExmJyNFWycjRVtPMVBRYE8nI0VYT09RTycjRXAnI0VwT09RTycjSWsnI0lrTzFYUWBPJyNHc08xZFFgTycjRW9PMWlRYE8nI0VvTzNoUSEwTXhPJyNKcU82W1EhME14TycjSnJPNnVRYE8nI0ZdTzZ6USxVTycjRnRPT1EhMExmJyNGZicjRmZPN1ZPN2RPJyNGZk83ZVFNaE8nI0Z8TzlbUWBPJyNGe09PUSEwTGYnI0pyJyNKck9PUSEwTGInI0pxJyNKcU85YVFgTycjR3dPT1FbJyNLXicjS15POWxRYE8nI0lYTzlxUSEwTHJPJyNJWU9PUVsnI0pfJyNKX09PUVsnI0leJyNJXlFgUWxPT1FgUWxPT085eVEhTF5PJyNEdk86UVFsTycjRU9POlhRbE8nI0VRTzlnUWBPJyNHc086YFFNaE8nI0NvTzpuUWBPJyNFbk86eVFgTycjRXlPO09RTWhPJyNGZU87bVFgTycjR3NPT1FPJyNLXycjS19PO3JRYE8nI0tfTzxRUWBPJyNHe088UVFgTycjR3xPPFFRYE8nI0hPTzlnUWBPJyNIUk88d1FgTycjSFVPPmBRYE8nI0NlTz5wUWBPJyNIYk8+eFFgTycjSGhPPnhRYE8nI0hqT2BRbE8nI0hsTz54UWBPJyNIbk8+eFFgTycjSHFPPn1RYE8nI0h3Tz9TUSEwTHNPJyNIfU8lW1FsTycjSVBPP19RITBMc08nI0lSTz9qUSEwTHNPJyNJVE85cVEhMExyTycjSVZPP3VRITBNeE8nI0NpT0B3UXBPJyNEbFFPUWBPT08lW1FsTycjRVFPQV9RYE8nI0VUTzpgUU1oTycjRW5PQWpRYE8nI0VuT0F1USFiTycjRmVPT1FbJyNDZycjQ2dPT1EhMExiJyNEcScjRHFPT1EhMExiJyNKdScjSnVPJVtRbE8nI0p1T09RTycjSngnI0p4T09RTycjSWcnI0lnT0J1UXBPJyNFZ09PUSEwTGInI0VmJyNFZk9PUSEwTGInI0p8JyNKfE9DcVEhME1TTycjRWdPQ3tRcE8nI0VXT09RTycjSncnI0p3T0RhUXBPJyNKeE9FblFwTycjRVdPQ3tRcE8nI0VnUEV7TyYyRGpPJyNDYlBPT08pQ0R8KUNEfE9PT08nI0lfJyNJX09GV08jdE8sNTlVT09RITBMaCw1OVUsNTlVT09PTycjSWAnI0lgT0ZmTyZqTyw1OVVPRnRRIUxeTycjRGNPT09PJyNJYicjSWJPRntPI0BJdE8sNTl7T09RITBMZiw1OXssNTl7T0daUWxPJyNJY09HblFgTycjSnNPSW1RIWZPJyNKc08rfVFsTycjSnNPSXRRYE8sNTpST0pbUWBPJyNFcE9KaVFgTycjS1NPSnRRYE8nI0tST0p0UWBPJyNLUk9KfFFgTyw1O15PS1JRYE8nI0tRT09RITBMbiw1Ol4sNTpeT0tZUWxPLDU6Xk9NV1EhME14Tyw1OmZPTXdRYE8sNTpuT05iUSEwTHJPJyNLUE9OaVFgTycjS09POWFRYE8nI0tPT059UWBPJyNLT08hIFZRYE8sNTtdTyEgW1FgTycjS09PISNhUSFmTycjSnJPT1EhMExoJyNDaScjQ2lPJVtRbE8nI0VTTyEkUFEhZk8sNTpzT09RUycjSnknI0p5T09RTy1FPGktRTxpTzlnUWBPLDU9X08hJGdRYE8sNT1fTyEkbFFsTyw1O1pPISZvUU1oTycjRWtPIShZUWBPLDU7Wk8hKF9RbE8nI0R5TyEoaVFwTyw1O2RPIShxUXBPLDU7ZE8lW1FsTyw1O2RPT1FbJyNGVCcjRlRPT1FbJyNGVicjRlZPJVtRbE8sNTtlTyVbUWxPLDU7ZU8lW1FsTyw1O2VPJVtRbE8sNTtlTyVbUWxPLDU7ZU8lW1FsTyw1O2VPJVtRbE8sNTtlTyVbUWxPLDU7ZU8lW1FsTyw1O2VPJVtRbE8sNTtlT09RWycjRlonI0ZaTyEpUFFsTyw1O3RPT1EhMExmLDU7eSw1O3lPT1EhMExmLDU7eiw1O3pPT1EhMExmLDU7fCw1O3xPJVtRbE8nI0lvTyErU1EhMExyTyw1PGlPJVtRbE8sNTtlTyEmb1FNaE8sNTtlTyErcVFNaE8sNTtlTyEtY1FNaE8nI0VeTyVbUWxPLDU7d09PUSEwTGYsNTt7LDU7e08hLWpRLFVPJyNGak8hLmdRLFVPJyNLV08hLlJRLFVPJyNLV08hLm5RLFVPJyNLV09PUU8nI0tXJyNLV08hL1NRLFVPLDU8U09PT1csNTxgLDU8YE8hL2VRbE8nI0Z2T09PVycjSW4nI0luTzdWTzdkTyw1PFFPIS9sUSxVTycjRnhPT1EhMExmLDU8USw1PFFPITBdUSRJVU8nI0N5T09RITBMaCcjQ30nI0N9TyEwcE8jQEl0TycjRFJPITFeUU1qTyw1PGVPITFlUWBPLDU8aE8hM1FRKENXTycjR1hPITNfUWBPJyNHWU8hM2RRYE8nI0dZTyE1U1EoQ1dPJyNHXk8hNlhRcE8nI0diT09RTycjR24nI0duTyEreFFNaE8nI0dtT09RTycjR3AnI0dwTyEreFFNaE8nI0dvTyE2elEkSVVPJyNKa09PUSEwTGgnI0prJyNKa08hN1VRYE8nI0pqTyE3ZFFgTycjSmlPITdsUWBPJyNDdU9PUSEwTGgnI0N7JyNDe08hN31RYE8nI0N9T09RITBMaCcjRFYnI0RWT09RITBMaCcjRFgnI0RYTzFTUWBPJyNEWk8hK3hRTWhPJyNHUE8hK3hRTWhPJyNHUk8hOFNRYE8nI0dUTyE4WFFgTycjR1VPITNkUWBPJyNHW08hK3hRTWhPJyNHYU88UVFgTycjSmpPITheUWBPJyNFcU8hOHtRYE8sNTxnT09RITBMYicjQ3InI0NyTyE5VFFgTycjRXJPITl9UXBPJyNFc09PUSEwTGInI0tRJyNLUU8hOlVRITBMck8nI0tgTzlxUSEwTHJPLDU9Y09gUWxPLDU+c09PUVsnI0pnJyNKZ09PUVssNT50LDU+dE9PUVstRTxbLUU8W08hPFRRITBNeE8sNTpiTyE5eFFwTyw1OmBPIT5uUSEwTXhPLDU6ak8lW1FsTyw1OmpPIUFVUSEwTXhPLDU6bE9PUU8sNUB5LDVAeU8hQXVRTWhPLDU9X08hQlRRITBMck8nI0poTzlbUWBPJyNKaE8hQmZRITBMck8sNTlaTyFCcVFwTyw1OVpPIUJ5UU1oTyw1OVpPOmBRTWhPLDU5Wk8hQ1VRYE8sNTtaTyFDXlFgTycjSGFPIUNyUWBPJyNLY08lW1FsTyw1O31PITl4UXBPLDU8UE8hQ3pRYE8sNT16TyFEUFFgTyw1PXpPIURVUWBPLDU9ek85cVEhMExyTyw1PXpPPFFRYE8sNT1qT09RTycjQ3knI0N5TyFEZFFwTyw1PWdPIURsUU1oTyw1PWhPIUR3UWBPLDU9ak8hRHxRIWJPLDU9bU8hRVVRYE8nI0tfTz59UWBPJyNIV085Z1FgTycjSFlPIUVaUWBPJyNIWU86YFFNaE8nI0hbTyFFYFFgTycjSFtPT1FbLDU9cCw1PXBPIUVlUWBPJyNIXU8hRXZRYE8nI0NvTyFFe1FgTyw1OVBPIUZWUWBPLDU5UE8hSFtRbE8sNTlQT09RWyw1OVAsNTlQTyFIbFEhMExyTyw1OVBPJVtRbE8sNTlQTyFKd1FsTycjSGRPT1FbJyNIZScjSGVPT1FbJyNIZicjSGZPYFFsTyw1PXxPIUtfUWBPLDU9fE9gUWxPLDU+U09gUWxPLDU+VU8hS2RRYE8sNT5XT2BRbE8sNT5ZTyFLaVFgTyw1Pl1PIUtuUWxPLDU+Y09PUVssNT5pLDU+aU8lW1FsTyw1PmlPOXFRITBMck8sNT5rT09RWyw1Pm0sNT5tTyMgeFFgTyw1Pm1PT1FbLDU+byw1Pm9PIyB4UWBPLDU+b09PUVssNT5xLDU+cU8jIWZRcE8nI0RfTyVbUWxPJyNKdU8jI1hRcE8nI0p1TyMjY1FwTycjRG1PIyN0UXBPJyNEbU8jJlZRbE8nI0RtTyMmXlFgTycjSnRPIyZmUWBPLDU6V08jJmtRYE8nI0V0TyMmeVFgTycjS1RPIydSUWBPLDU7X08jJ1dRcE8nI0RtTyMnZVFwTycjRVZPT1EhMExmLDU6byw1Om9PJVtRbE8sNTpvTyMnbFFgTyw1Om9PPn1RYE8sNTtZTyFCcVFwTyw1O1lPIUJ5UU1oTyw1O1lPOmBRTWhPLDU7WU8jJ3RRYE8sNUBhTyMneVEwN2RPLDU6c09PUU8tRTxlLUU8ZU8jKVBRITBNU08sNTtST0N7UXBPLDU6ck8jKVpRcE8sNTpyT0N7UXBPLDU7Uk8hQmZRITBMck8sNTpyT09RITBMYicjRWonI0VqT09RTyw1O1IsNTtSTyVbUWxPLDU7Uk8jKWhRITBMck8sNTtSTyMpc1EhMExyTyw1O1JPIUJxUXBPLDU6ck9PUU8sNTtYLDU7WE8jKlJRITBMck8sNTtSUE9PTycjSV0nI0ldUCMqZ08mMkRqTyw1OHxQT09PLDU4fCw1OHxPT09PLUU8XS1FPF1PT1EhMExoMUcucDFHLnBPT09PLUU8Xi1FPF5PT09PLDU5fSw1OX1PIypyUSFiTyw1OX1PT09PLUU8YC1FPGBPT1EhMExmMUcvZzFHL2dPIyp3USFmTyw1Pn1PK31RbE8sNT59T09RTyw1P1QsNT9UTyMrUlFsTycjSWNPT1FPLUU8YS1FPGFPIytgUWBPLDVAX08jK2hRIWZPLDVAX08jK29RYE8sNUBtT09RITBMZjFHL20xRy9tTyVbUWxPLDVAbk8jK3dRYE8nI0lpT09RTy1FPGctRTxnTyMrb1FgTyw1QG1PT1EhMExiMUcweDFHMHhPT1EhMExuMUcveDFHL3hPT1EhMExuMUcwWTFHMFlPJVtRbE8sNUBrTyMsXVEhMExyTyw1QGtPIyxuUSEwTHJPLDVAa08jLHVRYE8sNUBqTzlhUWBPLDVAak8jLH1RYE8sNUBqTyMtXVFgTycjSWxPIyx1UWBPLDVAak9PUSEwTGIxRzB3MUcwd08hKGlRcE8sNTp1TyEodFFwTyw1OnVPT1FTLDU6dyw1OndPIy19UWRPLDU6d08jLlZRTWhPMUcyeU85Z1FgTzFHMnlPT1EhMExmMUcwdTFHMHVPIy5lUSEwTXhPMUcwdU8jL2pRITBNdk8sNTtWT09RITBMaCcjR1cnI0dXTyMwV1EhME16TycjSmtPISRsUWxPMUcwdU8jMmNRIWZPJyNKdk8lW1FsTycjSnZPIzJtUWBPLDU6ZU9PUSEwTGgnI0RfJyNEX09PUSEwTGYxRzFPMUcxT08lW1FsTzFHMU9PT1EhMExmMUcxZjFHMWZPIzJyUWBPMUcxT08jNVdRITBNeE8xRzFQTyM1X1EhME14TzFHMVBPIzd1USEwTXhPMUcxUE8jN3xRITBNeE8xRzFQTyM6ZFEhME14TzFHMVBPIzx6USEwTXhPMUcxUE8jPVJRITBNeE8xRzFQTyM9WVEhME14TzFHMVBPIz9wUSEwTXhPMUcxUE8jP3dRITBNeE8xRzFQTyNCVVE/TXRPJyNDaU8jRFBRP010TzFHMWBPI0RXUT9NdE8nI0pyTyNEa1EhME14Tyw1P1pPT1EhMExiLUU8bS1FPG1PI0Z4USEwTXhPMUcxUE8jR3VRITBNek8xRzFQT09RITBMZjFHMVAxRzFQTyNIeFFNak8nI0p7TyNJU1FgTyw1OnhPI0lYUSEwTXhPMUcxY08jSXtRLFVPLDU8V08jSlRRLFVPLDU8WE8jSl1RLFVPJyNGb08jSnRRYE8nI0ZuT09RTycjS1gnI0tYT09RTycjSW0nI0ltTyNKeVEsVU8xRzFuT09RITBMZjFHMW4xRzFuT09PVzFHMXkxRzF5TyNLW1E/TXRPJyNKcU8jS2ZRYE8sNTxiTyEpUFFsTyw1PGJPT09XLUU8bC1FPGxPT1EhMExmMUcxbDFHMWxPI0trUXBPJyNLV09PUSEwTGYsNTxkLDU8ZE8jS3NRcE8sNTxkTyNLeFFNaE8nI0RUT09PTycjSWEnI0lhTyNMUE8jQEl0Tyw1OW1PT1EhMExoLDU5bSw1OW1PJVtRbE8xRzJQTyE4WFFgTycjSXFPI0xbUWBPLDU8ek9PUSEwTGgsNTx3LDU8d08hK3hRTWhPJyNJdE8jTHhRTWpPLDU9WE8hK3hRTWhPJyNJdk8jTWtRTWpPLDU9Wk8hJm9RTWhPLDU9XU9PUU8xRzJTMUcyU08jTXVRIWRPJyNDck8jTllRKENXTycjRXJPJCBfUXBPJyNHYk8kIHVRIWRPLDU8c08kIHxRYE8nI0taTzlhUWBPJyNLWk8kIVtRYE8sNTx1TyEreFFNaE8sNTx0TyQhYVFgTycjR1pPJCFyUWBPLDU8dE8kIXdRIWRPJyNHV08kI1VRIWRPJyNLW08kI2BRYE8nI0tbTyEmb1FNaE8nI0tbTyQjZVFgTyw1PHhPJCNqUWxPJyNKdU8kI3RRcE8nI0djTyMjdFFwTycjR2NPJCRWUWBPJyNHZ08hM2RRYE8nI0drTyQkW1EhMExyTycjSXNPJCRnUXBPLDU8fE9PUSEwTHAsNTx8LDU8fE8kJG5RcE8nI0djTyQke1FwTycjR2RPJCVeUXBPJyNHZE8kJWNRTWpPLDU9WE8kJXNRTWpPLDU9Wk9PUSEwTGgsNT1eLDU9Xk8hK3hRTWhPLDVAVU8hK3hRTWhPLDVAVU8kJlRRYE8nI0l4TyQmaVFgTyw1QFRPJCZxUWBPLDU5YU9PUSEwTGgsNTlpLDU5aU8kJ2hRJElZTyw1OXVPT1EhMExoJyNKbycjSm9PJChaUU1qTyw1PGtPJCh8UU1qTyw1PG1PQG9RYE8sNTxvT09RITBMaCw1PHAsNTxwTyQpV1FgTyw1PHZPJCldUU1qTyw1PHtPJCltUWBPLDVAVU8kKXtRYE8nI0tPTyEkbFFsTzFHMlJPJCpRUWBPMUcyUk85YVFgTycjS1JPOWFRYE8nI0V0TyVbUWxPJyNFdE85YVFgTycjSXpPJCpWUSEwTHJPLDVAek9PUVsxRzJ9MUcyfU9PUVsxRzRfMUc0X09PUSEwTGYxRy98MUcvfE9PUSEwTGYxRy96MUcvek8kLFhRITBNeE8xRzBVT09RWzFHMnkxRzJ5TyEmb1FNaE8xRzJ5TyVbUWxPMUcyeU8jLllRYE8xRzJ5TyQuXVFNaE8nI0VrT09RITBMYiw1QFMsNUBTTyQualEhMExyTyw1QFNPT1FbMUcudTFHLnVPIUJmUSEwTHJPMUcudU8hQnFRcE8xRy51TyFCeVFNaE8xRy51TyQue1FgTzFHMHVPJC9RUWBPJyNDaU8kL11RYE8nI0tkTyQvZVFgTyw1PXtPJC9qUWBPJyNLZE8kL29RYE8nI0tkTyQvfVFgTycjSlFPJDBdUWBPLDVAfU8kMGVRIWZPMUcxaU9PUSEwTGYxRzFrMUcxa085Z1FgTzFHM2ZPQG9RYE8xRzNmTyQwbFFgTzFHM2ZPJDBxUWBPMUczZk9PUVsxRzNmMUczZk8hRHdRYE8xRzNVTyEmb1FNaE8xRzNSTyQwdlFgTzFHM1JPT1FbMUczUzFHM1NPISZvUU1oTzFHM1NPJDB7UWBPMUczU08kMVRRcE8nI0hRT09RWzFHM1UxRzNVTyE2U1FwTycjSXxPIUR8USFiTzFHM1hPT1FbMUczWDFHM1hPT1FbLDU9ciw1PXJPJDFdUU1oTyw1PXRPOWdRYE8sNT10TyQkVlFgTyw1PXZPOVtRYE8sNT12TyFCcVFwTyw1PXZPIUJ5UU1oTyw1PXZPOmBRTWhPLDU9dk8kMWtRYE8nI0tiTyQxdlFgTyw1PXdPT1FbMUcuazFHLmtPJDF7USEwTHJPMUcua09Ab1FgTzFHLmtPJDJXUWBPMUcua085cVEhMExyTzFHLmtPJDRgUSFmTyw1QVBPJDRtUWBPLDVBUE85YVFgTyw1QVBPJDR4UWxPLDU+T08kNVBRYE8sNT5PT09RWzFHM2gxRzNoT2BRbE8xRzNoT09RWzFHM24xRzNuT09RWzFHM3AxRzNwTz54UWBPMUczck8kNVVRbE8xRzN0TyQ5WVFsTycjSHNPT1FbMUczdzFHM3dPJDlnUWBPJyNIeU8+fVFgTycjSHtPT1FbMUczfTFHM31PJDlvUWxPMUczfU85cVEhMExyTzFHNFRPT1FbMUc0VjFHNFZPT1EhMExiJyNHXycjR19POXFRITBMck8xRzRYTzlxUSEwTHJPMUc0Wk8kPXZRYE8sNUBhTyEpUFFsTyw1O2BPOWFRYE8sNTtgTz59UWBPLDU6WE8hKVBRbE8sNTpYTyFCcVFwTyw1OlhPJD17UT9NdE8sNTpYT09RTyw1O2AsNTtgTyQ+VlFwTycjSWRPJD5tUWBPLDVAYE9PUSEwTGYxRy9yMUcvck8kPnVRcE8nI0lqTyQ/UFFgTyw1QG9PT1EhMExiMUcweTFHMHlPIyN0UXBPLDU6WE9PUU8nI0lmJyNJZk8kP1hRcE8sNTpxT09RITBMbiw1OnEsNTpxTyMnb1FgTzFHMFpPT1EhMExmMUcwWjFHMFpPJVtRbE8xRzBaT09RITBMZjFHMHQxRzB0Tz59UWBPMUcwdE8hQnFRcE8xRzB0TyFCeVFNaE8xRzB0T09RITBMYjFHNXsxRzV7TyFCZlEhMExyTzFHMF5PT1FPMUcwbTFHMG1PJVtRbE8xRzBtTyQ/YFEhMExyTzFHMG1PJD9rUSEwTHJPMUcwbU8hQnFRcE8xRzBeT0N7UXBPMUcwXk8kP3lRITBMck8xRzBtT09RTzFHMF4xRzBeTyRAX1EhME14TzFHMG1QT09PLUU8Wi1FPFpQT09PMUcuaDFHLmhPT09PMUcvaTFHL2lPJEBpUSFiTyw1PGlPJEBxUSFmTzFHNGlPT1FPMUc0bzFHNG9PJVtRbE8sNT59TyRAe1FgTzFHNXlPJEFUUWBPMUc2WE8kQV1RIWZPMUc2WU85YVFgTyw1P1RPJEFnUSEwTXhPMUc2Vk8lW1FsTzFHNlZPJEF3USEwTHJPMUc2Vk8kQllRYE8xRzZVTyRCWVFgTzFHNlVPOWFRYE8xRzZVTyRCYlFgTyw1P1dPOWFRYE8sNT9XT09RTyw1P1csNT9XTyRCdlFgTyw1P1dPJCl7UWBPLDU/V09PUU8tRTxqLUU8ak9PUVMxRzBhMUcwYU9PUVMxRzBjMUcwY08jLlFRYE8xRzBjT09RWzcrKGU3KyhlTyEmb1FNaE83KyhlTyVbUWxPNysoZU8kQ1VRYE83KyhlTyRDYVFNaE83KyhlTyRDb1EhME16Tyw1PVhPJEV6USEwTXpPLDU9Wk8kSFZRITBNek8sNT1YTyRKaFEhME16Tyw1PVpPJEx5USEwTXpPLDU5dU8lIE9RITBNek8sNTxrTyUjWlEhME16Tyw1PG1PJSVmUSEwTXpPLDU8e09PUSEwTGY3KyZhNysmYU8lJ3dRITBNeE83KyZhTyUoa1FsTycjSWVPJSh4UWBPLDVAYk8lKVFRIWZPLDVAYk9PUSEwTGYxRzBQMUcwUE8lKVtRYE83KyZqT09RITBMZjcrJmo3KyZqTyUpYVE/TXRPLDU6Zk8lW1FsTzcrJnpPJSlrUT9NdE8sNTpiTyUpeFE/TXRPLDU6ak8lKlNRP010Tyw1OmxPJSpeUU1oTycjSWhPJSpoUWBPLDVAZ09PUSEwTGgxRzBkMUcwZE9PUU8xRzFyMUcxck9PUU8xRzFzMUcxc08lKnBRIWpPLDU8Wk8hKVBRbE8sNTxZT09RTy1FPGstRTxrT09RITBMZjcrJ1k3KydZT09PVzcrJ2U3KydlT09PVzFHMXwxRzF8TyUqe1FgTzFHMXxPT1EhMExmMUcyTzFHMk9PT09PLDU5byw1OW9PJStRUSFkTyw1OW9PT09PLUU8Xy1FPF9PT1EhMExoMUcvWDFHL1hPJStYUSEwTXhPNysna09PUSEwTGgsNT9dLDU/XU8lK3tRTWhPMUcyZlAlLFNRYE8nI0lxUE9RITBMaC1FPG8tRTxvTyUscFFNak8sNT9gT09RITBMaC1FPHItRTxyTyUtY1FNak8sNT9iT09RITBMaC1FPHQtRTx0TyUtbVEhZE8xRzJ3TyUtdFEhZE8nI0NyTyUuW1FNaE8nI0tSTyQjalFsTycjSnVPT1EhMExoMUcyXzFHMl9PJS5jUWBPJyNJcE8lLndRYE8sNUB1TyUud1FgTyw1QHVPJS9QUWBPLDVAdU8lL1tRYE8sNUB1T09RTzFHMmExRzJhTyUvalFNak8xRzJgTyEreFFNaE8xRzJgTyUvelEoQ1dPJyNJck8lMFhRYE8sNUB2TyEmb1FNaE8sNUB2TyUwYVEhZE8sNUB2T09RITBMaDFHMmQxRzJkTyUycVEhZk8nI0NpTyUye1FgTyw1PVBPT1EhMExiLDU8fSw1PH1PJTNUUXBPLDU8fU9PUSEwTGIsNT1PLDU9T09DbFFgTyw1PH1PJTNgUXBPLDU8fU9PUSEwTGIsNT1SLDU9Uk8kKXtRYE8sNT1WT09RTyw1P18sNT9fT09RTy1FPHEtRTxxT09RITBMcDFHMmgxRzJoTyMjdFFwTyw1PH1PJCNqUWxPLDU9UE8lM25RYE8sNT1PTyUzeVFwTyw1PU9PISt4UU1oTycjSXRPJTRzUU1qTzFHMnNPISt4UU1oTycjSXZPJTVmUU1qTzFHMnVPJTVwUU1qTzFHNXBPJTV6UU1qTzFHNXBPT1FPLDU/ZCw1P2RPT1FPLUU8di1FPHZPT1FPMUcuezFHLntPITl4UXBPLDU5d08lW1FsTyw1OXdPT1EhMExoLDU8aiw1PGpPJTZYUWBPMUcyWk8hK3hRTWhPMUcyYk8hK3hRTWhPMUc1cE8hK3hRTWhPMUc1cE8lNl5RITBNeE83KydtT09RITBMZjcrJ203KydtTyEkbFFsTzcrJ21PJTdRUWBPLDU7YE9PUSEwTGIsNT9mLDU/Zk9PUSEwTGItRTx4LUU8eE8lN1ZRIWRPJyNLXU8jJ29RYE83KyhlTzRVUSFmTzcrKGVPJENYUWBPNysoZU8lN2FRITBNdk8nI0NpTyU3dFEhME12Tyw1PVNPJThmUWBPLDU9U08lOG5RYE8sNT1TT09RITBMYjFHNW4xRzVuT09RWzcrJGE3KyRhTyFCZlEhMExyTzcrJGFPIUJxUXBPNyskYU8hJGxRbE83KyZhTyU4c1FgTycjSlBPJTlbUWBPLDVBT09PUU8xRzNnMUczZ085Z1FgTyw1QU9PJTlbUWBPLDVBT08lOWRRYE8sNUFPT09RTyw1P2wsNT9sT09RTy1FPU8tRT1PT09RITBMZjcrJ1Q3KydUTyU5aVFgTzcrKVFPOXFRITBMck83KylRTzlnUWBPNyspUU9Ab1FgTzcrKVFPT1FbNysocDcrKHBPJTluUSEwTXZPNysobU8hJm9RTWhPNysobU8hRHJRYE83KyhuT09RWzcrKG43KyhuTyEmb1FNaE83KyhuTyU5eFFgTycjS2FPJTpUUWBPLDU9bE9PUU8sNT9oLDU/aE9PUU8tRTx6LUU8ek9PUVs3KyhzNysoc08lO2dRcE8nI0haT09RWzFHM2AxRzNgTyEmb1FNaE8xRzNgTyVbUWxPMUczYE8lO25RYE8xRzNgTyU7eVFNaE8xRzNgTzlxUSEwTHJPMUczYk8kJFZRYE8xRzNiTzlbUWBPMUczYk8hQnFRcE8xRzNiTyFCeVFNaE8xRzNiTyU8WFFgTycjSk9PJTxtUWBPLDVAfE8lPHVRcE8sNUB8T09RITBMYjFHM2MxRzNjT09RWzcrJFY3KyRWT0BvUWBPNyskVk85cVEhMExyTzcrJFZPJT1RUWBPNyskVk8lW1FsTzFHNmtPJVtRbE8xRzZsTyU9VlEhMExyTzFHNmtPJT1hUWxPMUczak8lPWhRYE8xRzNqTyU9bVFsTzFHM2pPT1FbNyspUzcrKVNPOXFRITBMck83KyleT2BRbE83KylgT09RWycjS2cnI0tnT09RWycjSlInI0pSTyU9dFFsTyw1Pl9PT1FbLDU+Xyw1Pl9PJVtRbE8nI0h0TyU+UlFgTycjSHZPT1FbLDU+ZSw1PmVPOWFRYE8sNT5lT09RWyw1PmcsNT5nT09RWzcrKWk3KylpT09RWzcrKW83KylvT09RWzcrKXM3KylzT09RWzcrKXU3Kyl1TyU+V1FwTzFHNXtPJT5yUT9NdE8xRzB6TyU+fFFgTzFHMHpPT1FPMUcvczFHL3NPJT9YUT9NdE8xRy9zTz59UWBPMUcvc08hKVBRbE8nI0RtT09RTyw1P08sNT9PT09RTy1FPGItRTxiT09RTyw1P1UsNT9VT09RTy1FPGgtRTxoTyFCcVFwTzFHL3NPT1FPLUU8ZC1FPGRPT1EhMExuMUcwXTFHMF1PT1EhMExmNysldTcrJXVPIydvUWBPNysldU9PUSEwTGY3KyZgNysmYE8+fVFgTzcrJmBPIUJxUXBPNysmYE9PUU83KyV4NysleE8kQF9RITBNeE83KyZYT09RTzcrJlg3KyZYTyVbUWxPNysmWE8lP2NRITBMck83KyZYTyFCZlEhMExyTzcrJXhPIUJxUXBPNysleE8lP25RITBMck83KyZYTyU/fFEhME14TzcrK3FPJVtRbE83KytxTyVAXlFgTzcrK3BPJUBeUWBPNysrcE9PUU8xRzRyMUc0ck85YVFgTzFHNHJPJUBmUWBPMUc0ck9PUVM3KyV9NyslfU8jJ29RYE88PExQTzRVUSFmTzw8TFBPJUB0UWBPPDxMUE9PUVs8PExQPDxMUE8hJm9RTWhPPDxMUE8lW1FsTzw8TFBPJUB8UWBPPDxMUE8lQVhRITBNek8sNT9gTyVDZFEhME16Tyw1P2JPJUVvUSEwTXpPMUcyYE8lSFFRITBNek8xRzJzTyVKXVEhME16TzFHMnVPJUxoUSFmTyw1P1BPJVtRbE8sNT9QT09RTy1FPGMtRTxjTyVMclFgTzFHNXxPT1EhMExmPDxKVTw8SlVPJUx6UT9NdE8xRzB1TyYgUlE/TXRPMUcxUE8mIFlRP010TzFHMVBPJiNaUT9NdE8xRzFQTyYjYlE/TXRPMUcxUE8mJWNRP010TzFHMVBPJidkUT9NdE8xRzFQTyYna1E/TXRPMUcxUE8mJ3JRP010TzFHMVBPJilzUT9NdE8xRzFQTyYpelE/TXRPMUcxUE8mKlJRITBNeE88PEpmTyYreVE/TXRPMUcxUE8mLHZRP012TzFHMVBPJi15UT9Ndk8nI0prTyYwUFE/TXRPMUcxY08mMF5RP010TzFHMFVPJjBoUU1qTyw1P1NPT1FPLUU8Zi1FPGZPISlQUWxPJyNGcU9PUU8nI0tZJyNLWU9PUU8xRzF1MUcxdU8mMHJRYE8xRzF0TyYwd1E/TXRPLDU/Wk9PT1c3KydoNysnaE9PT08xRy9aMUcvWk8mMVJRIWRPMUc0d09PUSEwTGg3KyhRNysoUVAhJm9RTWhPLDU/XU8hK3hRTWhPNysoY08mMVlRYE8sNT9bTzlhUWBPLDU/W09PUU8tRTxuLUU8bk8mMWhRYE8xRzZhTyYxaFFgTzFHNmFPJjFwUWBPMUc2YU8mMXtRTWpPNysnek8mMl1RIWRPLDU/Xk8mMmdRYE8sNT9eTyEmb1FNaE8sNT9eT09RTy1FPHAtRTxwTyYybFEhZE8xRzZiTyYydlFgTzFHNmJPJjNPUWBPMUcya08hJm9RTWhPMUcya09PUSEwTGIxRzJpMUcyaU9PUSEwTGIxRzJqMUcyak8lM1RRcE8xRzJpTyFCcVFwTzFHMmlPQ2xRYE8xRzJpT09RITBMYjFHMnExRzJxTyYzVFFwTzFHMmlPJjNjUWBPMUcya08kKXtRYE8xRzJqT0NsUWBPMUcyak8kI2pRbE8xRzJrTyYza1FgTzFHMmpPJjRfUU1qTyw1P2BPT1EhMExoLUU8cy1FPHNPJjVRUU1qTyw1P2JPT1EhMExoLUU8dS1FPHVPISt4UU1oTzcrK1tPT1EhMExoMUcvYzFHL2NPJjVbUWBPMUcvY09PUSEwTGg3Kyd1NysndU8mNWFRTWpPNysnfE8mNXFRTWpPNysrW08mNXtRTWpPNysrW08mNllRITBNeE88PEtYT09RITBMZjw8S1g8PEtYTyY2fFFgTzFHMHpPISZvUU1oTycjSXlPJjdSUWBPLDVAd08mOVRRIWZPPDxMUE8hJm9RTWhPMUcybk8mOVtRITBMck8xRzJuT09RWzw8R3s8PEd7TyFCZlEhMExyTzw8R3tPJjltUSEwTXhPPDxJe09PUSEwTGY8PEl7PDxJe09PUU8sNT9rLDU/a08mOmFRYE8sNT9rTyY6ZlFgTyw1P2tPT1FPLUU8fS1FPH1PJjp0UWBPMUc2ak8mOnRRYE8xRzZqTzlnUWBPMUc2ak9Ab1FgTzw8TGxPT1FbPDxMbDw8TGxPJjp8UWBPPDxMbE85cVEhMExyTzw8TGxPT1FbPDxMWDw8TFhPJTluUSEwTXZPPDxMWE9PUVs8PExZPDxMWU8hRHJRYE88PExZTyY7UlFwTycjSXtPJjteUWBPLDVAe08hKVBRbE8sNUB7T09RWzFHM1cxRzNXT09RTycjSX0nI0l9TzlxUSEwTHJPJyNJfU8mO2ZRcE8sNT11T09RWyw1PXUsNT11TyY7bVFwTycjRWdPJjt0UXBPJyNHZU8mO3lRYE83Kyh6TyY8T1FgTzcrKHpPT1FbNysoejcrKHpPISZvUU1oTzcrKHpPJVtRbE83Kyh6TyY8V1FgTzcrKHpPT1FbNysofDcrKHxPOXFRITBMck83Kyh8TyQkVlFgTzcrKHxPOVtRYE83Kyh8TyFCcVFwTzcrKHxPJjxjUWBPLDU/ak9PUU8tRTx8LUU8fE9PUU8nI0heJyNIXk8mPG5RYE8xRzZoTzlxUSEwTHJPPDxHcU9PUVs8PEdxPDxHcU9Ab1FgTzw8R3FPJjx2UWBPNyssVk8mPHtRYE83KyxXTyVbUWxPNyssVk8lW1FsTzcrLFdPT1FbNyspVTcrKVVPJj1RUWBPNyspVU8mPVZRbE83KylVTyY9XlFgTzcrKVVPT1FbPDxMeDw8THhPT1FbPDxMejw8THpPT1FbLUU9UC1FPVBPT1FbMUczeTFHM3lPJj1jUWBPLDU+YE9PUVssNT5iLDU+Yk8mPWhRYE8xRzRQTzlhUWBPNysmZk8hKVBRbE83KyZmT09RTzcrJV83KyVfTyY9bVE/TXRPMUc2WU8+fVFgTzcrJV9PT1EhMExmPDxJYTw8SWFPT1EhMExmPDxJejw8SXpPPn1RYE88PEl6T09RTzw8SXM8PElzTyRAX1EhME14Tzw8SXNPJVtRbE88PElzT09RTzw8SWQ8PElkTyFCZlEhMExyTzw8SWRPJj13USEwTHJPPDxJc08mPlNRITBNeE88PSBdTyY+ZFFgTzw9IFtPT1FPNysqXjcrKl5POWFRYE83KypeT09RW0FOQWtBTkFrTyY+bFEhZk9BTkFrTyEmb1FNaE9BTkFrTyMnb1FgT0FOQWtPNFVRIWZPQU5Ba08mPnNRYE9BTkFrTyVbUWxPQU5Ba08mPntRITBNek83Kyd6TyZBXlEhME16Tyw1P2BPJkNpUSEwTXpPLDU/Yk8mRXRRITBNek83Kyd8TyZIVlEhZk8xRzRrTyZIYVE/TXRPNysmYU8mSmVRP012Tyw1PVhPJkxsUT9Ndk8sNT1aTyZMfFE/TXZPLDU9WE8mTV5RP012Tyw1PVpPJk1uUT9Ndk8sNTl1TycgdFE/TXZPLDU8a08nI3dRP012Tyw1PG1PJyZdUT9Ndk8sNTx7TycoUlE/TXRPNysna08nKGBRP010TzcrJ21PJyhtUWBPLDU8XU9PUU83KydgNysnYE9PUSEwTGg3KypjNysqY08nKHJRTWpPPDxLfU9PUU8xRzR2MUc0dk8nKHlRYE8xRzR2TycpVVFgTzFHNHZPJylkUWBPNysre08nKWRRYE83Kyt7TyEmb1FNaE8xRzR4TycpbFEhZE8xRzR4TycpdlFgTzcrK3xPJypPUWBPNysoVk8nKlpRIWRPNysoVk9PUSEwTGI3KyhUNysoVE9PUSEwTGI3KyhVNysoVU8hQnFRcE83KyhUT0NsUWBPNysoVE8nKmVRYE83KyhWTyEmb1FNaE83KyhWTyQpe1FgTzcrKFVPJypqUWBPNysoVk9DbFFgTzcrKFVPJypyUU1qTzw8TnZPT1EhMExoNyskfTcrJH1PISt4UU1oTzw8TnZPJyp8USFkTyw1P2VPT1FPLUU8dy1FPHdPJytXUSEwTXZPNysoWU8hJm9RTWhPNysoWU9PUVtBTj1nQU49Z085Z1FgTzFHNVZPT1FPMUc1VjFHNVZPJytoUWBPMUc1Vk8nK21RYE83KyxVTycrbVFgTzcrLFVPOXFRITBMck9BTkJXT0BvUWBPQU5CV09PUVtBTkJXQU5CV09PUVtBTkFzQU5Bc09PUVtBTkF0QU5BdE8nK3VRYE8sNT9nT09RTy1FPHktRTx5TycsUVE/TXRPMUc2Z09PUU8sNT9pLDU/aU9PUU8tRTx7LUU8e09PUVsxRzNhMUczYU8nLFtRYE8sNT1QT09RWzw8TGY8PExmTyEmb1FNaE88PExmTyY7eVFgTzw8TGZPJyxhUWBPPDxMZk8lW1FsTzw8TGZPT1FbPDxMaDw8TGhPOXFRITBMck88PExoTyQkVlFgTzw8TGhPOVtRYE88PExoTycsaVFwTzFHNVVPJyx0UWBPNyssU09PUVtBTj1dQU49XU85cVEhMExyT0FOPV1PT1FbPD0gcTw9IHFPT1FbPD0gcjw9IHJPJyx8UWBPPD0gcU8nLVJRYE88PSByT09RWzw8THA8PExwTyctV1FgTzw8THBPJy1dUWxPPDxMcE9PUVsxRzN6MUczek8+fVFgTzcrKWtPJy1kUWBPPDxKUU8nLW9RP010Tzw8SlFPT1FPPDxIeTw8SHlPT1EhMExmQU4/ZkFOP2ZPT1FPQU4/X0FOP19PJEBfUSEwTXhPQU4/X09PUU9BTj9PQU4/T08lW1FsT0FOP19PT1FPPDxNeDw8TXhPT1FbRzI3VkcyN1ZPISZvUU1oT0cyN1ZPIydvUWBPRzI3Vk8nLXlRIWZPRzI3Vk80VVEhZk9HMjdWTycuUVFgT0cyN1ZPJy5ZUT9NdE88PEpmTycuZ1E/TXZPMUcyYE8nMF1RP012Tyw1P2BPJzJgUT9Ndk8sNT9iTyc0Y1E/TXZPMUcyc08nNmZRP012TzFHMnVPJzhpUT9NdE88PEtYTyc4dlE/TXRPPDxJe09PUU8xRzF3MUcxd08hK3hRTWhPQU5BaU9PUU83KypiNysqYk8nOVRRYE83KypiTyc5YFFgTzw9IGdPJzloUSFkTzcrKmRPT1EhMExiPDxLcTw8S3FPJCl7UWBPPDxLcU9DbFFgTzw8S3FPJzlyUWBPPDxLcU8hJm9RTWhPPDxLcU9PUSEwTGI8PEtvPDxLb08hQnFRcE88PEtvTyc5fVEhZE88PEtxT09RITBMYjw8S3A8PEtwTyc6WFFgTzw8S3FPISZvUU1oTzw8S3FPJCl7UWBPPDxLcE8nOl5RTWpPQU5EYk8nOmhRITBNdk88PEt0T09RTzcrKnE3KypxTzlnUWBPNysqcU8nOnhRYE88PSBwT09RW0cyN3JHMjdyTzlxUSEwTHJPRzI3ck8hKVBRbE8xRzVSTyc7UVFgTzcrLFJPJztZUWBPMUcya08mO3lRYE9BTkJRT09RW0FOQlFBTkJRTyEmb1FNaE9BTkJRTyc7X1FgT0FOQlFPT1FbQU5CU0FOQlNPOXFRITBMck9BTkJTTyQkVlFgT0FOQlNPT1FPJyNIXycjSF9PT1FPNysqcDcrKnBPT1FbRzIyd0cyMndPT1FbQU5FXUFORV1PT1FbQU5FXkFORV5PT1FbQU5CW0FOQltPJztnUWBPQU5CW09PUVs8PE1WPDxNVk8hKVBRbE9BTj9sT09RT0cyNHlHMjR5TyRAX1EhME14T0cyNHlPIydvUWBPTEQscU9PUVtMRCxxTEQscU8hJm9RTWhPTEQscU8nO2xRIWZPTEQscU8nO3NRP012TzcrJ3pPJz1pUT9Ndk8sNT9gTyc/bFE/TXZPLDU/Yk8nQW9RP012TzcrJ3xPJ0NlUU1qT0cyN1RPT1FPPDxNfDw8TXxPT1EhMExiQU5BXUFOQV1PJCl7UWBPQU5BXU9DbFFgT0FOQV1PJ0N1USFkT0FOQV1PT1EhMExiQU5BWkFOQVpPJ0N8UWBPQU5BXU8hJm9RTWhPQU5BXU8nRFhRIWRPQU5BXU9PUSEwTGJBTkFbQU5BW09PUU88PE5dPDxOXU9PUVtMRC1eTEQtXk8nRGNRP010TzcrKm1PT1FPJyNHZicjR2ZPT1FbRzI3bEcyN2xPJjt5UWBPRzI3bE8hJm9RTWhPRzI3bE9PUVtHMjduRzI3bk85cVEhMExyT0cyN25PT1FbRzI3dkcyN3ZPJ0RtUT9NdE9HMjVXT09RT0xEKmVMRCplT09RWyEkKCFdISQoIV1PIydvUWBPISQoIV1PISZvUU1oTyEkKCFdTydEd1EhME16T0cyN1RPT1EhMExiRzI2d0cyNndPJCl7UWBPRzI2d08nR1lRYE9HMjZ3T0NsUWBPRzI2d08nR2VRIWRPRzI2d08hJm9RTWhPRzI2d09PUVtMRC1XTEQtV08mO3lRYE9MRC1XT09RW0xELVlMRC1ZT09RWyEpOUV3ISk5RXdPIydvUWBPISk5RXdPT1EhMExiTEQsY0xELGNPJCl7UWBPTEQsY09DbFFgT0xELGNPJ0dsUWBPTEQsY08nR3dRIWRPTEQsY09PUVshJCghciEkKCFyT09RWyEuSztjIS5LO2NPJ0hPUT9Ndk9HMjdUT09RITBMYiEkKCB9ISQoIH1PJCl7UWBPISQoIH1PQ2xRYE8hJCggfU8nSXRRYE8hJCggfU9PUSEwTGIhKTlFaSEpOUVpTyQpe1FgTyEpOUVpT0NsUWBPISk5RWlPT1EhMExiIS5LO1QhLks7VE8kKXtRYE8hLks7VE9PUSEwTGIhNC8wbyE0LzBvTyEpUFFsTycjRHpPMVBRYE8nI0VYTydKUFEhZk8nI0pxTydKV1EhTF5PJyNEdk8nSl9RbE8nI0VPTydKZlEhZk8nI0NpTydMfFEhZk8nI0NpTyEpUFFsTycjRVFPJ01eUWxPLDU7Wk8hKVBRbE8sNTtlTyEpUFFsTyw1O2VPISlQUWxPLDU7ZU8hKVBRbE8sNTtlTyEpUFFsTyw1O2VPISlQUWxPLDU7ZU8hKVBRbE8sNTtlTyEpUFFsTyw1O2VPISlQUWxPLDU7ZU8hKVBRbE8sNTtlTyEpUFFsTycjSW9PKCBhUWBPLDU8aU8hKVBRbE8sNTtlTyggaVFNaE8sNTtlTygjU1FNaE8sNTtlTyEpUFFsTyw1O3dPISZvUU1oTycjR21PKCBpUU1oTycjR21PISZvUU1oTycjR29PKCBpUU1oTycjR29PMVNRYE8nI0RaTzFTUWBPJyNEWk8hJm9RTWhPJyNHUE8oIGlRTWhPJyNHUE8hJm9RTWhPJyNHUk8oIGlRTWhPJyNHUk8hJm9RTWhPJyNHYU8oIGlRTWhPJyNHYU8hKVBRbE8sNTpqTygjWlFwTycjRF9PKCNlUXBPJyNKdU8hKVBRbE8sNUBuTydNXlFsTzFHMHVPKCNvUT9NdE8nI0NpTyEpUFFsTzFHMlBPISZvUU1oTycjSXRPKCBpUU1oTycjSXRPISZvUU1oTycjSXZPKCBpUU1oTycjSXZPKCN5USFkTycjQ3JPISZvUU1oTyw1PHRPKCBpUU1oTyw1PHRPJ01eUWxPMUcyUk8hKVBRbE83KyZ6TyEmb1FNaE8xRzJgTyggaVFNaE8xRzJgTyEmb1FNaE8nI0l0TyggaVFNaE8nI0l0TyEmb1FNaE8nI0l2TyggaVFNaE8nI0l2TyEmb1FNaE8xRzJiTyggaVFNaE8xRzJiTydNXlFsTzcrJ21PJ01eUWxPNysmYU8hJm9RTWhPQU5BaU8oIGlRTWhPQU5BaU8oJF5RYE8nI0VvTygkY1FgTycjRW9PKCRrUWBPJyNGXU8oJHBRYE8nI0V5TygkdVFgTycjS1NPKCVRUWBPJyNLUU8oJV1RYE8sNTtaTyglYlFNak8sNTxlTyglaVFgTycjR1lPKCVuUWBPJyNHWU8oJXNRYE8sNTxnTygle1FgTyw1O1pPKCZUUT9NdE8xRzFgTygmW1FgTyw1PHRPKCZhUWBPLDU8dE8oJmZRYE8sNTx2Tygma1FgTyw1PHZPKCZwUWBPMUcyUk8oJnVRYE8xRzB1TygmelFNak88PEt9TygnUlFNak88PEt9TzdlUU1oTycjRnxPOVtRYE8nI0Z7T0FqUWBPJyNFbk8hKVBRbE8sNTt0TyEzZFFgTycjR1lPITNkUWBPJyNHWU8hM2RRYE8nI0dbTyEzZFFgTycjR1tPISt4UU1oTzcrKGNPISt4UU1oTzcrKGNPJS1tUSFkTzFHMndPJS1tUSFkTzFHMndPISZvUU1oTyw1PV1PISZvUU1oTyw1PV1cIixcbiAgc3RhdGVEYXRhOiBcIigoWH5PJ3tPUyd8T1NUT1MnfVJRfk9QWU9RWU9TZk9ZIVZPYXFPZHpPZXlPbCFQT3BrT3JZT3NrT3RrT3prT3xZTyFPWU8hU1dPIVdrTyFYa08hX1hPIWl1TyFsWk8hb1lPIXBZTyFxWU8hc3ZPIXV3TyF4eE8hfF1PJFd8TyRuaU8laH1PJWohUU8lbCFPTyVtIU9PJW4hT08lcSFSTyVzIVNPJXYhVE8ldyFUTyV5IVVPJlYhV08mXSFYTyZfIVlPJmEhWk8mYyFbTyZmIV1PJmwhXk8mciFfTyZ0IWBPJnYhYU8meCFiTyZ6IWNPKFNTTyhVVE8oWFVPKGBWTyhuW09+T1d0T35QYE9QWU9RWU9TZk9kIWpPZSFpT3BrT3JZT3NrT3RrT3prT3xZTyFPWU8hU1dPIVdrTyFYa08hXyFlTyFpdU8hbFpPIW9ZTyFwWU8hcVlPIXN2TyF1IWdPIXghaE8kVyFrTyRuaU8oUyFkTyhVVE8oWFVPKGBWTyhuW09+T2Ehd09zIW5PIVMhb08hYiF5TyFjIXZPIWQhdk8hfDt3TyNUIXBPI1UhcE8jViF4TyNXIXBPI1ghcE8jWyF6TyNdIXpPKFQhbE8oVVRPKFhVTyhkIW1PKG4hc09+Tyd9IXtPfk9QXVhSXVhbXVhhXVhqXVhyXVghUV1YIVNdWCFdXVghbF1YIXBdWCNSXVgjU11YI2BdWCNrZlgjbl1YI29dWCNwXVgjcV1YI3JdWCNzXVgjdF1YI3VdWCN2XVgjeF1YI3pdWCN7XVgkUV1YJ3ldWChgXVgocV1YKHhdWCh5XVh+TyFnJVJYflAocU9fIX1PKFUjUE8oViF9TyhXI1BPfk9fI1FPKFcjUE8oWCNQTyhZI1FPfk94I1NPIVUjVE8oYSNUTyhiI1ZPfk9QWU9RWU9TZk9kIWpPZSFpT3BrT3JZT3NrT3RrT3prT3xZTyFPWU8hU1dPIVdrTyFYa08hXyFlTyFpdU8hbFpPIW9ZTyFwWU8hcVlPIXN2TyF1IWdPIXghaE8kVyFrTyRuaU8oUzt7TyhVVE8oWFVPKGBWTyhuW09+TyFbI1pPIV0jV08hWShnUCFZKHVQflArfU8hXiNjT35QYE9QWU9RWU9TZk9kIWpPZSFpT3JZT3NrT3RrT3prT3xZTyFPWU8hU1dPIVdrTyFYa08hXyFlTyFpdU8hbFpPIW9ZTyFwWU8hcVlPIXN2TyF1IWdPIXghaE8kVyFrTyRuaU8oVVRPKFhVTyhgVk8obltPfk9wI21PIVsjaU8hfF1PI2kjbE8jaiNpTyhTO3xPIWsoclB+UC5pTyFsI29PKFMjbk9+TyF4I3NPIXxdTyVoI3RPfk8jayN1T35PIWcjdk8jayN1T35PUCRbT1Ijek9bJGNPaiRST3IkYU8hUSN5TyFTI3tPIV0kX08hbCN4TyFwJFtPI1IkUk8jbiRPTyNvJFBPI3AkUE8jcSRQTyNyJFFPI3MkUk8jdCRSTyN1JGJPI3YkU08jeCRVTyN6JFdPI3skWE8oYFZPKHEkWU8oeCN8Tyh5I31Pfk9hKGVYJ3koZVgndihlWCFrKGVYIVkoZVghXyhlWCVpKGVYIWcoZVh+UDFxTyNTJGRPI2AkZU8kUSRlT1AoZlhSKGZYWyhmWGooZlhyKGZYIVEoZlghUyhmWCFdKGZYIWwoZlghcChmWCNSKGZYI24oZlgjbyhmWCNwKGZYI3EoZlgjcihmWCNzKGZYI3QoZlgjdShmWCN2KGZYI3goZlgjeihmWCN7KGZYKGAoZlgocShmWCh4KGZYKHkoZlghXyhmWCVpKGZYfk9hKGZYJ3koZlgndihmWCFZKGZYIWsoZlh2KGZYIWcoZlh+UDRVTyNgJGVPfk8kXSRoTyRfJGdPJGYkbU9+T1NmTyFfJG5PJGkkb08kayRxT35PaCVWT2olY09rJWNPbCVjT3AlV09yJVhPcyR0T3QkdE96JVlPfCVaTyFPJVtPIVMke08hXyR8TyFpJWFPIWwkeE8jaiViTyRXJV9PJHQlXU8kdiVeTyR5JWBPKFMkc08oVVRPKFhVTyhgJHVPKHgkfU8oeSVQT2coXVB+TyFsJWRPfk8hUyVnTyFfJWhPKFMlZk9+TyFnJWxPfk9hJW1PJ3klbU9+TyFRJXFPflAlW08oVCFsT35QJVtPJW4ldU9+UCVbT2glVk8hbCVkTyhTJWZPKFQhbE9+T2UlfE8hbCVkTyhTJWZPfk9qJFJPfk8hUSZSTyFfJk9PIWwmUU8laiZVTyhTJWZPKFQhbE8oVVRPKFhVT2ApVlB+TyF4I3NPfk8lcyZXTyFTKVJYIV8pUlgoUylSWH5PKFMmWE9+T2whUE8hdSZeTyVqIVFPJWwhT08lbSFPTyVuIU9PJXEhUk8lcyFTTyV2IVRPJXchVE9+T2QmY09lJmJPIXgmYE8laCZhTyV7Jl9PflA8Vk9kJmZPZXlPbCFQTyFfJmVPIXUmXk8heHhPIXxdTyVofU8lbCFPTyVtIU9PJW4hT08lcSFSTyVzIVNPJXYhVE8ldyFUTyV5IVVPfk9iJmlPI2AmbE8laiZnTyhUIWxPflA9W08hbCZtTyF1JnFPfk8hbCNvT35PIV9YT35PYSVtTyd3JnlPJ3klbU9+T2ElbU8ndyZ8Tyd5JW1Pfk9hJW1PJ3cnT08neSVtT35PJ3ZdWCFZXVh2XVgha11YJlpdWCFfXVglaV1YIWddWH5QKHFPIWInXU8hYydVTyFkJ1VPKFQhbE8oVVRPKFhVT35PcydTTyFTJ1JPIVsnVk8oZCdRTyFeKGhQIV4od1B+UEBjT24nYE8hXydeTyhTJWZPfk9lJ2VPIWwlZE8oUyVmT35PIVEmUk8hbCZRT35PcyFuTyFTIW9PIXw7d08jVCFwTyNVIXBPI1chcE8jWCFwTyhUIWxPKFVUTyhYVU8oZCFtTyhuIXNPfk8hYidrTyFjJ2pPIWQnak8jViFwTyNbJ2xPI10nbE9+UEF9T2ElbU9oJVZPIWcjdk8hbCVkTyd5JW1PKHEnbk9+TyFwJ3JPI2AncE9+UENdT3Mhbk8hUyFvTyhVVE8oWFVPKGQhbU8obiFzT35PIV9YT3MobFghUyhsWCFiKGxYIWMobFghZChsWCF8KGxYI1QobFgjVShsWCNWKGxYI1cobFgjWChsWCNbKGxYI10obFgoVChsWChVKGxYKFgobFgoZChsWChuKGxYfk8hYydqTyFkJ2pPKFQhbE9+UEN7TyhPJ3ZPKFAndk8oUSd4T35PXyF9TyhVJ3pPKFYhfU8oVyd6T35PXyNRTyhXJ3pPKFgnek8oWSNRT35Pdid8T35QJVtPeCNTTyFVI1RPKGEjVE8oYihQT35PIVsoUk8hWSdWWCFZJ11YIV0nVlghXSddWH5QK31PIV0oVE8hWShnWH5PUCRbT1Ijek9bJGNPaiRST3IkYU8hUSN5TyFTI3tPIV0oVE8hbCN4TyFwJFtPI1IkUk8jbiRPTyNvJFBPI3AkUE8jcSRQTyNyJFFPI3MkUk8jdCRSTyN1JGJPI3YkU08jeCRVTyN6JFdPI3skWE8oYFZPKHEkWU8oeCN8Tyh5I31Pfk8hWShnWH5QR3ZPIVkoWU9+TyFZKHRYIV0odFghZyh0WCFrKHRYKHEodFh+TyNgKHRYI2sjZFghXih0WH5QSXlPI2AoWk8hWSh2WCFdKHZYfk8hXShbTyFZKHVYfk8hWShfT35PI2AkZU9+UEl5TyFeKGBPflBgT1Ijek8hUSN5TyFTI3tPIWwjeE8oYFZPUCFuYVshbmFqIW5hciFuYSFdIW5hIXAhbmEjUiFuYSNuIW5hI28hbmEjcCFuYSNxIW5hI3IhbmEjcyFuYSN0IW5hI3UhbmEjdiFuYSN4IW5hI3ohbmEjeyFuYShxIW5hKHghbmEoeSFuYX5PYSFuYSd5IW5hJ3YhbmEhWSFuYSFrIW5hdiFuYSFfIW5hJWkhbmEhZyFuYX5QS2FPIWsoYU9+TyFnI3ZPI2AoYk8ocSduTyFdKHNYYShzWCd5KHNYfk8hayhzWH5QTXxPIVMlZ08hXyVoTyF8XU8jaShnTyNqKGZPKFMlZk9+TyFdKGhPIWsoclh+TyFrKGpPfk8hUyVnTyFfJWhPI2ooZk8oUyVmT35PUChmWFIoZlhbKGZYaihmWHIoZlghUShmWCFTKGZYIV0oZlghbChmWCFwKGZYI1IoZlgjbihmWCNvKGZYI3AoZlgjcShmWCNyKGZYI3MoZlgjdChmWCN1KGZYI3YoZlgjeChmWCN6KGZYI3soZlgoYChmWChxKGZYKHgoZlgoeShmWH5PIWcjdk8hayhmWH5QISBqT1IobE8hUShrTyFsI3hPI1MkZE8hfCF7YSFTIXthfk8heCF7YSVoIXthIV8he2EjaSF7YSNqIXthKFMhe2F+UCEja08heChwT35PUFlPUVlPU2ZPZCFqT2UhaU9wa09yWU9za090a096a098WU8hT1lPIVNXTyFXa08hWGtPIV9YTyFpdU8hbFpPIW9ZTyFwWU8hcVlPIXN2TyF1IWdPIXghaE8kVyFrTyRuaU8oUyFkTyhVVE8oWFVPKGBWTyhuW09+T2glVk9wJVdPciVYT3MkdE90JHRPeiVZT3wlWk8hTzxlTyFTJHtPIV8kfE8haT12TyFsJHhPI2o8a08kVyVfTyR0PGdPJHY8aU8keSVgTyhTKHRPKFVUTyhYVU8oYCR1Tyh4JH1PKHklUE9+TyNrKHZPfk8hWyh4TyFrKGpQflAlW08oZCh6TyhuW09+TyFTKHxPIWwjeE8oZCh6TyhuW09+T1A7dk9RO3ZPU2ZPZD1yT2UhaU9wa09yO3ZPc2tPdGtPemtPfDt2TyFPO3ZPIVNXTyFXa08hWGtPIV8hZU8haTt5TyFsWk8hbzt2TyFwO3ZPIXE7dk8hczt6TyF1O31PIXghaE8kVyFrTyRuPXBPKFMpWk8oVVRPKFhVTyhgVk8obltPfk8hXSRfT2EkcWEneSRxYSd2JHFhIWskcWEhWSRxYSFfJHFhJWkkcWEhZyRxYX5PbCliT35QISZvT2glVk9wJVdPciVYT3MkdE90JHRPeiVZT3wlWk8hTyVbTyFTJHtPIV8kfE8haSVhTyFsJHhPI2olYk8kVyVfTyR0JV1PJHYlXk8keSVgTyhTKHRPKFVUTyhYVU8oYCR1Tyh4JH1PKHklUE9+T2cob1B+UCEreE8hUSlnTyFnKWZPIV8kXlgkWiReWCRdJF5YJF8kXlgkZiReWH5PIWcpZk8hXyh6WCRaKHpYJF0oelgkXyh6WCRmKHpYfk8hUSlnT35QIS5STyFRKWdPIV8oelgkWih6WCRdKHpYJF8oelgkZih6WH5PIV8paU8kWiltTyRdKWhPJF8paE8kZiluT35PIVspcU9+UCEpUE8kXSRoTyRfJGdPJGYpdU9+T24kelghUSR6WCNTJHpYJ3gkelgoeCR6WCh5JHpYfk9nbVhnJHpYbm1YIV1tWCNgbVh+UCEvd094KXdPKGEpeE8oYil6T35PbipUTyFRKXxPJ3gpfU8oeCR9Tyh5JVBPfk9nKXtPflAhMHtPZypVT35PaCVWT3AlV09yJVhPcyR0T3QkdE96JVlPfCVaTyFPPGVPIVMqV08hXypYTyFpPXZPIWwkeE8jajxrTyRXJV9PJHQ8Z08kdjxpTyR5JWBPKFVUTyhYVU8oYCR1Tyh4JH1PKHklUE9+TyFbKltPKFMqVk8hayh9UH5QITFqTyNrKl5Pfk8hbCpfT35PaCVWT3AlV09yJVhPcyR0T3QkdE96JVlPfCVaTyFPPGVPIVMke08hXyR8TyFpPXZPIWwkeE8jajxrTyRXJV9PJHQ8Z08kdjxpTyR5JWBPKFMqYU8oVVRPKFhVTyhgJHVPKHgkfU8oeSVQT35PIVsqZE8hWSlPUH5QITNpT3IqcE9zIW5PIVMqZk8hYipuTyFjKmhPIWQqaE8hbCpfTyNbKm9PJWAqak8oVCFsTyhVVE8oWFVPKGQhbU9+TyFeKm1PflAhNV5PI1MkZE9uKF9YIVEoX1gneChfWCh4KF9YKHkoX1ghXShfWCNgKF9Yfk9nKF9YJE8oX1h+UCE2YE9uKnVPI2AqdE9nKF5YIV0oXlh+TyFdKnZPZyhdWH5PaiVjT2slY09sJWNPKFMmWE9nKF1Qfk9zKnlPfk8hbCtPT35PKFModE9+T3ArVE8hUyVnTyFbI2lPIV8laE8hfF1PI2kjbE8jaiNpTyhTJWZPIWsoclB+TyFnI3ZPI2srVU9+TyFTJWdPIVsrV08hXShbTyFfJWhPKFMlZk8hWSh1UH5PcydZTyFTK1lPIVsrWE8oVVRPKFhVTyhkKHpPfk8hXih3UH5QITlpTyFdK1pPYSlTWCd5KVNYfk9QJFtPUiN6T1skY09qJFJPciRhTyFRI3lPIVMje08hbCN4TyFwJFtPI1IkUk8jbiRPTyNvJFBPI3AkUE8jcSRQTyNyJFFPI3MkUk8jdCRSTyN1JGJPI3YkU08jeCRVTyN6JFdPI3skWE8oYFZPKHEkWU8oeCN8Tyh5I31Pfk9hIWphIV0hamEneSFqYSd2IWphIVkhamEhayFqYXYhamEhXyFqYSVpIWphIWchamF+UCE6YU9SI3pPIVEjeU8hUyN7TyFsI3hPKGBWT1AhcmFbIXJhaiFyYXIhcmEhXSFyYSFwIXJhI1IhcmEjbiFyYSNvIXJhI3AhcmEjcSFyYSNyIXJhI3MhcmEjdCFyYSN1IXJhI3YhcmEjeCFyYSN6IXJhI3shcmEocSFyYSh4IXJhKHkhcmF+T2EhcmEneSFyYSd2IXJhIVkhcmEhayFyYXYhcmEhXyFyYSVpIXJhIWchcmF+UCE8d09SI3pPIVEjeU8hUyN7TyFsI3hPKGBWT1AhdGFbIXRhaiF0YXIhdGEhXSF0YSFwIXRhI1IhdGEjbiF0YSNvIXRhI3AhdGEjcSF0YSNyIXRhI3MhdGEjdCF0YSN1IXRhI3YhdGEjeCF0YSN6IXRhI3shdGEocSF0YSh4IXRhKHkhdGF+T2EhdGEneSF0YSd2IXRhIVkhdGEhayF0YXYhdGEhXyF0YSVpIXRhIWchdGF+UCE/X09oJVZPbitkTyFfJ15PJWkrY09+TyFnK2ZPYShbWCFfKFtYJ3koW1ghXShbWH5PYSVtTyFfWE8neSVtT35PaCVWTyFsJWRPfk9oJVZPIWwlZE8oUyVmT35PIWcjdk8jayh2T35PYitxTyVqK3JPKFMrbk8oVVRPKFhVTyFeKVdQfk8hXStzT2ApVlh+T1srd09+T2AreE9+TyFfJk9PKFMlZk8oVCFsT2ApVlB+T2glVk8jYCt9T35PaCVWT24sUU8hXyR8T35PIV8sU09+TyFRLFVPIV9YT35PJW4ldU9+TyF4LFpPfk9lLGBPfk9iLGFPKFMjbk8oVVRPKFhVTyFeKVVQfk9lJXxPfk8laiFRTyhTJlhPflA9W09bLGZPYCxlT35PUFlPUVlPU2ZPZHpPZXlPcGtPcllPc2tPdGtPemtPfFlPIU9ZTyFTV08hV2tPIVhrTyFpdU8hbFpPIW9ZTyFwWU8hcVlPIXN2TyF4eE8hfF1PJG5pTyVofU8oVVRPKFhVTyhgVk8obltPfk8hXyFlTyF1IWdPJFcha08oUyFkT35QIUZfT2AsZU9hJW1PJ3klbU9+T1BZT1FZT1NmT2Qhak9lIWlPcGtPcllPc2tPdGtPemtPfFlPIU9ZTyFTV08hV2tPIVhrTyFfIWVPIWl1TyFsWk8hb1lPIXBZTyFxWU8hc3ZPIXghaE8kVyFrTyRuaU8oUyFkTyhVVE8oWFVPKGBWTyhuW09+T2Esa09sIU9PIXV3TyVsIU9PJW0hT08lbiFPT35QIUh3TyFsJm1Pfk8mXSxxT35PIV8sc09+TyZuLHVPJnAsdk9QJmthUSZrYVMma2FZJmthYSZrYWQma2FlJmthbCZrYXAma2FyJmthcyZrYXQma2F6JmthfCZrYSFPJmthIVMma2EhVyZrYSFYJmthIV8ma2EhaSZrYSFsJmthIW8ma2EhcCZrYSFxJmthIXMma2EhdSZrYSF4JmthIXwma2EkVyZrYSRuJmthJWgma2ElaiZrYSVsJmthJW0ma2ElbiZrYSVxJmthJXMma2EldiZrYSV3JmthJXkma2EmViZrYSZdJmthJl8ma2EmYSZrYSZjJmthJmYma2EmbCZrYSZyJmthJnQma2EmdiZrYSZ4JmthJnoma2EndiZrYShTJmthKFUma2EoWCZrYShgJmthKG4ma2EhXiZrYSZkJmthYiZrYSZpJmthfk8oUyx7T35PaCFlWCFdIVJYIV4hUlghZyFSWCFnIWVYIWwhZVgjYCFSWH5PIV0hZVghXiFlWH5QIyB9TyFnLVFPI2AtUE9oKGlYIV0jaFghXiNoWCFnKGlYIWwoaVh+TyFdKGlYIV4oaVh+UCMhcE9oJVZPIWctU08hbCVkTyFdIWFYIV4hYVh+T3Mhbk8hUyFvTyhVVE8oWFVPKGQhbU9+T1A7dk9RO3ZPU2ZPZD1yT2UhaU9wa09yO3ZPc2tPdGtPemtPfDt2TyFPO3ZPIVNXTyFXa08hWGtPIV8hZU8haTt5TyFsWk8hbzt2TyFwO3ZPIXE7dk8hczt6TyF1O31PIXghaE8kVyFrTyRuPXBPKFVUTyhYVU8oYFZPKG5bT35PKFM8ck9+UCMkVk8hXS1XTyFeKGhYfk8hXi1ZT35PIWctUU8jYC1QTyFdI2hYIV4jaFh+TyFdLVpPIV4od1h+TyFeLV1Pfk8hYy1eTyFkLV5PKFQhbE9+UCMjdE8hXi1hT35QJ19Pbi1kTyFfJ15Pfk8hWS1pT35PcyF7YSFiIXthIWMhe2EhZCF7YSNUIXthI1Uhe2EjViF7YSNXIXthI1ghe2EjWyF7YSNdIXthKFQhe2EoVSF7YShYIXthKGQhe2EobiF7YX5QISNrTyFwLW5PI2AtbE9+UENdTyFjLXBPIWQtcE8oVCFsT35QQ3tPYSVtTyNgLWxPJ3klbU9+T2ElbU8hZyN2TyNgLWxPJ3klbU9+T2ElbU8hZyN2TyFwLW5PI2AtbE8neSVtTyhxJ25Pfk8oTyd2TyhQJ3ZPKFEtdU9+T3Ytdk9+TyFZJ1ZhIV0nVmF+UCE6YU8hWy16TyFZJ1ZYIV0nVlh+UCVbTyFdKFRPIVkoZ2F+TyFZKGdhflBHdk8hXShbTyFZKHVhfk8hUyVnTyFbLk9PIV8laE8oUyVmTyFZJ11YIV0nXVh+TyNgLlFPIV0oc2EhayhzYWEoc2EneShzYX5PIWcjdk9+UCMsXU8hXShoTyFrKHJhfk8hUyVnTyFfJWhPI2ouVU8oUyVmT35PcC5aTyFTJWdPIVsuV08hXyVoTyF8XU8jaS5ZTyNqLldPKFMlZk8hXSdgWCFrJ2BYfk9SLl9PIWwjeE9+T2glVk9uLmJPIV8nXk8laS5hT35PYSNjaSFdI2NpJ3kjY2kndiNjaSFZI2NpIWsjY2l2I2NpIV8jY2klaSNjaSFnI2NpflAhOmFPbj18TyFRKXxPJ3gpfU8oeCR9Tyh5JVBPfk8jayNfYWEjX2EjYCNfYSd5I19hIV0jX2EhayNfYSFfI19hIVkjX2F+UCMvWE8jayhfWFAoX1hSKF9YWyhfWGEoX1hqKF9YcihfWCFTKF9YIWwoX1ghcChfWCNSKF9YI24oX1gjbyhfWCNwKF9YI3EoX1gjcihfWCNzKF9YI3QoX1gjdShfWCN2KF9YI3goX1gjeihfWCN7KF9YJ3koX1goYChfWChxKF9YIWsoX1ghWShfWCd2KF9YdihfWCFfKF9YJWkoX1ghZyhfWH5QITZgTyFdLm9PIWsoalh+UCE6YU8hay5yT35PIVkudE9+T1AkW09SI3pPIVEjeU8hUyN7TyFsI3hPIXAkW08oYFZPWyNtaWEjbWlqI21pciNtaSFdI21pI1IjbWkjbyNtaSNwI21pI3EjbWkjciNtaSNzI21pI3QjbWkjdSNtaSN2I21pI3gjbWkjeiNtaSN7I21pJ3kjbWkocSNtaSh4I21pKHkjbWkndiNtaSFZI21pIWsjbWl2I21pIV8jbWklaSNtaSFnI21pfk8jbiNtaX5QIzJ3TyNuJE9PflAjMndPUCRbT1Ijek9yJGFPIVEjeU8hUyN7TyFsI3hPIXAkW08jbiRPTyNvJFBPI3AkUE8jcSRQTyhgVk9bI21pYSNtaWojbWkhXSNtaSNSI21pI3MjbWkjdCNtaSN1I21pI3YjbWkjeCNtaSN6I21pI3sjbWkneSNtaShxI21pKHgjbWkoeSNtaSd2I21pIVkjbWkhayNtaXYjbWkhXyNtaSVpI21pIWcjbWl+TyNyI21pflAjNWZPI3IkUU9+UCM1Zk9QJFtPUiN6T1skY09qJFJPciRhTyFRI3lPIVMje08hbCN4TyFwJFtPI1IkUk8jbiRPTyNvJFBPI3AkUE8jcSRQTyNyJFFPI3MkUk8jdCRSTyN1JGJPKGBWT2EjbWkhXSNtaSN4I21pI3ojbWkjeyNtaSd5I21pKHEjbWkoeCNtaSh5I21pJ3YjbWkhWSNtaSFrI21pdiNtaSFfI21pJWkjbWkhZyNtaX5PI3YjbWl+UCM4VE9QJFtPUiN6T1skY09qJFJPciRhTyFRI3lPIVMje08hbCN4TyFwJFtPI1IkUk8jbiRPTyNvJFBPI3AkUE8jcSRQTyNyJFFPI3MkUk8jdCRSTyN1JGJPI3YkU08oYFZPKHkjfU9hI21pIV0jbWkjeiNtaSN7I21pJ3kjbWkocSNtaSh4I21pJ3YjbWkhWSNtaSFrI21pdiNtaSFfI21pJWkjbWkhZyNtaX5PI3gkVU9+UCM6a08jeCNtaX5QIzprTyN2JFNPflAjOFRPUCRbT1Ijek9bJGNPaiRST3IkYU8hUSN5TyFTI3tPIWwjeE8hcCRbTyNSJFJPI24kT08jbyRQTyNwJFBPI3EkUE8jciRRTyNzJFJPI3QkUk8jdSRiTyN2JFNPI3gkVU8oYFZPKHgjfE8oeSN9T2EjbWkhXSNtaSN7I21pJ3kjbWkocSNtaSd2I21pIVkjbWkhayNtaXYjbWkhXyNtaSVpI21pIWcjbWl+TyN6I21pflAjPWFPI3okV09+UCM9YU9QXVhSXVhbXVhqXVhyXVghUV1YIVNdWCFsXVghcF1YI1JdWCNTXVgjYF1YI2tmWCNuXVgjb11YI3BdWCNxXVgjcl1YI3NdWCN0XVgjdV1YI3ZdWCN4XVgjel1YI3tdWCRRXVgoYF1YKHFdWCh4XVgoeV1YIV1dWCFeXVh+TyRPXVh+UCNAT09QJFtPUiN6T1s8X09qPFNPcjxdTyFRI3lPIVMje08hbCN4TyFwJFtPI1I8U08jbjxQTyNvPFFPI3A8UU8jcTxRTyNyPFJPI3M8U08jdDxTTyN1PF5PI3Y8VE8jeDxWTyN6PFhPI3s8WU8oYFZPKHEkWU8oeCN8Tyh5I31Pfk8kTy52T35QI0JdTyNTJGRPI2A8YE8kUTxgTyRPKGZYIV4oZlh+UCEgak9hJ2NhIV0nY2EneSdjYSd2J2NhIWsnY2EhWSdjYXYnY2EhXydjYSVpJ2NhIWcnY2F+UCE6YU9bI21pYSNtaWojbWlyI21pIV0jbWkjUiNtaSNyI21pI3MjbWkjdCNtaSN1I21pI3YjbWkjeCNtaSN6I21pI3sjbWkneSNtaShxI21pJ3YjbWkhWSNtaSFrI21pdiNtaSFfI21pJWkjbWkhZyNtaX5PUCRbT1Ijek8hUSN5TyFTI3tPIWwjeE8hcCRbTyNuJE9PI28kUE8jcCRQTyNxJFBPKGBWTyh4I21pKHkjbWl+UCNFX09uPXxPIVEpfE8neCl9Tyh4JH1PKHklUE9QI21pUiNtaSFTI21pIWwjbWkhcCNtaSNuI21pI28jbWkjcCNtaSNxI21pKGAjbWl+UCNFX08hXS56T2cob1h+UCEwe09nLnxPfk9hJFBpIV0kUGkneSRQaSd2JFBpIVkkUGkhayRQaXYkUGkhXyRQaSVpJFBpIWckUGl+UCE6YU8kXS59TyRfLn1Pfk8kXS9PTyRfL09Pfk8hZylmTyNgL1BPIV8kY1gkWiRjWCRdJGNYJF8kY1gkZiRjWH5PIVsvUU9+TyFfKWlPJFovU08kXSloTyRfKWhPJGYvVE9+TyFdPFpPIV4oZVh+UCNCXU8hXi9VT35PIWcpZk8kZih6WH5PJGYvV09+T3YvWE9+UCEmb094KXdPKGEpeE8oYi9bT35PIVMvX09+Tyh4JH1PbiVhYSFRJWFhJ3glYWEoeSVhYSFdJWFhI2AlYWF+T2clYWEkTyVhYX5QI0xhTyh5JVBPbiVjYSFRJWNhJ3glY2EoeCVjYSFdJWNhI2AlY2F+T2clY2EkTyVjYX5QI01TTyFdZlghZ2ZYIWtmWCFrJHpYKHFmWH5QIS93TyFbL2hPIV0oW08oUy9nTyFZKHVQIVkpT1B+UCExak9yKnBPIWIqbk8hYypoTyFkKmhPIWwqX08jWypvTyVgKmpPKFQhbE8oVVRPKFhVT35PczxvTyFTL2lPIVsrWE8hXiptTyhkPG5PIV4od1B+UCNObU8hay9qT35QIy9YTyFdL2tPIWcjdk8ocSduTyFrKH1Yfk8hay9wT35PIVMlZ08hWypbTyFfJWhPKFMlZk8hayh9UH5PI2svck9+TyFZJHpYIV0kelghZyVSWH5QIS93TyFdL3NPIVkpT1h+UCMvWE8hZy91T35PIVkvd09+T3BrTyhTL3hPflAuaU9oJVZPci99TyFnI3ZPIWwlZE8ocSduT35PIWcrZk9+T2ElbU8hXTBSTyd5JW1Pfk8hXjBUT35QITVeTyFjMFVPIWQwVU8oVCFsT35QIyN0T3Mhbk8hUzBWTyhVVE8oWFVPKGQhbU9+TyNbMFhPfk9nJWFhIV0lYWEjYCVhYSRPJWFhflAhMHtPZyVjYSFdJWNhI2AlY2EkTyVjYX5QITB7T2olY09rJWNPbCVjTyhTJlhPZydsWCFdJ2xYfk8hXSp2T2coXWF+T2cwYk9+T1IwY08hUTBjTyFTMGRPI1MkZE9ufWEneH1hKHh9YSh5fWEhXX1hI2B9YX5PZ31hJE99YX5QJCZ2TyFRKXxPJ3gpfU9uJHNhKHgkc2EoeSRzYSFdJHNhI2Akc2F+T2ckc2EkTyRzYX5QJCdyTyFRKXxPJ3gpfU9uJHVhKHgkdWEoeSR1YSFdJHVhI2AkdWF+T2ckdWEkTyR1YX5QJChlTyNrMGdPfk9nJVRhIV0lVGEjYCVUYSRPJVRhflAhMHtPbjBpTyNgMGhPZyheYSFdKF5hfk8hZyN2T35PI2swbE9+TyFdK1pPYSlTYSd5KVNhfk9SI3pPIVEjeU8hUyN7TyFsI3hPKGBWT1AhcmlbIXJpaiFyaXIhcmkhXSFyaSFwIXJpI1IhcmkjbiFyaSNvIXJpI3AhcmkjcSFyaSNyIXJpI3MhcmkjdCFyaSN1IXJpI3YhcmkjeCFyaSN6IXJpI3shcmkocSFyaSh4IXJpKHkhcml+T2EhcmkneSFyaSd2IXJpIVkhcmkhayFyaXYhcmkhXyFyaSVpIXJpIWchcml+UCQqYk9oJVZPciVYT3MkdE90JHRPeiVZT3wlWk8hTzxlTyFTJHtPIV8kfE8haT12TyFsJHhPI2o8a08kVyVfTyR0PGdPJHY8aU8keSVgTyhVVE8oWFVPKGAkdU8oeCR9Tyh5JVBPfk9wMHVPJV0wdk8oUzB0T35QJCx4TyFnK2ZPYShbYSFfKFthJ3koW2EhXShbYX5PI2swfE9+T1tdWCFdZlghXmZYfk8hXTB9TyFeKVdYfk8hXjFQT35PWzFRT35PYjFTTyhTK25PKFVUTyhYVU9+TyFfJk9PKFMlZk9gJ3RYIV0ndFh+TyFdK3NPYClWYX5PIWsxVk9+UCE6YU9bMVlPfk9gMVpPfk8jYDFeT35PbjFhTyFfJHxPfk8oZCh6TyFeKVRQfk9oJVZPbjFqTyFfMWdPJWkxaU9+T1sxdE8hXTFyTyFeKVVYfk8hXjF1T35PYDF3T2ElbU8neSVtT35PKFMjbk8oVVRPKFhVT35PI1MkZE8jYCRlTyRRJGVPUChmWFIoZlhbKGZYcihmWCFRKGZYIVMoZlghXShmWCFsKGZYIXAoZlgjUihmWCNuKGZYI28oZlgjcChmWCNxKGZYI3IoZlgjcyhmWCN0KGZYI3UoZlgjdihmWCN4KGZYI3ooZlgjeyhmWChgKGZYKHEoZlgoeChmWCh5KGZYfk9qMXpPJloxe09hKGZYflAkMmNPajF6TyNgJGVPJloxe09+T2ExfU9+UCVbT2EyUE9+TyZkMlNPUCZiaVEmYmlTJmJpWSZiaWEmYmlkJmJpZSZiaWwmYmlwJmJpciZiaXMmYml0JmJpeiZiaXwmYmkhTyZiaSFTJmJpIVcmYmkhWCZiaSFfJmJpIWkmYmkhbCZiaSFvJmJpIXAmYmkhcSZiaSFzJmJpIXUmYmkheCZiaSF8JmJpJFcmYmkkbiZiaSVoJmJpJWomYmklbCZiaSVtJmJpJW4mYmklcSZiaSVzJmJpJXYmYmkldyZiaSV5JmJpJlYmYmkmXSZiaSZfJmJpJmEmYmkmYyZiaSZmJmJpJmwmYmkmciZiaSZ0JmJpJnYmYmkmeCZiaSZ6JmJpJ3YmYmkoUyZiaShVJmJpKFgmYmkoYCZiaShuJmJpIV4mYmliJmJpJmkmYml+T2IyWU8hXjJXTyZpMlhPflBgTyFfWE8hbDJbT35PJnAsdk9QJmtpUSZraVMma2lZJmtpYSZraWQma2llJmtpbCZraXAma2lyJmtpcyZraXQma2l6JmtpfCZraSFPJmtpIVMma2khVyZraSFYJmtpIV8ma2khaSZraSFsJmtpIW8ma2khcCZraSFxJmtpIXMma2khdSZraSF4JmtpIXwma2kkVyZraSRuJmtpJWgma2klaiZraSVsJmtpJW0ma2klbiZraSVxJmtpJXMma2kldiZraSV3JmtpJXkma2kmViZraSZdJmtpJl8ma2kmYSZraSZjJmtpJmYma2kmbCZraSZyJmtpJnQma2kmdiZraSZ4JmtpJnoma2kndiZraShTJmtpKFUma2koWCZraShgJmtpKG4ma2khXiZraSZkJmtpYiZraSZpJmtpfk8hWTJiT35PIV0hYWEhXiFhYX5QI0JdT3Mhbk8hUyFvTyFbMmhPKGQhbU8hXSdXWCFeJ1dYflBAY08hXS1XTyFeKGhhfk8hXSdeWCFeJ15YflAhOWlPIV0tWk8hXih3YX5PIV4yb09+UCdfT2ElbU8jYDJ4Tyd5JW1Pfk9hJW1PIWcjdk8jYDJ4Tyd5JW1Pfk9hJW1PIWcjdk8hcDJ8TyNgMnhPJ3klbU8ocSduT35PYSVtTyd5JW1PflAhOmFPIV0kX092JHFhfk8hWSdWaSFdJ1ZpflAhOmFPIV0oVE8hWShnaX5PIV0oW08hWSh1aX5PIVkodmkhXSh2aX5QITphTyFdKHNpIWsoc2lhKHNpJ3koc2l+UCE6YU8jYDNPTyFdKHNpIWsoc2lhKHNpJ3koc2l+TyFdKGhPIWsocml+TyFTJWdPIV8laE8hfF1PI2kzVE8jajNTTyhTJWZPfk8hUyVnTyFfJWhPI2ozU08oUyVmT35PbjNbTyFfJ15PJWkzWk9+T2glVk9uM1tPIV8nXk8laTNaT35PI2slYWFQJWFhUiVhYVslYWFhJWFhaiVhYXIlYWEhUyVhYSFsJWFhIXAlYWEjUiVhYSNuJWFhI28lYWEjcCVhYSNxJWFhI3IlYWEjcyVhYSN0JWFhI3UlYWEjdiVhYSN4JWFhI3olYWEjeyVhYSd5JWFhKGAlYWEocSVhYSFrJWFhIVklYWEndiVhYXYlYWEhXyVhYSVpJWFhIWclYWF+UCNMYU8jayVjYVAlY2FSJWNhWyVjYWElY2FqJWNhciVjYSFTJWNhIWwlY2EhcCVjYSNSJWNhI24lY2EjbyVjYSNwJWNhI3ElY2EjciVjYSNzJWNhI3QlY2EjdSVjYSN2JWNhI3glY2EjeiVjYSN7JWNhJ3klY2EoYCVjYShxJWNhIWslY2EhWSVjYSd2JWNhdiVjYSFfJWNhJWklY2EhZyVjYX5QI01TTyNrJWFhUCVhYVIlYWFbJWFhYSVhYWolYWFyJWFhIVMlYWEhXSVhYSFsJWFhIXAlYWEjUiVhYSNuJWFhI28lYWEjcCVhYSNxJWFhI3IlYWEjcyVhYSN0JWFhI3UlYWEjdiVhYSN4JWFhI3olYWEjeyVhYSd5JWFhKGAlYWEocSVhYSFrJWFhIVklYWEndiVhYSNgJWFhdiVhYSFfJWFhJWklYWEhZyVhYX5QIy9YTyNrJWNhUCVjYVIlY2FbJWNhYSVjYWolY2FyJWNhIVMlY2EhXSVjYSFsJWNhIXAlY2EjUiVjYSNuJWNhI28lY2EjcCVjYSNxJWNhI3IlY2EjcyVjYSN0JWNhI3UlY2EjdiVjYSN4JWNhI3olY2EjeyVjYSd5JWNhKGAlY2EocSVjYSFrJWNhIVklY2EndiVjYSNgJWNhdiVjYSFfJWNhJWklY2EhZyVjYX5QIy9YTyNrfWFQfWFbfWFhfWFqfWFyfWEhbH1hIXB9YSNSfWEjbn1hI299YSNwfWEjcX1hI3J9YSNzfWEjdH1hI3V9YSN2fWEjeH1hI3p9YSN7fWEneX1hKGB9YShxfWEha31hIVl9YSd2fWF2fWEhX31hJWl9YSFnfWF+UCQmdk8jayRzYVAkc2FSJHNhWyRzYWEkc2FqJHNhciRzYSFTJHNhIWwkc2EhcCRzYSNSJHNhI24kc2EjbyRzYSNwJHNhI3Ekc2EjciRzYSNzJHNhI3Qkc2EjdSRzYSN2JHNhI3gkc2EjeiRzYSN7JHNhJ3kkc2EoYCRzYShxJHNhIWskc2EhWSRzYSd2JHNhdiRzYSFfJHNhJWkkc2EhZyRzYX5QJCdyTyNrJHVhUCR1YVIkdWFbJHVhYSR1YWokdWFyJHVhIVMkdWEhbCR1YSFwJHVhI1IkdWEjbiR1YSNvJHVhI3AkdWEjcSR1YSNyJHVhI3MkdWEjdCR1YSN1JHVhI3YkdWEjeCR1YSN6JHVhI3skdWEneSR1YShgJHVhKHEkdWEhayR1YSFZJHVhJ3YkdWF2JHVhIV8kdWElaSR1YSFnJHVhflAkKGVPI2slVGFQJVRhUiVUYVslVGFhJVRhaiVUYXIlVGEhUyVUYSFdJVRhIWwlVGEhcCVUYSNSJVRhI24lVGEjbyVUYSNwJVRhI3ElVGEjciVUYSNzJVRhI3QlVGEjdSVUYSN2JVRhI3glVGEjeiVUYSN7JVRhJ3klVGEoYCVUYShxJVRhIWslVGEhWSVUYSd2JVRhI2AlVGF2JVRhIV8lVGElaSVUYSFnJVRhflAjL1hPYSNjcSFdI2NxJ3kjY3EndiNjcSFZI2NxIWsjY3F2I2NxIV8jY3ElaSNjcSFnI2NxflAhOmFPIVszZE8hXSdYWCFrJ1hYflAlW08hXS5vTyFrKGphfk8hXS5vTyFrKGphflAhOmFPIVkzZ09+TyRPIW5hIV4hbmF+UEthTyRPIWphIV0hamEhXiFqYX5QI0JdTyRPIXJhIV4hcmF+UCE8d08kTyF0YSFeIXRhflAhP19PZydbWCFdJ1tYflAhK3hPIV0uek9nKG9hfk9TZk8hXzN7TyRkM3xPfk8hXjRRT35PdjRST35QIy9YT2EkbXEhXSRtcSd5JG1xJ3YkbXEhWSRtcSFrJG1xdiRtcSFfJG1xJWkkbXEhZyRtcX5QITphTyFZNFRPflAhJm9PIVM0VU9+TyFRKXxPJ3gpfU8oeSVQT24naGEoeCdoYSFdJ2hhI2AnaGF+T2cnaGEkTydoYX5QJSxYTyFRKXxPJ3gpfU9uJ2phKHgnamEoeSdqYSFdJ2phI2AnamF+T2cnamEkTydqYX5QJSx6TyhxJFlPflAjL1hPIVlmWCFZJHpYIV1mWCFdJHpYIWclUlgjYGZYflAhL3dPKFM8eE9+UCExak8hUyVnTyFbNFhPIV8laE8oUyVmTyFdJ2RYIWsnZFh+TyFdL2tPIWsofWF+TyFdL2tPIWcjdk8hayh9YX5PIV0va08hZyN2TyhxJ25PIWsofWF+T2ckfGkhXSR8aSNgJHxpJE8kfGl+UCEwe08hWzRhTyFZJ2ZYIV0nZlh+UCEzaU8hXS9zTyFZKU9hfk8hXS9zTyFZKU9hflAjL1hPUF1YUl1YW11Yal1Ycl1YIVFdWCFTXVghWV1YIV1dWCFsXVghcF1YI1JdWCNTXVgjYF1YI2tmWCNuXVgjb11YI3BdWCNxXVgjcl1YI3NdWCN0XVgjdV1YI3ZdWCN4XVgjel1YI3tdWCRRXVgoYF1YKHFdWCh4XVgoeV1Yfk9qJVlYIWclWVh+UCUwa09qNGZPIWcjdk9+T2glVk8hZyN2TyFsJWRPfk9oJVZPcjRrTyFsJWRPKHEnbk9+T3I0cE8hZyN2TyhxJ25Pfk9zIW5PIVM0cU8oVVRPKFhVTyhkIW1Pfk8oeCR9T24lYWkhUSVhaSd4JWFpKHklYWkhXSVhaSNgJWFpfk9nJWFpJE8lYWl+UCU0W08oeSVQT24lY2khUSVjaSd4JWNpKHglY2khXSVjaSNgJWNpfk9nJWNpJE8lY2l+UCU0fU9nKF5pIV0oXml+UCEwe08jYDR3T2coXmkhXSheaX5QITB7TyFrNHpPfk9hJG9xIV0kb3EneSRvcSd2JG9xIVkkb3EhayRvcXYkb3EhXyRvcSVpJG9xIWckb3F+UCE6YU8hWTVRT35PIV01Uk8hXylQWH5QIy9YT2EkelghXyR6WCVeXVgneSR6WCFdJHpYflAhL3dPJV41VU9hb1hub1ghUW9YIV9vWCd4b1gneW9YKHhvWCh5b1ghXW9Yfk9wNVZPKFMjbk9+TyVeNVVPfk9iNV1PJWo1Xk8oUytuTyhVVE8oWFVPIV0nc1ghXidzWH5PIV0wfU8hXilXYX5PWzViT35PYDVjT35PYSVtTyd5JW1PflAjL1hPIV01a08jYDVtTyFeKVRYfk8hXjVuT35PcjV0T3Mhbk8hUypmTyFiIXlPIWMhdk8hZCF2TyF8O3dPI1QhcE8jVSFwTyNWIXBPI1chcE8jWCFwTyNbNXNPI10hek8oVCFsTyhVVE8oWFVPKGQhbU8obiFzT35PIV41ck9+UCU6WU9uNXlPIV8xZ08laTV4T35PaCVWT241eU8hXzFnTyVpNXhPfk9iNlFPKFMjbk8oVVRPKFhVTyFdJ3JYIV4nclh+TyFdMXJPIV4pVWF+TyhVVE8oWFVPKGQ2U09+T2A2V09+T2o2Wk8mWjZbT35QTXxPIWs2XU9+UCVbT2E2X09+T2E2X09+UCVbT2IyWU8hXjZkTyZpMlhPflBgTyFnNmZPfk8hZzZoT2goaWkhXShpaSFeKGlpIWcoaWkhbChpaXIoaWkocShpaX5PIV0jaGkhXiNoaX5QI0JdTyNgNmlPIV0jaGkhXiNoaX5PIV0hYWkhXiFhaX5QI0JdT2ElbU8jYDZyTyd5JW1Pfk9hJW1PIWcjdk8jYDZyTyd5JW1Pfk8hXShzcSFrKHNxYShzcSd5KHNxflAhOmFPIV0oaE8hayhycX5PIVMlZ08hXyVoTyNqNnlPKFMlZk9+TyFfJ15PJWk2fE9+T243UU8hXydeTyVpNnxPfk8jaydoYVAnaGFSJ2hhWydoYWEnaGFqJ2hhcidoYSFTJ2hhIWwnaGEhcCdoYSNSJ2hhI24naGEjbydoYSNwJ2hhI3EnaGEjcidoYSNzJ2hhI3QnaGEjdSdoYSN2J2hhI3gnaGEjeidoYSN7J2hhJ3knaGEoYCdoYShxJ2hhIWsnaGEhWSdoYSd2J2hhdidoYSFfJ2hhJWknaGEhZydoYX5QJSxYTyNrJ2phUCdqYVInamFbJ2phYSdqYWonamFyJ2phIVMnamEhbCdqYSFwJ2phI1InamEjbidqYSNvJ2phI3AnamEjcSdqYSNyJ2phI3MnamEjdCdqYSN1J2phI3YnamEjeCdqYSN6J2phI3snamEneSdqYShgJ2phKHEnamEhaydqYSFZJ2phJ3YnamF2J2phIV8namElaSdqYSFnJ2phflAlLHpPI2skfGlQJHxpUiR8aVskfGlhJHxpaiR8aXIkfGkhUyR8aSFdJHxpIWwkfGkhcCR8aSNSJHxpI24kfGkjbyR8aSNwJHxpI3EkfGkjciR8aSNzJHxpI3QkfGkjdSR8aSN2JHxpI3gkfGkjeiR8aSN7JHxpJ3kkfGkoYCR8aShxJHxpIWskfGkhWSR8aSd2JHxpI2AkfGl2JHxpIV8kfGklaSR8aSFnJHxpflAjL1hPI2slYWlQJWFpUiVhaVslYWlhJWFpaiVhaXIlYWkhUyVhaSFsJWFpIXAlYWkjUiVhaSNuJWFpI28lYWkjcCVhaSNxJWFpI3IlYWkjcyVhaSN0JWFpI3UlYWkjdiVhaSN4JWFpI3olYWkjeyVhaSd5JWFpKGAlYWkocSVhaSFrJWFpIVklYWkndiVhaXYlYWkhXyVhaSVpJWFpIWclYWl+UCU0W08jayVjaVAlY2lSJWNpWyVjaWElY2lqJWNpciVjaSFTJWNpIWwlY2khcCVjaSNSJWNpI24lY2kjbyVjaSNwJWNpI3ElY2kjciVjaSNzJWNpI3QlY2kjdSVjaSN2JWNpI3glY2kjeiVjaSN7JWNpJ3klY2koYCVjaShxJWNpIWslY2khWSVjaSd2JWNpdiVjaSFfJWNpJWklY2khZyVjaX5QJTR9TyFdJ1hhIWsnWGF+UCE6YU8hXS5vTyFrKGppfk8kTyNjaSFdI2NpIV4jY2l+UCNCXU9QJFtPUiN6TyFRI3lPIVMje08hbCN4TyFwJFtPKGBWT1sjbWlqI21pciNtaSNSI21pI28jbWkjcCNtaSNxI21pI3IjbWkjcyNtaSN0I21pI3UjbWkjdiNtaSN4I21pI3ojbWkjeyNtaSRPI21pKHEjbWkoeCNtaSh5I21pIV0jbWkhXiNtaX5PI24jbWl+UCVNWE8jbjxQT35QJU1YT1AkW09SI3pPcjxdTyFRI3lPIVMje08hbCN4TyFwJFtPI248UE8jbzxRTyNwPFFPI3E8UU8oYFZPWyNtaWojbWkjUiNtaSNzI21pI3QjbWkjdSNtaSN2I21pI3gjbWkjeiNtaSN7I21pJE8jbWkocSNtaSh4I21pKHkjbWkhXSNtaSFeI21pfk8jciNtaX5QJiBhTyNyPFJPflAmIGFPUCRbT1Ijek9bPF9PajxTT3I8XU8hUSN5TyFTI3tPIWwjeE8hcCRbTyNSPFNPI248UE8jbzxRTyNwPFFPI3E8UU8jcjxSTyNzPFNPI3Q8U08jdTxeTyhgVk8jeCNtaSN6I21pI3sjbWkkTyNtaShxI21pKHgjbWkoeSNtaSFdI21pIV4jbWl+TyN2I21pflAmI2lPUCRbT1Ijek9bPF9PajxTT3I8XU8hUSN5TyFTI3tPIWwjeE8hcCRbTyNSPFNPI248UE8jbzxRTyNwPFFPI3E8UU8jcjxSTyNzPFNPI3Q8U08jdTxeTyN2PFRPKGBWTyh5I31PI3ojbWkjeyNtaSRPI21pKHEjbWkoeCNtaSFdI21pIV4jbWl+TyN4PFZPflAmJWpPI3gjbWl+UCYlak8jdjxUT35QJiNpT1AkW09SI3pPWzxfT2o8U09yPF1PIVEjeU8hUyN7TyFsI3hPIXAkW08jUjxTTyNuPFBPI288UU8jcDxRTyNxPFFPI3I8Uk8jczxTTyN0PFNPI3U8Xk8jdjxUTyN4PFZPKGBWTyh4I3xPKHkjfU8jeyNtaSRPI21pKHEjbWkhXSNtaSFeI21pfk8jeiNtaX5QJid5TyN6PFhPflAmJ3lPYSN8eSFdI3x5J3kjfHkndiN8eSFZI3x5IWsjfHl2I3x5IV8jfHklaSN8eSFnI3x5flAhOmFPWyNtaWojbWlyI21pI1IjbWkjciNtaSNzI21pI3QjbWkjdSNtaSN2I21pI3gjbWkjeiNtaSN7I21pJE8jbWkocSNtaSFdI21pIV4jbWl+T1AkW09SI3pPIVEjeU8hUyN7TyFsI3hPIXAkW08jbjxQTyNvPFFPI3A8UU8jcTxRTyhgVk8oeCNtaSh5I21pflAmKnVPbj19TyFRKXxPJ3gpfU8oeCR9Tyh5JVBPUCNtaVIjbWkhUyNtaSFsI21pIXAjbWkjbiNtaSNvI21pI3AjbWkjcSNtaShgI21pflAmKnVPI1MkZE9QKF9YUihfWFsoX1hqKF9YbihfWHIoX1ghUShfWCFTKF9YIWwoX1ghcChfWCNSKF9YI24oX1gjbyhfWCNwKF9YI3EoX1gjcihfWCNzKF9YI3QoX1gjdShfWCN2KF9YI3goX1gjeihfWCN7KF9YJE8oX1gneChfWChgKF9YKHEoX1goeChfWCh5KF9YIV0oX1ghXihfWH5PJE8kUGkhXSRQaSFeJFBpflAjQl1PJE8hcmkhXiFyaX5QJCpiT2cnW2EhXSdbYX5QITB7TyFeN2RPfk8hXSdjYSFeJ2NhflAjQl1PIVk3ZU9+UCMvWE8hZyN2TyhxJ25PIV0nZGEhaydkYX5PIV0va08hayh9aX5PIV0va08hZyN2TyFrKH1pfk9nJHxxIV0kfHEjYCR8cSRPJHxxflAhMHtPIVknZmEhXSdmYX5QIy9YTyFnN2xPfk8hXS9zTyFZKU9pflAjL1hPIV0vc08hWSlPaX5PIVk3b09+T2glVk9yN3RPIWwlZE8ocSduT35Pajd2TyFnI3ZPfk9yN3lPIWcjdk8ocSduT35PIVEpfE8neCl9Tyh5JVBPbidpYSh4J2lhIV0naWEjYCdpYX5PZydpYSRPJ2lhflAmM3ZPIVEpfE8neCl9T24na2EoeCdrYSh5J2thIV0na2EjYCdrYX5PZydrYSRPJ2thflAmNGlPIVk3e09+T2clT3EhXSVPcSNgJU9xJE8lT3F+UCEwe09nKF5xIV0oXnF+UCEwe08jYDd8T2coXnEhXShecX5QITB7T2Ekb3khXSRveSd5JG95J3Ykb3khWSRveSFrJG95diRveSFfJG95JWkkb3khZyRveX5QITphTyFnNmhPfk8hXTVSTyFfKVBhfk8hXydeT1AkVGFSJFRhWyRUYWokVGFyJFRhIVEkVGEhUyRUYSFdJFRhIWwkVGEhcCRUYSNSJFRhI24kVGEjbyRUYSNwJFRhI3EkVGEjciRUYSNzJFRhI3QkVGEjdSRUYSN2JFRhI3gkVGEjeiRUYSN7JFRhKGAkVGEocSRUYSh4JFRhKHkkVGF+TyVpNnxPflAmN1pPJV44UU9hJVtpIV8lW2kneSVbaSFdJVtpfk9hI2N5IV0jY3kneSNjeSd2I2N5IVkjY3khayNjeXYjY3khXyNjeSVpI2N5IWcjY3l+UCE6YU9bOFNPfk9iOFVPKFMrbk8oVVRPKFhVT35PIV0wfU8hXilXaX5PYDhZT35PKGQoek8hXSdvWCFeJ29Yfk8hXTVrTyFeKVRhfk8hXjhjT35QJTpZTyhuIXNPflAkJHtPI1s4ZE9+TyFfMWdPfk8hXzFnTyVpOGZPfk9uOGlPIV8xZ08laThmT35PWzhuTyFdJ3JhIV4ncmF+TyFdMXJPIV4pVWl+TyFrOHJPfk8hazhzT35PIWs4dk9+TyFrOHZPflAlW09hOHhPfk8hZzh5T35PIWs4ek9+TyFdKHZpIV4odml+UCNCXU9hJW1PI2A5U08neSVtT35PIV0oc3khayhzeWEoc3kneShzeX5QITphTyFdKGhPIWsocnl+TyVpOVZPflAmN1pPIV8nXk8laTlWT35PI2skfHFQJHxxUiR8cVskfHFhJHxxaiR8cXIkfHEhUyR8cSFdJHxxIWwkfHEhcCR8cSNSJHxxI24kfHEjbyR8cSNwJHxxI3EkfHEjciR8cSNzJHxxI3QkfHEjdSR8cSN2JHxxI3gkfHEjeiR8cSN7JHxxJ3kkfHEoYCR8cShxJHxxIWskfHEhWSR8cSd2JHxxI2AkfHF2JHxxIV8kfHElaSR8cSFnJHxxflAjL1hPI2snaWFQJ2lhUidpYVsnaWFhJ2lhaidpYXInaWEhUydpYSFsJ2lhIXAnaWEjUidpYSNuJ2lhI28naWEjcCdpYSNxJ2lhI3InaWEjcydpYSN0J2lhI3UnaWEjdidpYSN4J2lhI3onaWEjeydpYSd5J2lhKGAnaWEocSdpYSFrJ2lhIVknaWEndidpYXYnaWEhXydpYSVpJ2lhIWcnaWF+UCYzdk8jaydrYVAna2FSJ2thWydrYWEna2FqJ2thcidrYSFTJ2thIWwna2EhcCdrYSNSJ2thI24na2EjbydrYSNwJ2thI3Ena2EjcidrYSNzJ2thI3Qna2EjdSdrYSN2J2thI3gna2EjeidrYSN7J2thJ3kna2EoYCdrYShxJ2thIWsna2EhWSdrYSd2J2thdidrYSFfJ2thJWkna2EhZydrYX5QJjRpTyNrJU9xUCVPcVIlT3FbJU9xYSVPcWolT3FyJU9xIVMlT3EhXSVPcSFsJU9xIXAlT3EjUiVPcSNuJU9xI28lT3EjcCVPcSNxJU9xI3IlT3EjcyVPcSN0JU9xI3UlT3EjdiVPcSN4JU9xI3olT3EjeyVPcSd5JU9xKGAlT3EocSVPcSFrJU9xIVklT3EndiVPcSNgJU9xdiVPcSFfJU9xJWklT3EhZyVPcX5QIy9YTyFdJ1hpIWsnWGl+UCE6YU8kTyNjcSFdI2NxIV4jY3F+UCNCXU8oeCR9T1AlYWFSJWFhWyVhYWolYWFyJWFhIVMlYWEhbCVhYSFwJWFhI1IlYWEjbiVhYSNvJWFhI3AlYWEjcSVhYSNyJWFhI3MlYWEjdCVhYSN1JWFhI3YlYWEjeCVhYSN6JWFhI3slYWEkTyVhYShgJWFhKHElYWEhXSVhYSFeJWFhfk9uJWFhIVElYWEneCVhYSh5JWFhflAmSG5PKHklUE9QJWNhUiVjYVslY2FqJWNhciVjYSFTJWNhIWwlY2EhcCVjYSNSJWNhI24lY2EjbyVjYSNwJWNhI3ElY2EjciVjYSNzJWNhI3QlY2EjdSVjYSN2JWNhI3glY2EjeiVjYSN7JWNhJE8lY2EoYCVjYShxJWNhIV0lY2EhXiVjYX5PbiVjYSFRJWNhJ3glY2EoeCVjYX5QJkp1T249fU8hUSl8Tyd4KX1PKHklUE9+UCZIbk9uPX1PIVEpfE8neCl9Tyh4JH1PflAmSnVPUjBjTyFRMGNPIVMwZE8jUyRkT1B9YVt9YWp9YW59YXJ9YSFsfWEhcH1hI1J9YSNufWEjb31hI3B9YSNxfWEjcn1hI3N9YSN0fWEjdX1hI3Z9YSN4fWEjen1hI3t9YSRPfWEneH1hKGB9YShxfWEoeH1hKHl9YSFdfWEhXn1hfk8hUSl8Tyd4KX1PUCRzYVIkc2FbJHNhaiRzYW4kc2FyJHNhIVMkc2EhbCRzYSFwJHNhI1Ikc2EjbiRzYSNvJHNhI3Akc2EjcSRzYSNyJHNhI3Mkc2EjdCRzYSN1JHNhI3Ykc2EjeCRzYSN6JHNhI3skc2EkTyRzYShgJHNhKHEkc2EoeCRzYSh5JHNhIV0kc2EhXiRzYX5PIVEpfE8neCl9T1AkdWFSJHVhWyR1YWokdWFuJHVhciR1YSFTJHVhIWwkdWEhcCR1YSNSJHVhI24kdWEjbyR1YSNwJHVhI3EkdWEjciR1YSNzJHVhI3QkdWEjdSR1YSN2JHVhI3gkdWEjeiR1YSN7JHVhJE8kdWEoYCR1YShxJHVhKHgkdWEoeSR1YSFdJHVhIV4kdWF+T249fU8hUSl8Tyd4KX1PKHgkfU8oeSVQT35PUCVUYVIlVGFbJVRhaiVUYXIlVGEhUyVUYSFsJVRhIXAlVGEjUiVUYSNuJVRhI28lVGEjcCVUYSNxJVRhI3IlVGEjcyVUYSN0JVRhI3UlVGEjdiVUYSN4JVRhI3olVGEjeyVUYSRPJVRhKGAlVGEocSVUYSFdJVRhIV4lVGF+UCclek8kTyRtcSFdJG1xIV4kbXF+UCNCXU8kTyRvcSFdJG9xIV4kb3F+UCNCXU8hXjlkT35PJE85ZU9+UCEwe08hZyN2TyFdJ2RpIWsnZGl+TyFnI3ZPKHEnbk8hXSdkaSFrJ2Rpfk8hXS9rTyFrKH1xfk8hWSdmaSFdJ2ZpflAjL1hPIV0vc08hWSlPcX5PcjlsTyFnI3ZPKHEnbk9+T1s5bk8hWTltT35QIy9YTyFZOW1Pfk9qOXRPIWcjdk9+T2coXnkhXSheeX5QITB7TyFdJ21hIV8nbWF+UCMvWE9hJVtxIV8lW3EneSVbcSFdJVtxflAjL1hPWzl5T35PIV0wfU8hXilXcX5PI2A5fU8hXSdvYSFeJ29hfk8hXTVrTyFeKVRpflAjQl1PIVM6UE9+TyFfMWdPJWk6U09+TyhVVE8oWFVPKGQ6WE9+TyFdMXJPIV4pVXF+TyFrOltPfk8hazpdT35PIWs6Xk9+TyFrOl5PflAlW08jYDphTyFdI2h5IV4jaHl+TyFdI2h5IV4jaHl+UCNCXU8laTpmT35QJjdaTyFfJ15PJWk6Zk9+TyRPI3x5IV0jfHkhXiN8eX5QI0JdT1AkfGlSJHxpWyR8aWokfGlyJHxpIVMkfGkhbCR8aSFwJHxpI1IkfGkjbiR8aSNvJHxpI3AkfGkjcSR8aSNyJHxpI3MkfGkjdCR8aSN1JHxpI3YkfGkjeCR8aSN6JHxpI3skfGkkTyR8aShgJHxpKHEkfGkhXSR8aSFeJHxpflAnJXpPIVEpfE8neCl9Tyh5JVBPUCdoYVInaGFbJ2hhaidoYW4naGFyJ2hhIVMnaGEhbCdoYSFwJ2hhI1InaGEjbidoYSNvJ2hhI3AnaGEjcSdoYSNyJ2hhI3MnaGEjdCdoYSN1J2hhI3YnaGEjeCdoYSN6J2hhI3snaGEkTydoYShgJ2hhKHEnaGEoeCdoYSFdJ2hhIV4naGF+TyFRKXxPJ3gpfU9QJ2phUidqYVsnamFqJ2phbidqYXInamEhUydqYSFsJ2phIXAnamEjUidqYSNuJ2phI28namEjcCdqYSNxJ2phI3InamEjcydqYSN0J2phI3UnamEjdidqYSN4J2phI3onamEjeydqYSRPJ2phKGAnamEocSdqYSh4J2phKHknamEhXSdqYSFeJ2phfk8oeCR9T1AlYWlSJWFpWyVhaWolYWluJWFpciVhaSFRJWFpIVMlYWkhbCVhaSFwJWFpI1IlYWkjbiVhaSNvJWFpI3AlYWkjcSVhaSNyJWFpI3MlYWkjdCVhaSN1JWFpI3YlYWkjeCVhaSN6JWFpI3slYWkkTyVhaSd4JWFpKGAlYWkocSVhaSh5JWFpIV0lYWkhXiVhaX5PKHklUE9QJWNpUiVjaVslY2lqJWNpbiVjaXIlY2khUSVjaSFTJWNpIWwlY2khcCVjaSNSJWNpI24lY2kjbyVjaSNwJWNpI3ElY2kjciVjaSNzJWNpI3QlY2kjdSVjaSN2JWNpI3glY2kjeiVjaSN7JWNpJE8lY2kneCVjaShgJWNpKHElY2koeCVjaSFdJWNpIV4lY2l+TyRPJG95IV0kb3khXiRveX5QI0JdTyRPI2N5IV0jY3khXiNjeX5QI0JdTyFnI3ZPIV0nZHEhaydkcX5PIV0va08hayh9eX5PIVknZnEhXSdmcX5QIy9YT3I6cE8hZyN2TyhxJ25Pfk9bOnRPIVk6c09+UCMvWE8hWTpzT35PZyheIVIhXSheIVJ+UCEwe09hJVt5IV8lW3kneSVbeSFdJVt5flAjL1hPIV0wfU8hXilXeX5PIV01a08hXilUcX5PKFM6ek9+TyFfMWdPJWk6fU9+TyFrO1FPfk8laTtWT35QJjdaT1AkfHFSJHxxWyR8cWokfHFyJHxxIVMkfHEhbCR8cSFwJHxxI1IkfHEjbiR8cSNvJHxxI3AkfHEjcSR8cSNyJHxxI3MkfHEjdCR8cSN1JHxxI3YkfHEjeCR8cSN6JHxxI3skfHEkTyR8cShgJHxxKHEkfHEhXSR8cSFeJHxxflAnJXpPIVEpfE8neCl9Tyh5JVBPUCdpYVInaWFbJ2lhaidpYW4naWFyJ2lhIVMnaWEhbCdpYSFwJ2lhI1InaWEjbidpYSNvJ2lhI3AnaWEjcSdpYSNyJ2lhI3MnaWEjdCdpYSN1J2lhI3YnaWEjeCdpYSN6J2lhI3snaWEkTydpYShgJ2lhKHEnaWEoeCdpYSFdJ2lhIV4naWF+TyFRKXxPJ3gpfU9QJ2thUidrYVsna2FqJ2thbidrYXIna2EhUydrYSFsJ2thIXAna2EjUidrYSNuJ2thI28na2EjcCdrYSNxJ2thI3Ina2EjcydrYSN0J2thI3Una2EjdidrYSN4J2thI3ona2EjeydrYSRPJ2thKGAna2EocSdrYSh4J2thKHkna2EhXSdrYSFeJ2thfk9QJU9xUiVPcVslT3FqJU9xciVPcSFTJU9xIWwlT3EhcCVPcSNSJU9xI24lT3EjbyVPcSNwJU9xI3ElT3EjciVPcSNzJU9xI3QlT3EjdSVPcSN2JU9xI3glT3EjeiVPcSN7JU9xJE8lT3EoYCVPcShxJU9xIV0lT3EhXiVPcX5QJyV6T2clZSFaIV0lZSFaI2AlZSFaJE8lZSFaflAhMHtPIVk7Wk9+UCMvWE9yO1tPIWcjdk8ocSduT35PWzteTyFZO1pPflAjL1hPIV0nb3EhXidvcX5QI0JdTyFdI2ghWiFeI2ghWn5QI0JdTyNrJWUhWlAlZSFaUiVlIVpbJWUhWmElZSFaaiVlIVpyJWUhWiFTJWUhWiFdJWUhWiFsJWUhWiFwJWUhWiNSJWUhWiNuJWUhWiNvJWUhWiNwJWUhWiNxJWUhWiNyJWUhWiNzJWUhWiN0JWUhWiN1JWUhWiN2JWUhWiN4JWUhWiN6JWUhWiN7JWUhWid5JWUhWihgJWUhWihxJWUhWiFrJWUhWiFZJWUhWid2JWUhWiNgJWUhWnYlZSFaIV8lZSFaJWklZSFaIWclZSFaflAjL1hPcjtmTyFnI3ZPKHEnbk9+TyFZO2dPflAjL1hPcjtuTyFnI3ZPKHEnbk9+TyFZO29PflAjL1hPUCVlIVpSJWUhWlslZSFaaiVlIVpyJWUhWiFTJWUhWiFsJWUhWiFwJWUhWiNSJWUhWiNuJWUhWiNvJWUhWiNwJWUhWiNxJWUhWiNyJWUhWiNzJWUhWiN0JWUhWiN1JWUhWiN2JWUhWiN4JWUhWiN6JWUhWiN7JWUhWiRPJWUhWihgJWUhWihxJWUhWiFdJWUhWiFeJWUhWn5QJyV6T3I7ck8hZyN2TyhxJ25Pfk92KGVYflAxcU8hUSVxT35QISlQTyhUIWxPflAhKVBPIVlmWCFdZlgjYGZYflAlMGtPUF1YUl1YW11Yal1Ycl1YIVFdWCFTXVghXV1YIV1mWCFsXVghcF1YI1JdWCNTXVgjYF1YI2BmWCNrZlgjbl1YI29dWCNwXVgjcV1YI3JdWCNzXVgjdF1YI3VdWCN2XVgjeF1YI3pdWCN7XVgkUV1YKGBdWChxXVgoeF1YKHldWH5PIWdmWCFrXVgha2ZYKHFmWH5QJ0pzT1A7dk9RO3ZPU2ZPZD1yT2UhaU9wa09yO3ZPc2tPdGtPemtPfDt2TyFPO3ZPIVNXTyFXa08hWGtPIV9YTyFpO3lPIWxaTyFvO3ZPIXA7dk8hcTt2TyFzO3pPIXU7fU8heCFoTyRXIWtPJG49cE8oUylaTyhVVE8oWFVPKGBWTyhuW09+TyFdPFpPIV4kcWF+T2glVk9wJVdPciVYT3MkdE90JHRPeiVZT3wlWk8hTzxmTyFTJHtPIV8kfE8haT13TyFsJHhPI2o8bE8kVyVfTyR0PGhPJHY8ak8keSVgTyhTKHRPKFVUTyhYVU8oYCR1Tyh4JH1PKHklUE9+T2wpYk9+UCggaU9yIWVYKHEhZVh+UCMgfU9yKGlYKHEoaVh+UCMhcE8hXl1YIV5mWH5QJ0pzTyFZZlghWSR6WCFdZlghXSR6WCNgZlh+UCEvd08jazxPT35PIWcjdk8jazxPT35PI2A8YE9+T2o8U09+TyNgPHBPIV0odlghXih2WH5PI2A8YE8hXSh0WCFeKHRYfk8jazxxT35PZzxzT35QITB7TyNrPHlPfk8jazx6T35PIWcjdk8jazx7T35PIWcjdk8jazxxT35PJE88fE9+UCNCXU8jazx9T35PI2s9T09+TyNrPVRPfk8jaz1VT35PI2s9Vk9+TyNrPVdPfk8kTz1YT35QITB7TyRPPVlPflAhMHtPayNTI1QjVSNXI1gjWyNpI2ojdSRuJHQkdiR5JV0lXiVoJWklaiVxJXMldiV3JXkle34nfVQjbyFYJ3soVCNwcyNuI3FyIVEnfCRdJ3woUyRfKGR+XCIsXG4gIGdvdG86IFwiJDhnKVtQUFBQUFApXVBQKWBQKXFQK1IvV1BQUFA2YlBQNnhQUDxwUFBQQGRQQHpQQHpQUFBAelBDU1BAelBAelBAelBDV1BDXVBDelBIdFBQUEh4UFBQUEh4S3tQUFBMUkxzUEh4UEh4UFAhIFJIeFBQUEh4UEh4UCEjWUh4UCEmcCEndSEoT1AhKHIhKHYhKHIhLFRQUFBQUFBQISx0ISd1UFAhLVUhLnZQITJTSHhIeCEyWCE1ZSE6UiE6UiE+UVBQUCE+WUh4UFBQUFBQUFBQIUFpUCFCdlBQSHghRFhQSHhQSHhIeEh4SHhIeFBIeCFFa1AhSHVQIUt7UCFMUCFMWiFMXyFMX1AhSHJQIUxjIUxjUCMgaVAjIG1IeFBIeCMgcyMkeENXQHpQQHpQQHpAelAjJlZAekB6IyhpQHojK2FAeiMtbUB6QHojLl0jMHEjMHEjMHYjMVAjMHEjMVtQUCMwcVBAeiMxdEB6IzVzQHpAejZiUFBQIzl4UFBQIzpjIzpjUCM6Y1AjOnkjOmNQUCM7UFAjOnZQIzp2IztkIzp2IzxPIzxVIzxYKWAjPFspYFAjPGMjPGMjPGNQKWBQKWBQKWBQKWBQUClgUCM8aSM8bFAjPGwpYFAjPHBQIzxzUClgUClgUClgUClgUClgUClgKWBQUCM8eSM9UCM9WyM9YiM9aCM9biM9dCM+UyM+WSM+ZCM+aiM+dCM+eiM/WyM/YiNAUyNAZiNAbCNAciNBUSNBZyNDWyNDaiNDcSNFXSNFayNHXSNHayNHcSNHdyNHfSNIWCNIXyNIZSNIbyNJUiNJWFBQUFBQUFBQUFBQI0lfUFBQUFBQUCNKUyNNWiNOcyNOeiQgU1BQUCQmblAkJnckKXAkMFokMF4kMGEkMWAkMWMkMWokMXJQJDF4JDF7UCQyaSQybSQzZSQ0cyQ0eCQ1YFBQJDVlJDVrJDVvJDVyJDV2JDV6JDZ2JDdfJDd2JDd6JDd9JDhRJDhXJDhaJDhfJDhjUiF8Um9xT1hzdCFaI2QlbCZwJnImcyZ1LG4sczJTMlZZIXZRJ14tYDFnNXFRJXN2USV7eVEmU3xRJmghVlMnVSFlLVdRJ2QhaVMnaiFyIXlVKmgkfCpYKmxRK2wlfFEreSZVUSxfJmJRLV4nXVEtaCdlUS1wJ2tRMFUqblExcSxgUjxtO3olU2RPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWwlcyZRJmkmbCZwJnImcyZ1JnknUidgJ3AoUihUKFooYih2KHgofCl7KmYrVStZLGssbixzLWQtbC16LlEuby52L2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyeDNPM2Q0cTV5Nlo2WzZfNnI4aTh4OVNTI3FdO3chcildJFokbidWKXEtUC1TL1EyaDN7NW02aTl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXNVKnslWzxlPGZRK3EmT1EsYSZlUSxoJm1RMHIrZFEwdytmUTFTK3JRMXksZlEzVy5iUTVWMHZRNV0wfVE2UTFyUTdPM1tROFU1XlI5WTdRJ1FrT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4lbCVzJlEmaSZsJm0mcCZyJnMmdSZ5J1InVidgJ3AoUihUKFooYih2KHgofClxKXsqZitVK1krZCxrLG4scy1QLVMtZC1sLXouUS5iLm8udi9RL2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyaDJ4M08zWzNkM3s0cTVtNXk2WjZbNl82aTZyN1E4aTh4OVM5fTphO3Y7eTt6O308TzxQPFE8UjxTPFQ8VTxWPFc8WDxZPFo8XTxgPG08cDxxPHM8ezx8PVY9Vz1zIVMhblEhciF2IXkheiR8J1UnXSdeJ2onaydsKmgqbCpuKm8tVy1eLWAtcDBVMFgxZzVxNXMlWyR0aSN2JGIkYyRkJHgkeyVPJVElXSVeJWIpdypQKlIqVCpXKl4qZCp0KnUrYytmK30sUS5hLnovXy9oL3Ivcy91MFkwWzBnMGgwaTFeMWExaTNaNFU0VjRhNGY0dzVSNVU1eDZ8N2w3djd8OFE4ZjlWOWU5bjl0OlM6Zjp0On07VjtePF48XzxhPGI8YzxkPGc8aDxpPGo8azxsPHQ8dTx2PHc8eTx6PH09Tz1QPVE9Uj1TPVQ9VT1YPVk9cD14PXk9fD19USZWfFEnUyFlUydZJWgtWlErcSZPUSxhJmVRMGYrT1ExUytyUTFYK3hRMXgsZVExeSxmUTVdMH1RNWYxWlE2UTFyUTZUMXRRNlUxd1E4VTVeUThYNWNROHE2V1E5fDhZUTpZOG5SPG8qWHJuT1hzdCFWIVojZCVsJmcmcCZyJnMmdSxuLHMyUzJWUixjJmkmel5PUFhZc3R1dnd6IVohYCFnIWohbyNTI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidgJ3AoVChaKGIodih4KHwpcSl7KmYrVStZK2QsayxuLHMtUC1TLWQtbC16LlEuYi5vLnYvUS9pMFYwZDBsMHwxajF6MXsxfTJQMlMyVjJYMmgyeDNPM1szZDN7NHE1bTV5Nlo2WzZfNmk2cjdROGk4eDlTOX06YTt2O3k7ejt9PE88UDxRPFI8UzxUPFU8VjxXPFg8WTxaPF08YDxtPHA8cTxzPHs8fD1WPVc9cj1zWyNdV1ojVyNaJ1YoUiFiJWltI2gjaSNsJHglZCVnKFsoZihnKGgqVypbKl8rVytYK1osai1RLk8uVS5WLlcuWS9oL2syWzNTM1Q0WDZoNnlRJXZ4USV6eVMmUHwmVVEmXSFUUSdhIWhRJ2MhaVEobyNzUytrJXslfFErbyZPUSxZJmBRLF4mYlMtZydkJ2VRLmQocFEweytsUTFSK3JRMVQrc1ExVyt3UTFsLFpTMXAsXyxgUTJ0LWhRNVswfVE1YDFRUTVlMVlRNlAxcVE4VDVeUThXNWJROXg4U1I6dzl5IVUkemkkZCVPJVElXSVeJWIqUCpSKl4qdCp1LnovcjBZMFswZzBoMGk0VjR3N3w5ZT1wPXg9eSFeJXh5IWkhdSV6JXslfCdUJ2MnZCdlJ2kncypnK2srbC1ULWctaC1vL3swTzB7Mm0ydDJ7NGk0ajRtN3M5cFErZSV2USxPJllRLFImWlEsXSZiUS5jKG9RMWssWVUxbyxeLF8sYFEzXS5kUTV6MWxTNk8xcDFxUThtNlAjZj10I3YkYiRjJHgkeyl3KlQqVypkK2MrZit9LFEuYS9fL2gvcy91MV4xYTFpM1o0VTRhNGY1UjVVNXg2fDdsN3Y4UThmOVY5bjl0OlM6Zjp0On07VjtePGE8YzxnPGk8azx0PHY8eTx9PVA9Uj1UPVg9fD19bz11PF48XzxiPGQ8aDxqPGw8dTx3PHo9Tz1RPVM9VT1ZVyVUaSVWKnY9cFMmWSFRJmdRJlohUlEmWyFTUStTJWNSK3wmVyVdJVNpI3YkYiRjJGQkeCR7JU8lUSVdJV4lYil3KlAqUipUKlcqXipkKnQqdStjK2YrfSxRLmEuei9fL2gvci9zL3UwWTBbMGcwaDBpMV4xYTFpM1o0VTRWNGE0ZjR3NVI1VTV4Nnw3bDd2N3w4UThmOVY5ZTluOXQ6UzpmOnQ6fTtWO148XjxfPGE8YjxjPGQ8ZzxoPGk8ajxrPGw8dDx1PHY8dzx5PHo8fT1PPVA9UT1SPVM9VD1VPVg9WT1wPXg9eT18PX1UKXgkdSl5Vip7JVs8ZTxmVydZIWUlaCpYLVpTKHsjeSN6UStgJXFRK3YmUlMuXShrKGxRMWIsU1E0eDBjUjheNWsnUWtPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidWJ2AncChSKFQoWihiKHYoeCh8KXEpeypmK1UrWStkLGssbixzLVAtUy1kLWwtei5RLmIuby52L1EvaTBWMGQwbDB8MWoxejF7MX0yUDJTMlYyWDJoMngzTzNbM2QzezRxNW01eTZaNls2XzZpNnI3UThpOHg5Uzl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXMkaSReYyNZI2UlcCVyJXQoUShXKHIodylQKVEpUilTKVQpVSlWKVcpWClZKVspXilgKWUpbythK3UtVS1zLXgtfS5QLm4ucS51LncueC55L10wajJjMmYydjJ9M2MzaDNpM2ozazNsM20zbjNvM3AzcTNyM3MzdDN3M3g0UDVPNVk2azZxNnY3VjdXN2E3YjhgOHw5UTlbOWI5YzpjOnk7Ujt4PWdUI1RWI1UnUmtPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidWJ2AncChSKFQoWihiKHYoeCh8KXEpeypmK1UrWStkLGssbixzLVAtUy1kLWwtei5RLmIuby52L1EvaTBWMGQwbDB8MWoxejF7MX0yUDJTMlYyWDJoMngzTzNbM2QzezRxNW01eTZaNls2XzZpNnI3UThpOHg5Uzl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXNRJ1chZVIyaS1XIVchblEhZSFyIXYheSF6JHwnVSddJ14naidrJ2wqWCpoKmwqbipvLVctXi1gLXAwVTBYMWc1cTVzUjFkLFVucU9Yc3QhWiNkJWwmcCZyJnMmdSxuLHMyUzJWUSZ3IV5RJ3QheFMocSN1PE9RK2kleVEsVyZdUSxYJl9RLWUnYlEtcidtUy5tKHY8cVMwaytVPHtRMHkralExZixWUTJaLHVRMl0sdlEyZS1SUTJyLWZRMnUtalM1UDBsPVZRNVcwelM1WjB8PVdRNmoyZ1E2bjJzUTZzMnpROFI1WFE4fTZsUTlPNm9ROVI2dFI6YDh6JGQkXWMjWSNlJXIldChRKFcocih3KVApUSlSKVMpVClVKVYpVylYKVkpWyleKWApZSlvK2ErdS1VLXMteC19LlAubi5xLnUueC55L10wajJjMmYydjJ9M2MzaDNpM2ozazNsM20zbjNvM3AzcTNyM3MzdDN3M3g0UDVPNVk2azZxNnY3VjdXN2E3YjhgOHw5UTlbOWI5YzpjOnk7Ujt4PWdTKG0jcCdnUSh9I3pTK18lcC53Uy5eKGwoblIzVS5fJ1FrT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRaJF8kYSRlJG4lbCVzJlEmaSZsJm0mcCZyJnMmdSZ5J1InVidgJ3AoUihUKFooYih2KHgofClxKXsqZitVK1krZCxrLG4scy1QLVMtZC1sLXouUS5iLm8udi9RL2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyaDJ4M08zWzNkM3s0cTVtNXk2WjZbNl82aTZyN1E4aTh4OVM5fTphO3Y7eTt6O308TzxQPFE8UjxTPFQ8VTxWPFc8WDxZPFo8XTxgPG08cDxxPHM8ezx8PVY9Vz1zUyNxXTt3USZyIVhRJnMhWVEmdSFbUSZ2IV1SMlIscVEnXyFoUStiJXZRLWMnYVMuYChvK2VRMnAtYlczWS5jLmQwcTBzUTZtMnFXNnozVjNYM101VFU5VTZ7Nn03UFU6ZTlXOVg5WlM7VDpkOmdRO2I7VVI7ajtjVSF3USdeLWBUNW8xZzVxIVFfT1haYHN0IVYhWiNkI2glZCVsJmcmaSZwJnImcyZ1KGgsbixzLlYyUzJWXSFwUSFyJ14tYDFnNXFUI3FdO3clXntPUFdYWVpzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJF8kYSRlJWwlcyZRJmkmbCZtJnAmciZzJnUmeSdSJ2AncChSKFQoWihiKHYoeCh8KXsqZitVK1krZCxrLG4scy1kLWwtei5RLmIuby52L2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyeDNPM1szZDRxNXk2WjZbNl82cjdROGk4eDlTUyh7I3kjelMuXShrKGwhcz1eJFokbidWKXEtUC1TL1EyaDN7NW02aTl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXNVJGZkKV0saFMobiNwJ2dVKnMlUih1M3ZVMGUqei5pN11RNVQwclE2ezNXUTlYN09SOmc5WW0hdFEhciF2IXkheideJ2onaydsLWAtcDFnNXE1c1EnciF1UyhkI2cxfFMtbidpJ3VRL24qWlEveypnUTJ8LXFRNF0vb1E0aS99UTRqME9RNG8wV1E3aDRXUzdzNGs0bVM3dzRwNHJROWc3aVE5azdvUTlwN3RROXU3eVM6bzlsOW1TO1k6cDpzUztlO1o7W1M7bTtmO2dTO3E7bjtvUjt0O3JRI3diUSdxIXVTKGMjZzF8UyhlI20rVFErViVlUStnJXdRK20lfVUtbSdpJ3IndVEuUihkUS9tKlpRL3wqZ1EwUCppUTB4K2hRMW0sW1MyeS1uLXFRM1IuWlM0Wy9uL29RNGUveVM0aC97MFdRNGwwUVE1fDFuUTZ1MnxRN2c0V1E3azRdVTdyNGk0bzRyUTd1NG5ROGs1fVM5ZjdoN2lROWo3b1E5cjd3UTlzN3hROlY4bFE6bTlnUzpuOWs5bVE6djl1UTtQOldTO1g6bzpzUztkO1k7WlM7bDtlO2dTO3A7bTtvUTtzO3FRO3U7dFE9YT1bUT1sPWVSPW09ZlYhd1EnXi1gJV5hT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidgJ3AoUihUKFooYih2KHgofCl7KmYrVStZK2QsayxuLHMtZC1sLXouUS5iLm8udi9pMFYwZDBsMHwxajF6MXsxfTJQMlMyVjJYMngzTzNbM2Q0cTV5Nlo2WzZfNnI3UThpOHg5U1Mjd3ohaiFyPVokWiRuJ1YpcS1QLVMvUTJoM3s1bTZpOX06YTt2O3k7ejt9PE88UDxRPFI8UzxUPFU8VjxXPFg8WTxaPF08YDxtPHA8cTxzPHs8fD1WPVc9c1I9YT1yJV5iT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidgJ3AoUihUKFooYih2KHgofCl7KmYrVStZK2QsayxuLHMtZC1sLXouUS5iLm8udi9pMFYwZDBsMHwxajF6MXsxfTJQMlMyVjJYMngzTzNbM2Q0cTV5Nlo2WzZfNnI3UThpOHg5U1ElZWohXiV3eSFpIXUleiV7JXwnVCdjJ2QnZSdpJ3MqZytrK2wtVC1nLWgtby97ME8wezJtMnQyezRpNGo0bTdzOXBTJX16IWpRK2gleFEsWyZiVzFuLF0sXixfLGBVNX0xbzFwMXFTOGw2TzZQUTpXOG0hcj1bJFokbidWKXEtUC1TL1EyaDN7NW02aTl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXNRPWU9cVI9Zj1yJVFlT1BYWXN0dXZ3IVohYCFnIW8jUyNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVsJXMmUSZpJmwmcCZyJnMmdSZ5J1InYCdwKFQoWihiKHYoeCh8KXsqZitVK1krZCxrLG4scy1kLWwtei5RLmIuby52L2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyeDNPM1szZDRxNXk2WjZbNl82cjdROGk4eDlTWSNiV1ojVyNaKFIhYiVpbSNoI2kjbCR4JWQlZyhbKGYoZyhoKlcqWypfK1crWCtaLGotUS5PLlUuVi5XLlkvaC9rMlszUzNUNFg2aDZ5USxpJm0hcD1dJFokbilxLVAtUy9RMmgzezVtNmk5fTphO3Y7eTt6O308TzxQPFE8UjxTPFQ8VTxWPFc8WDxZPFo8XTxgPG08cDxxPHM8ezx8PVY9Vz1zUj1gJ1ZVJ1ohZSVoKlhSMmstWiVTZE9QV1hZWnN0dXZ3IVohYCFnIW8jUyNXI1ojZCNvI3UjeCN7JE8kUCRRJFIkUyRUJFUkViRXJFgkXyRhJGUlbCVzJlEmaSZsJnAmciZzJnUmeSdSJ2AncChSKFQoWihiKHYoeCh8KXsqZitVK1ksayxuLHMtZC1sLXouUS5vLnYvaTBWMGQwbDB8MWoxejF7MX0yUDJTMlYyWDJ4M08zZDRxNXk2WjZbNl82cjhpOHg5UyFyKV0kWiRuJ1YpcS1QLVMvUTJoM3s1bTZpOX06YTt2O3k7ejt9PE88UDxRPFI8UzxUPFU8VjxXPFg8WTxaPF08YDxtPHA8cTxzPHs8fD1WPVc9c1EsaCZtUTByK2RRM1cuYlE3TzNbUjlZN1EhYiRUYyNZJXAoUShXKHIodylYKVkpXillK3Utcy14LX0uUC5uLnEvXTBqMnYyfTNjM3M1TzVZNnE2djdWOVE6Yzt4IVA8VSlbKW8tVS53MmMyZjNoM3EzcjN3NFA2azdXN2E3YjhgOHw5WzliOWM6eTtSPWchZiRWYyNZJXAoUShXKHIodylVKVYpWClZKV4pZSt1LXMteC19LlAubi5xL10wajJ2Mn0zYzNzNU81WTZxNnY3VjlROmM7eCFUPFcpWylvLVUudzJjMmYzaDNuM28zcTNyM3c0UDZrN1c3YTdiOGA4fDlbOWI5Yzp5O1I9ZyFeJFpjI1klcChRKFcocih3KV4pZSt1LXMteC19LlAubi5xL10wajJ2Mn0zYzNzNU81WTZxNnY3VjlROmM7eFE0Vi9mej1zKVspby1VLncyYzJmM2gzdzRQNms3VzdhN2I4YDh8OVs5YjljOnk7Uj1nUT14PXpSPXk9eydRa09QV1hZWnN0dXZ3IVohYCFnIW8jUyNXI1ojZCNvI3UjeCN7JE8kUCRRJFIkUyRUJFUkViRXJFgkWiRfJGEkZSRuJWwlcyZRJmkmbCZtJnAmciZzJnUmeSdSJ1YnYCdwKFIoVChaKGIodih4KHwpcSl7KmYrVStZK2QsayxuLHMtUC1TLWQtbC16LlEuYi5vLnYvUS9pMFYwZDBsMHwxajF6MXsxfTJQMlMyVjJYMmgyeDNPM1szZDN7NHE1bTV5Nlo2WzZfNmk2cjdROGk4eDlTOX06YTt2O3k7ejt9PE88UDxRPFI8UzxUPFU8VjxXPFg8WTxaPF08YDxtPHA8cTxzPHs8fD1WPVc9c1Mkb2gkcFIzfC9QJ1hnT1BXWFlaaHN0dXZ3IVohYCFnIW8jUyNXI1ojZCNvI3UjeCN7JE8kUCRRJFIkUyRUJFUkViRXJFgkWiRfJGEkZSRuJHAlbCVzJlEmaSZsJm0mcCZyJnMmdSZ5J1InVidgJ3AoUihUKFooYih2KHgofClxKXsqZitVK1krZCxrLG4scy1QLVMtZC1sLXouUS5iLm8udi9QL1EvaTBWMGQwbDB8MWoxejF7MX0yUDJTMlYyWDJoMngzTzNbM2QzezRxNW01eTZaNls2XzZpNnI3UThpOHg5Uzl9OmE7djt5O3o7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxdPGA8bTxwPHE8czx7PHw9Vj1XPXNUJGtmJHFRJGlmUyloJGwpbFIpdCRxVCRqZiRxVClqJGwpbCdYaE9QV1hZWmhzdHV2dyFaIWAhZyFvI1MjVyNaI2QjbyN1I3gjeyRPJFAkUSRSJFMkVCRVJFYkVyRYJFokXyRhJGUkbiRwJWwlcyZRJmkmbCZtJnAmciZzJnUmeSdSJ1YnYCdwKFIoVChaKGIodih4KHwpcSl7KmYrVStZK2QsayxuLHMtUC1TLWQtbC16LlEuYi5vLnYvUC9RL2kwVjBkMGwwfDFqMXoxezF9MlAyUzJWMlgyaDJ4M08zWzNkM3s0cTVtNXk2WjZbNl82aTZyN1E4aTh4OVM5fTphO3Y7eTt6O308TzxQPFE8UjxTPFQ8VTxWPFc8WDxZPFo8XTxgPG08cDxxPHM8ezx8PVY9Vz1zVCRvaCRwUSRyaFIpcyRwJV5qT1BXWFlac3R1dnchWiFgIWchbyNTI1cjWiNkI28jdSN4I3skTyRQJFEkUiRTJFQkVSRWJFckWCRfJGEkZSVsJXMmUSZpJmwmbSZwJnImcyZ1JnknUidgJ3AoUihUKFooYih2KHgofCl7KmYrVStZK2QsayxuLHMtZC1sLXouUS5iLm8udi9pMFYwZDBsMHwxajF6MXsxfTJQMlMyVjJYMngzTzNbM2Q0cTV5Nlo2WzZfNnI3UThpOHg5UyFzPXEkWiRuJ1YpcS1QLVMvUTJoM3s1bTZpOX06YTt2O3k7ejt9PE88UDxRPFI8UzxUPFU8VjxXPFg8WTxaPF08YDxtPHA8cTxzPHs8fD1WPVc9cyNnbE9QWFpzdCFaIWAhbyNTI2QjbyN7JG4lbCZpJmwmbSZwJnImcyZ1JnknUidgKHwpcSpmK1krZCxrLG4scy1kLmIvUS9pMFYwZDFqMXoxezF9MlAyUzJWMlgzWzN7NHE1eTZaNls2XzdROGk4eCFVJVJpJGQlTyVRJV0lXiViKlAqUipeKnQqdS56L3IwWTBbMGcwaDBpNFY0dzd8OWU9cD14PXkjZih1I3YkYiRjJHgkeyl3KlQqVypkK2MrZit9LFEuYS9fL2gvcy91MV4xYTFpM1o0VTRhNGY1UjVVNXg2fDdsN3Y4UThmOVY5bjl0OlM6Zjp0On07VjtePGE8YzxnPGk8azx0PHY8eTx9PVA9Uj1UPVg9fD19UStQJWBRL14pfG8zdjxePF88YjxkPGg8ajxsPHU8dzx6PU89UT1TPVU9WSFVJHlpJGQlTyVRJV0lXiViKlAqUipeKnQqdS56L3IwWTBbMGcwaDBpNFY0dzd8OWU9cD14PXlRKmAkelUqaSR8KlgqbFErUSVhUTBRKmojZj1jI3YkYiRjJHgkeyl3KlQqVypkK2MrZit9LFEuYS9fL2gvcy91MV4xYTFpM1o0VTRhNGY1UjVVNXg2fDdsN3Y4UThmOVY5bjl0OlM6Zjp0On07VjtePGE8YzxnPGk8azx0PHY8eTx9PVA9Uj1UPVg9fD19bj1kPF48XzxiPGQ8aDxqPGw8dTx3PHo9Tz1RPVM9VT1ZUT1oPXRRPWk9dVE9aj12Uj1rPXchVSVSaSRkJU8lUSVdJV4lYipQKlIqXip0KnUuei9yMFkwWzBnMGgwaTRWNHc3fDllPXA9eD15I2YodSN2JGIkYyR4JHspdypUKlcqZCtjK2YrfSxRLmEvXy9oL3MvdTFeMWExaTNaNFU0YTRmNVI1VTV4Nnw3bDd2OFE4ZjlWOW45dDpTOmY6dDp9O1Y7XjxhPGM8ZzxpPGs8dDx2PHk8fT1QPVI9VD1YPXw9fW8zdjxePF88YjxkPGg8ajxsPHU8dzx6PU89UT1TPVU9WW5vT1hzdCFaI2QlbCZwJnImcyZ1LG4sczJTMlZTKmMkeypXUSx8JnxRLH0nT1I0YC9zJVslU2kjdiRiJGMkZCR4JHslTyVRJV0lXiViKXcqUCpSKlQqVypeKmQqdCp1K2MrZit9LFEuYS56L18vaC9yL3MvdTBZMFswZzBoMGkxXjFhMWkzWjRVNFY0YTRmNHc1UjVVNXg2fDdsN3Y3fDhROGY5VjllOW45dDpTOmY6dDp9O1Y7XjxePF88YTxiPGM8ZDxnPGg8aTxqPGs8bDx0PHU8djx3PHk8ejx9PU89UD1RPVI9Uz1UPVU9WD1ZPXA9eD15PXw9fVEsUCZaUTFgLFJRNWkxX1I4XTVqViprJHwqWCpsVSprJHwqWCpsVDVwMWc1cVMveSpmL2lRNG4wVlQ3eDRxOlBRK2cld1EwUCppUTB4K2hRMW0sW1E1fDFuUThrNX1ROlY4bFI7UDpXIVUlT2kkZCVPJVElXSVeJWIqUCpSKl4qdCp1LnovcjBZMFswZzBoMGk0VjR3N3w5ZT1wPXg9eXgqUCR2KWMqUSpyK1IvcTBeMF8zeTReNHs0fDR9N2Y3ejl2Omw9Yj1uPW9TMFkqcTBaI2Y8YSN2JGIkYyR4JHspdypUKlcqZCtjK2YrfSxRLmEvXy9oL3MvdTFeMWExaTNaNFU0YTRmNVI1VTV4Nnw3bDd2OFE4ZjlWOW45dDpTOmY6dDp9O1Y7XjxhPGM8ZzxpPGs8dDx2PHk8fT1QPVI9VD1YPXw9fW48YjxePF88YjxkPGg8ajxsPHU8dzx6PU89UT1TPVU9WSFkPHQocylhKlkqYi5lLmgubC9ZL2YvdjBwMV0zYDRTNF80YzVoN1I3VTdtN3A3fThQOWk5cTl3OnE6dTtXO107aD16PXtgPHUzdTdYN1s3YDldOmg6aztrUz1QLmczYVQ9UTdaOWAhVSVRaSRkJU8lUSVdJV4lYipQKlIqXip0KnUuei9yMFkwWzBnMGgwaTRWNHc3fDllPXA9eD15fCpSJHYpYypTKnErUi9iL3EwXjBfM3k0XjRzNHs0fDR9N2Y3ejl2Omw9Yj1uPW9TMFsqcjBdI2Y8YyN2JGIkYyR4JHspdypUKlcqZCtjK2YrfSxRLmEvXy9oL3MvdTFeMWExaTNaNFU0YTRmNVI1VTV4Nnw3bDd2OFE4ZjlWOW45dDpTOmY6dDp9O1Y7XjxhPGM8ZzxpPGs8dDx2PHk8fT1QPVI9VD1YPXw9fW48ZDxePF88YjxkPGg8ajxsPHU8dzx6PU89UT1TPVU9WSFoPHYocylhKlkqYi5mLmcubC9ZL2YvdjBwMV0zXjNgNFM0XzRjNWg3UjdTN1U3bTdwN304UDlpOXE5dzpxOnU7VztdO2g9ej17ZDx3M3U3WTdaN2A5XTleOmg6aTprO2tTPVIuaDNiVD1TN1s5YXJuT1hzdCFWIVojZCVsJmcmcCZyJnMmdSxuLHMyUzJWUSZkIVVSLGsmbXJuT1hzdCFWIVojZCVsJmcmcCZyJnMmdSxuLHMyUzJWUiZkIVVRLFQmW1IxWyt8c25PWHN0IVYhWiNkJWwmZyZwJnImcyZ1LG4sczJTMlZRMWgsWVM1dzFrMWxVOGU1dTV2NXpTOlI4ZzhoUzp7OlE6VFE7Xzp8UjtpO2BRJmshVlIsZCZnUjZUMXRSOlk4blMmUHwmVVIxVCtzUSZwIVdSLG4mcVIsdCZ2VDJULHMyVlIseCZ3USx3JndSMl4seFEndyF7Ui10J3dTc090USNkWFQlb3MjZFEjT1RSJ3kjT1EjUlVSJ3sjUlEpeSR1Ui9aKXlRI1VWUihPI1VRI1hXVShVI1goVi17UShWI1lSLXsoV1EtWCdXUjJqLVhRLnAod1MzZS5wM2ZSM2YucVEtYCdeUjJuLWBZIXJRJ14tYDFnNXFSJ2ghclEueyljUjN6LntVI19XJWcqV1UoXSNfKF4tfFEoXiNgUi18KFhRLVsnWlIybC1bdGBPWHN0IVYhWiNkJWwmZyZpJnAmciZzJnUsbixzMlMyVlMjaFolZFUjcmAjaC5WUi5WKGhRKGkjalEuUyhlVy5bKGkuUzNQNndRM1AuVFI2dzNRUSlsJGxSL1IpbFEkcGhSKXIkcFEkYGNVKV8kYC13PFtRLXc7eFI8WylvUS9sKlpXNFkvbDRaN2o5aFU0Wi9tL24vb1M3ajRbNF1SOWg3ayRlKk8kdihzKWEpYypZKmIqcSpyKnwqfStSLmcuaC5qLmsubC9ZL2IvZC9mL3EvdjBeMF8wcDFdM14zXzNgM3UzeTRTNF40XzRjNHM0dTR7NHw0fTVoN1I3UzdUN1U3WjdbN143XzdgN2Y3bTdwN3o3fThQOV05XjlfOWk5cTl2OXc6aDppOmo6azpsOnE6dTtXO107aDtrPWI9bj1vPXo9e1EvdCpiVTRiL3Q0ZDduUTRkL3ZSN240Y1MqbCR8KlhSMFMqbHgqUSR2KWMqcSpyK1IvcTBeMF8zeTReNHs0fDR9N2Y3ejl2Omw9Yj1uPW8hZC5lKHMpYSpZKmIuZy5oLmwvWS9mL3YwcDFdM2A0UzRfNGM1aDdSN1U3bTdwN304UDlpOXE5dzpxOnU7VztdO2g9ej17VS9jKlEuZTdYYTdYM3U3WjdbN2A5XTpoOms7a1EwWipxUTNhLmdVNHQwWjNhOWBSOWA3WnwqUyR2KWMqcSpyK1IvYi9xMF4wXzN5NF40czR7NHw0fTdmN3o5djpsPWI9bj1vIWguZihzKWEqWSpiLmcuaC5sL1kvZi92MHAxXTNeM2A0UzRfNGM1aDdSN1M3VTdtN3A3fThQOWk5cTl3OnE6dTtXO107aD16PXtVL2UqUy5mN1llN1kzdTdaN1s3YDldOV46aDppOms7a1EwXSpyUTNiLmhVNHYwXTNiOWFSOWE3W1EqdyVVUjBhKndRNVMwcFI4TzVTUStbJWpSMG8rW1E1bDFiUzhfNWw6T1I6TzhgUSxWJl1SMWUsVlE1cTFnUjhiNXFRMXMsYVM2UjFzOG9SOG82VFExTytvVzVfMU81YThWOXpRNWExUlE4VjVgUjl6OFdRK3QmUFIxVSt0UTJWLHNSNmMyVllyT1hzdCNkUSZ0IVpRK14lbFEsbSZwUSxvJnJRLHAmc1EsciZ1UTJRLG5TMlQsczJWUjZiMlNRJW5wUSZ4IV9RJnshYVEmfSFiUSdQIWNRJ28hdVErXSVrUStpJXlRK3smVlEsYyZrUSx6JnpXLWsnaSdxJ3IndVEtcidtUTBSKmtRMHkralMxdixkLGdRMl8seVEyYCx8UTJhLH1RMnUtalcydy1tLW4tcS1zUTVXMHpRNWQxWFE1ZzFdUTV7MW1RNlYxeFE2YTJSVTZwMnYyeTJ8UTZzMnpROFI1WFE4WjVmUThbNWhROGE1cFE4ajV8UThwNlVTOVA2cTZ1UTlSNnRROXs4WFE6VThrUTpaOHFROmI5UVE6eDl8UTtPOlZRO1M6Y1I7YTtQUSV5eVEnYiFpUSdtIXVVK2oleiV7JXxRLVInVFUtZidjJ2QnZVMtaidpJ3NRL3oqZ1MweitrK2xRMmctVFMycy1nLWhRMnotb1M0Zy97ME9RNVgwe1E2bDJtUTZvMnRRNnQye1U3cTRpNGo0bVE5bzdzUjpyOXBTJHdpPXBSKnglVlUlVWklVj1wUjBgKnZRJHZpUyhzI3YrZlMpYSRiJGNRKWMkZFEqWSR4UypiJHsqV1EqcSVPUSpyJVFRKnwlXVEqfSVeUStSJWJRLmc8YVEuaDxjUS5qPGdRLms8aVEubDxrUS9ZKXdRL2IqUFEvZCpSUS9mKlRRL3EqXlMvdipkL2hRMF4qdFEwXyp1bDBwK2MsUS5hMWExaTNaNXg2fDhmOVY6UzpmOn07VlExXSt9UTNePHRRM188dlEzYDx5UzN1PF48X1EzeS56UzRTL180VVE0Xi9yUTRfL3NRNGMvdVE0czBZUTR1MFtRNHswZ1E0fDBoUTR9MGlRNWgxXlE3Ujx9UTdTPVBRN1Q9UlE3VT1UUTdaPGJRN1s8ZFE3XjxoUTdfPGpRN2A8bFE3ZjRWUTdtNGFRN3A0ZlE3ejR3UTd9NVJROFA1VVE5XTx6UTlePHVROV88d1E5aTdsUTlxN3ZROXY3fFE5dzhRUTpoPU9ROmk9UVE6aj1TUTprPVVROmw5ZVE6cTluUTp1OXRRO1c9WFE7XTp0UTtoO15RO2s9WVE9Yj1wUT1uPXhRPW89eVE9ej18Uj17PX1RKnolW1EuaTxlUjddPGZucE9Yc3QhWiNkJWwmcCZyJnMmdSxuLHMyUzJWUSFmUFMjZlojb1EmeiFgVydmIW8qZjBWNHFRJ30jU1EpTyN7USlwJG5TLGcmaSZsUSxsJm1RLHkmeVMtTydSL2lRLWInYFEucyh8US9WKXFRMG0rWVEwcytkUTJPLGtRMnEtZFEzWC5iUTRPL1FRNHkwZFE1djFqUTZYMXpRNlkxe1E2XjF9UTZgMlBRNmUyWFE3UDNbUTdjM3tROGg1eVE4dDZaUTh1NltROHc2X1E5WjdRUTpUOGlSOl84eCNbY09QWFpzdCFaIWAhbyNkI28jeyVsJmkmbCZtJnAmciZzJnUmeSdSJ2AofCpmK1krZCxrLG4scy1kLmIvaTBWMGQxajF6MXsxfTJQMlMyVjJYM1s0cTV5Nlo2WzZfN1E4aTh4USNZV1EjZVlRJXB1USVydlMldHchZ1MoUSNXKFRRKFcjWlEociN1USh3I3hRKVAkT1EpUSRQUSlSJFFRKVMkUlEpVCRTUSlVJFRRKVYkVVEpVyRWUSlYJFdRKVkkWFEpWyRaUSleJF9RKWAkYVEpZSRlVylvJG4pcS9RM3tRK2Elc1ErdSZRUy1VJ1YyaFEtcydwUy14KFItelEtfShaUS5QKGJRLm4odlEucSh4US51O3ZRLnc7eVEueDt6US55O31RL10pe1EwaitVUTJjLVBRMmYtU1Eydi1sUTJ9LlFRM2Mub1EzaDxPUTNpPFBRM2o8UVEzazxSUTNsPFNRM208VFEzbjxVUTNvPFZRM3A8V1EzcTxYUTNyPFlRM3MudlEzdDxdUTN3PGBRM3g8bVE0UDxaUTVPMGxRNVkwfFE2azxwUTZxMnhRNnYzT1E3VjNkUTdXPHFRN2E8c1E3Yjx7UThgNW1ROHw2aVE5UTZyUTlbPHxROWI9VlE5Yz1XUTpjOVNROnk5fVE7UjphUTt4I1NSPWc9c1IjW1dSJ1ghZWwhdFEhciF2IXkheideJ2onaydsLWAtcDFnNXE1c1MnVCFlLVdVKmckfCpYKmxTLVQnVSddUzBPKmgqblEwVypvUTJtLV5RNG0wVVI0cjBYUih5I3hRIWZRVC1fJ14tYF0hcVEhcideLWAxZzVxUSNwXVInZzt3UilkJGRZIXVRJ14tYDFnNXFRJ2khclMncyF2IXlTJ3UhejVzUy1vJ2ona1EtcSdsUjJ7LXBUI2taJWRTI2paJWRTJWptLGpVKGUjaCNpI2xTLlQoZihnUS5YKGhRMG4rWlEzUS5VVTNSLlYuVy5ZUzZ4M1MzVFI5VDZ5ZCNeVyNXI1olZyhSKFsqVytXLk8vaHIjZ1ptI2gjaSNsJWQoZihnKGgrWi5VLlYuVy5ZM1MzVDZ5UypaJHgqX1EvbypbUTF8LGpRMmQtUVE0Vy9rUTZnMltRN2k0WFE4ezZoVD1fJ1YrWFYjYVclZypXVSNgVyVnKldTKFMjVyhbVShYI1orVy9oUy1WJ1YrWFQteShSLk9WJ1shZSVoKlhRJGxmUil2JHFUKWskbClsUjN9L1BUKl0keCpfVCplJHsqV1EwcStjUTFfLFFRM1YuYVE1ajFhUTV1MWlRNn0zWlE4ZzV4UTlXNnxROlE4ZlE6ZDlWUTp8OlNRO1U6ZlE7YDp9UjtjO1ZucU9Yc3QhWiNkJWwmcCZyJnMmdSxuLHMyUzJWUSZqIVZSLGMmZ3RtT1hzdCFVIVYhWiNkJWwmZyZwJnImcyZ1LG4sczJTMlZSLGombVQla20salIxYyxTUixiJmVRJlR8Uit6JlVSK3AmT1QmbiFXJnFUJm8hVyZxVDJVLHMyVlwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIEFyaXRoT3AgQXJpdGhPcCA/LiBKU1hTdGFydFRhZyBMaW5lQ29tbWVudCBCbG9ja0NvbW1lbnQgU2NyaXB0IEhhc2hiYW5nIEV4cG9ydERlY2xhcmF0aW9uIGV4cG9ydCBTdGFyIGFzIFZhcmlhYmxlTmFtZSBTdHJpbmcgRXNjYXBlIGZyb20gOyBkZWZhdWx0IEZ1bmN0aW9uRGVjbGFyYXRpb24gYXN5bmMgZnVuY3Rpb24gVmFyaWFibGVEZWZpbml0aW9uID4gPCBUeXBlUGFyYW1MaXN0IGluIG91dCBjb25zdCBUeXBlRGVmaW5pdGlvbiBleHRlbmRzIFRoaXNUeXBlIHRoaXMgTGl0ZXJhbFR5cGUgQXJpdGhPcCBOdW1iZXIgQm9vbGVhbkxpdGVyYWwgVGVtcGxhdGVUeXBlIEludGVycG9sYXRpb25FbmQgSW50ZXJwb2xhdGlvbiBJbnRlcnBvbGF0aW9uU3RhcnQgTnVsbFR5cGUgbnVsbCBWb2lkVHlwZSB2b2lkIFR5cGVvZlR5cGUgdHlwZW9mIE1lbWJlckV4cHJlc3Npb24gLiBQcm9wZXJ0eU5hbWUgWyBUZW1wbGF0ZVN0cmluZyBFc2NhcGUgSW50ZXJwb2xhdGlvbiBzdXBlciBSZWdFeHAgXSBBcnJheUV4cHJlc3Npb24gU3ByZWFkICwgfSB7IE9iamVjdEV4cHJlc3Npb24gUHJvcGVydHkgYXN5bmMgZ2V0IHNldCBQcm9wZXJ0eURlZmluaXRpb24gQmxvY2sgOiBOZXdUYXJnZXQgbmV3IE5ld0V4cHJlc3Npb24gKSAoIEFyZ0xpc3QgVW5hcnlFeHByZXNzaW9uIGRlbGV0ZSBMb2dpY09wIEJpdE9wIFlpZWxkRXhwcmVzc2lvbiB5aWVsZCBBd2FpdEV4cHJlc3Npb24gYXdhaXQgUGFyZW50aGVzaXplZEV4cHJlc3Npb24gQ2xhc3NFeHByZXNzaW9uIGNsYXNzIENsYXNzQm9keSBNZXRob2REZWNsYXJhdGlvbiBEZWNvcmF0b3IgQCBNZW1iZXJFeHByZXNzaW9uIFByaXZhdGVQcm9wZXJ0eU5hbWUgQ2FsbEV4cHJlc3Npb24gVHlwZUFyZ0xpc3QgQ29tcGFyZU9wIDwgZGVjbGFyZSBQcml2YWN5IHN0YXRpYyBhYnN0cmFjdCBvdmVycmlkZSBQcml2YXRlUHJvcGVydHlEZWZpbml0aW9uIFByb3BlcnR5RGVjbGFyYXRpb24gcmVhZG9ubHkgYWNjZXNzb3IgT3B0aW9uYWwgVHlwZUFubm90YXRpb24gRXF1YWxzIFN0YXRpY0Jsb2NrIEZ1bmN0aW9uRXhwcmVzc2lvbiBBcnJvd0Z1bmN0aW9uIFBhcmFtTGlzdCBQYXJhbUxpc3QgQXJyYXlQYXR0ZXJuIE9iamVjdFBhdHRlcm4gUGF0dGVyblByb3BlcnR5IFByaXZhY3kgcmVhZG9ubHkgQXJyb3cgTWVtYmVyRXhwcmVzc2lvbiBCaW5hcnlFeHByZXNzaW9uIEFyaXRoT3AgQXJpdGhPcCBBcml0aE9wIEFyaXRoT3AgQml0T3AgQ29tcGFyZU9wIGluc3RhbmNlb2Ygc2F0aXNmaWVzIENvbXBhcmVPcCBCaXRPcCBCaXRPcCBCaXRPcCBMb2dpY09wIExvZ2ljT3AgQ29uZGl0aW9uYWxFeHByZXNzaW9uIExvZ2ljT3AgTG9naWNPcCBBc3NpZ25tZW50RXhwcmVzc2lvbiBVcGRhdGVPcCBQb3N0Zml4RXhwcmVzc2lvbiBDYWxsRXhwcmVzc2lvbiBJbnN0YW50aWF0aW9uRXhwcmVzc2lvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24gRHluYW1pY0ltcG9ydCBpbXBvcnQgSW1wb3J0TWV0YSBKU1hFbGVtZW50IEpTWFNlbGZDbG9zZUVuZFRhZyBKU1hTZWxmQ2xvc2luZ1RhZyBKU1hJZGVudGlmaWVyIEpTWEJ1aWx0aW4gSlNYSWRlbnRpZmllciBKU1hOYW1lc3BhY2VkTmFtZSBKU1hNZW1iZXJFeHByZXNzaW9uIEpTWFNwcmVhZEF0dHJpYnV0ZSBKU1hBdHRyaWJ1dGUgSlNYQXR0cmlidXRlVmFsdWUgSlNYRXNjYXBlIEpTWEVuZFRhZyBKU1hPcGVuVGFnIEpTWEZyYWdtZW50VGFnIEpTWFRleHQgSlNYRXNjYXBlIEpTWFN0YXJ0Q2xvc2VUYWcgSlNYQ2xvc2VUYWcgUHJlZml4Q2FzdCA8IEFycm93RnVuY3Rpb24gVHlwZVBhcmFtTGlzdCBTZXF1ZW5jZUV4cHJlc3Npb24gSW5zdGFudGlhdGlvbkV4cHJlc3Npb24gS2V5b2ZUeXBlIGtleW9mIFVuaXF1ZVR5cGUgdW5pcXVlIEltcG9ydFR5cGUgSW5mZXJyZWRUeXBlIGluZmVyIFR5cGVOYW1lIFBhcmVudGhlc2l6ZWRUeXBlIEZ1bmN0aW9uU2lnbmF0dXJlIFBhcmFtTGlzdCBOZXdTaWduYXR1cmUgSW5kZXhlZFR5cGUgVHVwbGVUeXBlIExhYmVsIEFycmF5VHlwZSBSZWFkb25seVR5cGUgT2JqZWN0VHlwZSBNZXRob2RUeXBlIFByb3BlcnR5VHlwZSBJbmRleFNpZ25hdHVyZSBQcm9wZXJ0eURlZmluaXRpb24gQ2FsbFNpZ25hdHVyZSBUeXBlUHJlZGljYXRlIGFzc2VydHMgaXMgTmV3U2lnbmF0dXJlIG5ldyBVbmlvblR5cGUgTG9naWNPcCBJbnRlcnNlY3Rpb25UeXBlIExvZ2ljT3AgQ29uZGl0aW9uYWxUeXBlIFBhcmFtZXRlcml6ZWRUeXBlIENsYXNzRGVjbGFyYXRpb24gYWJzdHJhY3QgaW1wbGVtZW50cyB0eXBlIFZhcmlhYmxlRGVjbGFyYXRpb24gbGV0IHZhciB1c2luZyBUeXBlQWxpYXNEZWNsYXJhdGlvbiBJbnRlcmZhY2VEZWNsYXJhdGlvbiBpbnRlcmZhY2UgRW51bURlY2xhcmF0aW9uIGVudW0gRW51bUJvZHkgTmFtZXNwYWNlRGVjbGFyYXRpb24gbmFtZXNwYWNlIG1vZHVsZSBBbWJpZW50RGVjbGFyYXRpb24gZGVjbGFyZSBHbG9iYWxEZWNsYXJhdGlvbiBnbG9iYWwgQ2xhc3NEZWNsYXJhdGlvbiBDbGFzc0JvZHkgQW1iaWVudEZ1bmN0aW9uRGVjbGFyYXRpb24gRXhwb3J0R3JvdXAgVmFyaWFibGVOYW1lIFZhcmlhYmxlTmFtZSBJbXBvcnREZWNsYXJhdGlvbiBJbXBvcnRHcm91cCBGb3JTdGF0ZW1lbnQgZm9yIEZvclNwZWMgRm9ySW5TcGVjIEZvck9mU3BlYyBvZiBXaGlsZVN0YXRlbWVudCB3aGlsZSBXaXRoU3RhdGVtZW50IHdpdGggRG9TdGF0ZW1lbnQgZG8gSWZTdGF0ZW1lbnQgaWYgZWxzZSBTd2l0Y2hTdGF0ZW1lbnQgc3dpdGNoIFN3aXRjaEJvZHkgQ2FzZUxhYmVsIGNhc2UgRGVmYXVsdExhYmVsIFRyeVN0YXRlbWVudCB0cnkgQ2F0Y2hDbGF1c2UgY2F0Y2ggRmluYWxseUNsYXVzZSBmaW5hbGx5IFJldHVyblN0YXRlbWVudCByZXR1cm4gVGhyb3dTdGF0ZW1lbnQgdGhyb3cgQnJlYWtTdGF0ZW1lbnQgYnJlYWsgQ29udGludWVTdGF0ZW1lbnQgY29udGludWUgRGVidWdnZXJTdGF0ZW1lbnQgZGVidWdnZXIgTGFiZWxlZFN0YXRlbWVudCBFeHByZXNzaW9uU3RhdGVtZW50IFNpbmdsZUV4cHJlc3Npb24gU2luZ2xlQ2xhc3NJdGVtXCIsXG4gIG1heFRlcm06IDM3OSxcbiAgY29udGV4dDogdHJhY2tOZXdsaW5lLFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJpc29sYXRlXCIsIC04LDUsNiwxNCwzNywzOSw1MSw1Myw1NSxcIlwiXSxcbiAgICBbXCJncm91cFwiLCAtMjYsOSwxNywxOSw2OCwyMDcsMjExLDIxNSwyMTYsMjE4LDIyMSwyMjQsMjM0LDIzNiwyNDIsMjQ0LDI0NiwyNDgsMjUxLDI1NywyNjMsMjY1LDI2NywyNjksMjcxLDI3MywyNzQsXCJTdGF0ZW1lbnRcIiwtMzQsMTMsMTQsMzIsMzUsMzYsNDIsNTEsNTQsNTUsNTcsNjIsNzAsNzIsNzYsODAsODIsODQsODUsMTEwLDExMSwxMjAsMTIxLDEzNiwxMzksMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDcsMTQ4LDE2NywxNjksMTcxLFwiRXhwcmVzc2lvblwiLC0yMywzMSwzMywzNyw0MSw0Myw0NSwxNzMsMTc1LDE3NywxNzgsMTgwLDE4MSwxODIsMTg0LDE4NSwxODYsMTg4LDE4OSwxOTAsMjAxLDIwMywyMDUsMjA2LFwiVHlwZVwiLC0zLDg4LDEwMywxMDksXCJDbGFzc0l0ZW1cIl0sXG4gICAgW1wib3BlbmVkQnlcIiwgMjMsXCI8XCIsMzgsXCJJbnRlcnBvbGF0aW9uU3RhcnRcIiw1NixcIltcIiw2MCxcIntcIiw3MyxcIihcIiwxNjAsXCJKU1hTdGFydENsb3NlVGFnXCJdLFxuICAgIFtcImNsb3NlZEJ5XCIsIC0yLDI0LDE2OCxcIj5cIiw0MCxcIkludGVycG9sYXRpb25FbmRcIiw1MCxcIl1cIiw2MSxcIn1cIiw3NCxcIilcIiwxNjUsXCJKU1hFbmRUYWdcIl1cbiAgXSxcbiAgcHJvcFNvdXJjZXM6IFtqc0hpZ2hsaWdodF0sXG4gIHNraXBwZWROb2RlczogWzAsNSw2LDI3N10sXG4gIHJlcGVhdE5vZGVDb3VudDogMzcsXG4gIHRva2VuRGF0YTogXCIkRnEwN1tSIWJPWCVaWFkrZ1laLXlaWytnW10lWl1eLmNecCVacHErZ3FyL21yczNjc3Q6X3R1RXJ1dkpTdndMa3d4ISBZeHkhJ2l5eiEoc3p7ISl9e3whLHF8fSEuT30hTyEscSFPIVAhL1khUCFRITlqIVEhUiM6TyFSIVsjPF8hWyFdI0lfIV0hXiNKayFeIV8jS3UhXyFgJCFbIWAhYSQkdiFhIWIkKlQhYiFjJCxyIWMhfUVyIX0jTyQtfCNPI1AkL1cjUCNRJDRvI1EjUiQ1eSNSI1NFciNTI1QkN1cjVCNvJDhiI28jcCQ8ciNwI3EkPWgjcSNyJD54I3IjcyRAVSNzJGYlWiRmJGcrZyRnI0JZRXIjQlkjQlokQWAjQlokSVNFciRJUyRJXyRBYCRJXyRJfEVyJEl8JEl9JERrJEl9JEpPJERrJEpPJEpURXIkSlQkSlUkQWAkSlUkS1ZFciRLViRLVyRBYCRLVyZGVUVyJkZVJkZWJEFgJkZWOydTRXI7J1M7PWBJfDwlbD9IVEVyP0hUP0hVJEFgP0hVT0VyKG4lZF8kaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJmomaFQkaSZqTyFeJmMhXyNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMmaiZ6UDs9YDwlbCZjJ3wnVV0kaSZqKFkhYk9ZJn1ZWiZjWncmfXd4JmN4IV4mfSFeIV8nfSFfI08mfSNPI1AmYyNQI28mfSNvI3AnfSNwOydTJn07J1M7PWAobDwlbE8mfSFiKFNVKFkhYk9ZJ31adyd9eCNPJ30jUDsnUyd9OydTOz1gKGY8JWxPJ30hYihpUDs9YDwlbCd9J3wob1A7PWA8JWwmfSdbKHldJGkmaihWcE9ZKHJZWiZjWnIocnJzJmNzIV4ociFeIV8pciFfI08ociNPI1AmYyNQI28ociNvI3ApciNwOydTKHI7J1M7PWAqYTwlbE8ocnApd1UoVnBPWSlyWnIpcnMjTylyI1A7J1MpcjsnUzs9YCpaPCVsTylycCpeUDs9YDwlbClyJ1sqZFA7PWA8JWwociNTKm5YKFZwKFkhYk9ZKmdacipncnMnfXN3Kmd3eClyeCNPKmcjUDsnUypnOydTOz1gK1o8JWxPKmcjUyteUDs9YDwlbCpnKG4rZFA7PWA8JWwlWjA3WytycSRpJmooVnAoWSFiJ3swL2xPWCVaWFkrZ1laJmNaWytnW3AlWnBxK2dxciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcCRmJVokZiRnK2ckZyNCWSVaI0JZI0JaK2cjQlokSVMlWiRJUyRJXytnJElfJEpUJVokSlQkSlUrZyRKVSRLViVaJEtWJEtXK2ckS1cmRlUlWiZGVSZGVitnJkZWOydTJVo7J1M7PWArYTwlbD9IVCVaP0hUP0hVK2c/SFVPJVowN1suU1QoVyNTJGkmaid8MC9sTyFeJmMhXyNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMwN1subl8kaSZqKFZwKFkhYid8MC9sT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVopM3AveGAkaSZqIXApLFEoVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgMHohYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1cxVmAjdihDaCRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgMlghYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1cyZF8jdihDaCRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQXQzbF8oVSc6ZiRpJmooWSFiT1k0a1laNXFacjRrcnM3bnN3NGt3eDVxeCFeNGshXiFfOHAhXyNPNGsjTyNQNXEjUCNvNGsjbyNwOHAjcDsnUzRrOydTOz1gOlg8JWxPNGsoXjRyXyRpJmooWSFiT1k0a1laNXFacjRrcnM3bnN3NGt3eDVxeCFeNGshXiFfOHAhXyNPNGsjTyNQNXEjUCNvNGsjbyNwOHAjcDsnUzRrOydTOz1gOlg8JWxPNGsmejV2WCRpJmpPcjVxcnM2Y3MhXjVxIV4hXzZ5IV8jbzVxI28jcDZ5I3A7J1M1cTsnUzs9YDdoPCVsTzVxJno2alQkZGAkaSZqTyFeJmMhXyNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmNgNnxUT3I2eXJzN11zOydTNnk7J1M7PWA3YjwlbE82eWA3Yk8kZGBgN2VQOz1gPCVsNnkmejdrUDs9YDwlbDVxKF43d10kZGAkaSZqKFkhYk9ZJn1ZWiZjWncmfXd4JmN4IV4mfSFeIV8nfSFfI08mfSNPI1AmYyNQI28mfSNvI3AnfSNwOydTJn07J1M7PWAobDwlbE8mfSFyOHVaKFkhYk9ZOHBZWjZ5WnI4cHJzOWhzdzhwd3g2eXgjTzhwI08jUDZ5I1A7J1M4cDsnUzs9YDpSPCVsTzhwIXI5b1UkZGAoWSFiT1knfVp3J314I08nfSNQOydTJ307J1M7PWAoZjwlbE8nfSFyOlVQOz1gPCVsOHAoXjpbUDs9YDwlbDRrJTlbOmhoJGkmaihWcChZIWJPWSVaWVomY1pxJVpxcjxTcnMmfXN0JVp0dUNydXclWnd4KHJ4IV4lWiFeIV8qZyFfIWMlWiFjIX1DciF9I08lWiNPI1AmYyNQI1IlWiNSI1NDciNTI1QlWiNUI29DciNvI3AqZyNwJGclWiRnOydTQ3I7J1M7PWBFbDwlbE9DcihyPF9fV1MkaSZqKFZwKFkhYk9ZPFNZWiZjWnI8U3JzPV5zdzxTd3hAbnghXjxTIV4hX0JtIV8jTzxTI08jUD5gI1AjbzxTI28jcEJtI3A7J1M8UzsnUzs9YENsPCVsTzxTKFE9Z11XUyRpJmooWSFiT1k9XllaJmNadz1ed3g+YHghXj1eIV4hXz9xIV8jTz1eI08jUD5gI1Ajbz1eI28jcD9xI3A7J1M9XjsnUzs9YEBoPCVsTz1eJm4+Z1hXUyRpJmpPWT5gWVomY1ohXj5gIV4hXz9TIV8jbz5gI28jcD9TI3A7J1M+YDsnUzs9YD9rPCVsTz5gUz9YU1dTT1k/U1o7J1M/UzsnUzs9YD9lPCVsTz9TUz9oUDs9YDwlbD9TJm4/blA7PWA8JWw+YCFmP3hXV1MoWSFiT1k/cVp3P3F3eD9TeCNPP3EjTyNQP1MjUDsnUz9xOydTOz1gQGI8JWxPP3EhZkBlUDs9YDwlbD9xKFFAa1A7PWA8JWw9XidgQHddV1MkaSZqKFZwT1lAbllaJmNackBucnM+YHMhXkBuIV4hX0FwIV8jT0BuI08jUD5gI1Ajb0BuI28jcEFwI3A7J1NAbjsnUzs9YEJnPCVsT0BudEF3V1dTKFZwT1lBcFpyQXBycz9TcyNPQXAjTyNQP1MjUDsnU0FwOydTOz1gQmE8JWxPQXB0QmRQOz1gPCVsQXAnYEJqUDs9YDwlbEBuI1dCdllXUyhWcChZIWJPWUJtWnJCbXJzP3Fzd0Jtd3hBcHgjT0JtI08jUD9TI1A7J1NCbTsnUzs9YENmPCVsT0JtI1dDaVA7PWA8JWxCbShyQ29QOz1gPCVsPFMlOVtDfWkkaSZqKG4lMWwoVnAoWSFiT1klWllaJmNaciVacnMmfXN0JVp0dUNydXclWnd4KHJ4IVElWiFRIVtDciFbIV4lWiFeIV8qZyFfIWMlWiFjIX1DciF9I08lWiNPI1AmYyNQI1IlWiNSI1NDciNTI1QlWiNUI29DciNvI3AqZyNwJGclWiRnOydTQ3I7J1M7PWBFbDwlbE9DciU5W0VvUDs9YDwlbENyMDdbRlJrJGkmaihWcChZIWIkXSN0KFMsMmooZCRJW09ZJVpZWiZjWnIlWnJzJn1zdCVadHVFcnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0VyIVshXiVaIV4hXypnIV8hYyVaIWMhfUVyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0VyI1MjVCVaI1Qjb0VyI28jcCpnI3AkZyVaJGc7J1NFcjsnUzs9YEl8PCVsT0VyK2RIUmskaSZqKFZwKFkhYiRdI3RPWSVaWVomY1pyJVpycyZ9c3QlWnR1R3Z1dyVad3gocnh9JVp9IU9HdiFPIVElWiFRIVtHdiFbIV4lWiFeIV8qZyFfIWMlWiFjIX1HdiF9I08lWiNPI1AmYyNQI1IlWiNSI1NHdiNTI1QlWiNUI29HdiNvI3AqZyNwJGclWiRnOydTR3Y7J1M7PWBJdjwlbE9HditkSXlQOz1gPCVsR3YwN1tKUFA7PWA8JWxFcihLV0pfYCRpJmooVnAoWSFiI3AoQ2hPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLV0tsXyRpJmokUShDaChWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiwjeEx2YSh5K0pZJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3YlWnZ3TXt3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1dOV2AkaSZqI3ooQ2goVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQXQhIGNfKFgnO1ckaSZqKFZwT1khIWJZWiEjaFpyISFicnMhI2hzdyEhYnd4ISR4eCFeISFiIV4hXyEleiFfI08hIWIjTyNQISNoI1AjbyEhYiNvI3AhJXojcDsnUyEhYjsnUzs9YCEnYzwlbE8hIWInbCEhaV8kaSZqKFZwT1khIWJZWiEjaFpyISFicnMhI2hzdyEhYnd4ISR4eCFeISFiIV4hXyEleiFfI08hIWIjTyNQISNoI1AjbyEhYiNvI3AhJXojcDsnUyEhYjsnUzs9YCEnYzwlbE8hIWImeiEjbVgkaSZqT3chI2h3eDZjeCFeISNoIV4hXyEkWSFfI28hI2gjbyNwISRZI3A7J1MhI2g7J1M7PWAhJHI8JWxPISNoYCEkXVRPdyEkWXd4N114OydTISRZOydTOz1gISRsPCVsTyEkWWAhJG9QOz1gPCVsISRZJnohJHVQOz1gPCVsISNoJ2whJVJdJGRgJGkmaihWcE9ZKHJZWiZjWnIocnJzJmNzIV4ociFeIV8pciFfI08ociNPI1AmYyNQI28ociNvI3ApciNwOydTKHI7J1M7PWAqYTwlbE8ociFRISZQWihWcE9ZISV6WVohJFlaciElenJzISRZc3chJXp3eCEmcngjTyEleiNPI1AhJFkjUDsnUyElejsnUzs9YCEnXTwlbE8hJXohUSEmeVUkZGAoVnBPWSlyWnIpcnMjTylyI1A7J1MpcjsnUzs9YCpaPCVsTylyIVEhJ2BQOz1gPCVsISV6J2whJ2ZQOz1gPCVsISFiLzV8ISd0XyFsLy5eJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiMmVSEpT18hayFMZiRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVotIW4hKltiJGkmaihWcChZIWIoVCUmZiNxKENoT1klWllaJmNaciVacnMmfXN3JVp3eChyeHolWnp7IStkeyFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1chK29gJGkmaihWcChZIWIjbihDaE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKzt4ISx8YCRpJmooVnAoWSFicis0WU9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaLCRVIS5aXyFdK0pmJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjA3WyEvZWMkaSZqKFZwKFkhYiFRLjJeT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFPJVohTyFQITBwIVAhUSVaIVEhWyEzWSFbIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiMlfCEweWEkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghTyVaIU8hUCEyTyFQIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWiMlfCEyWl8hWyFMXiRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQhM2VnJGkmaihWcChZIWJzJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFbITNZIVshXiVaIV4hXypnIV8hZyVaIWchaCE0fCFoI08lWiNPI1AmYyNQI1IlWiNSI1MhM1kjUyNYJVojWCNZITR8I1kjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkITVWZyRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeHslWnt8ITZufH0lWn0hTyE2biFPIVElWiFRIVshOFMhWyFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNSJVojUiNTIThTI1MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkITZ3YyRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFbIThTIVshXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyE4UyNTI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCE4X2MkaSZqKFZwKFkhYnMnOXRPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVshOFMhWyFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNSJVojUiNTIThTI1MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaMDdbITl1ZiRpJmooVnAoWSFiI28oQ2hPWSE7WllaJmNaciE7WnJzITxuc3chO1p3eCFMY3h6ITtaensjLX17IVAhO1ohUCFRIy9kIVEhXiE7WiFeIV8jKGkhXyFgIzdTIWAhYSM4aSFhIX0hO1ohfSNPIyxmI08jUCFEeSNQI28hO1ojbyNwIyhpI3A7J1MhO1o7J1M7PWAjLXc8JWxPITtaP08hO2ZiJGkmaihWcChZIWIhWDdgT1khO1pZWiZjWnIhO1pycyE8bnN3ITtad3ghTGN4IVAhO1ohUCFRIyZgIVEhXiE7WiFeIV8jKGkhXyF9ITtaIX0jTyMsZiNPI1AhRHkjUCNvITtaI28jcCMoaSNwOydTITtaOydTOz1gIy13PCVsTyE7Wj5eITx3YCRpJmooWSFiIVg3YE9ZITxuWVomY1p3ITxud3ghPXl4IVAhPG4hUCFRIUVxIVEhXiE8biFeIV8hR3IhXyF9ITxuIX0jTyFLUyNPI1AhRHkjUCNvITxuI28jcCFHciNwOydTITxuOydTOz1gIUxdPCVsTyE8bjx6IT5RXiRpJmohWDdgT1khPXlZWiZjWiFQIT15IVAhUSE+fCFRIV4hPXkhXiFfIUBjIV8hfSE9eSF9I08hQ1cjTyNQIUR5I1AjbyE9eSNvI3AhQGMjcDsnUyE9eTsnUzs9YCFFazwlbE8hPXk8eiE/VGQkaSZqIVg3YE8hXiZjIV8jVyZjI1cjWCE+fCNYI1omYyNaI1shPnwjWyNdJmMjXSNeIT58I14jYSZjI2EjYiE+fCNiI2cmYyNnI2ghPnwjaCNpJmMjaSNqIT58I2ojayE+fCNrI20mYyNtI24hPnwjbiNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmM3YCFAaFghWDdgT1khQGNaIVAhQGMhUCFRIUFUIVEhfSFAYyF9I08hQXIjTyNQIUJxI1A7J1MhQGM7J1M7PWAhQ1E8JWxPIUBjN2AhQVlXIVg3YCNXI1ghQVQjWiNbIUFUI10jXiFBVCNhI2IhQVQjZyNoIUFUI2kjaiFBVCNqI2shQVQjbSNuIUFUN2AhQXVWT1khQXJaI08hQXIjTyNQIUJbI1AjUSFAYyNROydTIUFyOydTOz1gIUJrPCVsTyFBcjdgIUJfU09ZIUFyWjsnUyFBcjsnUzs9YCFCazwlbE8hQXI3YCFCblA7PWA8JWwhQXI3YCFCdFNPWSFAY1o7J1MhQGM7J1M7PWAhQ1E8JWxPIUBjN2AhQ1RQOz1gPCVsIUBjPHohQ11bJGkmak9ZIUNXWVomY1ohXiFDVyFeIV8hQXIhXyNPIUNXI08jUCFEUiNQI1EhPXkjUSNvIUNXI28jcCFBciNwOydTIUNXOydTOz1gIURzPCVsTyFDVzx6IURXWCRpJmpPWSFDV1laJmNaIV4hQ1chXiFfIUFyIV8jbyFDVyNvI3AhQXIjcDsnUyFDVzsnUzs9YCFEczwlbE8hQ1c8eiFEdlA7PWA8JWwhQ1c8eiFFT1gkaSZqT1khPXlZWiZjWiFeIT15IV4hXyFAYyFfI28hPXkjbyNwIUBjI3A7J1MhPXk7J1M7PWAhRWs8JWxPIT15PHohRW5QOz1gPCVsIT15Pl4hRXpsJGkmaihZIWIhWDdgT1kmfVlaJmNadyZ9d3gmY3ghXiZ9IV4hXyd9IV8jTyZ9I08jUCZjI1AjVyZ9I1cjWCFFcSNYI1omfSNaI1shRXEjWyNdJn0jXSNeIUVxI14jYSZ9I2EjYiFFcSNiI2cmfSNnI2ghRXEjaCNpJn0jaSNqIUVxI2ojayFFcSNrI20mfSNtI24hRXEjbiNvJn0jbyNwJ30jcDsnUyZ9OydTOz1gKGw8JWxPJn04ciFHeVooWSFiIVg3YE9ZIUdyWnchR3J3eCFAY3ghUCFHciFQIVEhSGwhUSF9IUdyIX0jTyFKVSNPI1AhQnEjUDsnUyFHcjsnUzs9YCFKfDwlbE8hR3I4ciFIc2UoWSFiIVg3YE9ZJ31adyd9eCNPJ30jUCNXJ30jVyNYIUhsI1gjWid9I1ojWyFIbCNbI10nfSNdI14hSGwjXiNhJ30jYSNiIUhsI2IjZyd9I2cjaCFIbCNoI2knfSNpI2ohSGwjaiNrIUhsI2sjbSd9I20jbiFIbCNuOydTJ307J1M7PWAoZjwlbE8nfThyIUpaWChZIWJPWSFKVVp3IUpVd3ghQXJ4I08hSlUjTyNQIUJbI1AjUSFHciNROydTIUpVOydTOz1gIUp2PCVsTyFKVThyIUp5UDs9YDwlbCFKVThyIUtQUDs9YDwlbCFHcj5eIUtaXiRpJmooWSFiT1khS1NZWiZjWnchS1N3eCFDV3ghXiFLUyFeIV8hSlUhXyNPIUtTI08jUCFEUiNQI1EhPG4jUSNvIUtTI28jcCFKVSNwOydTIUtTOydTOz1gIUxWPCVsTyFLUz5eIUxZUDs9YDwlbCFLUz5eIUxgUDs9YDwlbCE8bj1sIUxsYCRpJmooVnAhWDdgT1khTGNZWiZjWnIhTGNycyE9eXMhUCFMYyFQIVEhTW4hUSFeIUxjIV4hXyMgbyFfIX0hTGMhfSNPIyVQI08jUCFEeSNQI28hTGMjbyNwIyBvI3A7J1MhTGM7J1M7PWAjJlk8JWxPIUxjPWwhTXdsJGkmaihWcCFYN2BPWShyWVomY1pyKHJycyZjcyFeKHIhXiFfKXIhXyNPKHIjTyNQJmMjUCNXKHIjVyNYIU1uI1gjWihyI1ojWyFNbiNbI10ociNdI14hTW4jXiNhKHIjYSNiIU1uI2IjZyhyI2cjaCFNbiNoI2kociNpI2ohTW4jaiNrIU1uI2sjbShyI20jbiFNbiNuI28ociNvI3ApciNwOydTKHI7J1M7PWAqYTwlbE8ocjhRIyB2WihWcCFYN2BPWSMgb1pyIyBvcnMhQGNzIVAjIG8hUCFRIyFpIVEhfSMgbyF9I08jJFIjTyNQIUJxI1A7J1MjIG87J1M7PWAjJHk8JWxPIyBvOFEjIXBlKFZwIVg3YE9ZKXJacilycyNPKXIjUCNXKXIjVyNYIyFpI1gjWilyI1ojWyMhaSNbI10pciNdI14jIWkjXiNhKXIjYSNiIyFpI2IjZylyI2cjaCMhaSNoI2kpciNpI2ojIWkjaiNrIyFpI2sjbSlyI20jbiMhaSNuOydTKXI7J1M7PWAqWjwlbE8pcjhRIyRXWChWcE9ZIyRSWnIjJFJycyFBcnMjTyMkUiNPI1AhQlsjUCNRIyBvI1E7J1MjJFI7J1M7PWAjJHM8JWxPIyRSOFEjJHZQOz1gPCVsIyRSOFEjJHxQOz1gPCVsIyBvPWwjJVdeJGkmaihWcE9ZIyVQWVomY1pyIyVQcnMhQ1dzIV4jJVAhXiFfIyRSIV8jTyMlUCNPI1AhRFIjUCNRIUxjI1EjbyMlUCNvI3AjJFIjcDsnUyMlUDsnUzs9YCMmUzwlbE8jJVA9bCMmVlA7PWA8JWwjJVA9bCMmXVA7PWA8JWwhTGM/TyMma24kaSZqKFZwKFkhYiFYN2BPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI1clWiNXI1gjJmAjWCNaJVojWiNbIyZgI1sjXSVaI10jXiMmYCNeI2ElWiNhI2IjJmAjYiNnJVojZyNoIyZgI2gjaSVaI2kjaiMmYCNqI2sjJmAjayNtJVojbSNuIyZgI24jbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaOWQjKHJdKFZwKFkhYiFYN2BPWSMoaVpyIyhpcnMhR3JzdyMoaXd4IyBveCFQIyhpIVAhUSMpayFRIX0jKGkhfSNPIytgI08jUCFCcSNQOydTIyhpOydTOz1gIyxgPCVsTyMoaTlkIyl0aChWcChZIWIhWDdgT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4I08qZyNQI1cqZyNXI1gjKWsjWCNaKmcjWiNbIylrI1sjXSpnI10jXiMpayNeI2EqZyNhI2IjKWsjYiNnKmcjZyNoIylrI2gjaSpnI2kjaiMpayNqI2sjKWsjayNtKmcjbSNuIylrI247J1MqZzsnUzs9YCtaPCVsTypnOWQjK2daKFZwKFkhYk9ZIytgWnIjK2BycyFKVXN3Iytgd3gjJFJ4I08jK2AjTyNQIUJbI1AjUSMoaSNROydTIytgOydTOz1gIyxZPCVsTyMrYDlkIyxdUDs9YDwlbCMrYDlkIyxjUDs9YDwlbCMoaT9PIyxvYCRpJmooVnAoWSFiT1kjLGZZWiZjWnIjLGZycyFLU3N3Iyxmd3gjJVB4IV4jLGYhXiFfIytgIV8jTyMsZiNPI1AhRFIjUCNRITtaI1EjbyMsZiNvI3AjK2AjcDsnUyMsZjsnUzs9YCMtcTwlbE8jLGY/TyMtdFA7PWA8JWwjLGY/TyMtelA7PWA8JWwhO1owN1sjLltiJGkmaihWcChZIWInfTAvbCFYN2BPWSE7WllaJmNaciE7WnJzITxuc3chO1p3eCFMY3ghUCE7WiFQIVEjJmAhUSFeITtaIV4hXyMoaSFfIX0hO1ohfSNPIyxmI08jUCFEeSNQI28hO1ojbyNwIyhpI3A7J1MhO1o7J1M7PWAjLXc8JWxPITtaMDdbIy9vXyRpJmooVnAoWSFiVDAvbE9ZIy9kWVomY1pyIy9kcnMjMG5zdyMvZHd4IzRPeCFeIy9kIV4hXyM1fSFfI08jL2QjTyNQIzFwI1AjbyMvZCNvI3AjNX0jcDsnUyMvZDsnUzs9YCM2fDwlbE8jL2QwNmojMHddJGkmaihZIWJUMC9sT1kjMG5ZWiZjWncjMG53eCMxcHghXiMwbiFeIV8jM1IhXyNPIzBuI08jUCMxcCNQI28jMG4jbyNwIzNSI3A7J1MjMG47J1M7PWAjM3g8JWxPIzBuMDVXIzF3WCRpJmpUMC9sT1kjMXBZWiZjWiFeIzFwIV4hXyMyZCFfI28jMXAjbyNwIzJkI3A7J1MjMXA7J1M7PWAjMns8JWxPIzFwMC9sIzJpU1QwL2xPWSMyZFo7J1MjMmQ7J1M7PWAjMnU8JWxPIzJkMC9sIzJ4UDs9YDwlbCMyZDA1VyMzT1A7PWA8JWwjMXAwMU8jM1lXKFkhYlQwL2xPWSMzUlp3IzNSd3gjMmR4I08jM1IjTyNQIzJkI1A7J1MjM1I7J1M7PWAjM3I8JWxPIzNSMDFPIzN1UDs9YDwlbCMzUjA2aiMze1A7PWA8JWwjMG4wNXgjNFhdJGkmaihWcFQwL2xPWSM0T1laJmNaciM0T3JzIzFwcyFeIzRPIV4hXyM1USFfI08jNE8jTyNQIzFwI1AjbyM0TyNvI3AjNVEjcDsnUyM0TzsnUzs9YCM1dzwlbE8jNE8wMF4jNVhXKFZwVDAvbE9ZIzVRWnIjNVFycyMyZHMjTyM1USNPI1AjMmQjUDsnUyM1UTsnUzs9YCM1cTwlbE8jNVEwMF4jNXRQOz1gPCVsIzVRMDV4IzV6UDs9YDwlbCM0TzAxcCM2V1koVnAoWSFiVDAvbE9ZIzV9WnIjNX1ycyMzUnN3IzV9d3gjNVF4I08jNX0jTyNQIzJkI1A7J1MjNX07J1M7PWAjNnY8JWxPIzV9MDFwIzZ5UDs9YDwlbCM1fTA3WyM3UFA7PWA8JWwjL2QpM2gjN2FiJGkmaiRRKENoKFZwKFkhYiFYN2BPWSE7WllaJmNaciE7WnJzITxuc3chO1p3eCFMY3ghUCE7WiFQIVEjJmAhUSFeITtaIV4hXyMoaSFfIX0hO1ohfSNPIyxmI08jUCFEeSNQI28hO1ojbyNwIyhpI3A7J1MhO1o7J1M7PWAjLXc8JWxPITtaQXQjOHZiJFojdCRpJmooVnAoWSFiIVg3YE9ZITtaWVomY1pyITtacnMhPG5zdyE7Wnd4IUxjeCFQITtaIVAhUSMmYCFRIV4hO1ohXiFfIyhpIV8hfSE7WiF9I08jLGYjTyNQIUR5I1AjbyE7WiNvI3AjKGkjcDsnUyE7WjsnUzs9YCMtdzwlbE8hO1onQWQjOlpwJGkmaihWcChZIWJzJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFPJVohTyFQITNZIVAhUSVaIVEhWyM8XyFbIV4lWiFeIV8qZyFfIWclWiFnIWghNHwhaCNPJVojTyNQJmMjUCNSJVojUiNTIzxfI1MjVSVaI1UjViM/aSNWI1glWiNYI1khNHwjWSNiJVojYiNjIz5fI2MjZCNCcSNkI2wlWiNsI20jRXMjbSNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQjPGprJGkmaihWcChZIWJzJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFPJVohTyFQITNZIVAhUSVaIVEhWyM8XyFbIV4lWiFeIV8qZyFfIWclWiFnIWghNHwhaCNPJVojTyNQJmMjUCNSJVojUiNTIzxfI1MjWCVaI1gjWSE0fCNZI2IlWiNiI2MjPl8jYyNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQjPmpfJGkmaihWcChZIWJzJzl0T1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQjP3JkJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVIjQVEhUiFTI0FRIVMhXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyNBUSNTI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWidBZCNBXWYkaSZqKFZwKFkhYnMnOXRPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVIjQVEhUiFTI0FRIVMhXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjUiVaI1IjUyNBUSNTI2IlWiNiI2MjPl8jYyNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVonQWQjQnpjJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IVElWiFRIVkjRFYhWSFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNSJVojUiNTI0RWI1MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkI0RiZSRpJmooVnAoWSFicyc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghUSVaIVEhWSNEViFZIV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI1IlWiNSI1MjRFYjUyNiJVojYiNjIz5fI2MjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkI0V8ZyRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFRJVohUSFbI0dlIVshXiVaIV4hXypnIV8hYyVaIWMhaSNHZSFpI08lWiNPI1AmYyNQI1IlWiNSI1MjR2UjUyNUJVojVCNaI0dlI1ojbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJ0FkI0dwaSRpJmooVnAoWSFicyc5dE9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghUSVaIVEhWyNHZSFbIV4lWiFeIV8qZyFfIWMlWiFjIWkjR2UhaSNPJVojTyNQJmMjUCNSJVojUiNTI0dlI1MjVCVaI1QjWiNHZSNaI2IlWiNiI2MjPl8jYyNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVoqKXgjSWxfIWckYiRpJmokTylMdihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWilbI0p2X2FsJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjA0ZiNMU15oIylgI1ItPFUoVnAoWSFiJG43YE9ZKmdacipncnMnfXN3Kmd3eClyeCFQKmchUCFRI01PIVEhXipnIV4hXyNNdCFfIWAkIGYhYCNPKmcjUDsnUypnOydTOz1gK1o8JWxPKmcobiNNWFgkayZqKFZwKFkhYk9ZKmdacipncnMnfXN3Kmd3eClyeCNPKmcjUDsnUypnOydTOz1gK1o8JWxPKmcoRWwjTX1aI3IoQ2goVnAoWSFiT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4IV8qZyFfIWAjTnAhYCNPKmcjUDsnUypnOydTOz1gK1o8JWxPKmcoRWwjTnlYJFEoQ2goVnAoWSFiT1kqZ1pyKmdycyd9c3cqZ3d4KXJ4I08qZyNQOydTKmc7J1M7PWArWjwlbE8qZyhFbCQgb1gjcyhDaChWcChZIWJPWSpnWnIqZ3JzJ31zdypnd3gpcngjTypnI1A7J1MqZzsnUzs9YCtaPCVsTypnKil4JCFnYSNgKiFZJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWAweiFgIWEkI2whYSNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1skI3dfI2soQ2wkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKil4JCVWYWchKnIjcyhDaCRmI3wkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYCQmWyFgIWEkJ2YhYSNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1ckJmdfI3MoQ2gkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtXJCdxYSNyKENoJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgIWEkKHYhYSNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1ckKVJgI3IoQ2gkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaKEtkJCpgYShxKEN0JGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWElWiFhIWIkK2UhYiNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVooS1ckK3BgJGkmaiN7KENoKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8hYEthIWAjTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaJSNgJCx9XyF8JElwJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWjA0ZiQuWF8hUzAsdiRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVoobiQvXVokaSZqTyFeJDBPIV4hXyQwZiFfI2kkME8jaSNqJDBrI2ojbCQwTyNsI20kMl4jbSNvJDBPI28jcCQwZiNwOydTJDBPOydTOz1gJDRpPCVsTyQwTyhuJDBWVF8jUyRpJmpPIV4mYyFfI28mYyNwOydTJmM7J1M7PWAmdzwlbE8mYyNTJDBrT18jUyhuJDBwWyRpJmpPIVEmYyFRIVskMWYhWyFeJmMhXyFjJmMhYyFpJDFmIWkjVCZjI1QjWiQxZiNaI28mYyNvI3AkM3wjcDsnUyZjOydTOz1gJnc8JWxPJmMobiQxa1okaSZqTyFRJmMhUSFbJDJeIVshXiZjIV8hYyZjIWMhaSQyXiFpI1QmYyNUI1okMl4jWiNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMobiQyY1okaSZqTyFRJmMhUSFbJDNVIVshXiZjIV8hYyZjIWMhaSQzVSFpI1QmYyNUI1okM1UjWiNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMobiQzWlokaSZqTyFRJmMhUSFbJDBPIVshXiZjIV8hYyZjIWMhaSQwTyFpI1QmYyNUI1okME8jWiNvJmMjcDsnUyZjOydTOz1gJnc8JWxPJmMjUyQ0UFIhUSFbJDRZIWMhaSQ0WSNUI1okNFkjUyQ0XVMhUSFbJDRZIWMhaSQ0WSNUI1okNFkjcSNyJDBmKG4kNGxQOz1gPCVsJDBPIzFbJDR6XyFZIylsJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwOydTJVo7J1M7PWArYTwlbE8lWihLVyQ2VWAjeChDaCRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyFgS2EhYCNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVorO3AkN2NfJGkmaihWcChZIWIoYCs0UU9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaMDdbJDhxayRpJmooVnAoWSFiKFMsMmokXyN0KGQkSVtPWSVaWVomY1pyJVpycyZ9c3QlWnR1JDhidXclWnd4KHJ4fSVafSFPJDpmIU8hUSVaIVEhWyQ4YiFbIV4lWiFeIV8qZyFfIWMlWiFjIX0kOGIhfSNPJVojTyNQJmMjUCNSJVojUiNTJDhiI1MjVCVaI1QjbyQ4YiNvI3AqZyNwJGclWiRnOydTJDhiOydTOz1gJDxsPCVsTyQ4YitkJDpxayRpJmooVnAoWSFiJF8jdE9ZJVpZWiZjWnIlWnJzJn1zdCVadHUkOmZ1dyVad3gocnh9JVp9IU8kOmYhTyFRJVohUSFbJDpmIVshXiVaIV4hXypnIV8hYyVaIWMhfSQ6ZiF9I08lWiNPI1AmYyNQI1IlWiNSI1MkOmYjUyNUJVojVCNvJDpmI28jcCpnI3AkZyVaJGc7J1MkOmY7J1M7PWAkPGY8JWxPJDpmK2QkPGlQOz1gPCVsJDpmMDdbJDxvUDs9YDwlbCQ4YiNKZiQ8e1ghXyNIYihWcChZIWJPWSpnWnIqZ3JzJ31zdypnd3gpcngjTypnI1A7J1MqZzsnUzs9YCtaPCVsTypnLCN4JD1zYSh4K0pZJGkmaihWcChZIWJPWSVaWVomY1pyJVpycyZ9c3clWnd4KHJ4IV4lWiFeIV8qZyFfIWBLYSFgI08lWiNPI1AmYyNQI28lWiNvI3AqZyNwI3EkK2UjcTsnUyVaOydTOz1gK2E8JWxPJVopPnYkP1ZfIV4oQ2R2QnIkaSZqKFZwKFkhYk9ZJVpZWiZjWnIlWnJzJn1zdyVad3gocnghXiVaIV4hXypnIV8jTyVaI08jUCZjI1AjbyVaI28jcCpnI3A7J1MlWjsnUzs9YCthPCVsTyVaP08kQGFfIXE3YCRpJmooVnAoWSFiT1klWllaJmNaciVacnMmfXN3JVp3eChyeCFeJVohXiFfKmchXyNPJVojTyNQJmMjUCNvJVojbyNwKmcjcDsnUyVaOydTOz1gK2E8JWxPJVowN1skQXF8JGkmaihWcChZIWInezAvbCRdI3QoUywyaihkJElbT1glWlhZK2dZWiZjWlsrZ1twJVpwcStncXIlWnJzJn1zdCVadHVFcnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0VyIVshXiVaIV4hXypnIV8hYyVaIWMhfUVyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0VyI1MjVCVaI1Qjb0VyI28jcCpnI3AkZiVaJGYkZytnJGcjQllFciNCWSNCWiRBYCNCWiRJU0VyJElTJElfJEFgJElfJEpURXIkSlQkSlUkQWAkSlUkS1ZFciRLViRLVyRBYCRLVyZGVUVyJkZVJkZWJEFgJkZWOydTRXI7J1M7PWBJfDwlbD9IVEVyP0hUP0hVJEFgP0hVT0VyMDdbJER8ayRpJmooVnAoWSFiJ3wwL2wkXSN0KFMsMmooZCRJW09ZJVpZWiZjWnIlWnJzJn1zdCVadHVFcnV3JVp3eChyeH0lWn0hT0d2IU8hUSVaIVEhW0VyIVshXiVaIV4hXypnIV8hYyVaIWMhfUVyIX0jTyVaI08jUCZjI1AjUiVaI1IjU0VyI1MjVCVaI1Qjb0VyI28jcCpnI3AkZyVaJGc7J1NFcjsnUzs9YEl8PCVsT0VyXCIsXG4gIHRva2VuaXplcnM6IFtub1NlbWljb2xvbiwgbm9TZW1pY29sb25UeXBlLCBvcGVyYXRvclRva2VuLCBqc3gsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgaW5zZXJ0U2VtaWNvbG9uLCBuZXcgTG9jYWxUb2tlbkdyb3VwKFwiJFN+UlJ0dVsjTyNQZyNTI1QjfH5fUCNvI3BifmdPeH5+alZPI2khUCNpI2ohVSNqI2whUCNsI20hcSNtOydTIVA7J1M7PWAjdjwlbE8hUH4hVU8hVX5+IVhTIVEhWyFlIWMhaSFlI1QjWiFlI28jcCNafiFoUiFRIVshcSFjIWkhcSNUI1ohcX4hdFIhUSFbIX0hYyFpIX0jVCNaIX1+I1FSIVEhWyFQIWMhaSFQI1QjWiFQfiNeUiFRIVsjZyFjIWkjZyNUI1ojZ34jalMhUSFbI2chYyFpI2cjVCNaI2cjcSNyIVB+I3lQOz1gPCVsIVB+JFJPKGJ+flwiLCAxNDEsIDMzOSksIG5ldyBMb2NhbFRva2VuR3JvdXAoXCJqflJRWVpYentefl5PKFB+fmFQIVAhUWR+aU8oUX5+XCIsIDI1LCAzMjIpXSxcbiAgdG9wUnVsZXM6IHtcIlNjcmlwdFwiOlswLDddLFwiU2luZ2xlRXhwcmVzc2lvblwiOlsxLDI3NV0sXCJTaW5nbGVDbGFzc0l0ZW1cIjpbMiwyNzZdfSxcbiAgZGlhbGVjdHM6IHtqc3g6IDAsIHRzOiAxNTA5OH0sXG4gIGR5bmFtaWNQcmVjZWRlbmNlczoge1wiODBcIjoxLFwiODJcIjoxLFwiOTRcIjoxLFwiMTY5XCI6MSxcIjE5OVwiOjF9LFxuICBzcGVjaWFsaXplZDogW3t0ZXJtOiAzMjYsIGdldDogKHZhbHVlKSA9PiBzcGVjX2lkZW50aWZpZXJbdmFsdWVdIHx8IC0xfSx7dGVybTogMzQyLCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY193b3JkW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDk1LCBnZXQ6ICh2YWx1ZSkgPT4gc3BlY19MZXNzVGhhblt2YWx1ZV0gfHwgLTF9XSxcbiAgdG9rZW5QcmVjOiAxNTEyNFxufSk7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuIiwgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci9qYXZhc2NyaXB0JztcbmltcG9ydCB7IHN5bnRheFRyZWUsIExSTGFuZ3VhZ2UsIGluZGVudE5vZGVQcm9wLCBjb250aW51ZWRJbmRlbnQsIGZsYXRJbmRlbnQsIGRlbGltaXRlZEluZGVudCwgZm9sZE5vZGVQcm9wLCBmb2xkSW5zaWRlLCBkZWZpbmVMYW5ndWFnZUZhY2V0LCBzdWJsYW5ndWFnZVByb3AsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IEVkaXRvclNlbGVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHNuaXBwZXRDb21wbGV0aW9uLCBpZk5vdEluLCBjb21wbGV0ZUZyb21MaXN0IH0gZnJvbSAnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJztcbmltcG9ydCB7IE5vZGVXZWFrTWFwLCBJdGVyTW9kZSB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vKipcbkEgY29sbGVjdGlvbiBvZiBKYXZhU2NyaXB0LXJlbGF0ZWRcbltzbmlwcGV0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuc25pcHBldCkuXG4qL1xuY29uc3Qgc25pcHBldHMgPSBbXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZnVuY3Rpb24gJHtuYW1lfSgke3BhcmFtc30pIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZGV0YWlsOiBcImRlZmluaXRpb25cIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJmb3IgKGxldCAke2luZGV4fSA9IDA7ICR7aW5kZXh9IDwgJHtib3VuZH07ICR7aW5kZXh9KyspIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZm9yXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZm9yIChsZXQgJHtuYW1lfSBvZiAke2NvbGxlY3Rpb259KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImZvclwiLFxuICAgICAgICBkZXRhaWw6IFwib2YgbG9vcFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImRvIHtcXG5cXHQke31cXG59IHdoaWxlICgke30pXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZG9cIixcbiAgICAgICAgZGV0YWlsOiBcImxvb3BcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJ3aGlsZSAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcIndoaWxlXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwidHJ5IHtcXG5cXHQke31cXG59IGNhdGNoICgke2Vycm9yfSkge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJ0cnlcIixcbiAgICAgICAgZGV0YWlsOiBcIi8gY2F0Y2ggYmxvY2tcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJpZiAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImlmXCIsXG4gICAgICAgIGRldGFpbDogXCJibG9ja1wiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImlmICgke30pIHtcXG5cXHQke31cXG59IGVsc2Uge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJpZlwiLFxuICAgICAgICBkZXRhaWw6IFwiLyBlbHNlIGJsb2NrXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiY2xhc3MgJHtuYW1lfSB7XFxuXFx0Y29uc3RydWN0b3IoJHtwYXJhbXN9KSB7XFxuXFx0XFx0JHt9XFxuXFx0fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJjbGFzc1wiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmaW5pdGlvblwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImltcG9ydCB7JHtuYW1lc319IGZyb20gXFxcIiR7bW9kdWxlfVxcXCJcXG4ke31cIiwge1xuICAgICAgICBsYWJlbDogXCJpbXBvcnRcIixcbiAgICAgICAgZGV0YWlsOiBcIm5hbWVkXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiaW1wb3J0ICR7bmFtZX0gZnJvbSBcXFwiJHttb2R1bGV9XFxcIlxcbiR7fVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImltcG9ydFwiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmYXVsdFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pXG5dO1xuLyoqXG5BIGNvbGxlY3Rpb24gb2Ygc25pcHBldCBjb21wbGV0aW9ucyBmb3IgVHlwZVNjcmlwdC4gSW5jbHVkZXMgdGhlXG5KYXZhU2NyaXB0IFtzbmlwcGV0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5nLWphdmFzY3JpcHQuc25pcHBldHMpLlxuKi9cbmNvbnN0IHR5cGVzY3JpcHRTbmlwcGV0cyA9IC8qQF9fUFVSRV9fKi9zbmlwcGV0cy5jb25jYXQoW1xuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImludGVyZmFjZSAke25hbWV9IHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiaW50ZXJmYWNlXCIsXG4gICAgICAgIGRldGFpbDogXCJkZWZpbml0aW9uXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwidHlwZSAke25hbWV9ID0gJHt0eXBlfVwiLCB7XG4gICAgICAgIGxhYmVsOiBcInR5cGVcIixcbiAgICAgICAgZGV0YWlsOiBcImRlZmluaXRpb25cIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJlbnVtICR7bmFtZX0ge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJlbnVtXCIsXG4gICAgICAgIGRldGFpbDogXCJkZWZpbml0aW9uXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSlcbl0pO1xuXG5jb25zdCBjYWNoZSA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVdlYWtNYXAoKTtcbmNvbnN0IFNjb3BlTm9kZXMgPSAvKkBfX1BVUkVfXyovbmV3IFNldChbXG4gICAgXCJTY3JpcHRcIiwgXCJCbG9ja1wiLFxuICAgIFwiRnVuY3Rpb25FeHByZXNzaW9uXCIsIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiLCBcIkFycm93RnVuY3Rpb25cIiwgXCJNZXRob2REZWNsYXJhdGlvblwiLFxuICAgIFwiRm9yU3RhdGVtZW50XCJcbl0pO1xuZnVuY3Rpb24gZGVmSUQodHlwZSkge1xuICAgIHJldHVybiAobm9kZSwgZGVmKSA9PiB7XG4gICAgICAgIGxldCBpZCA9IG5vZGUubm9kZS5nZXRDaGlsZChcIlZhcmlhYmxlRGVmaW5pdGlvblwiKTtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgZGVmKGlkLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbmNvbnN0IGZ1bmN0aW9uQ29udGV4dCA9IFtcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIl07XG5jb25zdCBnYXRoZXJDb21wbGV0aW9ucyA9IHtcbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJmdW5jdGlvblwiKSxcbiAgICBDbGFzc0RlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjbGFzc1wiKSxcbiAgICBDbGFzc0V4cHJlc3Npb246ICgpID0+IHRydWUsXG4gICAgRW51bURlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjb25zdGFudFwiKSxcbiAgICBUeXBlQWxpYXNEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwidHlwZVwiKSxcbiAgICBOYW1lc3BhY2VEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwibmFtZXNwYWNlXCIpLFxuICAgIFZhcmlhYmxlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgaWYgKCFub2RlLm1hdGNoQ29udGV4dChmdW5jdGlvbkNvbnRleHQpKVxuICAgICAgICBkZWYobm9kZSwgXCJ2YXJpYWJsZVwiKTsgfSxcbiAgICBUeXBlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgZGVmKG5vZGUsIFwidHlwZVwiKTsgfSxcbiAgICBfX3Byb3RvX186IG51bGxcbn07XG5mdW5jdGlvbiBnZXRTY29wZShkb2MsIG5vZGUpIHtcbiAgICBsZXQgY2FjaGVkID0gY2FjaGUuZ2V0KG5vZGUpO1xuICAgIGlmIChjYWNoZWQpXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgbGV0IGNvbXBsZXRpb25zID0gW10sIHRvcCA9IHRydWU7XG4gICAgZnVuY3Rpb24gZGVmKG5vZGUsIHR5cGUpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBkb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICAgICAgY29tcGxldGlvbnMucHVzaCh7IGxhYmVsOiBuYW1lLCB0eXBlIH0pO1xuICAgIH1cbiAgICBub2RlLmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKS5pdGVyYXRlKG5vZGUgPT4ge1xuICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5hbWUpIHtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSBnYXRoZXJDb21wbGV0aW9uc1tub2RlLm5hbWVdO1xuICAgICAgICAgICAgaWYgKGdhdGhlciAmJiBnYXRoZXIobm9kZSwgZGVmKSB8fCBTY29wZU5vZGVzLmhhcyhub2RlLm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnRvIC0gbm9kZS5mcm9tID4gODE5Mikge1xuICAgICAgICAgICAgLy8gQWxsb3cgY2FjaGluZyBmb3IgYmlnZ2VyIGludGVybmFsIG5vZGVzXG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGdldFNjb3BlKGRvYywgbm9kZS5ub2RlKSlcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGMpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KG5vZGUsIGNvbXBsZXRpb25zKTtcbiAgICByZXR1cm4gY29tcGxldGlvbnM7XG59XG5jb25zdCBJZGVudGlmaWVyID0gL15bXFx3JFxceGExLVxcdWZmZmZdW1xcdyRcXGRcXHhhMS1cXHVmZmZmXSokLztcbmNvbnN0IGRvbnRDb21wbGV0ZSA9IFtcbiAgICBcIlRlbXBsYXRlU3RyaW5nXCIsIFwiU3RyaW5nXCIsIFwiUmVnRXhwXCIsXG4gICAgXCJMaW5lQ29tbWVudFwiLCBcIkJsb2NrQ29tbWVudFwiLFxuICAgIFwiVmFyaWFibGVEZWZpbml0aW9uXCIsIFwiVHlwZURlZmluaXRpb25cIiwgXCJMYWJlbFwiLFxuICAgIFwiUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJvcGVydHlOYW1lXCIsXG4gICAgXCJQcml2YXRlUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJpdmF0ZVByb3BlcnR5TmFtZVwiLFxuICAgIFwiSlNYVGV4dFwiLCBcIkpTWEF0dHJpYnV0ZVZhbHVlXCIsIFwiSlNYT3BlblRhZ1wiLCBcIkpTWENsb3NlVGFnXCIsIFwiSlNYU2VsZkNsb3NpbmdUYWdcIixcbiAgICBcIi5cIiwgXCI/LlwiXG5dO1xuLyoqXG5Db21wbGV0aW9uIHNvdXJjZSB0aGF0IGxvb2tzIHVwIGxvY2FsbHkgZGVmaW5lZCBuYW1lcyBpblxuSmF2YVNjcmlwdCBjb2RlLlxuKi9cbmZ1bmN0aW9uIGxvY2FsQ29tcGxldGlvblNvdXJjZShjb250ZXh0KSB7XG4gICAgbGV0IGlubmVyID0gc3ludGF4VHJlZShjb250ZXh0LnN0YXRlKS5yZXNvbHZlSW5uZXIoY29udGV4dC5wb3MsIC0xKTtcbiAgICBpZiAoZG9udENvbXBsZXRlLmluZGV4T2YoaW5uZXIubmFtZSkgPiAtMSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGlzV29yZCA9IGlubmVyLm5hbWUgPT0gXCJWYXJpYWJsZU5hbWVcIiB8fFxuICAgICAgICBpbm5lci50byAtIGlubmVyLmZyb20gPCAyMCAmJiBJZGVudGlmaWVyLnRlc3QoY29udGV4dC5zdGF0ZS5zbGljZURvYyhpbm5lci5mcm9tLCBpbm5lci50bykpO1xuICAgIGlmICghaXNXb3JkICYmICFjb250ZXh0LmV4cGxpY2l0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IGlubmVyOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgaWYgKFNjb3BlTm9kZXMuaGFzKHBvcy5uYW1lKSlcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zLmNvbmNhdChnZXRTY29wZShjb250ZXh0LnN0YXRlLmRvYywgcG9zKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGZyb206IGlzV29yZCA/IGlubmVyLmZyb20gOiBjb250ZXh0LnBvcyxcbiAgICAgICAgdmFsaWRGb3I6IElkZW50aWZpZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gcGF0aEZvcihyZWFkLCBtZW1iZXIsIG5hbWUpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHBhdGggPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBvYmogPSBtZW1iZXIuZmlyc3RDaGlsZCwgcHJvcDtcbiAgICAgICAgaWYgKChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoubmFtZSkgPT0gXCJWYXJpYWJsZU5hbWVcIikge1xuICAgICAgICAgICAgcGF0aC5wdXNoKHJlYWQob2JqKSk7XG4gICAgICAgICAgICByZXR1cm4geyBwYXRoOiBwYXRoLnJldmVyc2UoKSwgbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoubmFtZSkgPT0gXCJNZW1iZXJFeHByZXNzaW9uXCIgJiYgKChfYSA9IChwcm9wID0gb2JqLmxhc3RDaGlsZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSA9PSBcIlByb3BlcnR5TmFtZVwiKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2gocmVhZChwcm9wKSk7XG4gICAgICAgICAgICBtZW1iZXIgPSBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuSGVscGVyIGZ1bmN0aW9uIGZvciBkZWZpbmluZyBKYXZhU2NyaXB0IGNvbXBsZXRpb24gc291cmNlcy4gSXRcbnJldHVybnMgdGhlIGNvbXBsZXRhYmxlIG5hbWUgYW5kIG9iamVjdCBwYXRoIGZvciBhIGNvbXBsZXRpb25cbmNvbnRleHQsIG9yIG51bGwgaWYgbm8gbmFtZS9wcm9wZXJ0eSBjb21wbGV0aW9uIHNob3VsZCBoYXBwZW4gYXRcbnRoYXQgcG9zaXRpb24uIEZvciBleGFtcGxlLCB3aGVuIGNvbXBsZXRpbmcgYWZ0ZXIgYGEuYi5jYCBpdCB3aWxsXG5yZXR1cm4gYHtwYXRoOiBbXCJhXCIsIFwiYlwiXSwgbmFtZTogXCJjXCJ9YC4gV2hlbiBjb21wbGV0aW5nIGFmdGVyIGB4YFxuaXQgd2lsbCByZXR1cm4gYHtwYXRoOiBbXSwgbmFtZTogXCJ4XCJ9YC4gV2hlbiBub3QgaW4gYSBwcm9wZXJ0eSBvclxubmFtZSwgaXQgd2lsbCByZXR1cm4gbnVsbCBpZiBgY29udGV4dC5leHBsaWNpdGAgaXMgZmFsc2UsIGFuZFxuYHtwYXRoOiBbXSwgbmFtZTogXCJcIn1gIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBjb21wbGV0aW9uUGF0aChjb250ZXh0KSB7XG4gICAgbGV0IHJlYWQgPSAobm9kZSkgPT4gY29udGV4dC5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICBsZXQgaW5uZXIgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpO1xuICAgIGlmIChpbm5lci5uYW1lID09IFwiUHJvcGVydHlOYW1lXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhGb3IocmVhZCwgaW5uZXIucGFyZW50LCByZWFkKGlubmVyKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChpbm5lci5uYW1lID09IFwiLlwiIHx8IGlubmVyLm5hbWUgPT0gXCI/LlwiKSAmJiBpbm5lci5wYXJlbnQubmFtZSA9PSBcIk1lbWJlckV4cHJlc3Npb25cIikge1xuICAgICAgICByZXR1cm4gcGF0aEZvcihyZWFkLCBpbm5lci5wYXJlbnQsIFwiXCIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkb250Q29tcGxldGUuaW5kZXhPZihpbm5lci5uYW1lKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpbm5lci5uYW1lID09IFwiVmFyaWFibGVOYW1lXCIgfHwgaW5uZXIudG8gLSBpbm5lci5mcm9tIDwgMjAgJiYgSWRlbnRpZmllci50ZXN0KHJlYWQoaW5uZXIpKSkge1xuICAgICAgICByZXR1cm4geyBwYXRoOiBbXSwgbmFtZTogcmVhZChpbm5lcikgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5uZXIubmFtZSA9PSBcIk1lbWJlckV4cHJlc3Npb25cIikge1xuICAgICAgICByZXR1cm4gcGF0aEZvcihyZWFkLCBpbm5lciwgXCJcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGV4dC5leHBsaWNpdCA/IHsgcGF0aDogW10sIG5hbWU6IFwiXCIgfSA6IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gZW51bWVyYXRlUHJvcGVydHlDb21wbGV0aW9ucyhvYmosIHRvcCkge1xuICAgIGxldCBvcHRpb25zID0gW10sIHNlZW4gPSBuZXcgU2V0O1xuICAgIGZvciAobGV0IGRlcHRoID0gMDs7IGRlcHRoKyspIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgT2JqZWN0LmtleXMpKG9iaikpIHtcbiAgICAgICAgICAgIGlmICghL15bYS16QS1aXyRcXHhhYS1cXHVmZmRjXVtcXHckXFx4YWEtXFx1ZmZkY10qJC8udGVzdChuYW1lKSB8fCBzZWVuLmhhcyhuYW1lKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHNlZW4uYWRkKG5hbWUpO1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG9ialtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBuYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIgPyAoL15bQS1aXS8udGVzdChuYW1lKSA/IFwiY2xhc3NcIiA6IHRvcCA/IFwiZnVuY3Rpb25cIiA6IFwibWV0aG9kXCIpXG4gICAgICAgICAgICAgICAgICAgIDogdG9wID8gXCJ2YXJpYWJsZVwiIDogXCJwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgICAgIGJvb3N0OiAtZGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICBvYmogPSBuZXh0O1xuICAgIH1cbn1cbi8qKlxuRGVmaW5lcyBhIFtjb21wbGV0aW9uIHNvdXJjZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvblNvdXJjZSkgdGhhdFxuY29tcGxldGVzIGZyb20gdGhlIGdpdmVuIHNjb3BlIG9iamVjdCAoZm9yIGV4YW1wbGUgYGdsb2JhbFRoaXNgKS5cbldpbGwgZW50ZXIgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHdoZW4gY29tcGxldGluZyBwcm9wZXJ0aWVzIG9uXG5hIGRpcmVjdGx5LW5hbWVkIHBhdGguXG4qL1xuZnVuY3Rpb24gc2NvcGVDb21wbGV0aW9uU291cmNlKHNjb3BlKSB7XG4gICAgbGV0IGNhY2hlID0gbmV3IE1hcDtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHBhdGggPSBjb21wbGV0aW9uUGF0aChjb250ZXh0KTtcbiAgICAgICAgaWYgKCFwYXRoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB0YXJnZXQgPSBzY29wZTtcbiAgICAgICAgZm9yIChsZXQgc3RlcCBvZiBwYXRoLnBhdGgpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldFtzdGVwXTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0gY2FjaGUuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgIGNhY2hlLnNldCh0YXJnZXQsIG9wdGlvbnMgPSBlbnVtZXJhdGVQcm9wZXJ0eUNvbXBsZXRpb25zKHRhcmdldCwgIXBhdGgucGF0aC5sZW5ndGgpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IGNvbnRleHQucG9zIC0gcGF0aC5uYW1lLmxlbmd0aCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB2YWxpZEZvcjogSWRlbnRpZmllclxuICAgICAgICB9O1xuICAgIH07XG59XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIEphdmFTY3JpcHRcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9qYXZhc2NyaXB0KSwgZXh0ZW5kZWQgd2l0aFxuaGlnaGxpZ2h0aW5nIGFuZCBpbmRlbnRhdGlvbiBpbmZvcm1hdGlvbi5cbiovXG5jb25zdCBqYXZhc2NyaXB0TGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwiamF2YXNjcmlwdFwiLFxuICAgIHBhcnNlcjogLypAX19QVVJFX18qL3BhcnNlci5jb25maWd1cmUoe1xuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgLypAX19QVVJFX18qL2luZGVudE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgSWZTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGVsc2VcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBUcnlTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGNhdGNoXFxifGZpbmFsbHlcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBMYWJlbGVkU3RhdGVtZW50OiBmbGF0SW5kZW50LFxuICAgICAgICAgICAgICAgIFN3aXRjaEJvZHk6IGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBjb250ZXh0LnRleHRBZnRlciwgY2xvc2VkID0gL15cXHMqXFx9Ly50ZXN0KGFmdGVyKSwgaXNDYXNlID0gL15cXHMqKGNhc2V8ZGVmYXVsdClcXGIvLnRlc3QoYWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5iYXNlSW5kZW50ICsgKGNsb3NlZCA/IDAgOiBpc0Nhc2UgPyAxIDogMikgKiBjb250ZXh0LnVuaXQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBCbG9jazogLypAX19QVVJFX18qL2RlbGltaXRlZEluZGVudCh7IGNsb3Npbmc6IFwifVwiIH0pLFxuICAgICAgICAgICAgICAgIEFycm93RnVuY3Rpb246IGN4ID0+IGN4LmJhc2VJbmRlbnQgKyBjeC51bml0LFxuICAgICAgICAgICAgICAgIFwiVGVtcGxhdGVTdHJpbmcgQmxvY2tDb21tZW50XCI6ICgpID0+IG51bGwsXG4gICAgICAgICAgICAgICAgXCJTdGF0ZW1lbnQgUHJvcGVydHlcIjogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqey8gfSksXG4gICAgICAgICAgICAgICAgSlNYRWxlbWVudChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbG9zZWQgPSAvXlxccyo8XFwvLy50ZXN0KGNvbnRleHQudGV4dEFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubGluZUluZGVudChjb250ZXh0Lm5vZGUuZnJvbSkgKyAoY2xvc2VkID8gMCA6IGNvbnRleHQudW5pdCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBKU1hFc2NhcGUoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xvc2VkID0gL1xccypcXH0vLnRlc3QoY29udGV4dC50ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5saW5lSW5kZW50KGNvbnRleHQubm9kZS5mcm9tKSArIChjbG9zZWQgPyAwIDogY29udGV4dC51bml0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiSlNYT3BlblRhZyBKU1hTZWxmQ2xvc2luZ1RhZ1wiKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29sdW1uKGNvbnRleHQubm9kZS5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBcIkJsb2NrIENsYXNzQm9keSBTd2l0Y2hCb2R5IEVudW1Cb2R5IE9iamVjdEV4cHJlc3Npb24gQXJyYXlFeHByZXNzaW9uIE9iamVjdFR5cGVcIjogZm9sZEluc2lkZSxcbiAgICAgICAgICAgICAgICBCbG9ja0NvbW1lbnQodHJlZSkgeyByZXR1cm4geyBmcm9tOiB0cmVlLmZyb20gKyAyLCB0bzogdHJlZS50byAtIDIgfTsgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICBjbG9zZUJyYWNrZXRzOiB7IGJyYWNrZXRzOiBbXCIoXCIsIFwiW1wiLCBcIntcIiwgXCInXCIsICdcIicsIFwiYFwiXSB9LFxuICAgICAgICBjb21tZW50VG9rZW5zOiB7IGxpbmU6IFwiLy9cIiwgYmxvY2s6IHsgb3BlbjogXCIvKlwiLCBjbG9zZTogXCIqL1wiIH0gfSxcbiAgICAgICAgaW5kZW50T25JbnB1dDogL15cXHMqKD86Y2FzZSB8ZGVmYXVsdDp8XFx7fFxcfXw8XFwvKSQvLFxuICAgICAgICB3b3JkQ2hhcnM6IFwiJFwiXG4gICAgfVxufSk7XG5jb25zdCBqc3hTdWJsYW5ndWFnZSA9IHtcbiAgICB0ZXN0OiBub2RlID0+IC9eSlNYLy50ZXN0KG5vZGUubmFtZSksXG4gICAgZmFjZXQ6IC8qQF9fUFVSRV9fKi9kZWZpbmVMYW5ndWFnZUZhY2V0KHsgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcInsvKlwiLCBjbG9zZTogXCIqL31cIiB9IH0gfSlcbn07XG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgZm9yIFR5cGVTY3JpcHQuXG4qL1xuY29uc3QgdHlwZXNjcmlwdExhbmd1YWdlID0gLypAX19QVVJFX18qL2phdmFzY3JpcHRMYW5ndWFnZS5jb25maWd1cmUoeyBkaWFsZWN0OiBcInRzXCIgfSwgXCJ0eXBlc2NyaXB0XCIpO1xuLyoqXG5MYW5ndWFnZSBwcm92aWRlciBmb3IgSlNYLlxuKi9cbmNvbnN0IGpzeExhbmd1YWdlID0gLypAX19QVVJFX18qL2phdmFzY3JpcHRMYW5ndWFnZS5jb25maWd1cmUoe1xuICAgIGRpYWxlY3Q6IFwianN4XCIsXG4gICAgcHJvcHM6IFsvKkBfX1BVUkVfXyovc3VibGFuZ3VhZ2VQcm9wLmFkZChuID0+IG4uaXNUb3AgPyBbanN4U3VibGFuZ3VhZ2VdIDogdW5kZWZpbmVkKV1cbn0pO1xuLyoqXG5MYW5ndWFnZSBwcm92aWRlciBmb3IgSlNYICsgVHlwZVNjcmlwdC5cbiovXG5jb25zdCB0c3hMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9qYXZhc2NyaXB0TGFuZ3VhZ2UuY29uZmlndXJlKHtcbiAgICBkaWFsZWN0OiBcImpzeCB0c1wiLFxuICAgIHByb3BzOiBbLypAX19QVVJFX18qL3N1Ymxhbmd1YWdlUHJvcC5hZGQobiA9PiBuLmlzVG9wID8gW2pzeFN1Ymxhbmd1YWdlXSA6IHVuZGVmaW5lZCldXG59LCBcInR5cGVzY3JpcHRcIik7XG5sZXQga3dDb21wbGV0aW9uID0gKG5hbWUpID0+ICh7IGxhYmVsOiBuYW1lLCB0eXBlOiBcImtleXdvcmRcIiB9KTtcbmNvbnN0IGtleXdvcmRzID0gLypAX19QVVJFX18qL1wiYnJlYWsgY2FzZSBjb25zdCBjb250aW51ZSBkZWZhdWx0IGRlbGV0ZSBleHBvcnQgZXh0ZW5kcyBmYWxzZSBmaW5hbGx5IGluIGluc3RhbmNlb2YgbGV0IG5ldyByZXR1cm4gc3RhdGljIHN1cGVyIHN3aXRjaCB0aGlzIHRocm93IHRydWUgdHlwZW9mIHZhciB5aWVsZFwiLnNwbGl0KFwiIFwiKS5tYXAoa3dDb21wbGV0aW9uKTtcbmNvbnN0IHR5cGVzY3JpcHRLZXl3b3JkcyA9IC8qQF9fUFVSRV9fKi9rZXl3b3Jkcy5jb25jYXQoLypAX19QVVJFX18qL1tcImRlY2xhcmVcIiwgXCJpbXBsZW1lbnRzXCIsIFwicHJpdmF0ZVwiLCBcInByb3RlY3RlZFwiLCBcInB1YmxpY1wiXS5tYXAoa3dDb21wbGV0aW9uKSk7XG4vKipcbkphdmFTY3JpcHQgc3VwcG9ydC4gSW5jbHVkZXMgW3NuaXBwZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZy1qYXZhc2NyaXB0LnNuaXBwZXRzKVxuYW5kIGxvY2FsIHZhcmlhYmxlIGNvbXBsZXRpb24uXG4qL1xuZnVuY3Rpb24gamF2YXNjcmlwdChjb25maWcgPSB7fSkge1xuICAgIGxldCBsYW5nID0gY29uZmlnLmpzeCA/IChjb25maWcudHlwZXNjcmlwdCA/IHRzeExhbmd1YWdlIDoganN4TGFuZ3VhZ2UpXG4gICAgICAgIDogY29uZmlnLnR5cGVzY3JpcHQgPyB0eXBlc2NyaXB0TGFuZ3VhZ2UgOiBqYXZhc2NyaXB0TGFuZ3VhZ2U7XG4gICAgbGV0IGNvbXBsZXRpb25zID0gY29uZmlnLnR5cGVzY3JpcHQgPyB0eXBlc2NyaXB0U25pcHBldHMuY29uY2F0KHR5cGVzY3JpcHRLZXl3b3JkcykgOiBzbmlwcGV0cy5jb25jYXQoa2V5d29yZHMpO1xuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KGxhbmcsIFtcbiAgICAgICAgamF2YXNjcmlwdExhbmd1YWdlLmRhdGEub2Yoe1xuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBpZk5vdEluKGRvbnRDb21wbGV0ZSwgY29tcGxldGVGcm9tTGlzdChjb21wbGV0aW9ucykpXG4gICAgICAgIH0pLFxuICAgICAgICBqYXZhc2NyaXB0TGFuZ3VhZ2UuZGF0YS5vZih7XG4gICAgICAgICAgICBhdXRvY29tcGxldGU6IGxvY2FsQ29tcGxldGlvblNvdXJjZVxuICAgICAgICB9KSxcbiAgICAgICAgY29uZmlnLmpzeCA/IGF1dG9DbG9zZVRhZ3MgOiBbXSxcbiAgICBdKTtcbn1cbmZ1bmN0aW9uIGZpbmRPcGVuVGFnKG5vZGUpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChub2RlLm5hbWUgPT0gXCJKU1hPcGVuVGFnXCIgfHwgbm9kZS5uYW1lID09IFwiSlNYU2VsZkNsb3NpbmdUYWdcIiB8fCBub2RlLm5hbWUgPT0gXCJKU1hGcmFnbWVudFRhZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIGlmIChub2RlLm5hbWUgPT0gXCJKU1hFc2NhcGVcIiB8fCAhbm9kZS5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnROYW1lKGRvYywgdHJlZSwgbWF4ID0gZG9jLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGNoID0gdHJlZSA9PT0gbnVsbCB8fCB0cmVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0cmVlLmZpcnN0Q2hpbGQ7IGNoOyBjaCA9IGNoLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjaC5uYW1lID09IFwiSlNYSWRlbnRpZmllclwiIHx8IGNoLm5hbWUgPT0gXCJKU1hCdWlsdGluXCIgfHwgY2gubmFtZSA9PSBcIkpTWE5hbWVzcGFjZWROYW1lXCIgfHxcbiAgICAgICAgICAgIGNoLm5hbWUgPT0gXCJKU1hNZW1iZXJFeHByZXNzaW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gZG9jLnNsaWNlU3RyaW5nKGNoLmZyb20sIE1hdGgubWluKGNoLnRvLCBtYXgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5jb25zdCBhbmRyb2lkID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcIm9iamVjdFwiICYmIC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbi8qKlxuRXh0ZW5zaW9uIHRoYXQgd2lsbCBhdXRvbWF0aWNhbGx5IGluc2VydCBKU1ggY2xvc2UgdGFncyB3aGVuIGEgYD5gIG9yXG5gL2AgaXMgdHlwZWQuXG4qL1xuY29uc3QgYXV0b0Nsb3NlVGFncyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIHRleHQsIGRlZmF1bHRJbnNlcnQpID0+IHtcbiAgICBpZiAoKGFuZHJvaWQgPyB2aWV3LmNvbXBvc2luZyA6IHZpZXcuY29tcG9zaXRpb25TdGFydGVkKSB8fCB2aWV3LnN0YXRlLnJlYWRPbmx5IHx8XG4gICAgICAgIGZyb20gIT0gdG8gfHwgKHRleHQgIT0gXCI+XCIgJiYgdGV4dCAhPSBcIi9cIikgfHxcbiAgICAgICAgIWphdmFzY3JpcHRMYW5ndWFnZS5pc0FjdGl2ZUF0KHZpZXcuc3RhdGUsIGZyb20sIC0xKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBiYXNlID0gZGVmYXVsdEluc2VydCgpLCB7IHN0YXRlIH0gPSBiYXNlO1xuICAgIGxldCBjbG9zZVRhZ3MgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSByYW5nZSwgYXJvdW5kID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKGhlYWQgLSAxLCAtMSksIG5hbWU7XG4gICAgICAgIGlmIChhcm91bmQubmFtZSA9PSBcIkpTWFN0YXJ0VGFnXCIpXG4gICAgICAgICAgICBhcm91bmQgPSBhcm91bmQucGFyZW50O1xuICAgICAgICBpZiAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQgLSAxLCBoZWFkKSAhPSB0ZXh0IHx8IGFyb3VuZC5uYW1lID09IFwiSlNYQXR0cmlidXRlVmFsdWVcIiAmJiBhcm91bmQudG8gPiBoZWFkKSA7XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCI+XCIgJiYgYXJvdW5kLm5hbWUgPT0gXCJKU1hGcmFnbWVudFRhZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCBpbnNlcnQ6IGA8Lz5gIH0gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiL1wiICYmIGFyb3VuZC5uYW1lID09IFwiSlNYU3RhcnRDbG9zZVRhZ1wiKSB7XG4gICAgICAgICAgICBsZXQgZW1wdHkgPSBhcm91bmQucGFyZW50LCBiYXNlID0gZW1wdHkucGFyZW50O1xuICAgICAgICAgICAgaWYgKGJhc2UgJiYgZW1wdHkuZnJvbSA9PSBoZWFkIC0gMiAmJlxuICAgICAgICAgICAgICAgICgobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgYmFzZS5maXJzdENoaWxkLCBoZWFkKSkgfHwgKChfYSA9IGJhc2UuZmlyc3RDaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUpID09IFwiSlNYRnJhZ21lbnRUYWdcIikpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0ID0gYCR7bmFtZX0+YDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihoZWFkICsgaW5zZXJ0Lmxlbmd0aCwgLTEpLCBjaGFuZ2VzOiB7IGZyb206IGhlYWQsIGluc2VydCB9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIj5cIikge1xuICAgICAgICAgICAgbGV0IG9wZW5UYWcgPSBmaW5kT3BlblRhZyhhcm91bmQpO1xuICAgICAgICAgICAgaWYgKG9wZW5UYWcgJiYgb3BlblRhZy5uYW1lID09IFwiSlNYT3BlblRhZ1wiICYmXG4gICAgICAgICAgICAgICAgIS9eXFwvPz58XjxcXC8vLnRlc3Qoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQsIGhlYWQgKyAyKSkgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgb3BlblRhZywgaGVhZCkpKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlLCBjaGFuZ2VzOiB7IGZyb206IGhlYWQsIGluc2VydDogYDwvJHtuYW1lfT5gIH0gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgIH0pO1xuICAgIGlmIChjbG9zZVRhZ3MuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2goW1xuICAgICAgICBiYXNlLFxuICAgICAgICBzdGF0ZS51cGRhdGUoY2xvc2VUYWdzLCB7IHVzZXJFdmVudDogXCJpbnB1dC5jb21wbGV0ZVwiLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KVxuICAgIF0pO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbi8qKlxuQ29ubmVjdHMgYW4gW0VTTGludF0oaHR0cHM6Ly9lc2xpbnQub3JnLykgbGludGVyIHRvIENvZGVNaXJyb3Inc1xuW2xpbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGludCkgaW50ZWdyYXRpb24uIGBlc2xpbnRgIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiB0aGVcbltgTGludGVyYF0oaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvZGV2ZWxvcGVyLWd1aWRlL25vZGVqcy1hcGkjbGludGVyKVxuY2xhc3MsIGFuZCBgY29uZmlnYCBhbiBvcHRpb25hbCBFU0xpbnQgY29uZmlndXJhdGlvbi4gVGhlIHJldHVyblxudmFsdWUgb2YgdGhpcyBmdW5jdGlvbiBjYW4gYmUgcGFzc2VkIHRvIFtgbGludGVyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsaW50LmxpbnRlcilcbnRvIGNyZWF0ZSBhIEphdmFTY3JpcHQgbGludGluZyBleHRlbnNpb24uXG5cbk5vdGUgdGhhdCBFU0xpbnQgdGFyZ2V0cyBub2RlLCBhbmQgaXMgdHJpY2t5IHRvIHJ1biBpbiB0aGVcbmJyb3dzZXIuIFRoZVxuW2VzbGludC1saW50ZXItYnJvd3NlcmlmeV0oaHR0cHM6Ly9naXRodWIuY29tL1V6aVRlY2gvZXNsaW50LWxpbnRlci1icm93c2VyaWZ5KVxucGFja2FnZSBtYXkgaGVscCB3aXRoIHRoYXQgKHNlZVxuW2V4YW1wbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9VemlUZWNoL2VzbGludC1saW50ZXItYnJvd3NlcmlmeS9ibG9iL21hc3Rlci9leGFtcGxlL3NjcmlwdC5qcykpLlxuKi9cbmZ1bmN0aW9uIGVzTGludChlc2xpbnQsIGNvbmZpZykge1xuICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgICAgIHBhcnNlck9wdGlvbnM6IHsgZWNtYVZlcnNpb246IDIwMTksIHNvdXJjZVR5cGU6IFwibW9kdWxlXCIgfSxcbiAgICAgICAgICAgIGVudjogeyBicm93c2VyOiB0cnVlLCBub2RlOiB0cnVlLCBlczY6IHRydWUsIGVzMjAxNTogdHJ1ZSwgZXMyMDE3OiB0cnVlLCBlczIwMjA6IHRydWUgfSxcbiAgICAgICAgICAgIHJ1bGVzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBlc2xpbnQuZ2V0UnVsZXMoKS5mb3JFYWNoKChkZXNjLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoKF9hID0gZGVzYy5tZXRhLmRvY3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWNvbW1lbmRlZClcbiAgICAgICAgICAgICAgICBjb25maWcucnVsZXNbbmFtZV0gPSAyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuICh2aWV3KSA9PiB7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBmb3VuZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgamF2YXNjcmlwdExhbmd1YWdlLmZpbmRSZWdpb25zKHN0YXRlKSkge1xuICAgICAgICAgICAgbGV0IGZyb21MaW5lID0gc3RhdGUuZG9jLmxpbmVBdChmcm9tKSwgb2Zmc2V0ID0geyBsaW5lOiBmcm9tTGluZS5udW1iZXIgLSAxLCBjb2w6IGZyb20gLSBmcm9tTGluZS5mcm9tLCBwb3M6IGZyb20gfTtcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgZXNsaW50LnZlcmlmeShzdGF0ZS5zbGljZURvYyhmcm9tLCB0byksIGNvbmZpZykpXG4gICAgICAgICAgICAgICAgZm91bmQucHVzaCh0cmFuc2xhdGVEaWFnbm9zdGljKGQsIHN0YXRlLmRvYywgb2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH07XG59XG5mdW5jdGlvbiBtYXBQb3MobGluZSwgY29sLCBkb2MsIG9mZnNldCkge1xuICAgIHJldHVybiBkb2MubGluZShsaW5lICsgb2Zmc2V0LmxpbmUpLmZyb20gKyBjb2wgKyAobGluZSA9PSAxID8gb2Zmc2V0LmNvbCAtIDEgOiAtMSk7XG59XG5mdW5jdGlvbiB0cmFuc2xhdGVEaWFnbm9zdGljKGlucHV0LCBkb2MsIG9mZnNldCkge1xuICAgIGxldCBzdGFydCA9IG1hcFBvcyhpbnB1dC5saW5lLCBpbnB1dC5jb2x1bW4sIGRvYywgb2Zmc2V0KTtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBmcm9tOiBzdGFydCxcbiAgICAgICAgdG86IGlucHV0LmVuZExpbmUgIT0gbnVsbCAmJiBpbnB1dC5lbmRDb2x1bW4gIT0gMSA/IG1hcFBvcyhpbnB1dC5lbmRMaW5lLCBpbnB1dC5lbmRDb2x1bW4sIGRvYywgb2Zmc2V0KSA6IHN0YXJ0LFxuICAgICAgICBtZXNzYWdlOiBpbnB1dC5tZXNzYWdlLFxuICAgICAgICBzb3VyY2U6IGlucHV0LnJ1bGVJZCA/IFwiZXNsaW50OlwiICsgaW5wdXQucnVsZUlkIDogXCJlc2xpbnRcIixcbiAgICAgICAgc2V2ZXJpdHk6IGlucHV0LnNldmVyaXR5ID09IDEgPyBcIndhcm5pbmdcIiA6IFwiZXJyb3JcIixcbiAgICB9O1xuICAgIGlmIChpbnB1dC5maXgpIHtcbiAgICAgICAgbGV0IHsgcmFuZ2UsIHRleHQgfSA9IGlucHV0LmZpeCwgZnJvbSA9IHJhbmdlWzBdICsgb2Zmc2V0LnBvcyAtIHN0YXJ0LCB0byA9IHJhbmdlWzFdICsgb2Zmc2V0LnBvcyAtIHN0YXJ0O1xuICAgICAgICByZXN1bHQuYWN0aW9ucyA9IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmaXhcIixcbiAgICAgICAgICAgICAgICBhcHBseSh2aWV3LCBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgY2hhbmdlczogeyBmcm9tOiBzdGFydCArIGZyb20sIHRvOiBzdGFydCArIHRvLCBpbnNlcnQ6IHRleHQgfSwgc2Nyb2xsSW50b1ZpZXc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IGF1dG9DbG9zZVRhZ3MsIGNvbXBsZXRpb25QYXRoLCBlc0xpbnQsIGphdmFzY3JpcHQsIGphdmFzY3JpcHRMYW5ndWFnZSwganN4TGFuZ3VhZ2UsIGxvY2FsQ29tcGxldGlvblNvdXJjZSwgc2NvcGVDb21wbGV0aW9uU291cmNlLCBzbmlwcGV0cywgdHN4TGFuZ3VhZ2UsIHR5cGVzY3JpcHRMYW5ndWFnZSwgdHlwZXNjcmlwdFNuaXBwZXRzIH07XG4iLCAiaW1wb3J0IHsgcGFyc2VyLCBjb25maWd1cmVOZXN0aW5nIH0gZnJvbSAnQGxlemVyL2h0bWwnO1xuaW1wb3J0IHsgY3NzTGFuZ3VhZ2UsIGNzcyB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmctY3NzJztcbmltcG9ydCB7IGphdmFzY3JpcHRMYW5ndWFnZSwgdHlwZXNjcmlwdExhbmd1YWdlLCBqc3hMYW5ndWFnZSwgdHN4TGFuZ3VhZ2UsIGphdmFzY3JpcHQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWphdmFzY3JpcHQnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yU2VsZWN0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGZvbGROb2RlUHJvcCwgYnJhY2tldE1hdGNoaW5nSGFuZGxlLCBMYW5ndWFnZVN1cHBvcnQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5cbmNvbnN0IFRhcmdldHMgPSBbXCJfYmxhbmtcIiwgXCJfc2VsZlwiLCBcIl90b3BcIiwgXCJfcGFyZW50XCJdO1xuY29uc3QgQ2hhcnNldHMgPSBbXCJhc2NpaVwiLCBcInV0Zi04XCIsIFwidXRmLTE2XCIsIFwibGF0aW4xXCIsIFwibGF0aW4xXCJdO1xuY29uc3QgTWV0aG9kcyA9IFtcImdldFwiLCBcInBvc3RcIiwgXCJwdXRcIiwgXCJkZWxldGVcIl07XG5jb25zdCBFbmNzID0gW1wiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLCBcInRleHQvcGxhaW5cIl07XG5jb25zdCBCb29sID0gW1widHJ1ZVwiLCBcImZhbHNlXCJdO1xuY29uc3QgUyA9IHt9OyAvLyBFbXB0eSB0YWcgc3BlY1xuY29uc3QgVGFncyA9IHtcbiAgICBhOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBocmVmOiBudWxsLCBwaW5nOiBudWxsLCB0eXBlOiBudWxsLFxuICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICB0YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICBocmVmbGFuZzogbnVsbFxuICAgICAgICB9XG4gICAgfSxcbiAgICBhYmJyOiBTLFxuICAgIGFkZHJlc3M6IFMsXG4gICAgYXJlYToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgYWx0OiBudWxsLCBjb29yZHM6IG51bGwsIGhyZWY6IG51bGwsIHRhcmdldDogbnVsbCwgcGluZzogbnVsbCxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLCBocmVmbGFuZzogbnVsbCwgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIHNoYXBlOiBbXCJkZWZhdWx0XCIsIFwicmVjdFwiLCBcImNpcmNsZVwiLCBcInBvbHlcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXJ0aWNsZTogUyxcbiAgICBhc2lkZTogUyxcbiAgICBhdWRpbzoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBtZWRpYWdyb3VwOiBudWxsLFxuICAgICAgICAgICAgY3Jvc3NvcmlnaW46IFtcImFub255bW91c1wiLCBcInVzZS1jcmVkZW50aWFsc1wiXSxcbiAgICAgICAgICAgIHByZWxvYWQ6IFtcIm5vbmVcIiwgXCJtZXRhZGF0YVwiLCBcImF1dG9cIl0sXG4gICAgICAgICAgICBhdXRvcGxheTogW1wiYXV0b3BsYXlcIl0sXG4gICAgICAgICAgICBsb29wOiBbXCJsb29wXCJdLFxuICAgICAgICAgICAgY29udHJvbHM6IFtcImNvbnRyb2xzXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGI6IFMsXG4gICAgYmFzZTogeyBhdHRyczogeyBocmVmOiBudWxsLCB0YXJnZXQ6IFRhcmdldHMgfSB9LFxuICAgIGJkaTogUyxcbiAgICBiZG86IFMsXG4gICAgYmxvY2txdW90ZTogeyBhdHRyczogeyBjaXRlOiBudWxsIH0gfSxcbiAgICBib2R5OiBTLFxuICAgIGJyOiBTLFxuICAgIGJ1dHRvbjoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZm9ybTogbnVsbCwgZm9ybWFjdGlvbjogbnVsbCwgbmFtZTogbnVsbCwgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBmb3JtZW5jdHlwZTogRW5jcyxcbiAgICAgICAgICAgIGZvcm1tZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBmb3Jtbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgICAgICAgIGZvcm10YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICB0eXBlOiBbXCJzdWJtaXRcIiwgXCJyZXNldFwiLCBcImJ1dHRvblwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBjYW52YXM6IHsgYXR0cnM6IHsgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCB9IH0sXG4gICAgY2FwdGlvbjogUyxcbiAgICBjZW50ZXI6IFMsXG4gICAgY2l0ZTogUyxcbiAgICBjb2RlOiBTLFxuICAgIGNvbDogeyBhdHRyczogeyBzcGFuOiBudWxsIH0gfSxcbiAgICBjb2xncm91cDogeyBhdHRyczogeyBzcGFuOiBudWxsIH0gfSxcbiAgICBjb21tYW5kOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJjb21tYW5kXCIsIFwiY2hlY2tib3hcIiwgXCJyYWRpb1wiXSxcbiAgICAgICAgICAgIGxhYmVsOiBudWxsLCBpY29uOiBudWxsLCByYWRpb2dyb3VwOiBudWxsLCBjb21tYW5kOiBudWxsLCB0aXRsZTogbnVsbCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIGNoZWNrZWQ6IFtcImNoZWNrZWRcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTogeyBhdHRyczogeyB2YWx1ZTogbnVsbCB9IH0sXG4gICAgZGF0YWdyaWQ6IHsgYXR0cnM6IHsgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLCBtdWx0aXBsZTogW1wibXVsdGlwbGVcIl0gfSB9LFxuICAgIGRhdGFsaXN0OiB7IGF0dHJzOiB7IGRhdGE6IG51bGwgfSB9LFxuICAgIGRkOiBTLFxuICAgIGRlbDogeyBhdHRyczogeyBjaXRlOiBudWxsLCBkYXRldGltZTogbnVsbCB9IH0sXG4gICAgZGV0YWlsczogeyBhdHRyczogeyBvcGVuOiBbXCJvcGVuXCJdIH0gfSxcbiAgICBkZm46IFMsXG4gICAgZGl2OiBTLFxuICAgIGRsOiBTLFxuICAgIGR0OiBTLFxuICAgIGVtOiBTLFxuICAgIGVtYmVkOiB7IGF0dHJzOiB7IHNyYzogbnVsbCwgdHlwZTogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCB9IH0sXG4gICAgZXZlbnRzb3VyY2U6IHsgYXR0cnM6IHsgc3JjOiBudWxsIH0gfSxcbiAgICBmaWVsZHNldDogeyBhdHRyczogeyBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sIGZvcm06IG51bGwsIG5hbWU6IG51bGwgfSB9LFxuICAgIGZpZ2NhcHRpb246IFMsXG4gICAgZmlndXJlOiBTLFxuICAgIGZvb3RlcjogUyxcbiAgICBmb3JtOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhY3Rpb246IG51bGwsIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBcImFjY2VwdC1jaGFyc2V0XCI6IENoYXJzZXRzLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBbXCJvblwiLCBcIm9mZlwiXSxcbiAgICAgICAgICAgIGVuY3R5cGU6IEVuY3MsXG4gICAgICAgICAgICBtZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBub3ZhbGlkYXRlOiBbXCJub3ZhbGlkYXRlXCJdLFxuICAgICAgICAgICAgdGFyZ2V0OiBUYXJnZXRzXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGgxOiBTLCBoMjogUywgaDM6IFMsIGg0OiBTLCBoNTogUywgaDY6IFMsXG4gICAgaGVhZDoge1xuICAgICAgICBjaGlsZHJlbjogW1widGl0bGVcIiwgXCJiYXNlXCIsIFwibGlua1wiLCBcInN0eWxlXCIsIFwibWV0YVwiLCBcInNjcmlwdFwiLCBcIm5vc2NyaXB0XCIsIFwiY29tbWFuZFwiXVxuICAgIH0sXG4gICAgaGVhZGVyOiBTLFxuICAgIGhncm91cDogUyxcbiAgICBocjogUyxcbiAgICBodG1sOiB7XG4gICAgICAgIGF0dHJzOiB7IG1hbmlmZXN0OiBudWxsIH1cbiAgICB9LFxuICAgIGk6IFMsXG4gICAgaWZyYW1lOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBzcmM6IG51bGwsIHNyY2RvYzogbnVsbCwgbmFtZTogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIHNhbmRib3g6IFtcImFsbG93LXRvcC1uYXZpZ2F0aW9uXCIsIFwiYWxsb3ctc2FtZS1vcmlnaW5cIiwgXCJhbGxvdy1mb3Jtc1wiLCBcImFsbG93LXNjcmlwdHNcIl0sXG4gICAgICAgICAgICBzZWFtbGVzczogW1wic2VhbWxlc3NcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW1nOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhbHQ6IG51bGwsIHNyYzogbnVsbCwgaXNtYXA6IG51bGwsIHVzZW1hcDogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGFsdDogbnVsbCwgZGlybmFtZTogbnVsbCwgZm9ybTogbnVsbCwgZm9ybWFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIGhlaWdodDogbnVsbCwgbGlzdDogbnVsbCwgbWF4OiBudWxsLCBtYXhsZW5ndGg6IG51bGwsIG1pbjogbnVsbCxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsIHBhdHRlcm46IG51bGwsIHBsYWNlaG9sZGVyOiBudWxsLCBzaXplOiBudWxsLCBzcmM6IG51bGwsXG4gICAgICAgICAgICBzdGVwOiBudWxsLCB2YWx1ZTogbnVsbCwgd2lkdGg6IG51bGwsXG4gICAgICAgICAgICBhY2NlcHQ6IFtcImF1ZGlvLypcIiwgXCJ2aWRlby8qXCIsIFwiaW1hZ2UvKlwiXSxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogW1wib25cIiwgXCJvZmZcIl0sXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGNoZWNrZWQ6IFtcImNoZWNrZWRcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICBmb3JtZW5jdHlwZTogRW5jcyxcbiAgICAgICAgICAgIGZvcm1tZXRob2Q6IE1ldGhvZHMsXG4gICAgICAgICAgICBmb3Jtbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgICAgICAgIGZvcm10YXJnZXQ6IFRhcmdldHMsXG4gICAgICAgICAgICBtdWx0aXBsZTogW1wibXVsdGlwbGVcIl0sXG4gICAgICAgICAgICByZWFkb25seTogW1wicmVhZG9ubHlcIl0sXG4gICAgICAgICAgICByZXF1aXJlZDogW1wicmVxdWlyZWRcIl0sXG4gICAgICAgICAgICB0eXBlOiBbXCJoaWRkZW5cIiwgXCJ0ZXh0XCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCIsIFwiZW1haWxcIiwgXCJwYXNzd29yZFwiLCBcImRhdGV0aW1lXCIsIFwiZGF0ZVwiLCBcIm1vbnRoXCIsXG4gICAgICAgICAgICAgICAgXCJ3ZWVrXCIsIFwidGltZVwiLCBcImRhdGV0aW1lLWxvY2FsXCIsIFwibnVtYmVyXCIsIFwicmFuZ2VcIiwgXCJjb2xvclwiLCBcImNoZWNrYm94XCIsIFwicmFkaW9cIixcbiAgICAgICAgICAgICAgICBcImZpbGVcIiwgXCJzdWJtaXRcIiwgXCJpbWFnZVwiLCBcInJlc2V0XCIsIFwiYnV0dG9uXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluczogeyBhdHRyczogeyBjaXRlOiBudWxsLCBkYXRldGltZTogbnVsbCB9IH0sXG4gICAga2JkOiBTLFxuICAgIGtleWdlbjoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2hhbGxlbmdlOiBudWxsLCBmb3JtOiBudWxsLCBuYW1lOiBudWxsLFxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICBrZXl0eXBlOiBbXCJSU0FcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGFiZWw6IHsgYXR0cnM6IHsgZm9yOiBudWxsLCBmb3JtOiBudWxsIH0gfSxcbiAgICBsZWdlbmQ6IFMsXG4gICAgbGk6IHsgYXR0cnM6IHsgdmFsdWU6IG51bGwgfSB9LFxuICAgIGxpbms6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGhyZWY6IG51bGwsIHR5cGU6IG51bGwsXG4gICAgICAgICAgICBocmVmbGFuZzogbnVsbCxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgc2l6ZXM6IFtcImFsbFwiLCBcIjE2eDE2XCIsIFwiMTZ4MTYgMzJ4MzJcIiwgXCIxNngxNiAzMngzMiA2NHg2NFwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXA6IHsgYXR0cnM6IHsgbmFtZTogbnVsbCB9IH0sXG4gICAgbWFyazogUyxcbiAgICBtZW51OiB7IGF0dHJzOiB7IGxhYmVsOiBudWxsLCB0eXBlOiBbXCJsaXN0XCIsIFwiY29udGV4dFwiLCBcInRvb2xiYXJcIl0gfSB9LFxuICAgIG1ldGE6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXG4gICAgICAgICAgICBjaGFyc2V0OiBDaGFyc2V0cyxcbiAgICAgICAgICAgIG5hbWU6IFtcInZpZXdwb3J0XCIsIFwiYXBwbGljYXRpb24tbmFtZVwiLCBcImF1dGhvclwiLCBcImRlc2NyaXB0aW9uXCIsIFwiZ2VuZXJhdG9yXCIsIFwia2V5d29yZHNcIl0sXG4gICAgICAgICAgICBcImh0dHAtZXF1aXZcIjogW1wiY29udGVudC1sYW5ndWFnZVwiLCBcImNvbnRlbnQtdHlwZVwiLCBcImRlZmF1bHQtc3R5bGVcIiwgXCJyZWZyZXNoXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGVyOiB7IGF0dHJzOiB7IHZhbHVlOiBudWxsLCBtaW46IG51bGwsIGxvdzogbnVsbCwgaGlnaDogbnVsbCwgbWF4OiBudWxsLCBvcHRpbXVtOiBudWxsIH0gfSxcbiAgICBuYXY6IFMsXG4gICAgbm9zY3JpcHQ6IFMsXG4gICAgb2JqZWN0OiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBkYXRhOiBudWxsLCB0eXBlOiBudWxsLCBuYW1lOiBudWxsLCB1c2VtYXA6IG51bGwsIGZvcm06IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwsXG4gICAgICAgICAgICB0eXBlbXVzdG1hdGNoOiBbXCJ0eXBlbXVzdG1hdGNoXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9sOiB7IGF0dHJzOiB7IHJldmVyc2VkOiBbXCJyZXZlcnNlZFwiXSwgc3RhcnQ6IG51bGwsIHR5cGU6IFtcIjFcIiwgXCJhXCIsIFwiQVwiLCBcImlcIiwgXCJJXCJdIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXCJsaVwiLCBcInNjcmlwdFwiLCBcInRlbXBsYXRlXCIsIFwidWxcIiwgXCJvbFwiXSB9LFxuICAgIG9wdGdyb3VwOiB7IGF0dHJzOiB7IGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSwgbGFiZWw6IG51bGwgfSB9LFxuICAgIG9wdGlvbjogeyBhdHRyczogeyBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sIGxhYmVsOiBudWxsLCBzZWxlY3RlZDogW1wic2VsZWN0ZWRcIl0sIHZhbHVlOiBudWxsIH0gfSxcbiAgICBvdXRwdXQ6IHsgYXR0cnM6IHsgZm9yOiBudWxsLCBmb3JtOiBudWxsLCBuYW1lOiBudWxsIH0gfSxcbiAgICBwOiBTLFxuICAgIHBhcmFtOiB7IGF0dHJzOiB7IG5hbWU6IG51bGwsIHZhbHVlOiBudWxsIH0gfSxcbiAgICBwcmU6IFMsXG4gICAgcHJvZ3Jlc3M6IHsgYXR0cnM6IHsgdmFsdWU6IG51bGwsIG1heDogbnVsbCB9IH0sXG4gICAgcTogeyBhdHRyczogeyBjaXRlOiBudWxsIH0gfSxcbiAgICBycDogUyxcbiAgICBydDogUyxcbiAgICBydWJ5OiBTLFxuICAgIHNhbXA6IFMsXG4gICAgc2NyaXB0OiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJ0ZXh0L2phdmFzY3JpcHRcIl0sXG4gICAgICAgICAgICBzcmM6IG51bGwsXG4gICAgICAgICAgICBhc3luYzogW1wiYXN5bmNcIl0sXG4gICAgICAgICAgICBkZWZlcjogW1wiZGVmZXJcIl0sXG4gICAgICAgICAgICBjaGFyc2V0OiBDaGFyc2V0c1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZWN0aW9uOiBTLFxuICAgIHNlbGVjdDoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZm9ybTogbnVsbCwgbmFtZTogbnVsbCwgc2l6ZTogbnVsbCxcbiAgICAgICAgICAgIGF1dG9mb2N1czogW1wiYXV0b2ZvY3VzXCJdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgICAgICAgbXVsdGlwbGU6IFtcIm11bHRpcGxlXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNsb3Q6IHsgYXR0cnM6IHsgbmFtZTogbnVsbCB9IH0sXG4gICAgc21hbGw6IFMsXG4gICAgc291cmNlOiB7IGF0dHJzOiB7IHNyYzogbnVsbCwgdHlwZTogbnVsbCwgbWVkaWE6IG51bGwgfSB9LFxuICAgIHNwYW46IFMsXG4gICAgc3Ryb25nOiBTLFxuICAgIHN0eWxlOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICB0eXBlOiBbXCJ0ZXh0L2Nzc1wiXSxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgc2NvcGVkOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YjogUyxcbiAgICBzdW1tYXJ5OiBTLFxuICAgIHN1cDogUyxcbiAgICB0YWJsZTogUyxcbiAgICB0Ym9keTogUyxcbiAgICB0ZDogeyBhdHRyczogeyBjb2xzcGFuOiBudWxsLCByb3dzcGFuOiBudWxsLCBoZWFkZXJzOiBudWxsIH0gfSxcbiAgICB0ZW1wbGF0ZTogUyxcbiAgICB0ZXh0YXJlYToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZGlybmFtZTogbnVsbCwgZm9ybTogbnVsbCwgbWF4bGVuZ3RoOiBudWxsLCBuYW1lOiBudWxsLCBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIHJvd3M6IG51bGwsIGNvbHM6IG51bGwsXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIHJlYWRvbmx5OiBbXCJyZWFkb25seVwiXSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJyZXF1aXJlZFwiXSxcbiAgICAgICAgICAgIHdyYXA6IFtcInNvZnRcIiwgXCJoYXJkXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRmb290OiBTLFxuICAgIHRoOiB7IGF0dHJzOiB7IGNvbHNwYW46IG51bGwsIHJvd3NwYW46IG51bGwsIGhlYWRlcnM6IG51bGwsIHNjb3BlOiBbXCJyb3dcIiwgXCJjb2xcIiwgXCJyb3dncm91cFwiLCBcImNvbGdyb3VwXCJdIH0gfSxcbiAgICB0aGVhZDogUyxcbiAgICB0aW1lOiB7IGF0dHJzOiB7IGRhdGV0aW1lOiBudWxsIH0gfSxcbiAgICB0aXRsZTogUyxcbiAgICB0cjogUyxcbiAgICB0cmFjazoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBsYWJlbDogbnVsbCwgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIGtpbmQ6IFtcInN1YnRpdGxlc1wiLCBcImNhcHRpb25zXCIsIFwiZGVzY3JpcHRpb25zXCIsIFwiY2hhcHRlcnNcIiwgXCJtZXRhZGF0YVwiXSxcbiAgICAgICAgICAgIHNyY2xhbmc6IG51bGxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdWw6IHsgY2hpbGRyZW46IFtcImxpXCIsIFwic2NyaXB0XCIsIFwidGVtcGxhdGVcIiwgXCJ1bFwiLCBcIm9sXCJdIH0sXG4gICAgdmFyOiBTLFxuICAgIHZpZGVvOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBzcmM6IG51bGwsIHBvc3RlcjogbnVsbCwgd2lkdGg6IG51bGwsIGhlaWdodDogbnVsbCxcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl0sXG4gICAgICAgICAgICBwcmVsb2FkOiBbXCJhdXRvXCIsIFwibWV0YWRhdGFcIiwgXCJub25lXCJdLFxuICAgICAgICAgICAgYXV0b3BsYXk6IFtcImF1dG9wbGF5XCJdLFxuICAgICAgICAgICAgbWVkaWFncm91cDogW1wibW92aWVcIl0sXG4gICAgICAgICAgICBtdXRlZDogW1wibXV0ZWRcIl0sXG4gICAgICAgICAgICBjb250cm9sczogW1wiY29udHJvbHNcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2JyOiBTXG59O1xuY29uc3QgR2xvYmFsQXR0cnMgPSB7XG4gICAgYWNjZXNza2V5OiBudWxsLFxuICAgIGNsYXNzOiBudWxsLFxuICAgIGNvbnRlbnRlZGl0YWJsZTogQm9vbCxcbiAgICBjb250ZXh0bWVudTogbnVsbCxcbiAgICBkaXI6IFtcImx0clwiLCBcInJ0bFwiLCBcImF1dG9cIl0sXG4gICAgZHJhZ2dhYmxlOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJhdXRvXCJdLFxuICAgIGRyb3B6b25lOiBbXCJjb3B5XCIsIFwibW92ZVwiLCBcImxpbmtcIiwgXCJzdHJpbmc6XCIsIFwiZmlsZTpcIl0sXG4gICAgaGlkZGVuOiBbXCJoaWRkZW5cIl0sXG4gICAgaWQ6IG51bGwsXG4gICAgaW5lcnQ6IFtcImluZXJ0XCJdLFxuICAgIGl0ZW1pZDogbnVsbCxcbiAgICBpdGVtcHJvcDogbnVsbCxcbiAgICBpdGVtcmVmOiBudWxsLFxuICAgIGl0ZW1zY29wZTogW1wiaXRlbXNjb3BlXCJdLFxuICAgIGl0ZW10eXBlOiBudWxsLFxuICAgIGxhbmc6IFtcImFyXCIsIFwiYm5cIiwgXCJkZVwiLCBcImVuLUdCXCIsIFwiZW4tVVNcIiwgXCJlc1wiLCBcImZyXCIsIFwiaGlcIiwgXCJpZFwiLCBcImphXCIsIFwicGFcIiwgXCJwdFwiLCBcInJ1XCIsIFwidHJcIiwgXCJ6aFwiXSxcbiAgICBzcGVsbGNoZWNrOiBCb29sLFxuICAgIGF1dG9jb3JyZWN0OiBCb29sLFxuICAgIGF1dG9jYXBpdGFsaXplOiBCb29sLFxuICAgIHN0eWxlOiBudWxsLFxuICAgIHRhYmluZGV4OiBudWxsLFxuICAgIHRpdGxlOiBudWxsLFxuICAgIHRyYW5zbGF0ZTogW1wieWVzXCIsIFwibm9cIl0sXG4gICAgcmVsOiBbXCJzdHlsZXNoZWV0XCIsIFwiYWx0ZXJuYXRlXCIsIFwiYXV0aG9yXCIsIFwiYm9va21hcmtcIiwgXCJoZWxwXCIsIFwibGljZW5zZVwiLCBcIm5leHRcIiwgXCJub2ZvbGxvd1wiLCBcIm5vcmVmZXJyZXJcIiwgXCJwcmVmZXRjaFwiLCBcInByZXZcIiwgXCJzZWFyY2hcIiwgXCJ0YWdcIl0sXG4gICAgcm9sZTogLypAX19QVVJFX18qL1wiYWxlcnQgYXBwbGljYXRpb24gYXJ0aWNsZSBiYW5uZXIgYnV0dG9uIGNlbGwgY2hlY2tib3ggY29tcGxlbWVudGFyeSBjb250ZW50aW5mbyBkaWFsb2cgZG9jdW1lbnQgZmVlZCBmaWd1cmUgZm9ybSBncmlkIGdyaWRjZWxsIGhlYWRpbmcgaW1nIGxpc3QgbGlzdGJveCBsaXN0aXRlbSBtYWluIG5hdmlnYXRpb24gcmVnaW9uIHJvdyByb3dncm91cCBzZWFyY2ggc3dpdGNoIHRhYiB0YWJsZSB0YWJwYW5lbCB0ZXh0Ym94IHRpbWVyXCIuc3BsaXQoXCIgXCIpLFxuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IG51bGwsXG4gICAgXCJhcmlhLWF0b21pY1wiOiBCb29sLFxuICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogW1wiaW5saW5lXCIsIFwibGlzdFwiLCBcImJvdGhcIiwgXCJub25lXCJdLFxuICAgIFwiYXJpYS1idXN5XCI6IEJvb2wsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IG51bGwsXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IG51bGwsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLWRyb3BlZmZlY3RcIjogbnVsbCxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwidW5kZWZpbmVkXCJdLFxuICAgIFwiYXJpYS1mbG93dG9cIjogbnVsbCxcbiAgICBcImFyaWEtZ3JhYmJlZFwiOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IEJvb2wsXG4gICAgXCJhcmlhLWhpZGRlblwiOiBCb29sLFxuICAgIFwiYXJpYS1pbnZhbGlkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcImdyYW1tYXJcIiwgXCJzcGVsbGluZ1wiXSxcbiAgICBcImFyaWEtbGFiZWxcIjogbnVsbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBudWxsLFxuICAgIFwiYXJpYS1sZXZlbFwiOiBudWxsLFxuICAgIFwiYXJpYS1saXZlXCI6IFtcIm9mZlwiLCBcInBvbGl0ZVwiLCBcImFzc2VydGl2ZVwiXSxcbiAgICBcImFyaWEtbXVsdGlsaW5lXCI6IEJvb2wsXG4gICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBCb29sLFxuICAgIFwiYXJpYS1vd25zXCI6IG51bGwsXG4gICAgXCJhcmlhLXBvc2luc2V0XCI6IG51bGwsXG4gICAgXCJhcmlhLXByZXNzZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLXJlYWRvbmx5XCI6IEJvb2wsXG4gICAgXCJhcmlhLXJlbGV2YW50XCI6IG51bGwsXG4gICAgXCJhcmlhLXJlcXVpcmVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLXNlbGVjdGVkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcInVuZGVmaW5lZFwiXSxcbiAgICBcImFyaWEtc2V0c2l6ZVwiOiBudWxsLFxuICAgIFwiYXJpYS1zb3J0XCI6IFtcImFzY2VuZGluZ1wiLCBcImRlc2NlbmRpbmdcIiwgXCJub25lXCIsIFwib3RoZXJcIl0sXG4gICAgXCJhcmlhLXZhbHVlbWF4XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbWluXCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbm93XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVldGV4dFwiOiBudWxsXG59O1xuY29uc3QgZXZlbnRBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qLyhcImJlZm9yZXVubG9hZCBjb3B5IGN1dCBkcmFnc3RhcnQgZHJhZ292ZXIgZHJhZ2xlYXZlIGRyYWdlbnRlciBkcmFnZW5kIFwiICtcbiAgICBcImRyYWcgcGFzdGUgZm9jdXMgYmx1ciBjaGFuZ2UgY2xpY2sgbG9hZCBtb3VzZWRvd24gbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcbiAgICBcIm1vdXNldXAga2V5ZG93biBrZXl1cCByZXNpemUgc2Nyb2xsIHVubG9hZFwiKS5zcGxpdChcIiBcIikubWFwKG4gPT4gXCJvblwiICsgbik7XG5mb3IgKGxldCBhIG9mIGV2ZW50QXR0cmlidXRlcylcbiAgICBHbG9iYWxBdHRyc1thXSA9IG51bGw7XG5jbGFzcyBTY2hlbWEge1xuICAgIGNvbnN0cnVjdG9yKGV4dHJhVGFncywgZXh0cmFBdHRycykge1xuICAgICAgICB0aGlzLnRhZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIFRhZ3MpLCBleHRyYVRhZ3MpO1xuICAgICAgICB0aGlzLmdsb2JhbEF0dHJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBHbG9iYWxBdHRycyksIGV4dHJhQXR0cnMpO1xuICAgICAgICB0aGlzLmFsbFRhZ3MgPSBPYmplY3Qua2V5cyh0aGlzLnRhZ3MpO1xuICAgICAgICB0aGlzLmdsb2JhbEF0dHJOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuZ2xvYmFsQXR0cnMpO1xuICAgIH1cbn1cblNjaGVtYS5kZWZhdWx0ID0gLypAX19QVVJFX18qL25ldyBTY2hlbWE7XG5mdW5jdGlvbiBlbGVtZW50TmFtZShkb2MsIHRyZWUsIG1heCA9IGRvYy5sZW5ndGgpIHtcbiAgICBpZiAoIXRyZWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGxldCB0YWcgPSB0cmVlLmZpcnN0Q2hpbGQ7XG4gICAgbGV0IG5hbWUgPSB0YWcgJiYgdGFnLmdldENoaWxkKFwiVGFnTmFtZVwiKTtcbiAgICByZXR1cm4gbmFtZSA/IGRvYy5zbGljZVN0cmluZyhuYW1lLmZyb20sIE1hdGgubWluKG5hbWUudG8sIG1heCkpIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUsIHNraXAgPSBmYWxzZSkge1xuICAgIGZvciAoOyB0cmVlOyB0cmVlID0gdHJlZS5wYXJlbnQpXG4gICAgICAgIGlmICh0cmVlLm5hbWUgPT0gXCJFbGVtZW50XCIpIHtcbiAgICAgICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJlZTtcbiAgICAgICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gYWxsb3dlZENoaWxkcmVuKGRvYywgdHJlZSwgc2NoZW1hKSB7XG4gICAgbGV0IHBhcmVudEluZm8gPSBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShkb2MsIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpKV07XG4gICAgcmV0dXJuIChwYXJlbnRJbmZvID09PSBudWxsIHx8IHBhcmVudEluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEluZm8uY2hpbGRyZW4pIHx8IHNjaGVtYS5hbGxUYWdzO1xufVxuZnVuY3Rpb24gb3BlblRhZ3MoZG9jLCB0cmVlKSB7XG4gICAgbGV0IG9wZW4gPSBbXTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKTsgcGFyZW50ICYmICFwYXJlbnQudHlwZS5pc1RvcDsgcGFyZW50ID0gZmluZFBhcmVudEVsZW1lbnQocGFyZW50LnBhcmVudCkpIHtcbiAgICAgICAgbGV0IHRhZ05hbWUgPSBlbGVtZW50TmFtZShkb2MsIHBhcmVudCk7XG4gICAgICAgIGlmICh0YWdOYW1lICYmIHBhcmVudC5sYXN0Q2hpbGQubmFtZSA9PSBcIkNsb3NlVGFnXCIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKHRhZ05hbWUgJiYgb3Blbi5pbmRleE9mKHRhZ05hbWUpIDwgMCAmJiAodHJlZS5uYW1lID09IFwiRW5kVGFnXCIgfHwgdHJlZS5mcm9tID49IHBhcmVudC5maXJzdENoaWxkLnRvKSlcbiAgICAgICAgICAgIG9wZW4ucHVzaCh0YWdOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wZW47XG59XG5jb25zdCBpZGVudGlmaWVyID0gL15bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC87XG5mdW5jdGlvbiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBmcm9tLCB0bykge1xuICAgIGxldCBlbmQgPSAvXFxzKj4vLnRlc3Qoc3RhdGUuc2xpY2VEb2ModG8sIHRvICsgNSkpID8gXCJcIiA6IFwiPlwiO1xuICAgIGxldCBwYXJlbnQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlLCB0cnVlKTtcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogYWxsb3dlZENoaWxkcmVuKHN0YXRlLmRvYywgcGFyZW50LCBzY2hlbWEpLm1hcCh0YWdOYW1lID0+ICh7IGxhYmVsOiB0YWdOYW1lLCB0eXBlOiBcInR5cGVcIiB9KSkuY29uY2F0KG9wZW5UYWdzKHN0YXRlLmRvYywgdHJlZSkubWFwKCh0YWcsIGkpID0+ICh7IGxhYmVsOiBcIi9cIiArIHRhZywgYXBwbHk6IFwiL1wiICsgdGFnICsgZW5kLFxuICAgICAgICAgICAgdHlwZTogXCJ0eXBlXCIsIGJvb3N0OiA5OSAtIGkgfSkpKSxcbiAgICAgICAgdmFsaWRGb3I6IC9eXFwvP1s6XFwtXFwuXFx3XFx1MDBiNy1cXHVmZmZmXSokLyB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVDbG9zZVRhZyhzdGF0ZSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZW5kID0gL1xccyo+Ly50ZXN0KHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDUpKSA/IFwiXCIgOiBcIj5cIjtcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogb3BlblRhZ3Moc3RhdGUuZG9jLCB0cmVlKS5tYXAoKHRhZywgaSkgPT4gKHsgbGFiZWw6IHRhZywgYXBwbHk6IHRhZyArIGVuZCwgdHlwZTogXCJ0eXBlXCIsIGJvb3N0OiA5OSAtIGkgfSkpLFxuICAgICAgICB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVTdGFydFRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MpIHtcbiAgICBsZXQgb3B0aW9ucyA9IFtdLCBsZXZlbCA9IDA7XG4gICAgZm9yIChsZXQgdGFnTmFtZSBvZiBhbGxvd2VkQ2hpbGRyZW4oc3RhdGUuZG9jLCB0cmVlLCBzY2hlbWEpKVxuICAgICAgICBvcHRpb25zLnB1c2goeyBsYWJlbDogXCI8XCIgKyB0YWdOYW1lLCB0eXBlOiBcInR5cGVcIiB9KTtcbiAgICBmb3IgKGxldCBvcGVuIG9mIG9wZW5UYWdzKHN0YXRlLmRvYywgdHJlZSkpXG4gICAgICAgIG9wdGlvbnMucHVzaCh7IGxhYmVsOiBcIjwvXCIgKyBvcGVuICsgXCI+XCIsIHR5cGU6IFwidHlwZVwiLCBib29zdDogOTkgLSBsZXZlbCsrIH0pO1xuICAgIHJldHVybiB7IGZyb206IHBvcywgdG86IHBvcywgb3B0aW9ucywgdmFsaWRGb3I6IC9ePFxcLz9bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC8gfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlQXR0ck5hbWUoc3RhdGUsIHNjaGVtYSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZWx0ID0gZmluZFBhcmVudEVsZW1lbnQodHJlZSksIGluZm8gPSBlbHQgPyBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGVsdCldIDogbnVsbDtcbiAgICBsZXQgbG9jYWxBdHRycyA9IGluZm8gJiYgaW5mby5hdHRycyA/IE9iamVjdC5rZXlzKGluZm8uYXR0cnMpIDogW107XG4gICAgbGV0IG5hbWVzID0gaW5mbyAmJiBpbmZvLmdsb2JhbEF0dHJzID09PSBmYWxzZSA/IGxvY2FsQXR0cnNcbiAgICAgICAgOiBsb2NhbEF0dHJzLmxlbmd0aCA/IGxvY2FsQXR0cnMuY29uY2F0KHNjaGVtYS5nbG9iYWxBdHRyTmFtZXMpIDogc2NoZW1hLmdsb2JhbEF0dHJOYW1lcztcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogbmFtZXMubWFwKGF0dHJOYW1lID0+ICh7IGxhYmVsOiBhdHRyTmFtZSwgdHlwZTogXCJwcm9wZXJ0eVwiIH0pKSxcbiAgICAgICAgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlQXR0clZhbHVlKHN0YXRlLCBzY2hlbWEsIHRyZWUsIGZyb20sIHRvKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBuYW1lTm9kZSA9IChfYSA9IHRyZWUucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q2hpbGQoXCJBdHRyaWJ1dGVOYW1lXCIpO1xuICAgIGxldCBvcHRpb25zID0gW10sIHRva2VuID0gdW5kZWZpbmVkO1xuICAgIGlmIChuYW1lTm9kZSkge1xuICAgICAgICBsZXQgYXR0ck5hbWUgPSBzdGF0ZS5zbGljZURvYyhuYW1lTm9kZS5mcm9tLCBuYW1lTm9kZS50byk7XG4gICAgICAgIGxldCBhdHRycyA9IHNjaGVtYS5nbG9iYWxBdHRyc1thdHRyTmFtZV07XG4gICAgICAgIGlmICghYXR0cnMpIHtcbiAgICAgICAgICAgIGxldCBlbHQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKSwgaW5mbyA9IGVsdCA/IHNjaGVtYS50YWdzW2VsZW1lbnROYW1lKHN0YXRlLmRvYywgZWx0KV0gOiBudWxsO1xuICAgICAgICAgICAgYXR0cnMgPSAoaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLmF0dHJzKSAmJiBpbmZvLmF0dHJzW2F0dHJOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgICAgIGxldCBiYXNlID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pLnRvTG93ZXJDYXNlKCksIHF1b3RlU3RhcnQgPSAnXCInLCBxdW90ZUVuZCA9ICdcIic7XG4gICAgICAgICAgICBpZiAoL15bJ1wiXS8udGVzdChiYXNlKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gYmFzZVswXSA9PSAnXCInID8gL15bXlwiXSokLyA6IC9eW14nXSokLztcbiAgICAgICAgICAgICAgICBxdW90ZVN0YXJ0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBxdW90ZUVuZCA9IHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDEpID09IGJhc2VbMF0gPyBcIlwiIDogYmFzZVswXTtcbiAgICAgICAgICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBmcm9tKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IC9eW15cXHM8Pj0nXCJdKiQvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgdmFsdWUgb2YgYXR0cnMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHsgbGFiZWw6IHZhbHVlLCBhcHBseTogcXVvdGVTdGFydCArIHZhbHVlICsgcXVvdGVFbmQsIHR5cGU6IFwiY29uc3RhbnRcIiB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBmcm9tLCB0bywgb3B0aW9ucywgdmFsaWRGb3I6IHRva2VuIH07XG59XG5mdW5jdGlvbiBodG1sQ29tcGxldGlvbkZvcihzY2hlbWEsIGNvbnRleHQpIHtcbiAgICBsZXQgeyBzdGF0ZSwgcG9zIH0gPSBjb250ZXh0LCB0cmVlID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKHBvcywgLTEpLCBhcm91bmQgPSB0cmVlLnJlc29sdmUocG9zKTtcbiAgICBmb3IgKGxldCBzY2FuID0gcG9zLCBiZWZvcmU7IGFyb3VuZCA9PSB0cmVlICYmIChiZWZvcmUgPSB0cmVlLmNoaWxkQmVmb3JlKHNjYW4pKTspIHtcbiAgICAgICAgbGV0IGxhc3QgPSBiZWZvcmUubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWxhc3QgfHwgIWxhc3QudHlwZS5pc0Vycm9yIHx8IGxhc3QuZnJvbSA8IGxhc3QudG8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgYXJvdW5kID0gdHJlZSA9IGJlZm9yZTtcbiAgICAgICAgc2NhbiA9IGxhc3QuZnJvbTtcbiAgICB9XG4gICAgaWYgKHRyZWUubmFtZSA9PSBcIlRhZ05hbWVcIikge1xuICAgICAgICByZXR1cm4gdHJlZS5wYXJlbnQgJiYgL0Nsb3NlVGFnJC8udGVzdCh0cmVlLnBhcmVudC5uYW1lKSA/IGNvbXBsZXRlQ2xvc2VUYWcoc3RhdGUsIHRyZWUsIHRyZWUuZnJvbSwgcG9zKVxuICAgICAgICAgICAgOiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLmZyb20sIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIlN0YXJ0VGFnXCIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlVGFnKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHBvcywgcG9zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHJlZS5uYW1lID09IFwiU3RhcnRDbG9zZVRhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZUNsb3NlVGFnKHN0YXRlLCB0cmVlLCBwb3MsIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIk9wZW5UYWdcIiB8fCB0cmVlLm5hbWUgPT0gXCJTZWxmQ2xvc2luZ1RhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkF0dHJpYnV0ZU5hbWVcIikge1xuICAgICAgICByZXR1cm4gY29tcGxldGVBdHRyTmFtZShzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVOYW1lXCIgPyB0cmVlLmZyb20gOiBwb3MsIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIklzXCIgfHwgdHJlZS5uYW1lID09IFwiQXR0cmlidXRlVmFsdWVcIiB8fCB0cmVlLm5hbWUgPT0gXCJVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlQXR0clZhbHVlKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHRyZWUubmFtZSA9PSBcIklzXCIgPyBwb3MgOiB0cmVlLmZyb20sIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQuZXhwbGljaXQgJiYgKGFyb3VuZC5uYW1lID09IFwiRWxlbWVudFwiIHx8IGFyb3VuZC5uYW1lID09IFwiVGV4dFwiIHx8IGFyb3VuZC5uYW1lID09IFwiRG9jdW1lbnRcIikpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlU3RhcnRUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgcG9zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuSFRNTCB0YWcgY29tcGxldGlvbi4gT3BlbnMgYW5kIGNsb3NlcyB0YWdzIGFuZCBhdHRyaWJ1dGVzIGluIGFcbmNvbnRleHQtYXdhcmUgd2F5LlxuKi9cbmZ1bmN0aW9uIGh0bWxDb21wbGV0aW9uU291cmNlKGNvbnRleHQpIHtcbiAgICByZXR1cm4gaHRtbENvbXBsZXRpb25Gb3IoU2NoZW1hLmRlZmF1bHQsIGNvbnRleHQpO1xufVxuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIHNvdXJjZSBmb3IgSFRNTCBleHRlbmRlZCB3aXRoIGFkZGl0aW9uYWwgdGFnc1xub3IgYXR0cmlidXRlcy5cbiovXG5mdW5jdGlvbiBodG1sQ29tcGxldGlvblNvdXJjZVdpdGgoY29uZmlnKSB7XG4gICAgbGV0IHsgZXh0cmFUYWdzLCBleHRyYUdsb2JhbEF0dHJpYnV0ZXM6IGV4dHJhQXR0cnMgfSA9IGNvbmZpZztcbiAgICBsZXQgc2NoZW1hID0gZXh0cmFBdHRycyB8fCBleHRyYVRhZ3MgPyBuZXcgU2NoZW1hKGV4dHJhVGFncywgZXh0cmFBdHRycykgOiBTY2hlbWEuZGVmYXVsdDtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IGh0bWxDb21wbGV0aW9uRm9yKHNjaGVtYSwgY29udGV4dCk7XG59XG5cbmNvbnN0IGpzb25QYXJzZXIgPSAvKkBfX1BVUkVfXyovamF2YXNjcmlwdExhbmd1YWdlLnBhcnNlci5jb25maWd1cmUoeyB0b3A6IFwiU2luZ2xlRXhwcmVzc2lvblwiIH0pO1xuY29uc3QgZGVmYXVsdE5lc3RpbmcgPSBbXG4gICAgeyB0YWc6IFwic2NyaXB0XCIsXG4gICAgICAgIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0XCIgfHwgYXR0cnMubGFuZyA9PSBcInRzXCIsXG4gICAgICAgIHBhcnNlcjogdHlwZXNjcmlwdExhbmd1YWdlLnBhcnNlciB9LFxuICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICBhdHRyczogYXR0cnMgPT4gYXR0cnMudHlwZSA9PSBcInRleHQvYmFiZWxcIiB8fCBhdHRycy50eXBlID09IFwidGV4dC9qc3hcIixcbiAgICAgICAgcGFyc2VyOiBqc3hMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICB7IHRhZzogXCJzY3JpcHRcIixcbiAgICAgICAgYXR0cnM6IGF0dHJzID0+IGF0dHJzLnR5cGUgPT0gXCJ0ZXh0L3R5cGVzY3JpcHQtanN4XCIsXG4gICAgICAgIHBhcnNlcjogdHN4TGFuZ3VhZ2UucGFyc2VyIH0sXG4gICAgeyB0YWc6IFwic2NyaXB0XCIsXG4gICAgICAgIGF0dHJzKGF0dHJzKSB7XG4gICAgICAgICAgICByZXR1cm4gL14oaW1wb3J0bWFwfHNwZWN1bGF0aW9ucnVsZXN8YXBwbGljYXRpb25cXC8oLitcXCspP2pzb24pJC9pLnRlc3QoYXR0cnMudHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjoganNvblBhcnNlciB9LFxuICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICBhdHRycyhhdHRycykge1xuICAgICAgICAgICAgcmV0dXJuICFhdHRycy50eXBlIHx8IC9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC8oPzp4LSk/KD86amF2YXxlY21hKXNjcmlwdCR8Xm1vZHVsZSR8XiQvaS50ZXN0KGF0dHJzLnR5cGUpO1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZXI6IGphdmFzY3JpcHRMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICB7IHRhZzogXCJzdHlsZVwiLFxuICAgICAgICBhdHRycyhhdHRycykge1xuICAgICAgICAgICAgcmV0dXJuICghYXR0cnMubGFuZyB8fCBhdHRycy5sYW5nID09IFwiY3NzXCIpICYmICghYXR0cnMudHlwZSB8fCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2kudGVzdChhdHRycy50eXBlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjogY3NzTGFuZ3VhZ2UucGFyc2VyIH1cbl07XG5jb25zdCBkZWZhdWx0QXR0cnMgPSAvKkBfX1BVUkVfXyovW1xuICAgIHsgbmFtZTogXCJzdHlsZVwiLFxuICAgICAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9jc3NMYW5ndWFnZS5wYXJzZXIuY29uZmlndXJlKHsgdG9wOiBcIlN0eWxlc1wiIH0pIH1cbl0uY29uY2F0KC8qQF9fUFVSRV9fKi9ldmVudEF0dHJpYnV0ZXMubWFwKG5hbWUgPT4gKHsgbmFtZSwgcGFyc2VyOiBqYXZhc2NyaXB0TGFuZ3VhZ2UucGFyc2VyIH0pKSk7XG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgYmFzZWQgb24gdGhlIFtMZXplciBIVE1MXG5wYXJzZXJdKGh0dHBzOi8vZ2l0aHViLmNvbS9sZXplci1wYXJzZXIvaHRtbCksIGV4dGVuZGVkIHdpdGggdGhlXG5KYXZhU2NyaXB0IGFuZCBDU1MgcGFyc2VycyB0byBwYXJzZSB0aGUgY29udGVudCBvZiBgPHNjcmlwdD5gIGFuZFxuYDxzdHlsZT5gIHRhZ3MuXG4qL1xuY29uc3QgaHRtbFBsYWluID0gLypAX19QVVJFX18qL0xSTGFuZ3VhZ2UuZGVmaW5lKHtcbiAgICBuYW1lOiBcImh0bWxcIixcbiAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIEVsZW1lbnQoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSAvXihcXHMqKSg8XFwvKT8vLmV4ZWMoY29udGV4dC50ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5ub2RlLnRvIDw9IGNvbnRleHQucG9zICsgYWZ0ZXJbMF0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubGluZUluZGVudChjb250ZXh0Lm5vZGUuZnJvbSkgKyAoYWZ0ZXJbMl0gPyAwIDogY29udGV4dC51bml0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiT3BlblRhZyBDbG9zZVRhZyBTZWxmQ2xvc2luZ1RhZ1wiKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29sdW1uKGNvbnRleHQubm9kZS5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIERvY3VtZW50KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQucG9zICsgL1xccyovLmV4ZWMoY29udGV4dC50ZXh0QWZ0ZXIpWzBdLmxlbmd0aCA8IGNvbnRleHQubm9kZS50bylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRFbHQgPSBudWxsLCBjbG9zZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY3VyID0gY29udGV4dC5ub2RlOzspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gY3VyLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFzdCB8fCBsYXN0Lm5hbWUgIT0gXCJFbGVtZW50XCIgfHwgbGFzdC50byAhPSBjdXIudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRFbHQgPSBjdXIgPSBsYXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRFbHQgJiYgISgoY2xvc2UgPSBlbmRFbHQubGFzdENoaWxkKSAmJiAoY2xvc2UubmFtZSA9PSBcIkNsb3NlVGFnXCIgfHwgY2xvc2UubmFtZSA9PSBcIlNlbGZDbG9zaW5nVGFnXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoZW5kRWx0LmZyb20pICsgY29udGV4dC51bml0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBFbGVtZW50KG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gbm9kZS5maXJzdENoaWxkLCBsYXN0ID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3QgfHwgZmlyc3QubmFtZSAhPSBcIk9wZW5UYWdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmcm9tOiBmaXJzdC50bywgdG86IGxhc3QubmFtZSA9PSBcIkNsb3NlVGFnXCIgPyBsYXN0LmZyb20gOiBub2RlLnRvIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovYnJhY2tldE1hdGNoaW5nSGFuZGxlLmFkZCh7XG4gICAgICAgICAgICAgICAgXCJPcGVuVGFnIENsb3NlVGFnXCI6IG5vZGUgPT4gbm9kZS5nZXRDaGlsZChcIlRhZ05hbWVcIilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcIjwhLS1cIiwgY2xvc2U6IFwiLS0+XCIgfSB9LFxuICAgICAgICBpbmRlbnRPbklucHV0OiAvXlxccyo8XFwvXFx3K1xcVyQvLFxuICAgICAgICB3b3JkQ2hhcnM6IFwiLS5fXCJcbiAgICB9XG59KTtcbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIEhUTUxcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9odG1sKSwgZXh0ZW5kZWQgd2l0aCB0aGVcbkphdmFTY3JpcHQgYW5kIENTUyBwYXJzZXJzIHRvIHBhcnNlIHRoZSBjb250ZW50IG9mIGA8c2NyaXB0PmAgYW5kXG5gPHN0eWxlPmAgdGFncy5cbiovXG5jb25zdCBodG1sTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovaHRtbFBsYWluLmNvbmZpZ3VyZSh7XG4gICAgd3JhcDogLypAX19QVVJFX18qL2NvbmZpZ3VyZU5lc3RpbmcoZGVmYXVsdE5lc3RpbmcsIGRlZmF1bHRBdHRycylcbn0pO1xuLyoqXG5MYW5ndWFnZSBzdXBwb3J0IGZvciBIVE1MLCBpbmNsdWRpbmdcbltgaHRtbENvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmctaHRtbC5odG1sQ29tcGxldGlvbikgYW5kIEphdmFTY3JpcHQgYW5kXG5DU1Mgc3VwcG9ydCBleHRlbnNpb25zLlxuKi9cbmZ1bmN0aW9uIGh0bWwoY29uZmlnID0ge30pIHtcbiAgICBsZXQgZGlhbGVjdCA9IFwiXCIsIHdyYXA7XG4gICAgaWYgKGNvbmZpZy5tYXRjaENsb3NpbmdUYWdzID09PSBmYWxzZSlcbiAgICAgICAgZGlhbGVjdCA9IFwibm9NYXRjaFwiO1xuICAgIGlmIChjb25maWcuc2VsZkNsb3NpbmdUYWdzID09PSB0cnVlKVxuICAgICAgICBkaWFsZWN0ID0gKGRpYWxlY3QgPyBkaWFsZWN0ICsgXCIgXCIgOiBcIlwiKSArIFwic2VsZkNsb3NpbmdcIjtcbiAgICBpZiAoY29uZmlnLm5lc3RlZExhbmd1YWdlcyAmJiBjb25maWcubmVzdGVkTGFuZ3VhZ2VzLmxlbmd0aCB8fFxuICAgICAgICBjb25maWcubmVzdGVkQXR0cmlidXRlcyAmJiBjb25maWcubmVzdGVkQXR0cmlidXRlcy5sZW5ndGgpXG4gICAgICAgIHdyYXAgPSBjb25maWd1cmVOZXN0aW5nKChjb25maWcubmVzdGVkTGFuZ3VhZ2VzIHx8IFtdKS5jb25jYXQoZGVmYXVsdE5lc3RpbmcpLCAoY29uZmlnLm5lc3RlZEF0dHJpYnV0ZXMgfHwgW10pLmNvbmNhdChkZWZhdWx0QXR0cnMpKTtcbiAgICBsZXQgbGFuZyA9IHdyYXAgPyBodG1sUGxhaW4uY29uZmlndXJlKHsgd3JhcCwgZGlhbGVjdCB9KSA6IGRpYWxlY3QgPyBodG1sTGFuZ3VhZ2UuY29uZmlndXJlKHsgZGlhbGVjdCB9KSA6IGh0bWxMYW5ndWFnZTtcbiAgICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChsYW5nLCBbXG4gICAgICAgIGh0bWxMYW5ndWFnZS5kYXRhLm9mKHsgYXV0b2NvbXBsZXRlOiBodG1sQ29tcGxldGlvblNvdXJjZVdpdGgoY29uZmlnKSB9KSxcbiAgICAgICAgY29uZmlnLmF1dG9DbG9zZVRhZ3MgIT09IGZhbHNlID8gYXV0b0Nsb3NlVGFncyA6IFtdLFxuICAgICAgICBqYXZhc2NyaXB0KCkuc3VwcG9ydCxcbiAgICAgICAgY3NzKCkuc3VwcG9ydFxuICAgIF0pO1xufVxuY29uc3Qgc2VsZkNsb3NlcnMgPSAvKkBfX1BVUkVfXyovbmV3IFNldCgvKkBfX1BVUkVfXyovXCJhcmVhIGJhc2UgYnIgY29sIGNvbW1hbmQgZW1iZWQgZnJhbWUgaHIgaW1nIGlucHV0IGtleWdlbiBsaW5rIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdiciBtZW51aXRlbVwiLnNwbGl0KFwiIFwiKSk7XG4vKipcbkV4dGVuc2lvbiB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBpbnNlcnQgY2xvc2UgdGFncyB3aGVuIGEgYD5gIG9yXG5gL2AgaXMgdHlwZWQuXG4qL1xuY29uc3QgYXV0b0Nsb3NlVGFncyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIHRleHQsIGluc2VydFRyYW5zYWN0aW9uKSA9PiB7XG4gICAgaWYgKHZpZXcuY29tcG9zaW5nIHx8IHZpZXcuc3RhdGUucmVhZE9ubHkgfHwgZnJvbSAhPSB0byB8fCAodGV4dCAhPSBcIj5cIiAmJiB0ZXh0ICE9IFwiL1wiKSB8fFxuICAgICAgICAhaHRtbExhbmd1YWdlLmlzQWN0aXZlQXQodmlldy5zdGF0ZSwgZnJvbSwgLTEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGJhc2UgPSBpbnNlcnRUcmFuc2FjdGlvbigpLCB7IHN0YXRlIH0gPSBiYXNlO1xuICAgIGxldCBjbG9zZVRhZ3MgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGxldCBkaWRUeXBlID0gc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHJhbmdlLmZyb20gLSAxLCByYW5nZS50bykgPT0gdGV4dDtcbiAgICAgICAgbGV0IHsgaGVhZCB9ID0gcmFuZ2UsIGFmdGVyID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKGhlYWQsIC0xKSwgbmFtZTtcbiAgICAgICAgaWYgKGRpZFR5cGUgJiYgdGV4dCA9PSBcIj5cIiAmJiBhZnRlci5uYW1lID09IFwiRW5kVGFnXCIpIHtcbiAgICAgICAgICAgIGxldCB0YWcgPSBhZnRlci5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoKChfYiA9IChfYSA9IHRhZy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgdGFnLnBhcmVudCwgaGVhZCkpICYmXG4gICAgICAgICAgICAgICAgIXNlbGZDbG9zZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGxldCB0byA9IGhlYWQgKyAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQsIGhlYWQgKyAxKSA9PT0gXCI+XCIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGA8LyR7bmFtZX0+YDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCB0bywgaW5zZXJ0IH0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWRUeXBlICYmIHRleHQgPT0gXCIvXCIgJiYgYWZ0ZXIubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgICAgICAgICBsZXQgdGFnID0gYWZ0ZXIucGFyZW50O1xuICAgICAgICAgICAgaWYgKGFmdGVyLmZyb20gPT0gaGVhZCAtIDIgJiYgKChfYyA9IHRhZy5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgdGFnLCBoZWFkKSkgJiYgIXNlbGZDbG9zZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGxldCB0byA9IGhlYWQgKyAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGhlYWQsIGhlYWQgKyAxKSA9PT0gXCI+XCIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGAke25hbWV9PmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIGluc2VydC5sZW5ndGgsIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiBoZWFkLCB0bywgaW5zZXJ0IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgfSk7XG4gICAgaWYgKGNsb3NlVGFncy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmlldy5kaXNwYXRjaChbXG4gICAgICAgIGJhc2UsXG4gICAgICAgIHN0YXRlLnVwZGF0ZShjbG9zZVRhZ3MsIHtcbiAgICAgICAgICAgIHVzZXJFdmVudDogXCJpbnB1dC5jb21wbGV0ZVwiLFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgfSlcbiAgICBdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG5leHBvcnQgeyBhdXRvQ2xvc2VUYWdzLCBodG1sLCBodG1sQ29tcGxldGlvblNvdXJjZSwgaHRtbENvbXBsZXRpb25Tb3VyY2VXaXRoLCBodG1sTGFuZ3VhZ2UsIGh0bWxQbGFpbiB9O1xuIiwgImltcG9ydCB7IExSUGFyc2VyIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG5jb25zdCBqc29uSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgU3RyaW5nOiB0YWdzLnN0cmluZyxcbiAgTnVtYmVyOiB0YWdzLm51bWJlcixcbiAgXCJUcnVlIEZhbHNlXCI6IHRhZ3MuYm9vbCxcbiAgUHJvcGVydHlOYW1lOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgTnVsbDogdGFncy5udWxsLFxuICBcIiwgOlwiOiB0YWdzLnNlcGFyYXRvcixcbiAgXCJbIF1cIjogdGFncy5zcXVhcmVCcmFja2V0LFxuICBcInsgfVwiOiB0YWdzLmJyYWNlXG59KTtcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiJGJPVlFQT09PT1FPJyNDYicjQ2JPblFQTycjQ2VPdlFQTycjQ2xPT1FPJyNDcicjQ3JRT1FQT09PT1FPJyNDZycjQ2dPfVFQTycjQ2ZPIVNRUE8nI0N0T09RTyw1OVAsNTlQTyFbUVBPLDU5UE8hYVFQTycjQ3VPT1FPLDU5Vyw1OVdPIWlRUE8sNTlXT1ZRUE8sNTlRT3FRUE8nI0NtTyFuUVBPLDU5YE9PUU8xRy5rMUcua09WUVBPJyNDbk8hdlFQTyw1OWFPT1FPMUcucjFHLnJPT1FPMUcubDFHLmxPT1FPLDU5WCw1OVhPT1FPLUU2ay1FNmtPT1FPLDU5WSw1OVlPT1FPLUU2bC1FNmxcIixcbiAgc3RhdGVEYXRhOiBcIiNPfk9lT1N+T1FTT1JTT1NTT1RTT1dRT19ST2dQT35PVlhPZ1VPfk9eW09+UFZPW15Pfk9dX09WaFh+T1ZhT35PXWJPXmlYfk9eZE9+T11fT1ZoYX5PXWJPXmlhfk9cIixcbiAgZ290bzogXCIha2pQUFBQUFBrUFBrcXdQUFBQa3shUlBQUCFYUCFlIWhYU09SXmJRV1FSZl9UVlFfUWBXUmdgUWNaUmljUVRPUVpSUWVeUmhiUllRUl1SXCIsXG4gIG5vZGVOYW1lczogXCJcdTI2QTAgSnNvblRleHQgVHJ1ZSBGYWxzZSBOdWxsIE51bWJlciBTdHJpbmcgfSB7IE9iamVjdCBQcm9wZXJ0eSBQcm9wZXJ0eU5hbWUgOiAsIF0gWyBBcnJheVwiLFxuICBtYXhUZXJtOiAyNSxcbiAgbm9kZVByb3BzOiBbXG4gICAgW1wiaXNvbGF0ZVwiLCAtMiw2LDExLFwiXCJdLFxuICAgIFtcIm9wZW5lZEJ5XCIsIDcsXCJ7XCIsMTQsXCJbXCJdLFxuICAgIFtcImNsb3NlZEJ5XCIsIDgsXCJ9XCIsMTUsXCJdXCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbanNvbkhpZ2hsaWdodGluZ10sXG4gIHNraXBwZWROb2RlczogWzBdLFxuICByZXBlYXROb2RlQ291bnQ6IDIsXG4gIHRva2VuRGF0YTogXCIofH5SYVhZIVdZWiFXXV4hV3BxIVdycyFdfH0kdX0hTyR6IVEhUiVUIVIhWyZjIVshXSZ0IX0jTyZ5I1AjUSdPI1kjWidUI2IjYydyI2gjaShaI28jcChyI3Ejcih3fiFdT2V+fiFgV3BxIV1xciFdcnMheHMjTyFdI08jUCF9I1A7J1MhXTsnUzs9YCRvPCVsTyFdfiF9T2d+fiNRWHJzIV0hUCFRIV0jTyNQIV0jVSNWIV0jWSNaIV0jYiNjIV0jZiNnIV0jaCNpIV0jaSNqI21+I3BSIVEhWyN5IWMhaSN5I1QjWiN5fiN8UiFRIVskViFjIWkkViNUI1okVn4kWVIhUSFbJGMhYyFpJGMjVCNaJGN+JGZSIVEhWyFdIWMhaSFdI1QjWiFdfiRyUDs9YDwlbCFdfiR6T11+fiR9USFRIVIlVCFSIVsmY34lWVJUfiFPIVAlYyFnIWgldyNYI1kld34lZlAhUSFbJWl+JW5SVH4hUSFbJWkhZyFoJXcjWCNZJXd+JXpSe3wmVH0hTyZUIVEhWyZafiZXUCFRIVsmWn4mYFBUfiFRIVsmWn4maFNUfiFPIVAlYyFRIVsmYyFnIWgldyNYI1kld34meU9bfn4nT09ffn4nVE9efn4nV1AjVCNVJ1p+J15QI2AjYSdhfidkUCNnI2gnZ34nalAjWCNZJ21+J3JPUn5+J3VQI2kjaid4fid7UCNgI2EoT34oUlAjYCNhKFV+KFpPU35+KF5QI2YjZyhhfihkUCNpI2ooZ34oalAjWCNZKG1+KHJPUX5+KHdPV35+KHxPVn5cIixcbiAgdG9rZW5pemVyczogWzBdLFxuICB0b3BSdWxlczoge1wiSnNvblRleHRcIjpbMCwxXX0sXG4gIHRva2VuUHJlYzogMFxufSk7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuIiwgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci9qc29uJztcbmltcG9ydCB7IExSTGFuZ3VhZ2UsIGluZGVudE5vZGVQcm9wLCBjb250aW51ZWRJbmRlbnQsIGZvbGROb2RlUHJvcCwgZm9sZEluc2lkZSwgTGFuZ3VhZ2VTdXBwb3J0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG4vKipcbkNhbGxzXG5bYEpTT04ucGFyc2VgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3BhcnNlKVxub24gdGhlIGRvY3VtZW50IGFuZCwgaWYgdGhhdCB0aHJvd3MgYW4gZXJyb3IsIHJlcG9ydHMgaXQgYXMgYVxuc2luZ2xlIGRpYWdub3N0aWMuXG4qL1xuY29uc3QganNvblBhcnNlTGludGVyID0gKCkgPT4gKHZpZXcpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBKU09OLnBhcnNlKHZpZXcuc3RhdGUuZG9jLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgY29uc3QgcG9zID0gZ2V0RXJyb3JQb3NpdGlvbihlLCB2aWV3LnN0YXRlLmRvYyk7XG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgIGZyb206IHBvcyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgdG86IHBvc1xuICAgICAgICAgICAgfV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn07XG5mdW5jdGlvbiBnZXRFcnJvclBvc2l0aW9uKGVycm9yLCBkb2MpIHtcbiAgICBsZXQgbTtcbiAgICBpZiAobSA9IGVycm9yLm1lc3NhZ2UubWF0Y2goL2F0IHBvc2l0aW9uIChcXGQrKS8pKVxuICAgICAgICByZXR1cm4gTWF0aC5taW4oK21bMV0sIGRvYy5sZW5ndGgpO1xuICAgIGlmIChtID0gZXJyb3IubWVzc2FnZS5tYXRjaCgvYXQgbGluZSAoXFxkKykgY29sdW1uIChcXGQrKS8pKVxuICAgICAgICByZXR1cm4gTWF0aC5taW4oZG9jLmxpbmUoK21bMV0pLmZyb20gKyAoK21bMl0pIC0gMSwgZG9jLmxlbmd0aCk7XG4gICAgcmV0dXJuIDA7XG59XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciB0aGF0IHByb3ZpZGVzIEpTT04gcGFyc2luZy5cbiovXG5jb25zdCBqc29uTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwianNvblwiLFxuICAgIHBhcnNlcjogLypAX19QVVJFX18qL3BhcnNlci5jb25maWd1cmUoe1xuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgLypAX19QVVJFX18qL2luZGVudE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgT2JqZWN0OiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KHsgZXhjZXB0OiAvXlxccypcXH0vIH0pLFxuICAgICAgICAgICAgICAgIEFycmF5OiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KHsgZXhjZXB0OiAvXlxccypcXF0vIH0pXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBcIk9iamVjdCBBcnJheVwiOiBmb2xkSW5zaWRlXG4gICAgICAgICAgICB9KVxuICAgICAgICBdXG4gICAgfSksXG4gICAgbGFuZ3VhZ2VEYXRhOiB7XG4gICAgICAgIGNsb3NlQnJhY2tldHM6IHsgYnJhY2tldHM6IFtcIltcIiwgXCJ7XCIsICdcIiddIH0sXG4gICAgICAgIGluZGVudE9uSW5wdXQ6IC9eXFxzKltcXH1cXF1dJC9cbiAgICB9XG59KTtcbi8qKlxuSlNPTiBsYW5ndWFnZSBzdXBwb3J0LlxuKi9cbmZ1bmN0aW9uIGpzb24oKSB7XG4gICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN1cHBvcnQoanNvbkxhbmd1YWdlKTtcbn1cblxuZXhwb3J0IHsganNvbiwganNvbkxhbmd1YWdlLCBqc29uUGFyc2VMaW50ZXIgfTtcbiIsICJpbXBvcnQgeyBFeHRlcm5hbFRva2VuaXplciwgTFJQYXJzZXIgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgY2FzdE9wZW4gPSAxLFxuICBIZXJlZG9jU3RyaW5nID0gMixcbiAgaW50ZXJwb2xhdGVkU3RyaW5nQ29udGVudCA9IDI2MyxcbiAgRXNjYXBlU2VxdWVuY2UgPSAzLFxuICBhZnRlckludGVycG9sYXRpb24gPSAyNjQsXG4gIGF1dG9tYXRpY1NlbWljb2xvbiA9IDI2NSxcbiAgZW9mID0gMjY2LFxuICBhYnN0cmFjdCA9IDQsXG4gIGFuZCA9IDUsXG4gIGFycmF5ID0gNixcbiAgYXMgPSA3LFxuICBCb29sZWFuID0gOCxcbiAgX2JyZWFrID0gOSxcbiAgX2Nhc2UgPSAxMCxcbiAgX2NhdGNoID0gMTEsXG4gIGNsb25lID0gMTIsXG4gIF9jb25zdCA9IDEzLFxuICBfY29udGludWUgPSAxNCxcbiAgX2RlZmF1bHQgPSAxNSxcbiAgZGVjbGFyZSA9IDE2LFxuICBfZG8gPSAxNyxcbiAgZWNobyA9IDE4LFxuICBfZWxzZSA9IDE5LFxuICBlbHNlaWYgPSAyMCxcbiAgZW5kZGVjbGFyZSA9IDIxLFxuICBlbmRmb3IgPSAyMixcbiAgZW5kZm9yZWFjaCA9IDIzLFxuICBlbmRpZiA9IDI0LFxuICBlbmRzd2l0Y2ggPSAyNSxcbiAgZW5kd2hpbGUgPSAyNixcbiAgX2VudW0gPSAyNyxcbiAgX2V4dGVuZHMgPSAyOCxcbiAgZmluYWwgPSAyOSxcbiAgX2ZpbmFsbHkgPSAzMCxcbiAgZm4gPSAzMSxcbiAgX2ZvciA9IDMyLFxuICBmb3JlYWNoID0gMzMsXG4gIGZyb20gPSAzNCxcbiAgX2Z1bmN0aW9uID0gMzUsXG4gIGdsb2JhbCA9IDM2LFxuICBnb3RvID0gMzcsXG4gIF9pZiA9IDM4LFxuICBfaW1wbGVtZW50cyA9IDM5LFxuICBpbmNsdWRlID0gNDAsXG4gIGluY2x1ZGVfb25jZSA9IDQxLFxuICBfaW5zdGFuY2VvZiA9IDQyLFxuICBpbnN0ZWFkb2YgPSA0MyxcbiAgX2ludGVyZmFjZSA9IDQ0LFxuICBsaXN0ID0gNDUsXG4gIG1hdGNoID0gNDYsXG4gIG5hbWVzcGFjZSA9IDQ3LFxuICBfbmV3ID0gNDgsXG4gIF9udWxsID0gNDksXG4gIG9yID0gNTAsXG4gIHByaW50ID0gNTEsXG4gIF9yZXF1aXJlID0gNTIsXG4gIHJlcXVpcmVfb25jZSA9IDUzLFxuICBfcmV0dXJuID0gNTQsXG4gIF9zd2l0Y2ggPSA1NSxcbiAgX3Rocm93ID0gNTYsXG4gIHRyYWl0ID0gNTcsXG4gIF90cnkgPSA1OCxcbiAgdW5zZXQgPSA1OSxcbiAgdXNlID0gNjAsXG4gIF92YXIgPSA2MSxcbiAgVmlzaWJpbGl0eSA9IDYyLFxuICBfd2hpbGUgPSA2MyxcbiAgeG9yID0gNjQsXG4gIF95aWVsZCA9IDY1O1xuXG5jb25zdCBrZXl3b3JkTWFwID0ge1xuICBhYnN0cmFjdCxcbiAgYW5kLFxuICBhcnJheSxcbiAgYXMsXG4gIHRydWU6IEJvb2xlYW4sXG4gIGZhbHNlOiBCb29sZWFuLFxuICBicmVhazogX2JyZWFrLFxuICBjYXNlOiBfY2FzZSxcbiAgY2F0Y2g6IF9jYXRjaCxcbiAgY2xvbmUsXG4gIGNvbnN0OiBfY29uc3QsXG4gIGNvbnRpbnVlOiBfY29udGludWUsXG4gIGRlY2xhcmUsXG4gIGRlZmF1bHQ6IF9kZWZhdWx0LFxuICBkbzogX2RvLFxuICBlY2hvLFxuICBlbHNlOiBfZWxzZSxcbiAgZWxzZWlmLFxuICBlbmRkZWNsYXJlLFxuICBlbmRmb3IsXG4gIGVuZGZvcmVhY2gsXG4gIGVuZGlmLFxuICBlbmRzd2l0Y2gsXG4gIGVuZHdoaWxlLFxuICBlbnVtOiBfZW51bSxcbiAgZXh0ZW5kczogX2V4dGVuZHMsXG4gIGZpbmFsLFxuICBmaW5hbGx5OiBfZmluYWxseSxcbiAgZm4sXG4gIGZvcjogX2ZvcixcbiAgZm9yZWFjaCxcbiAgZnJvbSxcbiAgZnVuY3Rpb246IF9mdW5jdGlvbixcbiAgZ2xvYmFsLFxuICBnb3RvLFxuICBpZjogX2lmLFxuICBpbXBsZW1lbnRzOiBfaW1wbGVtZW50cyxcbiAgaW5jbHVkZSxcbiAgaW5jbHVkZV9vbmNlLFxuICBpbnN0YW5jZW9mOiBfaW5zdGFuY2VvZixcbiAgaW5zdGVhZG9mLFxuICBpbnRlcmZhY2U6IF9pbnRlcmZhY2UsXG4gIGxpc3QsXG4gIG1hdGNoLFxuICBuYW1lc3BhY2UsXG4gIG5ldzogX25ldyxcbiAgbnVsbDogX251bGwsXG4gIG9yLFxuICBwcmludCxcbiAgcmVxdWlyZTogX3JlcXVpcmUsXG4gIHJlcXVpcmVfb25jZSxcbiAgcmV0dXJuOiBfcmV0dXJuLFxuICBzd2l0Y2g6IF9zd2l0Y2gsXG4gIHRocm93OiBfdGhyb3csXG4gIHRyYWl0LFxuICB0cnk6IF90cnksXG4gIHVuc2V0LFxuICB1c2UsXG4gIHZhcjogX3ZhcixcbiAgcHVibGljOiBWaXNpYmlsaXR5LFxuICBwcml2YXRlOiBWaXNpYmlsaXR5LFxuICBwcm90ZWN0ZWQ6IFZpc2liaWxpdHksXG4gIHdoaWxlOiBfd2hpbGUsXG4gIHhvcixcbiAgeWllbGQ6IF95aWVsZCxcbiAgX19wcm90b19fOiBudWxsLFxufTtcblxuZnVuY3Rpb24ga2V5d29yZHMobmFtZSkge1xuICBsZXQgZm91bmQgPSBrZXl3b3JkTWFwW25hbWUudG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBmb3VuZCA9PSBudWxsID8gLTEgOiBmb3VuZFxufVxuXG5mdW5jdGlvbiBpc1NwYWNlKGNoKSB7XG4gIHJldHVybiBjaCA9PSA5IHx8IGNoID09IDEwIHx8IGNoID09IDEzIHx8IGNoID09IDMyXG59XG5cbmZ1bmN0aW9uIGlzQVNDSUlMZXR0ZXIoY2gpIHtcbiAgcmV0dXJuIGNoID49IDk3ICYmIGNoIDw9IDEyMiB8fCBjaCA+PSA2NSAmJiBjaCA8PSA5MFxufVxuXG5mdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydChjaCkge1xuICByZXR1cm4gY2ggPT0gOTUgfHwgY2ggPj0gMHg4MCB8fCBpc0FTQ0lJTGV0dGVyKGNoKVxufVxuXG5mdW5jdGlvbiBpc0hleChjaCkge1xuICByZXR1cm4gY2ggPj0gNDggJiYgY2ggPD0gNTUgfHwgY2ggPj0gOTcgJiYgY2ggPD0gMTAyIHx8IGNoID49IDY1ICYmIGNoIDw9IDcwIC8qIDAtOSwgYS1mLCBBLUYgKi9cbn1cblxuY29uc3QgY2FzdFR5cGVzID0ge1xuICBpbnQ6IHRydWUsIGludGVnZXI6IHRydWUsIGJvb2w6IHRydWUsIGJvb2xlYW46IHRydWUsXG4gIGZsb2F0OiB0cnVlLCBkb3VibGU6IHRydWUsIHJlYWw6IHRydWUsIHN0cmluZzogdHJ1ZSxcbiAgYXJyYXk6IHRydWUsIG9iamVjdDogdHJ1ZSwgdW5zZXQ6IHRydWUsXG4gIF9fcHJvdG9fXzogbnVsbFxufTtcblxuY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ID09IDQwIC8qICcoJyAqLykge1xuICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICBsZXQgcGVlayA9IDA7XG4gICAgd2hpbGUgKGlzU3BhY2UoaW5wdXQucGVlayhwZWVrKSkpIHBlZWsrKztcbiAgICBsZXQgbmFtZSA9IFwiXCIsIG5leHQ7XG4gICAgd2hpbGUgKGlzQVNDSUlMZXR0ZXIobmV4dCA9IGlucHV0LnBlZWsocGVlaykpKSB7XG4gICAgICBuYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCk7XG4gICAgICBwZWVrKys7XG4gICAgfVxuICAgIHdoaWxlIChpc1NwYWNlKGlucHV0LnBlZWsocGVlaykpKSBwZWVrKys7XG4gICAgaWYgKGlucHV0LnBlZWsocGVlaykgPT0gNDEgLyogJyknICovICYmIGNhc3RUeXBlc1tuYW1lLnRvTG93ZXJDYXNlKCldKVxuICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oY2FzdE9wZW4pO1xuICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gNjAgLyogJzwnICovICYmIGlucHV0LnBlZWsoMSkgPT0gNjAgJiYgaW5wdXQucGVlaygyKSA9PSA2MCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSBpbnB1dC5hZHZhbmNlKCk7XG4gICAgd2hpbGUgKGlucHV0Lm5leHQgPT0gMzIgLyogJyAnICovIHx8IGlucHV0Lm5leHQgPT0gOSAvKiAnXFx0JyAqLykgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGxldCBxdW90ZWQgPSBpbnB1dC5uZXh0ID09IDM5OyAvKiBcIidcIiAqL1xuICAgIGlmIChxdW90ZWQpIGlucHV0LmFkdmFuY2UoKTtcbiAgICBpZiAoIWlzSWRlbnRpZmllclN0YXJ0KGlucHV0Lm5leHQpKSByZXR1cm5cbiAgICBsZXQgdGFnID0gU3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dC5uZXh0KTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICBpZiAoIWlzSWRlbnRpZmllclN0YXJ0KGlucHV0Lm5leHQpICYmICEoaW5wdXQubmV4dCA+PSA0OCAmJiBpbnB1dC5uZXh0IDw9IDU1KSAvKiAwLTkgKi8pIGJyZWFrXG4gICAgICB0YWcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dC5uZXh0KTtcbiAgICB9XG4gICAgaWYgKHF1b3RlZCkge1xuICAgICAgaWYgKGlucHV0Lm5leHQgIT0gMzkpIHJldHVyblxuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQubmV4dCAhPSAxMCAvKiAnXFxuJyAqLyAmJiBpbnB1dC5uZXh0ICE9IDEzIC8qICdcXHInICovKSByZXR1cm5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBsZXQgbGluZVN0YXJ0ID0gaW5wdXQubmV4dCA9PSAxMCB8fCBpbnB1dC5uZXh0ID09IDEzO1xuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgaWYgKGlucHV0Lm5leHQgPCAwKSByZXR1cm5cbiAgICAgIGlmIChsaW5lU3RhcnQpIHtcbiAgICAgICAgd2hpbGUgKGlucHV0Lm5leHQgPT0gMzIgLyogJyAnICovIHx8IGlucHV0Lm5leHQgPT0gOSAvKiAnXFx0JyAqLykgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICBsZXQgbWF0Y2ggPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChpbnB1dC5uZXh0ICE9IHRhZy5jaGFyQ29kZUF0KGkpKSB7IG1hdGNoID0gZmFsc2U7IGJyZWFrIH1cbiAgICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oSGVyZWRvY1N0cmluZylcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBlb2ZUb2tlbiA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGlmIChpbnB1dC5uZXh0IDwgMCkgaW5wdXQuYWNjZXB0VG9rZW4oZW9mKTtcbn0pO1xuXG5jb25zdCBzZW1pY29sb24gPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCA9PSA2MyAvKiAnPycgKi8gJiYgc3RhY2suY2FuU2hpZnQoYXV0b21hdGljU2VtaWNvbG9uKSAmJiBpbnB1dC5wZWVrKDEpID09IDYyIC8qICc+JyAqLylcbiAgICBpbnB1dC5hY2NlcHRUb2tlbihhdXRvbWF0aWNTZW1pY29sb24pO1xufSk7XG5cbmZ1bmN0aW9uIHNjYW5Fc2NhcGUoaW5wdXQpIHtcbiAgbGV0IGFmdGVyID0gaW5wdXQucGVlaygxKTtcbiAgaWYgKGFmdGVyID09IDExMCAvKiAnbicgKi8gfHwgYWZ0ZXIgPT0gMTE0IC8qICdyJyAqLyB8fCBhZnRlciA9PSAxMTYgLyogJ3QnICovIHx8XG4gICAgICBhZnRlciA9PSAxMTggLyogJ3YnICovIHx8IGFmdGVyID09IDEwMSAvKiAnZScgKi8gfHwgYWZ0ZXIgPT0gMTAyIC8qICdmJyAqLyB8fFxuICAgICAgYWZ0ZXIgPT0gOTIgLyogJ1xcXFwnICovIHx8IGFmdGVyID09IDM2IC8qICdcIicgKi8gfHwgYWZ0ZXIgPT0gMzQgLyogJyQnICovIHx8XG4gICAgICBhZnRlciA9PSAxMjMgLyogJ3snICovKVxuICAgIHJldHVybiAyXG5cbiAgaWYgKGFmdGVyID49IDQ4ICYmIGFmdGVyIDw9IDU1IC8qICcwJy0nNycgKi8pIHtcbiAgICBsZXQgc2l6ZSA9IDIsIG5leHQ7XG4gICAgd2hpbGUgKHNpemUgPCA1ICYmIChuZXh0ID0gaW5wdXQucGVlayhzaXplKSkgPj0gNDggJiYgbmV4dCA8PSA1NSkgc2l6ZSsrO1xuICAgIHJldHVybiBzaXplXG4gIH1cblxuICBpZiAoYWZ0ZXIgPT0gMTIwIC8qICd4JyAqLyAmJiBpc0hleChpbnB1dC5wZWVrKDIpKSkge1xuICAgIHJldHVybiBpc0hleChpbnB1dC5wZWVrKDMpKSA/IDQgOiAzXG4gIH1cblxuICBpZiAoYWZ0ZXIgPT0gMTE3IC8qICd1JyAqLyAmJiBpbnB1dC5wZWVrKDIpID09IDEyMyAvKiAneycgKi8pIHtcbiAgICBmb3IgKGxldCBzaXplID0gMzs7IHNpemUrKykge1xuICAgICAgbGV0IG5leHQgPSBpbnB1dC5wZWVrKHNpemUpO1xuICAgICAgaWYgKG5leHQgPT0gMTI1IC8qICd9JyAqLykgcmV0dXJuIHNpemUgPT0gMiA/IDAgOiBzaXplICsgMVxuICAgICAgaWYgKCFpc0hleChuZXh0KSkgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMFxufVxuXG5jb25zdCBpbnRlcnBvbGF0ZWQgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBsZXQgY29udGVudCA9IGZhbHNlO1xuICBmb3IgKDs7IGNvbnRlbnQgPSB0cnVlKSB7XG4gICAgaWYgKGlucHV0Lm5leHQgPT0gMzQgLyogJ1wiJyAqLyB8fCBpbnB1dC5uZXh0IDwgMCB8fFxuICAgICAgICBpbnB1dC5uZXh0ID09IDM2IC8qICckJyAqLyAmJiAoaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQucGVlaygxKSkgfHwgaW5wdXQucGVlaygxKSA9PSAxMjMgLyogJ3snICovKSB8fFxuICAgICAgICBpbnB1dC5uZXh0ID09IDEyMyAvKiAneycgKi8gJiYgaW5wdXQucGVlaygxKSA9PSAzNiAvKiAnJCcgKi8pIHtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIGlmIChpbnB1dC5uZXh0ID09IDkyIC8qICdcXFxcJyAqLykge1xuICAgICAgbGV0IGVzY2FwZWQgPSBzY2FuRXNjYXBlKGlucHV0KTtcbiAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgIGlmIChjb250ZW50KSBicmVha1xuICAgICAgICBlbHNlIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihFc2NhcGVTZXF1ZW5jZSwgZXNjYXBlZClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFjb250ZW50ICYmIChcbiAgICAgIGlucHV0Lm5leHQgPT0gOTEgLyogJ1snICovIHx8XG4gICAgICBpbnB1dC5uZXh0ID09IDQ1IC8qICctJyAqLyAmJiBpbnB1dC5wZWVrKDEpID09IDYyIC8qICc+JyAqLyAmJiBpc0lkZW50aWZpZXJTdGFydChpbnB1dC5wZWVrKDIpKSB8fFxuICAgICAgaW5wdXQubmV4dCA9PSA2MyAvKiAnPycgKi8gJiYgaW5wdXQucGVlaygxKSA9PSA0NSAmJiBpbnB1dC5wZWVrKDIpID09IDYyICYmIGlzSWRlbnRpZmllclN0YXJ0KGlucHV0LnBlZWsoMykpXG4gICAgKSAmJiBzdGFjay5jYW5TaGlmdChhZnRlckludGVycG9sYXRpb24pKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBpbnB1dC5hZHZhbmNlKCk7XG4gIH1cbiAgaWYgKGNvbnRlbnQpIGlucHV0LmFjY2VwdFRva2VuKGludGVycG9sYXRlZFN0cmluZ0NvbnRlbnQpO1xufSk7XG5cbmNvbnN0IHBocEhpZ2hsaWdodGluZyA9IHN0eWxlVGFncyh7XG4gIFwiVmlzaWJpbGl0eSBhYnN0cmFjdCBmaW5hbCBzdGF0aWNcIjogdGFncy5tb2RpZmllcixcbiAgXCJmb3IgZm9yZWFjaCB3aGlsZSBkbyBpZiBlbHNlIGVsc2VpZiBzd2l0Y2ggdHJ5IGNhdGNoIGZpbmFsbHkgcmV0dXJuIHRocm93IGJyZWFrIGNvbnRpbnVlIGRlZmF1bHQgY2FzZVwiOiB0YWdzLmNvbnRyb2xLZXl3b3JkLFxuICBcImVuZGlmIGVuZGZvciBlbmRmb3JlYWNoIGVuZHN3aXRjaCBlbmR3aGlsZSBkZWNsYXJlIGVuZGRlY2xhcmUgZ290byBtYXRjaFwiOiB0YWdzLmNvbnRyb2xLZXl3b3JkLFxuICBcImFuZCBvciB4b3IgeWllbGQgdW5zZXQgY2xvbmUgaW5zdGFuY2VvZiBpbnN0ZWFkb2ZcIjogdGFncy5vcGVyYXRvcktleXdvcmQsXG4gIFwiZnVuY3Rpb24gZm4gY2xhc3MgdHJhaXQgaW1wbGVtZW50cyBleHRlbmRzIGNvbnN0IGVudW0gZ2xvYmFsIGludGVyZmFjZSB1c2UgdmFyXCI6IHRhZ3MuZGVmaW5pdGlvbktleXdvcmQsXG4gIFwiaW5jbHVkZSBpbmNsdWRlX29uY2UgcmVxdWlyZSByZXF1aXJlX29uY2UgbmFtZXNwYWNlXCI6IHRhZ3MubW9kdWxlS2V5d29yZCxcbiAgXCJuZXcgZnJvbSBlY2hvIHByaW50IGFycmF5IGxpc3QgYXNcIjogdGFncy5rZXl3b3JkLFxuICBudWxsOiB0YWdzLm51bGwsXG4gIEJvb2xlYW46IHRhZ3MuYm9vbCxcbiAgVmFyaWFibGVOYW1lOiB0YWdzLnZhcmlhYmxlTmFtZSxcbiAgXCJOYW1lc3BhY2VOYW1lLy4uLlwiOiB0YWdzLm5hbWVzcGFjZSxcbiAgXCJOYW1lZFR5cGUvLi4uXCI6IHRhZ3MudHlwZU5hbWUsXG4gIE5hbWU6IHRhZ3MubmFtZSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9OYW1lXCI6IHRhZ3MuZnVuY3Rpb24odGFncy52YXJpYWJsZU5hbWUpLFxuICBcIkxhYmVsU3RhdGVtZW50L05hbWVcIjogdGFncy5sYWJlbE5hbWUsXG4gIFwiTWVtYmVyRXhwcmVzc2lvbi9OYW1lXCI6IHRhZ3MucHJvcGVydHlOYW1lLFxuICBcIk1lbWJlckV4cHJlc3Npb24vVmFyaWFibGVOYW1lXCI6IHRhZ3Muc3BlY2lhbCh0YWdzLnByb3BlcnR5TmFtZSksXG4gIFwiU2NvcGVkRXhwcmVzc2lvbi9DbGFzc01lbWJlck5hbWUvTmFtZVwiOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgXCJTY29wZWRFeHByZXNzaW9uL0NsYXNzTWVtYmVyTmFtZS9WYXJpYWJsZU5hbWVcIjogdGFncy5zcGVjaWFsKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9NZW1iZXJFeHByZXNzaW9uL05hbWVcIjogdGFncy5mdW5jdGlvbih0YWdzLnByb3BlcnR5TmFtZSksXG4gIFwiQ2FsbEV4cHJlc3Npb24vU2NvcGVkRXhwcmVzc2lvbi9DbGFzc01lbWJlck5hbWUvTmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJNZXRob2REZWNsYXJhdGlvbi9OYW1lXCI6IHRhZ3MuZnVuY3Rpb24odGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSksXG4gIFwiRnVuY3Rpb25EZWZpbml0aW9uL05hbWVcIjogdGFncy5mdW5jdGlvbih0YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpKSxcbiAgXCJDbGFzc0RlY2xhcmF0aW9uL05hbWVcIjogdGFncy5kZWZpbml0aW9uKHRhZ3MuY2xhc3NOYW1lKSxcbiAgVXBkYXRlT3A6IHRhZ3MudXBkYXRlT3BlcmF0b3IsXG4gIEFyaXRoT3A6IHRhZ3MuYXJpdGhtZXRpY09wZXJhdG9yLFxuICBMb2dpY09wOiB0YWdzLmxvZ2ljT3BlcmF0b3IsXG4gIEJpdE9wOiB0YWdzLmJpdHdpc2VPcGVyYXRvcixcbiAgQ29tcGFyZU9wOiB0YWdzLmNvbXBhcmVPcGVyYXRvcixcbiAgQ29udHJvbE9wOiB0YWdzLmNvbnRyb2xPcGVyYXRvcixcbiAgQXNzaWduT3A6IHRhZ3MuZGVmaW5pdGlvbk9wZXJhdG9yLFxuICBcIiQgQ29uY2F0T3BcIjogdGFncy5vcGVyYXRvcixcbiAgTGluZUNvbW1lbnQ6IHRhZ3MubGluZUNvbW1lbnQsXG4gIEJsb2NrQ29tbWVudDogdGFncy5ibG9ja0NvbW1lbnQsXG4gIEludGVnZXI6IHRhZ3MuaW50ZWdlcixcbiAgRmxvYXQ6IHRhZ3MuZmxvYXQsXG4gIFN0cmluZzogdGFncy5zdHJpbmcsXG4gIFNoZWxsRXhwcmVzc2lvbjogdGFncy5zcGVjaWFsKHRhZ3Muc3RyaW5nKSxcbiAgXCI9PiAtPlwiOiB0YWdzLnB1bmN0dWF0aW9uLFxuICBcIiggKVwiOiB0YWdzLnBhcmVuLFxuICBcIiNbIFsgXVwiOiB0YWdzLnNxdWFyZUJyYWNrZXQsXG4gIFwiJHsgeyB9XCI6IHRhZ3MuYnJhY2UsXG4gIFwiLT4gPy0+XCI6IHRhZ3MuZGVyZWZPcGVyYXRvcixcbiAgXCIsIDsgOjogOiBcXFxcXCI6IHRhZ3Muc2VwYXJhdG9yLFxuICBcIlBocE9wZW4gUGhwQ2xvc2VcIjogdGFncy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sXG59KTtcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBzcGVjX05hbWUgPSB7X19wcm90b19fOm51bGwsc3RhdGljOjMxMSwgU1RBVElDOjMxMSwgY2xhc3M6MzMzLCBDTEFTUzozMzN9O1xuY29uc3QgcGFyc2VyID0gTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIiRHU1FgT1dPT1FoUWFPT1Alb09gT09PT08jdCcjSF8nI0hfTyV0TyN8TycjRHRPT08jdScjRHcnI0R3USZTT1dPJyNEd08mWE8kVk9PT09RI3UnI0R4JyNEeE8mbFFhTycjRHxPKG1RZE8nI0V9Tyh0UWRPJyNFUU8qa1FhTycjRVdPLHpRYE8nI0VUTy1QUWBPJyNFXk8vblFhTycjRV5PL3VRYE8nI0VmTy96UWBPJyNFb08qa1FhTycjRW9PMFZRYE8nI0hoTzBbUWBPJyNFe08wW1FgTycjRXtPT1FTJyNJYycjSWNPMGFRYE8nI0V2T09RUycjSVonI0laTzJvUWRPJyNJV082dFFlTycjRlVPKmtRYU8nI0ZlTyprUWFPJyNGZk8qa1FhTycjRmdPKmtRYU8nI0ZoTyprUWFPJyNGaE8qa1FhTycjRmtPT1FPJyNJZCcjSWRPN1JRYE8nI0ZxT09RTycjSGknI0hpTzdaUWBPJyNIT083dVFgTycjRmxPOFFRYE8nI0hdTzhdUWBPJyNGdk84ZVFhTycjRndPKmtRYU8nI0dWTyprUWFPJyNHWU84fU9yTycjR11PT1FTJyNJcScjSXFPT1FTJyNJcCcjSXBPT1FTJyNJVycjSVdPLHpRYE8nI0dkTyx6UWBPJyNHZk8selFgTycjR2tPaFFhTycjR21POVVRYE8nI0duTzlaUWBPJyNHcU85YFFgTycjR3RPOWVRZU8nI0d1TzllUWVPJyNHdk85ZVFlTycjR3dPOW9RYE8nI0d4Tzl0UWBPJyNHek85eVFhTycjR3tPPFlRYE8nI0d8TzxfUWBPJyNHfU88ZFFgTycjR31POW9RYE8nI0hPTzxpUWBPJyNIUU88blFgTycjSFJPPHNRYE8nI0hTTzx4UWBPJyNIVk89VFFgTycjSFdPOXlRYU8nI0hbT09RI3UnI0lWJyNJVk9PUSN1JyNIYScjSGFRaFFhT09PPWZRYE8nI0hQTzdwUWBPJyNIUE89a08jfE8nI0RyUE9PTylDQ3cpQ0N3T09PI3QtRTtdLUU7XU9PTyN1LDU6Yyw1OmNPT08jdScjSGAnI0hgTyZYTyRWT09PPXZRJFZPJyNJVU9PT08nI0lVJyNJVVFPT09PT09PUSN5LDU6aCw1OmhPPX1RYU8sNTpoT09RI3UsNTpqLDU6ak9AZVFhTyw1Om1PQGxRYU8sNTtVTyprUWFPLDU7VU9Ac1FgTyw1O1ZPQ2JRYU8nI0VzT09RUyw1O14sNTteT0NpUWBPLDU7ak9PUVAnI0ZdJyNGXU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPT1EjdScjSW0nI0ltT09RUyw1PHEsNTxxT09RI3UsNTpsLDU6bE9FYlFgTyw1OnJPRWlRZE8nI0V9T0ZdUWBPJyNGbE9GZVFgTycjRmxPRm1RYE8sNTpvT0ZyUWFPJyNFX09PUVMsNTp4LDU6eE9IeVFgTycjSV1POXlRYU8nI0VhTzl5UWFPJyNJXU9PUVMnI0ldJyNJXU9JUVFgTycjSVtPSVlRYE8sNTp4Ty1VUWFPLDU6eE9JX1FhTycjRWdPT1FTLDU7USw1O1FPT1FTLDU7Wiw1O1pPSWlRYE8sNTtaT09RTyw1PlMsNT5TT0pbUWRPLDU7Z09PUU8tRTtmLUU7Zk9MXlFgTyw1O2dPTGNRcE8sNTtiTzBhUWBPJyNFeU9Ma1F0TycjRX1PT1FTJyNFeicjRXpPT1FTJyNJYicjSWJPTWBRYU8sNTp3TyprUWFPLDU7bk9PUVMsNTtwLDU7cE8qa1FhTyw1O3BPTWdRZE8sNTxQT013UWRPLDU8UU9OWFFkTyw1PFJPTmlRZE8sNTxTTyEhc1FkTyw1PFNPISF6UWRPLDU8Vk8hI1tRYE8nI0ZyTyEjZ1FgTycjSWdPISNvUWBPLDU8XU9PUU8tRTtnLUU7Z08hI3RRYE8nI0lvTzxfUWBPLDU9aU8hI3xRYE8sNT1pTzlvUWBPLDU9ak8hJFJRYE8sNT1uTyEkV1FgTyw1PWtPISRdUWBPLDU9a08hJGJRYE8nI0ZuTyEkeFFgTyw1PFdPISVUUWBPLDU8V08hJVdRYE8sNT9aTyElXVFgTyw1PFdPISVlUWBPLDU8Yk8hJW1RZE8nI0dQTyEle1FkTycjSW5PISZXUWRPLDU9d08hJmBRYE8sNTxiTyElV1FgTyw1PGJPISZoUWRPLDU8Y08hJnhRYE8sNTxjTyEnbFFkTyw1PHFPISluUWRPLDU8dE8hKk9Pck8nI0hzT09PUScjSXQnI0l0TyprUWFPJyNHYk9PT1EnI0hzJyNIc08hKnBPck8sNTx3T09RUyw1PHcsNTx3TyEqd1FhTyw1PU9PIStPUWBPLDU9UU8hK1dRZU8sNT1WTyErYlFgTyw1PVhPIStnUWFPJyNHb08hK1dRZU8sNT1ZTzl5UWFPJyNHck8hK1dRZU8sNT1dTyEmV1FkTyw1PWBPKHRRZE8sNT1hT09RI3UsNT1hLDU9YU8odFFkTyw1PWJPT1EjdSw1PWIsNT1iTyh0UWRPLDU9Y09PUSN1LDU9Yyw1PWNPIStuUWBPLDU9ZE8hK3ZRYE8sNT1mTyEre1FkTycjSXZPT1FTJyNJdicjSXZPISZXUWRPLDU9Z08+VVFhTyw1PWhPIS1lUWBPJyNGfU8hLWpRZE8nI0lsTyEmV1FkTyw1PWlPT1EjdSw1PWosNT1qTyEtdVFgTyw1PWxPIS14UWBPLDU9bU8hLX1RYE8sNT1uTyEuWVFkTyw1PXFPT1EjdSw1PXEsNT1xTyEuZVFgTyw1PXJPIS5lUWBPLDU9ck8hLm1RZE8nI0l3TyEue1FgTycjSFhPISZXUWRPLDU9ck8hL1pRYE8sNT1yTyEvZlFkTycjSVlPISZXUWRPLDU9dk9PUSN1LUU7Xy1FO19PITFSUWBPLDU9a09PTyN1LDU6Xiw1Ol5PITFeTyN8Tyw1Ol5PT08jdS1FO14tRTteT09PTyw1PnAsNT5wT09RI3kxRzBTMUcwU08hMWZRYE8xRzBYTyprUWFPMUcwWE8hMnhRYE8xRzBwT09RUzFHMHAxRzBwTyE0W1FgTzFHMHBPT1FTJyNJXycjSV9PKmtRYU8nI0lfT09RUzFHMHExRzBxTyE0Y1FgTycjSWFPITdsUWBPJyNFfU8hN3lRYU8nI0V1T09RTycjSWEnI0lhTyE4VFFgTycjSWBPIThdUWBPLDU7X09PUVMnI0ZRJyNGUU9PUVMxRzFVMUcxVU8hOGJRZE8xRzFdTyE6ZFFkTzFHMV1PITxQUWRPMUcxXU8hPWxRZE8xRzFdTyE/WFFkTzFHMV1PIUB0UWRPMUcxXU8hQmFRZE8xRzFdTyFDfFFkTzFHMV1PIUVpUWRPMUcxXU8hR1VRZE8xRzFdTyFIcVFkTzFHMV1PIUpeUWRPMUcxXU8hS3lRZE8xRzFdTyFNZlFkTzFHMV1PIyBSUWRPMUcxXU8jIW5RZE8xRzFdT09RVDFHMF4xRzBeTyElV1FgTyw1PFdPIyRaUWFPJyNFWE9PUVMxRzBaMUcwWk8jJGJRYE8sNTp5T0Z1UWFPLDU6eU8jJGdRYU8sNTp9TyMkblFkTyw1OntPIyZqUWRPLDU+d08jKGZRYU8nI0hkTyModlFgTyw1PnZPT1FTMUcwZDFHMGRPIylPUWBPMUcwZE8jKVRRYE8nI0leTyMqbVFgTycjSV5PIyp1UWBPLDU7Uk9JYlFhTyw1O1JPT1FTMUcwdTFHMHVQT1FPJyNFfScjRX1PIytmUWRPMUcxUk8wYVFgTycjSGdPIy1oUXRPLDU7Y08jLllRYU8xRzB8T09RUyw1O2UsNTtlTyMwaVF0Tyw1O2dPIzB2UWRPMUcwY08qa1FhTzFHMGNPIzJjUWRPMUcxWU8jNE9RZE8xRzFbT09RTyw1PF4sNTxeTyM0YFFgTycjSGpPIzRuUWBPLDU/Uk9PUU8xRzF3MUcxd08jNHZRYE8sNT9aTyEmV1FkTzFHM1RPPF9RYE8xRzNUT09RI3UxRzNVMUczVU8jNHtRYE8xRzNZTyExUlFgTzFHM1ZPIzVXUWBPMUczVk8jNV1RcE8nI0ZvTyM1a1FgTycjRm9PIzV7UWBPJyNGb08jNldRYE8nI0ZvTyM2YFFgTycjRnNPIzZlUWBPJyNGdE9PUU8nI0lmJyNJZk8jNmxRYE8nI0llTyM2dFFgTyw1PFlPT1FTMUcxcjFHMXJPMGFRYE8xRzFyTyM2eVFgTzFHMXJPIzdPUWBPMUcxck8hJVdRYE8xRzR1TyM3WlFkTzFHNHVPISVXUWBPMUcxck8jN2lRYE8xRzF8TyElV1FgTzFHMXxPOXlRYU8sNTxrTyM3cVFkTycjSHFPIzhQUWRPLDU/WU9PUSN1MUczYzFHM2NPKmtRYU8xRzF8TzBhUWBPMUcxfE8jOFtRZE8xRzF9TzdSUWBPJyNGeU83UlFgTycjRnpPIzpuUWBPJyNGe09PUVMxRzF9MUcxfU8hLXhRYE8xRzF9TyExVVFgTzFHMX1PITFSUWBPMUcxfU8jO2VPYE8sNTx4TyM7ak9gTyw1PHhPIzt1TyFiTyw1PHlPIzxUUWBPLDU8fE9PT1EtRTtxLUU7cU9PUVMxRzJjMUcyY08jPFtRYU8nI0dlTyM8dVEkVk8xRzJqTyNBdVFgTzFHMmpPI0JRUWBPJyNHZ08jQl1RYE8nI0dqT09RI3UxRzJsMUcybE8jQmhRYE8xRzJsT09RI3UnI0dsJyNHbE9PUSN1JyNJdScjSXVPT1EjdTFHMnExRzJxTyNCbVFgTzFHMnFPLHpRYE8xRzJzTyNCclFhTyw1PVpPI0J5UWBPLDU9Wk9PUSN1MUcydDFHMnRPI0NPUWBPMUcydE8jQ1RRYE8sNT1eT09RI3UxRzJ3MUcyd08jRGdRYE8xRzJ3T09RI3UxRzJ6MUcyek9PUSN1MUcyezFHMntPT1EjdTFHMnwxRzJ8T09RI3UxRzJ9MUcyfU8jRGxRYE8nI0h4TzlvUWBPJyNIeE8jRHFRJFZPMUczT08jSXdRYE8xRzNRTzl5UWFPJyNId08jSXxRZE8sNT1bT09RI3UxRzNSMUczUk8jSlhRYE8xRzNTTzl5UWFPLDU8aU8jSl5RZE8nI0hwTyNKbFFkTyw1P1dPT1EjdTFHM1QxRzNUT09RI3UxRzNXMUczV08hLXhRYE8xRzNXT09RI3UxRzNYMUczWE8jS2ZRYE8nI0hUT09RI3UxRzNZMUczWU8jS21RYE8xRzNZTzBhUWBPMUczWU9PUSN1MUczXTFHM11PISZXUWRPMUczXk8jS3JRYE8xRzNeTyNLelFkTycjSHpPI0xdUWRPLDU/Y08jTGhRYE8sNT9jTyNMbVFgTycjSFlPN1JRYE8nI0hZTyNMeFFgTycjSXhPI01RUWBPLDU9c09PUSN1MUczXjFHM15PIS5lUWBPMUczXk8hLmVRYE8xRzNeTyNNVlFlTycjSGJPI01nUWRPLDU+dE9PUSN1MUczYjFHM2JPT1EjdTFHM1YxRzNWTyEteFFgTzFHM1ZPITFVUWBPMUczVk9PTyN1MUcveDFHL3hPKmtRYU83KyVzTyNNdVFkTzcrJXNPT1FTNysmWzcrJltPJCBiUWBPLDU+eU8+VVFhTyw1O2BPJCBpUWBPLDU7YU8kI09RYU8nI0hmTyQjWVFgTyw1PnpPT1FTMUcweTFHMHlPJCNiUWBPJyNFWU8kI2dRYE8nI0lYTyQjb1FgTyw1OnNPT1FTMUcwZTFHMGVPJCN0UWBPMUcwZU8kI3lRYE8xRzBpTzl5UWFPMUcwaU9PUU8sNT5PLDU+T09PUU8tRTtiLUU7Yk9PUVM3KyZPNysmT08+VVFhTyw1O1NPJCVgUWFPJyNIZU8kJWpRYE8sNT54T09RUzFHMG0xRzBtTyQlclFgTzFHMG1PT1FTLDU+Uiw1PlJPT1FTLUU7ZS1FO2VPJCV3UWRPNysmaE8kJ3lRdE8xRzFSTyQoV1FkTzcrJX1PT1FTMUcwaTFHMGlPT1FPLDU+VSw1PlVPT1FPLUU7aC1FO2hPT1EjdTcrKG83KyhvTyEmV1FkTzcrKG9PT1EjdTcrKHQ3Kyh0TyNLbVFgTzcrKHRPMGFRYE83Kyh0T09RI3U3KyhxNysocU8hLXhRYE83KyhxTyExVVFgTzcrKHFPITFSUWBPNysocU8kKXNRYE8sNTxaTyQqT1FgTyw1PFpPJCpXUWBPLDU8X08kKl1RcE8sNTxaTz5VUWFPLDU8Wk9PUU8sNTxfLDU8X08kKmtRcE8sNTxgTyQqc1FgTyw1PGBPJCtPUWBPJyNIa08kK2lRYE8sNT9QT09RUzFHMXQxRzF0TyQrcVFwTzcrJ15PJCt5UWBPJyNGdU8kLFVRYE83KydeT09RUzcrJ143KydeTzBhUWBPNysnXk8jNnlRYE83KydeTyQsXlFkTzcrKmFPMGFRYE83KyphTyQsbFFgTzcrJ15PKmtRYU83KydoTzBhUWBPNysnaE8kLHdRYE83KydoTyQtUFFkTzFHMlZPT1FTLDU+XSw1Pl1PT1FTLUU7by1FO29PJC5pUWRPNysnaE8kLnlRcE83KydoTyQvUlFkTycjSWlPT1FPLDU8ZSw1PGVPT1FPLDU8Ziw1PGZPJC9kUXBPJyNHT08kL2xRYE8nI0dPT09RTycjSWsnI0lrT09RTycjSG8nI0hvTyQwXVFgTycjR09PPF9RYE8nI0Z8TyEmV1FkTycjR09PIS5ZUWRPJyNHUU83UlFgTycjR1JPT1FPJyNJaicjSWpPT1FPJyNIbicjSG5PJDB5UWBPLDU8Z09PUSN5LDU8Zyw1PGdPT1FTNysnaTcrJ2lPIS14UWBPNysnaU8hMVVRYE83KydpT09PUTFHMmQxRzJkTyQxcE9gTzFHMmRPJDF1TyFiTzFHMmVPJDJUT2BPJyNHYE8kMllPYE8xRzJlT09PUTFHMmgxRzJoTyQyX1FhTyw1PVBPLHpRYE8nI0h0TyQyeFEkVk83KyhVT2hRYU83KyhVTyx6UWBPJyNIdU8kN3hRYE83KyhVTyEmV1FkTzcrKFVPJDhUUWBPNysoVU8kOFlRYU8nI0doTyQ6aVFgTycjR2lPT1FPJyNIdicjSHZPJDpxUWBPLDU9Uk9PUSN1LDU9Uiw1PVJPJDp8UWBPLDU9VU8hJldRZE83KyhXTyEmV1FkTzcrKF1PISZXUWRPNysoX08kO1hRYU8xRzJ1TyQ7YFFgTzFHMnVPJDtlUWFPMUcydU8hJldRZE83KyhgTzl5UWFPMUcyeE8hJldRZE83KyhjTzBhUWBPJyNHeU85b1FgTyw1PmRPT1EjdSw1PmQsNT5kT09RI3UtRTt2LUU7dk8kO2xRYU83KyhsTyQ8VFFkTyw1PmNPT1FTLUU7dS1FO3VPISZXUWRPNysobk8kPW1RZE8xRzJUT09RUyw1PlssNT5bT09RUy1FO24tRTtuT09RI3U3KyhyNysock8kP25RYE8nI0dRTyQ/dVFgTycjR1FPJEBaUWBPJyNIVU9PUU8nI0h5JyNIeU8kQGBRYE8sNT1vT09RI3UsNT1vLDU9b08kQGdRcE83Kyh0T09RI3U3Kyh4NysoeE8hJldRZE83Kyh4TyRAclFkTyw1PmZPT1FTLUU7eC1FO3hPJEFRUWRPMUc0fU8kQV1RYE8sNT10TyRBYlFgTyw1PXRPJEFtUWBPJyNIe08kQlJRYE8sNT9kT09RUzFHM18xRzNfTyNLclFgTzcrKHhPJEJaUWRPLDU9fE9PUVMtRTtgLUU7YE8kQ3ZRZE88PElfT09RUzFHNGUxRzRlTyRFY1FgTzFHMHpPT1FPLDU+USw1PlFPT1FPLUU7ZC1FO2RPJDhZUWFPLDU6dE8kRnhRYU8nI0hjTyRHVlFgTyw1PnNPT1FTMUcwXzFHMF9PT1FTNysmUDcrJlBPJEdfUWBPNysmVE8kSHRRYE8xRzBuTyRKWlFgTyw1PlBPT1FPLDU+UCw1PlBPT1FPLUU7Yy1FO2NPT1FTNysmWDcrJlhPT1FTNysmVDcrJlRPT1EjdTw8TFo8PExaT09RI3U8PExgPDxMYE8kQGdRcE88PExgT09RI3U8PExdPDxMXU8hLXhRYE88PExdTyExVVFgTzw8TF1PPlVRYU8xRzF1TyRLc1FgTzFHMXVPJExPUWBPMUcxeU9PUU8xRzF5MUcxeU8kTFRRYE8xRzF1TyRMXVFgTzFHMXVPJE1yUWBPMUcxek8+VVFhTzFHMXpPT1FPLDU+Viw1PlZPT1FPLUU7aS1FO2lPT1FTPDxKeDw8SnhPJE19UWBPJyNJaE8kTlZRYE8nI0loTyROW1FgTyw1PGFPMGFRYE88PEp4TyQrcVFwTzw8SnhPJE5hUWBPPDxKeE8wYVFgTzw8TXtPJE5pUXRPPDxNe08jNnlRYE88PEp4TyROd1FkTzw8S1NPJSBYUXBPPDxLU08qa1FhTzw8S1NPMGFRYE88PEtTTyUgYVFkTycjSG1PJSB4UWRPLDU/VE8hJldRZE8sNTxqTyQvZFFwTyw1PGpPJSFaUWBPLDU8ak88X1FgTyw1PGhPIS5ZUWRPLDU8bE9PUU8tRTttLUU7bU8hJldRZE8sNTxoT09RTyw1PGosNTxqT09RTyw1PGwsNTxsTyUhdFFkTyw1PG1PT1FPLUU7bC1FO2xPT1EjeTFHMlIxRzJST09RUzw8S1Q8PEtUTyEteFFgTzw8S1RPT09RNysoTzcrKE9PJSNQT2BPNysoUE9PT08sNTx6LDU8ek9PT1E3KyhQNysoUE9oUWFPLDU+YE9PUSN1LUU7ci1FO3JPaFFhTzw8S3BPT1EjdTw8S3A8PEtwTyQ4VFFgTyw1PmFPT1FPLUU7cy1FO3NPISZXUWRPPDxLcE8kOFRRYE88PEtwTyUjVVFgTzw8S3BPJSNaUWBPLDU9U08lJHBRYU8sNT1UT09RTy1FO3QtRTt0T09RI3UxRzJtMUcybU9PUSN1PDxLcjw8S3JPT1EjdTw8S3c8PEt3T09RI3U8PEt5PDxLeU9PUVQ3KyhhNysoYU8lJVFRYE83KyhhTyUlVlFhTzcrKGFPJSVeUWBPNysoYU9PUSN1PDxLejw8S3pPJSVjUWBPNysoZE8lJnhRYE83KyhkT09RI3U8PEt9PDxLfU8lJn1RcE8sNT1lT09RI3UxRzRPMUc0T08lJ1lRYE88PExXT09RI3U8PExZPDxMWU8kP3VRYE8sNTxsTyUnX1FgTyw1PXBPJSdkUWRPLDU9cE9PUU8tRTt3LUU7d09PUSN1MUczWjFHM1pPI0ttUWBPPDxMYE9PUSN1PDxMZDw8TGRPJSdvUWBPMUc0UU8lJ3RRZE83KyppT09RTzFHM2AxRzNgTyUoUFFgTzFHM2BPJShVUWBPJyNIWk83UlFgTycjSFpPT1FPLDU+Zyw1PmdPT1FPLUU7eS1FO3lPISZXUWRPPDxMZE8lKGFRYE8xRzBgT09RTyw1PX0sNT19T09RTy1FO2EtRTthTz5VUWFPLDU7VE9PUSN1QU5BekFOQXpPI0ttUWBPQU5Bek9PUSN1QU5Bd0FOQXdPIS14UWBPQU5Bd08lKXZRYE83KydhTz5VUWFPNysnYU9PUU83KydlNysnZU8lK11RYE83KydhTyUraFFgTzcrJ2VPPlVRYU83KydmTyUrbVFgTzcrJ2ZPJS1TUWBPJyNIbE8lLWJRYE8sNT9TTyUtYlFgTyw1P1NPT1FPMUcxezFHMXtPJCtxUXBPQU5AZE9PUVNBTkBkQU5AZE8wYVFgT0FOQGRPJS1qUXRPQU5DZ08lLXhRYE9BTkBkTyprUWFPQU5Abk8lLlFRZE9BTkBuTyUuYlFwT0FOQG5PT1FTLDU+WCw1PlhPT1FTLUU7ay1FO2tPT1FPMUcyVTFHMlVPISZXUWRPMUcyVU8kL2RRcE8xRzJVTzxfUWBPMUcyU08hLllRZE8xRzJXTyEmV1FkTzFHMlNPT1FPMUcyVzFHMldPT1FPMUcyUzFHMlNPJS5qUWFPJyNHU09PUU8xRzJYMUcyWE9PUVNBTkBvQU5Ab09PT1E8PEtrPDxLa09PUSN1MUczejFHM3pPT1EjdUFOQVtBTkFbT09RTzFHM3sxRzN7TyUwaVFgT0FOQVtPISZXUWRPQU5BW08lMG5RYU8xRzJuTyUxT1FhTzFHMm9PT1FUPDxLezw8S3tPJTFgUWBPPDxLe08lMWVRYU88PEt7TyprUWFPLDU9X09PUVQ8PExPPDxMT09PUU8xRzNQMUczUE8lMWxRYE8xRzNQTyErV1FlT0FOQXJPJTFxUWRPMUczW09PUU8xRzNbMUczW08lMXxRYE8xRzNbT09RUzcrKWw3KylsT09RTzcrKHo3Kyh6TyUyVVFgTyw1PXVPJTJaUWBPLDU9dU9PUSN1QU5CT0FOQk9PJTJmUWBPMUcwb09PUSN1RzI3ZkcyN2ZPT1EjdUcyN2NHMjdjTyUze1FgTzw8SntPPlVRYU88PEp7T09RTzw8S1A8PEtQTyU1YlFgTzw8S1FPT1FPLDU+Vyw1PldPJTZ3UWBPLDU+V09PUU8tRTtqLUU7ak8lNnxRYE8xRzRuT09RU0cyNk9HMjZPTyQrcVFwT0cyNk9PMGFRYE9HMjZPTyU3VVFkT0cyNllPKmtRYU9HMjZZT09RTzcrJ3A3KydwTyEmV1FkTzcrJ3BPISZXUWRPNysnbk9PUU83KydyNysnck9PUU83KyduNysnbk8lN2ZRYE9MRCt0TyU4dVFgTycjRX1PJTlQUWBPJyNJWk8hJldRZE8nI0hyTyU6fFFhTyw1PG5PT1FPLDU8biw1PG5PISZXUWRPRzI2dk9PUSN1RzI2dkcyNnZPJTx7UWFPNysoWU9PUVRBTkFnQU5BZ08lPV1RYE9BTkFnTyU9YlFgTzFHMnlPT1FPNysoazcrKGtPT1EjdUcyN15HMjdeTyU9aVFgT0cyN15PT1FPNysodjcrKHZPJT1uUWBPNysodk8hJldRZE83Kyh2T09RTzFHM2ExRzNhTyU9dlFgTzFHM2FPJT17UWBPQU5AZ09PUU8xRzNyMUczck9PUVNMRCtqTEQrak8kK3FRcE9MRCtqTyU/YlFkT0xEK3RPT1FPPDxLWzw8S1tPT1FPPDxLWTw8S1lPJT9yUWBPLDU8b08lP3dRYE8sNTxwT09RUCw1Pl4sNT5eT09RUC1FO3AtRTtwT09RTzFHMlkxRzJZT09RI3VMRCxiTEQsYk9PUVRHMjdSRzI3Uk8hJldRZE9MRCx4TyEmV1FkTzw8TGJPT1FPPDxMYjw8TGJPT1FPNysoezcrKHtPT1FTISQoIFUhJCggVU9PUVMxRzJaMUcyWk9PUVMxRzJbMUcyW08lQFBRZE8xRzJbT09RI3UhJCghZCEkKCFkT09RT0FOQXxBTkF8T09RUzcrJ3Y3Kyd2TyVAW1FgTycjRXtPJUBbUWBPJyNFe08lQGFRYE8sNTtnTyVAZlFkTyw1PGNPJUJiUWFPLDU6fU8qa1FhTzFHMGlPJUJpUWFPJyNGd08jLllRYU8nI0dWTyMuWVFhTycjR1lPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8lQnBRZE8nI0ldTyVEYFFkTycjSV1PIy5ZUWFPJyNFYU8jLllRYU8nI0ldTyVGYlFhTyw1OndPIy5ZUWFPLDU7bk8jLllRYU8sNTtwTyVGaVFkTyw1PFBPJUhlUWRPLDU8UU8lSmFRZE8sNTxSTyVMXVFkTyw1PFNPJU5YUWRPLDU8U08lTm9RZE8sNTxWTyYha1FkTyw1PHRPIy5ZUWFPMUcwWE8mJGdRZE8xRzFdTyYmY1FkTzFHMV1PJihfUWRPMUcxXU8mKlpRZE8xRzFdTyYsVlFkTzFHMV1PJi5SUWRPMUcxXU8mL31RZE8xRzFdTyYxeVFkTzFHMV1PJjN1UWRPMUcxXU8mNXFRZE8xRzFdTyY3bVFkTzFHMV1PJjlpUWRPMUcxXU8mO2VRZE8xRzFdTyY9YVFkTzFHMV1PJj9dUWRPMUcxXU8mQVhRZE8sNTp7TyZDVFFkTyw1PndPJkVQUWRPMUcwY08jLllRYU8xRzBjTyZGe1FkTzFHMVlPJkh3UWRPMUcxW08jLllRYU8xRzF8TyMuWVFhTzcrJXNPJkpzUWRPNyslc08mTG9RZE83KyV9TyMuWVFhTzcrJ2hPJk5rUWRPNysnaE8nIWdRZE88PElfTyckY1FkTzw8S1NPIy5ZUWFPPDxLU08jLllRYU9BTkBuTycmX1FkT0FOQG5PJyhaUWRPRzI2WU8jLllRYU9HMjZZTycqVlFkT0xEK3RPJyxSUWFPLDU6fU8nLlFRYU8xRzBpTycvfFFkTycjSVdPJzBhUWVPJyNGVU8nNGFRZU8nI0ZVTyMuWVFhTycjRmVPJy5RUWFPJyNGZU8jLllRYU8nI0ZmTycuUVFhTycjRmZPIy5ZUWFPJyNGZ08nLlFRYU8nI0ZnTyMuWVFhTycjRmhPJy5RUWFPJyNGaE8jLllRYU8nI0ZoTycuUVFhTycjRmhPIy5ZUWFPJyNGa08nLlFRYU8nI0ZrTyc4Z1FhTyw1Om1PJzhuUWBPLDU8Yk8nOHZRYE8xRzBYTycuUVFhTzFHMHxPJzpZUWBPMUcxfE8nOmJRYE83KydoTyc6alFwTzcrJ2hPJzpyUXBPPDxLU08nOnpRcE9BTkBuTyc7U1FhTycjRndPJy5RUWFPJyNHVk8nLlFRYU8nI0dZTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPJyNFYU8nLlFRYU8nI0ldTyc9UlFhTyw1OndPJy5RUWFPLDU7bk8nLlFRYU8sNTtwTyc/UVFkTyw1PFBPJ0FTUWRPLDU8UU8nQ1VRZE8sNTxSTydFV1FkTyw1PFNPJ0dZUWRPLDU8U08nR3ZRZE8sNTxWTydJeFFkTyw1PHRPJy5RUWFPMUcwWE8nS3pRZE8xRzFdTydNfFFkTzFHMV1PKCFPUWRPMUcxXU8oJFFRZE8xRzFdTygmU1FkTzFHMV1PKChVUWRPMUcxXU8oKldRZE8xRzFdTygsWVFkTzFHMV1PKC5bUWRPMUcxXU8oMF5RZE8xRzFdTygyYFFkTzFHMV1PKDRiUWRPMUcxXU8oNmRRZE8xRzFdTyg4ZlFkTzFHMV1PKDpoUWRPMUcxXU8oPGpRZE8sNTp7Tyg+bFFkTyw1PndPKEBuUWRPMUcwY08nLlFRYU8xRzBjTyhCcFFkTzFHMVlPKERyUWRPMUcxW08nLlFRYU8xRzF8TycuUVFhTzcrJXNPKEZ0UWRPNyslc08oSHZRZE83KyV9TycuUVFhTzcrJ2hPKEp4UWRPNysnaE8oTHpRZE88PElfTyhOfFFkTzw8S1NPJy5RUWFPPDxLU08nLlFRYU9BTkBuTykjT1FkT0FOQG5PKSVRUWRPRzI2WU8nLlFRYU9HMjZZTyknU1FkT0xEK3RPKSlVUWFPLDU6fU8jLllRYU8xRzBpTykpXVFgTycjRnZPKSllUXBPLDU7Yk8pKW1RYE8sNTxiTyElV1FgTyw1PGJPISVXUWBPMUcxfE8wYVFgTzFHMXxPMGFRYE83KydoTzBhUWBPPDxLU08pKXVRZE8sNTxjTykrd1FkTycjSV1PKS12UWRPJyNJV08pLmFRYU8sNTptTykuaFFgTyw1PGJPKS5wUWBPMUcwWE8pMFNRYE8xRzF8TykwW1FgTzcrJ2hPKTBkUXBPNysnaE8pMGxRcE88PEtTTykwdFFwT0FOQG5PMGFRYE8nI0V2Tzl5UWFPJyNGZU85eVFhTycjRmZPOXlRYU8nI0ZnTzl5UWFPJyNGaE85eVFhTycjRmhPOXlRYU8nI0ZrTykwfFFhTycjRndPOXlRYU8nI0dWTzl5UWFPJyNHWU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPKTFUUWBPJyNGbE8qa1FhTycjRWFPKmtRYU8nI0ldTykxXVFhTyw1OndPOXlRYU8sNTtuTzl5UWFPLDU7cE8pMWRRZE8sNTxQTykzYFFkTyw1PFFPKTVbUWRPLDU8Uk8pN1dRZE8sNTxTTyk5U1FkTyw1PFNPKTlqUWRPLDU8Vk8pO2ZRZE8sNTxjTyk9YlFkTyw1PHRPKT9eUWBPJyNJdk8pQHNRYE8nI0lZTzl5UWFPMUcwWE8pQllRZE8xRzFdTylEVVFkTzFHMV1PKUZRUWRPMUcxXU8pR3xRZE8xRzFdTylJeFFkTzFHMV1PKUt0UWRPMUcxXU8pTXBRZE8xRzFdTyogbFFkTzFHMV1PKiNoUWRPMUcxXU8qJWRRZE8xRzFdTyonYFFkTzFHMV1PKilbUWRPMUcxXU8qK1dRZE8xRzFdTyotU1FkTzFHMV1PKi9PUWRPMUcxXU8qMHpRYU8sNTp9TyoxUlFkTyw1OntPKjFjUWRPLDU+d08qMXNRYU8nI0hkTyoyVFFgTyw1PnZPKjJdUWRPMUcwY085eVFhTzFHMGNPKjRYUWRPMUcxWU8qNlRRZE8xRzFbTzl5UWFPMUcxfE8+VVFhTycjSHdPKjhQUWBPLDU9W08qOFhRYU8nI0hiTyo4Y1FgTyw1PnRPOXlRYU83KyVzTyo4a1FkTzcrJXNPKjpnUWBPMUcwaU8+VVFhTzFHMGlPKjt8UWRPNyslfU85eVFhTzcrJ2hPKj14UWRPNysnaE8qP3RRYE8sNT5jTypBWlFgTyw1PXxPKkJwUWRPPDxJX08qRGxRYE83KyZUTypGUlFkTzw8S1NPOXlRYU88PEtTTzl5UWFPQU5Abk8qR31RZE9BTkBuTypJeVFkT0cyNllPOXlRYU9HMjZZTypLdVFkT0xEK3RPKk1xUWFPLDU6fU85eVFhTzFHMGlPKk14UWRPJyNJXU8qTmNRYE8nI0Z2TypOa1FgTyw1PGJPISVXUWBPLDU8Yk8hJVdRYE8xRzF8TzBhUWBPMUcxfE8wYVFgTzcrJ2hPMGFRYE88PEtTTypOc1FkTycjSVdPKyBeUWVPJyNGVU8rIHpRYU8nI0ZVTysjc1FhTycjRlVPKyVgUWFPJyNGVU8+VVFhTycjRmVPPlVRYU8nI0ZmTz5VUWFPJyNGZ08+VVFhTycjRmhPPlVRYU8nI0ZoTz5VUWFPJyNGa08rJ1hRYU8nI0Z3Tz5VUWFPJyNHVk8+VVFhTycjR1lPKydgUWFPLDU6bU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPKydnUWBPJyNJXU8kOFlRYU8nI0VhTyspUFFhT0cyNllPJDhZUWFPJyNJXU8rKntRYE8nI0lbTysrVFFhTyw1OndPPlVRYU8sNTtuTz5VUWFPLDU7cE8rK1tRYE8sNTxQTyssd1FgTyw1PFFPKy5kUWBPLDU8Uk8rMFBRYE8sNTxTTysxbFFgTyw1PFNPKzNYUWBPLDU8Vk8rNHRRYE8sNTxiTys0fFFgTyw1PGNPKzZpUWBPLDU8dE8rOFVRYE8xRzBYTz5VUWFPMUcwWE8rOWhRYE8xRzFdTys7VFFgTzFHMV1PKzxwUWBPMUcxXU8rPl1RYE8xRzFdTys/eFFgTzFHMV1PK0FlUWBPMUcxXU8rQ1FRYE8xRzFdTytEbVFgTzFHMV1PK0ZZUWBPMUcxXU8rR3VRYE8xRzFdTytJYlFgTzFHMV1PK0p9UWBPMUcxXU8rTGpRYE8xRzFdTytOVlFgTzFHMV1PLCByUWBPMUcxXU8sI19RYE8xRzBjTz5VUWFPMUcwY08sJHpRYE8xRzFZTywmZ1FgTzFHMVtPLChTUWBPMUcxfE8+VVFhTzFHMXxPPlVRYU83KyVzTywoW1FgTzcrJXNPLCl3UWBPNyslfU8+VVFhTzcrJ2hPLCtkUWBPNysnaE8sK2xRYE83KydoTywtWFFwTzcrJ2hPLC1hUWBPPDxJX08sLnxRYE88PEtTTywwaVFwTzw8S1NPPlVRYU88PEtTTz5VUWFPQU5Abk8sMHFRYE9BTkBuTywyXlFwT0FOQG5PLDJmUWBPRzI2WU8+VVFhT0cyNllPLDRSUWBPTEQrdE8sNW5RYU8sNTp9Tz5VUWFPMUcwaU8sNXVRYE8nI0ldTyQ4WVFhTycjRmVPJDhZUWFPJyNGZk8kOFlRYU8nI0ZnTyQ4WVFhTycjRmhPJDhZUWFPJyNGaE8rKVBRYU8nI0ZoTyQ4WVFhTycjRmtPLDZTUWFPJyNGd08sNlpRYU8nI0Z3TyQ4WVFhTycjR1ZPKylQUWFPJyNHVk8kOFlRYU8nI0dZTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8sOFlRYE8nI0ZsTz5VUWFPJyNFYU8+VVFhTycjSV1PLDhiUWFPLDU6d08sOGlRYU8sNTp3TyQ4WVFhTyw1O25PKylQUWFPLDU7bk8kOFlRYU8sNTtwTyw6aFFgTyw1PFBPLDxUUWBPLDU8UU8sPXBRYE8sNTxSTyw/XVFgTyw1PFNPLEB4UWBPLDU8U08sQmVRYE8sNTxTTyxDdFFgTyw1PFZPLEVhUWBPLDU8Y08lN2ZRYE8sNTxjTyxGfFFgTyw1PHRPJDhZUWFPMUcwWE8rKVBRYU8xRzBYTyxIaVFgTzFHMV1PLEpVUWBPMUcxXU8sS2VRYE8xRzFdTyxNUVFgTzFHMV1PLE5hUWBPMUcxXU8tIHxRYE8xRzFdTy0jXVFgTzFHMV1PLSR4UWBPMUcxXU8tJlhRYE8xRzFdTy0ndFFgTzFHMV1PLSlUUWBPMUcxXU8tKnBRYE8xRzFdTy0sUFFgTzFHMV1PLS1sUWBPMUcxXU8tLntRYE8xRzFdTy0waFFgTzFHMV1PLTF3UWBPMUcxXU8tM2RRYE8xRzFdTy00c1FgTzFHMV1PLTZgUWBPMUcxXU8tN29RYE8xRzFdTy05W1FgTzFHMV1PLTprUWBPMUcxXU8tPFdRYE8xRzFdTy09Z1FgTzFHMV1PLT9TUWBPMUcxXU8tQGNRYE8xRzFdTy1CT1FgTzFHMV1PLUNfUWBPMUcxXU8tRHpRYE8xRzFdTy1GWlFgTyw1OntPLUd2UWBPLDU+d08tSWNRYE8xRzBjTy1LT1FgTzFHMGNPJDhZUWFPMUcwY08rKVBRYU8xRzBjTy1MX1FgTzFHMVlPLU16UWBPMUcxWU8uIFpRYE8xRzFbTyQ4WVFhTzFHMXxPJDhZUWFPNyslc08rKVBRYU83KyVzTy4hdlFgTzcrJXNPLiRjUWBPNyslc08uJXJRYE83KyV9Ty4nX1FgTzcrJX1PJDhZUWFPNysnaE8uKG5RYE83KydoTy4qWlFgTzw8SV9PLit2UWBPPDxJX08uLVZRYE88PEtTTyQ4WVFhTzw8S1NPJDhZUWFPQU5Abk8uLnJRYE9BTkBuTy4wX1FgT0cyNllPJDhZUWFPRzI2WU8uMXpRYE9MRCt0Ty4zZ1FhTyw1On1PLjNuUWFPLDU6fU8kOFlRYU8xRzBpTyspUFFhTzFHMGlPLjVtUWBPJyNJXU8uN1BRYE8nI0ldTy46ZlFgTycjSVdPLjp2UWBPJyNGdk8uO09RYU8sNTptTy47VlFgTyw1PGJPLjtfUWBPLDU8Yk8hJVdRYE8sNTxiTy47Z1FgTzFHMFhPLjx5UWBPLDU6e08uPmZRYE8sNT53Ty5AUlFgTzFHMXxPISVXUWBPMUcxfE8wYVFgTzFHMXxPMGFRYE83KydoTy5AWlFgTzcrJ2hPLkBjUXBPNysnaE8uQGtRcE88PEtTTzBhUWBPPDxLU08uQHNRcE9BTkBuTy5Ae1FgTycjSVdPLkFdUWBPJyNJV08uQ1NRYU8sNTptTy5DWlFhTyw1Om1PLkNiUWBPLDU8Yk8uQ2pRYE83KydoTy5DclFgTzFHMFhPLkVVUWBPMUcwWE8uRmhRYE8xRzF8Ty5GcFFgTzcrJ2hPLkZ4UXBPNysnaE8uR1FRcE9BTkBuTy5HWVFwTzw8S1NPLkdiUXBPQU5Abk8uR2pRYE8nI0Z2Ty5HclFgTycjRmxPLkd6UWBPLDU8Yk8hJVdRYE8sNTxiTyElV1FgTzFHMXxPMGFRYE8xRzF8TzBhUWBPNysnaE8wYVFgTzw8S1NPLkhTUWBPJyNGdk8uSFtRYE8sNTxiTy5IZFFgTyw1PGJPISVXUWBPLDU8Yk8hJVdRYE8xRzF8TyElV1FgTzFHMXxPMGFRYE8xRzF8TzBhUWBPPDxLU08wYVFgTzcrJ2hPMGFRYE88PEtTTy5IbFFgTycjRmxPLkh0UWBPJyNGbE8uSHxRYE8nI0ZsXCIsXG4gIHN0YXRlRGF0YTogXCIuSWN+TyFkT1MhZU9TJnZPUyFnUVF+TyFpVE8md1JPfk9QZ09RfE9TIWxPVV5PV31PWCFYT1ttT10hX09eIVdPYCFbT2EhU09iIV1PayFkT20hbE9vd09wIVRPcSFVT3N1T3QhZ091IVZPdiFQT3hrT3lrT3whYk99YE8hT11PIVAhZU8hUXhPIVJ9TyFUcE8hVWxPIVZsTyFXIVlPIVghUU8hWXpPIVohY08hWyFaTyFdIV5PIV4hZk8hYCFgTyFhIVJPIWNqTyFtV08hb1hPIXNZTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUb08kXW5PJF5vTyRhcU8kZHJPJGwha08kenlPJHshT08kfX1PJU99TyVWfE8nZ3tPfk8hZyFtT35PJndSTyFpIWhYJnAhaFgmdCFoWH5PIWkhcE9+TyFkIXFPIWUhcU8hZyFtTyZ0IXRPJnYhcU9+UGhPIW4hdk9+UGhPVCdWWHonVlghUydWWCFiJ1ZYIW0nVlghbydWWCF2J1ZYIXknVlgjUydWWCNXJ1ZYI2AnVlgjYSdWWCNwI3FYI3MnVlgjeidWWCN7J1ZYI3wnVlgjfSdWWCRPJ1ZYJFEnVlgkUidWWCRTJ1ZYJFQnVlgkVSdWWCRWJ1ZYJFcnVlgkeidWWCZzJ1ZYfk8hcSF4T35QJnNPVCNUT3ojUk8hUyNVTyFiI1ZPIW0jY08hbyF7TyF2IXlPIXkhfU8jUyNRTyNXIXpPI2AhfE8jYSF8TyNzI1BPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE8mcyNjT35PUGdPUXxPVV5PV31PW21Pb3dPcyNoT3hrT3lrT31gTyFPXU8hUXhPIVJ9TyFUcE8hVWxPIVZsTyFZek8hY2pPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVG9PJF1uTyReb08kYXFPJHp5TyR7IU9PJH19TyVPfU8lVnxPJ2d7T35PIXlbT35PIXkja09+T1A2XU9RfE9VXk9XfU9bNmBPbz1ZT3MjaE94Nl5PeTZeT31gTyFPXU8hUTZkTyFSfU8hVDZjTyFVNl9PIVY2X08hWTZmTyFjOGZPIXMjZ08heVtPI1Mjb08jVSNuTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ2Yk8kXTZhTyReNmJPJGFxTyR6NmVPJHshT08kfX1PJU99TyVWfE8nZ3tPI1gnT1B+TyF9I3NPflAtVU8heSN0T35PI2Ijdk8jZGFPI2ViT35PI3AjeE9+TyFzI3lPfk9VJFBPIVIkUE8hcyRPTyF2I31PI3AyWE9+T1Qmelh6JnpYIVMmelghYiZ6WCFtJnpYIW8melghdiZ6WCF5JnpYI1MmelgjVyZ6WCNgJnpYI2EmelgjcyZ6WCN6JnpYI3smelgjfCZ6WCN9JnpYJE8melgkUSZ6WCRSJnpYJFMmelgkVCZ6WCRVJnpYJFYmelgkVyZ6WCR6JnpYJnMmelgheCZ6WCFuJnpYfk8jdSRSTyN3JFNPflAwck9QNl1PUXxPVV5PV31PWzZgT289WU9zI2hPeDZeT3k2Xk99YE8hT11PIVE2ZE8hUn1PIVQ2Y08hVTZfTyFWNl9PIVk2Zk8hYzhmTyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ2Yk8kXTZhTyReNmJPJGFxTyR6NmVPJHshT08kfX1PJU99TyVWfE8nZ3tPVCN4WHojeFghUyN4WCFiI3hYIW0jeFghbyN4WCF2I3hYI2AjeFgjYSN4WCNzI3hYI3ojeFgjeyN4WCN8I3hYI30jeFgkTyN4WCRRI3hYJFIjeFgkUyN4WCRVI3hYJFYjeFgkVyN4WCZzI3hYIXgjeFghbiN4WH5PciRVTyNTNnlPI1U2eE9+UDJ5TyFzI2dPI3BlT35PUyRnT10kYk9rJGVPbSRnT3MkYU8hYCRjTyRkck8kbCRmT35PIXMka08heSRoTyNTJGpPfk9vJG1PcyRsTyNiJG5Pfk8heSRoTyNTJHJPfk8kbCR0T35QKmtPUiR6TyFvJHlPI2IkeE8jZSR5TyZxJHpPfk8nZiR8T35QOGxPIXklUk9+TyF5JVRPfk8hcyVWT35PIW0jY08mcyNjT35QKmtPIW9YT35PIXklX09+T1A2XU9RfE9VXk9XfU9bNmBPbz1ZT3MjaE94Nl5PeTZeT31gTyFPXU8hUTZkTyFSfU8hVDZjTyFVNl9PIVY2X08hWTZmTyFjOGZPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDZiTyRdNmFPJF42Yk8kYXFPJHo2ZU8keyFPTyR9fU8lT31PJVZ8Tydne09+TyF5JWNPfk8hcyVkT35PXSRiT35PIXMlaE9+TyFzJWlPfk8hcyVqT35PIW9YTyFzI2dPI3BlT35PXSVyT3Mlck8hbyVwTyFzI2dPI3Albk9+TyFzJXZPfk8haSV3TyZ0JXdPJndST35PJnQlek9+UGhPIW4le09+UGhPUGdPUXxPVV5PV31PWzhsT289eU9zI2hPeDhqT3k4ak99YE8hT11PIVE4cE8hUn1PIVQ4b08hVThrTyFWOGtPIVk4ck8hYzhpTyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ4bk8kXThtTyReOG5PJGFxTyR6OHFPJHshT08kfX1PJU99TyVWfE8nZ3tPfk8hcSV9T35QPlVPI1gmUE9+UD5VTyFvJlNPIXMmUk8jYiZST35PUGdPUXxPVV5PV31PWzhsT289eU9zI2hPeDhqT3k4ak99YE8hT11PIVE4cE8hUn1PIVQ4b08hVThrTyFWOGtPIVk4ck8hYzhpTyFzJlZPIXlbTyNVJldPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDhuTyRdOG1PJF44bk8kYXFPJHo4cU8keyFPTyR9fU8lT31PJVZ8Tydne09+TyF4J1NQflBBT08hcyZbTyNiJltPfk9UI1RPeiNSTyFTI1VPIWIjVk8hbyF7TyF2IXlPIXkhfU8jUyNRTyNXIXpPI2AhfE8jYSF8TyNzI1BPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE9+TyF4Jm5PflBDcU8heCdWWCF9J1ZYI08nVlgjWCdWWCFuJ1ZYVidWWCFxJ1ZYI3UnVlgjdydWWHcnVlh+UCZzTyF5JGhPI1Mmb09+T28kbU9zJGxPfk8hbyZwT35PIX0mc08jUztkTyNVO2NPIXgnT1B+UDl5T1Q2aU96NmdPIVM2ak8hYjZrTyFvIXtPIXY4c08heSF9TyNTI1FPI1chek8jYCF8TyNhIXxPI3MjUE8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9J1BYI1gnUFh+TyNPJnRPflBHU08hfSZ3TyNYJ09Yfk8jWCZ5T35PIX0nT08heCdRUH5QOXlPIW4nUE9+UENxTyFtI29hIW8jb2EjUyNvYSNwI3FYJnMjb2EheCNvYSNPI29hdyNvYX5PVCNvYXojb2EhUyNvYSFiI29hIXYjb2EheSNvYSNXI29hI2Ajb2EjYSNvYSNzI29hI3ojb2EjeyNvYSN8I29hI30jb2EkTyNvYSRRI29hJFIjb2EkUyNvYSRUI29hJFUjb2EkViNvYSRXI29hJHojb2EhfSNvYSNYI29hIW4jb2FWI29hIXEjb2EjdSNvYSN3I29hflBJcE8hcydST35PIXgnVU8jbCdTT35PIXgnVlgjbCdWWCNwI3FYI1MnVlgjVSdWWCNiJ1ZYIW8nVlgjTydWWHcnVlghbSdWWCZzJ1ZYfk8jUydZT35QKmtPIW0kWGEmcyRYYSF4JFhhIW4kWGF+UENxTyFtJFlhJnMkWWEheCRZYSFuJFlhflBDcU8hbSRaYSZzJFphIXgkWmEhbiRaYX5QQ3FPIW0kW2EmcyRbYSF4JFthIW4kW2F+UENxTyFvIXtPIXkhfU8jVyF6TyNgIXxPI2EhfE8jcyNQTyR6I2RPVCRbYSFTJFthIWIkW2EhbSRbYSF2JFthI1MkW2EjeiRbYSN7JFthI3wkW2EjfSRbYSRPJFthJFEkW2EkUiRbYSRTJFthJFQkW2EkVSRbYSRWJFthJFckW2EmcyRbYSF4JFthIW4kW2F+T3ojUk9+UE55TyFtJF9hJnMkX2EheCRfYSFuJF9hflBDcU8heSF9TyF9JGZYI1gkZlh+TyF9J15PI1gnWlh+TyNYJ2BPfk8hcyRrTyNTJ2FPfk9dJ2NPfk8hcydlT35PIXMnZk9+TyRsJ2dPfk8hYCdtTyNTJ2tPI1UnbE8jYidqTyRkck8heCdYUH5QMGFPIV4nc08hb1hPIXEnck9+TyFzJ3VPIXkkaE9+TyF5JGhPI1Mnd09+TyF5JGhPI1MneU9+TyN1J3pPIW0kc1ghfSRzWCZzJHNYfk8hfSd7TyFtJ2JYJnMnYlh+TyFtI2NPJnMjY09+TyFxKFBPI08oT09+TyFtJGthJnMka2EheCRrYSFuJGthflBDcU9sKFJPdyhTTyFvKFRPIXkhfU9+TyFvIXtPIXkhfU8jVyF6TyNgIXxPI2EhfE8jcyNQT35PVCR5YXokeWEhUyR5YSFiJHlhIW0keWEhdiR5YSNTJHlhI3okeWEjeyR5YSN8JHlhI30keWEkTyR5YSRRJHlhJFIkeWEkUyR5YSRUJHlhJFUkeWEkViR5YSRXJHlhJHokeWEmcyR5YSF4JHlhIX0keWEjTyR5YSNYJHlhIW4keWEhcSR5YVYkeWEjdSR5YSN3JHlhflAhJ1dPIW0kfGEmcyR8YSF4JHxhIW4kfGF+UENxTyNXKFtPI2AoWU8jYShZTyZyKFpPUiZnWCFvJmdYI2ImZ1gjZSZnWCZxJmdYJ2YmZ1h+TydmKF9PflA4bE8hcShgT35QaE8hbyhjTyFxKGRPfk8hcShgTyZzKGdPflBoTyFhKGtPfk8hbShsT35QOXlPWih3T24oeE9+TyFzKHpPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyF9KHtPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJ2pYJnMnalh+UCEnV08jdSlQT35PIX0pUU8hbSdgWCZzJ2BYfk9sKFJPIW8oVE9+T3coU08hbylXTyFxKVpPfk8hbSNjTyFvWE8mcyNjT35PIW8lcE8hcyN5T35PVilhTyF9KV9PIW0na1gmcydrWH5PXSljT3MpY08hcyNnTyNwZU9+TyFvJXBPIXMjZ08jcCloT35PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08hfSlpTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hbSZ8WCZzJnxYI08mfFh+UCEnV09sKFJPdyhTTyFvKFRPfk8haSlvTyZ0KW9Pfk9UOHZPejh0TyFTOHdPIWI4eE8hcSlwTyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT35QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jWClyTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPIW4pck9+UENxT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4J1RYIX0nVFh+UCEnV09UJ1ZYeidWWCFTJ1ZYIWInVlghbydWWCF2J1ZYIXknVlgjUydWWCNXJ1ZYI2AnVlgjYSdWWCNwI3FYI3MnVlgjeidWWCN7J1ZYI3wnVlgjfSdWWCRPJ1ZYJFEnVlgkUidWWCRTJ1ZYJFQnVlgkVSdWWCRWJ1ZYJFcnVlgkeidWWH5PIXEpdE8heCdWWCF9J1ZYflAhNXhPIXgjaVghfSNpWH5QPlVPIX0pdk8heCdTWH5PIXgpeE9+TyR6I2RPVCN5aXojeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkkViN5aSRXI3lpJnMjeWkheCN5aSF9I3lpI08jeWkjWCN5aSFuI3lpIXEjeWlWI3lpI3UjeWkjdyN5aX5QISdXT3ojUk8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyF2IXlPI1MjUU8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWl+UCEnV09UI1RPeiNSTyFiI1ZPIXYheU8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPIVMjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT1QjVE96I1JPIXYheU8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPIVMjeWkhYiN5aSFtI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyNTI1FPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN6I3lpI3sjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPI1MjUU8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8jUyNRTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyNTI1FPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPJFQjYE8kViNiTyRXI2JPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVSN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8kViNiTyRXI2JPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyRTI19PJFQjYE8kViNiTyRXI2JPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFUjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkkViN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT18peU9+UDl5TyF4KXxPfk8jUypQT35QOXlPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0jVGEjWCNUYSNPI1RhIW0jVGEmcyNUYSF4I1RhIW4jVGFWI1RhIXEjVGF+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSdQYSNYJ1BhI08nUGEhbSdQYSZzJ1BhIXgnUGEhbidQYVYnUGEhcSdQYX5QISdXTyNTI29PI1Ujbk8hfSZXWCNYJldYflA5eU8hfSZ3TyNYJ09hfk8jWCpTT35PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08hfSpVTyNPKlRPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF4J1FYflAhJ1dPIX0qVU8heCdRWH5PIXgqV09+TyFtI29pIW8jb2kjUyNvaSNwI3FYJnMjb2kheCNvaSNPI29pdyNvaX5PVCNvaXojb2khUyNvaSFiI29pIXYjb2kheSNvaSNXI29pI2Ajb2kjYSNvaSNzI29pI3ojb2kjeyNvaSN8I29pI30jb2kkTyNvaSRRI29pJFIjb2kkUyNvaSRUI29pJFUjb2kkViNvaSRXI29pJHojb2khfSNvaSNYI29pIW4jb2lWI29pIXEjb2kjdSNvaSN3I29pflAjKnpPI2wnU08heCNrYSNTI2thI1Uja2EjYiNrYSFvI2thI08ja2F3I2thIW0ja2EmcyNrYX5PUGdPUXxPVV5PV31PWzRPT281eE9zI2hPeDN6T3kzek99YE8hT11PIVEyXk8hUn1PIVQ0VU8hVTN8TyFWM3xPIVkyYE8hYzN4TyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ0U08kXTRRTyReNFNPJGFxTyR6Ml9PJHshT08kfX1PJU99TyVWfE8nZ3tPfk8jbCNvYSNVI29hI2Ijb2F+UElwT3ojUk8hdiF5TyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE9UI1BpIVMjUGkhYiNQaSFtI1BpJnMjUGkheCNQaSFuI1BpflAhJ1dPeiNSTyF2IXlPI1MjUU8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjdmkhUyN2aSFiI3ZpIW0jdmkmcyN2aSF4I3ZpIW4jdml+UCEnV08hbSN4aSZzI3hpIXgjeGkhbiN4aX5QQ3FPIXMjZ08jcGVPIX0mXlgjWCZeWH5PIX0nXk8jWCdaYX5PIXMndU9+T3coU08hbylXTyFxKmZPfk8hcypqT35PI1MqbE8jVSptTyNiKmtPI2wnU09+TyNTKmxPI1UqbU8jYiprTyRkck9+UDBhTyN1Km9PIXgkY1ghfSRjWH5PI1UqbU8jYiprT35PI2IqcE9+TyNiKnJPflAwYU8hfSpzTyF4J1hYfk8heCp1T35PIXkqd09+TyFeKntPIW9YTyFxKnpPfk8hcSp9TyFvJ2NpIW0nY2kmcydjaX5PIXErUU8jTytQT35PI2Ikbk8hbSZlWCF9JmVYJnMmZVh+TyF9J3tPIW0nYmEmcydiYX5PVCRraXoka2khUyRraSFiJGtpIW0ka2khbyRraSF2JGtpIXkka2kjUyRraSNXJGtpI2Aka2kjYSRraSNzJGtpI3UjZmEjdyNmYSN6JGtpI3ska2kjfCRraSN9JGtpJE8ka2kkUSRraSRSJGtpJFMka2kkVCRraSRVJGtpJFYka2kkVyRraSR6JGtpJnMka2kheCRraSF9JGtpI08ka2kjWCRraSFuJGtpIXEka2lWJGtpfk9TK15PXSthT20rXk9zJGFPIV4rZE8hXyteTyFgK15PIW4raE8jYiRuTyRhcU8kZHJPflAwYU8hcytsT35PI1crbk8jYCttTyNhK21Pfk8hcytwTyNiK3BPJH0rcE8lVCtvT35PIW4rcU9+UENxT2MlWFhkJVhYaCVYWGolWFhmJVhYZyVYWGUlWFh+UGhPYyt1T2Qrc09QJVdpUSVXaVMlV2lVJVdpVyVXaVglV2lbJVdpXSVXaV4lV2lgJVdpYSVXaWIlV2lrJVdpbSVXaW8lV2lwJVdpcSVXaXMlV2l0JVdpdSVXaXYlV2l4JVdpeSVXaXwlV2l9JVdpIU8lV2khUCVXaSFRJVdpIVIlV2khVCVXaSFVJVdpIVYlV2khVyVXaSFYJVdpIVklV2khWiVXaSFbJVdpIV0lV2khXiVXaSFgJVdpIWElV2khYyVXaSFtJVdpIW8lV2khcyVXaSF5JVdpI1clV2kjYiVXaSNkJVdpI2UlV2kjcCVXaSRUJVdpJF0lV2kkXiVXaSRhJVdpJGQlV2kkbCVXaSR6JVdpJHslV2kkfSVXaSVPJVdpJVYlV2kmcCVXaSdnJVdpJnQlV2khbiVXaWglV2lqJVdpZiVXaWclV2lZJVdpXyVXaWklV2llJVdpfk9jK3lPZCt2T2greE9+T1krek9fK3tPIW4sT09+T1krek9fK3tPaSVeWH5PaSxRT35PaixST35PIW0sVE9+UDl5TyFtLFZPfk9mLFdPfk9UNmlPVixYT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPflAhJ1dPZyxZT35PIXksWk9+T1ood09uKHhPUCVsaVElbGlTJWxpVSVsaVclbGlYJWxpWyVsaV0lbGleJWxpYCVsaWElbGliJWxpayVsaW0lbGlvJWxpcCVsaXElbGlzJWxpdCVsaXUlbGl2JWxpeCVsaXklbGl8JWxpfSVsaSFPJWxpIVAlbGkhUSVsaSFSJWxpIVQlbGkhVSVsaSFWJWxpIVclbGkhWCVsaSFZJWxpIVolbGkhWyVsaSFdJWxpIV4lbGkhYCVsaSFhJWxpIWMlbGkhbSVsaSFvJWxpIXMlbGkheSVsaSNXJWxpI2IlbGkjZCVsaSNlJWxpI3AlbGkkVCVsaSRdJWxpJF4lbGkkYSVsaSRkJWxpJGwlbGkkeiVsaSR7JWxpJH0lbGklTyVsaSVWJWxpJnAlbGknZyVsaSZ0JWxpIW4lbGljJWxpZCVsaWglbGlqJWxpZiVsaWclbGlZJWxpXyVsaWklbGllJWxpfk8jdSxfT35PIX0oe08hbSVkYSZzJWRhfk8heCxiT35PIXMlZE8hbSZkWCF9JmRYJnMmZFh+TyF9KVFPIW0nYGEmcydgYX5PUyteT1ksaU9tK15PcyRhTyFeK2RPIV8rXk8hYCteTyRhcU8kZHJPfk8hbixsT35QI0p3TyFvKVdPfk8hbyVwTyFzJ1JPfk8hcyNnTyNwZU8hbSZuWCF9Jm5YJnMmblh+TyF9KV9PIW0na2EmcydrYX5PIXMsck9+T1Ysc08hbiV8WCF9JXxYfk8hfSx1TyFuJ2xYfk8hbix3T35PIW0mVVghfSZVWCZzJlVYI08mVVh+UDl5TyF9KWlPIW0mfGEmcyZ8YSNPJnxhfk96I1JPI1MjUU8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QhdXEhUyF1cSFiIXVxIW0hdXEhdiF1cSZzIXVxIXghdXEhbiF1cX5QISdXTyFuLHxPflBDcU9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNpYSF9I2lhflAhJ1dPIXgmWVghfSZZWH5QQU9PIX0pdk8heCdTYX5PI08tUU9+TyF9LVJPIW4me1h+TyFuLVRPfk8heC1VT35PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0jVmkjWCNWaX5QISdXTyF4JlhYIX0mWFh+UDl5TyF9KlVPIXgnUWF+TyF4LVtPfk9UI2pxeiNqcSFTI2pxIWIjanEhbSNqcSF2I2pxI1MjanEjdSNqcSN3I2pxI3ojanEjeyNqcSN8I2pxI30janEkTyNqcSRRI2pxJFIjanEkUyNqcSRUI2pxJFUjanEkViNqcSRXI2pxJHojanEmcyNqcSF4I2pxIX0janEjTyNqcSNYI2pxIW4janEhcSNqcVYjanF+UCEnV08jbCNvaSNVI29pI2Ijb2l+UCMqek96I1JPIXYheU8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCNQcSFTI1BxIWIjUHEhbSNQcSZzI1BxIXgjUHEhbiNQcX5QISdXTyN1LWRPIXgkY2EhfSRjYX5PI1UtZk8jYi1lT35PI2ItZ09+TyNTLWhPI1UtZk8jYi1lTyNsJ1NPfk8jYi1qTyNsJ1NPfk8jdS1rTyF4JGhhIX0kaGF+TyFgJ21PI1Mna08jVSdsTyNiJ2pPJGRyTyF4Jl9YIX0mX1h+UDBhTyF9KnNPIXgnWGF+TyFvWE8jbCdTT35PI1MtcE8jYi1vTyF4J1tQfk8hb1hPIXEtck9+TyFxLXVPIW8nY3EhbSdjcSZzJ2Nxfk8hXi13TyFvWE8hcS1yT35PIXEte08jTy16T35PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIW0kc2khfSRzaSZzJHNpflAhJ1dPIW0kanEmcyRqcSF4JGpxIW4kanF+UENxTyNPLXpPI2wnU09+TyF9LXxPdyddWCFvJ11YIW0nXVgmcyddWH5PI2Ikbk8jbCdTT35PUyteT10uUk9tK15PcyRhTyFfK15PIWArXk8jYiRuTyRhcU8kZHJPflAwYU9TK15PXS5ST20rXk9zJGFPIV8rXk8hYCteTyNiJG5PJGFxT35QMGFPUyteT10rYU9tK15PcyRhTyFeK2RPIV8rXk8hYCteTyFuLlpPI2Ikbk8kYXFPJGRyT35QMGFPIXMuXk9+TyFzLl9PI2IuX08kfS5fTyVUK29Pfk8kfS5gT35PI1guYU9+T2MlWGFkJVhhaCVYYWolWGFmJVhhZyVYYWUlWGF+UGhPYy5kT2Qrc09QJVdxUSVXcVMlV3FVJVdxVyVXcVglV3FbJVdxXSVXcV4lV3FgJVdxYSVXcWIlV3FrJVdxbSVXcW8lV3FwJVdxcSVXcXMlV3F0JVdxdSVXcXYlV3F4JVdxeSVXcXwlV3F9JVdxIU8lV3EhUCVXcSFRJVdxIVIlV3EhVCVXcSFVJVdxIVYlV3EhVyVXcSFYJVdxIVklV3EhWiVXcSFbJVdxIV0lV3EhXiVXcSFgJVdxIWElV3EhYyVXcSFtJVdxIW8lV3EhcyVXcSF5JVdxI1clV3EjYiVXcSNkJVdxI2UlV3EjcCVXcSRUJVdxJF0lV3EkXiVXcSRhJVdxJGQlV3EkbCVXcSR6JVdxJHslV3EkfSVXcSVPJVdxJVYlV3EmcCVXcSdnJVdxJnQlV3EhbiVXcWglV3FqJVdxZiVXcWclV3FZJVdxXyVXcWklV3FlJVdxfk9jLmlPZCt2T2guaE9+TyFxKGBPfk9QNl1PUXxPVV5PV31PWzpmT28+Uk9zI2hPeDpkT3k6ZE99YE8hT11PIVE6a08hUn1PIVQ6ak8hVTplTyFWOmVPIVk6b08hYzhnTyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ6aE8kXTpnTyReOmhPJGFxTyR6Om1PJHshT08kfX1PJU99TyVWfE8nZ3tPfk8hbS5sTyFxLmxPfk9ZK3pPXyt7TyFuLm5Pfk9ZK3pPXyt7T2klXmF+TyF4LnJPflA+VU8hbS50T35PIW0udE9+UDl5T1F8T1d9TyFSfU8kfX1PJU99TyVWfE8nZ3tPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hbSZrYSF9JmthJnMma2F+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hbSRxaSF9JHFpJnMkcWl+UCEnV09TK15PbSteT3MkYU8hXyteTyFgK15PJGFxTyRkck9+T1kvUE9+UCQ/Vk9TK15PbSteT3MkYU8hXyteTyFgK15PJGFxT35PIXMvUU9+TyFuL1NPflAjSndPdyhTTyFvKVdPI2wnU09+T1YvVk8hbSZuYSF9Jm5hJnMmbmF+TyF9KV9PIW0na2kmcydraX5PIXMvWE9+T1YvWU8hbiV8YSF9JXxhfk9dL1tPcy9bTyFzI2dPI3BlTyFuJm9YIX0mb1h+TyF9LHVPIW4nbGF+T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJlVhIX0mVWEmcyZVYSNPJlVhflAhJ1dPeiNSTyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE9UIXV5IVMhdXkhYiF1eSFtIXV5IXYhdXkmcyF1eSF4IXV5IW4hdXl+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNoaSF9I2hpflAhJ1dPXyl5TyFuJlZYIX0mVlh+UDl5TyF9LVJPIW4me2F+T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9I1ZxI1gjVnF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNbaSF9I1tpflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jTy9jTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8heCZYYSF9JlhhflAhJ1dPI3UvaU8heCRjaSF9JGNpfk8jYi9qT35PI1UvbE8jYi9rT35PVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgkY2khfSRjaX5QISdXTyN1L21PIXgkaGkhfSRoaX5PIX0vb08heCdbWH5PI2IvcU9+TyF4L3JPfk8hb1hPIXEvdU9+TyNsJ1NPIW8nY3khbSdjeSZzJ2N5fk8hbSRqeSZzJGp5IXgkankhbiRqeX5QQ3FPI08veE8jbCdTT35PIXMjZ08jcGVPdyZhWCFvJmFYIX0mYVghbSZhWCZzJmFYfk8hfS18T3cnXWEhbyddYSFtJ11hJnMnXWF+T1UkUE9dMFFPIVIkUE8hcyRPTyF2I31PI2Ikbk8jcDJYT35QJD91TyFtI2NPIW8wVk8mcyNjT35PI1gwWU9+T2gwX09+T1Q6dE96OnBPIVM6dk8hYjp4TyFtMGBPIXEwYE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE9+UCEnV09ZJV1hXyVdYSFuJV1haSVdYX5QaE8heDBiT35PIXgwYk9+UD5VTyFtMGRPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyF4MGZPI08wZU8jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPflAhJ1dPIXgwZk9+TyF4MGdPI2IwaE8jbCdTT35PIXgwaU9+TyFzMGpPfk8hbSNjTyN1MGxPJnMjY09+TyFzMG1Pfk8hfSlfTyFtJ2txJnMna3F+TyFzMG5Pfk9WMG9PIW4lfVghfSV9WH5PVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW4hfGkhfSF8aX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JGNxIX0kY3F+UCEnV08jdTB2TyF4JGNxIX0kY3F+TyNiMHdPfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCRocSF9JGhxflAhJ1dPI1Mwek8jYjB5TyF4JmBYIX0mYFh+TyF9L29PIXgnW2F+TyNsJ1NPIW8nYyFSIW0nYyFSJnMnYyFSfk8hb1hPIXExUE9+TyFtJGohUiZzJGohUiF4JGohUiFuJGohUn5QQ3FPI08xUk8jbCdTT35PUDZdT1VeT1s5V09vPlNPcyNoT3g5V095OVdPfWBPIU9dTyFROmxPIVQ5V08hVTlXTyFWOVdPIVk5V08hYzhoTyFuMV5PIXMxWU8heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDppTyRdOVdPJF46aU8kYXFPJHo6bk8keyFPT35QJDtsT2gxX09+T1klW2lfJVtpIW4lW2lpJVtpflBoT1klXWlfJV1pIW4lXWlpJV1pflBoTyF4MWJPfk8heDFiT35QPlVPIXgxZU9+TyFtI2NPI3UxaU8mcyNjT35PJH0xak8lVjFqT35PIXMxa09+T1YxbE8hbiV9YSF9JX1hfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNdaSF9I11pflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgkY3khfSRjeX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JGh5IX0kaHl+UCEnV08jYjFuT35PIX0vb08heCdbaX5PIW0kaiFaJnMkaiFaIXgkaiFaIW4kaiFaflBDcU9UOnVPejpxTyFTOndPIWI6eU8hdj1uTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9+UCEnV09WMXVPezF0T35QITV4T1YxdU97MXRPVCZ9WHomfVghUyZ9WCFiJn1YIW8mfVghdiZ9WCF5Jn1YI1MmfVgjVyZ9WCNgJn1YI2EmfVgjcyZ9WCN1Jn1YI3cmfVgjeiZ9WCN7Jn1YI3wmfVgjfSZ9WCRPJn1YJFEmfVgkUiZ9WCRTJn1YJFQmfVgkVSZ9WCRWJn1YJFcmfVgkeiZ9WH5PUDZdT1VeT1s5V09vPlNPcyNoT3g5V095OVdPfWBPIU9dTyFROmxPIVQ5V08hVTlXTyFWOVdPIVk5V08hYzhoTyFuMXhPIXMxWU8heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDppTyRdOVdPJF46aU8kYXFPJHo6bk8keyFPT35QJDtsT1klW3FfJVtxIW4lW3FpJVtxflBoTyF4MXpPfk8heCVnaX5QQ3FPZTF7T35PJH0xfE8lVjF8T35PIXMyT09+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JGMhUiF9JGMhUn5QISdXTyFtJGohYyZzJGohYyF4JGohYyFuJGohY35QQ3FPIXMyUU9+TyFgMlNPIXMyUk9+TyFzMlZPIW0keGkmcyR4aX5PIXMnV09+TyFzKl1Pfk9UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRrYSN1JGthI3cka2EmcyRrYSF4JGthIW4ka2EhcSRrYSNYJGthIX0ka2F+UCEnV08jUzJdT35QKmtPJGwkdE9+UCMuWU9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNPMltPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJ1BYJnMnUFgheCdQWCFuJ1BYflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jTzN1TyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSdQWCNYJ1BYI3UnUFgjdydQWCFtJ1BYJnMnUFgheCdQWCFuJ1BYVidQWCFxJ1BYflAhJ1dPI1MzZE9+UCMuWU9UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRYYSN1JFhhI3ckWGEmcyRYYSF4JFhhIW4kWGEhcSRYYSNYJFhhIX0kWGF+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRZYSN1JFlhI3ckWWEmcyRZYSF4JFlhIW4kWWEhcSRZYSNYJFlhIX0kWWF+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRaYSN1JFphI3ckWmEmcyRaYSF4JFphIW4kWmEhcSRaYSNYJFphIX0kWmF+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRbYSN1JFthI3ckW2EmcyRbYSF4JFthIW4kW2EhcSRbYSNYJFthIX0kW2F+UCEnV096MmFPI3UkW2EjdyRbYSFxJFthI1gkW2EhfSRbYX5QTnlPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kX2EjdSRfYSN3JF9hJnMkX2EheCRfYSFuJF9hIXEkX2EjWCRfYSF9JF9hflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kfGEjdSR8YSN3JHxhJnMkfGEheCR8YSFuJHxhIXEkfGEjWCR8YSF9JHxhflAhJ1dPejJhTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjdSN5aSN3I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkjdSN5aSN3I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPVDJjT3oyYU8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFTI3lpIW0jeWkjdSN5aSN3I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPVDJjT3oyYU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hUyN5aSFiI3lpIW0jeWkjdSN5aSN3I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyNTI1FPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyNTI1FPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyNTI1FPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyNTI1FPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRUMm5PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRTMm1PJFQybk8kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRVI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPejJhTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpJnMjeWkheCN5aSFuI3lpIXEjeWkjWCN5aSF9I3lpflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0jVGEjdSNUYSN3I1RhJnMjVGEheCNUYSFuI1RhIXEjVGEjWCNUYSF9I1RhflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0nUGEjdSdQYSN3J1BhJnMnUGEheCdQYSFuJ1BhIXEnUGEjWCdQYSF9J1BhflAhJ1dPejJhTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjUGkhUyNQaSFiI1BpIW0jUGkjdSNQaSN3I1BpJnMjUGkheCNQaSFuI1BpIXEjUGkjWCNQaSF9I1BpflAhJ1dPejJhTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjdmkhUyN2aSFiI3ZpIW0jdmkjdSN2aSN3I3ZpJnMjdmkheCN2aSFuI3ZpIXEjdmkjWCN2aSF9I3ZpflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0jeGkjdSN4aSN3I3hpJnMjeGkheCN4aSFuI3hpIXEjeGkjWCN4aSF9I3hpflAhJ1dPejJhTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UIXVxIVMhdXEhYiF1cSFtIXVxIXYhdXEjdSF1cSN3IXVxJnMhdXEheCF1cSFuIXVxIXEhdXEjWCF1cSF9IXVxflAhJ1dPejJhTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjUHEhUyNQcSFiI1BxIW0jUHEjdSNQcSN3I1BxJnMjUHEheCNQcSFuI1BxIXEjUHEjWCNQcSF9I1BxflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kanEjdSRqcSN3JGpxJnMkanEheCRqcSFuJGpxIXEkanEjWCRqcSF9JGpxflAhJ1dPejJhTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UIXV5IVMhdXkhYiF1eSFtIXV5IXYhdXkjdSF1eSN3IXV5JnMhdXkheCF1eSFuIXV5IXEhdXkjWCF1eSF9IXV5flAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kankjdSRqeSN3JGp5JnMkankheCRqeSFuJGp5IXEkankjWCRqeSF9JGp5flAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kaiFSI3UkaiFSI3ckaiFSJnMkaiFSIXgkaiFSIW4kaiFSIXEkaiFSI1gkaiFSIX0kaiFSflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kaiFaI3UkaiFaI3ckaiFaJnMkaiFaIXgkaiFaIW4kaiFaIXEkaiFaI1gkaiFaIX0kaiFaflAhJ1dPVDJjT3oyYU8hUzJkTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIW0kaiFjI3UkaiFjI3ckaiFjJnMkaiFjIXgkaiFjIW4kaiFjIXEkaiFjI1gkaiFjIX0kaiFjflAhJ1dPUDZdT1VeT1s0UE9vOF5PcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNTM3ZPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRUTyRdNFJPJF40VE8kYXFPJHo0Yk8keyFPT35QJDtsT1A2XU9VXk9bNFBPbzheT3MjaE94M3tPeTN7T31gTyFPXU8hUTRhTyFUNFZPIVUzfU8hVjN9TyFZNGNPIWMzeU8hcyNnTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUNFRPJF00Uk8kXjRUTyRhcU8kejRiTyR7IU9PflAkO2xPI3UydU8jdzJ2TyFxJnpYI1gmelghfSZ6WH5QMHJPUDZdT1VeT1s0UE9vOF5PcjJ3T3MjaE94M3tPeTN7T31gTyFPXU8hUTRhTyFUNFZPIVUzfU8hVjN9TyFZNGNPIWMzeU8hcyNnTyF5W08jUzJ0TyNVMnNPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRUTyRdNFJPJF40VE8kYXFPJHo0Yk8keyFPT1QjeFh6I3hYIVMjeFghYiN4WCFtI3hYIW8jeFghdiN4WCNgI3hYI2EjeFgjcyN4WCN1I3hYI3cjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYJnMjeFgheCN4WCFuI3hYIXEjeFgjWCN4WCF9I3hYflAkO2xPUDZdT1VeT1s0UE9vOF5PcjR4T3MjaE94M3tPeTN7T31gTyFPXU8hUTRhTyFUNFZPIVUzfU8hVjN9TyFZNGNPIWMzeU8hcyNnTyF5W08jUzR1TyNVNHRPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRUTyRdNFJPJF40VE8kYXFPJHo0Yk8keyFPT1QjeFh6I3hYIVMjeFghYiN4WCFvI3hYIXYjeFghfSN4WCNPI3hYI1gjeFgjYCN4WCNhI3hYI3MjeFgjdSN4WCN3I3hYI3ojeFgjeyN4WCN8I3hYI30jeFgkTyN4WCRRI3hYJFIjeFgkUyN4WCRVI3hYJFYjeFgkVyN4WCFtI3hYJnMjeFgheCN4WCFuI3hYViN4WCFxI3hYflAkO2xPIXEzUE9+UD5VTyFxNX1PI08zZ09+T1Q4dk96OHRPIVM4d08hYjh4TyFxM2hPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPIXE2T08jTzNrT35PIXE2UE8jTzNvT35PI08zb08jbCdTT35PI08zcE8jbCdTT35PI08zc08jbCdTT35PUDZdT1VeT1s0UE9vOF5PcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ0VE8kXTRSTyReNFRPJGFxTyRsJHRPJHo0Yk8keyFPT35QJDtsT1A2XU9VXk9bNFBPbzheT3MjaE94M3tPeTN7T31gTyFPXU8hUTRhTyFUNFZPIVUzfU8hVjN9TyFZNGNPIWMzeU8hcyNnTyF5W08jUzVlTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ0VE8kXTRSTyReNFRPJGFxTyR6NGJPJHshT09+UCQ7bE9UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRYYSNPJFhhI1gkWGEjdSRYYSN3JFhhIW0kWGEmcyRYYSF4JFhhIW4kWGFWJFhhIXEkWGF+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRZYSNPJFlhI1gkWWEjdSRZYSN3JFlhIW0kWWEmcyRZYSF4JFlhIW4kWWFWJFlhIXEkWWF+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRaYSNPJFphI1gkWmEjdSRaYSN3JFphIW0kWmEmcyRaYSF4JFphIW4kWmFWJFphIXEkWmF+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRbYSNPJFthI1gkW2EjdSRbYSN3JFthIW0kW2EmcyRbYSF4JFthIW4kW2FWJFthIXEkW2F+UCEnV096NGRPIX0kW2EjTyRbYSNYJFthI3UkW2EjdyRbYVYkW2EhcSRbYX5QTnlPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kX2EjTyRfYSNYJF9hI3UkX2EjdyRfYSFtJF9hJnMkX2EheCRfYSFuJF9hViRfYSFxJF9hflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kfGEjTyR8YSNYJHxhI3UkfGEjdyR8YSFtJHxhJnMkfGEheCR8YSFuJHxhViR8YSFxJHxhflAhJ1dPejRkTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPVDRmT3o0ZE8hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyFTI3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPVDRmT3o0ZE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hUyN5aSFiI3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyNTI1FPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyNTI1FPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyNTI1FPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyNTI1FPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRUNHFPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRTNHBPJFQ0cU8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejRkTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkkViN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0jVGEjTyNUYSNYI1RhI3UjVGEjdyNUYSFtI1RhJnMjVGEheCNUYSFuI1RhViNUYSFxI1RhflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0nUGEjTydQYSNYJ1BhI3UnUGEjdydQYSFtJ1BhJnMnUGEheCdQYSFuJ1BhVidQYSFxJ1BhflAhJ1dPejRkTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjUGkhUyNQaSFiI1BpIX0jUGkjTyNQaSNYI1BpI3UjUGkjdyNQaSFtI1BpJnMjUGkheCNQaSFuI1BpViNQaSFxI1BpflAhJ1dPejRkTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjdmkhUyN2aSFiI3ZpIX0jdmkjTyN2aSNYI3ZpI3UjdmkjdyN2aSFtI3ZpJnMjdmkheCN2aSFuI3ZpViN2aSFxI3ZpflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0jeGkjTyN4aSNYI3hpI3UjeGkjdyN4aSFtI3hpJnMjeGkheCN4aSFuI3hpViN4aSFxI3hpflAhJ1dPejRkTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UIXVxIVMhdXEhYiF1cSF2IXVxIX0hdXEjTyF1cSNYIXVxI3UhdXEjdyF1cSFtIXVxJnMhdXEheCF1cSFuIXVxViF1cSFxIXVxflAhJ1dPejRkTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjUHEhUyNQcSFiI1BxIX0jUHEjTyNQcSNYI1BxI3UjUHEjdyNQcSFtI1BxJnMjUHEheCNQcSFuI1BxViNQcSFxI1BxflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kanEjTyRqcSNYJGpxI3UkanEjdyRqcSFtJGpxJnMkanEheCRqcSFuJGpxViRqcSFxJGpxflAhJ1dPejRkTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UIXV5IVMhdXkhYiF1eSF2IXV5IX0hdXkjTyF1eSNYIXV5I3UhdXkjdyF1eSFtIXV5JnMhdXkheCF1eSFuIXV5ViF1eSFxIXV5flAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kankjTyRqeSNYJGp5I3UkankjdyRqeSFtJGp5JnMkankheCRqeSFuJGp5ViRqeSFxJGp5flAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kaiFSI08kaiFSI1gkaiFSI3UkaiFSI3ckaiFSIW0kaiFSJnMkaiFSIXgkaiFSIW4kaiFSViRqIVIhcSRqIVJ+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRqIVojTyRqIVojWCRqIVojdSRqIVojdyRqIVohbSRqIVomcyRqIVoheCRqIVohbiRqIVpWJGohWiFxJGohWn5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JGohYyNPJGohYyNYJGohYyN1JGohYyN3JGohYyFtJGohYyZzJGohYyF4JGohYyFuJGohY1YkaiFjIXEkaiFjflAhJ1dPI1M1d09+UCMuWU8heSRoTyNTNXtPfk8heDRaTyNsJ1NPfk8heSRoTyNTNXxPfk9UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRrYSNPJGthI1gka2EjdSRrYSN3JGthIW0ka2EmcyRrYSF4JGthIW4ka2FWJGthIXEka2F+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNPNXZPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyFtJ1BYI3UnUFgjdydQWCZzJ1BYIXgnUFghbidQWCFxJ1BYI1gnUFghfSdQWH5QISdXTyN1NHZPI3c0d08hfSZ6WCNPJnpYI1gmelhWJnpYIXEmelh+UDByTyFxNVFPflA+VU8hcThiTyNPNWhPfk9UOHZPejh0TyFTOHdPIWI4eE8hcTVpTyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT35QISdXTyFxOGNPI081bE9+TyFxOGRPI081cE9+TyNPNXBPI2wnU09+TyNPNXFPI2wnU09+TyNPNXRPI2wnU09+TyRsJHRPflA5eU9vNXpPcyRsT35PI1M3b09+UDl5T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JFhhI08kWGEjWCRYYSFtJFhhJnMkWGEheCRYYSFuJFhhViRYYSFxJFhhflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kWWEjTyRZYSNYJFlhIW0kWWEmcyRZYSF4JFlhIW4kWWFWJFlhIXEkWWF+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRaYSNPJFphI1gkWmEhbSRaYSZzJFphIXgkWmEhbiRaYVYkWmEhcSRaYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JFthI08kW2EjWCRbYSFtJFthJnMkW2EheCRbYSFuJFthViRbYSFxJFthflAhJ1dPejZnTyF9JFthI08kW2EjWCRbYVYkW2EhcSRbYX5QTnlPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kX2EjTyRfYSNYJF9hIW0kX2EmcyRfYSF4JF9hIW4kX2FWJF9hIXEkX2F+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRrYSNPJGthI1gka2EhbSRrYSZzJGthIXgka2EhbiRrYVYka2EhcSRrYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JHxhI08kfGEjWCR8YSFtJHxhJnMkfGEheCR8YSFuJHxhViR8YSFxJHxhflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8hfTdzTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCdqWH5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPIX03dU8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgmfFh+UCEnV096NmdPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF9I3lpI08jeWkjWCN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPVDZpT3o2Z08hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFTI3lpIX0jeWkjTyN5aSNYI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV09UNmlPejZnTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFTI3lpIWIjeWkhfSN5aSNPI3lpI1gjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08jUyNRTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3ojeWkjeyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyNTI1FPI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPI1MjUU8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08jUyNRTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyRUNnRPJFY2dk8kVzZ2TyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPJFY2dk8kVzZ2TyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08kUzZzTyRUNnRPJFY2dk8kVzZ2TyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV08jUzd6T35QPlVPIW0jVGEmcyNUYSF4I1RhIW4jVGF+UENxTyFtJ1BhJnMnUGEheCdQYSFuJ1BhflBDcU8jUztkTyNVO2NPIXgmV1ghfSZXWH5QOXlPIX03bE8heCdPYX5PejZnTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjUGkhUyNQaSFiI1BpIX0jUGkjTyNQaSNYI1BpIW0jUGkmcyNQaSF4I1BpIW4jUGlWI1BpIXEjUGl+UCEnV096NmdPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPVCN2aSFTI3ZpIWIjdmkhfSN2aSNPI3ZpI1gjdmkhbSN2aSZzI3ZpIXgjdmkhbiN2aVYjdmkhcSN2aX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9I3hpI08jeGkjWCN4aSFtI3hpJnMjeGkheCN4aSFuI3hpViN4aSFxI3hpflAhJ1dPIX03c08heCVkYX5PIXgmVVghfSZVWH5QPlVPIX03dU8heCZ8YX5PejZnTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UIXVxIVMhdXEhYiF1cSF2IXVxIX0hdXEjTyF1cSNYIXVxIW0hdXEmcyF1cSF4IXVxIW4hdXFWIXVxIXEhdXF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNWaSF9I1ZpflAhJ1dPejZnTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjUHEhUyNQcSFiI1BxIX0jUHEjTyNQcSNYI1BxIW0jUHEmcyNQcSF4I1BxIW4jUHFWI1BxIXEjUHF+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRqcSNPJGpxI1gkanEhbSRqcSZzJGpxIXgkanEhbiRqcVYkanEhcSRqcX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JmthIX0ma2F+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCZVYSF9JlVhflAhJ1dPejZnTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UIXV5IVMhdXkhYiF1eSF2IXV5IX0hdXkjTyF1eSNYIXV5IW0hdXkmcyF1eSF4IXV5IW4hdXlWIXV5IXEhdXl+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCNWcSF9I1ZxflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kankjTyRqeSNYJGp5IW0kankmcyRqeSF4JGp5IW4kanlWJGp5IXEkanl+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRqIVIjTyRqIVIjWCRqIVIhbSRqIVImcyRqIVIheCRqIVIhbiRqIVJWJGohUiFxJGohUn5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JGohWiNPJGohWiNYJGohWiFtJGohWiZzJGohWiF4JGohWiFuJGohWlYkaiFaIXEkaiFaflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kaiFjI08kaiFjI1gkaiFjIW0kaiFjJnMkaiFjIXgkaiFjIW4kaiFjViRqIWMhcSRqIWN+UCEnV08jUzhbT35QOXlPI084Wk8hbSdQWCZzJ1BYIXgnUFghbidQWFYnUFghcSdQWH5QR1NPIXkkaE8jUzhgT35PIXkkaE8jUzhhT35PI3U2ek8jdzZ7TyF9JnpYI08melgjWCZ6WFYmelghcSZ6WH5QMHJPcjZ8TyNTI29PI1Ujbk8hfSN4WCNPI3hYI1gjeFhWI3hYIXEjeFh+UDJ5T3I7aU8jUzlYTyNVOVZPVCN4WHojeFghUyN4WCFiI3hYIW0jeFghbyN4WCFxI3hYIXYjeFgjYCN4WCNhI3hYI3MjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYIW4jeFghfSN4WH5QOXlPcjlXTyNTOVdPI1U5V09UI3hYeiN4WCFTI3hYIWIjeFghbyN4WCF2I3hYI2AjeFgjYSN4WCNzI3hYI3ojeFgjeyN4WCN8I3hYI30jeFgkTyN4WCRRI3hYJFIjeFgkUyN4WCRVI3hYJFYjeFgkVyN4WH5QOXlPcjldTyNTO2RPI1U7Y09UI3hYeiN4WCFTI3hYIWIjeFghbyN4WCFxI3hYIXYjeFgjYCN4WCNhI3hYI3MjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYI1gjeFgheCN4WCF9I3hYflA5eU8kbCR0T35QPlVPIXE3WE9+UD5VT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI083aU8jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIXgnUFghfSdQWH5QISdXT1A2XU9VXk9bOVdPbz5TT3MjaE94OVdPeTlXT31gTyFPXU8hUTpsTyFUOVdPIVU5V08hVjlXTyFZOVdPIWM4aE8hcyNnTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kejpuTyR7IU9PflAkO2xPIX03bE8heCdPWH5PI1M5eU9+UD5VT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJFhhI1gkWGEheCRYYSF9JFhhflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEkWWEjWCRZYSF4JFlhIX0kWWF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRaYSNYJFphIXgkWmEhfSRaYX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJFthI1gkW2EheCRbYSF9JFthflAhJ1dPejh0TyR6I2RPVCRbYSFTJFthIWIkW2EhcSRbYSF2JFthI1MkW2EjeiRbYSN7JFthI3wkW2EjfSRbYSRPJFthJFEkW2EkUiRbYSRTJFthJFQkW2EkVSRbYSRWJFthJFckW2EjWCRbYSF4JFthIX0kW2F+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRfYSNYJF9hIXgkX2EhfSRfYX5QISdXTyFxPWRPI083ck9+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJGthI1gka2EheCRrYSF9JGthflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEkfGEjWCR8YSF4JHxhIX0kfGF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hcTd3TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT35QISdXT3o4dE8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV09UOHZPejh0TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIVMjeWkhcSN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT1Q4dk96OHRPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIVMjeWkhYiN5aSFxI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyNTI1FPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSN6I3lpI3sjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPI1MjUU8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8jUyNRTyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyNTI1FPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPJFQ5Uk8kVjlUTyRXOVRPJHojZE9UI3lpIVMjeWkhYiN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVSN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8kVjlUTyRXOVRPJHojZE9UI3lpIVMjeWkhYiN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyRTOVFPJFQ5Uk8kVjlUTyRXOVRPJHojZE9UI3lpIVMjeWkhYiN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFUjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkkViN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9UI1BpIVMjUGkhYiNQaSFxI1BpI1gjUGkheCNQaSF9I1BpflAhJ1dPejh0TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjdmkhUyN2aSFiI3ZpIXEjdmkjWCN2aSF4I3ZpIX0jdml+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSN4aSNYI3hpIXgjeGkhfSN4aX5QISdXTyFxPWVPI083fE9+T3o4dE8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCF1cSFTIXVxIWIhdXEhcSF1cSF2IXVxI1ghdXEheCF1cSF9IXVxflAhJ1dPejh0TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjUHEhUyNQcSFiI1BxIXEjUHEjWCNQcSF4I1BxIX0jUHF+UCEnV08hcT1pTyNPOFRPfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRqcSNYJGpxIXgkanEhfSRqcX5QISdXTyNPOFRPI2wnU09+T3o4dE8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCF1eSFTIXV5IWIhdXkhcSF1eSF2IXV5I1ghdXkheCF1eSF9IXV5flAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEkankjWCRqeSF4JGp5IX0kanl+UCEnV08jTzhVTyNsJ1NPfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRqIVIjWCRqIVIheCRqIVIhfSRqIVJ+UCEnV08jTzhYTyNsJ1NPfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRqIVojWCRqIVoheCRqIVohfSRqIVp+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRqIWMjWCRqIWMheCRqIWMhfSRqIWN+UCEnV08jUzpiT35QPlVPI086YU8hcSdQWCF4J1BYflBHU08kbCR0T35QJDhZT1A2XU9VXk9bOVdPbz5TT3MjaE94OVdPeTlXT31gTyFPXU8hUTpsTyFUOVdPIVU5V08hVjlXTyFZOVdPIWM4aE8hcyNnTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kbCR0TyR6Om5PJHshT09+UCQ7bE9vOF9PcyRsT35PI1M8ak9+UCQ4WU9QNl1PVV5PWzlXT28+U09zI2hPeDlXT3k5V099YE8hT11PIVE6bE8hVDlXTyFVOVdPIVY5V08hWTlXTyFjOGhPIXMjZ08heVtPI1M8a08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kejpuTyR7IU9PflAkO2xPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kWGEhcSRYYSFuJFhhIX0kWGF+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRZYSFxJFlhIW4kWWEhfSRZYX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJFphIXEkWmEhbiRaYSF9JFphflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kW2EhcSRbYSFuJFthIX0kW2F+UCEnV096OnBPJHojZE9UJFthIVMkW2EhYiRbYSFtJFthIXEkW2EhdiRbYSNTJFthI3okW2EjeyRbYSN8JFthI30kW2EkTyRbYSRRJFthJFIkW2EkUyRbYSRUJFthJFUkW2EkViRbYSRXJFthIW4kW2EhfSRbYX5QISdXT3o6cU8keiNkT1QkW2EhUyRbYSFiJFthIXYkW2EjUyRbYSN6JFthI3skW2EjfCRbYSN9JFthJE8kW2EkUSRbYSRSJFthJFMkW2EkVCRbYSRVJFthJFYkW2EkVyRbYX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJF9hIXEkX2EhbiRfYSF9JF9hflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0ka2EhcSRrYSFuJGthIX0ka2F+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSR8YSFxJHxhIW4kfGEhfSR8YX5QISdXT3o6cE8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpflAhJ1dPejpwTyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSFuI3lpIX0jeWl+UCEnV096OnFPIXY9bk8jUyNRTyN6OnNPI3s6e08jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWl+UCEnV09UOnRPejpwTyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIVMjeWkhbSN5aSFxI3lpIW4jeWkhfSN5aX5QISdXT1Q6dU96OnFPIWI6eU8hdj1uTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE8hUyN5aX5QISdXT1Q6dE96OnBPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIVMjeWkhYiN5aSFtI3lpIXEjeWkhbiN5aSF9I3lpflAhJ1dPVDp1T3o6cU8hdj1uTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE8hUyN5aSFiI3lpflAhJ1dPejpwTyNTI1FPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSFuI3lpIX0jeWl+UCEnV096OnFPI1MjUU8jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSN6I3lpI3sjeWl+UCEnV096OnBPI1MjUU8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpIW4jeWkhfSN5aX5QISdXT3o6cU8jUyNRTyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aX5QISdXT3o6cE8jUyNRTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkhbiN5aSF9I3lpflAhJ1dPejpxTyNTI1FPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpflAhJ1dPejpwTyNTI1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSFuI3lpIX0jeWl+UCEnV096OnFPI1MjUU8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWl+UCEnV096OnBPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aX5QISdXT3o6cE8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpflAhJ1dPejpwTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSFuI3lpIX0jeWl+UCEnV096OnFPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWl+UCEnV096OnBPJFQ7W08kVjtgTyRXO2BPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8kVDtdTyRWO2FPJFc7YU8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVSN5aX5QISdXT3o6cE8kVjtgTyRXO2BPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyRWO2FPJFc7YU8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpflAhJ1dPejpwTyRTO1lPJFQ7W08kVjtgTyRXO2BPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aSFuI3lpIX0jeWl+UCEnV096OnFPJFM7Wk8kVDtdTyRWO2FPJFc7YU8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFUjeWl+UCEnV096OnBPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkkViN5aX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I1RhIX0jVGEhcSNUYSNYI1RhflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgnUGEhfSdQYSFxJ1BhI1gnUGF+UCEnV096OnBPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCNQaSFTI1BpIWIjUGkhbSNQaSFxI1BpIW4jUGkhfSNQaX5QISdXT3o6cU8hdj1uTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI1BpIVMjUGkhYiNQaX5QISdXT3o6cE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE9UI3ZpIVMjdmkhYiN2aSFtI3ZpIXEjdmkhbiN2aSF9I3ZpflAhJ1dPejpxTyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkT1QjdmkhUyN2aSFiI3ZpflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0jeGkhcSN4aSFuI3hpIX0jeGl+UCEnV096OnBPI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QhdXEhUyF1cSFiIXVxIW0hdXEhcSF1cSF2IXVxIW4hdXEhfSF1cX5QISdXT3o6cU8jUyNRTyN6OnNPI3s6e08jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCF1cSFTIXVxIWIhdXEhdiF1cX5QISdXT3o6cE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE9UI1BxIVMjUHEhYiNQcSFtI1BxIXEjUHEhbiNQcSF9I1BxflAhJ1dPejpxTyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkT1QjUHEhUyNQcSFiI1BxflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kanEhcSRqcSFuJGpxIX0kanF+UCEnV096OnBPI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QhdXkhUyF1eSFiIXV5IW0hdXkhcSF1eSF2IXV5IW4hdXkhfSF1eX5QISdXT3o6cU8jUyNRTyN6OnNPI3s6e08jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCF1eSFTIXV5IWIhdXkhdiF1eX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJGp5IXEkankhbiRqeSF9JGp5flAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kaiFSIXEkaiFSIW4kaiFSIX0kaiFSflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kaiFaIXEkaiFaIW4kaiFaIX0kaiFaflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kaiFjIXEkaiFjIW4kaiFjIX0kaiFjflAhJ1dPI1M9VE9+UCQ4WU9QNl1PVV5PWzlXT28+U09zI2hPeDlXT3k5V099YE8hT11PIVE6bE8hVDlXTyFVOVdPIVY5V08hWTlXTyFjOGhPIXMjZ08heVtPI1M9VU8jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kejpuTyR7IU9PflAkO2xPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jTz1TTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNPPVJPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJ1BYIXEnUFghbidQWCF9J1BYflAhJ1dPVCZ6WHomelghUyZ6WCFiJnpYIW8melghcSZ6WCF2JnpYIXkmelgjUyZ6WCNXJnpYI2AmelgjYSZ6WCNzJnpYI3omelgjeyZ6WCN8JnpYI30melgkTyZ6WCRRJnpYJFImelgkUyZ6WCRUJnpYJFUmelgkViZ6WCRXJnpYJHomelghfSZ6WH5PI3U5Wk8jdzlbTyNYJnpYIXgmelh+UC44b08heSRoTyNTPV5Pfk8hcTloT35QPlVPIXkkaE8jUz1jT35PIXE+T08jTzl9T35PVDh2T3o4dE8hUzh3TyFiOHhPIXE6T08hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSNUYSFxI1RhIW4jVGEhfSNUYX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJ1BhIXEnUGEhbidQYSF9J1BhflAhJ1dPIXE+UE8jTzpST35PIXE+UU8jTzpZT35PI086WU8jbCdTT35PI086Wk8jbCdTT35PI086X08jbCdTT35PI3U7ZU8jdztnTyFtJnpYIW4melh+UC44b08jdTtmTyN3O2hPVCZ6WHomelghUyZ6WCFiJnpYIW8melghdiZ6WCF5JnpYI1MmelgjVyZ6WCNgJnpYI2EmelgjcyZ6WCN6JnpYI3smelgjfCZ6WCN9JnpYJE8melgkUSZ6WCRSJnpYJFMmelgkVCZ6WCRVJnpYJFYmelgkVyZ6WCR6JnpYfk8hcTt0T35QPlVPIXE7dU9+UD5VTyFxPlhPI088b09+TyFxPllPI085V09+T1Q4dk96OHRPIVM4d08hYjh4TyFxPHBPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXE8cU8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9+UCEnV08hcT5aTyNPPHZPfk8hcT5bTyNPPHtPfk8jTzx7TyNsJ1NPfk8jTzlXTyNsJ1NPfk8jTzx8TyNsJ1NPfk8jTz1QTyNsJ1NPfk8heSRoTyNTPXxPfk9vPVtPcyRsT35PIXkkaE8jUz19T35PIXkkaE8jUz5VT35PIXkkaE8jUz5WT35PIXkkaE8jUz5XT35Pbz17T3MkbE9+T28+VE9zJGxPfk9vPlNPcyRsT35PJU8kVSR9JGQhZCRWI2IlViNlJ2chcyNkflwiLFxuICBnb3RvOiBcIiUmeSdtUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAnblAndVBQJ3soT1BQUChoUChPUChPKlpQKlpQUDJXOmo6bVBQKlo6c0JwUEJzUEJzUFA6c0NTQ1ZDWjpzOnNQUFBDXlBQOnNLXiEkUyEkUzpzISRXUCEkVyEkVyElVVAhLl0hN3BQIT9vUCpaUCpaKlpQUFBQUCE/clBQUFBQUFAqWipaKloqWlBQKloqWlAhRV0hR1JQIUdWIUd5IUdSIUdSIUhQKloqWlAhSFkhSGwhSWIhSmAhSmQhSmAhSm8hSn0hSn0hS1YhS1khS1kqWlBQKlpQUCFLXiMlWyMlWyMlYFAjJWZQKE8jJWooTyMmUyMmViMmViMmXShPIyZgKE8oTyMmZiMmaShPIyZyIyZ1KE8oTyhPKE8oTyMmeChPKE8oTyhPKE8oTyhPKE8oTyMmeyFLUihPKE8jJ18jJ28jJ3IoTyhPUCMndSMnfCMoUyMobyMoeSMpUCMpWiMpYiMpaCMqZCM0WCM1VCM1WiM1YSM1ayM1cSM1dyM2XSM2YyM2aSM2byM2dSM2eyM3UiM3XSM3ZyM3bSM3cyM3fVBQUFBQUFBQIzhUIzhYIzh9I05PI05SI05dJChmJChyJClYJClfJCliJCllJClrJCxYJDV2JD5fJD5iJD5oJD5rJD5uJD53JD57JD9YJD9rJEJrJENPJEN7JEt7UFAlJXklJX0lJlolJnAlJnZRIW5RVCFxViFyUVVPUiV4IW1SVk99IWhQVlghUyFqIXIhcyF3JH0lUCVTJVUoYCtyK3UuYi5kLmwwYDBhMGkxYXwhaFBWWCFTIWohciFzIXckfSVQJVMlVShgK3IrdS5iLmQubDBgMGEwaTFhUSVeIVpRJWchYVElbCFlUSdkJGRRJ3EkaVEpWyVrUSp5J3RRLF0oeFUtbip2KngrT1EuVytjUS57LFtTL3Qtcy10UTBULlNTMH0vcy93UTFWMFJRMW8xT1IyUDFwMHUhT1BWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uMHQhT1BWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uUSNqXVEkfSFQUSVPIVFRJVAhUlEsUyhrUS5iK3NSLmYrdlImcSNqUSl6JnBSL2EtUjB1aFBWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uUiNsXmsjcF9qI2sjcyZzJnczeDN5N2w4ZjhnOGg4aVIjdWBUJnwjdCdPUi1ZKlUwdGhQVlhbX2Jqa2xtbm9weHl6IVMhVyFYIVkhXSFnIWohciFzIXcheSF6IXshfSNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiI2sjbiNvI3MjdCRSJFMkVSR5JH0lUCVSJVMlVCVVJWMlfSZTJlcmcCZzJnQmdydPJ1UnWSd6KE8oYChsKHspUClpKXApdCl2KlAqVCpVKm8rUCtyK3UreixULFYsWC1RLVItZC1rLXouYi5kLmwudC9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09blIjdmEtciNPWiNmI20jdyRWJFckWCRZJFokWyR1JHYlVyVZJVslYCVzJXwmTyZRJlUmXiZfJmAmYSZiJmMmZCZlJmYmZyZoJmkmaiZrJmwmbSZ1JnYmeydYJ1onWyhdKHApcSlzKXUqTypbKl4rUytWLGAsYyx5LHssfS1WLVctWC1pLXguay53L2AvaC9uL3kwcjB1MHgxUTFYMWQxbTFxMnEycjJ4MnkyejJ7MnwyfTNPM1EzUjNTM1QzVTNWM1czWDNZM1ozWzNdM14zXzNgM2EzYjNjM2UzZjNpM2ozbDNtM24zcTNyM3Q0WTR5NHo0ezR8NH01TzVQNVI1UzVUNVU1VjVXNVg1WTVaNVs1XTVeNV81YDVhNWI1YzVkNWY1ZzVqNWs1bTVuNW81cjVzNXU2UjZWNn03TzdQN1E3UjdTN1U3VjdXN1k3WjdbN103XjdfN2A3YTdiN2M3ZDdlN2Y3ZzdoN2o3azduN3A3cTd4N3k3ezd9OE84UDhROFI4UzhWOFc4WThdOVU5XjlfOWA5YTliOWM5ZjlnOWk5ajlrOWw5bTluOW85cDlxOXI5czl0OXU5djl3OXg5ejl7OlA6UTpUOlY6VzpbOl46YDpjO2o7aztsO207bjtvO3A7czt2O3c7eDt5O3o7ezt8O308TzxQPFE8UjxTPFQ8VTxWPFc8WDxZPFo8WzxdPF48XzxgPGE8YjxjPGQ8ZTxmPGc8aDxpPGw8bTxuPHI8czx0PHU8dzx4PHk8ejx9PU89UT1WPVc9Xz1gPWE9cT1yUSddJF1ZKFEkczdUOWU7cTtyUyhVMlo2UVIoWCR0VCZYIX0pdiF3JFFnI30kaCdTJ2knbSdyKFAoVClaKmYqcyp6Kn0rUStdK2ArZyxaLXItdS17LlEvdTFQNX02TzZQNl04YjhjOGQ9ZD1lPWk+Tz5QPlE+WD5ZPlo+WzNaZlBWWFtfYmdqa2xtbm9wcnh5eiFTIVchWCFZIV0hZSFmIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0I30kUiRTJFUkaCR5JH0lUCVSJVMlVCVVJWMlcCVyJX0mUyZXJnAmcyZ0JncnTydTJ1UnWSdeJ2knbSdyJ3ooTyhQKFIoUyhUKGAobCh7KVApWilfKWMpaSlwKXQpdipQKlQqVSpmKm8qcyp6Kn0rUCtRK10rYCtkK2crcit1K3osVCxWLFgsWix1LVEtUi1kLWstci11LXotey18LlEuYi5kLmwudC9bL2MvaS9tL3UveDBWMGAwYTBkMGUwaTB2MVAxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NX02TzZQNlQ2XTZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhiOGM4ZDhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9ZD1lPWk9bT1uPk8+UD5RPlg+WT5aPlszc2NQVlhbX2JkZWdqa2xtbm9wcnh5eiFTIVchWCFZIV0hZSFmIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0I3sjfSRSJFMkVSRoJHkkfSVQJVIlUyVUJVUlYyVtJW4lcCVyJX0mUyZXJnAmcyZ0JncnTydTJ1UnWSdeJ2knbSdyJ3ooTyhQKFIoUyhUKGAobCh7KVApWileKV8pYylnKWgpaSlwKXQpdipQKlQqVSpmKm8qcyp6Kn0rUCtRK10rYCtkK2crcit1K3osVCxWLFgsWix1LHgtUS1SLWQtay1yLXUtei17LXwuUS5iLmQubC50L1svYy9pL20vdS94MFYwYDBhMGQwZTBpMHYxUDFSMV0xYTJXMlgyWTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc1fTZPNlA2VDZdNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGI4YzhkOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1kPWU9aT1tPW4+Tz5QPlE+WD5ZPlo+WzBwaFBWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwYDBhMGQwZTBpMHYxUjFhMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzZUNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1tPW5UMVowVjFdUiZdI1AhbiNbWiNmI3ckViRXJFgkWSRbJHMkdiVXJVklWyZRJl8mYCZhJmImYyZkJmUmZidYJ1onWyhdKXEpcypeK1Ysey14L3kxUTFkMXE3ajdrIVkyajJaMngyeTJ6MnsyfTNPM1EzUjNTM1QzVTNWM1czWDNhM2IzYzNlM2YzaTNqM2wzbTNuM3EzcjN0IV40bTJyNHk0ejR7NHw1TzVQNVI1UzVUNVU1VjVXNVg1WTViNWM1ZDVmNWc1ajVrNW01bjVvNXI1czV1NlE2UiNRNnAjbSVgJXMmdSZ2JnsocCpPK1MsYCxjLHktVi1YLncycTZ9N083UDdRN1M3VDdVN1k3WjdbN103XjdfN2A3YTduN3A3cTd4N3s3fThROFM4VjhXOFk4XTlVOmM9Vj1XI144fSV8Jk8mVSl1LH0tVy1pL2gvbjByMHUweDFtNFk2VjdWN1c3eThPOFA4UjleOV85YDlhOWM5ZTlmOWc5aTlqOWs5bDltOW45bzlwOXg5ejl7OlA6UTpUOlY6VzpbOl46YDxmPGc9Xz1xPXIhXjtTLmsvYDtqO2s7bDttO3A7cTtzO3Y7eDt6O3w8TzxRPFM8VTxoPGw8bjxyPHQ8dzx4PHo8fT1PPVE9YD1hbztUMVg7cjt3O3k7ezt9PFA8UjxUPFY8aTxtPHM8dTx5UyRpdSNoUSRxd1UndCRqJGwmb1EndiRrUyd4JG0kclEqfCd1UStPJ3dRK1IneVE0WDV4UzRbNXo1e1E0XTV8UTZVOF5TNlc4XzhgUTZYOGFROWQ9WVM5fD1bPV5ROlM9Y1E9XT15Uz1iPXs9fFE9Zj19UT1vPlJTPXA+Uz5WUz1zPlQ+VVI9dD5XVCduJGgqcyFjc1BWWHQhUyFqIXIhcyF3JGgkfSVQJVMlVSdpKFQoYClXKnMrXStnK3IrdSxnLGsuYi5kLmwwYDBhMGkxYVEkXnJSKmAnXlEqeCdzUS10KntSL3ctd1EoVyR0USlVJWhRKW4ldlEqaSdmUStrKFhSLWMqalEoViR0USlZJWpRKW0ldlEqZSdlUypoJ2YpblMraihXKFhTLWIqaSpqUS5dK2tRL1QsbVEvZS1gUi9nLWNRKFUkdFEpVCVoUSlWJWlRKWwldlUqZydmKW0pblUraShWKFcoWFEsZilVVS1hKmgqaSpqUy5bK2ora1MvZi1iLWNRMFguXVIwdC9nVCtlKFQrZ1slZSFfJGInYythLlIwUVIsZClRYiRvdihUK1srXStgK2cuUC5RMFBSK1Qne1MrZShUK2dULGopVyxrUjBXLlhUMVswVjFdMHd8UFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgsXy1RLVItZC1rLXouYi5kLmwudC9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09blQkeHske1ErcChbUi5fK25UJHp7JHtRKGIkfVEoaiVQUShvJVNRKHIlVVEuait5UTBdLmZRMF4uaVIxZzBpUihlJU9YK3woYyhkK30sUFIoZiVPWChoJVAlUyVVMGlSJVMhVF8lYSFdJVIobCxULFYudDBkUiVVIVVSLngsWFIsWyh3USlYJWpTKmQnZSlZUy1fKmUsbVMvZC1gL1RSMHMvZVElcSFmVSldJW0lbiVyVSxvKV4pZyloUi9fLHhSKWQlcFIvXSx1U1NPIW1SIW9TUSFyVlIleSFyUSFqUFMhc1YhclEhd1hbJXUhaiFzIXcrcjBhMWFRK3IoYFEwYS5sUjFhMGBRKWolc1MseilqN3ZSN3Y3V1EtUyl6Ui9iLVNRJngjcVMqUiZ4N21SN205WVMqViZ7JnxSLVoqVlEpdyZZUi1QKXchbCdUI3wnaCpuKnEqditXK1ssbS1gLXMtdi15LlAuei9zL3YvejBQMU8xcDReNF80YDV5Nlk2WjZbOlU6WDpdPWc9aD1qPXU9dj13PXhSKlonVDFeZFBWWFtfYmprbG1ub3ByeHl6IVMhVyFYIVkhXSFlIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyVwJX0mUyZXJnAmcyZ0JncnTydVJ1knXid6KE8oUihTKGAobCh7KVApXyljKWkpcCl0KXYqUCpUKlUqbytQK2Qrcit1K3osVCxWLFgsdS1RLVItZC1rLXotfC5iLmQubC50L1svYy9pL20veDBWMGAwYTBkMGUwaTB2MVIxXTFhMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzZUNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1tPW5gI3pkI3slbSleKWcseDJXMllRI3tlUSVtIWZRKV4lblEpZyVyUSx4KWghdjJXZyN9JGgnUydpJ20ncihQKFQpWipmKnMqeip9K1ErXStgK2csWi1yLXUtey5RL3UxUDV9Nk82UDZdOGI4YzhkPWQ9ZT1pPk8+UD5RPlg+WT5aPltSMlkyWHx0UFZYIVMhaiFyIXMhdyR9JVAlUyVVKGArcit1LmIuZC5sMGAwYTBpMWFXJGB0J2krXSxnUydpJGgqc1MrXShUK2dULGcpVyxrUSdfJF5SKmEnX1EqdCdvUi1tKnRRL3Atb1Mwey9wMHxSMHwvcVEtfStYUi98LX1RK2coVFIuWStnUytgKFQrZ1MsaClXLGtRLlErXVcuVCtgLGguUS9PUi9PLGdRKVIlZVIsZSlSUSd8JG9SK1UnfFExXTBWUjF3MV1RJHt7UiheJHtRK3QoYVIuYyt0USt3KGJSLmcrd1ErfShjUSxQKGRULm0rfSxQUSh8JWBTLGEofDd0Ujd0N1ZRKHklXlIsXih5USxrKVdSL1Isa1EpYCVvUyxxKWAvV1IvVyxyUSx2KWRSL14sdlQhdVYhcmohaVBWWCFqIXIhcyF3KGArci5sMGAwYTFhUSVRIVNRKGEkfVcoaCVQJVMlVTBpUS5lK3VRMFouYlIwWy5kfFpQVlghUyFqIXIhcyF3JH0lUCVTJVUoYCtyK3UuYi5kLmwwYDBhMGkxYVEjZltVI21fI3Mmd1Ejd2JRJFZrUSRXbFEkWG1RJFluUSRab1EkW3BRJHN4XiR1eTJfNGI2ZThxOm06blEkdnpRJVchV1ElWSFYUSVbIVlXJWAhXSVSKGwsVlUlcyFnJnAtUlElfCF5USZPIXpRJlEhe1MmVSF9KXZeJl4jUjJhNGQ2Zzh0OnA6cVEmXyNTUSZgI1RRJmEjVVEmYiNWUSZjI1dRJmQjWFEmZSNZUSZmI1pRJmcjW1EmaCNdUSZpI15RJmojX1EmayNgUSZsI2FRJm0jYlEmdSNuUSZ2I29TJnsjdCdPUSdYJFJRJ1okU1EnWyRVUShdJHlRKHAlVFEpcSV9USlzJlNRKXUmV1EqTyZ0UypbJ1U0WlEqXidZXipfMlszdTV2OFo6YT1SPVNRK1MnelErVihPUSxgKHtRLGMpUFEseSlpUSx7KXBRLH0pdFEtVipQUS1XKlRRLVgqVV4tXTJdM3Y1dzhbOmI9VD1VUS1pKm9RLXgrUFEuayt6US53LFhRL2AtUVEvaC1kUS9uLWtRL3ktelEwci9jUTB1L2lRMHgvbVExUS94VTFYMFYxXTlXUTFkMGVRMW0wdlExcTFSUTJaMl5RMnFqUTJyM3lRMngzelEyeTN8UTJ6NE9RMns0UVEyfDRTUTJ9NFVRM08yYFEzUTJiUTNSMmNRM1MyZFEzVDJlUTNVMmZRM1YyZ1EzVzJoUTNYMmlRM1kyalEzWjJrUTNbMmxRM10ybVEzXjJuUTNfMm9RM2AycFEzYTJzUTNiMnRRM2MydVEzZTJ2UTNmMndRM2kzUFEzajNkUTNsM2dRM20zaFEzbjNrUTNxM29RM3IzcFEzdDNzUTRZNFdRNHkze1E0ejN9UTR7NFBRNHw0UlE0fTRUUTVPNFZRNVA0Y1E1UjRlUTVTNGZRNVQ0Z1E1VTRoUTVWNGlRNVc0alE1WDRrUTVZNGxRNVo0bVE1WzRuUTVdNG9RNV40cFE1XzRxUTVgNHJRNWE0c1E1YjR0UTVjNHVRNWQ0dlE1ZjR3UTVnNHhRNWo1UVE1azVlUTVtNWhRNW41aVE1bzVsUTVyNXBRNXM1cVE1dTV0UTZRNGFRNlIzeFE2VjZUUTZ9Nl5RN082X1E3UDZgUTdRNmFRN1I2YlE3UzZjUTdUNmRRN1U2ZlU3VixULnQwZFE3VyVjUTdZNmhRN1o2aVE3WzZqUTddNmtRN142bFE3XzZtUTdgNm5RN2E2b1E3YjZwUTdjNnFRN2Q2clE3ZTZzUTdmNnRRN2c2dVE3aDZ2UTdqNnhRN2s2eVE3bjZ6UTdwNntRN3E2fFE3eDdYUTd5N2lRN3s3b1E3fTdyUThPN3NROFA3dVE4UTd3UThSN3pROFM3fFE4VjhUUThXOFVROFk4WFE4XThmVTlVI2smczdsUTleOGpROV84a1E5YDhsUTlhOG1ROWI4blE5YzhvUTllOHBROWY4clE5ZzhzUTlpOHVROWo4dlE5azh3UTlsOHhROW04eVE5bjh6UTlvOHtROXA4fFE5cTh9UTlyOU9ROXM5UFE5dDlRUTl1OVJROXY5U1E5dzlUUTl4OVpROXo5W1E5ezldUTpQOWhROlE5eVE6VDl9UTpWOk9ROlc6UlE6WzpZUTpeOlpROmA6X1E6YzhpUTtqOmRRO2s6ZVE7bDpmUTttOmdRO246aFE7bzppUTtwOmpRO3E6a1E7cjpsUTtzOm9RO3Y6clE7dzpzUTt4OnRRO3k6dVE7ejp2UTt7OndRO3w6eFE7fTp5UTxPOnpRPFA6e1E8UTp8UTxSOn1RPFM7T1E8VDtQUTxVO1FRPFY7UlE8VztTUTxYO1RRPFk7VVE8WjtWUTxbO1dRPF07WFE8XjtZUTxfO1pRPGA7W1E8YTtdUTxiO15RPGM7X1E8ZDtgUTxlO2FRPGY7Y1E8ZztkUTxoO2VRPGk7ZlE8bDtnUTxtO2hRPG47aVE8cjt0UTxzO3VRPHQ8alE8dTxrUTx3PG9RPHg8cFE8eTxxUTx6PHZRPH08e1E9Tzx8UT1RPVBRPVY4aFE9VzhnUT1fPVpRPWA5VlE9YTlYUT1xPW1SPXI9blIpeyZwUSV0IWdRKU8lY1QpeSZwLVIkU2lQVlhbYmtsbW5vcHh5eiFTIVchWCFZIWohciFzIXcheyNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiJFIkUyRVJHkkfSVQJVMlVSV9JlMnWShPKGApcCtQK3IrdS16LmIuZC5sL3gwYDBhMGUwaTFSMWEyWzJdNng2eSF0M3cnVTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzejN8NE80UTRTNFU1djV3IXg2UzN1M3YzeDN5M3szfTRQNFI0VDRWNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0JE84ZV9qIV0hZyNrI24jbyNzI3QlUiVUJnAmcyZ0JncnTyd6KGwoeylQKWkqUCpVLFYsWC1SNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2ejZ7Nnw3WDdsN283cjd3N3w4VDhVOFg4WjhbOGY4ZzhoOGkjfD1YIXkheiF9JWMmVyl0KXYqVCpvLFQtZC1rLnQvYy9pL20wZDB2NFc2VDdpN3M3dTd6OGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiO2M7ZD1aPW09biF2PWsrei1ROVY5WDpkOmU6ZjpnOmg6ajprOm06bzpwOnI6dDp2Ong6ejp8O087UTtTO1U7VztZO1s7XjtgO2U7ZztpO3Q8ajxvPHA8djx7PHw9UD1SPVQhXT1sMFYxXTlXOmk6bDpuOnE6czp1Onc6eTp7On07UDtSO1Q7VjtYO1o7XTtfO2E7ZjtoO3U8azxxPVM9VVEjcl9RJnIja1EmeiNzUil9JnNTI3FfI3NeJFRqM3gzeThmOGc4aDhpUypRJnc3bFQ5WSNrJnNRJn0jdFIqWCdPUiZUIXxSJlohfVEmWSF9Ui1PKXZRI3xnUSdWI31TJ2gkaCpzUSpZJ1NRKm4naVEqcSdtUSp2J3JRK1coUFMrWyhUK2dRLG0pWlEtYCpmUS1zKnpRLXYqfVEteStRUy5QK10rYFEueixaUS9zLXJRL3YtdVEvei17UTBQLlFRMU8vdVExcDFQUTReNX1RNF82T1E0YDZQUTV5Nl1RNlk4YlE2WjhjUTZbOGRROlU9ZFE6WD1lUTpdPWlRPWc+T1E9aD5QUT1qPlFRPXU+WFE9dj5ZUT13PlpSPXg+WzB0IU9QVlhbX2Jqa2xtbm9weHl6IVMhVyFYIVkhXSFnIWohciFzIXcheSF6IXshfSNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiI2sjbiNvI3MjdCRSJFMkVSR5JH0lUCVSJVMlVCVVJWMlfSZTJlcmcCZzJnQmdydPJ1UnWSd6KE8oYChsKHspUClpKXApdCl2KlAqVCpVKm8rUCtyK3UreixULFYsWC1RLVItZC1rLXouYi5kLmwudC9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09biF2JFBnI30kaCdTJ2knbSdyKFAoVClaKmYqcyp6Kn0rUStdK2ArZyxaLXItdS17LlEvdTFQNX02TzZQNl04YjhjOGQ9ZD1lPWk+Tz5QPlE+WD5ZPlo+W1MkXXInXlElayFlUyVvIWYlclEpYiVwVStYKFIoUytkUSxwKV9RLHQpY1EvWix1US97LXxSMHAvW3x2UFZYIVMhaiFyIXMhdyR9JVAlUyVVKGArcit1LmIuZC5sMGAwYTBpMWEjVSNpW2JrbG1ub3B4eXohVyFYIVkheyNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiJFIkUyRVJHklfSZTJ1koTylwK1Atei94MGUxUjJbMl02eDZ5ZCteKFQpVytdK2ArZyxnLGgsay5RL08hdDZ3J1UyXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3ozfDRPNFE0UzRVNXY1dyF4O2IzdTN2M3gzeTN7M300UDRSNFQ0VjRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dCRPPXpfaiFdIWcjayNuI28jcyN0JVIlVCZwJnMmdCZ3J08neihsKHspUClpKlAqVSxWLFgtUjZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nno2ezZ8N1g3bDdvN3I3dzd8OFQ4VThYOFo4WzhmOGc4aDhpI3w+XSF5IXohfSVjJlcpdCl2KlQqbyxULWQtay50L2MvaS9tMGQwdjRXNlQ3aTdzN3U3ejhqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjtjO2Q9Wj1tPW4hdj5eK3otUTlWOVg6ZDplOmY6ZzpoOmo6azptOm86cDpyOnQ6djp4Ono6fDtPO1E7UztVO1c7WTtbO147YDtlO2c7aTt0PGo8bzxwPHY8ezx8PVA9Uj1UIV0+XzBWMV05VzppOmw6bjpxOnM6dTp3Onk6ezp9O1A7UjtUO1Y7WDtaO107XzthO2Y7aDt1PGs8cT1TPVVSJ3AkaFEnbyRoUi1sKnNSJF9yUi1xKndRK1koUlErWihTUi5YK2RUK2YoVCtnZStfKFQpVytdK2ArZyxnLGgsay5RL09RJWYhX1EnYiRiUSpjJ2NRLlUrYVEwUy5SUjFVMFFRI2VaUSVYIVdRJVohWFElXSFZUSd9JHBRKHMlVlEodCVXUSh1JVlRKHYlW1EofSViUSlTJWZRKVsla1EpZiVxUSlrJXRRKmInYlEsbildUS1eKmNRLlYrYlEuVytjUS5lK3hRLm8sUVEucCxSUS5xLFNRLnYsV1EueSxZUS59LGJRL1Usb1EvfS5PUTBULlNRMFUuVVEwVy5YUTBbLmhRMGsvUVEwcS9fUTFTME9RMVYwUlExVzBTUTFgMF9RMWgwalExcjFUUTFzMVVRMXYxW1ExeTFfUTF9MWpRMlQxe1IyVTF8USRwdlMrYihUK2dVLk8rWytdK2BTME8uUC5RUjFUMFB8IWFQVlghUyFqIXIhcyF3JH0lUCVTJVUoYCtyK3UuYi5kLmwwYDBhMGkxYVEkZHRXK2MoVClXK2csa1cuUytdK2AsZyxoVDBSLlEvTzB0IU9QVlhbX2Jqa2xtbm9weHl6IVMhVyFYIVkhXSFnIWohciFzIXcheSF6IXshfSNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiI2sjbiNvI3MjdCRSJFMkVSR5JH0lUCVSJVMlVCVVJWMlfSZTJlcmcCZzJnQmdydPJ1UnWSd6KE8oYChsKHspUClpKXApdCl2KlAqVCpVKm8rUCtyK3UreixULFYsWC1RLVItZC1rLXouYi5kLmwudC9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09blIufCxfMHd9UFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgsXy1RLVItZC1rLXouYi5kLmwudC9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09blQkd3ske1EoaSVQUShuJVNRKHElVVIxZjBpUSViIV1RKG0lUlEsVShsUS5zLFRRLnUsVlEwYy50UjFjMGRRJXEhZlIpXSVyUillJXBcIixcbiAgbm9kZU5hbWVzOiBcIlx1MjZBMCAoIEhlcmVkb2NTdHJpbmcgRXNjYXBlU2VxdWVuY2UgYWJzdHJhY3QgTG9naWNPcCBhcnJheSBhcyBCb29sZWFuIGJyZWFrIGNhc2UgY2F0Y2ggY2xvbmUgY29uc3QgY29udGludWUgZGVmYXVsdCBkZWNsYXJlIGRvIGVjaG8gZWxzZSBlbHNlaWYgZW5kZGVjbGFyZSBlbmRmb3IgZW5kZm9yZWFjaCBlbmRpZiBlbmRzd2l0Y2ggZW5kd2hpbGUgZW51bSBleHRlbmRzIGZpbmFsIGZpbmFsbHkgZm4gZm9yIGZvcmVhY2ggZnJvbSBmdW5jdGlvbiBnbG9iYWwgZ290byBpZiBpbXBsZW1lbnRzIGluY2x1ZGUgaW5jbHVkZV9vbmNlIExvZ2ljT3AgaW5zdGVhZG9mIGludGVyZmFjZSBsaXN0IG1hdGNoIG5hbWVzcGFjZSBuZXcgbnVsbCBMb2dpY09wIHByaW50IHJlcXVpcmUgcmVxdWlyZV9vbmNlIHJldHVybiBzd2l0Y2ggdGhyb3cgdHJhaXQgdHJ5IHVuc2V0IHVzZSB2YXIgVmlzaWJpbGl0eSB3aGlsZSBMb2dpY09wIHlpZWxkIExpbmVDb21tZW50IEJsb2NrQ29tbWVudCBUZXh0SW50ZXJwb2xhdGlvbiBQaHBDbG9zZSBUZXh0IFBocE9wZW4gVGVtcGxhdGUgVGV4dEludGVycG9sYXRpb24gRW1wdHlTdGF0ZW1lbnQgOyB9IHsgQmxvY2sgOiBMYWJlbFN0YXRlbWVudCBOYW1lIEV4cHJlc3Npb25TdGF0ZW1lbnQgQ29uZGl0aW9uYWxFeHByZXNzaW9uIExvZ2ljT3AgTWF0Y2hFeHByZXNzaW9uICkgKCBQYXJlbnRoZXNpemVkRXhwcmVzc2lvbiBNYXRjaEJsb2NrIE1hdGNoQXJtICwgPT4gQXNzaWdubWVudEV4cHJlc3Npb24gQXJyYXlFeHByZXNzaW9uIFZhbHVlTGlzdCAmIFZhcmlhZGljVW5wYWNraW5nIC4uLiBQYWlyIFsgXSBMaXN0RXhwcmVzc2lvbiBWYWx1ZUxpc3QgUGFpciBQYWlyIFN1YnNjcmlwdEV4cHJlc3Npb24gTWVtYmVyRXhwcmVzc2lvbiAtPiA/LT4gVmFyaWFibGVOYW1lIER5bmFtaWNWYXJpYWJsZSAkICR7IENhbGxFeHByZXNzaW9uIEFyZ0xpc3QgTmFtZWRBcmd1bWVudCBTcHJlYWRBcmd1bWVudCBDYXN0RXhwcmVzc2lvbiBVbmlvblR5cGUgTG9naWNPcCBPcHRpb25hbFR5cGUgTmFtZWRUeXBlIFF1YWxpZmllZE5hbWUgXFxcXCBOYW1lc3BhY2VOYW1lIFNjb3BlZEV4cHJlc3Npb24gOjogQ2xhc3NNZW1iZXJOYW1lIEFzc2lnbk9wIFVwZGF0ZUV4cHJlc3Npb24gVXBkYXRlT3AgWWllbGRFeHByZXNzaW9uIEJpbmFyeUV4cHJlc3Npb24gTG9naWNPcCBMb2dpY09wIExvZ2ljT3AgQml0T3AgQml0T3AgQml0T3AgQ29tcGFyZU9wIENvbXBhcmVPcCBCaXRPcCBBcml0aE9wIENvbmNhdE9wIEFyaXRoT3AgQXJpdGhPcCBJbmNsdWRlRXhwcmVzc2lvbiBSZXF1aXJlRXhwcmVzc2lvbiBDbG9uZUV4cHJlc3Npb24gVW5hcnlFeHByZXNzaW9uIENvbnRyb2xPcCBMb2dpY09wIFByaW50SW50cmluc2ljIEZ1bmN0aW9uRXhwcmVzc2lvbiBzdGF0aWMgUGFyYW1MaXN0IFBhcmFtZXRlciAjWyBBdHRyaWJ1dGVzIEF0dHJpYnV0ZSBWYXJpYWRpY1BhcmFtZXRlciBQcm9wZXJ0eVBhcmFtZXRlciBVc2VMaXN0IEFycm93RnVuY3Rpb24gTmV3RXhwcmVzc2lvbiBjbGFzcyBCYXNlQ2xhdXNlIENsYXNzSW50ZXJmYWNlQ2xhdXNlIERlY2xhcmF0aW9uTGlzdCBDb25zdERlY2xhcmF0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciBQcm9wZXJ0eURlY2xhcmF0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciBNZXRob2REZWNsYXJhdGlvbiBVc2VEZWNsYXJhdGlvbiBVc2VMaXN0IFVzZUluc3RlYWRPZkNsYXVzZSBVc2VBc0NsYXVzZSBVcGRhdGVFeHByZXNzaW9uIEFyaXRoT3AgU2hlbGxFeHByZXNzaW9uIFRocm93RXhwcmVzc2lvbiBJbnRlZ2VyIEZsb2F0IFN0cmluZyBNZW1iZXJFeHByZXNzaW9uIFN1YnNjcmlwdEV4cHJlc3Npb24gVW5hcnlFeHByZXNzaW9uIEFyaXRoT3AgSW50ZXJwb2xhdGlvbiBTdHJpbmcgSWZTdGF0ZW1lbnQgQ29sb25CbG9jayBTd2l0Y2hTdGF0ZW1lbnQgQmxvY2sgQ2FzZVN0YXRlbWVudCBEZWZhdWx0U3RhdGVtZW50IENvbG9uQmxvY2sgV2hpbGVTdGF0ZW1lbnQgRW1wdHlTdGF0ZW1lbnQgRG9TdGF0ZW1lbnQgRm9yU3RhdGVtZW50IEZvclNwZWMgU2VxdWVuY2VFeHByZXNzaW9uIEZvcmVhY2hTdGF0ZW1lbnQgRm9yU3BlYyBQYWlyIEdvdG9TdGF0ZW1lbnQgQ29udGludWVTdGF0ZW1lbnQgQnJlYWtTdGF0ZW1lbnQgUmV0dXJuU3RhdGVtZW50IFRyeVN0YXRlbWVudCBDYXRjaERlY2xhcmF0b3IgRGVjbGFyZVN0YXRlbWVudCBFY2hvU3RhdGVtZW50IFVuc2V0U3RhdGVtZW50IENvbnN0RGVjbGFyYXRpb24gRnVuY3Rpb25EZWZpbml0aW9uIENsYXNzRGVjbGFyYXRpb24gSW50ZXJmYWNlRGVjbGFyYXRpb24gVHJhaXREZWNsYXJhdGlvbiBFbnVtRGVjbGFyYXRpb24gRW51bUJvZHkgRW51bUNhc2UgTmFtZXNwYWNlRGVmaW5pdGlvbiBOYW1lc3BhY2VVc2VEZWNsYXJhdGlvbiBVc2VHcm91cCBVc2VDbGF1c2UgVXNlQ2xhdXNlIEdsb2JhbERlY2xhcmF0aW9uIEZ1bmN0aW9uU3RhdGljRGVjbGFyYXRpb24gUHJvZ3JhbVwiLFxuICBtYXhUZXJtOiAzMDQsXG4gIG5vZGVQcm9wczogW1xuICAgIFtcImdyb3VwXCIsIC0zNiwyLDgsNDksODEsODMsODUsODgsOTMsOTQsMTAyLDEwNiwxMDcsMTEwLDExMSwxMTQsMTE4LDEyMywxMjYsMTMwLDEzMiwxMzMsMTQ3LDE0OCwxNDksMTUwLDE1MywxNTQsMTY0LDE2NSwxNzksMTgxLDE4MiwxODMsMTg0LDE4NSwxOTEsXCJFeHByZXNzaW9uXCIsLTI4LDc0LDc4LDgwLDgyLDE5MiwxOTQsMTk5LDIwMSwyMDIsMjA1LDIwOCwyMDksMjEwLDIxMSwyMTIsMjE0LDIxNSwyMTYsMjE3LDIxOCwyMTksMjIwLDIyMSwyMjIsMjI1LDIyNiwyMzAsMjMxLFwiU3RhdGVtZW50XCIsLTMsMTE5LDEyMSwxMjIsXCJUeXBlXCJdLFxuICAgIFtcImlzb2xhdGVcIiwgLTQsNjYsNjcsNzAsMTkxLFwiXCJdLFxuICAgIFtcIm9wZW5lZEJ5XCIsIDY5LFwicGhwT3BlblwiLDc2LFwie1wiLDg2LFwiKFwiLDEwMSxcIiNbXCJdLFxuICAgIFtcImNsb3NlZEJ5XCIsIDcxLFwicGhwQ2xvc2VcIiw3NyxcIn1cIiw4NyxcIilcIiwxNTgsXCJdXCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbcGhwSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMF0sXG4gIHJlcGVhdE5vZGVDb3VudDogMjksXG4gIHRva2VuRGF0YTogXCIhRnxfUiFdT1gkelhZJl5ZWidzWl0kel1eJl5ecCR6cHEmXnFyKVJycytQc3Qrb3R1MmJ1djVldnc2cnd4OFZ4eT5deXo+eXp7P2d7fEB9fH1CYn0hT0NPIU8hUERoIVAhUUtUIVEhUiEhbyFSIVshJHEhWyFdISxQIV0hXiEtYSFeIV8hLX0hXyFgITFTIWAhYSEyZCFhIWIhM3QhYiFjITdeIWMhZCE3eiFkIWUhOVchZSF9ITd6IX0jTyE7XiNPI1AhO3ojUCNRITxoI1EjUiE9VSNSI1MhN3ojUyNUIT11I1QjVSE3eiNVI1YhOVcjViNvITd6I28jcCFDbyNwI3EhRF0jcSNyIUVyI3IjcyFGYCNzJGYkeiRmJGcmXiRnJmohN3omaiRJXyR6JElfJElgJl4kSWAkS1ckeiRLVyRLWCZeJEtYOydTJHo7J1M7PWAmVzwlbD9IVCR6P0hUP0hVJl4/SFVPJHpQJVBWJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelAla08md1BQJW5XT1kkellaJWZaIWEkeiFiOydTJHo7J1M7PWAmVzwlbH4ken5PJHp+fiVmUCZaUDs9YDwlbCR6ViZlZCZ3UCZ2VU9YJHpYWSZeWVonc1pdJHpdXiZeXnAkenBxJl5xIV4keiFeIV8layFfJGYkeiRmJGcmXiRnJElfJHokSV8kSWAmXiRJYCRLVyR6JEtXJEtYJl4kS1g7J1MkejsnUzs9YCZXPCVsP0hUJHo/SFQ/SFUmXj9IVU8kelYnelcmd1AmdlVYWShkWVooZF1eKGRwcShkJGYkZyhkJElfJElgKGQkS1ckS1goZD9IVD9IVShkVShpVyZ2VVhZKGRZWihkXV4oZHBxKGQkZiRnKGQkSV8kSWAoZCRLVyRLWChkP0hUP0hVKGRSKVlXJF5RJndQT1kkellaJWZaIV4keiFeIV8layFfIWApciFgOydTJHo7J1M7PWAmVzwlbE8kelIpeVckUVEmd1BPWSR6WVolZlohXiR6IV4hXyVrIV8hYCpjIWA7J1MkejsnUzs9YCZXPCVsTyR6UipqViRRUSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpWK1lWJ2ZTJndQJ2dRT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelYrdl0md1AhZFVPWSxvWVolZlpdLG9dXiR6XiFeLG8hXiFfLWkhXyFhLG8hYSFiL3khYiF9LG8hfSNPMWYjTzsnUyxvOydTOz1gL3M8JWxPLG9WLHZaJndQIWRVT1ksb1laJWZaXSxvXV4kel4hXixvIV4hXy1pIV8hYSxvIWEhYi95IWI7J1MsbzsnUzs9YC9zPCVsTyxvVi1uWiFkVU9ZLG9ZWiVmWl0sb11eJHpeIWEsbyFhIWIuYSFiOydTLG87J1M7PWAvczwlbH4sb35PLG9+fiVmVS5kV09ZLnxZWi9uWl0ufF1eL25eIWAufCFhOydTLnw7J1M7PWAvaDwlbE8ufFUvUlYhZFVPWS58Wl0ufF4hYS58IWEhYi5hIWI7J1MufDsnUzs9YC9oPCVsTy58VS9rUDs9YDwlbC58VS9zTyFkVVYvdlA7PWA8JWwsb1YwT1omd1BPWSxvWVowcVpdLG9dXjB4XiFeLG8hXiFfLWkhXyFgLG8hYCFhJHohYTsnUyxvOydTOz1gL3M8JWxPLG9WMHhPJndQIWRVVjFQViZ3UCFkVU9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpWMW9aJndQJGRRIWRVT1ksb1laJWZaXSxvXV4kel4hXixvIV4hXy1pIV8hYSxvIWEhYi95IWI7J1MsbzsnUzs9YC9zPCVsTyxvXzJpYCZ3UCNkUU9ZJHpZWiVmWiFeJHohXiFfJWshXyFjJHohYyF9M2shfSNSJHojUiNTM2sjUyNUJHojVCNvM2sjbyNwNHcjcCRnJHokZyZqM2smajsnUyR6OydTOz1gJlc8JWxPJHpfM3JhJndQI2JeT1kkellaJWZaIVEkeiFRIVszayFbIV4keiFeIV8layFfIWMkeiFjIX0zayF9I1IkeiNSI1MzayNTI1QkeiNUI28zayNvJGckeiRnJmozayZqOydTJHo7J1M7PWAmVzwlbE8kelY1T1Ymd1AjZVVPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6UjVsVyZ3UCRWUU9ZJHpZWiVmWiFeJHohXiFfJWshXyFgNlUhYDsnUyR6OydTOz1gJlc8JWxPJHpSNl1WI3dRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelY2eVkjU1Umd1BPWSR6WVolZlp2JHp2dzdpdyFeJHohXiFfJWshXyFgNlUhYDsnUyR6OydTOz1gJlc8JWxPJHpSN3BWI3xRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelI4Xlomd1AlVlFPWThWWVo5UFp3OFZ3eDtfeCFeOFYhXiFfO3shXyNPOFYjTyNQPHkjUDsnUzhWOydTOz1gPlY8JWxPOFZSOVdWJndQJVZRT3c5bXd4Olh4I085bSNPI1A6XiNQOydTOW07J1M7PWA7WDwlbE85bVE5clYlVlFPdzltd3g6WHgjTzltI08jUDpeI1A7J1M5bTsnUzs9YDtYPCVsTzltUTpeTyVWUVE6YVJPOydTOW07J1M7PWA6ajs9YE85bVE6b1clVlFPdzltd3g6WHgjTzltI08jUDpeI1A7J1M5bTsnUzs9YDtYOz1gPCVsOW08JWxPOW1RO1tQOz1gPCVsOW1SO2ZWJndQJVZRT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelI8UV0lVlFPWThWWVo5UFp3OFZ3eDtfeCFhOFYhYSFiOW0hYiNPOFYjTyNQPHkjUDsnUzhWOydTOz1gPlY8JWx+OFZ+TzhWfn4lZlI9T1cmd1BPWThWWVo5UFohXjhWIV4hXzt7IV87J1M4VjsnUzs9YD1oOz1gPCVsOW08JWxPOFZSPW1XJVZRT3c5bXd4Olh4I085bSNPI1A6XiNQOydTOW07J1M7PWA7WDs9YDwlbDhWPCVsTzltUj5ZUDs9YDwlbDhWUj5kViF5USZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpWP1FWIXhVJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelI/blkmd1AkVlFPWSR6WVolZlp6JHp6e0BeeyFeJHohXiFfJWshXyFgNlUhYDsnUyR6OydTOz1gJlc8JWxPJHpSQGVXJFdRJndQT1kkellaJWZaIV4keiFeIV8layFfIWA2VSFgOydTJHo7J1M7PWAmVzwlbE8kelJBVVkkVFEmd1BPWSR6WVolZlp7JHp7fEF0fCFeJHohXiFfJWshXyFgNlUhYDsnUyR6OydTOz1gJlc8JWxPJHpSQXtWJHpRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelJCaVYhfVEmd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6X0NYWiRUUSVUVyZ3UE9ZJHpZWiVmWn0ken0hT0F0IU8hXiR6IV4hXyVrIV8hYDZVIWAhYUN6IWE7J1MkejsnUzs9YCZXPCVsTyR6VkRSViNgVSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpWRG9bJndQJFVRT1kkellaJWZaIU8keiFPIVBFZSFQIVEkeiFRIVtGcyFbIV4keiFeIV8layFfIWA2VSFgOydTJHo7J1M7PWAmVzwlbE8kelZFalgmd1BPWSR6WVolZlohTyR6IU8hUEZWIVAhXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6VkZeViNVVSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpSRnpfJndQJU9RT1kkellaJWZaIVEkeiFRIVtGcyFbIV4keiFeIV8layFfIWckeiFnIWhHeSFoI1IkeiNSI1NKYyNTI1gkeiNYI1lHeSNZOydTJHo7J1M7PWAmVzwlbE8kelJIT10md1BPWSR6WVolZlp7JHp7fEh3fH0ken0hT0h3IU8hUSR6IVEhW0lpIVshXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6Ukh8WCZ3UE9ZJHpZWiVmWiFRJHohUSFbSWkhWyFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpSSXBaJndQJU9RT1kkellaJWZaIVEkeiFRIVtJaSFbIV4keiFeIV8layFfI1IkeiNSI1NIdyNTOydTJHo7J1M7PWAmVzwlbE8kelJKaFgmd1BPWSR6WVolZlohUSR6IVEhW0ZzIVshXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6VktbWyZ3UCRWUU9ZJHpZWiVmWnokenp7TFF7IVAkeiFQIVEsbyFRIV4keiFeIV8layFfIWA2VSFgOydTJHo7J1M7PWAmVzwlbE8kelZMVlgmd1BPWUxRWVpMclp6TFF6e05feyFeTFEhXiFfISBzIV87J1NMUTsnUzs9YCEhaTwlbE9MUVZMd1Qmd1BPek1XentNans7J1NNVzsnUzs9YE5YPCVsT01XVU1aVE96TVd6e01qezsnU01XOydTOz1gTlg8JWxPTVdVTW1WT3pNV3p7TWp7IVBNVyFQIVFOUyFROydTTVc7J1M7PWBOWDwlbE9NV1VOWE8hZVVVTltQOz1gPCVsTVdWTmRaJndQT1lMUVlaTHJaekxRentOX3shUExRIVAhUSEgViFRIV5MUSFeIV8hIHMhXzsnU0xROydTOz1gISFpPCVsT0xRViEgXlYhZVUmd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6ViEgdlpPWUxRWVpMclp6TFF6e05feyFhTFEhYSFiTVchYjsnU0xROydTOz1gISFpPCVsfkxRfk9MUX5+JWZWISFsUDs9YDwlbExRWiEhdm0md1AkfVlPWSR6WVolZlohTyR6IU8hUEZzIVAhUSR6IVEhWyEkcSFbIV4keiFeIV8layFfIWQkeiFkIWUhJm8hZSFnJHohZyFoR3khaCFxJHohcSFyIShhIXIheiR6IXoheyEpeyF7I1IkeiNSI1MhJX0jUyNVJHojVSNWISZvI1YjWCR6I1gjWUd5I1kjYyR6I2MjZCEoYSNkI2wkeiNsI20hKXsjbTsnUyR6OydTOz1gJlc8JWxPJHpaISR4YSZ3UCR9WU9ZJHpZWiVmWiFPJHohTyFQRnMhUCFRJHohUSFbISRxIVshXiR6IV4hXyVrIV8hZyR6IWchaEd5IWgjUiR6I1IjUyElfSNTI1gkeiNYI1lHeSNZOydTJHo7J1M7PWAmVzwlbE8kelohJlNYJndQT1kkellaJWZaIVEkeiFRIVshJHEhWyFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpaISZ0WSZ3UE9ZJHpZWiVmWiFRJHohUSFSISdkIVIhUyEnZCFTIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelohJ2tbJndQJH1ZT1kkellaJWZaIVEkeiFRIVIhJ2QhUiFTISdkIVMhXiR6IV4hXyVrIV8jUiR6I1IjUyEmbyNTOydTJHo7J1M7PWAmVzwlbE8kelohKGZYJndQT1kkellaJWZaIVEkeiFRIVkhKVIhWSFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpaISlZWiZ3UCR9WU9ZJHpZWiVmWiFRJHohUSFZISlSIVkhXiR6IV4hXyVrIV8jUiR6I1IjUyEoYSNTOydTJHo7J1M7PWAmVzwlbE8kelohKlFdJndQT1kkellaJWZaIVEkeiFRIVshKnkhWyFeJHohXiFfJWshXyFjJHohYyFpISp5IWkjVCR6I1QjWiEqeSNaOydTJHo7J1M7PWAmVzwlbE8kelohK1FfJndQJH1ZT1kkellaJWZaIVEkeiFRIVshKnkhWyFeJHohXiFfJWshXyFjJHohYyFpISp5IWkjUiR6I1IjUyEpeyNTI1QkeiNUI1ohKnkjWjsnUyR6OydTOz1gJlc8JWxPJHpSISxXWCFxUSZ3UE9ZJHpZWiVmWiFbJHohWyFdISxzIV0hXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6UiEselYjc1Emd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6ViEtaFYhbVUmd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6UiEuU1skUlFPWSR6WVolZlohXiR6IV4hXyEueCFfIWAhL2khYCFhKmMhYSFiITBdIWI7J1MkejsnUzs9YCZXPCVsfiR6fk8ken5+JWZSIS9QVyRTUSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXyFgNlUhYDsnUyR6OydTOz1gJlc8JWxPJHpSIS9wWCRSUSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXyFgJHohYCFhKmMhYTsnUyR6OydTOz1gJlc8JWxPJHpQITBiUiFpUCFfIWAhMGshciFzITBwI2QjZSEwcFAhMHBPIWlQUCEwc1EhaiFrITB5I1sjXSEweVAhMHxRIXIhcyEwayNkI2UhMGtWITFaWCN1USZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXyFgKXIhYCFhITF2IWE7J1MkejsnUzs9YCZXPCVsTyR6ViExfVYjT1Umd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6UiEya1gkUlEmd1BPWSR6WVolZlohXiR6IV4hXyVrIV8hYCEzVyFgIWEhLnghYTsnUyR6OydTOz1gJlc8JWxPJHpSITNfViRSUSZ3UE9ZJHpZWiVmWiFeJHohXiFfJWshXzsnUyR6OydTOz1gJlc8JWxPJHpWITN7WyF2USZ3UE9ZJHpZWiVmWn0ken0hTyE0cSFPIV4keiFeIV8layFfIWAkeiFgIWEhNlAhYSFiITZtIWI7J1MkejsnUzs9YCZXPCVsTyR6ViE0dlgmd1BPWSR6WVolZlohXiR6IV4hXyVrIV8hYCR6IWAhYSE1YyFhOydTJHo7J1M7PWAmVzwlbE8kelYhNWpWI2FVJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelYhNldWIWdVJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhNnRXI3pRJndQT1kkellaJWZaIV4keiFeIV8layFfIWA2VSFgOydTJHo7J1M7PWAmVzwlbE8kelIhN2VWJF1RJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kel8hOFJhJndQIXNeT1kkellaJWZaIVEkeiFRIVshN3ohWyFeJHohXiFfJWshXyFjJHohYyF9ITd6IX0jUiR6I1IjUyE3eiNTI1QkeiNUI28hN3ojbyRnJHokZyZqITd6Jmo7J1MkejsnUzs9YCZXPCVsTyR6XyE5X2Umd1Ahc15PWSR6WVolZlpyJHpycyE6cHN3JHp3eDhWeCFRJHohUSFbITd6IVshXiR6IV4hXyVrIV8hYyR6IWMhfSE3eiF9I1IkeiNSI1MhN3ojUyNUJHojVCNvITd6I28kZyR6JGcmaiE3eiZqOydTJHo7J1M7PWAmVzwlbE8kelIhOndWJndQJ2dRT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelYhO2VWI1dVJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelYhPFJWI3BVJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhPG9WI1hRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhPV1XJE9RJndQT1kkellaJWZaIV4keiFeIV8layFfIWA2VSFgOydTJHo7J1M7PWAmVzwlbE8kelIhPXpaJndQT1khPXVZWiE+bVohXiE9dSFeIV8hQHUhXyNPIT11I08jUCFBcSNQI1MhPXUjUyNUIUJ7I1Q7J1MhPXU7J1M7PWAhQ2k8JWxPIT11UiE+clYmd1BPI08hP1gjTyNQIT9xI1AjUyE/WCNTI1QhQGojVDsnUyE/WDsnUzs9YCFAbzwlbE8hP1hRIT9bVk8jTyE/WCNPI1AhP3EjUCNTIT9YI1MjVCFAaiNUOydTIT9YOydTOz1gIUBvPCVsTyE/WFEhP3RSTzsnUyE/WDsnUzs9YCE/fTs9YE8hP1hRIUBRV08jTyE/WCNPI1AhP3EjUCNTIT9YI1MjVCFAaiNUOydTIT9YOydTOz1gIUBvOz1gPCVsIT9YPCVsTyE/WFEhQG9PJHtRUSFAclA7PWA8JWwhP1hSIUB4XU9ZIT11WVohPm1aIWEhPXUhYSFiIT9YIWIjTyE9dSNPI1AhQXEjUCNTIT11I1MjVCFCeyNUOydTIT11OydTOz1gIUNpPCVsfiE9dX5PIT11fn4lZlIhQXZXJndQT1khPXVZWiE+bVohXiE9dSFeIV8hQHUhXzsnUyE9dTsnUzs9YCFCYDs9YDwlbCE/WDwlbE8hPXVSIUJjV08jTyE/WCNPI1AhP3EjUCNTIT9YI1MjVCFAaiNUOydTIT9YOydTOz1gIUBvOz1gPCVsIT11PCVsTyE/WFIhQ1NWJHtRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhQ2xQOz1gPCVsIT11ViFDdlYhb1Umd1BPWSR6WVolZlohXiR6IV4hXyVrIV87J1MkejsnUzs9YCZXPCVsTyR6ViFEZlkjfVEjbFMmd1BPWSR6WVolZlohXiR6IV4hXyVrIV8hYDZVIWAjcCR6I3AjcSFFVSNxOydTJHo7J1M7PWAmVzwlbE8kelIhRV1WI3tRJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhRXlWIW5RJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelIhRmdWJF5RJndQT1kkellaJWZaIV4keiFeIV8layFfOydTJHo7J1M7PWAmVzwlbE8kelwiLFxuICB0b2tlbml6ZXJzOiBbZXhwcmVzc2lvbiwgaW50ZXJwb2xhdGVkLCBzZW1pY29sb24sIDAsIDEsIDIsIDMsIGVvZlRva2VuXSxcbiAgdG9wUnVsZXM6IHtcIlRlbXBsYXRlXCI6WzAsNzJdLFwiUHJvZ3JhbVwiOlsxLDIzMl19LFxuICBkeW5hbWljUHJlY2VkZW5jZXM6IHtcIjI4NFwiOjF9LFxuICBzcGVjaWFsaXplZDogW3t0ZXJtOiA4MSwgZ2V0OiAodmFsdWUsIHN0YWNrKSA9PiAoa2V5d29yZHModmFsdWUpIDw8IDEpLCBleHRlcm5hbDoga2V5d29yZHN9LHt0ZXJtOiA4MSwgZ2V0OiAodmFsdWUpID0+IHNwZWNfTmFtZVt2YWx1ZV0gfHwgLTF9XSxcbiAgdG9rZW5QcmVjOiAyOTM1NFxufSk7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuIiwgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci9waHAnO1xuaW1wb3J0IHsgcGFyc2VNaXhlZCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmctaHRtbCc7XG5pbXBvcnQgeyBMUkxhbmd1YWdlLCBpbmRlbnROb2RlUHJvcCwgY29udGludWVkSW5kZW50LCBkZWxpbWl0ZWRJbmRlbnQsIGZvbGROb2RlUHJvcCwgZm9sZEluc2lkZSwgTGFuZ3VhZ2VTdXBwb3J0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgYmFzZWQgb24gdGhlIFtMZXplciBQSFBcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9waHApLCBleHRlbmRlZCB3aXRoXG5oaWdobGlnaHRpbmcgYW5kIGluZGVudGF0aW9uIGluZm9ybWF0aW9uLlxuKi9cbmNvbnN0IHBocExhbmd1YWdlID0gLypAX19QVVJFX18qL0xSTGFuZ3VhZ2UuZGVmaW5lKHtcbiAgICBuYW1lOiBcInBocFwiLFxuICAgIHBhcnNlcjogLypAX19QVVJFX18qL3BhcnNlci5jb25maWd1cmUoe1xuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgLypAX19QVVJFX18qL2luZGVudE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgSWZTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGVsc2VcXGJ8ZWxzZWlmXFxifGVuZGlmXFxiKS8gfSksXG4gICAgICAgICAgICAgICAgVHJ5U3RhdGVtZW50OiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KHsgZXhjZXB0OiAvXlxccyooe3xjYXRjaFxcYnxmaW5hbGx5XFxiKS8gfSksXG4gICAgICAgICAgICAgICAgU3dpdGNoQm9keTogY29udGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IGNvbnRleHQudGV4dEFmdGVyLCBjbG9zZWQgPSAvXlxccypcXH0vLnRlc3QoYWZ0ZXIpLCBpc0Nhc2UgPSAvXlxccyooY2FzZXxkZWZhdWx0KVxcYi8udGVzdChhZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmJhc2VJbmRlbnQgKyAoY2xvc2VkID8gMCA6IGlzQ2FzZSA/IDEgOiAyKSAqIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIENvbG9uQmxvY2s6IGN4ID0+IGN4LmJhc2VJbmRlbnQgKyBjeC51bml0LFxuICAgICAgICAgICAgICAgIFwiQmxvY2sgRW51bUJvZHkgRGVjbGFyYXRpb25MaXN0XCI6IC8qQF9fUFVSRV9fKi9kZWxpbWl0ZWRJbmRlbnQoeyBjbG9zaW5nOiBcIn1cIiB9KSxcbiAgICAgICAgICAgICAgICBBcnJvd0Z1bmN0aW9uOiBjeCA9PiBjeC5iYXNlSW5kZW50ICsgY3gudW5pdCxcbiAgICAgICAgICAgICAgICBcIlN0cmluZyBCbG9ja0NvbW1lbnRcIjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICBTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eKHt8ZW5kKGZvcnxmb3JlYWNofHN3aXRjaHx3aGlsZSlcXGIpLyB9KVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovZm9sZE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgXCJCbG9jayBFbnVtQm9keSBEZWNsYXJhdGlvbkxpc3QgU3dpdGNoQm9keSBBcnJheUV4cHJlc3Npb24gVmFsdWVMaXN0XCI6IGZvbGRJbnNpZGUsXG4gICAgICAgICAgICAgICAgQ29sb25CbG9jayh0cmVlKSB7IHJldHVybiB7IGZyb206IHRyZWUuZnJvbSArIDEsIHRvOiB0cmVlLnRvIH07IH0sXG4gICAgICAgICAgICAgICAgQmxvY2tDb21tZW50KHRyZWUpIHsgcmV0dXJuIHsgZnJvbTogdHJlZS5mcm9tICsgMiwgdG86IHRyZWUudG8gLSAyIH07IH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcIi8qXCIsIGNsb3NlOiBcIiovXCIgfSwgbGluZTogXCIvL1wiIH0sXG4gICAgICAgIGluZGVudE9uSW5wdXQ6IC9eXFxzKig/OmNhc2UgfGRlZmF1bHQ6fGVuZCg/OmlmfGZvcig/OmVhY2gpP3xzd2l0Y2h8d2hpbGUpfGVsc2UoPzppZik/fFxce3xcXH0pJC8sXG4gICAgICAgIHdvcmRDaGFyczogXCIkXCIsXG4gICAgICAgIGNsb3NlQnJhY2tldHM6IHsgc3RyaW5nUHJlZml4ZXM6IFtcImJcIiwgXCJCXCJdIH1cbiAgICB9XG59KTtcbi8qKlxuUEhQIGxhbmd1YWdlIHN1cHBvcnQuXG4qL1xuZnVuY3Rpb24gcGhwKGNvbmZpZyA9IHt9KSB7XG4gICAgbGV0IHN1cHBvcnQgPSBbXSwgYmFzZTtcbiAgICBpZiAoY29uZmlnLmJhc2VMYW5ndWFnZSA9PT0gbnVsbCkgO1xuICAgIGVsc2UgaWYgKGNvbmZpZy5iYXNlTGFuZ3VhZ2UpIHtcbiAgICAgICAgYmFzZSA9IGNvbmZpZy5iYXNlTGFuZ3VhZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgaHRtbFN1cHBvcnQgPSBodG1sKHsgbWF0Y2hDbG9zaW5nVGFnczogZmFsc2UgfSk7XG4gICAgICAgIHN1cHBvcnQucHVzaChodG1sU3VwcG9ydC5zdXBwb3J0KTtcbiAgICAgICAgYmFzZSA9IGh0bWxTdXBwb3J0Lmxhbmd1YWdlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExhbmd1YWdlU3VwcG9ydChwaHBMYW5ndWFnZS5jb25maWd1cmUoe1xuICAgICAgICB3cmFwOiBiYXNlICYmIHBhcnNlTWl4ZWQobm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUudHlwZS5pc1RvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyc2VyOiBiYXNlLnBhcnNlcixcbiAgICAgICAgICAgICAgICBvdmVybGF5OiBub2RlID0+IG5vZGUubmFtZSA9PSBcIlRleHRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIHRvcDogY29uZmlnLnBsYWluID8gXCJQcm9ncmFtXCIgOiBcIlRlbXBsYXRlXCJcbiAgICB9KSwgc3VwcG9ydCk7XG59XG5cbmV4cG9ydCB7IHBocCwgcGhwTGFuZ3VhZ2UgfTtcbiIsICJpbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBIaWdobGlnaHRTdHlsZSwgc3ludGF4SGlnaGxpZ2h0aW5nIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBVc2luZyBodHRwczovL2dpdGh1Yi5jb20vb25lLWRhcmsvdnNjb2RlLW9uZS1kYXJrLXRoZW1lLyBhcyByZWZlcmVuY2UgZm9yIHRoZSBjb2xvcnNcbmNvbnN0IGNoYWxreSA9IFwiI2U1YzA3YlwiLCBjb3JhbCA9IFwiI2UwNmM3NVwiLCBjeWFuID0gXCIjNTZiNmMyXCIsIGludmFsaWQgPSBcIiNmZmZmZmZcIiwgaXZvcnkgPSBcIiNhYmIyYmZcIiwgc3RvbmUgPSBcIiM3ZDg3OTlcIiwgLy8gQnJpZ2h0ZW5lZCBjb21wYXJlZCB0byBvcmlnaW5hbCB0byBpbmNyZWFzZSBjb250cmFzdFxubWFsaWJ1ID0gXCIjNjFhZmVmXCIsIHNhZ2UgPSBcIiM5OGMzNzlcIiwgd2hpc2tleSA9IFwiI2QxOWE2NlwiLCB2aW9sZXQgPSBcIiNjNjc4ZGRcIiwgZGFya0JhY2tncm91bmQgPSBcIiMyMTI1MmJcIiwgaGlnaGxpZ2h0QmFja2dyb3VuZCA9IFwiIzJjMzEzYVwiLCBiYWNrZ3JvdW5kID0gXCIjMjgyYzM0XCIsIHRvb2x0aXBCYWNrZ3JvdW5kID0gXCIjMzUzYTQyXCIsIHNlbGVjdGlvbiA9IFwiIzNFNDQ1MVwiLCBjdXJzb3IgPSBcIiM1MjhiZmZcIjtcbi8qKlxuVGhlIGNvbG9ycyB1c2VkIGluIHRoZSB0aGVtZSwgYXMgQ1NTIGNvbG9yIHN0cmluZ3MuXG4qL1xuY29uc3QgY29sb3IgPSB7XG4gICAgY2hhbGt5LFxuICAgIGNvcmFsLFxuICAgIGN5YW4sXG4gICAgaW52YWxpZCxcbiAgICBpdm9yeSxcbiAgICBzdG9uZSxcbiAgICBtYWxpYnUsXG4gICAgc2FnZSxcbiAgICB3aGlza2V5LFxuICAgIHZpb2xldCxcbiAgICBkYXJrQmFja2dyb3VuZCxcbiAgICBoaWdobGlnaHRCYWNrZ3JvdW5kLFxuICAgIGJhY2tncm91bmQsXG4gICAgdG9vbHRpcEJhY2tncm91bmQsXG4gICAgc2VsZWN0aW9uLFxuICAgIGN1cnNvclxufTtcbi8qKlxuVGhlIGVkaXRvciB0aGVtZSBzdHlsZXMgZm9yIE9uZSBEYXJrLlxuKi9cbmNvbnN0IG9uZURhcmtUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LnRoZW1lKHtcbiAgICBcIiZcIjoge1xuICAgICAgICBjb2xvcjogaXZvcnksXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZFxuICAgIH0sXG4gICAgXCIuY20tY29udGVudFwiOiB7XG4gICAgICAgIGNhcmV0Q29sb3I6IGN1cnNvclxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yLCAuY20tZHJvcEN1cnNvclwiOiB7IGJvcmRlckxlZnRDb2xvcjogY3Vyc29yIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tc2VsZWN0aW9uTGF5ZXIgLmNtLXNlbGVjdGlvbkJhY2tncm91bmQsIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kLCAuY20tY29udGVudCA6OnNlbGVjdGlvblwiOiB7IGJhY2tncm91bmRDb2xvcjogc2VsZWN0aW9uIH0sXG4gICAgXCIuY20tcGFuZWxzXCI6IHsgYmFja2dyb3VuZENvbG9yOiBkYXJrQmFja2dyb3VuZCwgY29sb3I6IGl2b3J5IH0sXG4gICAgXCIuY20tcGFuZWxzLmNtLXBhbmVscy10b3BcIjogeyBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkIGJsYWNrXCIgfSxcbiAgICBcIi5jbS1wYW5lbHMuY20tcGFuZWxzLWJvdHRvbVwiOiB7IGJvcmRlclRvcDogXCIycHggc29saWQgYmxhY2tcIiB9LFxuICAgIFwiLmNtLXNlYXJjaE1hdGNoXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM3MmExZmY1OVwiLFxuICAgICAgICBvdXRsaW5lOiBcIjFweCBzb2xpZCAjNDU3ZGZmXCJcbiAgICB9LFxuICAgIFwiLmNtLXNlYXJjaE1hdGNoLmNtLXNlYXJjaE1hdGNoLXNlbGVjdGVkXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiM2MTk5ZmYyZlwiXG4gICAgfSxcbiAgICBcIi5jbS1hY3RpdmVMaW5lXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiM2Njk5ZmYwYlwiIH0sXG4gICAgXCIuY20tc2VsZWN0aW9uTWF0Y2hcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2FhZmU2NjFhXCIgfSxcbiAgICBcIiYuY20tZm9jdXNlZCAuY20tbWF0Y2hpbmdCcmFja2V0LCAmLmNtLWZvY3VzZWQgLmNtLW5vbm1hdGNoaW5nQnJhY2tldFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjYmFkMGY4NDdcIlxuICAgIH0sXG4gICAgXCIuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZCxcbiAgICAgICAgY29sb3I6IHN0b25lLFxuICAgICAgICBib3JkZXI6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBoaWdobGlnaHRCYWNrZ3JvdW5kXG4gICAgfSxcbiAgICBcIi5jbS1mb2xkUGxhY2Vob2xkZXJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgY29sb3I6IFwiI2RkZFwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b29sdGlwQmFja2dyb3VuZFxuICAgIH0sXG4gICAgXCIuY20tdG9vbHRpcCAuY20tdG9vbHRpcC1hcnJvdzpiZWZvcmVcIjoge1xuICAgICAgICBib3JkZXJUb3BDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgfSxcbiAgICBcIi5jbS10b29sdGlwIC5jbS10b29sdGlwLWFycm93OmFmdGVyXCI6IHtcbiAgICAgICAgYm9yZGVyVG9wQ29sb3I6IHRvb2x0aXBCYWNrZ3JvdW5kLFxuICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogdG9vbHRpcEJhY2tncm91bmRcbiAgICB9LFxuICAgIFwiLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlXCI6IHtcbiAgICAgICAgXCImID4gdWwgPiBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhpZ2hsaWdodEJhY2tncm91bmQsXG4gICAgICAgICAgICBjb2xvcjogaXZvcnlcbiAgICAgICAgfVxuICAgIH1cbn0sIHsgZGFyazogdHJ1ZSB9KTtcbi8qKlxuVGhlIGhpZ2hsaWdodGluZyBzdHlsZSBmb3IgY29kZSBpbiB0aGUgT25lIERhcmsgdGhlbWUuXG4qL1xuY29uc3Qgb25lRGFya0hpZ2hsaWdodFN0eWxlID0gLypAX19QVVJFX18qL0hpZ2hsaWdodFN0eWxlLmRlZmluZShbXG4gICAgeyB0YWc6IHRhZ3Mua2V5d29yZCxcbiAgICAgICAgY29sb3I6IHZpb2xldCB9LFxuICAgIHsgdGFnOiBbdGFncy5uYW1lLCB0YWdzLmRlbGV0ZWQsIHRhZ3MuY2hhcmFjdGVyLCB0YWdzLnByb3BlcnR5TmFtZSwgdGFncy5tYWNyb05hbWVdLFxuICAgICAgICBjb2xvcjogY29yYWwgfSxcbiAgICB7IHRhZzogWy8qQF9fUFVSRV9fKi90YWdzLmZ1bmN0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgdGFncy5sYWJlbE5hbWVdLFxuICAgICAgICBjb2xvcjogbWFsaWJ1IH0sXG4gICAgeyB0YWc6IFt0YWdzLmNvbG9yLCAvKkBfX1BVUkVfXyovdGFncy5jb25zdGFudCh0YWdzLm5hbWUpLCAvKkBfX1BVUkVfXyovdGFncy5zdGFuZGFyZCh0YWdzLm5hbWUpXSxcbiAgICAgICAgY29sb3I6IHdoaXNrZXkgfSxcbiAgICB7IHRhZzogWy8qQF9fUFVSRV9fKi90YWdzLmRlZmluaXRpb24odGFncy5uYW1lKSwgdGFncy5zZXBhcmF0b3JdLFxuICAgICAgICBjb2xvcjogaXZvcnkgfSxcbiAgICB7IHRhZzogW3RhZ3MudHlwZU5hbWUsIHRhZ3MuY2xhc3NOYW1lLCB0YWdzLm51bWJlciwgdGFncy5jaGFuZ2VkLCB0YWdzLmFubm90YXRpb24sIHRhZ3MubW9kaWZpZXIsIHRhZ3Muc2VsZiwgdGFncy5uYW1lc3BhY2VdLFxuICAgICAgICBjb2xvcjogY2hhbGt5IH0sXG4gICAgeyB0YWc6IFt0YWdzLm9wZXJhdG9yLCB0YWdzLm9wZXJhdG9yS2V5d29yZCwgdGFncy51cmwsIHRhZ3MuZXNjYXBlLCB0YWdzLnJlZ2V4cCwgdGFncy5saW5rLCAvKkBfX1BVUkVfXyovdGFncy5zcGVjaWFsKHRhZ3Muc3RyaW5nKV0sXG4gICAgICAgIGNvbG9yOiBjeWFuIH0sXG4gICAgeyB0YWc6IFt0YWdzLm1ldGEsIHRhZ3MuY29tbWVudF0sXG4gICAgICAgIGNvbG9yOiBzdG9uZSB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5lbXBoYXNpcyxcbiAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaWtldGhyb3VnaCxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwibGluZS10aHJvdWdoXCIgfSxcbiAgICB7IHRhZzogdGFncy5saW5rLFxuICAgICAgICBjb2xvcjogc3RvbmUsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaGVhZGluZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgIGNvbG9yOiBjb3JhbCB9LFxuICAgIHsgdGFnOiBbdGFncy5hdG9tLCB0YWdzLmJvb2wsIC8qQF9fUFVSRV9fKi90YWdzLnNwZWNpYWwodGFncy52YXJpYWJsZU5hbWUpXSxcbiAgICAgICAgY29sb3I6IHdoaXNrZXkgfSxcbiAgICB7IHRhZzogW3RhZ3MucHJvY2Vzc2luZ0luc3RydWN0aW9uLCB0YWdzLnN0cmluZywgdGFncy5pbnNlcnRlZF0sXG4gICAgICAgIGNvbG9yOiBzYWdlIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW52YWxpZCxcbiAgICAgICAgY29sb3I6IGludmFsaWQgfSxcbl0pO1xuLyoqXG5FeHRlbnNpb24gdG8gZW5hYmxlIHRoZSBPbmUgRGFyayB0aGVtZSAoYm90aCB0aGUgZWRpdG9yIHRoZW1lIGFuZFxudGhlIGhpZ2hsaWdodCBzdHlsZSkuXG4qL1xuY29uc3Qgb25lRGFyayA9IFtvbmVEYXJrVGhlbWUsIC8qQF9fUFVSRV9fKi9zeW50YXhIaWdobGlnaHRpbmcob25lRGFya0hpZ2hsaWdodFN0eWxlKV07XG5cbmV4cG9ydCB7IGNvbG9yLCBvbmVEYXJrLCBvbmVEYXJrSGlnaGxpZ2h0U3R5bGUsIG9uZURhcmtUaGVtZSB9O1xuIiwgImltcG9ydCB7IEVkaXRvclZpZXcsIGJhc2ljU2V0dXAgfSBmcm9tICdjb2RlbWlycm9yLXY2J1xuaW1wb3J0IHsgaW5kZW50V2l0aFRhYiB9IGZyb20gJ0Bjb2RlbWlycm9yL2NvbW1hbmRzJ1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZy1jc3MnXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZy1odG1sJ1xuaW1wb3J0IHsgamF2YXNjcmlwdCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmctamF2YXNjcmlwdCdcbmltcG9ydCB7IGpzb24gfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWpzb24nXG5pbXBvcnQgeyBwaHAgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLXBocCdcbmltcG9ydCB7IEVkaXRvclN0YXRlLCBDb21wYXJ0bWVudCB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJ1xuaW1wb3J0IHsga2V5bWFwIH0gZnJvbSAnQGNvZGVtaXJyb3IvdmlldydcbmltcG9ydCB7IG9uZURhcmsgfSBmcm9tICdAY29kZW1pcnJvci90aGVtZS1vbmUtZGFyaydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29kZUVkaXRvckZvcm1Db21wb25lbnQoe1xuICAgIGlzRGlzYWJsZWQsXG4gICAgbGFuZ3VhZ2UsXG4gICAgc3RhdGUsXG59KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWRpdG9yOiBudWxsLFxuICAgICAgICB0aGVtZUNvbXBhcnRtZW50OiBuZXcgQ29tcGFydG1lbnQoKSxcbiAgICAgICAgc3RhdGUsXG5cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlRXh0ZW5zaW9uID0gdGhpcy5nZXRMYW5ndWFnZUV4dGVuc2lvbigpXG5cbiAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gbmV3IEVkaXRvclZpZXcoe1xuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy4kcmVmcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRvYzogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzaWNTZXR1cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleW1hcC5vZihbaW5kZW50V2l0aFRhYl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdG9yU3RhdGUucmVhZE9ubHkub2YoaXNEaXNhYmxlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBFZGl0b3JWaWV3LmVkaXRhYmxlLm9mKCFpc0Rpc2FibGVkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRvclZpZXcudXBkYXRlTGlzdGVuZXIub2YoKHZpZXdVcGRhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZXdVcGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gdmlld1VwZGF0ZS5zdGF0ZS5kb2MudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4obGFuZ3VhZ2VFeHRlbnNpb24gPyBbbGFuZ3VhZ2VFeHRlbnNpb25dIDogW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVtZUNvbXBhcnRtZW50Lm9mKHRoaXMuZ2V0VGhlbWVFeHRlbnNpb25zKCkpLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy4kd2F0Y2goJ3N0YXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvci5zdGF0ZS5kb2MudG9TdHJpbmcoKSA9PT0gdGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogdGhpcy5lZGl0b3Iuc3RhdGUuZG9jLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy50aGVtZU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogdGhpcy50aGVtZUNvbXBhcnRtZW50LnJlY29uZmlndXJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUaGVtZUV4dGVuc2lvbnMoKSxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy50aGVtZU9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNEYXJrTW9kZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrJylcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRUaGVtZUV4dGVuc2lvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0RhcmtNb2RlKCkgPyBbb25lRGFya10gOiBbXVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldExhbmd1YWdlRXh0ZW5zaW9uKCkge1xuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3NzLFxuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgamF2YXNjcmlwdCxcbiAgICAgICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgICAgIHBocCxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbbGFuZ3VhZ2VdPy4oKSB8fCBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRoZW1lT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRoZW1lT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgdGhpcy50aGVtZU9ic2VydmVyID0gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5kZXN0cm95KClcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvciA9IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBRUEsSUFBSSxZQUFZLENBQUM7QUFBakIsSUFBb0IsVUFBVSxDQUFDO0FBQUEsQ0FFN0IsTUFBTTtBQU9OLE1BQUksVUFBVSxpekNBQWl6QyxNQUFNLEdBQUcsRUFBRSxJQUFJLE9BQUssSUFBSSxTQUFTLEdBQUcsRUFBRSxJQUFJLENBQUM7QUFDMTJDLFdBQVMsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUTtBQUN6QyxLQUFDLElBQUksSUFBSSxVQUFVLFdBQVcsS0FBSyxJQUFJLElBQUksUUFBUSxDQUFDLENBQUM7QUFDekQsR0FBRztBQUVJLFNBQVMsZ0JBQWdCLE1BQU07QUFDcEMsTUFBSSxPQUFPLElBQUssUUFB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SUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUNQO0FBRU8sSUFBSSxRQUFRO0FBQUEsRUFDakIsSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osSUFBSTtBQUFBLEVBQ0osS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUNQO0FBRUEsSUFBSSxNQUFNLE9BQU8sYUFBYSxlQUFlLE1BQU0sS0FBSyxVQUFVLFFBQVE7QUFDMUUsSUFBSSxLQUFLLE9BQU8sYUFBYSxlQUFlLGdEQUFnRCxL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LElBQUksTUFBSyxJQUFJLFNBQVEsSUFBSSxPQUFNLElBQUksVUFBUyxJQUFJLElBQUcsSUFBSSxLQUFJLElBQUksT0FBTSxJQUFJLFNBQVEsSUFBSSxNQUFLLElBQUksTUFBSyxJQUFJLE9BQU0sSUFBSSxNQUFLLElBQUksTUFBSyxJQUFJLFFBQU8sSUFBSSxPQUFNLEtBQUssS0FBSSxLQUFLLFFBQU8sS0FBSyxPQUFNLEtBQUssT0FBTSxLQUFLLE9BQU0sS0FBSyxRQUFPLEtBQUssU0FBUSxLQUFLLFdBQVUsS0FBSyxVQUFTLEtBQUssWUFBVyxLQUFLLFdBQVUsS0FBSyxRQUFPLEtBQUssT0FBTSxLQUFLLFFBQU8sS0FBSyxPQUFNLEtBQUssU0FBUSxLQUFLLElBQUcsS0FBSyxVQUFTLEtBQUssWUFBVyxLQUFLLE1BQUssS0FBSyxLQUFJLEtBQUssS0FBSSxLQUFLLE9BQU0sS0FBSyxXQUFVLEtBQUssTUFBSyxLQUFLLFdBQVUsS0FBSyxRQUFPLEtBQUssU0FBUSxLQUFLLFFBQU8sS0FBSyxLQUFJLEtBQUssSUFBRyxLQUFLLE9BQU0sS0FBSyxNQUFLLEtBQUssSUFBRyxLQUFLLElBQUcsS0FBSyxNQUFLLEtBQUssUUFBTyxLQUFLLE1BQUssS0FBSyxLQUFJLEtBQUssT0FBTSxLQUFLLFNBQVEsS0FBSyxRQUFPLEtBQUssT0FBTSxLQUFLLE9BQU0sS0FBSyxVQUFTLEtBQUssVUFBUyxJQUFHO0FBQ2x1QixJQUFNLFlBQVksRUFBQyxXQUFVLE1BQUssT0FBTSxLQUFLLEtBQUksS0FBSyxLQUFJLEtBQUssU0FBUSxLQUFLLFFBQU8sS0FBSyxTQUFRLEtBQUssV0FBVSxLQUFLLFFBQU8sS0FBSyxVQUFTLEtBQUssVUFBUyxLQUFLLFVBQVMsS0FBSyxVQUFTLEtBQUssS0FBSSxJQUFHO0FBQy9MLElBQU0sZ0JBQWdCLEVBQUMsV0FBVSxNQUFLLEtBQUksSUFBRztBQUM3QyxJQUFNSSxVQUFTLFNBQVMsWUFBWTtBQUFBLEVBQ2xDLFNBQVM7QUFBQSxFQUNULFFBQVE7QUFBQSxFQUNSLFdBQVc7QUFBQSxF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QUFBQSxZQUMxQixRQUFRLEtBQUs7QUFBQSxVQUNqQjtBQUFBLFFBQ0osQ0FBQztBQUFBLE1BQ0wsQ0FBQztBQUVELFdBQUssZ0JBQWdCLElBQUksaUJBQWlCLE1BQU07QUFDNUMsYUFBSyxPQUFPLFNBQVM7QUFBQSxVQUNqQixTQUFTLEtBQUssaUJBQWlCO0FBQUEsWUFDM0IsS0FBSyxtQkFBbUI7QUFBQSxVQUM1QjtBQUFBLFFBQ0osQ0FBQztBQUFBLE1BQ0wsQ0FBQztBQUVELFdBQUssY0FBYyxRQUFRLFNBQVMsaUJBQWlCO0FBQUEsUUFDakQsWUFBWTtBQUFBLFFBQ1osaUJBQWlCLENBQUMsT0FBTztBQUFBLE1BQzdCLENBQUM7QUFBQSxJQUNMO0FBQUEsSUFFQSxhQUFhO0FBQ1QsYUFBTyxTQUFTLGdCQUFnQixVQUFVLFNBQVMsTUFBTTtBQUFBLElBQzdEO0FBQUEsSUFFQSxxQkFBcUI7QUFDakIsYUFBTyxLQUFLLFdBQVcsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDO0FBQUEsSUFDNUM7QUFBQSxJQUVBLHVCQUF1QjtBQUNuQixVQUFJLENBQUNBLFdBQVU7QUFDWCxlQUFPO0FBQUEsTUFDWDtBQUVBLFlBQU0sYUFBYTtBQUFBLFFBQ2Y7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUVBLGFBQU8sV0FBV0EsU0FBUSxJQUFJLEtBQUs7QUFBQSxJQUN2QztBQUFBLElBRUEsVUFBVTtBQUNOLFVBQUksS0FBSyxlQUFlO0FBQ3BCLGFBQUssY0FBYyxXQUFXO0FBQzlCLGFBQUssZ0JBQWdCO0FBQUEsTUFDekI7QUFFQSxVQUFJLEtBQUssUUFBUTtBQUNiLGFBQUssT0FBTyxRQUFRO0FBQ3BCLGFBQUssU0FBUztBQUFBLE1BQ2xCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjsiLAogICJuYW1lcyI6IFsiZnJvbSIsICJmcm9tIiwgInN0cmluZyIsICJhZGQiLCAidG9wIiwgIm51bWJlciIsICJmaW5kQ2x1c3RlckJyZWFrIiwgInN1cnJvZ2F0ZUxvdyIsICJzdXJyb2dhdGVIaWdoIiwgImNvZGVQb2ludEF0IiwgImNvZGVQb2ludFNpemUiLCAiTWFwTW9kZSIsICJqc29uIiwgImRvYyIsICJwcm9jZXNzIiwgImluc2VydCIsICJpIiwgInZhbHVlcyIsICJzZWxlY3Rpb24iLCAiY29tcGFyZSIsICJjb25maWciLCAiX2EiLCAiaWQiLCAicHJlYyIsICJjb250ZW50IiwgImJhc2UiLCAic2Nyb2xsSW50b1ZpZXciLCAiQ2hhckNhdGVnb3J5IiwgInJlcXVpcmUiLCAicGhyYXNlIiwgIm5hbWUiLCAiZGVmYXVsdHMiLCAiY3VyIiwgImN1cnNvciIsICJsYXllciIsICJhcnJheSIsICJzcGVjIiwgImlkIiwgImRvYyIsICJuYW1lIiwgIm5hbWUiLCAic2VsZWN0aW9uIiwgImRvYyIsICJjdXIiLCAidG9wIiwgInJlY3QiLCAiZnJvbSIsICJuYW1lIiwgImluc2VydCIsICJpZSIsICJmbGF0dGVuIiwgInZpZXciLCAicG9zIiwgIkJsb2NrVHlwZSIsICJfYSIsICJkaXN0IiwgImRlY29yYXRpb25zIiwgIkRpcmVjdGlvbiIsICJyZXBsYWNlIiwgInR5cGUiLCAiZmluZENsdXN0ZXJCcmVhayIsICJ2YWx1ZXMiLCAidCIsICJpZCIsICJhZGQiLCAiY3Vyc29yIiwgImNvbnRlbnQiLCAiY1ZpZXciLCAiaSIsICJtYXJrcyIsICJpbnNpZGUiLCAic2Nyb2xsSW50b1ZpZXciLCAiYmFzZSIsICJoYW5kbGVycyIsICJvYnNlcnZlcnMiLCAiZXZlbnQiLCAiUXVlcnlUeXBlIiwgIkRlY29yYXRpb25Db21wYXJhdG9yIiwgImdhcCIsICJ0byIsICJhcnJheSIsICJrZXkiLCAiY29uZmlnIiwgImNhY2hlIiwgInNoaWZ0IiwgIm1ldGEiLCAiY29tbWFuZCIsICJjb2RlUG9pbnRBdCIsICJjb2RlUG9pbnRTaXplIiwgImNtZCIsICJwaWVjZXMiLCAibGF5ZXIiLCAiY3Vyc29yIiwgInBvcyIsICJfYSIsICJkb2MiLCAiZnJvbSIsICJjb25maWciLCAibWF0Y2giLCAiYWRkIiwgInRvIiwgImRlY28iLCAibSIsICJjb2RlUG9pbnRBdCIsICJldmVudCIsICJjdXIiLCAiX2EiLCAidCIsICJpIiwgInZhbHVlcyIsICJfYSIsICJjb25maWciLCAidCIsICJzcGFjZSIsICJ0b3AiLCAibmFtZSIsICJmcm9tIiwgInRvcCIsICJjb25maWciLCAidmFsdWVzIiwgImd1dHRlciIsICJjdXIiLCAiZ3V0dGVycyIsICJhc0FycmF5IiwgImN1cnNvciIsICJtYXJrZXIiLCAiYWRkIiwgImV2ZW50IiwgIm51bWJlciIsICJtYXJrcyIsICJSYW5nZSIsICJmcm9tIiwgImNvbmZpZyIsICJtYXRjaCIsICJwYXJzZXIiLCAibmFtZSIsICJpZCIsICJ0eXBlcyIsICJhZGQiLCAiSXRlck1vZGUiLCAiY3Vyc29yIiwgIl9hIiwgImN1ciIsICJjYWNoZSIsICJjaGlsZHJlbiIsICJwb3NpdGlvbnMiLCAibm9kZSIsICJidWZmZXIiLCAiZGF0YSIsICJjb250ZXh0SGFzaCIsICJsZW5ndGgiLCAibG9va0FoZWFkIiwgImJhc2UiLCAicGFpciIsICJub2RlU2l6ZSIsICJub2RlU3RhcnQiLCAidG8iLCAic3RyaW5nIiwgImRvbmUiLCAiaW5uZXIiLCAiciIsICJwb3MiLCAibmFtZSIsICJiYXNlIiwgInQiLCAic2FtZUFycmF5IiwgImNvbmZpZyIsICJhcnJheSIsICJ0YWdzIiwgImZyb20iLCAiY3Vyc29yIiwgImZyb20iLCAiaGFzQ2hpbGQiLCAicmFuZ2VGcm9tIiwgInJhbmdlVG8iLCAibmFtZSIsICJ2YWx1ZXMiLCAicGFyc2VyIiwgIm5hbWUiLCAidG9wIiwgImRhdGEiLCAiYmFzZSIsICJmcm9tIiwgImRvYyIsICJmcm9tIiwgInBhcnNlciIsICJfYSIsICJsYW5ndWFnZSIsICJ2YWx1ZXMiLCAiZnJvbSIsICJhZGQiLCAiY3VyIiwgImJhc2UiLCAic3BhY2UiLCAiY2xvc2luZyIsICJkb2MiLCAiaGVhZCIsICJsaW5lIiwgImZyb20iLCAiX2EiLCAidG8iLCAidmFsdWVzIiwgImNvbmZpZyIsICJiYXNlVGhlbWUkMSIsICJfYSIsICJmcm9tIiwgInRvIiwgImJhc2VUaGVtZSIsICJtYXRjaCIsICJkZWNvcmF0aW9ucyIsICJjb25maWciLCAiY3VyIiwgImN1cnNvciIsICJicmFja2V0IiwgInBvcyIsICJuYW1lIiwgIm5hbWUiLCAidCIsICJjb25maWciLCAiZnJvbSIsICJjb21tZW50IiwgImVtcHR5IiwgImlzQWRqYWNlbnQiLCAiY29uZmlnIiwgImpzb24iLCAiY29tbWFuZCIsICJzZWxlY3Rpb24iLCAiX2EiLCAianNvbiIsICJzZWxlY3Rpb24iLCAibm9uZSIsICJpc0FkamFjZW50IiwgInQiLCAiZnJvbSIsICJjb25maWciLCAiYnJhY2tldCIsICJtYXRjaCIsICJzZWxlY3Rpb24iLCAic3BhY2UiLCAic2VsZWN0aW9uIiwgImZyb20iLCAic2VsZWN0aW9uIiwgImN1ciIsICJmaW5kQ2x1c3RlckJyZWFrIiwgImZpbmRDbHVzdGVyQnJlYWsiLCAibmV4dENoYXIiLCAiZnJvbSIsICJmaW5kQ2x1c3RlckJyZWFrIiwgInNlbGVjdGlvbiIsICJkaXN0IiwgImZyb20iLCAiaW5zZXJ0IiwgImNoYW5nZXMiLCAiY3VyIiwgInNwYWNlIiwgImZyb20iLCAiY29kZVBvaW50QXQiLCAiY29kZVBvaW50U2l6ZSIsICJtYXRjaCIsICJkb2MiLCAiX2EiLCAicGVyY2VudCIsICJsaW5lIiwgInNlbGVjdGlvbiIsICJiYXNlVGhlbWUkMSIsICJjdXJzb3IiLCAid29yZCIsICJjb25maWciLCAiZnJvbSIsICJRdWVyeVR5cGUiLCAiZG9jIiwgImN1cnNvciIsICJhZGQiLCAiZmluZENsdXN0ZXJCcmVhayIsICJtYXRjaCIsICJmcm9tIiwgInRvIiwgInNlbGVjdGlvbiIsICJjb25maWciLCAiY3VyIiwgIm1hdGNoIiwgIl9hIiwgIm5hbWUiLCAiY29udGVudCIsICJwaHJhc2UiLCAiYmFzZVRoZW1lIiwgInR5cGVzIiwgImxpc3QiLCAibWF0Y2giLCAibWF0Y2giLCAic2NvcmUiLCAiX2EiLCAiZnJvbSIsICJjb2RlUG9pbnRBdCIsICJjb2RlUG9pbnRTaXplIiwgImxpc3QiLCAic3BhY2UiLCAiY29uZmlnIiwgImNvbnRlbnQiLCAib2ZmIiwgImFwcGx5Q29tcGxldGlvbiIsICJvcHRpb25zIiwgImlkIiwgInNjcm9sbEludG9WaWV3IiwgIm5hbWUiLCAiY29tcGFyZSIsICJjdXIiLCAibm9uZSIsICJub0F0dHJzIiwgImJhc2VUaGVtZSIsICJwb3MiLCAibSIsICJzbmlwcGV0IiwgIm1hdGNoIiwgImRlZmF1bHRzIiwgImZyb20iLCAiaW5wdXRIYW5kbGVyIiwgImluc2VydCIsICJjb2RlUG9pbnRTaXplIiwgImNvZGVQb2ludEF0IiwgImJyYWNrZXQiLCAiZG9jIiwgImNvbmZpZyIsICJjb250ZW50IiwgImJhc2VUaGVtZSIsICJmcm9tIiwgIm5leHQiLCAiaSIsICJ0b2dnbGVQYW5lbCIsICJmcm9tIiwgInRvZ2dsZVBhbmVsIiwgIm5hbWUiLCAiX2EiLCAia2V5cyIsICJybSIsICJzZWxlY3Rpb24iLCAiY29udGVudCIsICJiYXNlVGhlbWUiLCAiYmFzZVRoZW1lIiwgInNjb3JlIiwgIl9hIiwgInBhcnNlciIsICJiYXNlIiwgImN1ciIsICJ0b3AiLCAiaSIsICJnb3RvIiwgImFycmF5IiwgImZyb20iLCAiaWQiLCAiY3Vyc29yIiwgIkZyYWdtZW50Q3Vyc29yIiwgIm1hdGNoIiwgImluc2VydCIsICJuYW1lIiwgImNvbmZpZyIsICJ0IiwgInByZWMiLCAidmFsdWVzIiwgImluc2lkZSIsICJuYW1lIiwgInRhZ3MiLCAiaWRlbnRpZmllciIsICJkb2MiLCAiX2EiLCAiY2FsbGVlIiwgImN1ciIsICJjdXJzb3IiLCAibm9kZSIsICJuYW1lIiwgImRhc2giLCAicGFyc2VyIiwgImdldEF0dHJzIiwgInRhZ3MiLCAiYXJyYXkiLCAiaWQiLCAiYXR0cnMiLCAiZnJvbSIsICJuZXdsaW5lIiwgInNwYWNlIiwgInNsYXNoIiwgInF1ZXN0aW9uIiwgImJyYWNrZXRMIiwgInBhcnNlciIsICJpZCIsICJkb2MiLCAidG9wIiwgIm5vZGUiLCAibmFtZSIsICJwYXJzZXIiLCAibmFtZSIsICJjb25maWciLCAiZG9jIiwgImFuZHJvaWQiLCAiZnJvbSIsICJiYXNlIiwgIl9hIiwgImVtcHR5IiwgImluc2VydCIsICJlbGVtZW50TmFtZSIsICJkb2MiLCAibmFtZSIsICJpZGVudGlmaWVyIiwgImZyb20iLCAiX2EiLCAiYmFzZSIsICJjb25maWciLCAibmFtZSIsICJwYXJzZXIiLCAiY3VyIiwgImF1dG9DbG9zZVRhZ3MiLCAic2VsZkNsb3NlcnMiLCAiZnJvbSIsICJiYXNlIiwgIl9hIiwgImVsZW1lbnROYW1lIiwgInRvIiwgImluc2VydCIsICJwYXJzZXIiLCAicGFyc2VyIiwgImtleXdvcmRzIiwgIm5hbWUiLCAiaXNTcGFjZSIsICJtYXRjaCIsICJzZW1pY29sb24iLCAiY29udGVudCIsICJwYXJzZXIiLCAicGFyc2VyIiwgImNvbmZpZyIsICJiYXNlIiwgIm5vZGUiLCAibGFuZ3VhZ2UiXQp9Cg==
