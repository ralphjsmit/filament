// packages/forms/resources/js/components/tags-input.js
function tagsInputFormComponent({ state, splitKeys }) {
  return {
    newTag: "",
    state,
    createTag() {
      this.newTag = this.newTag.trim();
      if (this.newTag === "") {
        return;
      }
      if (this.state.includes(this.newTag)) {
        this.newTag = "";
        return;
      }
      this.state.push(this.newTag);
      this.newTag = "";
    },
    deleteTag(tagToDelete) {
      this.state = this.state.filter((tag) => tag !== tagToDelete);
    },
    reorderTags(event) {
      const reordered = this.state.splice(event.oldIndex, 1)[0];
      this.state.splice(event.newIndex, 0, reordered);
      this.state = [...this.state];
    },
    input: {
      ["x-on:blur"]: "createTag()",
      ["x-model"]: "newTag",
      ["x-on:keydown"](event) {
        if (["Enter", ...splitKeys].includes(event.key)) {
          event.preventDefault();
          event.stopPropagation();
          this.createTag();
        }
      },
      ["x-on:paste"]() {
        this.$nextTick(() => {
          if (splitKeys.length === 0) {
            this.createTag();
            return;
          }
          const pattern = splitKeys.map(
            (key) => key.replace(/[/\-\\^$*+?.()|[\]{}]/g, "\\$&")
          ).join("|");
          this.newTag.split(new RegExp(pattern, "g")).forEach((tag) => {
            this.newTag = tag;
            this.createTag();
          });
        });
      }
    }
  };
}
export {
  tagsInputFormComponent as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvdGFncy1pbnB1dC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFnc0lucHV0Rm9ybUNvbXBvbmVudCh7IHN0YXRlLCBzcGxpdEtleXMgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5ld1RhZzogJycsXG5cbiAgICAgICAgc3RhdGUsXG5cbiAgICAgICAgY3JlYXRlVGFnKCkge1xuICAgICAgICAgICAgdGhpcy5uZXdUYWcgPSB0aGlzLm5ld1RhZy50cmltKClcblxuICAgICAgICAgICAgaWYgKHRoaXMubmV3VGFnID09PSAnJykge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmNsdWRlcyh0aGlzLm5ld1RhZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5ld1RhZyA9ICcnXG5cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wdXNoKHRoaXMubmV3VGFnKVxuXG4gICAgICAgICAgICB0aGlzLm5ld1RhZyA9ICcnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVsZXRlVGFnKHRhZ1RvRGVsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZS5maWx0ZXIoKHRhZykgPT4gdGFnICE9PSB0YWdUb0RlbGV0ZSlcbiAgICAgICAgfSxcblxuICAgICAgICByZW9yZGVyVGFncyhldmVudCkge1xuICAgICAgICAgICAgY29uc3QgcmVvcmRlcmVkID0gdGhpcy5zdGF0ZS5zcGxpY2UoZXZlbnQub2xkSW5kZXgsIDEpWzBdXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNwbGljZShldmVudC5uZXdJbmRleCwgMCwgcmVvcmRlcmVkKVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gWy4uLnRoaXMuc3RhdGVdXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgIFsneC1vbjpibHVyJ106ICdjcmVhdGVUYWcoKScsXG4gICAgICAgICAgICBbJ3gtbW9kZWwnXTogJ25ld1RhZycsXG4gICAgICAgICAgICBbJ3gtb246a2V5ZG93biddKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKFsnRW50ZXInLCAuLi5zcGxpdEtleXNdLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGFnKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgWyd4LW9uOnBhc3RlJ10oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUYWcoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBzcGxpdEtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGtleSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkucmVwbGFjZSgvWy9cXC1cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignfCcpXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdUYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdChuZXcgUmVnRXhwKHBhdHRlcm4sICdnJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdUYWcgPSB0YWdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGFnKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUFlLFNBQVIsdUJBQXdDLEVBQUUsT0FBTyxVQUFVLEdBQUc7QUFDakUsU0FBTztBQUFBLElBQ0gsUUFBUTtBQUFBLElBRVI7QUFBQSxJQUVBLFlBQVk7QUFDUixXQUFLLFNBQVMsS0FBSyxPQUFPLEtBQUs7QUFFL0IsVUFBSSxLQUFLLFdBQVcsSUFBSTtBQUNwQjtBQUFBLE1BQ0o7QUFFQSxVQUFJLEtBQUssTUFBTSxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQ2xDLGFBQUssU0FBUztBQUVkO0FBQUEsTUFDSjtBQUVBLFdBQUssTUFBTSxLQUFLLEtBQUssTUFBTTtBQUUzQixXQUFLLFNBQVM7QUFBQSxJQUNsQjtBQUFBLElBRUEsVUFBVSxhQUFhO0FBQ25CLFdBQUssUUFBUSxLQUFLLE1BQU0sT0FBTyxDQUFDLFFBQVEsUUFBUSxXQUFXO0FBQUEsSUFDL0Q7QUFBQSxJQUVBLFlBQVksT0FBTztBQUNmLFlBQU0sWUFBWSxLQUFLLE1BQU0sT0FBTyxNQUFNLFVBQVUsQ0FBQyxFQUFFLENBQUM7QUFDeEQsV0FBSyxNQUFNLE9BQU8sTUFBTSxVQUFVLEdBQUcsU0FBUztBQUU5QyxXQUFLLFFBQVEsQ0FBQyxHQUFHLEtBQUssS0FBSztBQUFBLElBQy9CO0FBQUEsSUFFQSxPQUFPO0FBQUEsTUFDSCxDQUFDLFdBQVcsR0FBRztBQUFBLE1BQ2YsQ0FBQyxTQUFTLEdBQUc7QUFBQSxNQUNiLENBQUMsY0FBYyxFQUFFLE9BQU87QUFDcEIsWUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLEVBQUUsU0FBUyxNQUFNLEdBQUcsR0FBRztBQUM3QyxnQkFBTSxlQUFlO0FBQ3JCLGdCQUFNLGdCQUFnQjtBQUV0QixlQUFLLFVBQVU7QUFBQSxRQUNuQjtBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsWUFBWSxJQUFJO0FBQ2IsYUFBSyxVQUFVLE1BQU07QUFDakIsY0FBSSxVQUFVLFdBQVcsR0FBRztBQUN4QixpQkFBSyxVQUFVO0FBRWY7QUFBQSxVQUNKO0FBRUEsZ0JBQU0sVUFBVSxVQUNYO0FBQUEsWUFBSSxDQUFDLFFBQ0YsSUFBSSxRQUFRLDBCQUEwQixNQUFNO0FBQUEsVUFDaEQsRUFDQyxLQUFLLEdBQUc7QUFFYixlQUFLLE9BQ0EsTUFBTSxJQUFJLE9BQU8sU0FBUyxHQUFHLENBQUMsRUFDOUIsUUFBUSxDQUFDLFFBQVE7QUFDZCxpQkFBSyxTQUFTO0FBRWQsaUJBQUssVUFBVTtBQUFBLFVBQ25CLENBQUM7QUFBQSxRQUNULENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjsiLAogICJuYW1lcyI6IFtdCn0K
